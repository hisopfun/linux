!function(a){function t(t){for(var e,i,n=t[0],o=t[1],r=0,s=[];r<n.length;r++)i=n[r],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&s.push(l[i][0]),l[i]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(a[e]=o[e]);for(h&&h(t);s.length;)s.shift()()}var i={},l={0:0};function u(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,u),e.l=!0,e.exports}u.e=function(o){var t=[],i=l[o];if(0!==i)if(i)t.push(i[2]);else{var e=new Promise(function(t,e){i=l[o]=[t,e]});t.push(i[2]=e);var n,r=document.createElement("script");r.charset="utf-8",r.timeout=120,u.nc&&r.setAttribute("nonce",u.nc),r.src=function(t){return u.p+""+({}[t]||t)+"."+{1:"c88ba2bf2d78d39c055c",2:"137d000fc791a4ef4a75",3:"b4397764ef12ac828a4a",4:"6cc331bb357287851d4b",5:"5a2f2b572c09515a9da2",6:"7da9b4ed74be89aba0fc",7:"9d68e378b68cbdbc8c51",8:"b102c7e29e217ff299c4",9:"01a4c524b85fd07c2163",10:"d453a8c3201106e72b9c",11:"e0112741136345a89362",12:"983cd6cec9a67b4a7af2",13:"9d34196cd949970a0fe7",14:"6d68a52aeb58ace7bd80",15:"8fd506e2aed9302cf844",16:"2a679c24c852168a0717",17:"e77fe1587c2b8dc92cd7",18:"4837a11669fee1d260d3",19:"c50fb34b6a85dd160d49",20:"7a9a310784f00b420342",21:"d3ba5962918c9f89435e",22:"80e77cafaa811672fe97",23:"3106890a60a0faa0558e",24:"7ef881715a4fc80712ed",25:"1edf0b5fa6360e05c18e",26:"4f08c8e0079736fafd28",27:"d236879268108443abbf",28:"6ad045c42dd22d30d5f9",29:"a4e5aed3f48258351163",30:"62f76a6baa991e84efc9",31:"443f39c7c92229e2730f",32:"816832ce1de767010d08",33:"b540d87ad3e62dc93718",34:"d8103dd170904a70730c",35:"d52047950fc29f65caee",36:"3d5d6e706d89c6ea840c",37:"8bdb17eb0db5e06cac7c",38:"c2668589143726befb15",39:"94f30944ac7988d5a053",40:"1c4eeef05278a0514eb2",41:"831cbfe10076316663b7",42:"6b6a5a650ecd5b926a4f",43:"a73d9270cb3535295fb4",44:"586dfe48ce2747f597d6",45:"83e0f939a1eb61231735",46:"18d38ae72e67af33a31c",47:"d2820eee6e95494939ad",48:"5a67e7a995522756f712",49:"0655496813156500e581",50:"e3a9a2f72e905b4bd674",51:"7130a87da023307c3329",52:"f65b022c9315cc3866a3"}[t]+".js"}(o);var s=new Error;n=function(t){r.onerror=r.onload=null,clearTimeout(a);var e=l[o];if(0!==e){if(e){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;s.message="Loading chunk "+o+" failed.\n("+i+": "+n+")",s.name="ChunkLoadError",s.type=i,s.request=n,e[1](s)}l[o]=void 0}};var a=setTimeout(function(){n({type:"timeout",target:r})},12e4);r.onerror=r.onload=n,document.head.appendChild(r)}return Promise.all(t)},u.m=a,u.c=i,u.d=function(t,e,i){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(u.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(i,n,function(t){return e[t]}.bind(null,n));return i},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="dist/",u.oe=function(t){throw console.error(t),t};var e=window.webpackJsonp=window.webpackJsonp||[],n=e.push.bind(e);e.push=t,e=e.slice();for(var o=0;o<e.length;o++)t(e[o]);var h=n;u(u.s=246)}([function(t,e,i){"use strict";function n(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return function(t,n){return 0===n.length?t:t.replace(/\{(\d+)\}/g,function(t,e){var i=e[0];return void 0!==n[i]?n[i]:t})}(e,i)}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"m",function(){return f}),i.d(e,"I",function(){return g}),i.d(e,"E",function(){return m}),i.d(e,"A",function(){return C}),i.d(e,"f",function(){return S}),i.d(e,"g",function(){return x}),i.d(e,"G",function(){return k}),i.d(e,"H",function(){return O}),i.d(e,"P",function(){return E}),i.d(e,"h",function(){return I}),i.d(e,"k",function(){return N}),i.d(e,"i",function(){return T}),i.d(e,"L",function(){return M}),i.d(e,"N",function(){return A}),i.d(e,"j",function(){return G}),i.d(e,"s",function(){return Y}),i.d(e,"r",function(){return X}),i.d(e,"b",function(){return Q}),i.d(e,"x",function(){return tt}),i.d(e,"v",function(){return et}),i.d(e,"e",function(){return it}),i.d(e,"z",function(){return ot}),i.d(e,"u",function(){return rt}),i.d(e,"t",function(){return st}),i.d(e,"y",function(){return at}),i.d(e,"C",function(){return lt}),i.d(e,"q",function(){return ut}),i.d(e,"p",function(){return ht}),i.d(e,"o",function(){return pt}),i.d(e,"F",function(){return ft}),i.d(e,"D",function(){return gt}),i.d(e,"d",function(){return mt}),i.d(e,"c",function(){return vt}),i.d(e,"M",function(){return yt}),i.d(e,"K",function(){return _t}),i.d(e,"Q",function(){return Ct}),i.d(e,"l",function(){return St}),i.d(e,"a",function(){return kt}),i.d(e,"O",function(){return Ot}),i.d(e,"B",function(){return Et}),i.d(e,"J",function(){return Lt}),i.d(e,"w",function(){return Dt}),i.d(e,"n",function(){return It}),i.d(e,"R",function(){return Nt});var n,o=i(22),r=i(45),s=i(51),a=i(39),h=i(17),l=i(13),u=i(5),c=i(4),d=i(14),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function f(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t){for(;t;){if(t===document.body)return!0;t=t.parentNode}return!1}var v=(y.prototype._findClassName=function(t,e){var i=t.className;if(i){e=e.trim();var n=i.length,o=e.length;if(0!==o)if(n<o)this._lastStart=-1;else{if(i===e)return this._lastStart=0,void(this._lastEnd=n);for(var r,s=-1;0<=(s=i.indexOf(e,s+1));){if(r=s+o,(0===s||32===i.charCodeAt(s-1))&&32===i.charCodeAt(r))return this._lastStart=s,void(this._lastEnd=r+1);if(0<s&&32===i.charCodeAt(s-1)&&r===n)return this._lastStart=s-1,void(this._lastEnd=r);if(0===s&&r===n)return this._lastStart=0,void(this._lastEnd=r)}this._lastStart=-1}else this._lastStart=-1}else this._lastStart=-1},y.prototype.hasClass=function(t,e){return this._findClassName(t,e),-1!==this._lastStart},y.prototype.addClasses=function(e){for(var i=this,t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach(function(t){return t.split(" ").forEach(function(t){return i.addClass(e,t)})})},y.prototype.addClass=function(t,e){t.className?(this._findClassName(t,e),-1===this._lastStart&&(t.className=t.className+" "+e)):t.className=e},y.prototype.removeClass=function(t,e){this._findClassName(t,e),-1!==this._lastStart&&(t.className=t.className.substring(0,this._lastStart)+t.className.substring(this._lastEnd))},y.prototype.removeClasses=function(e){for(var i=this,t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach(function(t){return t.split(" ").forEach(function(t){return i.removeClass(e,t)})})},y.prototype.toggleClass=function(t,e,i){this._findClassName(t,e),-1===this._lastStart||void 0!==i&&i||this.removeClass(t,e),-1!==this._lastStart||void 0!==i&&!i||this.addClass(t,e)},new y);function y(){}var _=(b.prototype.hasClass=function(t,e){return Boolean(e)&&t.classList&&t.classList.contains(e)},b.prototype.addClasses=function(e){for(var i=this,t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach(function(t){return t.split(" ").forEach(function(t){return i.addClass(e,t)})})},b.prototype.addClass=function(t,e){e&&t.classList&&t.classList.add(e)},b.prototype.removeClass=function(t,e){e&&t.classList&&t.classList.remove(e)},b.prototype.removeClasses=function(e){for(var i=this,t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach(function(t){return t.split(" ").forEach(function(t){return i.removeClass(e,t)})})},b.prototype.toggleClass=function(t,e,i){t.classList&&t.classList.toggle(e,i)},new b);function b(){}var w=o.k?v:_,C=w.hasClass.bind(w),S=w.addClass.bind(w),x=w.addClasses.bind(w),k=w.removeClass.bind(w),O=w.removeClasses.bind(w),E=w.toggleClass.bind(w),L=(D.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._useCapture),this._node=null,this._handler=null)},D);function D(t,e,i,n){this._node=t,this._type=e,this._handler=i,this._useCapture=n||!1,this._node.addEventListener(this._type,this._handler,this._useCapture)}function I(t,e,i,n){return new L(t,e,i,n)}var N=function(t,e,i,n){var o=i;return"click"===e||"mousedown"===e?o=function(e){return function(t){return e(new a.b(t))}}(i):"keydown"!==e&&"keypress"!==e&&"keyup"!==e||(o=function(e){return function(t){return e(new s.a(t))}}(i)),I(t,e,o,n)};function T(i,n){return I(i,"mouseout",function(t){for(var e=t.relatedTarget||t.toElement;e&&e!==i;)e=e.parentNode;e!==i&&n(t)})}var M,A,P=null;var R,F,j,B,H=(W.prototype.dispose=function(){this._canceled=!0},W.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(t){Object(l.e)(t)}},W.sort=function(t,e){return e.priority-t.priority},W);function W(t,e){void 0===e&&(e=0),this._runner=t,this.priority=e,this._canceled=!1}function V(){for(F=R,B=!(j=!(R=[]));0<F.length;){F.sort(H.sort),F.shift().execute()}B=!1}F=null,B=j=!(R=[]),A=function(t,e){void 0===e&&(e=0);var i=new H(t,e);return R.push(i),j||(j=!0,function(t){(P=P||(self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||function(t){return setTimeout(function(){return t((new Date).getTime())},0)})).call(self,t)}(V)),i},M=function(t,e){if(B){var i=new H(t,e);return F.push(i),i}return A(t,e)};function z(t,e){return e}var U,q=(U=c.a,p(K,U),K);function K(t,e,i,n,o){void 0===n&&(n=z),void 0===o&&(o=16);function r(){l=(new Date).getTime(),i(a),a=null}var s=U.call(this)||this,a=null,l=0,u=s._register(new h.e);return s._register(I(t,e,function(t){a=n(a,t);var e=(new Date).getTime()-l;o<=e?(u.cancel(),r()):u.setIfNotSet(r,o-e)})),s}function G(t,e,i,n,o){return new q(t,e,i,n,o)}function Y(t){return document.defaultView.getComputedStyle(t,null)}var $=function(t,e){return parseFloat(e)||0};function Z(t,e,i){var n=Y(t),o="0";return n&&(o=n.getPropertyValue?n.getPropertyValue(e):n.getAttribute(i)),$(t,o)}function X(t){if(t!==document.body)return new Q(t.clientWidth,t.clientHeight);if(window.innerWidth&&window.innerHeight)return new Q(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Q(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Q(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}var J={getBorderLeftWidth:function(t){return Z(t,"border-left-width","borderLeftWidth")},getBorderRightWidth:function(t){return Z(t,"border-right-width","borderRightWidth")},getBorderTopWidth:function(t){return Z(t,"border-top-width","borderTopWidth")},getBorderBottomWidth:function(t){return Z(t,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(t){return Z(t,"padding-left","paddingLeft")},getPaddingRight:function(t){return Z(t,"padding-right","paddingRight")},getPaddingTop:function(t){return Z(t,"padding-top","paddingTop")},getPaddingBottom:function(t){return Z(t,"padding-bottom","paddingBottom")},getMarginLeft:function(t){return Z(t,"margin-left","marginLeft")},getMarginTop:function(t){return Z(t,"margin-top","marginTop")},getMarginRight:function(t){return Z(t,"margin-right","marginRight")},getMarginBottom:function(t){return Z(t,"margin-bottom","marginBottom")},__commaSentinel:!1},Q=function(t,e){this.width=t,this.height=e};function tt(t){for(var e=t.offsetParent,i=t.offsetTop,n=t.offsetLeft;null!==(t=t.parentNode)&&t!==document.body&&t!==document.documentElement;){i-=t.scrollTop;var o=Y(t);o&&(n-="rtl"!==o.direction?t.scrollLeft:-t.scrollLeft),t===e&&(n+=J.getBorderLeftWidth(t),i+=J.getBorderTopWidth(t),i+=t.offsetTop,n+=t.offsetLeft,e=t.offsetParent)}return{left:n,top:i}}function et(t){var e=t.getBoundingClientRect();return{left:e.left+it.scrollX,top:e.top+it.scrollY,width:e.width,height:e.height}}var it=(Object.defineProperty(nt.prototype,"scrollX",{get:function(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"scrollY",{get:function(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),new nt);function nt(){}function ot(t){var e=J.getMarginLeft(t)+J.getMarginRight(t);return t.offsetWidth+e}function rt(t){var e=J.getBorderLeftWidth(t)+J.getBorderRightWidth(t),i=J.getPaddingLeft(t)+J.getPaddingRight(t);return t.offsetWidth-e-i}function st(t){var e=J.getBorderTopWidth(t)+J.getBorderBottomWidth(t),i=J.getPaddingTop(t)+J.getPaddingBottom(t);return t.offsetHeight-e-i}function at(t){var e=J.getMarginTop(t)+J.getMarginBottom(t);return t.offsetHeight+e}function lt(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ut(t,e,i){for(;t;){if(C(t,e))return t;if(i)if("string"==typeof i){if(C(t,i))return null}else if(t===i)return null;t=t.parentNode}return null}function ht(t){void 0===t&&(t=document.getElementsByTagName("head")[0]);var e=document.createElement("style");return e.type="text/css",e.media="screen",t.appendChild(e),e}var ct=null;function dt(){return ct=ct||ht()}function pt(t,e,i){void 0===i&&(i=dt()),i&&e&&i.sheet.insertRule(t+"{"+e+"}",0)}function ft(t,e){if(void 0===e&&(e=dt()),e){for(var i=function(t){return t&&t.sheet&&t.sheet.rules?t.sheet.rules:t&&t.sheet&&t.sheet.cssRules?t.sheet.cssRules:[]}(e),n=[],o=0;o<i.length;o++){-1!==i[o].selectorText.indexOf(t)&&n.push(o)}for(o=n.length-1;0<=o;o--)e.sheet.deleteRule(n[o])}}function gt(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}var mt={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:o.n?"webkitAnimationStart":"animationstart",ANIMATION_END:o.n?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:o.n?"webkitAnimationIteration":"animationiteration"},vt={stop:function(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}};function yt(t){for(var e=[],i=0;t&&t.nodeType===t.ELEMENT_NODE;i++)e[i]=t.scrollTop,t=t.parentNode;return e}function _t(t,e){for(var i=0;t&&t.nodeType===t.ELEMENT_NODE;i++)t.scrollTop!==e[i]&&(t.scrollTop=e[i]),t=t.parentNode}var bt=(wt.prototype.dispose=function(){this.disposables=Object(c.d)(this.disposables),this._onDidFocus.dispose(),this._onDidBlur.dispose()},wt);function wt(t){var e=this;this._onDidFocus=new u.a,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new u.a,this.onDidBlur=this._onDidBlur.event,this.disposables=[];var i=lt(document.activeElement,t),n=!1;Object(r.a)(t,mt.FOCUS,!0)(function(){n=!1,i||(i=!0,e._onDidFocus.fire())},null,this.disposables),Object(r.a)(t,mt.BLUR,!0)(function(){i&&(n=!0,window.setTimeout(function(){n&&(i=n=!1,e._onDidBlur.fire())},0))},null,this.disposables)}function Ct(t){return new bt(t)}function St(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.forEach(function(t){return e.appendChild(t)}),t[t.length-1]}var xt=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;function kt(t,i){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var o=xt.exec(t);if(!o)throw new Error("Bad use of emmet");var r=document.createElement(o[1]||"div");return o[3]&&(r.id=o[3]),o[4]&&(r.className=o[4].replace(/\./g," ").trim()),i=i||{},Object.keys(i).forEach(function(t){var e=i[t];/^on\w+$/.test(t)?r[t]=e:"selected"===t?e&&r.setAttribute(t,"true"):r.setAttribute(t,e)}),e.filter(function(t){return!!t}).forEach(function(t){t instanceof Node?r.appendChild(t):r.appendChild(document.createTextNode(t))}),r}function Ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,n=t;i<n.length;i++){var o=n[i];o.style.display="",o.removeAttribute("aria-hidden")}}function Et(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,n=t;i<n.length;i++){var o=n[i];o.style.display="none",o.setAttribute("aria-hidden","true")}}function Lt(t){if(t&&t.hasAttribute("tabIndex")){if(document.activeElement===t){var e=function(t,e){for(;t;){if(t instanceof HTMLElement&&t.hasAttribute(e))return t;t=t.parentNode}return null}(t.parentElement,"tabIndex");e&&e.focus()}t.removeAttribute("tabindex")}}function Dt(t){return Array.prototype.slice.call(document.getElementsByTagName(t),0)}function It(t){var e=window.devicePixelRatio*t;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function Nt(t){if(d.e||o.i)window.open(t);else{var e=window.open();e&&(e.opener=null,e.location.href=t)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(9),o=(h.prototype.isEmpty=function(){return h.isEmpty(this)},h.isEmpty=function(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn},h.prototype.containsPosition=function(t){return h.containsPosition(this,t)},h.containsPosition=function(t,e){return!(e.lineNumber<t.startLineNumber||e.lineNumber>t.endLineNumber||e.lineNumber===t.startLineNumber&&e.column<t.startColumn||e.lineNumber===t.endLineNumber&&e.column>t.endColumn)},h.prototype.containsRange=function(t){return h.containsRange(this,t)},h.containsRange=function(t,e){return!(e.startLineNumber<t.startLineNumber||e.endLineNumber<t.startLineNumber||e.startLineNumber>t.endLineNumber||e.endLineNumber>t.endLineNumber||e.startLineNumber===t.startLineNumber&&e.startColumn<t.startColumn||e.endLineNumber===t.endLineNumber&&e.endColumn>t.endColumn)},h.prototype.plusRange=function(t){return h.plusRange(this,t)},h.plusRange=function(t,e){var i,n,o,r;return n=e.startLineNumber<t.startLineNumber?(i=e.startLineNumber,e.startColumn):e.startLineNumber===t.startLineNumber?(i=e.startLineNumber,Math.min(e.startColumn,t.startColumn)):(i=t.startLineNumber,t.startColumn),r=e.endLineNumber>t.endLineNumber?(o=e.endLineNumber,e.endColumn):e.endLineNumber===t.endLineNumber?(o=e.endLineNumber,Math.max(e.endColumn,t.endColumn)):(o=t.endLineNumber,t.endColumn),new h(i,n,o,r)},h.prototype.intersectRanges=function(t){return h.intersectRanges(this,t)},h.intersectRanges=function(t,e){var i=t.startLineNumber,n=t.startColumn,o=t.endLineNumber,r=t.endColumn,s=e.startLineNumber,a=e.startColumn,l=e.endLineNumber,u=e.endColumn;return i<s?(i=s,n=a):i===s&&(n=Math.max(n,a)),l<o?(o=l,r=u):o===l&&(r=Math.min(r,u)),o<i?null:i===o&&r<n?null:new h(i,n,o,r)},h.prototype.equalsRange=function(t){return h.equalsRange(this,t)},h.equalsRange=function(t,e){return!!t&&!!e&&t.startLineNumber===e.startLineNumber&&t.startColumn===e.startColumn&&t.endLineNumber===e.endLineNumber&&t.endColumn===e.endColumn},h.prototype.getEndPosition=function(){return new n.a(this.endLineNumber,this.endColumn)},h.prototype.getStartPosition=function(){return new n.a(this.startLineNumber,this.startColumn)},h.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},h.prototype.setEndPosition=function(t,e){return new h(this.startLineNumber,this.startColumn,t,e)},h.prototype.setStartPosition=function(t,e){return new h(t,e,this.endLineNumber,this.endColumn)},h.prototype.collapseToStart=function(){return h.collapseToStart(this)},h.collapseToStart=function(t){return new h(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},h.fromPositions=function(t,e){return void 0===e&&(e=t),new h(t.lineNumber,t.column,e.lineNumber,e.column)},h.lift=function(t){return t?new h(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},h.isIRange=function(t){return t&&"number"==typeof t.startLineNumber&&"number"==typeof t.startColumn&&"number"==typeof t.endLineNumber&&"number"==typeof t.endColumn},h.areIntersectingOrTouching=function(t,e){return!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn||e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)},h.areIntersecting=function(t,e){return!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn||e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)},h.compareRangesUsingStarts=function(t,e){if(t&&e){var i=0|t.startLineNumber,n=0|e.startLineNumber;if(i!=n)return i-n;var o=0|t.startColumn,r=0|e.startColumn;if(o!=r)return o-r;var s=0|t.endLineNumber,a=0|e.endLineNumber;return s!=a?s-a:(0|t.endColumn)-(0|e.endColumn)}return(t?1:0)-(e?1:0)},h.compareRangesUsingEnds=function(t,e){return t.endLineNumber===e.endLineNumber?t.endColumn===e.endColumn?t.startLineNumber===e.startLineNumber?t.startColumn-e.startColumn:t.startLineNumber-e.startLineNumber:t.endColumn-e.endColumn:t.endLineNumber-e.endLineNumber},h.spansMultipleLines=function(t){return t.endLineNumber>t.startLineNumber},h);function h(t,e,i,n){i<t||t===i&&n<e?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=t,this.endColumn=e):(this.startLineNumber=t,this.startColumn=e,this.endLineNumber=i,this.endColumn=n)}},function(t,e,i){"use strict";i.d(e,"a",function(){return _}),i.d(e,"c",function(){return C}),i.d(e,"b",function(){return E}),i.d(e,"j",function(){return D}),i.d(e,"e",function(){return I}),i.d(e,"g",function(){return N}),i.d(e,"f",function(){return T}),i.d(e,"i",function(){return M}),i.d(e,"h",function(){return A}),i.d(e,"d",function(){return k});var n,a=i(17),l=i(13),u=i(30),r=i(34),h=i(9),c=i(56),d=i(117),o=i(31),s=i(37),p=i(10),f=i(85),g=i(57),m=i(97),v=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=function(){return(y=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_=(b.prototype.register=function(){var i=this;if(this._menubarOpts&&o.d.appendMenuItem(this._menubarOpts.menuId,{group:this._menubarOpts.group,command:{id:this.id,title:this._menubarOpts.title},when:this._menubarOpts.when,order:this._menubarOpts.order}),this._kbOpts){var t=this._kbOpts.kbExpr;this.precondition&&(t=t?p.d.and(t,this.precondition):this.precondition),f.a.registerCommandAndKeybindingRule({id:this.id,handler:function(t,e){return i.runCommand(t,e)},weight:this._kbOpts.weight,when:t||null,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else s.a.registerCommand({id:this.id,handler:function(t,e){return i.runCommand(t,e)},description:this._description})},b);function b(t){this.id=t.id,this.precondition=t.precondition,this._kbOpts=t.kbOpts,this._menubarOpts=t.menubarOpts,this._description=t.description}var w,C=(v(S,w=_),S.bindToContribution=function(n){return v(t,i=S),t.prototype.runEditorCommand=function(t,e,i){n(e)&&this._callback(n(e))},t;function t(t){var e=i.call(this,t)||this;return e._callback=t.handler,e}var i},S.prototype.runCommand=function(t,e){var i=this,n=t.get(r.a),o=n.getFocusedCodeEditor()||n.getActiveCodeEditor();if(o)return o.invokeWithinContext(function(t){if(t.get(p.e).contextMatchesRules(i.precondition))return i.runEditorCommand(t,o,e)})},S);function S(){return null!==w&&w.apply(this,arguments)||this}var x,k,O,E=(v(L,x=C),L.prototype.register=function(){this.menuOpts&&o.d.appendMenuItem(o.b.EditorContext,{command:{id:this.id,title:this.label},when:p.d.and(this.precondition,this.menuOpts.when),group:this.menuOpts.group,order:this.menuOpts.order}),x.prototype.register.call(this)},L.prototype.runEditorCommand=function(t,e,i){return this.reportTelemetry(t,e),this.run(t,e,i||{})},L.prototype.reportTelemetry=function(t,e){t.get(m.a).publicLog("editorActionInvoked",y({name:this.label,id:this.id},e.getTelemetryData()))},L);function L(t){var e=x.call(this,t)||this;return e.label=t.label,e.alias=t.alias,e.menuOpts=t.menuOpts,e}function D(t,i){s.a.registerCommand(t,function(t,e){return i(t,e||{})})}function I(t,s){D(t,function(t,n){var e=n.resource,o=n.position;if(!(e instanceof u.a))throw Object(l.b)("resource");if(!h.a.isIPosition(o))throw Object(l.b)("position");var i=t.get(c.a).getModel(e);if(i){var r=h.a.lift(o);return s(i,r,n)}return t.get(d.a).createModelReference(e).then(function(i){return Object(a.f)(new Promise(function(t,e){try{t(s(i.object.textEditorModel,h.a.lift(o),n))}catch(t){e(t)}}),function(){i.dispose()})})})}function N(t){return P.INSTANCE.registerEditorCommand(t),t}function T(t){P.INSTANCE.registerEditorAction(new t)}function M(t){P.INSTANCE.registerEditorAction(t)}function A(t){P.INSTANCE.registerEditorContribution(t)}(O=k=k||{}).getEditorCommand=function(t){return P.INSTANCE.getEditorCommand(t)},O.getEditorActions=function(){return P.INSTANCE.getEditorActions()},O.getEditorContributions=function(){return P.INSTANCE.getEditorContributions()};var P=(R.prototype.registerEditorContribution=function(t){this.editorContributions.push(t)},R.prototype.registerEditorAction=function(t){t.register(),this.editorActions.push(t)},R.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},R.prototype.getEditorActions=function(){return this.editorActions.slice(0)},R.prototype.registerEditorCommand=function(t){t.register(),this.editorCommands[t.id]=t},R.prototype.getEditorCommand=function(t){return this.editorCommands[t]||null},R.INSTANCE=new R,R);function R(){this.editorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}g.a.add("editor.contributions",P.INSTANCE)},function(t,e,i){"use strict";function n(t){return"function"==typeof t.dispose&&0===t.dispose.length}function o(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return Array.isArray(t)?(t.forEach(function(t){return t&&t.dispose()}),[]):0===e.length?t?(t.dispose(),t):void 0:(o(t),o(e),[])}function r(t){return{dispose:function(){return o(t)}}}function s(t){return{dispose:function(){t()}}}i.d(e,"e",function(){return n}),i.d(e,"d",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"f",function(){return s}),i.d(e,"a",function(){return a}),i.d(e,"b",function(){return u});var a=(l.prototype.dispose=function(){this._toDispose=o(this._toDispose)},l.prototype._register=function(t){return this._toDispose.push(t),t},l.None=Object.freeze({dispose:function(){}}),l);function l(){this._toDispose=[]}var u=(h.prototype.dispose=function(){},h);function h(t){this.object=t}},function(t,e,i){"use strict";var s=i(13);var n,o,r,a=i(4),l=i(179);i.d(e,"b",function(){return n}),i.d(e,"a",function(){return u}),i.d(e,"d",function(){return c}),i.d(e,"k",function(){return p}),i.d(e,"f",function(){return f}),i.d(e,"h",function(){return g}),i.d(e,"c",function(){return m}),i.d(e,"j",function(){return y}),i.d(e,"i",function(){return _}),i.d(e,"g",function(){return C}),i.d(e,"e",function(){return S}),o=n=n||{},r={dispose:function(){}},o.None=function(){return r};var u=(Object.defineProperty(h.prototype,"event",{get:function(){var s=this;return this._event||(this._event=function(t,e,i){s._listeners||(s._listeners=new l.a);var n=s._listeners.isEmpty();n&&s._options&&s._options.onFirstListenerAdd&&s._options.onFirstListenerAdd(s);var o,r=s._listeners.push(e?[t,e]:t);return n&&s._options&&s._options.onFirstListenerDidAdd&&s._options.onFirstListenerDidAdd(s),s._options&&s._options.onListenerDidAdd&&s._options.onListenerDidAdd(s,t,e),o={dispose:function(){o.dispose=h._noop,s._disposed||(r(),s._options&&s._options.onLastListenerRemove&&(s._listeners&&!s._listeners.isEmpty()||s._options.onLastListenerRemove(s)))}},Array.isArray(i)&&i.push(o),o}),this._event},enumerable:!0,configurable:!0}),h.prototype.fire=function(t){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=[]);for(var e=this._listeners.iterator(),i=e.next();!i.done;i=e.next())this._deliveryQueue.push([i.value,t]);for(;0<this._deliveryQueue.length;){var n=this._deliveryQueue.shift(),o=n[0],r=n[1];try{"function"==typeof o?o.call(void 0,r):o[0].call(o[1],r)}catch(i){Object(s.e)(i)}}}},h.prototype.dispose=function(){this._listeners&&(this._listeners=null),this._deliveryQueue&&(this._deliveryQueue.length=0),this._disposed=!0},h._noop=function(){},h);function h(t){void 0===t&&(t=null),this._options=t,this._event=null,this._disposed=!1,this._deliveryQueue=null,this._listeners=null}var c=(Object.defineProperty(d.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),d.prototype.add=function(t){var e=this,i={event:t,listener:null};return this.events.push(i),this.hasListeners&&this.hook(i),Object(a.f)(function(t){var e,i=this,n=!1;return function(){return n?e:(n=!0,e=t.apply(i,arguments))}}(function(){e.hasListeners&&e.unhook(i);var t=e.events.indexOf(i);e.events.splice(t,1)}))},d.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0,this.events.forEach(function(t){return e.hook(t)})},d.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1,this.events.forEach(function(t){return e.unhook(t)})},d.prototype.hook=function(t){var e=this;t.listener=t.event(function(t){return e.emitter.fire(t)})},d.prototype.unhook=function(t){t.listener&&t.listener.dispose(),t.listener=null},d.prototype.dispose=function(){this.emitter.dispose()},d);function d(){var t=this;this.hasListeners=!1,this.events=[],this.emitter=new u({onFirstListenerAdd:function(){return t.onFirstListenerAdd()},onLastListenerRemove:function(){return t.onLastListenerRemove()}})}function p(r){return function(e,i,t){void 0===i&&(i=null);var n=!1,o=r(function(t){if(!n)return o?o.dispose():n=!0,e.call(i,t)},null,t);return n&&o.dispose(),o}}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,i,n){return void 0===i&&(i=null),Object(a.c)(t.map(function(t){return t(function(t){return e.call(i,t)},null,n)}))}}function g(t,e,i,n){var o;void 0===i&&(i=100),void 0===n&&(n=!1);var r=void 0,s=void 0,a=0,l=new u({onFirstListenerAdd:function(){o=t(function(t){a++,r=e(r,t),n&&!s&&l.fire(r),clearTimeout(s),s=setTimeout(function(){var t=r;s=r=void 0,(!n||1<a)&&l.fire(t),a=0},i)})},onLastListenerRemove:function(){o.dispose()}});return l.event}var m=(v.prototype.wrapEvent=function(e){var o=this;return function(i,n,t){return e(function(t){var e=o.buffers[o.buffers.length-1];e?e.push(function(){return i.call(n,t)}):i.call(n,t)},void 0,t)}},v.prototype.bufferEvents=function(t){var e=[];this.buffers.push(e);var i=t();return this.buffers.pop(),e.forEach(function(t){return t()}),i},v);function v(){this.buffers=[]}function y(n,o){return function(e,i,t){return void 0===i&&(i=null),n(function(t){return e.call(i,o(t))},null,t)}}function _(n,o){return function(e,i,t){return void 0===i&&(i=null),n(function(t){return o(t)&&e.call(i,t)},null,t)}}var b=(Object.defineProperty(w.prototype,"event",{get:function(){return this._event},enumerable:!0,configurable:!0}),w.prototype.map=function(t){return new w(y(this._event,t))},w.prototype.filter=function(t){return new w(_(this._event,t))},w.prototype.on=function(t,e,i){return this._event(t,e,i)},w);function w(t){this._event=t}function C(t){return new b(t)}var S=(Object.defineProperty(x.prototype,"input",{set:function(t){this.inputEvent=t,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=t(this.emitter.fire,this.emitter))},enumerable:!0,configurable:!0}),x.prototype.dispose=function(){this.inputEventListener.dispose(),this.emitter.dispose()},x);function x(){var t=this;this.listening=!1,this.inputEvent=n.None,this.inputEventListener=a.a.None,this.emitter=new u({onFirstListenerDidAdd:function(){t.listening=!0,t.inputEventListener=t.inputEvent(t.emitter.fire,t.emitter)},onLastListenerRemove:function(){t.listening=!1,t.inputEventListener.dispose()}}),this.event=this.emitter.event}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n,o,r=i(10);(o=n=n||{}).editorTextFocus=new r.f("editorTextFocus",!1),o.focus=new r.f("editorFocus",!1),o.textInputFocus=new r.f("textInputFocus",!1),o.readOnly=new r.f("editorReadonly",!1),o.writable=o.readOnly.toNegated(),o.hasNonEmptySelection=new r.f("editorHasSelection",!1),o.hasOnlyEmptySelection=o.hasNonEmptySelection.toNegated(),o.hasMultipleSelections=new r.f("editorHasMultipleSelections",!1),o.hasSingleSelection=o.hasMultipleSelections.toNegated(),o.tabMovesFocus=new r.f("editorTabMovesFocus",!1),o.tabDoesNotMoveFocus=o.tabMovesFocus.toNegated(),o.isInEmbeddedEditor=new r.f("isInEmbeddedEditor",!1),o.canUndo=new r.f("canUndo",!1),o.canRedo=new r.f("canRedo",!1),o.languageId=new r.f("editorLangId",""),o.hasCompletionItemProvider=new r.f("editorHasCompletionItemProvider",!1),o.hasCodeActionsProvider=new r.f("editorHasCodeActionsProvider",!1),o.hasCodeLensProvider=new r.f("editorHasCodeLensProvider",!1),o.hasDefinitionProvider=new r.f("editorHasDefinitionProvider",!1),o.hasImplementationProvider=new r.f("editorHasImplementationProvider",!1),o.hasTypeDefinitionProvider=new r.f("editorHasTypeDefinitionProvider",!1),o.hasHoverProvider=new r.f("editorHasHoverProvider",!1),o.hasDocumentHighlightProvider=new r.f("editorHasDocumentHighlightProvider",!1),o.hasDocumentSymbolProvider=new r.f("editorHasDocumentSymbolProvider",!1),o.hasReferenceProvider=new r.f("editorHasReferenceProvider",!1),o.hasRenameProvider=new r.f("editorHasRenameProvider",!1),o.hasDocumentFormattingProvider=new r.f("editorHasDocumentFormattingProvider",!1),o.hasDocumentSelectionFormattingProvider=new r.f("editorHasDocumentSelectionFormattingProvider",!1),o.hasSignatureHelpProvider=new r.f("editorHasSignatureHelpProvider",!1)},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"ub",function(){return u}),i.d(e,"I",function(){return h}),i.d(e,"G",function(){return c}),i.d(e,"H",function(){return d}),i.d(e,"e",function(){return p}),i.d(e,"b",function(){return f}),i.d(e,"Eb",function(){return g}),i.d(e,"Db",function(){return m}),i.d(e,"Fb",function(){return v}),i.d(e,"K",function(){return y}),i.d(e,"M",function(){return _}),i.d(e,"L",function(){return b}),i.d(e,"J",function(){return w}),i.d(e,"Q",function(){return C}),i.d(e,"S",function(){return S}),i.d(e,"R",function(){return x}),i.d(e,"T",function(){return k}),i.d(e,"V",function(){return O}),i.d(e,"U",function(){return E}),i.d(e,"N",function(){return L}),i.d(e,"P",function(){return D}),i.d(e,"O",function(){return I}),i.d(e,"Z",function(){return M}),i.d(e,"ab",function(){return A}),i.d(e,"W",function(){return P}),i.d(e,"X",function(){return R}),i.d(e,"fb",function(){return F}),i.d(e,"gb",function(){return j}),i.d(e,"eb",function(){return B}),i.d(e,"cb",function(){return H}),i.d(e,"db",function(){return W}),i.d(e,"Y",function(){return V}),i.d(e,"bb",function(){return z}),i.d(e,"sb",function(){return U}),i.d(e,"rb",function(){return q}),i.d(e,"c",function(){return K}),i.d(e,"d",function(){return G}),i.d(e,"vb",function(){return Y}),i.d(e,"xb",function(){return $}),i.d(e,"yb",function(){return Z}),i.d(e,"wb",function(){return X}),i.d(e,"tb",function(){return J}),i.d(e,"ib",function(){return Q}),i.d(e,"jb",function(){return tt}),i.d(e,"hb",function(){return et}),i.d(e,"mb",function(){return it}),i.d(e,"kb",function(){return nt}),i.d(e,"lb",function(){return ot}),i.d(e,"nb",function(){return rt}),i.d(e,"n",function(){return st}),i.d(e,"u",function(){return at}),i.d(e,"D",function(){return lt}),i.d(e,"E",function(){return ut}),i.d(e,"F",function(){return ht}),i.d(e,"z",function(){return ct}),i.d(e,"A",function(){return dt}),i.d(e,"y",function(){return pt}),i.d(e,"B",function(){return ft}),i.d(e,"C",function(){return gt}),i.d(e,"o",function(){return mt}),i.d(e,"q",function(){return vt}),i.d(e,"s",function(){return yt}),i.d(e,"p",function(){return _t}),i.d(e,"r",function(){return bt}),i.d(e,"t",function(){return wt}),i.d(e,"x",function(){return Ct}),i.d(e,"v",function(){return St}),i.d(e,"w",function(){return xt}),i.d(e,"m",function(){return kt}),i.d(e,"f",function(){return Ot}),i.d(e,"g",function(){return Et}),i.d(e,"i",function(){return Lt}),i.d(e,"k",function(){return Dt}),i.d(e,"j",function(){return It}),i.d(e,"l",function(){return Nt}),i.d(e,"h",function(){return Tt}),i.d(e,"Bb",function(){return Mt}),i.d(e,"Cb",function(){return At}),i.d(e,"zb",function(){return Pt}),i.d(e,"Ab",function(){return Rt}),i.d(e,"pb",function(){return jt}),i.d(e,"qb",function(){return Bt}),i.d(e,"ob",function(){return Wt});var n=i(57),a=i(12),o=i(0),r={ColorContribution:"base.contributions.colors"};function s(){this.colorSchema={type:"object",description:o.a("schema.colors","Colors used in the workbench."),properties:{},additionalProperties:!1},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}var l=new(s.prototype.registerColor=function(t,e,i,n,o){void 0===n&&(n=!1);var r={id:t,description:i,defaults:e,needsTransparency:n,deprecationMessage:o};this.colorsById[t]=r;var s={type:"string",description:i,format:"color-hex",default:"#ff0000"};return o&&(s.deprecationMessage=o),this.colorSchema.properties[t]=s,this.colorReferenceSchema.enum.push(t),this.colorReferenceSchema.enumDescriptions.push(i),t},s.prototype.resolveDefaultColor=function(t,e){var i=this.colorsById[t];return i&&i.defaults?zt(i.defaults[e.type],e):null},s.prototype.toString=function(){var e=this;return Object.keys(this.colorsById).sort(function(t,e){var i=-1===t.indexOf(".")?0:1,n=-1===e.indexOf(".")?0:1;return i!=n?i-n:t.localeCompare(e)}).map(function(t){return"- `"+t+"`: "+e.colorsById[t].description}).join("\n")},s);function u(t,e,i,n,o){return l.registerColor(t,e,i,n,o)}n.a.add(r.ColorContribution,l);var h=u("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},o.a("foreground","Overall foreground color. This color is only used if not overridden by a component.")),c=u("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},o.a("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),d=u("focusBorder",{dark:a.a.fromHex("#0E639C").transparent(.8),light:a.a.fromHex("#007ACC").transparent(.4),hc:"#F38518"},o.a("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),p=u("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},o.a("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),f=u("contrastActiveBorder",{light:null,dark:null,hc:d},o.a("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),g=u("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},o.a("textLinkForeground","Foreground color for links in text.")),m=u("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:a.a.black},o.a("textCodeBlockBackground","Background color for code blocks in text.")),v=u("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},o.a("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),y=u("input.background",{dark:"#3C3C3C",light:a.a.white,hc:a.a.black},o.a("inputBoxBackground","Input box background.")),_=u("input.foreground",{dark:h,light:h,hc:h},o.a("inputBoxForeground","Input box foreground.")),b=u("input.border",{dark:null,light:null,hc:p},o.a("inputBoxBorder","Input box border.")),w=u("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hc:f},o.a("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),C=u("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:a.a.black},o.a("inputValidationInfoBackground","Input validation background color for information severity.")),S=u("inputValidation.infoForeground",{dark:null,light:null,hc:null},o.a("inputValidationInfoForeground","Input validation foreground color for information severity.")),x=u("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:p},o.a("inputValidationInfoBorder","Input validation border color for information severity.")),k=u("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:a.a.black},o.a("inputValidationWarningBackground","Input validation background color for warning severity.")),O=u("inputValidation.warningForeground",{dark:null,light:null,hc:null},o.a("inputValidationWarningForeground","Input validation foreground color for warning severity.")),E=u("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:p},o.a("inputValidationWarningBorder","Input validation border color for warning severity.")),L=u("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:a.a.black},o.a("inputValidationErrorBackground","Input validation background color for error severity.")),D=u("inputValidation.errorForeground",{dark:null,light:null,hc:null},o.a("inputValidationErrorForeground","Input validation foreground color for error severity.")),I=u("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:p},o.a("inputValidationErrorBorder","Input validation border color for error severity.")),N=u("dropdown.background",{dark:"#3C3C3C",light:a.a.white,hc:a.a.black},o.a("dropdownBackground","Dropdown background.")),T=u("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:a.a.white},o.a("dropdownForeground","Dropdown foreground.")),M=u("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},o.a("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),A=u("list.focusForeground",{dark:null,light:null,hc:null},o.a("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),P=u("list.activeSelectionBackground",{dark:"#094771",light:"#2477CE",hc:null},o.a("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),R=u("list.activeSelectionForeground",{dark:a.a.white,light:a.a.white,hc:null},o.a("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),F=u("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},o.a("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),j=u("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},o.a("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),B=u("list.inactiveFocusBackground",{dark:"#313135",light:"#d8dae6",hc:null},o.a("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),H=u("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},o.a("listHoverBackground","List/Tree background when hovering over items using the mouse.")),W=u("list.hoverForeground",{dark:null,light:null,hc:null},o.a("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),V=u("list.dropBackground",{dark:M,light:M,hc:null},o.a("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),z=u("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:d},o.a("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),U=u("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:a.a.white},o.a("pickerGroupForeground","Quick picker color for grouping labels.")),q=u("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:a.a.white},o.a("pickerGroupBorder","Quick picker color for grouping borders.")),K=u("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:a.a.black},o.a("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),G=u("badge.foreground",{dark:a.a.white,light:"#333",hc:a.a.white},o.a("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Y=u("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},o.a("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),$=u("scrollbarSlider.background",{dark:a.a.fromHex("#797979").transparent(.4),light:a.a.fromHex("#646464").transparent(.4),hc:Ht(p,.6)},o.a("scrollbarSliderBackground","Scrollbar slider background color.")),Z=u("scrollbarSlider.hoverBackground",{dark:a.a.fromHex("#646464").transparent(.7),light:a.a.fromHex("#646464").transparent(.7),hc:Ht(p,.8)},o.a("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),X=u("scrollbarSlider.activeBackground",{dark:a.a.fromHex("#BFBFBF").transparent(.4),light:a.a.fromHex("#000000").transparent(.6),hc:p},o.a("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),J=u("progressBar.background",{dark:a.a.fromHex("#0E70C0"),light:a.a.fromHex("#0E70C0"),hc:p},o.a("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Q=u("menu.border",{dark:null,light:null,hc:p},o.a("menuBorder","Border color of menus.")),tt=u("menu.foreground",{dark:T,light:T,hc:T},o.a("menuForeground","Foreground color of menu items.")),et=u("menu.background",{dark:N,light:N,hc:N},o.a("menuBackground","Background color of menu items.")),it=u("menu.selectionForeground",{dark:R,light:R,hc:R},o.a("menuSelectionForeground","Foreground color of the selected menu item in menus.")),nt=u("menu.selectionBackground",{dark:P,light:P,hc:P},o.a("menuSelectionBackground","Background color of the selected menu item in menus.")),ot=u("menu.selectionBorder",{dark:null,light:null,hc:f},o.a("menuSelectionBorder","Border color of the selected menu item in menus.")),rt=u("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:p},o.a("menuSeparatorBackground","Color of a separator menu item in menus.")),st=u("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:a.a.black},o.a("editorBackground","Editor background color.")),at=u("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:a.a.white},o.a("editorForeground","Editor default foreground color.")),lt=u("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},o.a("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),ut=u("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:p},o.a("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),ht=u("editorWidget.resizeBorder",{light:null,dark:null,hc:null},o.a("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),ct=u("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},o.a("editorSelectionBackground","Color of the editor selection.")),dt=u("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},o.a("editorSelectionForeground","Color of the selected text for high contrast.")),pt=u("editor.inactiveSelectionBackground",{light:Ht(ct,.5),dark:Ht(ct,.5),hc:Ht(ct,.5)},o.a("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque to not hide underlying decorations."),!0),ft=u("editor.selectionHighlightBackground",{light:Vt(ct,st,.3,.6),dark:Vt(ct,st,.3,.6),hc:null},o.a("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque to not hide underlying decorations."),!0),gt=u("editor.selectionHighlightBorder",{light:null,dark:null,hc:f},o.a("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),mt=u("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},o.a("editorFindMatch","Color of the current search match.")),vt=u("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},o.a("findMatchHighlight","Color of the other search matches. The color must not be opaque to not hide underlying decorations."),!0),yt=u("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},o.a("findRangeHighlight","Color of the range limiting the search. The color must not be opaque to not hide underlying decorations."),!0),_t=u("editor.findMatchBorder",{light:null,dark:null,hc:f},o.a("editorFindMatchBorder","Border color of the current search match.")),bt=u("editor.findMatchHighlightBorder",{light:null,dark:null,hc:f},o.a("findMatchHighlightBorder","Border color of the other search matches.")),wt=u("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Ht(f,.4)},o.a("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque to not hide underlying decorations."),!0),Ct=u("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},o.a("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque to not hide underlying decorations."),!0),St=u("editorHoverWidget.background",{light:lt,dark:lt,hc:lt},o.a("hoverBackground","Background color of the editor hover.")),xt=u("editorHoverWidget.border",{light:ut,dark:ut,hc:ut},o.a("hoverBorder","Border color of the editor hover.")),kt=u("editorLink.activeForeground",{dark:"#4E94CE",light:a.a.blue,hc:a.a.cyan},o.a("activeLinkForeground","Color of active links.")),Ot=new a.a(new a.c(155,185,85,.2)),Et=new a.a(new a.c(255,0,0,.2)),Lt=u("diffEditor.insertedTextBackground",{dark:Ot,light:Ot,hc:null},o.a("diffEditorInserted","Background color for text that got inserted. The color must not be opaque to not hide underlying decorations."),!0),Dt=u("diffEditor.removedTextBackground",{dark:Et,light:Et,hc:null},o.a("diffEditorRemoved","Background color for text that got removed. The color must not be opaque to not hide underlying decorations."),!0),It=u("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},o.a("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Nt=u("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},o.a("diffEditorRemovedOutline","Outline color for text that got removed.")),Tt=u("diffEditor.border",{dark:null,light:null,hc:p},o.a("diffEditorBorder","Border color between the two text editors.")),Mt=u("editor.snippetTabstopHighlightBackground",{dark:new a.a(new a.c(124,124,124,.3)),light:new a.a(new a.c(10,50,100,.2)),hc:new a.a(new a.c(124,124,124,.3))},o.a("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),At=u("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},o.a("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Pt=u("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},o.a("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Rt=u("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new a.a(new a.c(10,50,100,.5)),hc:"#525252"},o.a("snippetFinalTabstopHighlightBorder","Highlight border color of the final stabstop of a snippet.")),Ft=new a.a(new a.c(246,185,77,.7)),jt=u("editorOverviewRuler.findMatchForeground",{dark:Ft,light:Ft,hc:Ft},o.a("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque to not hide underlying decorations."),!0),Bt=u("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},o.a("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque to not hide underlying decorations."),!0);function Ht(i,n){return function(t){var e=zt(i,t);return e?e.transparent(n):null}}function Wt(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return function(t){for(var e=0,i=o;e<i.length;e++){var n=zt(i[e],t);if(n)return n}return null}}function Vt(n,o,r,s){return function(t){var e=zt(n,t);if(e){var i=zt(o,t);return i?e.isDarkerThan(i)?a.a.getLighterColor(e,i,r).transparent(s):a.a.getDarkerColor(e,i,r).transparent(s):e.transparent(r*s)}return null}}function zt(t,e){return null===t?null:"string"==typeof t?"#"===t[0]?a.a.fromHex(t):e.getColor(t):t instanceof a.a?t:"function"==typeof t?t(e):null}},function(t,e,i){"use strict";i.d(e,"j",function(){return n}),i.d(e,"s",function(){return o}),i.d(e,"A",function(){return r}),i.d(e,"p",function(){return a}),i.d(e,"m",function(){return l}),i.d(e,"n",function(){return u}),i.d(e,"I",function(){return h}),i.d(e,"z",function(){return c}),i.d(e,"D",function(){return d}),i.d(e,"h",function(){return p}),i.d(e,"F",function(){return f}),i.d(e,"k",function(){return g}),i.d(e,"i",function(){return m}),i.d(e,"B",function(){return v}),i.d(e,"o",function(){return y}),i.d(e,"q",function(){return _}),i.d(e,"y",function(){return b}),i.d(e,"d",function(){return w}),i.d(e,"w",function(){return C}),i.d(e,"x",function(){return S}),i.d(e,"l",function(){return k}),i.d(e,"G",function(){return E}),i.d(e,"b",function(){return L}),i.d(e,"c",function(){return D}),i.d(e,"u",function(){return I}),i.d(e,"v",function(){return N}),i.d(e,"g",function(){return M}),i.d(e,"e",function(){return P}),i.d(e,"r",function(){return F}),i.d(e,"f",function(){return j}),i.d(e,"t",function(){return B}),i.d(e,"a",function(){return H}),i.d(e,"H",function(){return W}),i.d(e,"E",function(){return V}),i.d(e,"C",function(){return z});var n="";function o(t){return!t||"string"!=typeof t||0===t.trim().length}function r(t,e,i){void 0===i&&(i="0");for(var n=""+t,o=[n],r=n.length;r<e;r++)o.push(i);return o.reverse().join("")}var s=/{(\d+)}/g;function a(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return 0===n.length?t:t.replace(s,function(t,e){var i=parseInt(e,10);return isNaN(i)||i<0||i>=n.length?t:n[i]})}function l(t){return t.replace(/[<|>|&]/g,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return t}})}function u(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}function h(t,e){return void 0===e&&(e=" "),d(c(t,e),e)}function c(t,e){if(!t||!e)return t;var i=e.length;if(0===i||0===t.length)return t;for(var n=0;t.indexOf(e,n)===n;)n+=i;return t.substring(n)}function d(t,e){if(!t||!e)return t;var i=e.length,n=t.length;if(0===i||0===n)return t;for(var o=n,r=-1;-1!==(r=t.lastIndexOf(e,o-1))&&r+i===o;){if(0===r)return"";o=r}return t.substring(0,o)}function p(t){return t.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function f(t,e){if(t.length<e.length)return!1;if(t===e)return!0;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0}function g(t,e){var i=t.length-e.length;return 0<i?t.indexOf(e,i)===i:0==i&&t===e}function m(t,e,i){if(void 0===i&&(i={}),!t)throw new Error("Cannot create regex from empty string");e||(t=u(t)),i.wholeWord&&(/\B/.test(t.charAt(0))||(t="\\b"+t),/\B/.test(t.charAt(t.length-1))||(t+="\\b"));var n="";return i.global&&(n+="g"),i.matchCase||(n+="i"),i.multiline&&(n+="m"),new RegExp(t,n)}function v(t){return"^"!==t.source&&"^$"!==t.source&&"$"!==t.source&&"^\\s*$"!==t.source&&!(!t.exec("")||0!==t.lastIndex)}function y(t){for(var e=0,i=t.length;e<i;e++){var n=t.charCodeAt(e);if(32!==n&&9!==n)return e}return-1}function _(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);for(var n=e;n<i;n++){var o=t.charCodeAt(n);if(32!==o&&9!==o)return t.substring(e,n)}return t.substring(e,i)}function b(t,e){void 0===e&&(e=t.length-1);for(var i=e;0<=i;i--){var n=t.charCodeAt(i);if(32!==n&&9!==n)return i}return-1}function w(t,e){return t<e?-1:e<t?1:0}function C(t){return 97<=t&&t<=122}function S(t){return 65<=t&&t<=90}function x(t){return C(t)||S(t)}function k(t,e){return(t?t.length:0)===(e?e.length:0)&&O(t,e)}function O(t,e,i){if(void 0===i&&(i=t.length),"string"!=typeof t||"string"!=typeof e)return!1;for(var n=0;n<i;n++){var o=t.charCodeAt(n),r=e.charCodeAt(n);if(o!==r)if(x(o)&&x(r)){var s=Math.abs(o-r);if(0!==s&&32!==s)return!1}else if(String.fromCharCode(o).toLowerCase()!==String.fromCharCode(r).toLowerCase())return!1}return!0}function E(t,e){var i=e.length;return!(e.length>t.length)&&O(t,e,i)}function L(t,e){var i,n=Math.min(t.length,e.length);for(i=0;i<n;i++)if(t.charCodeAt(i)!==e.charCodeAt(i))return i;return n}function D(t,e){var i,n=Math.min(t.length,e.length),o=t.length-1,r=e.length-1;for(i=0;i<n;i++)if(t.charCodeAt(o-i)!==e.charCodeAt(r-i))return i;return n}function I(t){return 55296<=t&&t<=56319}function N(t){return 56320<=t&&t<=57343}var T=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function M(t){return T.test(t)}var A=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;function P(t){return A.test(t)}var R=/^[\t\n\r\x20-\x7E]*$/;function F(t){return R.test(t)}function j(t){for(var e=0,i=t.length;e<i;e++)if(B(t.charCodeAt(e)))return!0;return!1}function B(t){return 11904<=(t=+t)&&t<=55215||63744<=t&&t<=64255||65281<=t&&t<=65374}var H=String.fromCharCode(65279);function W(t){return!!(t&&0<t.length&&65279===t.charCodeAt(0))}function V(t){return btoa(encodeURIComponent(t))}function z(t,e){for(var i="",n=0;n<e;n++)i+=t;return i}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=(o.prototype.with=function(t,e){return void 0===t&&(t=this.lineNumber),void 0===e&&(e=this.column),t===this.lineNumber&&e===this.column?this:new o(t,e)},o.prototype.delta=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.with(this.lineNumber+t,this.column+e)},o.prototype.equals=function(t){return o.equals(this,t)},o.equals=function(t,e){return!t&&!e||!!t&&!!e&&t.lineNumber===e.lineNumber&&t.column===e.column},o.prototype.isBefore=function(t){return o.isBefore(this,t)},o.isBefore=function(t,e){return t.lineNumber<e.lineNumber||!(e.lineNumber<t.lineNumber)&&t.column<e.column},o.prototype.isBeforeOrEqual=function(t){return o.isBeforeOrEqual(this,t)},o.isBeforeOrEqual=function(t,e){return t.lineNumber<e.lineNumber||!(e.lineNumber<t.lineNumber)&&t.column<=e.column},o.compare=function(t,e){var i=0|t.lineNumber,n=0|e.lineNumber;return i!=n?i-n:(0|t.column)-(0|e.column)},o.prototype.clone=function(){return new o(this.lineNumber,this.column)},o.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},o.lift=function(t){return new o(t.lineNumber,t.column)},o.isIPosition=function(t){return t&&"number"==typeof t.lineNumber&&"number"==typeof t.column},o);function o(t,e){this.lineNumber=t,this.column=e}},function(t,e,i){"use strict";i.d(e,"d",function(){return a}),i.d(e,"b",function(){return h}),i.d(e,"c",function(){return d}),i.d(e,"a",function(){return b}),i.d(e,"f",function(){return S}),i.d(e,"e",function(){return k}),i.d(e,"g",function(){return O});var n,r=i(8),o=i(18),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=(l.has=function(t){return new h(t)},l.equals=function(t,e){return new d(t,e)},l.regex=function(t,e){return new y(t,e)},l.not=function(t){return new m(t)},l.and=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new b(t)},l.deserialize=function(t){var e=this;if(!t)return null;var i=t.split("&&");return new b(i.map(function(t){return e._deserializeOne(t)})).normalize()},l._deserializeOne=function(t){if(0<=(t=t.trim()).indexOf("!=")){var e=t.split("!=");return new f(e[0].trim(),this._deserializeValue(e[1]))}return 0<=t.indexOf("==")?(e=t.split("=="),new d(e[0].trim(),this._deserializeValue(e[1]))):0<=t.indexOf("=~")?(e=t.split("=~"),new y(e[0].trim(),this._deserializeRegexValue(e[1]))):/^\!\s*/.test(t)?new m(t.substr(1).trim()):new h(t)},l._deserializeValue=function(t){if("true"===(t=t.trim()))return!0;if("false"===t)return!1;var e=/^'([^']*)'$/.exec(t);return e?e[1].trim():t},l._deserializeRegexValue=function(e){if(Object(r.s)(e))return console.warn("missing regexp-value for =~-expression"),null;var t=e.indexOf("/"),i=e.lastIndexOf("/");if(t===i||t<0)return console.warn("bad regexp-value '"+e+"', missing /-enclosure"),null;var n=e.slice(t+1,i),o="i"===e[i+1]?"i":"";try{return new RegExp(n,o)}catch(t){return console.warn("bad regexp-value '"+e+"', parse error: "+t),null}},l);function l(){}function u(t,e){var i=t.getType(),n=e.getType();if(i!==n)return i-n;switch(i){case 1:case 2:case 3:case 4:case 6:return t.cmp(e);default:throw new Error("Unknown ContextKeyExpr!")}}var h=(c.prototype.getType=function(){return 1},c.prototype.cmp=function(t){return this.key<t.key?-1:this.key>t.key?1:0},c.prototype.equals=function(t){return t instanceof c&&this.key===t.key},c.prototype.evaluate=function(t){return!!t.getValue(this.key)},c.prototype.normalize=function(){return this},c.prototype.keys=function(){return[this.key]},c);function c(t){this.key=t}var d=(p.prototype.getType=function(){return 3},p.prototype.cmp=function(t){return this.key<t.key?-1:this.key>t.key?1:this.value<t.value?-1:this.value>t.value?1:0},p.prototype.equals=function(t){return t instanceof p&&this.key===t.key&&this.value===t.value},p.prototype.evaluate=function(t){return t.getValue(this.key)==this.value},p.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new h(this.key):new m(this.key):this},p.prototype.keys=function(){return[this.key]},p);function p(t,e){this.key=t,this.value=e}var f=(g.prototype.getType=function(){return 4},g.prototype.cmp=function(t){return this.key<t.key?-1:this.key>t.key?1:this.value<t.value?-1:this.value>t.value?1:0},g.prototype.equals=function(t){return t instanceof g&&this.key===t.key&&this.value===t.value},g.prototype.evaluate=function(t){return t.getValue(this.key)!=this.value},g.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new m(this.key):new h(this.key):this},g.prototype.keys=function(){return[this.key]},g);function g(t,e){this.key=t,this.value=e}var m=(v.prototype.getType=function(){return 2},v.prototype.cmp=function(t){return this.key<t.key?-1:this.key>t.key?1:0},v.prototype.equals=function(t){return t instanceof v&&this.key===t.key},v.prototype.evaluate=function(t){return!t.getValue(this.key)},v.prototype.normalize=function(){return this},v.prototype.keys=function(){return[this.key]},v);function v(t){this.key=t}var y=(_.prototype.getType=function(){return 6},_.prototype.cmp=function(t){if(this.key<t.key)return-1;if(this.key>t.key)return 1;var e=this.regexp?this.regexp.source:"",i=t.regexp?t.regexp.source:"";return e<i?-1:i<e?1:0},_.prototype.equals=function(t){if(t instanceof _){var e=this.regexp?this.regexp.source:"",i=t.regexp?t.regexp.source:"";return this.key===t.key&&e===i}return!1},_.prototype.evaluate=function(t){var e=t.getValue(this.key);return!!this.regexp&&this.regexp.test(e)},_.prototype.normalize=function(){return this},_.prototype.keys=function(){return[this.key]},_);function _(t,e){this.key=t,this.regexp=e}var b=(w.prototype.getType=function(){return 5},w.prototype.equals=function(t){if(t instanceof w){if(this.expr.length!==t.expr.length)return!1;for(var e=0,i=this.expr.length;e<i;e++)if(!this.expr[e].equals(t.expr[e]))return!1;return!0}return!1},w.prototype.evaluate=function(t){for(var e=0,i=this.expr.length;e<i;e++)if(!this.expr[e].evaluate(t))return!1;return!0},w._normalizeArr=function(t){var e=[];if(t){for(var i=0,n=t.length;i<n;i++){var o=t[i];(o=o&&o.normalize())&&(o instanceof w?e=e.concat(o.expr):e.push(o))}e.sort(u)}return e},w.prototype.normalize=function(){return 0===this.expr.length?null:1===this.expr.length?this.expr[0]:this},w.prototype.keys=function(){for(var t=[],e=0,i=this.expr;e<i.length;e++){var n=i[e];t.push.apply(t,n.keys())}return t},w);function w(t){this.expr=w._normalizeArr(t)}var C,S=(s(x,C=h),x.prototype.bindTo=function(t){return t.createKey(this.key,this._defaultValue)},x.prototype.getValue=function(t){return t.getContextKeyValue(this.key)},x.prototype.toNegated=function(){return a.not(this.key)},x);function x(t,e){var i=C.call(this,t)||this;return i._defaultValue=e,i}var k=Object(o.c)("contextKeyService"),O="setContext"},function(t,e,i){"use strict";var n=i(23),o=i(5),r=i(4),d=i(180);function p(t,e,i,n){if(Array.isArray(t)){for(var o=0,r=0,s=t;r<s.length;r++){var a=p(s[r],e,i,n);if(10===a)return a;o<a&&(o=a)}return o}if("string"==typeof t)return n?"*"===t?5:t===i?10:0:0;if(t){var l=t.language,u=t.pattern,h=t.scheme,c=t.hasAccessToAllModels;if(!n&&!c)return 0;o=0;if(h)if(h===e.scheme)o=10;else{if("*"!==h)return 0;o=5}if(l)if(l===i)o=10;else{if("*"!==l)return 0;o=Math.max(o,5)}if(u){if(u!==e.fsPath&&!Object(d.a)(u,e.fsPath))return 0;o=10}return o}return 0}var a=i(56);function l(t){return"string"!=typeof t&&(Array.isArray(t)?t.every(l):!!t.exclusive)}var s=(Object.defineProperty(u.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),u.prototype.register=function(t,e){var i=this,n={selector:t,provider:e,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(r.f)(function(){if(n){var t=i._entries.indexOf(n);0<=t&&(i._entries.splice(t,1),i._lastCandidate=void 0,i._onDidChange.fire(i._entries.length),n=void 0)}})},u.prototype.has=function(t){return 0<this.all(t).length},u.prototype.all=function(t){if(!t)return[];this._updateScores(t);for(var e=[],i=0,n=this._entries;i<n.length;i++){var o=n[i];0<o._score&&e.push(o.provider)}return e},u.prototype.ordered=function(t){var e=[];return this._orderedForEach(t,function(t){return e.push(t.provider)}),e},u.prototype.orderedGroups=function(t){var e,i,n=[];return this._orderedForEach(t,function(t){e&&i===t._score?e.push(t.provider):(i=t._score,e=[t.provider],n.push(e))}),n},u.prototype._orderedForEach=function(t,e){if(t){this._updateScores(t);for(var i=0;i<this._entries.length;i++){var n=this._entries[i];0<n._score&&e(n)}}},u.prototype._updateScores=function(t){var e={uri:t.uri.toString(),language:t.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==e.language||this._lastCandidate.uri!==e.uri){this._lastCandidate=e;for(var i=0,n=this._entries;i<n.length;i++){var o=n[i];if(o._score=p(o.selector,t.uri,t.getLanguageIdentifier().language,Object(a.b)(t)),l(o.selector)&&0<o._score){for(var r=0,s=this._entries;r<s.length;r++)s[r]._score=0;o._score=1e3;break}}this._entries.sort(u._compareByScoreAndTime)}},u._compareByScoreAndTime=function(t,e){return t._score<e._score?1:t._score>e._score?-1:t._time<e._time?1:t._time>e._time?-1:0},u);function u(){this._clock=0,this._entries=[],this._onDidChange=new o.a}var h=(c.prototype.fire=function(t){this._onDidChange.fire({changedLanguages:t,changedColorMap:!1})},c.prototype.register=function(t,e){var i=this;return this._map[t]=e,this.fire([t]),Object(r.f)(function(){i._map[t]===e&&(delete i._map[t],i.fire([t]))})},c.prototype.getPromise=function(e){var i=this,t=this.get(e);if(t)return Promise.resolve(t);var n=this._promises[e];return n?n.then(function(t){return i.get(e)}):null},c.prototype.get=function(t){return this._map[t]||null},c.prototype.setColorMap=function(t){this._colorMap=t,this._onDidChange.fire({changedLanguages:Object.keys(this._map),changedColorMap:!0})},c.prototype.getColorMap=function(){return this._colorMap},c.prototype.getDefaultBackground=function(){return this._colorMap&&2<this._colorMap.length?this._colorMap[2]:null},c);function c(){this._onDidChange=new o.a,this.onDidChange=this._onDidChange.event,this._map=Object.create(null),this._promises=Object.create(null),this._colorMap=null}i.d(e,"o",function(){return f}),i.d(e,"v",function(){return g}),i.d(e,"z",function(){return S}),i.d(e,"y",function(){return x}),i.d(e,"u",function(){return _}),i.d(e,"g",function(){return w}),i.d(e,"B",function(){return O}),i.d(e,"k",function(){return E}),i.d(e,"A",function(){return D}),i.d(e,"r",function(){return I}),i.d(e,"s",function(){return N}),i.d(e,"d",function(){return T}),i.d(e,"t",function(){return M}),i.d(e,"m",function(){return A}),i.d(e,"j",function(){return P}),i.d(e,"h",function(){return R}),i.d(e,"e",function(){return F}),i.d(e,"n",function(){return j}),i.d(e,"x",function(){return B}),i.d(e,"b",function(){return H}),i.d(e,"a",function(){return W}),i.d(e,"f",function(){return V}),i.d(e,"i",function(){return z}),i.d(e,"q",function(){return U}),i.d(e,"p",function(){return q}),i.d(e,"c",function(){return K}),i.d(e,"l",function(){return G}),i.d(e,"w",function(){return Y});var f=function(t,e){this.language=t,this.id=e},g=(m.getLanguageId=function(t){return(255&t)>>>0},m.getTokenType=function(t){return(1792&t)>>>8},m.getFontStyle=function(t){return(14336&t)>>>11},m.getForeground=function(t){return(8372224&t)>>>14},m.getBackground=function(t){return(4286578688&t)>>>23},m.getClassNameFromMetadata=function(t){var e="mtk"+this.getForeground(t),i=this.getFontStyle(t);return 1&i&&(e+=" mtki"),2&i&&(e+=" mtkb"),4&i&&(e+=" mtku"),e},m.getInlineStyleFromMetadata=function(t,e){var i=this.getForeground(t),n=this.getFontStyle(t),o="color: "+e[i]+";";return 1&n&&(o+="font-style: italic;"),2&n&&(o+="font-weight: bold;"),4&n&&(o+="text-decoration: underline;"),o},m);function m(){}var v,y,_,b,w,C,S=((v=Object.create(null))[0]="method",v[1]="function",v[2]="constructor",v[3]="field",v[4]="variable",v[5]="class",v[6]="struct",v[7]="interface",v[8]="module",v[9]="property",v[10]="event",v[11]="operator",v[12]="unit",v[13]="value",v[14]="constant",v[15]="enum",v[16]="enum-member",v[17]="keyword",v[25]="snippet",v[18]="text",v[19]="color",v[20]="file",v[21]="reference",v[22]="customcolor",v[23]="folder",v[24]="type-parameter",function(t){return v[t]||"property"}),x=((y=Object.create(null)).method=0,y.function=1,y.constructor=2,y.field=3,y.variable=4,y.class=5,y.struct=6,y.interface=7,y.module=8,y.property=9,y.event=10,y.operator=11,y.unit=12,y.value=13,y.constant=14,y.enum=15,y["enum-member"]=16,y.keyword=17,y.snippet=25,y.text=18,y.color=19,y.file=20,y.reference=21,y.customcolor=22,y.folder=23,y["type-parameter"]=24,function(t){return y[t]||"property"});(b=_=_||{})[b.Invoke=1]="Invoke",b[b.TriggerCharacter=2]="TriggerCharacter",b[b.ContentChange=3]="ContentChange",(C=w=w||{})[C.Text=0]="Text",C[C.Read=1]="Read",C[C.Write=2]="Write";var k,O=((k=Object.create(null))[0]="file",k[1]="module",k[2]="namespace",k[3]="package",k[4]="class",k[5]="method",k[6]="property",k[7]="field",k[8]="constructor",k[9]="enum",k[10]="interface",k[11]="function",k[12]="variable",k[13]="constant",k[14]="string",k[15]="number",k[16]="boolean",k[17]="array",k[18]="object",k[19]="key",k[20]="null",k[21]="enum-member",k[22]="struct",k[23]="event",k[24]="operator",k[25]="type-parameter",function(t){return"symbol-icon "+(k[t]||"property")}),E=(L.Comment=new L("comment"),L.Imports=new L("imports"),L.Region=new L("region"),L);function L(t){this.value=t}function D(t){return Object(n.g)(t)&&t.resource&&Array.isArray(t.edits)}var I=new s,N=new s,T=new s,M=new s,A=new s,P=new s,R=new s,F=new s,j=new s,B=new s,H=new s,W=new s,V=new s,z=new s,U=new s,q=new s,K=new s,G=new s,Y=new h},function(t,e,i){"use strict";function o(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}i.d(e,"c",function(){return d}),i.d(e,"b",function(){return s}),i.d(e,"a",function(){return p});var d=(n.equals=function(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a},n);function n(t,e,i,n){void 0===n&&(n=1),this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,e)),this.b=0|Math.min(255,Math.max(0,i)),this.a=o(Math.max(Math.min(1,n),0),3)}var r=(c.equals=function(t,e){return t.h===e.h&&t.s===e.s&&t.l===e.l&&t.a===e.a},c.fromRGBA=function(t){var e=t.r/255,i=t.g/255,n=t.b/255,o=t.a,r=Math.max(e,i,n),s=Math.min(e,i,n),a=0,l=0,u=(s+r)/2,h=r-s;if(0<h){switch(l=Math.min(u<=.5?h/(2*u):h/(2-2*u),1),r){case e:a=(i-n)/h+(i<n?6:0);break;case i:a=(n-e)/h+2;break;case n:a=(e-i)/h+4}a*=60,a=Math.round(a)}return new c(a,l,u,o)},c._hue2rgb=function(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},c.toRGBA=function(t){var e,i,n,o=t.h/360,r=t.s,s=t.l,a=t.a;if(0===r)e=i=n=s;else{var l=s<.5?s*(1+r):s+r-s*r,u=2*s-l;e=c._hue2rgb(u,l,o+1/3),i=c._hue2rgb(u,l,o),n=c._hue2rgb(u,l,o-1/3)}return new d(Math.round(255*e),Math.round(255*i),Math.round(255*n),a)},c);function c(t,e,i,n){this.h=0|Math.max(Math.min(360,t),0),this.s=o(Math.max(Math.min(1,e),0),3),this.l=o(Math.max(Math.min(1,i),0),3),this.a=o(Math.max(Math.min(1,n),0),3)}var s=(l.equals=function(t,e){return t.h===e.h&&t.s===e.s&&t.v===e.v&&t.a===e.a},l.fromRGBA=function(t){var e,i=t.r/255,n=t.g/255,o=t.b/255,r=Math.max(i,n,o),s=r-Math.min(i,n,o),a=0===r?0:s/r;return e=0==s?0:r===i?((n-o)/s%6+6)%6:r===n?(o-i)/s+2:(i-n)/s+4,new l(Math.round(60*e),a,r,t.a)},l.toRGBA=function(t){var e=t.h,i=t.s,n=t.v,o=t.a,r=n*i,s=r*(1-Math.abs(e/60%2-1)),a=n-r,l=[0,0,0],u=l[0],h=l[1],c=l[2];return e<60?(u=r,h=s):e<120?(u=s,h=r):e<180?(h=r,c=s):e<240?(h=s,c=r):e<300?(u=s,c=r):e<360&&(u=r,c=s),u=Math.round(255*(u+a)),h=Math.round(255*(h+a)),c=Math.round(255*(c+a)),new d(u,h,c,o)},l);function l(t,e,i,n){this.h=0|Math.max(Math.min(360,t),0),this.s=o(Math.max(Math.min(1,e),0),3),this.v=o(Math.max(Math.min(1,i),0),3),this.a=o(Math.max(Math.min(1,n),0),3)}var a,u,h,p=(f.fromHex=function(t){return f.Format.CSS.parseHex(t)||f.red},Object.defineProperty(f.prototype,"hsla",{get:function(){return this._hsla?this._hsla:r.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"hsva",{get:function(){return this._hsva?this._hsva:s.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),f.prototype.equals=function(t){return!!t&&d.equals(this.rgba,t.rgba)&&r.equals(this.hsla,t.hsla)&&s.equals(this.hsva,t.hsva)},f.prototype.getRelativeLuminance=function(){return o(.2126*f._relativeLuminanceForComponent(this.rgba.r)+.7152*f._relativeLuminanceForComponent(this.rgba.g)+.0722*f._relativeLuminanceForComponent(this.rgba.b),4)},f._relativeLuminanceForComponent=function(t){var e=t/255;return e<=.03928?e/12.92:Math.pow((.055+e)/1.055,2.4)},f.prototype.isLighter=function(){return 128<=(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3},f.prototype.isLighterThan=function(t){var e=this.getRelativeLuminance();return t.getRelativeLuminance()<e},f.prototype.isDarkerThan=function(t){return this.getRelativeLuminance()<t.getRelativeLuminance()},f.prototype.lighten=function(t){return new f(new r(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))},f.prototype.darken=function(t){return new f(new r(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))},f.prototype.transparent=function(t){var e=this.rgba,i=e.r,n=e.g,o=e.b,r=e.a;return new f(new d(i,n,o,r*t))},f.prototype.isTransparent=function(){return 0===this.rgba.a},f.prototype.isOpaque=function(){return 1===this.rgba.a},f.prototype.opposite=function(){return new f(new d(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},f.prototype.toString=function(){return""+f.Format.CSS.format(this)},f.getLighterColor=function(t,e,i){if(t.isLighterThan(e))return t;i=i||.5;var n=t.getRelativeLuminance(),o=e.getRelativeLuminance();return i=i*(o-n)/o,t.lighten(i)},f.getDarkerColor=function(t,e,i){if(t.isDarkerThan(e))return t;i=i||.5;var n=t.getRelativeLuminance();return i=i*(n-e.getRelativeLuminance())/n,t.darken(i)},f.white=new f(new d(255,255,255,1)),f.black=new f(new d(0,0,0,1)),f.red=new f(new d(255,0,0,1)),f.blue=new f(new d(0,0,255,1)),f.cyan=new f(new d(0,255,255,1)),f.lightgrey=new f(new d(211,211,211,1)),f.transparent=new f(new d(0,0,0,0)),f);function f(t){if(!t)throw new Error("Color needs a value");if(t instanceof d)this.rgba=t;else if(t instanceof r)this._hsla=t,this.rgba=r.toRGBA(t);else{if(!(t instanceof s))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=s.toRGBA(t)}}function g(t){var e=t.toString(16);return 2!==e.length?"0"+e:e}function m(t){switch(t){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}a=p=p||{},u=a.Format||(a.Format={}),(h=u.CSS||(u.CSS={})).formatRGB=function(t){return 1===t.rgba.a?"rgb("+t.rgba.r+", "+t.rgba.g+", "+t.rgba.b+")":a.Format.CSS.formatRGBA(t)},h.formatRGBA=function(t){return"rgba("+t.rgba.r+", "+t.rgba.g+", "+t.rgba.b+", "+ +t.rgba.a.toFixed(2)+")"},h.formatHSL=function(t){return 1===t.hsla.a?"hsl("+t.hsla.h+", "+(100*t.hsla.s).toFixed(2)+"%, "+(100*t.hsla.l).toFixed(2)+"%)":a.Format.CSS.formatHSLA(t)},h.formatHSLA=function(t){return"hsla("+t.hsla.h+", "+(100*t.hsla.s).toFixed(2)+"%, "+(100*t.hsla.l).toFixed(2)+"%, "+t.hsla.a.toFixed(2)+")"},h.formatHex=function(t){return"#"+g(t.rgba.r)+g(t.rgba.g)+g(t.rgba.b)},h.formatHexA=function(t,e){return void 0===e&&(e=!1),e&&1===t.rgba.a?a.Format.CSS.formatHex(t):"#"+g(t.rgba.r)+g(t.rgba.g)+g(t.rgba.b)+g(Math.round(255*t.rgba.a))},h.format=function(t){return t?t.isOpaque()?a.Format.CSS.formatHex(t):a.Format.CSS.formatRGBA(t):null},h.parseHex=function(t){if(!t)return null;var e=t.length;if(0===e)return null;if(35!==t.charCodeAt(0))return null;if(7===e){var i=16*m(t.charCodeAt(1))+m(t.charCodeAt(2)),n=16*m(t.charCodeAt(3))+m(t.charCodeAt(4)),o=16*m(t.charCodeAt(5))+m(t.charCodeAt(6));return new a(new d(i,n,o,1))}if(9!==e)return 4!==e?5!==e?null:(i=m(t.charCodeAt(1)),n=m(t.charCodeAt(2)),o=m(t.charCodeAt(3)),r=m(t.charCodeAt(4)),new a(new d(16*i+i,16*n+n,16*o+o,(16*r+r)/255))):(i=m(t.charCodeAt(1)),n=m(t.charCodeAt(2)),o=m(t.charCodeAt(3)),new a(new d(16*i+i,16*n+n,16*o+o)));i=16*m(t.charCodeAt(1))+m(t.charCodeAt(2)),n=16*m(t.charCodeAt(3))+m(t.charCodeAt(4)),o=16*m(t.charCodeAt(5))+m(t.charCodeAt(6));var r=16*m(t.charCodeAt(7))+m(t.charCodeAt(8));return new a(new d(i,n,o,r/255))}},function(t,e,i){"use strict";i.d(e,"e",function(){return a}),i.d(e,"f",function(){return l}),i.d(e,"g",function(){return u}),i.d(e,"d",function(){return c}),i.d(e,"a",function(){return d}),i.d(e,"b",function(){return p}),i.d(e,"c",function(){return f});var n=i(35),o={};function r(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(function(){if(t.stack)throw new Error(t.message+"\n\n"+t.stack);throw t},0)}}n.b.addEventListener("error",function(t){var e=t.detail,i=e.id;e.parent?e.handler&&o&&delete o[i]:(o[i]=e,1===Object.keys(o).length&&setTimeout(function(){var i=o;o={},Object.keys(i).forEach(function(t){var e=i[t];e.exception?a(e.exception):e.error&&a(e.error),console.log("WARNING: Promise with no error callback:"+e.id),console.log(e),e.exception&&console.log(e.exception.stack)})},0))});var s=new(r.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},r.prototype.onUnexpectedError=function(t){this.unexpectedErrorHandler(t),this.emit(t)},r.prototype.onUnexpectedExternalError=function(t){this.unexpectedErrorHandler(t)},r);function a(t){c(t)||s.onUnexpectedError(t)}function l(t){c(t)||s.onUnexpectedExternalError(t)}function u(t){return t instanceof Error?{$isError:!0,name:t.name,message:t.message,stack:t.stacktrace||t.stack}:t}var h="Canceled";function c(t){return t instanceof Error&&t.name===h&&t.message===h}function d(){var t=new Error(h);return t.name=t.message,t}function p(t){return t?new Error("Illegal argument: "+t):new Error("Illegal argument")}function f(t){return t?new Error("Illegal state: "+t):new Error("Illegal state")}},function(t,w,C){"use strict";(function(e,t){C.d(w,"g",function(){return d}),C.d(w,"d",function(){return p}),C.d(w,"c",function(){return f}),C.d(w,"e",function(){return g}),C.d(w,"f",function(){return m}),C.d(w,"b",function(){return v}),C.d(w,"h",function(){return _}),C.d(w,"a",function(){return b});var i=!1,n=!1,o=!1,r=!1,s=!1,a=void 0!==e&&void 0!==e.versions&&void 0!==e.versions.electron&&"renderer"===e.type;if("object"!=typeof navigator||a){if("object"==typeof e){i="win32"===e.platform,n="darwin"===e.platform,o="linux"===e.platform,"en";var l=e.env.VSCODE_NLS_CONFIG;if(l)try{var u=JSON.parse(l),h=u.availableLanguages["*"];u.locale,h||"en",u._translationsConfigFile}catch(t){}r=!0}}else{var c=navigator.userAgent;i=0<=c.indexOf("Windows"),n=0<=c.indexOf("Macintosh"),o=0<=c.indexOf("Linux"),s=!0,navigator.language}var d=i,p=n,f=o,g=r,m=s,v="object"==typeof self?self:"object"==typeof t?t:{},y=null;function _(t){return null===y&&(y=v.setImmediate?v.setImmediate.bind(v):void 0!==e&&"function"==typeof e.nextTick?e.nextTick.bind(e):v.setTimeout.bind(v)),y(t)}var b=n?2:i?1:3}).call(this,C(134),C(133))},function(t,e,i){"use strict";i.d(e,"b",function(){return p}),i.d(e,"f",function(){return g}),i.d(e,"c",function(){return v}),i.d(e,"d",function(){return w}),i.d(e,"e",function(){return S}),i.d(e,"a",function(){return x}),i.d(e,"g",function(){return O});function n(t){return!0}function o(t){return!1}function r(t){return" "===t||"\t"===t}var s=i(13),l=i(8),a=i(9),u=i(2),h=i(20),c=i(24),d=i(32),p=(f.shouldRecreate=function(t){return t.layoutInfo||t.wordSeparators||t.emptySelectionClipboard||t.multiCursorMergeOverlapping||t.autoClosingBrackets||t.autoClosingQuotes||t.autoSurround||t.useTabStops||t.lineHeight||t.readOnly},Object.defineProperty(f.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var t=f._getElectricCharacters(this._languageIdentifier);if(t)for(var e=0;e<t.length;e++)this._electricChars[t[e]]=!0}return this._electricChars},enumerable:!0,configurable:!0}),f.prototype.normalizeIndentation=function(t){return c.b.normalizeIndentation(t,this.tabSize,this.insertSpaces)},f._getElectricCharacters=function(t){try{return d.a.getElectricCharacters(t.id)}catch(t){return Object(s.e)(t),null}},f._getAutoClosingPairs=function(t){try{return d.a.getAutoClosingPairs(t.id)}catch(t){return Object(s.e)(t),null}},f._getShouldAutoClose=function(t,e){switch(e){case"beforeWhitespace":return r;case"languageDefined":return f._getLanguageDefinedShouldAutoClose(t);case"always":return n;case"never":return o}},f._getLanguageDefinedShouldAutoClose=function(t){try{var e=d.a.getAutoCloseBeforeSet(t.id);return function(t){return-1!==e.indexOf(t)}}catch(t){return Object(s.e)(t),o}},f._getSurroundingPairs=function(t){try{return d.a.getSurroundingPairs(t.id)}catch(t){return Object(s.e)(t),null}},f);function f(t,e,i,n){this._languageIdentifier=t;var o=n.editor;this.readOnly=o.readOnly,this.tabSize=i.tabSize,this.insertSpaces=i.insertSpaces,this.oneIndent=e,this.pageSize=Math.max(1,Math.floor(o.layoutInfo.height/o.fontInfo.lineHeight)-2),this.lineHeight=o.lineHeight,this.useTabStops=o.useTabStops,this.wordSeparators=o.wordSeparators,this.emptySelectionClipboard=o.emptySelectionClipboard,this.copyWithSyntaxHighlighting=o.copyWithSyntaxHighlighting,this.multiCursorMergeOverlapping=o.multiCursorMergeOverlapping,this.autoClosingBrackets=o.autoClosingBrackets,this.autoClosingQuotes=o.autoClosingQuotes,this.autoSurround=o.autoSurround,this.autoIndent=o.autoIndent,this.autoClosingPairsOpen={},this.autoClosingPairsClose={},this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:f._getShouldAutoClose(t,this.autoClosingQuotes),bracket:f._getShouldAutoClose(t,this.autoClosingBrackets)};var r=f._getAutoClosingPairs(t);if(r)for(var s=0;s<r.length;s++)this.autoClosingPairsOpen[r[s].open]=r[s].close,this.autoClosingPairsClose[r[s].close]=r[s].open;var a=f._getSurroundingPairs(t);if(a)for(s=0;s<a.length;s++)this.surroundingPairs[a[s].open]=a[s].close}var g=(m.prototype.equals=function(t){return this.selectionStartLeftoverVisibleColumns===t.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===t.leftoverVisibleColumns&&this.position.equals(t.position)&&this.selectionStart.equalsRange(t.selectionStart)},m.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},m.prototype.move=function(t,e,i,n){return t?new m(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new a.a(e,i),n):new m(new u.a(e,i,e,i),n,new a.a(e,i),n)},m._computeSelection=function(t,e){var i,n,o,r;return n=t.isEmpty()?(i=t.startLineNumber,t.startColumn):e.isBeforeOrEqual(t.getStartPosition())?(i=t.endLineNumber,t.endColumn):(i=t.startLineNumber,t.startColumn),o=e.lineNumber,r=e.column,new h.a(i,n,o,r)},m);function m(t,e,i,n){this.selectionStart=t,this.selectionStartLeftoverVisibleColumns=e,this.position=i,this.leftoverVisibleColumns=n,this.selection=m._computeSelection(this.selectionStart,this.position)}var v=(y.prototype.validateViewPosition=function(t,e){return this.viewModel.coordinatesConverter.validateViewPosition(t,e)},y.prototype.validateViewRange=function(t,e){return this.viewModel.coordinatesConverter.validateViewRange(t,e)},y.prototype.convertViewRangeToModelRange=function(t){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},y.prototype.convertViewPositionToModelPosition=function(t,e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new a.a(t,e))},y.prototype.convertModelPositionToViewPosition=function(t){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t)},y.prototype.convertModelRangeToViewRange=function(t){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(t)},y.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()},y.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},y.prototype.getCompletelyVisibleModelRange=function(){var t=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},y.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(t){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(t)},y.prototype.getVerticalOffsetForViewLine=function(t){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(t)},y);function y(t,e,i){this.model=e,this.viewModel=i,this.config=new p(this.model.getLanguageIdentifier(),this.model.getOneIndent(),this.model.getOptions(),t)}var _=function(t){this.modelState=t,this.viewState=null},b=function(t){this.modelState=null,this.viewState=t},w=(C.fromModelState=function(t){return new _(t)},C.fromViewState=function(t){return new b(t)},C.fromModelSelection=function(t){var e=t.selectionStartLineNumber,i=t.selectionStartColumn,n=t.positionLineNumber,o=t.positionColumn,r=new g(new u.a(e,i,e,i),0,new a.a(n,o),0);return C.fromModelState(r)},C.fromModelSelections=function(t){for(var e=[],i=0,n=t.length;i<n;i++)e[i]=this.fromModelSelection(t[i]);return e},C.prototype.equals=function(t){return this.viewState.equals(t.viewState)&&this.modelState.equals(t.modelState)},C);function C(t,e){this.modelState=t,this.viewState=e}var S=function(t,e,i){this.type=t,this.commands=e,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter},x=(k.isLowSurrogate=function(t,e,i){var n=t.getLineContent(e);return!(i<0||i>=n.length)&&l.v(n.charCodeAt(i))},k.isHighSurrogate=function(t,e,i){var n=t.getLineContent(e);return!(i<0||i>=n.length)&&l.u(n.charCodeAt(i))},k.isInsideSurrogatePair=function(t,e,i){return this.isHighSurrogate(t,e,i-2)},k.visibleColumnFromColumn=function(t,e,i){var n=t.length;e-1<n&&(n=e-1);for(var o=0,r=0;r<n;r++){var s=t.charCodeAt(r);9===s?o=this.nextTabStop(o,i):l.t(s)?o+=2:o+=1}return o},k.visibleColumnFromColumn2=function(t,e,i){return this.visibleColumnFromColumn(e.getLineContent(i.lineNumber),i.column,t.tabSize)},k.columnFromVisibleColumn=function(t,e,i){if(e<=0)return 1;for(var n=t.length,o=0,r=0;r<n;r++){var s=t.charCodeAt(r),a=void 0;if(e<=(a=9===s?this.nextTabStop(o,i):l.t(s)?o+2:o+1))return a-e<e-o?r+2:r+1;o=a}return n+1},k.columnFromVisibleColumn2=function(t,e,i,n){var o=this.columnFromVisibleColumn(e.getLineContent(i),n,t.tabSize),r=e.getLineMinColumn(i);if(o<r)return r;var s=e.getLineMaxColumn(i);return s<o?s:o},k.nextTabStop=function(t,e){return t+e-t%e},k.prevTabStop=function(t,e){return t-1-(t-1)%e},k);function k(){}function O(t){return"'"===t||'"'===t||"`"===t}},function(t,e,i){"use strict";i.d(e,"c",function(){return a}),i.d(e,"f",function(){return l}),i.d(e,"b",function(){return h}),i.d(e,"d",function(){return c}),i.d(e,"a",function(){return d}),i.d(e,"e",function(){return g});var n=i(18),o=i(4),r=i(57),s=i(5),a=Object(n.c)("themeService");function l(t){return{id:t}}var u="dark",h="hc";function c(t){switch(t){case u:return"vs-dark";case h:return"hc-black";default:return"vs"}}var d={ThemingContribution:"base.contributions.theming"};function p(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new s.a}var f=new(p.prototype.onThemeChange=function(e){var i=this;return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Object(o.f)(function(){var t=i.themingParticipants.indexOf(e);i.themingParticipants.splice(t,1)})},p.prototype.getThemingParticipants=function(){return this.themingParticipants},p);function g(t){return f.onThemeChange(t)}r.a.add(d.ThemingContribution,f)},function(t,e,i){"use strict";i.d(e,"i",function(){return u}),i.d(e,"g",function(){return h}),i.d(e,"a",function(){return c}),i.d(e,"j",function(){return p}),i.d(e,"f",function(){return f}),i.d(e,"h",function(){return g}),i.d(e,"e",function(){return v}),i.d(e,"c",function(){return b}),i.d(e,"d",function(){return S}),i.d(e,"b",function(){return k});var n,r=i(29),s=i(13),o=i(4),a=i(35),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function u(t){return t&&"function"==typeof t.then}function h(t){var n=new r.b,o=t(n.token),i=new Promise(function(e,i){n.token.onCancellationRequested(function(){i(s.a())}),Promise.resolve(o).then(function(t){n.dispose(),e(t)},function(t){n.dispose(),i(t)})});return e.prototype.cancel=function(){n.cancel()},e.prototype.then=function(t,e){return i.then(t,e)},e.prototype.catch=function(t){return this.then(void 0,t)},new e;function e(){}}var c=(d.prototype.trigger=function(t,e){var i=this;return void 0===e&&(e=this.defaultDelay),this.task=t,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new a.b(function(t,e){i.doResolve=t,i.doReject=e}).then(function(){i.completionPromise=null,i.doResolve=null;var t=i.task;return i.task=null,t()})),this.timeout=setTimeout(function(){i.timeout=null,i.doResolve(null)},e),this.completionPromise},d.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.doReject(s.a()),this.completionPromise=null)},d.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},d.prototype.dispose=function(){this.cancelTimeout()},d);function d(t){this.defaultDelay=t,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.task=null}function p(n,o){return o?new Promise(function(t,e){var i=setTimeout(t,n);o.onCancellationRequested(function(){clearTimeout(i),e(s.a())})}):h(function(t){return p(n,t)})}function f(t,e){function i(){try{e()}catch(t){s.e(t)}}return t.then(function(t){return i()},function(t){return i()}),Promise.resolve(t)}function g(e,i,n){void 0===i&&(i=function(t){return!!t}),void 0===n&&(n=null);var o=0,r=e.length,s=function(){if(r<=o)return Promise.resolve(n);var t=e[o++];return Promise.resolve(t()).then(function(t){return i(t)?Promise.resolve(t):s()})};return s()}var m,v=(m=o.a,l(y,m),y.prototype.dispose=function(){this.cancel(),m.prototype.dispose.call(this)},y.prototype.cancel=function(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)},y.prototype.cancelAndSet=function(t,e){var i=this;this.cancel(),this._token=setTimeout(function(){i._token=-1,t()},e)},y.prototype.setIfNotSet=function(t,e){var i=this;-1===this._token&&(this._token=setTimeout(function(){i._token=-1,t()},e))},y);function y(t,e){var i=m.call(this)||this;return i._token=-1,"function"==typeof t&&"number"==typeof e&&i.setIfNotSet(t,e),i}var _,b=(_=o.a,l(w,_),w.prototype.dispose=function(){this.cancel(),_.prototype.dispose.call(this)},w.prototype.cancel=function(){-1!==this._token&&(clearInterval(this._token),this._token=-1)},w.prototype.cancelAndSet=function(t,e){this.cancel(),this._token=setInterval(function(){t()},e)},w);function w(){var t=_.call(this)||this;return t._token=-1,t}var C,S=(x.prototype.dispose=function(){this.cancel(),this.runner=null},x.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},x.prototype.schedule=function(t){void 0===t&&(t=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,t)},x.prototype.isScheduled=function(){return-1!==this.timeoutToken},x.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},x.prototype.doRun=function(){this.runner&&this.runner()},x);function x(t,e){this.timeoutToken=-1,this.runner=t,this.timeout=e,this.timeoutHandler=this.onTimeout.bind(this)}!function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var o=Object.freeze({didTimeout:!0,timeRemaining:function(){return 15}});C=function(t,e){void 0===e&&(e=0);var i=setTimeout(function(){return t(o)},e),n=!1;return{dispose:function(){n||(n=!0,clearTimeout(i))}}}}else C=function(t,e){var i=requestIdleCallback(t,"number"==typeof e?{timeout:e}:void 0),n=!1;return{dispose:function(){n||(n=!0,cancelIdleCallback(i))}}}}();var k=(O.prototype.dispose=function(){this._handle.dispose()},O.prototype.getValue=function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value},O);function O(t){var e=this;this._executor=function(){try{e._value=t()}catch(t){e._error=t}finally{e._didRun=!0}},this._handle=C(function(){return e._executor()})}},function(t,e,i){"use strict";var o,n;i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"d",function(){return l}),(n=o=o||{}).serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies",n.getServiceDependencies=function(t){return t[n.DI_DEPENDENCIES]||[]};var r=a("instantiationService");function s(t,e,i,n){e[o.DI_TARGET]===e?e[o.DI_DEPENDENCIES].push({id:t,index:i,optional:n}):(e[o.DI_DEPENDENCIES]=[{id:t,index:i,optional:n}],e[o.DI_TARGET]=e)}function a(t){if(o.serviceIds.has(t))return o.serviceIds.get(t);var n=function(t,e,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");s(n,t,i,!1)};return n.toString=function(){return t},o.serviceIds.set(t,n),n}function l(n){return function(t,e,i){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");s(n,t,i,!0)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n="undefined"==typeof monaco?self.monaco:monaco,o={};var r={};function s(t){return r[t]||(r[t]=function(e){return(0,o[e].loader)().then(function(t){n.languages.setMonarchTokensProvider(e,t.language),n.languages.setLanguageConfiguration(e,t.conf)})}(t)),r[t]}function a(t){var e=t.id;o[e]=t,n.languages.register(t),n.languages.onLanguage(e,function(){s(e)})}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n,r,o=i(9),s=i(2),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=(r=s.a,a(u,r),u.prototype.clone=function(){return new u(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},u.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},u.prototype.equalsSelection=function(t){return u.selectionsEqual(this,t)},u.selectionsEqual=function(t,e){return t.selectionStartLineNumber===e.selectionStartLineNumber&&t.selectionStartColumn===e.selectionStartColumn&&t.positionLineNumber===e.positionLineNumber&&t.positionColumn===e.positionColumn},u.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1},u.prototype.setEndPosition=function(t,e){return 0===this.getDirection()?new u(this.startLineNumber,this.startColumn,t,e):new u(t,e,this.startLineNumber,this.startColumn)},u.prototype.getPosition=function(){return new o.a(this.positionLineNumber,this.positionColumn)},u.prototype.setStartPosition=function(t,e){return 0===this.getDirection()?new u(t,e,this.endLineNumber,this.endColumn):new u(this.endLineNumber,this.endColumn,t,e)},u.fromPositions=function(t,e){return void 0===e&&(e=t),new u(t.lineNumber,t.column,e.lineNumber,e.column)},u.liftSelection=function(t){return new u(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)},u.selectionsArrEqual=function(t,e){if(t&&!e||!t&&e)return!1;if(!t&&!e)return!0;if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(!this.selectionsEqual(t[i],e[i]))return!1;return!0},u.isISelection=function(t){return t&&"number"==typeof t.selectionStartLineNumber&&"number"==typeof t.selectionStartColumn&&"number"==typeof t.positionLineNumber&&"number"==typeof t.positionColumn},u.createWithDirection=function(t,e,i,n,o){return 0===o?new u(t,e,i,n):new u(i,n,t,e)},u);function u(t,e,i,n){var o=r.call(this,t,e,i,n)||this;return o.selectionStartLineNumber=t,o.selectionStartColumn=e,o.positionLineNumber=i,o.positionColumn=n,o}},function(t,e,i){"use strict";function n(t,e){return void 0===e&&(e=0),t[t.length-(1+e)]}function o(t,e,i){if(void 0===i&&(i=function(t,e){return t===e}),t===e)return!0;if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,o=t.length;n<o;n++)if(!i(t[n],e[n]))return!1;return!0}function r(t,e,i){for(var n=0,o=t.length-1;n<=o;){var r=(n+o)/2|0,s=i(t[r],e);if(s<0)n=1+r;else{if(!(0<s))return r;o=r-1}}return-(n+1)}function s(t,e){var i=0,n=t.length;if(0===n)return 0;for(;i<n;){var o=Math.floor((i+n)/2);e(t[o])?n=o:i=o+1}return i}function a(t,e){return function t(e,i,n,o,r){if(o<=n)return;var s=n+(o-n)/2|0;t(e,i,n,s,r);t(e,i,1+s,o,r);if(i(e[s],e[1+s])<=0)return;l(e,i,n,s,o,r)}(t,e,0,t.length-1,[]),t}function l(t,e,i,n,o,r){for(var s=i,a=n+1,l=i;l<=o;l++)r[l]=t[l];for(l=i;l<=o;l++)n<s?t[l]=r[a++]:o<a?t[l]=r[s++]:e(r[a],r[s])<0?t[l]=r[a++]:t[l]=r[s++]}function u(t,e){for(var i=[],n=void 0,o=0,r=a(t.slice(0),e);o<r.length;o++){var s=r[o];n&&0===e(n[0],s)?n.push(s):(n=[s],i.push(n))}return i}function h(t){return t?t.filter(function(t){return!!t}):t}function c(t){return!Array.isArray(t)||0===t.length}function d(i,n){if(!n)return i.filter(function(t,e){return i.indexOf(t)===e});var o=Object.create(null);return i.filter(function(t){var e=n(t);return!o[e]&&(o[e]=!0)})}function p(t,e){for(var i=0;i<t.length;i++){if(e(t[i]))return i}return-1}function f(t,e,i){void 0===i&&(i=null);var n=p(t,e);return n<0?i:t[n]}function g(t){var e;return(e=[]).concat.apply(e,t)}function m(t,e){var i="number"==typeof e?t:0;"number"==typeof e?i=t:(i=0,e=t);var n=[];if(i<=e)for(var o=i;o<e;o++)n.push(o);else for(o=i;e<o;o--)n.push(o);return n}function v(t,e,i){var n=t.slice(0,e),o=t.slice(e);return n.concat(i,o)}i.d(e,"n",function(){return n}),i.d(e,"e",function(){return o}),i.d(e,"b",function(){return r}),i.d(e,"f",function(){return s}),i.d(e,"l",function(){return a}),i.d(e,"j",function(){return u}),i.d(e,"c",function(){return h}),i.d(e,"k",function(){return c}),i.d(e,"d",function(){return d}),i.d(e,"h",function(){return p}),i.d(e,"g",function(){return f}),i.d(e,"i",function(){return g}),i.d(e,"m",function(){return m}),i.d(e,"a",function(){return v})},function(t,e,i){"use strict";i.d(e,"d",function(){return s}),i.d(e,"c",function(){return a}),i.d(e,"p",function(){return l}),i.d(e,"b",function(){return u}),i.d(e,"a",function(){return h}),i.d(e,"o",function(){return c}),i.d(e,"k",function(){return p}),i.d(e,"g",function(){return f}),i.d(e,"h",function(){return g}),i.d(e,"j",function(){return m}),i.d(e,"n",function(){return v}),i.d(e,"f",function(){return y}),i.d(e,"m",function(){return _}),i.d(e,"l",function(){return b}),i.d(e,"i",function(){return w}),i.d(e,"e",function(){return C});var n=i(5),o=(r.prototype.getZoomLevel=function(){return this._zoomLevel},r.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},r.prototype.getPixelRatio=function(){var t=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},r.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},r.INSTANCE=new r,r);function r(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new n.a,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._accessibilitySupport=0,this._onDidChangeAccessibilitySupport=new n.a,this.onDidChangeAccessibilitySupport=this._onDidChangeAccessibilitySupport.event}function s(){return o.INSTANCE.getZoomLevel()}function a(){return o.INSTANCE.getTimeSinceLastZoomLevelChanged()}function l(t){return o.INSTANCE.onDidChangeZoomLevel(t)}function u(){return o.INSTANCE.getPixelRatio()}function h(){return o.INSTANCE.getAccessibilitySupport()}function c(t){return o.INSTANCE.onDidChangeAccessibilitySupport(t)}var d=navigator.userAgent,p=0<=d.indexOf("Trident"),f=0<=d.indexOf("Edge/"),g=p||f,m=0<=d.indexOf("Firefox"),v=0<=d.indexOf("AppleWebKit"),y=0<=d.indexOf("Chrome"),_=-1===d.indexOf("Chrome")&&0<=d.indexOf("Safari"),b=0<=d.indexOf("iPad"),w=f&&0<=d.indexOf("WebView/");function C(){if(p)return!1;if(f){var t=d.indexOf("Edge/"),e=parseInt(d.substring(t+5,d.indexOf(".",t)),10);if(!e||12<=e&&e<=16)return!1}return!0}},function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"h",function(){return r}),i.d(e,"g",function(){return s}),i.d(e,"f",function(){return a}),i.d(e,"c",function(){return l}),i.d(e,"i",function(){return u}),i.d(e,"j",function(){return h}),i.d(e,"d",function(){return d}),i.d(e,"e",function(){return p}),i.d(e,"k",function(){return f}),i.d(e,"a",function(){return m});var n={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function o(t){return Array.isArray?Array.isArray(t):!(!t||typeof t.length!==n.number||t.constructor!==Array)}function r(t){return typeof t===n.string||t instanceof String}function s(t){return!(typeof t!==n.object||null===t||Array.isArray(t)||t instanceof RegExp||t instanceof Date)}function a(t){return(typeof t===n.number||t instanceof Number)&&!isNaN(t)}function l(t){return!0===t||!1===t}function u(t){return typeof t===n.undefined}function h(t){return u(t)||null===t}var c=Object.prototype.hasOwnProperty;function d(t){if(!s(t))return!1;for(var e in t)if(c.call(t,e))return!1;return!0}function p(t){return typeof t===n.function}function f(t,e){for(var i=Math.min(t.length,e.length),n=0;n<i;n++)g(t[n],e[n])}function g(t,e){if(r(e)){if(typeof t!==e)throw new Error("argument does not match constraint: typeof "+e)}else if(p(e)){if(t instanceof e)return;if(!h(t)&&t.constructor===e)return;if(1===e.length&&!0===e.call(void 0,t))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function m(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=Object.create(t.prototype);return t.apply(n,e),n}},function(t,e,i){"use strict";var p=i(13),a=i(5),n=i(4),o=i(14),r=o.b.performance&&"function"==typeof o.b.performance.now,s=(l.create=function(t){return void 0===t&&(t=!0),new l(t)},l.prototype.elapsed=function(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime},l.prototype._now=function(){return this._highResolution?o.b.performance.now():(new Date).getTime()},l);function l(t){this._highResolution=r&&t,this._startTime=this._now(),this._stopTime=-1}var x=i(8),u=i(30),h=i(33),c=i(9),b=i(2),d=i(20),k=i(47),f=(g.prototype.undo=function(t){for(var e=this.editOperations.length-1;0<=e;e--)this.editOperations[e]={operations:t.applyEdits(this.editOperations[e].operations)}},g.prototype.redo=function(t){for(var e=0;e<this.editOperations.length;e++)this.editOperations[e]={operations:t.applyEdits(this.editOperations[e].operations)}},g);function g(t,e){this.beforeVersionId=t,this.beforeCursorState=e,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}function m(t){return"\n"===t.getEOL()?0:1}var v=(y.prototype.undo=function(t){var e=m(t);t.setEOL(this.eol),this.eol=e},y.prototype.redo=function(t){var e=m(t);t.setEOL(this.eol),this.eol=e},y);function y(t,e){this.beforeVersionId=t,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=e}var _=(w.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},w.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},w.prototype.pushEOL=function(t){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var e=m(this.model),i=new v(this.model.getAlternativeVersionId(),e);this.model.setEOL(t),i.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=i,this.pushStackElement()},w.prototype.pushEditOperation=function(t,e,i){this.future=[];var n=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof f?n=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(n=new f(this.model.getAlternativeVersionId(),t),this.currentOpenStackElement=n);var o={operations:this.model.applyEdits(e)};return n.editOperations.push(o),n.afterCursorState=w._computeCursorState(i,o.operations),n.afterVersionId=this.model.getVersionId(),n.afterCursorState},w._computeCursorState=function(t,e){try{return t?t(e):null}catch(t){return Object(p.e)(t),null}},w.prototype.undo=function(){if(this.pushStackElement(),0<this.past.length){var t=this.past.pop();try{t.undo(this.model)}catch(t){return Object(p.e)(t),this.clear(),null}return this.future.push(t),{selections:t.beforeCursorState,recordedVersionId:t.beforeVersionId}}return null},w.prototype.canUndo=function(){return 0<this.past.length},w.prototype.redo=function(){if(0<this.future.length){var t=this.future.pop();try{t.redo(this.model)}catch(t){return Object(p.e)(t),this.clear(),null}return this.past.push(t),{selections:t.afterCursorState,recordedVersionId:t.afterVersionId}}return null},w.prototype.canRedo=function(){return 0<this.future.length},w);function w(t){this.model=t,this.currentOpenStackElement=null,this.past=[],this.future=[]}var O=function(){};function E(t,e,i,n,o){var r;for(o.spacesDiff=0,o.looksLikeAlignment=!1,r=0;r<e&&r<n;r++){if(t.charCodeAt(r)!==i.charCodeAt(r))break}for(var s=0,a=0,l=r;l<e;l++){32===t.charCodeAt(l)?s++:a++}var u=0,h=0;for(l=r;l<n;l++){32===i.charCodeAt(l)?u++:h++}if(!(0<s&&0<a||0<u&&0<h)){var c=Math.abs(a-h),d=Math.abs(s-u);0!==c?d%c!=0||(o.spacesDiff=d/c):0<(o.spacesDiff=d)&&0<=u-1&&u-1<t.length&&u<i.length&&32!==i.charCodeAt(u)&&32===t.charCodeAt(u-1)&&(o.looksLikeAlignment=!0)}}function C(t,e,i){for(var n=Math.min(t.getLineCount(),1e4),o=0,r=0,s="",a=0,l=[0,0,0,0,0,0,0,0,0],u=new O,h=1;h<=n;h++){for(var c=t.getLineLength(h),d=t.getLineContent(h),p=c<=65536,f=!1,g=0,m=0,v=0,y=0,_=c;y<_;y++){var b=p?d.charCodeAt(y):t.getLineCharCode(h,y);if(9===b)v++;else{if(32!==b){f=!0,g=y;break}m++}}if(f&&(0<v?o++:1<m&&r++,E(s,a,d,g,u),!u.looksLikeAlignment)){var w=u.spacesDiff;w<=8&&l[w]++,s=d,a=g}}var C=i;o!==r&&(C=o<r);var S=e,x=C?0:.1*n;return[2,4,6,8,3,5,7].forEach(function(t){var e=l[t];x<e&&(x=e,S=t)}),{insertSpaces:C,tabSize:S}}function S(t){return(1&t.metadata)>>>0}function L(t,e){t.metadata=254&t.metadata|e<<0}function D(t){return(2&t.metadata)>>>1==1}function I(t,e){t.metadata=253&t.metadata|(e?1:0)<<1}function N(t){return(4&t.metadata)>>>2==1}function T(t,e){t.metadata=251&t.metadata|(e?1:0)<<2}function M(t){return(8&t.metadata)>>>3==1}function A(t,e){t.metadata=247&t.metadata|(e?1:0)<<3}function P(t,e){t.metadata=207&t.metadata|e<<4}function R(t,e){t.metadata=191&t.metadata|(e?1:0)<<6}var F=(j.prototype.reset=function(t,e,i,n){this.start=e,this.end=i,this.maxEnd=i,this.cachedVersionId=t,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=i,this.range=n},j.prototype.setOptions=function(t){this.options=t;var e=this.options.className;T(this,"squiggly-error"===e||"squiggly-warning"===e||"squiggly-info"===e),P(this,this.options.stickiness),A(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),R(this,this.options.collapseOnReplaceEdit)},j.prototype.setCachedOffsets=function(t,e,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=e},j.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},j);function j(t,e,i){this.metadata=0,L(((this.parent=this).left=this).right=this,1),this.start=e,this.end=i,this.delta=0,this.maxEnd=i,this.id=t,this.ownerId=0,this.options=null,T(this,!1),P(this,1),A(this,!1),R(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=i,this.range=null,I(this,!1)}var B=new F(null,0,0);L(((B.parent=B).left=B).right=B,0);var H=(W.prototype.intervalSearch=function(t,e,i,n,o){return this.root===B?[]:function(t,e,i,n,o,r){for(var s=t.root,a=0,l=0,u=0,h=[],c=0;s!==B;)if(D(s))I(s.left,!1),I(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;else{if(!D(s.left)){if(a+s.maxEnd<e){I(s,!0);continue}if(s.left!==B){s=s.left;continue}}if(l=a+s.start,i<l)I(s,!0);else{if(u=a+s.end,e<=u){s.setCachedOffsets(l,u,r);var d=!0;n&&s.ownerId&&s.ownerId!==n&&(d=!1),o&&N(s)&&(d=!1),d&&(h[c++]=s)}I(s,!0),s.right===B||D(s.right)||(a+=s.delta,s=s.right)}}return I(t.root,!1),h}(this,t,e,i,n,o)},W.prototype.search=function(t,e,i){return this.root===B?[]:function(t,e,i,n){for(var o=t.root,r=0,s=0,a=0,l=[],u=0;o!==B;)if(D(o))I(o.left,!1),I(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),o=o.parent;else if(o.left===B||D(o.left)){s=r+o.start,a=r+o.end,o.setCachedOffsets(s,a,n);var h=!0;e&&o.ownerId&&o.ownerId!==e&&(h=!1),i&&N(o)&&(h=!1),h&&(l[u++]=o),I(o,!0),o.right===B||D(o.right)||(r+=o.delta,o=o.right)}else o=o.left;return I(t.root,!1),l}(this,t,e,i)},W.prototype.collectNodesFromOwner=function(t){return function(t,e){for(var i=t.root,n=[],o=0;i!==B;)D(i)?(I(i.left,!1),I(i.right,!1),i=i.parent):i.left===B||D(i.left)?(i.ownerId===e&&(n[o++]=i),I(i,!0),i.right===B||D(i.right)||(i=i.right)):i=i.left;return I(t.root,!1),n}(this,t)},W.prototype.collectNodesPostOrder=function(){return function(t){for(var e=t.root,i=[],n=0;e!==B;)D(e)?(I(e.left,!1),I(e.right,!1),e=e.parent):e.left===B||D(e.left)?e.right===B||D(e.right)?I(i[n++]=e,!0):e=e.right:e=e.left;return I(t.root,!1),i}(this)},W.prototype.insert=function(t){U(this,t),this._normalizeDeltaIfNecessary()},W.prototype.delete=function(t){q(this,t),this._normalizeDeltaIfNecessary()},W.prototype.resolveNode=function(t,e){for(var i=t,n=0;t!==this.root;)t===t.parent.right&&(n+=t.parent.delta),t=t.parent;var o=i.start+n,r=i.end+n;i.setCachedOffsets(o,r,e)},W.prototype.acceptReplace=function(t,e,i,n){for(var o=function(t,e,i){for(var n=t.root,o=0,r=0,s=0,a=[],l=0;n!==B;)if(D(n))I(n.left,!1),I(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;else{if(!D(n.left)){if(o+n.maxEnd<e){I(n,!0);continue}if(n.left!==B){n=n.left;continue}}r=o+n.start,i<r?I(n,!0):(s=o+n.end,e<=s&&(n.setCachedOffsets(r,s,0),a[l++]=n),I(n,!0),n.right===B||D(n.right)||(o+=n.delta,n=n.right))}return I(t.root,!1),a}(this,t,t+e),r=0,s=o.length;r<s;r++)q(this,a=o[r]);for(this._normalizeDeltaIfNecessary(),function(t,e,i,n){for(var o=t.root,r=0,s=0,a=n-(i-e);o!==B;)if(D(o))I(o.left,!1),I(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),Z(o),o=o.parent;else{if(!D(o.left)){if(r+o.maxEnd<e){I(o,!0);continue}if(o.left!==B){o=o.left;continue}}s=r+o.start,i<s?(o.start+=a,o.end+=a,o.delta+=a,(o.delta<-1073741824||1073741824<o.delta)&&(t.requestNormalizeDelta=!0),I(o,!0)):(I(o,!0),o.right===B||D(o.right)||(r+=o.delta,o=o.right))}I(t.root,!1)}(this,t,t+e,i),this._normalizeDeltaIfNecessary(),r=0,s=o.length;r<s;r++){var a;(a=o[r]).start=a.cachedAbsoluteStart,a.end=a.cachedAbsoluteEnd,z(a,t,t+e,i,n),a.maxEnd=a.end,U(this,a)}this._normalizeDeltaIfNecessary()},W.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(t){for(var e=t.root,i=0;e!==B;)e=e.left===B||D(e.left)?e.right===B||D(e.right)?(e.start=i+e.start,e.end=i+e.end,e.delta=0,Z(e),I(e,!0),I(e.left,!1),I(e.right,!1),e===e.parent.right&&(i-=e.parent.delta),e.parent):(i+=e.delta,e.right):e.left;I(t.root,!1)}(this))},W);function W(){this.root=B,this.requestNormalizeDelta=!1}function V(t,e,i,n){return t<i||!(i<t)&&(1!==n&&(2===n||e))}function z(t,e,i,n,o){var r=function(t){return(48&t.metadata)>>>4}(t),s=0===r||2===r,a=1===r||2===r,l=i-e,u=n,h=Math.min(l,u),c=t.start,d=!1,p=t.end,f=!1;e<=c&&p<=i&&function(t){return(64&t.metadata)>>>6==1}(t)&&(t.start=e,d=!0,t.end=e,f=!0);var g=o?1:0<l?2:0;if(!d&&V(c,s,e,g)&&(d=!0),!f&&V(p,a,e,g)&&(f=!0),0<h&&!o){g=u<l?2:0;!d&&V(c,s,e+h,g)&&(d=!0),!f&&V(p,a,e+h,g)&&(f=!0)}g=o?1:0;!d&&V(c,s,i,g)&&(t.start=e+u,d=!0),!f&&V(p,a,i,g)&&(t.end=e+u,f=!0);var m=u-l;d||(t.start=Math.max(0,c+m),d=!0),f||(t.end=Math.max(0,p+m),f=!0),t.start>t.end&&(t.end=t.start)}function U(t,e){if(t.root===B)return e.parent=B,e.left=B,e.right=B,L(e,0),t.root=e,t.root;!function(t,e){var i=0,n=t.root,o=e.start,r=e.end;for(;;){if(J(o,r,n.start+i,n.end+i)<0){if(n.left===B){e.start-=i,e.end-=i,e.maxEnd-=i,n.left=e;break}n=n.left}else{if(n.right===B){e.start-=i+n.delta,e.end-=i+n.delta,e.maxEnd-=i+n.delta,n.right=e;break}i+=n.delta,n=n.right}}e.parent=n,e.left=B,e.right=B,L(e,1)}(t,e),X(e.parent);for(var i=e;i!==t.root&&1===S(i.parent);){var n;if(i.parent===i.parent.parent.left)1===S(n=i.parent.parent.right)?(L(i.parent,0),L(n,0),L(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&G(t,i=i.parent),L(i.parent,0),L(i.parent.parent,1),Y(t,i.parent.parent));else 1===S(n=i.parent.parent.left)?(L(i.parent,0),L(n,0),L(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&Y(t,i=i.parent),L(i.parent,0),L(i.parent.parent,1),G(t,i.parent.parent))}return L(t.root,0),e}function q(t,e){var i,n;if(e.left===B?((i=(n=e).right).delta+=e.delta,(i.delta<-1073741824||1073741824<i.delta)&&(t.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta):e.right===B?(i=e.left,n=e):((i=(n=function(t){for(;t.left!==B;)t=t.left;return t}(e.right)).right).start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||1073741824<i.delta)&&(t.requestNormalizeDelta=!0),n.start+=e.delta,n.end+=e.delta,n.delta=e.delta,(n.delta<-1073741824||1073741824<n.delta)&&(t.requestNormalizeDelta=!0)),n===t.root)return L(t.root=i,0),e.detach(),K(),Z(i),void(t.root.parent=B);var o,r=1===S(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===e?i.parent=n.parent:(n.parent===e?i.parent=n:i.parent=n.parent,n.left=e.left,n.right=e.right,n.parent=e.parent,L(n,S(e)),e===t.root?t.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==B&&(n.left.parent=n),n.right!==B&&(n.right.parent=n)),e.detach(),r)return X(i.parent),n!==e&&(X(n),X(n.parent)),void K();for(X(i),X(i.parent),n!==e&&(X(n),X(n.parent));i!==t.root&&0===S(i);)i=i===i.parent.left?(1===S(o=i.parent.right)&&(L(o,0),L(i.parent,1),G(t,i.parent),o=i.parent.right),0===S(o.left)&&0===S(o.right)?(L(o,1),i.parent):(0===S(o.right)&&(L(o.left,0),L(o,1),Y(t,o),o=i.parent.right),L(o,S(i.parent)),L(i.parent,0),L(o.right,0),G(t,i.parent),t.root)):(1===S(o=i.parent.left)&&(L(o,0),L(i.parent,1),Y(t,i.parent),o=i.parent.left),0===S(o.left)&&0===S(o.right)?(L(o,1),i.parent):(0===S(o.left)&&(L(o.right,0),L(o,1),G(t,o),o=i.parent.left),L(o,S(i.parent)),L(i.parent,0),L(o.left,0),Y(t,i.parent),t.root));L(i,0),K()}function K(){(B.parent=B).delta=0,B.start=0,B.end=0}function G(t,e){var i=e.right;i.delta+=e.delta,(i.delta<-1073741824||1073741824<i.delta)&&(t.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,e.right=i.left,i.left!==B&&(i.left.parent=e),i.parent=e.parent,e.parent===B?t.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,(i.left=e).parent=i,Z(e),Z(i)}function Y(t,e){var i=e.left;e.delta-=i.delta,(e.delta<-1073741824||1073741824<e.delta)&&(t.requestNormalizeDelta=!0),e.start-=i.delta,e.end-=i.delta,e.left=i.right,i.right!==B&&(i.right.parent=e),i.parent=e.parent,e.parent===B?t.root=i:e===e.parent.right?e.parent.right=i:e.parent.left=i,(i.right=e).parent=i,Z(e),Z(i)}function $(t){var e=t.end;if(t.left!==B){var i=t.left.maxEnd;e<i&&(e=i)}if(t.right!==B){var n=t.right.maxEnd+t.delta;e<n&&(e=n)}return e}function Z(t){t.maxEnd=$(t)}function X(t){for(;t!==B;){var e=$(t);if(t.maxEnd===e)return;t.maxEnd=e,t=t.parent}}function J(t,e,i,n){return t===i?e-n:t-i}var Q=(tt.prototype.next=function(){if(this.right!==et)return it(this.right);for(var t=this;t.parent!==et&&t.parent.left!==t;)t=t.parent;return t.parent===et?et:t.parent},tt.prototype.prev=function(){if(this.left!==et)return nt(this.left);for(var t=this;t.parent!==et&&t.parent.right!==t;)t=t.parent;return t.parent===et?et:t.parent},tt.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},tt);function tt(t,e){this.piece=t,this.color=e,this.size_left=0,this.lf_left=0,((this.parent=this).left=this).right=this}var et=new Q(null,0);function it(t){for(;t.left!==et;)t=t.left;return t}function nt(t){for(;t.right!==et;)t=t.right;return t}function ot(t){return t===et?0:t.size_left+t.piece.length+ot(t.right)}function rt(t){return t===et?0:t.lf_left+t.piece.lineFeedCnt+rt(t.right)}function st(){et.parent=et}function at(t,e){var i=e.right;i.size_left+=e.size_left+(e.piece?e.piece.length:0),i.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=i.left,i.left!==et&&(i.left.parent=e),i.parent=e.parent,e.parent===et?t.root=i:e.parent.left===e?e.parent.left=i:e.parent.right=i,(i.left=e).parent=i}function lt(t,e){var i=e.left;e.left=i.right,i.right!==et&&(i.right.parent=e),i.parent=e.parent,e.size_left-=i.size_left+(i.piece?i.piece.length:0),e.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),e.parent===et?t.root=i:e===e.parent.right?e.parent.right=i:e.parent.left=i,(i.right=e).parent=i}function ut(t,e){var i,n;if(i=e.left===et?(n=e).right:e.right===et?(n=e).left:(n=it(e.right)).right,n===t.root)return(t.root=i).color=0,e.detach(),st(),void(t.root.parent=et);var o=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===e?(i.parent=n.parent,dt(t,i)):(n.parent===e?i.parent=n:i.parent=n.parent,dt(t,i),n.left=e.left,n.right=e.right,n.parent=e.parent,n.color=e.color,e===t.root?t.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==et&&(n.left.parent=n),n.right!==et&&(n.right.parent=n),n.size_left=e.size_left,n.lf_left=e.lf_left,dt(t,n)),e.detach(),i.parent.left===i){var r=ot(i),s=rt(i);if(r!==i.parent.size_left||s!==i.parent.lf_left){var a=r-i.parent.size_left,l=s-i.parent.lf_left;i.parent.size_left=r,i.parent.lf_left=s,ct(t,i.parent,a,l)}}if(dt(t,i.parent),o)st();else{for(var u;i!==t.root&&0===i.color;)i=i===i.parent.left?(1===(u=i.parent.right).color&&(u.color=0,i.parent.color=1,at(t,i.parent),u=i.parent.right),0===u.left.color&&0===u.right.color?(u.color=1,i.parent):(0===u.right.color&&(u.left.color=0,u.color=1,lt(t,u),u=i.parent.right),u.color=i.parent.color,i.parent.color=0,u.right.color=0,at(t,i.parent),t.root)):(1===(u=i.parent.left).color&&(u.color=0,i.parent.color=1,lt(t,i.parent),u=i.parent.left),0===u.left.color&&0===u.right.color?(u.color=1,i.parent):(0===u.left.color&&(u.right.color=0,u.color=1,at(t,u),u=i.parent.left),u.color=i.parent.color,i.parent.color=0,u.left.color=0,lt(t,i.parent),t.root));i.color=0,st()}}function ht(t,e){for(dt(t,e);e!==t.root&&1===e.parent.color;){var i;if(e.parent===e.parent.parent.left)1===(i=e.parent.parent.right).color?(e.parent.color=0,i.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&at(t,e=e.parent),e.parent.color=0,e.parent.parent.color=1,lt(t,e.parent.parent));else 1===(i=e.parent.parent.left).color?(e.parent.color=0,i.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&lt(t,e=e.parent),e.parent.color=0,e.parent.parent.color=1,at(t,e.parent.parent))}t.root.color=0}function ct(t,e,i,n){for(;e!==t.root&&e!==et;)e.parent.left===e&&(e.parent.size_left+=i,e.parent.lf_left+=n),e=e.parent}function dt(t,e){var i=0,n=0;if(e!==t.root){if(0===i){for(;e!==t.root&&e===e.parent.right;)e=e.parent;if(e===t.root)return;i=ot((e=e.parent).left)-e.size_left,n=rt(e.left)-e.lf_left,e.size_left+=i,e.lf_left+=n}for(;e!==t.root&&(0!==i||0!==n);)e.parent.left===e&&(e.parent.size_left+=i,e.parent.lf_left+=n),e=e.parent}}(((et.parent=et).left=et).right=et).color=0;var pt=i(76),ft=65535;function gt(t){var e;return(e=t[t.length-1]<65536?new Uint16Array(t.length):new Uint32Array(t.length)).set(t,0),e}var mt=function(t,e,i,n,o){this.lineStarts=t,this.cr=e,this.lf=i,this.crlf=n,this.isBasicASCII=o};function vt(t,e){void 0===e&&(e=!0);for(var i=[0],n=1,o=0,r=t.length;o<r;o++){var s=t.charCodeAt(o);13===s?o+1<r&&10===t.charCodeAt(o+1)?(i[n++]=o+2,o++):i[n++]=o+1:10===s&&(i[n++]=o+1)}return e?gt(i):i}var yt=function(t,e,i,n,o){this.bufferIndex=t,this.start=e,this.end=i,this.lineFeedCnt=n,this.length=o},_t=function(t,e){this.buffer=t,this.lineStarts=e},bt=(wt.prototype.get=function(t){for(var e=this._cache.length-1;0<=e;e--){var i=this._cache[e];if(i.nodeStartOffset<=t&&i.nodeStartOffset+i.node.piece.length>=t)return i}return null},wt.prototype.get2=function(t){for(var e=this._cache.length-1;0<=e;e--){var i=this._cache[e];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<t&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=t)return i}return null},wt.prototype.set=function(t){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(t)},wt.prototype.valdiate=function(t){for(var e=!1,i=this._cache,n=0;n<i.length;n++){var o=i[n];(null===o.node.parent||o.nodeStartOffset>=t)&&(e=!(i[n]=null))}if(e){var r=[];for(n=0;n<i.length;n++){var s=i[n];null!==s&&r.push(s)}this._cache=r}},wt);function wt(t){this._limit=t,this._cache=[]}var Ct=(St.prototype.create=function(t,e,i){this._buffers=[new _t("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=et,this._lineCnt=1,this._length=0,this._EOL=e,this._EOLLength=e.length,this._EOLNormalized=i;for(var n=null,o=0,r=t.length;o<r;o++)if(0<t[o].buffer.length){t[o].lineStarts||(t[o].lineStarts=vt(t[o].buffer));var s=new yt(o+1,{line:0,column:0},{line:t[o].lineStarts.length-1,column:t[o].buffer.length-t[o].lineStarts[t[o].lineStarts.length-1]},t[o].lineStarts.length-1,t[o].buffer.length);this._buffers.push(t[o]),n=this.rbInsertRight(n,s)}this._searchCache=new bt(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()},St.prototype.normalizeEOL=function(o){var r=this,s=65535-Math.floor(21845),a=2*s,l="",u=0,h=[];if(this.iterate(this.root,function(t){var e=r.getNodeContent(t),i=e.length;if(u<=s||u+i<a)return l+=e,u+=i,!0;var n=l.replace(/\r\n|\r|\n/g,o);return h.push(new _t(n,vt(n))),l=e,u=i,!0}),0<u){var t=l.replace(/\r\n|\r|\n/g,o);h.push(new _t(t,vt(t)))}this.create(h,o,!0)},St.prototype.getEOL=function(){return this._EOL},St.prototype.setEOL=function(t){this._EOL=t,this._EOLLength=this._EOL.length,this.normalizeEOL(t)},St.prototype.getOffsetAt=function(t,e){for(var i=0,n=this.root;n!==et;)if(n.left!==et&&n.lf_left+1>=t)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=t)return(i+=n.size_left)+(this.getAccumulatedValue(n,t-n.lf_left-2)+e-1);t-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i},St.prototype.getPositionAt=function(t){t=Math.floor(t),t=Math.max(0,t);for(var e=this.root,i=0,n=t;e!==et;)if(0!==e.size_left&&e.size_left>=t)e=e.left;else{if(e.size_left+e.piece.length>=t){var o=this.getIndexOf(e,t-e.size_left);if(i+=e.lf_left+o.index,0!==o.index)return new c.a(i+1,o.remainder+1);var r=n-this.getOffsetAt(i+1,1);return new c.a(i+1,r+1)}if(t-=e.size_left+e.piece.length,i+=e.lf_left+e.piece.lineFeedCnt,e.right===et)return r=n-t-this.getOffsetAt(i+1,1),new c.a(i+1,r+1);e=e.right}return new c.a(1,1)},St.prototype.getValueInRange=function(t,e){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";var i=this.nodeAt2(t.startLineNumber,t.startColumn),n=this.nodeAt2(t.endLineNumber,t.endColumn),o=this.getValueInRange2(i,n);return e?e===this._EOL&&this._EOLNormalized&&e===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,e):o},St.prototype.getValueInRange2=function(t,e){if(t.node===e.node){var i=t.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(o+t.remainder,o+e.remainder)}var r=t.node,s=this._buffers[r.piece.bufferIndex].buffer,a=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start),l=s.substring(a+t.remainder,a+r.piece.length);for(r=r.next();r!==et;){var u=this._buffers[r.piece.bufferIndex].buffer,h=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===e.node){l+=u.substring(h,h+e.remainder);break}l+=u.substr(h,r.piece.length),r=r.next()}return l},St.prototype.getLinesContent=function(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)},St.prototype.getLength=function(){return this._length},St.prototype.getLineCount=function(){return this._lineCnt},St.prototype.getLineContent=function(t){return this._lastVisitedLine.lineNumber===t||((this._lastVisitedLine.lineNumber=t)===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(t):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(t,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value},St.prototype.getLineCharCode=function(t,e){var i=this.nodeAt2(t,e+1);if(i.remainder===i.node.piece.length){var n=i.node.next();if(!n)return 0;var o=this._buffers[n.piece.bufferIndex],r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return o.buffer.charCodeAt(r)}o=this._buffers[i.node.piece.bufferIndex];var s=(r=this.offsetInBuffer(i.node.piece.bufferIndex,i.node.piece.start))+i.remainder;return o.buffer.charCodeAt(s)},St.prototype.getLineLength=function(t){if(t!==this.getLineCount())return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this._EOLLength;var e=this.getOffsetAt(t,1);return this.getLength()-e},St.prototype.findMatchesInNode=function(t,e,i,n,o,r,s,a,l,u,h){var c,d=this._buffers[t.piece.bufferIndex],p=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),f=this.offsetInBuffer(t.piece.bufferIndex,o),g=this.offsetInBuffer(t.piece.bufferIndex,r);e.reset(f);var m={line:0,column:0};do{if(c=e.next(d.buffer)){if(c.index>=g)return u;this.positionInBuffer(t,c.index-p,m);var v=this.getLineFeedCnt(t.piece.bufferIndex,o,m),y=m.line===o.line?m.column-o.column+n:m.column+1,_=y+c[0].length;if(h[u++]=Object(pt.d)(new b.a(i+v,y,i+v,_),c,a),c.index+c[0].length>=g)return u;if(l<=u)return u}}while(c);return u},St.prototype.findMatchesLineByLine=function(t,e,i,n){var o=[],r=0,s=new pt.b(e.wordSeparators,e.regex),a=this.nodeAt2(t.startLineNumber,t.startColumn);if(null===a)return[];var l=this.nodeAt2(t.endLineNumber,t.endColumn);if(null===l)return[];var u=this.positionInBuffer(a.node,a.remainder),h=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,s,t.startLineNumber,t.startColumn,u,h,e,i,n,r,o),o;for(var c=t.startLineNumber,d=a.node;d!==l.node;){var p=this.getLineFeedCnt(d.piece.bufferIndex,u,d.piece.end);if(1<=p){var f=this._buffers[d.piece.bufferIndex].lineStarts,g=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),m=f[u.line+p],v=c===t.startLineNumber?t.startColumn:1;if(n<=(r=this.findMatchesInNode(d,s,c,v,u,this.positionInBuffer(d,m-g),e,i,n,r,o)))return o;c+=p}var y=c===t.startLineNumber?t.startColumn-1:0;if(c===t.endLineNumber){var _=this.getLineContent(c).substring(y,t.endColumn-1);return r=this._findMatchesInLine(e,s,_,t.endLineNumber,y,r,o,i,n),o}if(n<=(r=this._findMatchesInLine(e,s,this.getLineContent(c).substr(y),c,y,r,o,i,n)))return o;c++,d=(a=this.nodeAt2(c,1)).node,u=this.positionInBuffer(a.node,a.remainder)}if(c===t.endLineNumber){var b=c===t.startLineNumber?t.startColumn-1:0;return _=this.getLineContent(c).substring(b,t.endColumn-1),r=this._findMatchesInLine(e,s,_,t.endLineNumber,b,r,o,i,n),o}var w=c===t.startLineNumber?t.startColumn:1;return r=this.findMatchesInNode(l.node,s,c,w,u,h,e,i,n,r,o),o},St.prototype._findMatchesInLine=function(t,e,i,n,o,r,s,a,l){var u,h=t.wordSeparators;if(!a&&t.simpleSearch){for(var c=t.simpleSearch,d=c.length,p=i.length,f=-d;-1!==(f=i.indexOf(c,f+d));)if((!h||Object(pt.e)(h,i,p,f,d))&&(s[r++]=new k.b(new b.a(n,f+1+o,n,f+1+d+o),null),l<=r))return r;return r}e.reset(0);do{if((u=e.next(i))&&(s[r++]=Object(pt.d)(new b.a(n,u.index+1+o,n,u.index+1+u[0].length+o),u,a),l<=r))return r}while(u);return r},St.prototype.insert=function(t,e,i){if(void 0===i&&(i=!1),this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==et){var n=this.nodeAt(t),o=n.node,r=n.remainder,s=n.nodeStartOffset,a=o.piece,l=a.bufferIndex,u=this.positionInBuffer(o,r);if(0===o.piece.bufferIndex&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===t&&e.length<ft)return this.appendToNode(o,e),void this.computeBufferMetadata();if(s===t)this.insertContentToNodeLeft(e,o),this._searchCache.valdiate(t);else if(s+o.piece.length>t){var h=[],c=new yt(a.bufferIndex,u,a.end,this.getLineFeedCnt(a.bufferIndex,u,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,u));if(this.shouldCheckCRLF()&&this.endWithCR(e)&&10===this.nodeCharCodeAt(o,r)){var d={line:c.start.line+1,column:0};c=new yt(c.bufferIndex,d,c.end,this.getLineFeedCnt(c.bufferIndex,d,c.end),c.length-1),e+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(e))if(13===this.nodeCharCodeAt(o,r-1)){var p=this.positionInBuffer(o,r-1);this.deleteNodeTail(o,p),e="\r"+e,0===o.piece.length&&h.push(o)}else this.deleteNodeTail(o,u);else this.deleteNodeTail(o,u);var f=this.createNewPieces(e);0<c.length&&this.rbInsertRight(o,c);for(var g=o,m=0;m<f.length;m++)g=this.rbInsertRight(g,f[m]);this.deleteNodes(h)}else this.insertContentToNodeRight(e,o)}else{var v=this.createNewPieces(e);for(o=this.rbInsertLeft(null,v[0]),m=1;m<v.length;m++)o=this.rbInsertRight(o,v[m])}this.computeBufferMetadata()},St.prototype.delete=function(t,e){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(e<=0||this.root===et)){var i=this.nodeAt(t),n=this.nodeAt(t+e),o=i.node,r=n.node;if(o===r){var s=this.positionInBuffer(o,i.remainder),a=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset!==t)return i.nodeStartOffset+o.piece.length===t+e?(this.deleteNodeTail(o,s),this.validateCRLFWithNextNode(o)):this.shrinkNode(o,s,a),void this.computeBufferMetadata();if(e!==o.piece.length)return this.deleteNodeHead(o,a),this._searchCache.valdiate(t),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata();var l=o.next();return ut(this,o),this.validateCRLFWithPrevNode(l),void this.computeBufferMetadata()}var u=[],h=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,h),this._searchCache.valdiate(t),0===o.piece.length&&u.push(o);var c=this.positionInBuffer(r,n.remainder);this.deleteNodeHead(r,c),0===r.piece.length&&u.push(r);for(var d=o.next();d!==et&&d!==r;d=d.next())u.push(d);var p=0===o.piece.length?o.prev():o;this.deleteNodes(u),this.validateCRLFWithNextNode(p),this.computeBufferMetadata()}},St.prototype.insertContentToNodeLeft=function(t,e){var i=[];if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.startWithLF(e)){var n=e.piece,o={line:n.start.line+1,column:0},r=new yt(n.bufferIndex,o,n.end,this.getLineFeedCnt(n.bufferIndex,o,n.end),n.length-1);e.piece=r,t+="\n",ct(this,e,-1,-1),0===e.piece.length&&i.push(e)}for(var s=this.createNewPieces(t),a=this.rbInsertLeft(e,s[s.length-1]),l=s.length-2;0<=l;l--)a=this.rbInsertLeft(a,s[l]);this.validateCRLFWithPrevNode(a),this.deleteNodes(i)},St.prototype.insertContentToNodeRight=function(t,e){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");for(var i=this.createNewPieces(t),n=this.rbInsertRight(e,i[0]),o=n,r=1;r<i.length;r++)o=this.rbInsertRight(o,i[r]);this.validateCRLFWithPrevNode(n)},St.prototype.positionInBuffer=function(t,e,i){for(var n=t.piece,o=t.piece.bufferIndex,r=this._buffers[o].lineStarts,s=r[n.start.line]+n.start.column+e,a=n.start.line,l=n.end.line,u=0,h=0,c=0;a<=l&&(c=r[u=a+(l-a)/2|0],u!==l);)if(h=r[u+1],s<c)l=u-1;else{if(!(h<=s))break;a=u+1}return i?(i.line=u,i.column=s-c,null):{line:u,column:s-c}},St.prototype.getLineFeedCnt=function(t,e,i){if(0===i.column)return i.line-e.line;var n=this._buffers[t].lineStarts;if(i.line===n.length-1)return i.line-e.line;var o=n[i.line+1],r=n[i.line]+i.column;if(r+1<o)return i.line-e.line;var s=r-1;return 13===this._buffers[t].buffer.charCodeAt(s)?i.line-e.line+1:i.line-e.line},St.prototype.offsetInBuffer=function(t,e){return this._buffers[t].lineStarts[e.line]+e.column},St.prototype.deleteNodes=function(t){for(var e=0;e<t.length;e++)ut(this,t[e])},St.prototype.createNewPieces=function(t){if(t.length>ft){for(var e=[];t.length>ft;){var i=t.charCodeAt(ft-1),n=void 0;t=13===i||55296<=i&&i<=56319?(n=t.substring(0,ft-1),t.substring(ft-1)):(n=t.substring(0,ft),t.substring(ft));var o=vt(n);e.push(new yt(this._buffers.length,{line:0,column:0},{line:o.length-1,column:n.length-o[o.length-1]},o.length-1,n.length)),this._buffers.push(new _t(n,o))}var r=vt(t);return e.push(new yt(this._buffers.length,{line:0,column:0},{line:r.length-1,column:t.length-r[r.length-1]},r.length-1,t.length)),this._buffers.push(new _t(t,r)),e}var s=this._buffers[0].buffer.length,a=vt(t,!1),l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&0!==s&&this.startWithLF(t)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(var u=0;u<a.length;u++)a[u]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+="_"+t,s+=1}else{if(0!==s)for(u=0;u<a.length;u++)a[u]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+=t}var h=this._buffers[0].buffer.length,c=this._buffers[0].lineStarts.length-1,d={line:c,column:h-this._buffers[0].lineStarts[c]},p=new yt(0,l,d,this.getLineFeedCnt(0,l,d),h-s);return this._lastChangeBufferPos=d,[p]},St.prototype.getLineRawContent=function(t,e){void 0===e&&(e=0);var i=this.root,n="",o=this._searchCache.get2(t);if(o){i=o.node;var r=this.getAccumulatedValue(i,t-o.nodeStartLineNumber-1),s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==t){var l=this.getAccumulatedValue(i,t-o.nodeStartLineNumber);return s.substring(a+r,a+l-e)}n=s.substring(a+r,a+i.piece.length)}else for(var u=0,h=t;i!==et;)if(i.left!==et&&i.lf_left>=t-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>t-1)return r=this.getAccumulatedValue(i,t-i.lf_left-2),l=this.getAccumulatedValue(i,t-i.lf_left-1),s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),u+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:u,nodeStartLineNumber:h-(t-1-i.lf_left)}),s.substring(a+r,a+l-e);if(i.lf_left+i.piece.lineFeedCnt===t-1){r=this.getAccumulatedValue(i,t-i.lf_left-2),s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),n=s.substring(a+r,a+i.piece.length);break}t-=i.lf_left+i.piece.lineFeedCnt,u+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==et;){if(s=this._buffers[i.piece.bufferIndex].buffer,0<i.piece.lineFeedCnt)return l=this.getAccumulatedValue(i,0),a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),n+=s.substring(a,a+l-e);a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),n+=s.substr(a,i.piece.length),i=i.next()}return n},St.prototype.computeBufferMetadata=function(){for(var t=this.root,e=1,i=0;t!==et;)e+=t.lf_left+t.piece.lineFeedCnt,i+=t.size_left+t.piece.length,t=t.right;this._lineCnt=e,this._length=i,this._searchCache.valdiate(this._length)},St.prototype.getIndexOf=function(t,e){var i=t.piece,n=this.positionInBuffer(t,e),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===e){var r=this.getLineFeedCnt(t.piece.bufferIndex,i.start,n);if(r!==o)return{index:r,remainder:0}}return{index:o,remainder:n.column}},St.prototype.getAccumulatedValue=function(t,e){if(e<0)return 0;var i=t.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+e+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column},St.prototype.deleteNodeTail=function(t,e){var i=t.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),r=e,s=this.offsetInBuffer(i.bufferIndex,r),a=this.getLineFeedCnt(i.bufferIndex,i.start,r),l=a-n,u=s-o,h=i.length+u;t.piece=new yt(i.bufferIndex,i.start,r,a,h),ct(this,t,u,l)},St.prototype.deleteNodeHead=function(t,e){var i=t.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),r=e,s=this.getLineFeedCnt(i.bufferIndex,r,i.end),a=s-n,l=o-this.offsetInBuffer(i.bufferIndex,r),u=i.length+l;t.piece=new yt(i.bufferIndex,r,i.end,s,u),ct(this,t,l,a)},St.prototype.shrinkNode=function(t,e,i){var n=t.piece,o=n.start,r=n.end,s=n.length,a=n.lineFeedCnt,l=e,u=this.getLineFeedCnt(n.bufferIndex,n.start,l),h=this.offsetInBuffer(n.bufferIndex,e)-this.offsetInBuffer(n.bufferIndex,o);t.piece=new yt(n.bufferIndex,n.start,l,u,h),ct(this,t,h-s,u-a);var c=new yt(n.bufferIndex,i,r,this.getLineFeedCnt(n.bufferIndex,i,r),this.offsetInBuffer(n.bufferIndex,r)-this.offsetInBuffer(n.bufferIndex,i)),d=this.rbInsertRight(t,c);this.validateCRLFWithPrevNode(d)},St.prototype.appendToNode=function(t,e){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");var i=this.shouldCheckCRLF()&&this.startWithLF(e)&&this.endWithCR(t),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=e;for(var o=vt(e,!1),r=0;r<o.length;r++)o[r]+=n;if(i){var s=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-s}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));var a=this._buffers[0].lineStarts.length-1,l={line:a,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[a]},u=t.piece.length+e.length,h=t.piece.lineFeedCnt,c=this.getLineFeedCnt(0,t.piece.start,l),d=c-h;t.piece=new yt(t.piece.bufferIndex,t.piece.start,l,c,u),this._lastChangeBufferPos=l,ct(this,t,e.length,d)},St.prototype.nodeAt=function(t){var e=this.root,i=this._searchCache.get(t);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:t-i.nodeStartOffset};for(var n=0;e!==et;)if(e.size_left>t)e=e.left;else{if(e.size_left+e.piece.length>=t){n+=e.size_left;var o={node:e,remainder:t-e.size_left,nodeStartOffset:n};return this._searchCache.set(o),o}t-=e.size_left+e.piece.length,n+=e.size_left+e.piece.length,e=e.right}return null},St.prototype.nodeAt2=function(t,e){for(var i=this.root,n=0;i!==et;)if(i.left!==et&&i.lf_left>=t-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>t-1){var o=this.getAccumulatedValue(i,t-i.lf_left-2),r=this.getAccumulatedValue(i,t-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+e-1,r),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===t-1){if((o=this.getAccumulatedValue(i,t-i.lf_left-2))+e-1<=i.piece.length)return{node:i,remainder:o+e-1,nodeStartOffset:n};e-=i.piece.length-o;break}t-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==et;){if(0<i.piece.lineFeedCnt){r=this.getAccumulatedValue(i,0);var s=this.offsetOfNode(i);return{node:i,remainder:Math.min(e-1,r),nodeStartOffset:s}}if(i.piece.length>=e-1)return{node:i,remainder:e-1,nodeStartOffset:this.offsetOfNode(i)};e-=i.piece.length,i=i.next()}return null},St.prototype.nodeCharCodeAt=function(t,e){if(t.piece.lineFeedCnt<1)return-1;var i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start)+e;return i.buffer.charCodeAt(n)},St.prototype.offsetOfNode=function(t){if(!t)return 0;for(var e=t.size_left;t!==this.root;)t.parent.right===t&&(e+=t.parent.size_left+t.parent.piece.length),t=t.parent;return e},St.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&"\n"===this._EOL)},St.prototype.startWithLF=function(t){if("string"==typeof t)return 10===t.charCodeAt(0);if(t===et||0===t.piece.lineFeedCnt)return!1;var e=t.piece,i=this._buffers[e.bufferIndex].lineStarts,n=e.start.line,o=i[n]+e.start.column;return n!==i.length-1&&!(o+1<i[n+1])&&10===this._buffers[e.bufferIndex].buffer.charCodeAt(o)},St.prototype.endWithCR=function(t){return"string"==typeof t?13===t.charCodeAt(t.length-1):t!==et&&0!==t.piece.lineFeedCnt&&13===this.nodeCharCodeAt(t,t.piece.length-1)},St.prototype.validateCRLFWithPrevNode=function(t){if(this.shouldCheckCRLF()&&this.startWithLF(t)){var e=t.prev();this.endWithCR(e)&&this.fixCRLF(e,t)}},St.prototype.validateCRLFWithNextNode=function(t){if(this.shouldCheckCRLF()&&this.endWithCR(t)){var e=t.next();this.startWithLF(e)&&this.fixCRLF(t,e)}},St.prototype.fixCRLF=function(t,e){var i,n=[],o=this._buffers[t.piece.bufferIndex].lineStarts;i=0===t.piece.end.column?{line:t.piece.end.line-1,column:o[t.piece.end.line]-o[t.piece.end.line-1]-1}:{line:t.piece.end.line,column:t.piece.end.column-1};var r=t.piece.length-1,s=t.piece.lineFeedCnt-1;t.piece=new yt(t.piece.bufferIndex,t.piece.start,i,s,r),ct(this,t,-1,-1),0===t.piece.length&&n.push(t);var a={line:e.piece.start.line+1,column:0},l=e.piece.length-1,u=this.getLineFeedCnt(e.piece.bufferIndex,a,e.piece.end);e.piece=new yt(e.piece.bufferIndex,a,e.piece.end,u,l),ct(this,e,-1,-1),0===e.piece.length&&n.push(e);var h=this.createNewPieces("\r\n");this.rbInsertRight(t,h[0]);for(var c=0;c<n.length;c++)ut(this,n[c])},St.prototype.adjustCarriageReturnFromNext=function(t,e){if(this.shouldCheckCRLF()&&this.endWithCR(t)){var i=e.next();if(this.startWithLF(i)){if(t+="\n",1===i.piece.length)ut(this,i);else{var n=i.piece,o={line:n.start.line+1,column:0},r=n.length-1,s=this.getLineFeedCnt(n.bufferIndex,o,n.end);i.piece=new yt(n.bufferIndex,o,n.end,s,r),ct(this,i,-1,-1)}return!0}}return!1},St.prototype.iterate=function(t,e){if(t===et)return e(et);var i=this.iterate(t.left,e);return i?e(t)&&this.iterate(t.right,e):i},St.prototype.getNodeContent=function(t){if(t===et)return"";var e=this._buffers[t.piece.bufferIndex],i=t.piece,n=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return e.buffer.substring(n,o)},St.prototype.rbInsertRight=function(t,e){var i=new Q(e,1);if(i.left=et,i.right=et,i.parent=et,i.size_left=0,i.lf_left=0,this.root===et)(this.root=i).color=0;else if(t.right===et)(t.right=i).parent=t;else{var n=it(t.right);(n.left=i).parent=n}return ht(this,i),i},St.prototype.rbInsertLeft=function(t,e){var i=new Q(e,1);if(i.left=et,i.right=et,i.parent=et,i.size_left=0,i.lf_left=0,this.root===et)(this.root=i).color=0;else if(t.left===et)(t.left=i).parent=t;else{var n=nt(t.left);(n.right=i).parent=n}return ht(this,i),i},St.prototype.getContentOfSubTree=function(t){var e=this,i="";return this.iterate(t,function(t){return i+=e.getNodeContent(t),!0}),i},St);function St(t,e,i){this.create(t,e,i)}var xt=(kt.prototype.mightContainRTL=function(){return this._mightContainRTL},kt.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},kt.prototype.getBOM=function(){return this._BOM},kt.prototype.getEOL=function(){return this._pieceTree.getEOL()},kt.prototype.getOffsetAt=function(t,e){return this._pieceTree.getOffsetAt(t,e)},kt.prototype.getPositionAt=function(t){return this._pieceTree.getPositionAt(t)},kt.prototype.getRangeAt=function(t,e){var i=t+e,n=this.getPositionAt(t),o=this.getPositionAt(i);return new b.a(n.lineNumber,n.column,o.lineNumber,o.column)},kt.prototype.getValueInRange=function(t,e){if(void 0===e&&(e=0),t.isEmpty())return"";var i=this._getEndOfLine(e);return this._pieceTree.getValueInRange(t,i)},kt.prototype.getValueLengthInRange=function(t,e){if(void 0===e&&(e=0),t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;var i=this.getOffsetAt(t.startLineNumber,t.startColumn);return this.getOffsetAt(t.endLineNumber,t.endColumn)-i},kt.prototype.getLength=function(){return this._pieceTree.getLength()},kt.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},kt.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},kt.prototype.getLineContent=function(t){return this._pieceTree.getLineContent(t)},kt.prototype.getLineCharCode=function(t,e){return this._pieceTree.getLineCharCode(t,e)},kt.prototype.getLineLength=function(t){return this._pieceTree.getLineLength(t)},kt.prototype.getLineFirstNonWhitespaceColumn=function(t){var e=x.o(this.getLineContent(t));return-1===e?0:e+1},kt.prototype.getLineLastNonWhitespaceColumn=function(t){var e=x.y(this.getLineContent(t));return-1===e?0:e+2},kt.prototype._getEndOfLine=function(t){switch(t){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL()}throw new Error("Unknown EOL preference")},kt.prototype.setEOL=function(t){this._pieceTree.setEOL(t)},kt.prototype.applyEdits=function(t,e){for(var i=this._mightContainRTL,n=this._mightContainNonBasicASCII,o=!0,r=[],s=0;s<t.length;s++){var a=t[s];o&&a._isTracked&&(o=!1);var l=a.range;!i&&a.text&&(i=x.g(a.text)),!n&&a.text&&(n=!x.r(a.text)),r[s]={sortIndex:s,identifier:a.identifier||null,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l),lines:a.text?a.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:Boolean(a.forceMoveMarkers),isAutoWhitespaceEdit:a.isAutoWhitespaceEdit||!1}}r.sort(kt._sortOpsAscending);for(var u=!1,h=(s=0,r.length-1);s<h;s++){var c=r[s].range.getEndPosition(),d=r[s+1].range.getStartPosition();if(d.isBeforeOrEqual(c)){if(d.isBefore(c))throw new Error("Overlapping ranges are not allowed!");u=!0}}o&&(r=this._reduceOperations(r));var p=kt._getInverseEditRanges(r),f=[];for(s=0;s<r.length;s++){a=r[s];var g=p[s];if(e&&a.isAutoWhitespaceEdit&&a.range.isEmpty())for(var m=g.startLineNumber;m<=g.endLineNumber;m++){var v="";m===g.startLineNumber&&(v=this.getLineContent(a.range.startLineNumber),-1!==x.o(v))||f.push({lineNumber:m,oldContent:v})}}var y=[];for(s=0;s<r.length;s++)a=r[s],g=p[s],y[s]={sortIndex:a.sortIndex,identifier:a.identifier,range:g,text:this.getValueInRange(a.range),forceMoveMarkers:a.forceMoveMarkers};u||y.sort(function(t,e){return t.sortIndex-e.sortIndex}),this._mightContainRTL=i,this._mightContainNonBasicASCII=n;var _=this._doApplyEdits(r),b=null;if(e&&0<f.length){f.sort(function(t,e){return e.lineNumber-t.lineNumber}),b=[],s=0;for(var w=f.length;s<w;s++)if(m=f[s].lineNumber,!(0<s&&f[s-1].lineNumber===m)){var C=f[s].oldContent,S=this.getLineContent(m);0!==S.length&&S!==C&&-1===x.o(S)&&b.push(m)}}return new k.a(y,_,b)},kt.prototype._reduceOperations=function(t){return t.length<1e3?t:[this._toSingleEditOperation(t)]},kt.prototype._toSingleEditOperation=function(t){for(var e=!1,i=t[0].range,n=t[t.length-1].range,o=new b.a(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn),r=i.startLineNumber,s=i.startColumn,a=[],l=0,u=t.length;l<u;l++){var h=t[l],c=h.range;e=e||h.forceMoveMarkers;for(var d=r;d<c.startLineNumber;d++)d===r?a.push(this.getLineContent(d).substring(s-1)):(a.push("\n"),a.push(this.getLineContent(d)));if(c.startLineNumber===r?a.push(this.getLineContent(c.startLineNumber).substring(s-1,c.startColumn-1)):(a.push("\n"),a.push(this.getLineContent(c.startLineNumber).substring(0,c.startColumn-1))),h.lines)for(var p=0,f=h.lines.length;p<f;p++)0!==p&&a.push("\n"),a.push(h.lines[p]);r=h.range.endLineNumber,s=h.range.endColumn}return{sortIndex:0,identifier:t[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),lines:a.join("").split("\n"),forceMoveMarkers:e,isAutoWhitespaceEdit:!1}},kt.prototype._doApplyEdits=function(t){t.sort(kt._sortOpsDescending);for(var e=[],i=0;i<t.length;i++){var n=t[i],o=n.range.startLineNumber,r=n.range.startColumn,s=n.range.endLineNumber,a=n.range.endColumn;if(o!==s||r!==a||n.lines&&0!==n.lines.length){var l=s-o,u=n.lines?n.lines.length-1:0,h=Math.min(l,u),c=n.lines?n.lines.join(this.getEOL()):"";if(c?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,c,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength),h<u){for(var d=[],p=h+1;p<=u;p++)d.push(n.lines[p]);d[d.length-1]=this.getLineContent(o+u-1)}var f=new b.a(o,r,s,a);e.push({range:f,rangeLength:n.rangeLength,text:c,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}}return e},kt.prototype.findMatchesLineByLine=function(t,e,i,n){return this._pieceTree.findMatchesLineByLine(t,e,i,n)},kt._getInverseEditRanges=function(t){for(var e=[],i=0,n=0,o=null,r=0,s=t.length;r<s;r++){var a=t[r],l=void 0,u=void 0;u=o?o.range.endLineNumber===a.range.startLineNumber?(l=i,n+(a.range.startColumn-o.range.endColumn)):(l=i+(a.range.startLineNumber-o.range.endLineNumber),a.range.startColumn):(l=a.range.startLineNumber,a.range.startColumn);var h=void 0;if(a.lines&&0<a.lines.length){var c=a.lines.length,d=a.lines[0],p=a.lines[c-1];h=1===c?new b.a(l,u,l,u+d.length):new b.a(l,u,l+c-1,p.length+1)}else h=new b.a(l,u,l,u);i=h.endLineNumber,n=h.endColumn,e.push(h),o=a}return e},kt._sortOpsAscending=function(t,e){var i=b.a.compareRangesUsingEnds(t.range,e.range);return 0===i?t.sortIndex-e.sortIndex:i},kt._sortOpsDescending=function(t,e){var i=b.a.compareRangesUsingEnds(t.range,e.range);return 0===i?e.sortIndex-t.sortIndex:-i},kt);function kt(t,e,i,n,o,r){this._BOM=e,this._mightContainNonBasicASCII=!o,this._mightContainRTL=n,this._pieceTree=new Ct(t,i,r)}var Ot=(Et.prototype._getEOL=function(t){var e=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===e?1===t?"\n":"\r\n":e/2<i?"\r\n":"\n"},Et.prototype.create=function(t){var e=this._getEOL(t),i=this._chunks;if(this._normalizeEOL&&("\r\n"===e&&(0<this._cr||0<this._lf)||"\n"===e&&(0<this._cr||0<this._crlf)))for(var n=0,o=i.length;n<o;n++){var r=i[n].buffer.replace(/\r\n|\r|\n/g,e),s=vt(r);i[n]=new _t(r,s)}return new xt(i,this._bom,e,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},Et);function Et(t,e,i,n,o,r,s,a){this._chunks=t,this._bom=e,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=r,this._isBasicASCII=s,this._normalizeEOL=a}var Lt=(Dt.prototype.acceptChunk=function(t){if(0!==t.length){0===this.chunks.length&&x.H(t)&&(this.BOM=x.a,t=t.substr(1));var e=t.charCodeAt(t.length-1);13===e||55296<=e&&e<=56319?(this._acceptChunk1(t.substr(0,t.length-1),!1),this._hasPreviousChar=!0):(this._acceptChunk1(t,!1),this._hasPreviousChar=!1),this._previousChar=e}},Dt.prototype._acceptChunk1=function(t,e){!e&&0===t.length||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+t):this._acceptChunk2(t))},Dt.prototype._acceptChunk2=function(t){var e=function(t,e){t.length=0;for(var i=1,n=t[0]=0,o=0,r=0,s=!0,a=0,l=e.length;a<l;a++){var u=e.charCodeAt(a);13===u?a+1<l&&10===e.charCodeAt(a+1)?(r++,t[i++]=a+2,a++):(n++,t[i++]=a+1):10===u?(o++,t[i++]=a+1):s&&9!==u&&(u<32||126<u)&&(s=!1)}var h=new mt(gt(t),n,o,r,s);return t.length=0,h}(this._tmpLineStarts,t);this.chunks.push(new _t(t,e.lineStarts)),this.cr+=e.cr,this.lf+=e.lf,this.crlf+=e.crlf,this.isBasicASCII&&(this.isBasicASCII=e.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=x.g(t))},Dt.prototype.finish=function(t){return void 0===t&&(t=!0),this._finish(),new Ot(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,t)},Dt.prototype._finish=function(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var t=this.chunks[this.chunks.length-1];t.buffer+=String.fromCharCode(this._previousChar);var e=vt(t.buffer);t.lineStarts=e,13===this._previousChar&&this.cr++}},Dt);function Dt(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}var It=function(){this.changeType=1},Nt=function(t,e){this.changeType=2,this.lineNumber=t,this.detail=e},Tt=function(t,e){this.changeType=3,this.fromLineNumber=t,this.toLineNumber=e},Mt=function(t,e,i){this.changeType=4,this.fromLineNumber=t,this.toLineNumber=e,this.detail=i},At=function(){this.changeType=5},Pt=(Rt.prototype.containsEvent=function(t){for(var e=0,i=this.changes.length;e<i;e++)if(this.changes[e].changeType===t)return!0;return!1},Rt.merge=function(t,e){return new Rt([].concat(t.changes).concat(e.changes),e.versionId,t.isUndoing||e.isUndoing,t.isRedoing||e.isRedoing)},Rt);function Rt(t,e,i,n){this.changes=t,this.versionId=e,this.isUndoing=i,this.isRedoing=n}var Ft=(jt.prototype.merge=function(t){return new jt(Pt.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),jt._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent))},jt._mergeChangeEvents=function(t,e){return{changes:[].concat(t.changes).concat(e.changes),eol:e.eol,versionId:e.versionId,isUndoing:t.isUndoing||e.isUndoing,isRedoing:t.isRedoing||e.isRedoing,isFlush:t.isFlush||e.isFlush}},jt);function jt(t,e){this.rawContentChangedEvent=t,this.contentChangedEvent=e}var Bt=i(21),Ht=i(86),Wt=i(62);function Vt(t){return(16384|t<<0|2<<23)>>>0}var zt=new Uint32Array(0).buffer,Ut=(qt.prototype.deleteBeginning=function(t){null!==this._lineTokens&&this._lineTokens!==zt&&this.delete(0,t)},qt.prototype.deleteEnding=function(t){if(null!==this._lineTokens&&this._lineTokens!==zt){var e=new Uint32Array(this._lineTokens),i=e[e.length-2];this.delete(t,i)}},qt.prototype.delete=function(t,e){if(null!==this._lineTokens&&this._lineTokens!==zt&&t!==e){var i=new Uint32Array(this._lineTokens),n=i.length>>>1;if(0!==t||i[i.length-2]!==e){var o=Ht.a.findIndexInTokensArray(i,t),r=0<o?i[o-1<<1]:0;if(e<i[o<<1])for(var s=e-t,a=o;a<n;a++)i[a<<1]-=s;else{var l,u;u=r!==t?(l=o+1<<1,i[o<<1]=t):(l=o<<1,r);for(var h=e-t,c=o+1;c<n;c++){var d=i[c<<1]-h;u<d&&(i[l++]=d,i[l++]=i[1+(c<<1)],u=d)}if(l!==i.length){var p=new Uint32Array(l);p.set(i.subarray(0,l),0),this._lineTokens=p.buffer}}}else this._lineTokens=zt}},qt.prototype.append=function(t){if(t!==zt)if(this._lineTokens!==zt){if(null!==this._lineTokens)if(null!==t){var e=new Uint32Array(this._lineTokens),i=new Uint32Array(t),n=i.length>>>1,o=new Uint32Array(e.length+i.length);o.set(e,0);for(var r=e.length,s=e[e.length-2],a=0;a<n;a++)o[r++]=i[a<<1]+s,o[r++]=i[1+(a<<1)];this._lineTokens=o.buffer}else this._lineTokens=null}else this._lineTokens=t},qt.prototype.insert=function(t,e){if(this._lineTokens){var i=new Uint32Array(this._lineTokens),n=i.length>>>1,o=Ht.a.findIndexInTokensArray(i,t);0<o&&(0<o?i[o-1<<1]:0)===t&&o--;for(var r=o;r<n;r++)i[r<<1]+=e}},qt);function qt(t){this._state=t,this._lineTokens=null,this._invalid=!0}var Kt=(Object.defineProperty(Gt.prototype,"inValidLineStartIndex",{get:function(){return this._invalidLineStartIndex},enumerable:!0,configurable:!0}),Gt.prototype.getTokens=function(t,e,i){var n=null;if(e<this._tokens.length&&this._tokens[e]&&(n=this._tokens[e]._lineTokens),null!==n&&n!==zt)return new Ht.a(new Uint32Array(n),i);var o=new Uint32Array(2);return o[0]=i.length,o[1]=Vt(t),new Ht.a(o,i)},Gt.prototype.isCheapToTokenize=function(t){return t<=this._invalidLineStartIndex+1},Gt.prototype.hasLinesToTokenize=function(t){return this._invalidLineStartIndex<t.getLineCount()},Gt.prototype.invalidateLine=function(t){this._setIsInvalid(t,!0),t<this._invalidLineStartIndex&&(this._setIsInvalid(this._invalidLineStartIndex,!0),this._invalidLineStartIndex=t)},Gt.prototype._setIsInvalid=function(t,e){t<this._tokens.length&&this._tokens[t]&&(this._tokens[t]._invalid=e)},Gt.prototype._isInvalid=function(t){return!(t<this._tokens.length&&this._tokens[t])||this._tokens[t]._invalid},Gt.prototype._getState=function(t){return t<this._tokens.length&&this._tokens[t]?this._tokens[t]._state:null},Gt.prototype._setTokens=function(t,e,i,n){var o;e<this._tokens.length&&this._tokens[e]?o=this._tokens[e]:(o=new Ut(null),this._tokens[e]=o),0!==i?(n&&0!==n.length||((n=new Uint32Array(2))[0]=0,n[1]=Vt(t)),Ht.a.convertToEndOffset(n,i),o._lineTokens=n.buffer):o._lineTokens=zt},Gt.prototype._setState=function(t,e){if(t<this._tokens.length&&this._tokens[t])this._tokens[t]._state=e;else{var i=new Ut(e);this._tokens[t]=i}},Gt.prototype.applyEdits=function(t,e,i){for(var n=t.endLineNumber-t.startLineNumber,o=e,r=Math.min(n,o);0<=r;r--)this.invalidateLine(t.startLineNumber+r-1);this._acceptDeleteRange(t),this._acceptInsertText(new c.a(t.startLineNumber,t.startColumn),e,i)},Gt.prototype._acceptDeleteRange=function(t){var e=t.startLineNumber-1;if(!(e>=this._tokens.length))if(t.startLineNumber!==t.endLineNumber){var i=this._tokens[e];i.deleteEnding(t.startColumn-1);var n=t.endLineNumber-1,o=null;if(n<this._tokens.length){var r=this._tokens[n];r.deleteBeginning(t.endColumn-1),o=r._lineTokens}i.append(o),this._tokens.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber)}else{if(t.startColumn===t.endColumn)return;this._tokens[e].delete(t.startColumn-1,t.endColumn-1)}},Gt.prototype._acceptInsertText=function(t,e,i){if(0!==e||0!==i){var n=t.lineNumber-1;if(!(n>=this._tokens.length))if(0!==e){var o=this._tokens[n];o.deleteEnding(t.column-1),o.insert(t.column-1,i);for(var r=new Array(e),s=e-1;0<=s;s--)r[s]=new Ut(null);this._tokens=Bt.a(this._tokens,t.lineNumber,r)}else this._tokens[n].insert(t.column-1,i)}},Gt.prototype._tokenizeOneLine=function(t,e){if(!this.hasLinesToTokenize(t))return t.getLineCount()+1;var i=this._invalidLineStartIndex+1;return this._updateTokensUntilLine(t,e,i),i},Gt.prototype._tokenizeText=function(t,e,i){var n=null;if(this.tokenizationSupport)try{n=this.tokenizationSupport.tokenize2(e,i,0)}catch(t){Object(p.e)(t)}return n=n||Object(Wt.e)(this.languageIdentifier.id,e,i,0)},Gt.prototype._updateTokensUntilLine=function(t,e,i){if(this.tokenizationSupport){for(var n=t.getLineCount(),o=i-1,r=this._invalidLineStartIndex;r<=o;r++){var s=r+1,a=t.getLineContent(r+1),l=this._getState(r),u=null;try{var h=l.clone();u=this.tokenizationSupport.tokenize2(a,h,0)}catch(t){Object(p.e)(t)}if(u=u||Object(Wt.e)(this.languageIdentifier.id,a,l,0),this._setTokens(this.languageIdentifier.id,r,a.length,u.tokens),e.registerChangedTokens(r+1),this._setIsInvalid(r,!1),s<n){var c=this._getState(s);if(null!==c&&u.endState.equals(c)){for(var d=r+1;d<n&&!this._isInvalid(d);){if(d+1<n){if(null===this._getState(d+1))break}else if(null===this._lastState)break;d++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,d),r=d-1}else this._setState(s,u.endState)}else this._lastState=u.endState}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,1+o)}else this._invalidLineStartIndex=t.getLineCount()},Gt);function Gt(t,e){if(this.languageIdentifier=t,this.tokenizationSupport=e,this._tokens=[],this.tokenizationSupport){var i=null;try{i=this.tokenizationSupport.getInitialState()}catch(t){Object(p.e)(t),this.tokenizationSupport=null}i&&(this._tokens[0]=new Ut(i))}this._invalidLineStartIndex=0,this._lastState=null}var Yt=($t.prototype.registerChangedTokens=function(t){var e=this._ranges,i=e.length,n=0<i?e[i-1]:null;n&&n.toLineNumber===t-1?n.toLineNumber++:e[i]={fromLineNumber:t,toLineNumber:t}},$t.prototype.build=function(){return 0===this._ranges.length?null:{ranges:this._ranges}},$t);function $t(){this._ranges=[]}var Zt=i(106),Xt=i(11),Jt=i(32),Qt=i(88),te=i(107);i.d(e,"b",function(){return le}),i.d(e,"a",function(){return ge});var ee,ie=(ee=function(t,e){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ee(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function ne(t){var e=new Lt;return e.acceptChunk(t),e.finish()}function oe(t,e){return("string"==typeof t?ne(t):t).create(e)}var re=0;function se(){throw new Error("Invalid change accessor")}var ae,le=(ae=n.a,ie(ue,ae),ue.createFromString=function(t,e,i,n){return void 0===e&&(e=ue.DEFAULT_CREATION_OPTIONS),void 0===i&&(i=null),void 0===n&&(n=null),new ue(t,e,i,n)},ue.resolveOptions=function(t,e){if(e.detectIndentation){var i=C(t,e.tabSize,e.insertSpaces);return new k.d({tabSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:e.trimAutoWhitespace,defaultEOL:e.defaultEOL})}return new k.d({tabSize:e.tabSize,insertSpaces:e.insertSpaces,trimAutoWhitespace:e.trimAutoWhitespace,defaultEOL:e.defaultEOL})},ue.prototype.onDidChangeRawContentFast=function(e){return this._eventEmitter.fastEvent(function(t){return e(t.rawContentChangedEvent)})},ue.prototype.onDidChangeRawContent=function(e){return this._eventEmitter.slowEvent(function(t){return e(t.rawContentChangedEvent)})},ue.prototype.onDidChangeContent=function(e){return this._eventEmitter.slowEvent(function(t){return e(t.contentChangedEvent)})},ue.prototype.dispose=function(){this._isDisposing=!0,this._onWillDispose.fire(),this._tokenizationListener.dispose(),this._languageRegistryListener.dispose(),this._clearTimers(),this._isDisposed=!0,ae.prototype.dispose.call(this),this._isDisposing=!1},ue.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},ue.prototype._emitContentChangedEvent=function(t,e){this._isDisposing||this._eventEmitter.fire(new Ft(t,e))},ue.prototype.setValue=function(t){if(this._assertNotDisposed(),null!==t){var e=oe(t,this._options.defaultEOL);this.setValueFromTextBuffer(e)}},ue.prototype._createContentChanged2=function(t,e,i,n,o,r,s){return{changes:[{range:t,rangeOffset:e,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:s}},ue.prototype.setValueFromTextBuffer=function(t){if(this._assertNotDisposed(),null!==t){var e=this.getFullModelRange(),i=this.getValueLengthInRange(e),n=this.getLineCount(),o=this.getLineMaxColumn(n);this._buffer=t,this._increaseVersionId(),this._resetTokenizationState(),this._decorations=Object.create(null),this._decorationsTree=new he,this._commandManager=new _(this),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Pt([new It],this._versionId,!1,!1),this._createContentChanged2(new b.a(1,1,n,o),0,i,this.getValue(),!1,!1,!0))}},ue.prototype.setEOL=function(t){this._assertNotDisposed();var e=1===t?"\r\n":"\n";if(this._buffer.getEOL()!==e){var i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(e),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Pt([new At],this._versionId,!1,!1),this._createContentChanged2(new b.a(1,1,o,r),0,n,this.getValue(),!1,!1,!1))}},ue.prototype._onBeforeEOLChange=function(){var t=this.getVersionId(),e=this._decorationsTree.search(0,!1,!1,t);this._ensureNodesHaveRanges(e)},ue.prototype._onAfterEOLChange=function(){for(var t=this.getVersionId(),e=this._decorationsTree.collectNodesPostOrder(),i=0,n=e.length;i<n;i++){var o=e[i],r=o.cachedAbsoluteStart-o.start,s=this._buffer.getOffsetAt(o.range.startLineNumber,o.range.startColumn),a=this._buffer.getOffsetAt(o.range.endLineNumber,o.range.endColumn);o.cachedAbsoluteStart=s,o.cachedAbsoluteEnd=a,o.cachedVersionId=t,o.start=s-r,o.end=a-r,Z(o)}},ue.prototype._resetTokenizationState=function(){this._clearTimers();var t=this._isTooLargeForTokenization?null:Xt.w.get(this._languageIdentifier.language);this._tokens=new Kt(this._languageIdentifier,t),this._beginBackgroundTokenization()},ue.prototype._clearTimers=function(){-1!==this._revalidateTokensTimeout&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},ue.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._warmUpTokens()},ue.prototype.onBeforeDetached=function(){this._attachedEditorCount--},ue.prototype._shouldAutoTokenize=function(){return this.isAttachedToEditor()},ue.prototype.isAttachedToEditor=function(){return 0<this._attachedEditorCount},ue.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount},ue.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing},ue.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},ue.prototype.isDisposed=function(){return this._isDisposed},ue.prototype.isDominatedByLongLines=function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var t=0,e=0,i=this._buffer.getLineCount(),n=1;n<=i;n++){var o=this._buffer.getLineLength(n);1e4<=o?e+=o:t+=o}return t<e},Object.defineProperty(ue.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),ue.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},ue.prototype.updateOptions=function(t){this._assertNotDisposed();var e=void 0!==t.tabSize?t.tabSize:this._options.tabSize,i=void 0!==t.insertSpaces?t.insertSpaces:this._options.insertSpaces,n=void 0!==t.trimAutoWhitespace?t.trimAutoWhitespace:this._options.trimAutoWhitespace,o=new k.d({tabSize:e,insertSpaces:i,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:n});if(!this._options.equals(o)){var r=this._options.createChangeEvent(o);this._options=o,this._onDidChangeOptions.fire(r)}},ue.prototype.detectIndentation=function(t,e){this._assertNotDisposed();var i=C(this._buffer,e,t);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize})},ue._normalizeIndentationFromWhitespace=function(t,e,i){for(var n=0,o=0;o<t.length;o++)"\t"===t.charAt(o)?n+=e:n++;var r="";if(!i){var s=Math.floor(n/e);for(n%=e,o=0;o<s;o++)r+="\t"}for(o=0;o<n;o++)r+=" ";return r},ue.normalizeIndentation=function(t,e,i){var n=x.o(t);return-1===n&&(n=t.length),ue._normalizeIndentationFromWhitespace(t.substring(0,n),e,i)+t.substring(n)},ue.prototype.normalizeIndentation=function(t){return this._assertNotDisposed(),ue.normalizeIndentation(t,this._options.tabSize,this._options.insertSpaces)},ue.prototype.getOneIndent=function(){this._assertNotDisposed();var t=this._options.tabSize;if(this._options.insertSpaces){for(var e="",i=0;i<t;i++)e+=" ";return e}return"\t"},ue.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},ue.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()},ue.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()},ue.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},ue.prototype.getOffsetAt=function(t){this._assertNotDisposed();var e=this._validatePosition(t.lineNumber,t.column,!1);return this._buffer.getOffsetAt(e.lineNumber,e.column)},ue.prototype.getPositionAt=function(t){this._assertNotDisposed();var e=Math.min(this._buffer.getLength(),Math.max(0,t));return this._buffer.getPositionAt(e)},ue.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},ue.prototype._setVersionId=function(t){this._versionId=t,this._alternativeVersionId=this._versionId},ue.prototype._overwriteAlternativeVersionId=function(t){this._alternativeVersionId=t},ue.prototype.getValue=function(t,e){void 0===e&&(e=!1),this._assertNotDisposed();var i=this.getFullModelRange(),n=this.getValueInRange(i,t);return e?this._buffer.getBOM()+n:n},ue.prototype.getValueLength=function(t,e){void 0===e&&(e=!1),this._assertNotDisposed();var i=this.getFullModelRange(),n=this.getValueLengthInRange(i,t);return e?this._buffer.getBOM().length+n:n},ue.prototype.getValueInRange=function(t,e){return void 0===e&&(e=0),this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(t),e)},ue.prototype.getValueLengthInRange=function(t,e){return void 0===e&&(e=0),this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(t),e)},ue.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()},ue.prototype.getLineContent=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(t)},ue.prototype.getLineLength=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)},ue.prototype.getLinesContent=function(){return this._assertNotDisposed(),this._buffer.getLinesContent()},ue.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()},ue.prototype.getLineMinColumn=function(t){return this._assertNotDisposed(),1},ue.prototype.getLineMaxColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)+1},ue.prototype.getLineFirstNonWhitespaceColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(t)},ue.prototype.getLineLastNonWhitespaceColumn=function(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(t)},ue.prototype._validateRangeRelaxedNoAllocations=function(t){var e,i,n=this._buffer.getLineCount(),o=t.startLineNumber,r=t.startColumn;i=o<1?e=1:n<o?(e=n,this.getLineMaxColumn(e)):(e=0|o,r<=1?1:(h=this.getLineMaxColumn(e))<=r?h:0|r);var s,a,l=t.endLineNumber,u=t.endColumn;if(l<1)a=s=1;else if(n<l)s=n,a=this.getLineMaxColumn(s);else{var h;s=0|l,a=u<=1?1:(h=this.getLineMaxColumn(s))<=u?h:0|u}return o===e&&r===i&&l===s&&u===a&&t instanceof b.a&&!(t instanceof d.a)?t:new b.a(e,i,s,a)},ue.prototype._isValidPosition=function(t,e,i){if(isNaN(t))return!1;if(t<1)return!1;if(this._buffer.getLineCount()<t)return!1;if(isNaN(e))return!1;if(e<1)return!1;if(this.getLineMaxColumn(t)<e)return!1;if(i&&1<e){var n=this._buffer.getLineCharCode(t,e-2);if(x.u(n))return!1}return!0},ue.prototype._validatePosition=function(t,e,i){var n=Math.floor("number"!=typeof t||isNaN(t)?1:t),o=Math.floor("number"!=typeof e||isNaN(e)?1:e),r=this._buffer.getLineCount();if(n<1)return new c.a(1,1);if(r<n)return new c.a(r,this.getLineMaxColumn(r));if(o<=1)return new c.a(n,1);var s=this.getLineMaxColumn(n);if(s<=o)return new c.a(n,s);if(i){var a=this._buffer.getLineCharCode(n,o-2);if(x.u(a))return new c.a(n,o-1)}return new c.a(n,o)},ue.prototype.validatePosition=function(t){return this._assertNotDisposed(),t instanceof c.a&&this._isValidPosition(t.lineNumber,t.column,!0)?t:this._validatePosition(t.lineNumber,t.column,!0)},ue.prototype._isValidRange=function(t,e){var i=t.startLineNumber,n=t.startColumn,o=t.endLineNumber,r=t.endColumn;if(!this._isValidPosition(i,n,!1))return!1;if(!this._isValidPosition(o,r,!1))return!1;if(e){var s=1<n?this._buffer.getLineCharCode(i,n-2):0,a=1<r&&r<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,r-2):0,l=x.u(s),u=x.u(a);return!l&&!u}return!0},ue.prototype.validateRange=function(t){if(this._assertNotDisposed(),t instanceof b.a&&!(t instanceof d.a)&&this._isValidRange(t,!0))return t;var e=this._validatePosition(t.startLineNumber,t.startColumn,!1),i=this._validatePosition(t.endLineNumber,t.endColumn,!1),n=e.lineNumber,o=e.column,r=i.lineNumber,s=i.column,a=1<o?this._buffer.getLineCharCode(n,o-2):0,l=1<s&&s<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,s-2):0,u=x.u(a),h=x.u(l);return u||h?n===r&&o===s?new b.a(n,o-1,r,s-1):u&&h?new b.a(n,o-1,r,s+1):u?new b.a(n,o-1,r,s):new b.a(n,o,r,s+1):new b.a(n,o,r,s)},ue.prototype.modifyPosition=function(t,e){this._assertNotDisposed();var i=this.getOffsetAt(t)+e;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))},ue.prototype.getFullModelRange=function(){this._assertNotDisposed();var t=this.getLineCount();return new b.a(1,1,t,this.getLineMaxColumn(t))},ue.prototype.findMatchesLineByLine=function(t,e,i,n){return this._buffer.findMatchesLineByLine(t,e,i,n)},ue.prototype.findMatches=function(t,e,i,n,o,r,s){var a;if(void 0===s&&(s=999),this._assertNotDisposed(),a=b.a.isIRange(e)?this.validateRange(e):this.getFullModelRange(),!i&&t.indexOf("\n")<0){var l=new pt.a(t,i,n,o).parseSearchRequest();return l?this.findMatchesLineByLine(a,l,r,s):[]}return pt.c.findMatches(this,new pt.a(t,i,n,o),a,r,s)},ue.prototype.findNextMatch=function(t,e,i,n,o,r){this._assertNotDisposed();var s=this.validatePosition(e);if(!i&&t.indexOf("\n")<0){var a=new pt.a(t,i,n,o).parseSearchRequest();if(!a)return null;var l=this.getLineCount(),u=new b.a(s.lineNumber,s.column,l,this.getLineMaxColumn(l)),h=this.findMatchesLineByLine(u,a,r,1);return pt.c.findNextMatch(this,new pt.a(t,i,n,o),s,r),0<h.length?h[0]:(u=new b.a(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),0<(h=this.findMatchesLineByLine(u,a,r,1)).length?h[0]:null)}return pt.c.findNextMatch(this,new pt.a(t,i,n,o),s,r)},ue.prototype.findPreviousMatch=function(t,e,i,n,o,r){this._assertNotDisposed();var s=this.validatePosition(e);return pt.c.findPreviousMatch(this,new pt.a(t,i,n,o),s,r)},ue.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},ue.prototype.pushEOL=function(t){if(("\n"===this.getEOL()?0:1)!==t)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._commandManager.pushEOL(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},ue.prototype.pushEditOperations=function(t,e,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(t,e,i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},ue.prototype._pushEditOperations=function(t,e,i){var n=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var o=e.map(function(t){return{range:n.validateRange(t.range),text:t.text}}),r=!0,s=0,a=t.length;s<a;s++){for(var l=t[s],u=!1,h=0,c=o.length;h<c;h++){var d=(v=o[h].range).startLineNumber>l.endLineNumber,p=l.startLineNumber>v.endLineNumber;if(!d&&!p){u=!0;break}}if(!u){r=!1;break}}if(r)for(s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){var f=this._trimAutoWhitespaceLines[s],g=this.getLineMaxColumn(f),m=!0;for(h=0,c=o.length;h<c;h++){var v=o[h].range,y=o[h].text;if(!(f<v.startLineNumber||f>v.endLineNumber||f===v.startLineNumber&&v.startColumn===g&&v.isEmpty()&&y&&0<y.length&&"\n"===y.charAt(0)||f===v.startLineNumber&&1===v.startColumn&&v.isEmpty()&&y&&0<y.length&&"\n"===y.charAt(y.length-1))){m=!1;break}}m&&e.push({range:new b.a(f,1,f,g),text:null})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(t,e,i)},ue.prototype.applyEdits=function(t){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._applyEdits(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},ue._eolCount=function(t){for(var e=0,i=0,n=0,o=t.length;n<o;n++){var r=t.charCodeAt(n);13===r?(0===e&&(i=n),e++,n+1<o&&10===t.charCodeAt(n+1)&&n++):10===r&&(0===e&&(i=n),e++)}return 0===e&&(i=t.length),[e,i]},ue.prototype._applyEdits=function(t){for(var e=0,i=t.length;e<i;e++)t[e].range=this.validateRange(t[e].range);var n=this._buffer.getLineCount(),o=this._buffer.applyEdits(t,this._options.trimAutoWhitespace),r=this._buffer.getLineCount(),s=o.changes;if(this._trimAutoWhitespaceLines=o.trimAutoWhitespaceLineNumbers,0!==s.length){var a=[],l=n;for(e=0,i=s.length;e<i;e++){var u=s[e],h=ue._eolCount(u.text),c=h[0],d=h[1];try{this._tokens.applyEdits(u.range,c,d)}catch(t){this._tokens=new Kt(this._tokens.languageIdentifier,this._tokens.tokenizationSupport)}this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(u.rangeOffset,u.rangeLength,u.text.length,u.forceMoveMarkers);for(var p=u.range.startLineNumber,f=u.range.endLineNumber,g=f-p,m=c,v=Math.min(g,m),y=m-g,_=v;0<=_;_--){var b=p+_,w=r-l-y+b;a.push(new Nt(b,this.getLineContent(w)))}if(v<g){var C=p+v;a.push(new Tt(C+1,f))}if(v<m){for(var S=p+v,x=m-v,k=r-l-x+S+1,O=[],E=0;E<x;E++){var L=k+E;O[L-k]=this.getLineContent(L)}a.push(new Mt(S+1,p+m,O))}l+=y}this._increaseVersionId(),this._emitContentChangedEvent(new Pt(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization(),o.reverseEdits},ue.prototype._undo=function(){this._isUndoing=!0;var t=this._commandManager.undo();return this._isUndoing=!1,t?(this._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null},ue.prototype.undo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._undo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},ue.prototype.canUndo=function(){return this._commandManager.canUndo()},ue.prototype._redo=function(){this._isRedoing=!0;var t=this._commandManager.redo();return this._isRedoing=!1,t?(this._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null},ue.prototype.redo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._redo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},ue.prototype.canRedo=function(){return this._commandManager.canRedo()},ue.prototype.changeDecorations=function(t,e){void 0===e&&(e=0),this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}},ue.prototype._changeDecorations=function(i,t){var n=this,e={addDecoration:function(t,e){return n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(i,[],[{range:t,options:e}])[0]},changeDecoration:function(t,e){n._onDidChangeDecorations.fire(),n._changeDecorationImpl(t,e)},changeDecorationOptions:function(t,e){n._onDidChangeDecorations.fire(),n._changeDecorationOptionsImpl(t,ye(e))},removeDecoration:function(t){n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(i,[t],[])},deltaDecorations:function(t,e){return 0===t.length&&0===e.length?[]:(n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(i,t,e))}},o=null;try{o=t(e)}catch(t){Object(p.e)(t)}return e.addDecoration=se,e.changeDecoration=se,e.changeDecorationOptions=se,e.removeDecoration=se,e.deltaDecorations=se,o},ue.prototype.deltaDecorations=function(t,e,i){if(void 0===i&&(i=0),this._assertNotDisposed(),0===(t=t||[]).length&&0===e.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._deltaDecorationsImpl(i,t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}},ue.prototype._getTrackedRange=function(t){return this.getDecorationRange(t)},ue.prototype._setTrackedRange=function(t,e,i){var n=t?this._decorations[t]:null;if(!n)return e?this._deltaDecorationsImpl(0,[],[{range:e,options:ve[i]}])[0]:null;if(!e)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;var o=this._validateRangeRelaxedNoAllocations(e),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),s=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),r,s,o),n.setOptions(ve[i]),this._decorationsTree.insert(n),n.id},ue.prototype.removeAllDecorationsWithOwnerId=function(t){if(!this._isDisposed)for(var e=this._decorationsTree.collectNodesFromOwner(t),i=0,n=e.length;i<n;i++){var o=e[i];this._decorationsTree.delete(o),delete this._decorations[o.id]}},ue.prototype.getDecorationOptions=function(t){var e=this._decorations[t];return e?e.options:null},ue.prototype.getDecorationRange=function(t){var e=this._decorations[t];if(!e)return null;var i=this.getVersionId();return e.cachedVersionId!==i&&this._decorationsTree.resolveNode(e,i),null===e.range&&(e.range=this._getRangeAt(e.cachedAbsoluteStart,e.cachedAbsoluteEnd)),e.range},ue.prototype.getLineDecorations=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=!1),t<1||t>this.getLineCount()?[]:this.getLinesDecorations(t,t,e,i)},ue.prototype.getLinesDecorations=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var o=this.getLineCount(),r=Math.min(o,Math.max(1,t)),s=Math.min(o,Math.max(1,e)),a=this.getLineMaxColumn(s);return this._getDecorationsInRange(new b.a(r,1,s,a),i,n)},ue.prototype.getDecorationsInRange=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!1);var n=this.validateRange(t);return this._getDecorationsInRange(n,e,i)},ue.prototype.getOverviewRulerDecorations=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=this.getVersionId(),n=this._decorationsTree.search(t,e,!0,i);return this._ensureNodesHaveRanges(n)},ue.prototype.getAllDecorations=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=this.getVersionId(),n=this._decorationsTree.search(t,e,!1,i);return this._ensureNodesHaveRanges(n)},ue.prototype._getDecorationsInRange=function(t,e,i){var n=this._buffer.getOffsetAt(t.startLineNumber,t.startColumn),o=this._buffer.getOffsetAt(t.endLineNumber,t.endColumn),r=this.getVersionId(),s=this._decorationsTree.intervalSearch(n,o,e,i,r);return this._ensureNodesHaveRanges(s)},ue.prototype._ensureNodesHaveRanges=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];null===n.range&&(n.range=this._getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd))}return t},ue.prototype._getRangeAt=function(t,e){return this._buffer.getRangeAt(t,e-t)},ue.prototype._changeDecorationImpl=function(t,e){var i=this._decorations[t];if(i){var n=this._validateRangeRelaxedNoAllocations(e),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),r=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,r,n),this._decorationsTree.insert(i)}},ue.prototype._changeDecorationOptionsImpl=function(t,e){var i=this._decorations[t];i&&(!(!i.options.overviewRuler||!i.options.overviewRuler.color)!=!(!e.overviewRuler||!e.overviewRuler.color)?(this._decorationsTree.delete(i),i.setOptions(e),this._decorationsTree.insert(i)):i.setOptions(e))},ue.prototype._deltaDecorationsImpl=function(t,e,i){for(var n=this.getVersionId(),o=e.length,r=0,s=i.length,a=0,l=new Array(s);r<o||a<s;){var u=null;if(r<o){for(;!(u=this._decorations[e[r++]])&&r<o;);u&&this._decorationsTree.delete(u)}if(a<s){if(!u){var h=++this._lastDecorationId,c=this._instanceId+";"+h;u=new F(c,0,0),this._decorations[c]=u}var d=i[a],p=this._validateRangeRelaxedNoAllocations(d.range),f=ye(d.options),g=this._buffer.getOffsetAt(p.startLineNumber,p.startColumn),m=this._buffer.getOffsetAt(p.endLineNumber,p.endColumn);u.ownerId=t,u.reset(n,g,m,p),u.setOptions(f),this._decorationsTree.insert(u),l[a]=u.id,a++}else u&&delete this._decorations[u.id]}return l},ue.prototype.tokenizeViewport=function(t,e){if(this._tokens.tokenizationSupport){var i=Math.floor(.3*this._tokens.inValidLineStartIndex);if((t=Math.max(1,t-i))<=this._tokens.inValidLineStartIndex)this.forceTokenization(e);else{var n=new Yt,o=this.getLineFirstNonWhitespaceColumn(t),r=[],s=t-1,a=null;if(0<o)for(;0<o&&1<=s;){var l=this.getLineFirstNonWhitespaceColumn(s);if(0!==l){if(l<o){if(a=this._tokens._getState(s-1))break;r.push(this.getLineContent(s)),o=l}s--}else s--}for(var u=(a=a||this._tokens.tokenizationSupport.getInitialState()).clone(),h=r.length-1;0<=h;h--)u=(p=this._tokens._tokenizeText(this._buffer,r[h],u))?p.endState.clone():a.clone();var c=Math.floor(.4*this._tokens.inValidLineStartIndex);e=Math.min(this.getLineCount(),e+c);for(var d=t;d<=e;d++){var p,f=this.getLineContent(d);(p=this._tokens._tokenizeText(this._buffer,f,u))?(this._tokens._setTokens(this._tokens.languageIdentifier.id,d-1,f.length,p.tokens),this._tokens._setIsInvalid(d-1,!1),this._tokens._setState(d-1,u),u=p.endState.clone(),n.registerChangedTokens(d)):u=a.clone()}var g=n.build();g&&this._onDidChangeTokens.fire(g)}}},ue.prototype.forceTokenization=function(t){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");var e=new Yt;this._tokens._updateTokensUntilLine(this._buffer,e,t);var i=e.build();i&&this._onDidChangeTokens.fire(i)},ue.prototype.isCheapToTokenize=function(t){return!!this._tokens.isCheapToTokenize(t)&&(t<this._tokens.inValidLineStartIndex+1||this.getLineLength(t)<2048)},ue.prototype.tokenizeIfCheap=function(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)},ue.prototype.getLineTokens=function(t){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(t)},ue.prototype._getLineTokens=function(t){var e=this._buffer.getLineContent(t);return this._tokens.getTokens(this._languageIdentifier.id,t-1,e)},ue.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},ue.prototype.getModeId=function(){return this._languageIdentifier.language},ue.prototype.setMode=function(t){if(this._languageIdentifier.id!==t.id){var e={oldLanguage:this._languageIdentifier.language,newLanguage:t.language};this._languageIdentifier=t,this._resetTokenizationState(),this.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]}),this._onDidChangeLanguage.fire(e),this._onDidChangeLanguageConfiguration.fire({})}},ue.prototype.getLanguageIdAtPosition=function(t,e){if(!this._tokens.tokenizationSupport)return this._languageIdentifier.id;var i=this.validatePosition({lineNumber:t,column:e}),n=i.lineNumber,o=i.column,r=this._getLineTokens(n);return r.getLanguageId(r.findTokenIndexAtOffset(o-1))},ue.prototype._beginBackgroundTokenization=function(){var t=this;this._shouldAutoTokenize()&&-1===this._revalidateTokensTimeout&&(this._revalidateTokensTimeout=setTimeout(function(){t._revalidateTokensTimeout=-1,t._revalidateTokensNow()},0))},ue.prototype._warmUpTokens=function(){var t=Math.min(100,this.getLineCount());this._revalidateTokensNow(t),this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization()},ue.prototype._revalidateTokensNow=function(t){void 0===t&&(t=this._buffer.getLineCount());for(var e=new Yt,i=s.create(!1);this._tokens.hasLinesToTokenize(this._buffer)&&!(20<i.elapsed())&&!(t<=this._tokens._tokenizeOneLine(this._buffer,e)););this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization();var n=e.build();n&&this._onDidChangeTokens.fire(n)},ue.prototype.emitModelTokensChangedEvent=function(t){this._isDisposing||this._onDidChangeTokens.fire(t)},ue.prototype.getWordAtPosition=function(t){this._assertNotDisposed();var e=this.validatePosition(t),i=this.getLineContent(e.lineNumber),n=this._getLineTokens(e.lineNumber),o=n.findTokenIndexAtOffset(e.column-1),r=ue._findLanguageBoundaries(n,o),s=r[0],a=r[1],l=Object(Zt.d)(e.column,Jt.a.getWordDefinition(n.getLanguageId(o)),i.substring(s,a),s);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn)return l;if(0<o&&s===e.column-1){var u=ue._findLanguageBoundaries(n,o-1),h=u[0],c=u[1],d=Object(Zt.d)(e.column,Jt.a.getWordDefinition(n.getLanguageId(o-1)),i.substring(h,c),h);if(d&&d.startColumn<=t.column&&t.column<=d.endColumn)return d}return null},ue._findLanguageBoundaries=function(t,e){for(var i=t.getLanguageId(e),n=0,o=e;0<=o&&t.getLanguageId(o)===i;o--)n=t.getStartOffset(o);for(var r=t.getLineContent().length,s=(o=e,t.getCount());o<s&&t.getLanguageId(o)===i;o++)r=t.getEndOffset(o);return[n,r]},ue.prototype.getWordUntilPosition=function(t){var e=this.getWordAtPosition(t);return e?{word:e.word.substr(0,t.column-e.startColumn),startColumn:e.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}},ue.prototype.findMatchingBracketUp=function(t,e){var i=t.toLowerCase(),n=this.validatePosition(e),o=this._getLineTokens(n.lineNumber),r=o.getLanguageId(o.findTokenIndexAtOffset(n.column-1)),s=Jt.a.getBracketsSupport(r);if(!s)return null;var a=s.textIsBracket[i];return a?this._findMatchingBracketUp(a,n):null},ue.prototype.matchBracket=function(t){return this._matchBracket(this.validatePosition(t))},ue.prototype._matchBracket=function(t){var e=t.lineNumber,i=this._getLineTokens(e),n=this._buffer.getLineContent(e),o=i.findTokenIndexAtOffset(t.column-1);if(o<0)return null;var r=Jt.a.getBracketsSupport(i.getLanguageId(o));if(r&&!Object(Qt.b)(i.getStandardTokenType(o))){for(var s=Math.max(i.getStartOffset(o),t.column-1-r.maxBracketLength),a=Math.min(i.getEndOffset(o),t.column-1+r.maxBracketLength),l=null;u=te.a.findNextBracketInToken(r.forwardRegex,e,n,s,a);)u.startColumn<=t.column&&t.column<=u.endColumn&&(h=(h=n.substring(u.startColumn-1,u.endColumn-1)).toLowerCase(),(c=this._matchFoundBracket(u,r.textIsBracket[h],r.textIsOpenBracket[h]))&&(l=c)),s=u.endColumn-1;if(l)return l}if(0<o&&i.getStartOffset(o)===t.column-1){a=i.getStartOffset(o),o--;var u,h,c,d=Jt.a.getBracketsSupport(i.getLanguageId(o));if(d&&!Object(Qt.b)(i.getStandardTokenType(o)))if(s=Math.max(i.getStartOffset(o),t.column-1-d.maxBracketLength),(u=te.a.findPrevBracketInToken(d.reversedRegex,e,n,s,a))&&u.startColumn<=t.column&&t.column<=u.endColumn&&(h=(h=n.substring(u.startColumn-1,u.endColumn-1)).toLowerCase(),c=this._matchFoundBracket(u,d.textIsBracket[h],d.textIsOpenBracket[h])))return c}return null},ue.prototype._matchFoundBracket=function(t,e,i){if(!e)return null;var n;if(i){if(n=this._findMatchingBracketDown(e,t.getEndPosition()))return[t,n]}else if(n=this._findMatchingBracketUp(e,t.getStartPosition()))return[t,n];return null},ue.prototype._findMatchingBracketUp=function(t,e){for(var i=t.languageIdentifier.id,n=t.reversedRegex,o=-1,r=e.lineNumber;1<=r;r--){var s=this._getLineTokens(r),a=s.getCount(),l=this._buffer.getLineContent(r),u=a-1,h=-1;for(r===e.lineNumber&&(u=s.findTokenIndexAtOffset(e.column-1),h=e.column-1);0<=u;u--){var c=s.getLanguageId(u),d=s.getStandardTokenType(u),p=s.getStartOffset(u),f=s.getEndOffset(u);if(-1===h&&(h=f),c===i&&!Object(Qt.b)(d))for(;;){var g=te.a.findPrevBracketInToken(n,r,l,p,h);if(!g)break;var m=l.substring(g.startColumn-1,g.endColumn-1);if((m=m.toLowerCase())===t.open?o++:m===t.close&&o--,0===o)return g;h=g.startColumn-1}h=-1}}return null},ue.prototype._findMatchingBracketDown=function(t,e){for(var i=t.languageIdentifier.id,n=t.forwardRegex,o=1,r=e.lineNumber,s=this.getLineCount();r<=s;r++){var a=this._getLineTokens(r),l=a.getCount(),u=this._buffer.getLineContent(r),h=0,c=0;for(r===e.lineNumber&&(h=a.findTokenIndexAtOffset(e.column-1),c=e.column-1);h<l;h++){var d=a.getLanguageId(h),p=a.getStandardTokenType(h),f=a.getStartOffset(h),g=a.getEndOffset(h);if(0===c&&(c=f),d===i&&!Object(Qt.b)(p))for(;;){var m=te.a.findNextBracketInToken(n,r,u,c,g);if(!m)break;var v=u.substring(m.startColumn-1,m.endColumn-1);if((v=v.toLowerCase())===t.open?o++:v===t.close&&o--,0===o)return m;c=m.endColumn-1}c=0}}return null},ue.prototype.findNextBracket=function(t){for(var e=this.validatePosition(t),i=-1,n=null,o=e.lineNumber,r=this.getLineCount();o<=r;o++){var s=this._getLineTokens(o),a=s.getCount(),l=this._buffer.getLineContent(o),u=0,h=0;for(o===e.lineNumber&&(u=s.findTokenIndexAtOffset(e.column-1),h=e.column-1);u<a;u++){var c=s.getLanguageId(u),d=s.getStandardTokenType(u),p=s.getStartOffset(u),f=s.getEndOffset(u);if(0===h&&(h=p),i!==c&&(i=c,n=Jt.a.getBracketsSupport(i)),n&&!Object(Qt.b)(d)){var g=te.a.findNextBracketInToken(n.forwardRegex,o,l,h,f);if(g)return this._toFoundBracket(n,g)}h=0}}return null},ue.prototype._toFoundBracket=function(t,e){if(!e)return null;var i=this.getValueInRange(e);i=i.toLowerCase();var n=t.textIsBracket[i];return n?{range:e,open:n.open,close:n.close,isOpen:t.textIsOpenBracket[i]}:null},ue.computeIndentLevel=function(t,e){for(var i=0,n=0,o=t.length;n<o;){var r=t.charCodeAt(n);if(32===r)i++;else{if(9!==r)break;i=i-i%e+e}n++}return n===o?-1:i},ue.prototype._computeIndentLevel=function(t){return ue.computeIndentLevel(this._buffer.getLineContent(t+1),this._options.tabSize)},ue.prototype.getActiveIndentGuide=function(t,e,i){var o=this;this._assertNotDisposed();var r=this.getLineCount();if(t<1||r<t)throw new Error("Illegal value for lineNumber");for(var n=Jt.a.getFoldingRules(this._languageIdentifier.id),s=Boolean(n&&n.offSide),a=-2,l=-1,u=-2,h=-1,c=function(t){if(-1!==a&&(-2===a||t-1<a)){l=a=-1;for(var e=t-2;0<=e;e--){var i=o._computeIndentLevel(e);if(0<=i){a=e,l=i;break}}}if(-2===u)for(h=u=-1,e=t;e<r;e++){var n=o._computeIndentLevel(e);if(0<=n){u=e,h=n;break}}},d=-2,p=-1,f=-2,g=-1,m=function(t){if(-2===d){p=d=-1;for(var e=t-2;0<=e;e--){var i=o._computeIndentLevel(e);if(0<=i){d=e,p=i;break}}}if(-1!==f&&(-2===f||f<t-1))for(g=f=-1,e=t;e<r;e++){var n=o._computeIndentLevel(e);if(0<=n){f=e,g=n;break}}},v=0,y=!0,_=0,b=!0,w=0,C=0;y||b;C++){var S,x=t-C,k=t+C;if(0!==C&&(x<1||x<e)&&(y=!1),0!==C&&(r<k||i<k)&&(b=!1),5e4<C&&(b=y=!1),y){var O=void 0;if(O=0<=(S=this._computeIndentLevel(x-1))?(u=x-1,h=S,Math.ceil(S/this._options.tabSize)):(c(x),this._getIndentLevelForWhitespaceLine(s,l,h)),0===C){if(v=x,_=k,0===(w=O))return{startLineNumber:v,endLineNumber:_,indent:w};continue}w<=O?v=x:y=!1}if(b)w<=(0<=(S=this._computeIndentLevel(k-1))?(d=k-1,p=S,Math.ceil(S/this._options.tabSize)):(m(k),this._getIndentLevelForWhitespaceLine(s,p,g)))?_=k:b=!1}return{startLineNumber:v,endLineNumber:_,indent:w}},ue.prototype.getLinesIndentGuides=function(t,e){this._assertNotDisposed();var i=this.getLineCount();if(t<1||i<t)throw new Error("Illegal value for startLineNumber");if(e<1||i<e)throw new Error("Illegal value for endLineNumber");for(var n=Jt.a.getFoldingRules(this._languageIdentifier.id),o=Boolean(n&&n.offSide),r=new Array(e-t+1),s=-2,a=-1,l=-2,u=-1,h=t;h<=e;h++){var c=h-t,d=this._computeIndentLevel(h-1);if(0<=d)s=h-1,a=d,r[c]=Math.ceil(d/this._options.tabSize);else{if(-2===s){a=s=-1;for(var p=h-2;0<=p;p--)if(0<=(f=this._computeIndentLevel(p))){s=p,a=f;break}}if(-1!==l&&(-2===l||l<h-1))for(u=l=-1,p=h;p<i;p++){var f;if(0<=(f=this._computeIndentLevel(p))){l=p,u=f;break}}r[c]=this._getIndentLevelForWhitespaceLine(o,a,u)}}return r},ue.prototype._getIndentLevelForWhitespaceLine=function(t,e,i){return-1===e||-1===i?0:e<i?1+Math.floor(e/this._options.tabSize):e===i?Math.ceil(i/this._options.tabSize):t?Math.ceil(i/this._options.tabSize):1+Math.floor(i/this._options.tabSize)},ue.MODEL_SYNC_LIMIT=52428800,ue.LARGE_FILE_SIZE_THRESHOLD=20971520,ue.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,ue.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:h.c.tabSize,insertSpaces:h.c.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:h.c.trimAutoWhitespace,largeFileOptimizations:h.c.largeFileOptimizations},ue);function ue(t,e,i,n){void 0===n&&(n=null);var o=ae.call(this)||this;o._onWillDispose=o._register(new a.a),o.onWillDispose=o._onWillDispose.event,o._onDidChangeDecorations=o._register(new be),o.onDidChangeDecorations=o._onDidChangeDecorations.event,o._onDidChangeLanguage=o._register(new a.a),o.onDidChangeLanguage=o._onDidChangeLanguage.event,o._onDidChangeLanguageConfiguration=o._register(new a.a),o.onDidChangeLanguageConfiguration=o._onDidChangeLanguageConfiguration.event,o._onDidChangeTokens=o._register(new a.a),o.onDidChangeTokens=o._onDidChangeTokens.event,o._onDidChangeOptions=o._register(new a.a),o.onDidChangeOptions=o._onDidChangeOptions.event,o._eventEmitter=o._register(new Se),re++,o.id="$model"+re,o.isForSimpleWidget=e.isForSimpleWidget,o._associatedResource=null==n?u.a.parse("inmemory://model/"+re):n,o._attachedEditorCount=0,o._buffer=oe(t,e.defaultEOL),o._options=ue.resolveOptions(o._buffer,e);var r=o._buffer.getLineCount(),s=o._buffer.getValueLengthInRange(new b.a(1,1,r,o._buffer.getLineLength(r)+1),0);return e.largeFileOptimizations?o._isTooLargeForTokenization=ue.LARGE_FILE_SIZE_THRESHOLD<s||ue.LARGE_FILE_LINE_COUNT_THRESHOLD<r:o._isTooLargeForTokenization=!1,o._isTooLargeForSyncing=ue.MODEL_SYNC_LIMIT<s,o._setVersionId(1),o._isDisposed=!1,o._isDisposing=!1,o._languageIdentifier=i||Wt.a,o._tokenizationListener=Xt.w.onDidChange(function(t){-1!==t.changedLanguages.indexOf(o._languageIdentifier.language)&&(o._resetTokenizationState(),o.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:o.getLineCount()}]}),o._shouldAutoTokenize()&&o._warmUpTokens())}),o._revalidateTokensTimeout=-1,o._languageRegistryListener=Jt.a.onDidChange(function(t){t.languageIdentifier.id===o._languageIdentifier.id&&o._onDidChangeLanguageConfiguration.fire({})}),o._resetTokenizationState(),o._instanceId=function(t){return(t%=52)<26?String.fromCharCode(97+t):String.fromCharCode(65+t-26)}(re),o._lastDecorationId=0,o._decorations=Object.create(null),o._decorationsTree=new he,o._commandManager=new _(o),o._isUndoing=!1,o._isRedoing=!1,o._trimAutoWhitespaceLines=null,o}var he=(ce.prototype.intervalSearch=function(t,e,i,n,o){var r=this._decorationsTree0.intervalSearch(t,e,i,n,o),s=this._decorationsTree1.intervalSearch(t,e,i,n,o);return r.concat(s)},ce.prototype.search=function(t,e,i,n){if(i)return this._decorationsTree1.search(t,e,n);var o=this._decorationsTree0.search(t,e,n),r=this._decorationsTree1.search(t,e,n);return o.concat(r)},ce.prototype.collectNodesFromOwner=function(t){var e=this._decorationsTree0.collectNodesFromOwner(t),i=this._decorationsTree1.collectNodesFromOwner(t);return e.concat(i)},ce.prototype.collectNodesPostOrder=function(){var t=this._decorationsTree0.collectNodesPostOrder(),e=this._decorationsTree1.collectNodesPostOrder();return t.concat(e)},ce.prototype.insert=function(t){M(t)?this._decorationsTree1.insert(t):this._decorationsTree0.insert(t)},ce.prototype.delete=function(t){M(t)?this._decorationsTree1.delete(t):this._decorationsTree0.delete(t)},ce.prototype.resolveNode=function(t,e){M(t)?this._decorationsTree1.resolveNode(t,e):this._decorationsTree0.resolveNode(t,e)},ce.prototype.acceptReplace=function(t,e,i,n){this._decorationsTree0.acceptReplace(t,e,i,n),this._decorationsTree1.acceptReplace(t,e,i,n)},ce);function ce(){this._decorationsTree0=new H,this._decorationsTree1=new H}function de(t){return t.replace(/[^a-z0-9\-_]/gi," ")}var pe=(fe.prototype.getColor=function(t){return this._resolvedColor||("light"!==t.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor},fe.prototype.invalidateCachedColor=function(){this._resolvedColor=null},fe.prototype._resolveColor=function(t,e){if("string"==typeof t)return t;var i=t?e.getColor(t.id):null;return i?i.toString():x.j},fe);function fe(t){this.color=t.color||x.j,this.darkColor=t.darkColor||x.j,this.position="number"==typeof t.position?t.position:k.c.Center,this._resolvedColor=null}var ge=(me.register=function(t){return new me(t)},me.createDynamic=function(t){return new me(t)},me);function me(t){this.stickiness=t.stickiness||0,this.zIndex=t.zIndex||0,this.className=t.className?de(t.className):null,this.hoverMessage=t.hoverMessage||null,this.glyphMarginHoverMessage=t.glyphMarginHoverMessage||null,this.isWholeLine=t.isWholeLine||!1,this.showIfCollapsed=t.showIfCollapsed||!1,this.collapseOnReplaceEdit=t.collapseOnReplaceEdit||!1,this.overviewRuler=t.overviewRuler?new pe(t.overviewRuler):null,this.glyphMarginClassName=t.glyphMarginClassName?de(t.glyphMarginClassName):null,this.linesDecorationsClassName=t.linesDecorationsClassName?de(t.linesDecorationsClassName):null,this.marginClassName=t.marginClassName?de(t.marginClassName):null,this.inlineClassName=t.inlineClassName?de(t.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=t.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=t.beforeContentClassName?de(t.beforeContentClassName):null,this.afterContentClassName=t.afterContentClassName?de(t.afterContentClassName):null}ge.EMPTY=ge.register({});var ve=[ge.register({stickiness:0}),ge.register({stickiness:1}),ge.register({stickiness:2}),ge.register({stickiness:3})];function ye(t){return t instanceof ge?t:ge.createDynamic(t)}var _e,be=(_e=n.a,ie(we,_e),we.prototype.beginDeferredEmit=function(){this._deferredCnt++},we.prototype.endDeferredEmit=function(){this._deferredCnt--,0===this._deferredCnt&&this._shouldFire&&(this._shouldFire=!1,this._actual.fire({}))},we.prototype.fire=function(){this._shouldFire=!0},we);function we(){var t=_e.call(this)||this;return t._actual=t._register(new a.a),t.event=t._actual.event,t._deferredCnt=0,t._shouldFire=!1,t}var Ce,Se=(Ce=n.a,ie(xe,Ce),xe.prototype.beginDeferredEmit=function(){this._deferredCnt++},xe.prototype.endDeferredEmit=function(){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){var t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}},xe.prototype.fire=function(t){0<this._deferredCnt?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(t):this._deferredEvent=t:(this._fastEmitter.fire(t),this._slowEmitter.fire(t))},xe);function xe(){var t=Ce.call(this)||this;return t._fastEmitter=t._register(new a.a),t.fastEvent=t._fastEmitter.event,t._slowEmitter=t._register(new a.a),t.slowEvent=t._slowEmitter.event,t._deferredCnt=0,t._deferredEvent=null,t}},function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"c",function(){return s}),i.d(e,"d",function(){return a});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function o(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var r=function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,o,r=i.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=r.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return s}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var n=i(1),o=(r.prototype.setMaxWidth=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth+"px")},r.prototype.setWidth=function(t){this._width!==t&&(this._width=t,this.domNode.style.width=this._width+"px")},r.prototype.setHeight=function(t){this._height!==t&&(this._height=t,this.domNode.style.height=this._height+"px")},r.prototype.setTop=function(t){this._top!==t&&(this._top=t,this.domNode.style.top=this._top+"px")},r.prototype.unsetTop=function(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")},r.prototype.setLeft=function(t){this._left!==t&&(this._left=t,this.domNode.style.left=this._left+"px")},r.prototype.setBottom=function(t){this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom+"px")},r.prototype.setRight=function(t){this._right!==t&&(this._right=t,this.domNode.style.right=this._right+"px")},r.prototype.setFontFamily=function(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)},r.prototype.setFontWeight=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)},r.prototype.setFontSize=function(t){this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize+"px")},r.prototype.setLineHeight=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight+"px")},r.prototype.setLetterSpacing=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing+"px")},r.prototype.setClassName=function(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)},r.prototype.toggleClassName=function(t,e){n.P(this.domNode,t,e),this._className=this.domNode.className},r.prototype.setDisplay=function(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)},r.prototype.setPosition=function(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)},r.prototype.setVisibility=function(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)},r.prototype.setLayerHinting=function(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.willChange=this._layerHint?"transform":"auto")},r.prototype.setAttribute=function(t,e){this.domNode.setAttribute(t,e)},r.prototype.removeAttribute=function(t){this.domNode.removeAttribute(t)},r.prototype.appendChild=function(t){this.domNode.appendChild(t.domNode)},r.prototype.removeChild=function(t){this.domNode.removeChild(t.domNode)},r);function r(t){this.domNode=t,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._layerHint=!1}function s(t){return new o(t)}},function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"g",function(){return a}),i.d(e,"a",function(){return l}),i.d(e,"e",function(){return u}),i.d(e,"b",function(){return h}),i.d(e,"f",function(){return c});var o=i(23);function n(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;var i=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(t){e[t]&&"object"==typeof e[t]?i[t]=n(e[t]):i[t]=e[t]}),i}function r(t){if(!t||"object"!=typeof t)return t;for(var e=[t];0<e.length;){var i=e.shift();for(var n in Object.freeze(i),i)if(s.call(i,n)){var o=i[n];"object"!=typeof o||Object.isFrozen(o)||e.push(o)}}return t}var s=Object.prototype.hasOwnProperty;function a(e,i,n){return void 0===n&&(n=!0),Object(o.g)(e)?(Object(o.g)(i)&&Object.keys(i).forEach(function(t){t in e?n&&(Object(o.g)(e[t])&&Object(o.g)(i[t])?a(e[t],i[t],n):e[t]=i[t]):e[t]=i[t]}),e):i}function l(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.forEach(function(e){return Object.keys(e).forEach(function(t){return i[t]=e[t]})}),i}function u(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(typeof t!=typeof e)return!1;if("object"!=typeof t)return!1;if(Array.isArray(t)!==Array.isArray(e))return!1;var i,n;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(!u(t[i],e[i]))return!1}else{var o=[];for(n in t)o.push(n);o.sort();var r=[];for(n in e)r.push(n);if(r.sort(),!u(o,r))return!1;for(i=0;i<o.length;i++)if(!u(t[o[i]],e[o[i]]))return!1}return!0}function h(t,e){void 0===e&&(e=!1),e&&(t=t.map(function(t){return t.toLowerCase()}));var i=function(t){for(var e={},i=0;i<t.length;++i)e[t[i]]=!0;return e}(t);return e?function(t){return void 0!==i[t.toLowerCase()]&&i.hasOwnProperty(t.toLowerCase())}:function(t){return void 0!==i[t]&&i.hasOwnProperty(t)}}function c(t,e,i){void 0===i&&(i=null);var n=e(t);return void 0===n?i:n}},function(t,e,i){"use strict";i.d(e,"o",function(){return s}),i.d(e,"p",function(){return a}),i.d(e,"g",function(){return c}),i.d(e,"f",function(){return d}),i.d(e,"l",function(){return f}),i.d(e,"a",function(){return g}),i.d(e,"q",function(){return m}),i.d(e,"b",function(){return y}),i.d(e,"s",function(){return _}),i.d(e,"e",function(){return b}),i.d(e,"c",function(){return w}),i.d(e,"d",function(){return C}),i.d(e,"r",function(){return S}),i.d(e,"i",function(){return k}),i.d(e,"h",function(){return O}),i.d(e,"w",function(){return E}),i.d(e,"v",function(){return L}),i.d(e,"n",function(){return D}),i.d(e,"m",function(){return I}),i.d(e,"k",function(){return N}),i.d(e,"j",function(){return T}),i.d(e,"t",function(){return M}),i.d(e,"u",function(){return A}),i.d(e,"x",function(){return P}),i.d(e,"z",function(){return R}),i.d(e,"y",function(){return F});var n=i(0),o=i(12),l=i(7),r=i(16),s=Object(l.ub)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},n.a("lineHighlight","Background color for the highlight of line at the cursor position.")),a=Object(l.ub)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},n.a("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),u=Object(l.ub)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},n.a("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque to not hide underlying decorations."),!0),h=Object(l.ub)("editor.rangeHighlightBorder",{dark:null,light:null,hc:l.b},n.a("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),c=Object(l.ub)("editorCursor.foreground",{dark:"#AEAFAD",light:o.a.black,hc:o.a.white},n.a("caret","Color of the editor cursor.")),d=Object(l.ub)("editorCursor.background",null,n.a("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),p=Object(l.ub)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},n.a("editorWhitespaces","Color of whitespace characters in the editor.")),f=Object(l.ub)("editorIndentGuide.background",{dark:p,light:p,hc:p},n.a("editorIndentGuides","Color of the editor indentation guides.")),g=Object(l.ub)("editorIndentGuide.activeBackground",{dark:p,light:p,hc:p},n.a("editorActiveIndentGuide","Color of the active editor indentation guides.")),m=Object(l.ub)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:o.a.white},n.a("editorLineNumbers","Color of editor line numbers.")),v=Object(l.ub)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:l.b},n.a("editorActiveLineNumber","Color of editor active line number"),!1,n.a("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),y=Object(l.ub)("editorLineNumber.activeForeground",{dark:v,light:v,hc:v},n.a("editorActiveLineNumber","Color of editor active line number")),_=Object(l.ub)("editorRuler.foreground",{dark:"#5A5A5A",light:o.a.lightgrey,hc:o.a.white},n.a("editorRuler","Color of the editor rulers.")),b=Object(l.ub)("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},n.a("editorCodeLensForeground","Foreground color of editor code lenses")),w=Object(l.ub)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},n.a("editorBracketMatchBackground","Background color behind matching brackets")),C=Object(l.ub)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:"#fff"},n.a("editorBracketMatchBorder","Color for matching brackets boxes")),S=Object(l.ub)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},n.a("editorOverviewRulerBorder","Color of the overview ruler border.")),x=Object(l.ub)("editorGutter.background",{dark:l.n,light:l.n,hc:l.n},n.a("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),k=Object(l.ub)("editorError.foreground",{dark:"#ea4646",light:"#d60a0a",hc:null},n.a("errorForeground","Foreground color of error squigglies in the editor.")),O=Object(l.ub)("editorError.border",{dark:null,light:null,hc:o.a.fromHex("#E47777").transparent(.8)},n.a("errorBorder","Border color of error squigglies in the editor.")),E=Object(l.ub)("editorWarning.foreground",{dark:"#4d9e4d",light:"#117711",hc:null},n.a("warningForeground","Foreground color of warning squigglies in the editor.")),L=Object(l.ub)("editorWarning.border",{dark:null,light:null,hc:o.a.fromHex("#71B771").transparent(.8)},n.a("warningBorder","Border color of warning squigglies in the editor.")),D=Object(l.ub)("editorInfo.foreground",{dark:"#008000",light:"#008000",hc:null},n.a("infoForeground","Foreground color of info squigglies in the editor.")),I=Object(l.ub)("editorInfo.border",{dark:null,light:null,hc:o.a.fromHex("#71B771").transparent(.8)},n.a("infoBorder","Border color of info squigglies in the editor.")),N=Object(l.ub)("editorHint.foreground",{dark:o.a.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},n.a("hintForeground","Foreground color of hint squigglies in the editor.")),T=Object(l.ub)("editorHint.border",{dark:null,light:null,hc:o.a.fromHex("#eeeeee").transparent(.8)},n.a("hintBorder","Border color of hint squigglies in the editor.")),M=Object(l.ub)("editorUnnecessaryCode.border",{dark:null,light:null,hc:o.a.fromHex("#fff").transparent(.8)},n.a("unnecessaryCodeBorder","Border of unnecessary code in the editor.")),A=Object(l.ub)("editorUnnecessaryCode.opacity",{dark:o.a.fromHex("#000a"),light:o.a.fromHex("#0007"),hc:null},n.a("unnecessaryCodeOpacity","Opacity of unnecessary code in the editor.")),P=Object(l.ub)("editorOverviewRuler.errorForeground",{dark:new o.a(new o.c(255,18,18,.7)),light:new o.a(new o.c(255,18,18,.7)),hc:new o.a(new o.c(255,50,50,1))},n.a("overviewRuleError","Overview ruler marker color for errors.")),R=Object(l.ub)("editorOverviewRuler.warningForeground",{dark:new o.a(new o.c(18,136,18,.7)),light:new o.a(new o.c(18,136,18,.7)),hc:new o.a(new o.c(50,255,50,1))},n.a("overviewRuleWarning","Overview ruler marker color for warnings.")),F=Object(l.ub)("editorOverviewRuler.infoForeground",{dark:new o.a(new o.c(18,18,136,.7)),light:new o.a(new o.c(18,18,136,.7)),hc:new o.a(new o.c(50,50,255,1))},n.a("overviewRuleInfo","Overview ruler marker color for infos."));Object(r.e)(function(t,e){var i=t.getColor(l.n);i&&e.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+i+"; }");var n=t.getColor(l.u);n&&e.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+n+"; }");var o=t.getColor(x);o&&e.addRule(".monaco-editor .margin { background-color: "+o+"; }");var r=t.getColor(u);r&&e.addRule(".monaco-editor .rangeHighlight { background-color: "+r+"; }");var s=t.getColor(h);s&&e.addRule(".monaco-editor .rangeHighlight { border: 1px "+("hc"===t.type?"dotted":"solid")+" "+s+"; }");var a=t.getColor(p);a&&e.addRule(".vs-whitespace { color: "+a+" !important; }")})},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return u});var n,o,r=i(5),s=Object.freeze(function(t,e){var i=setTimeout(t.bind(e),0);return{dispose:function(){clearTimeout(i)}}});(o=n=n||{}).isCancellationToken=function(t){return t===o.None||t===o.Cancelled||t instanceof a||!(!t||"object"!=typeof t)&&"boolean"==typeof t.isCancellationRequested&&"function"==typeof t.onCancellationRequested},o.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.b.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:s});var a=(l.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(l.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.a),this._emitter.event)},enumerable:!0,configurable:!0}),l.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)},l);function l(){this._isCancelled=!1,this._emitter=null}var u=(Object.defineProperty(h.prototype,"token",{get:function(){return this._token||(this._token=new a),this._token},enumerable:!0,configurable:!0}),h.prototype.cancel=function(){this._token?this._token instanceof a&&this._token.cancel():this._token=n.Cancelled},h.prototype.dispose=function(){this._token?this._token instanceof a&&this._token.dispose():this._token=n.None},h);function h(){}},function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n,o,r=i(14),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=/^\w[\w\d+.-]*$/,l=/^\//,u=/^\/\//,h=!0;var d="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,p=(f.isUri=function(t){return t instanceof f||!!t&&"string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme},Object.defineProperty(f.prototype,"fsPath",{get:function(){return w(this)},enumerable:!0,configurable:!0}),f.prototype.with=function(t){if(!t)return this;var e=t.scheme,i=t.authority,n=t.path,o=t.query,r=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=""),void 0===i?i=this.authority:null===i&&(i=""),void 0===n?n=this.path:null===n&&(n=""),void 0===o?o=this.query:null===o&&(o=""),void 0===r?r=this.fragment:null===r&&(r=""),e===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&r===this.fragment?this:new m(e,i,n,o,r)},f.parse=function(t){var e=c.exec(t);return e?new m(e[2]||"",decodeURIComponent(e[4]||""),decodeURIComponent(e[5]||""),decodeURIComponent(e[7]||""),decodeURIComponent(e[9]||"")):new m("","","","","")},f.file=function(t){var e="";if(r.g&&(t=t.replace(/\\/g,d)),t[0]===d&&t[1]===d){var i=t.indexOf(d,2);t=-1===i?(e=t.substring(2),d):(e=t.substring(2,i),t.substring(i)||d)}return new m("file",e,t,"","")},f.from=function(t){return new m(t.scheme,t.authority,t.path,t.query,t.fragment)},f.prototype.toString=function(t){return void 0===t&&(t=!1),C(this,t)},f.prototype.toJSON=function(){return this},f.revive=function(t){if(t){if(t instanceof f)return t;var e=new m(t);return e._fsPath=t.fsPath,e._formatted=t.external,e}return t},f);function f(t,e,i,n,o){"object"==typeof t?(this.scheme=t.scheme||"",this.authority=t.authority||"",this.path=t.path||"",this.query=t.query||"",this.fragment=t.fragment||""):(this.scheme=t||"",this.authority=e||"",this.path=function(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==d&&(e=d+e):e=d}return e}(this.scheme,i||""),this.query=n||"",this.fragment=o||"",function(t){if(!t.scheme){if(h)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+t.authority+'", path: "'+t.path+'", query: "'+t.query+'", fragment: "'+t.fragment+'"}');console.warn('[UriError]: Scheme is missing: {scheme: "", authority: "'+t.authority+'", path: "'+t.path+'", query: "'+t.query+'", fragment: "'+t.fragment+'"}')}if(t.scheme&&!a.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path)if(t.authority){if(!l.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this))}var g,m=(s(v,g=p),Object.defineProperty(v.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=w(this)),this._fsPath},enumerable:!0,configurable:!0}),v.prototype.toString=function(t){return void 0===t&&(t=!1),t?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)},v.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},v);function v(){var t=null!==g&&g.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}var y=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function _(t,e){for(var i=void 0,n=-1,o=0;o<t.length;o++){var r=t.charCodeAt(o);if(97<=r&&r<=122||65<=r&&r<=90||48<=r&&r<=57||45===r||46===r||95===r||126===r||e&&47===r)-1!==n&&(i+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==i&&(i+=t.charAt(o));else{void 0===i&&(i=t.substr(0,o));var s=y[r];void 0!==s?(-1!==n&&(i+=encodeURIComponent(t.substring(n,o)),n=-1),i+=s):-1===n&&(n=o)}}return-1!==n&&(i+=encodeURIComponent(t.substring(n))),void 0!==i?i:t}function b(t){for(var e=void 0,i=0;i<t.length;i++){var n=t.charCodeAt(i);35===n||63===n?(void 0===e&&(e=t.substr(0,i)),e+=y[n]):void 0!==e&&(e+=t[i])}return void 0!==e?e:t}function w(t){var e;return e=t.authority&&1<t.path.length&&"file"===t.scheme?"//"+t.authority+t.path:47===t.path.charCodeAt(0)&&(65<=t.path.charCodeAt(1)&&t.path.charCodeAt(1)<=90||97<=t.path.charCodeAt(1)&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?t.path[1].toLowerCase()+t.path.substr(2):t.path,r.g&&(e=e.replace(/\//g,"\\")),e}function C(t,e){var i=e?b:_,n="",o=t.scheme,r=t.authority,s=t.path,a=t.query,l=t.fragment;if(o&&(n+=o,n+=":"),!r&&"file"!==o||(n+=d,n+=d),r){var u=r.indexOf("@");if(-1!==u){var h=r.substr(0,u);r=r.substr(u+1),-1===(u=h.indexOf(":"))?n+=i(h,!1):(n+=i(h.substr(0,u),!1),n+=":",n+=i(h.substr(u+1),!1)),n+="@"}-1===(u=(r=r.toLowerCase()).indexOf(":"))?n+=i(r,!1):(n+=i(r.substr(0,u),!1),n+=r.substr(u))}if(s){if(3<=s.length&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))65<=(c=s.charCodeAt(1))&&c<=90&&(s="/"+String.fromCharCode(c+32)+":"+s.substr(3));else if(2<=s.length&&58===s.charCodeAt(1)){var c;65<=(c=s.charCodeAt(0))&&c<=90&&(s=String.fromCharCode(c+32)+":"+s.substr(2))}n+=i(s,!0)}return a&&(n+="?",n+=i(a,!1)),l&&(n+="#",n+=e?l:_(l,!1)),n}},function(t,e,i){"use strict";i.d(e,"f",function(){return c}),i.d(e,"b",function(){return d}),i.d(e,"a",function(){return f}),i.d(e,"d",function(){return g}),i.d(e,"e",function(){return w}),i.d(e,"c",function(){return x});var n,o=i(77),r=i(18),s=i(10),a=i(37),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},h=function(i,n){return function(t,e){n(t,e,i)}};function c(t){return void 0!==t.command}var d=(p.ID=1,p.EditorContext=new p,p.CommandPalette=new p,p.MenubarEditMenu=new p,p.MenubarSelectionMenu=new p,p.MenubarGoMenu=new p,p);function p(){this.id=String(p.ID++)}var f=Object(r.c)("menuService"),g=(m.prototype.addCommand=function(t){var e=this._commands[t.id];return this._commands[t.id]=t,void 0!==e},m.prototype.getCommand=function(t){return this._commands[t]},m.prototype.getCommands=function(){var t=Object.create(null);for(var e in this._commands)t[e]=this.getCommand(e);return t},m.prototype.appendMenuItem=function(t,e){var i=t.id,n=this._menuItems[i];return n?n.push(e):this._menuItems[i]=n=[e],{dispose:function(){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}},m.prototype.getMenuItems=function(t){var e=t.id,i=this._menuItems[e]||[];return e===d.CommandPalette.id&&this._appendImplicitItems(i),i},m.prototype._appendImplicitItems=function(t){for(var e=new Set,i=0,n=t.filter(function(t){return c(t)});i<n.length;i++){var o=n[i],r=o.command,s=o.alt;e.add(r.id),s&&e.add(s.id)}for(var a in this._commands)e.has(a)||t.push({command:this._commands[a]})},new m);function m(){this._commands=Object.create(null),this._menuItems=Object.create(null)}var v,y=(v=o.a,l(_,v),_.prototype.run=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this._commandService).executeCommand.apply(t,[this.id].concat(e))},_=u([h(2,a.b)],_));function _(t,e,i){var n=v.call(this,t,e)||this;return n._commandService=i,n}var b,w=(b=o.a,l(C,b),C);function C(t){var e=this;return(e="string"==typeof t.title?b.call(this,"",t.title,"submenu")||this:b.call(this,"",t.title.value,"submenu")||this).item=t,e}var S,x=(l(k,S=y),k.prototype.run=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=[];return this._options.arg&&(i=i.concat([this._options.arg])),this._options.shouldForwardArgs&&(i=i.concat(t)),S.prototype.run.apply(this,i)},k=u([h(3,s.e),h(4,a.b)],k));function k(t,e,i,n,o){var r=this;return(r="string"==typeof t.title?S.call(this,t.id,t.title,o)||this:S.call(this,t.id,t.title.value,o)||this)._cssClass=void 0,r._enabled=!t.precondition||n.contextMatchesRules(t.precondition),r._checked=Boolean(t.toggled&&n.contextMatchesRules(t.toggled)),r._options=i||{},r.item=t,r.alt=e?new k(e,void 0,r._options,n,o):void 0,r}},function(t,e,i){"use strict";var d=i(13),n=i(5),r=i(4),_=i(8),o=i(2),s=i(106),b=i(46),w=i(88),a=(l.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},l.prototype.getAutoCloseBeforeSet=function(){return this._autoCloseBefore},l.prototype.shouldAutoClosePair=function(t,e,i){if(0===e.getTokenCount())return!0;for(var n=e.findTokenIndexAtOffset(i-2),o=e.getStandardTokenType(n),r=0;r<this._autoClosingPairs.length;++r){var s=this._autoClosingPairs[r];if(s.open===t)return s.isOK(o)}return!1},l.prototype.getSurroundingPairs=function(){return this._surroundingPairs},l.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",l);function l(t){t.autoClosingPairs?this._autoClosingPairs=t.autoClosingPairs.map(function(t){return new b.b(t)}):t.brackets?this._autoClosingPairs=t.brackets.map(function(t){return new b.b({open:t[0],close:t[1]})}):this._autoClosingPairs=[],this._autoCloseBefore="string"==typeof t.autoCloseBefore?t.autoCloseBefore:l.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=t.surroundingPairs||this._autoClosingPairs}var u=i(107),h=(c.prototype.getElectricCharacters=function(){var t=[];if(this._richEditBrackets)for(var e=0,i=this._richEditBrackets.brackets.length;e<i;e++){var n=this._richEditBrackets.brackets[e],o=n.close.charAt(n.close.length-1);t.push(o)}for(var r=0,s=this._complexAutoClosePairs;r<s.length;r++){var a=s[r];t.push(a.open.charAt(a.open.length-1))}return t=t.filter(function(t,e,i){return i.indexOf(t)===e})},c.prototype.onElectricCharacter=function(t,e,i){return this._onElectricAutoClose(t,e,i)||this._onElectricAutoIndent(t,e,i)},c.prototype._onElectricAutoIndent=function(t,e,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var n=e.findTokenIndexAtOffset(i-1);if(Object(w.b)(e.getStandardTokenType(n)))return null;var o=this._richEditBrackets.reversedRegex,r=e.getLineContent().substring(0,i-1)+t,s=u.a.findPrevBracketInToken(o,1,r,0,r.length);if(!s)return null;var a=r.substring(s.startColumn-1,s.endColumn-1);if(a=a.toLowerCase(),this._richEditBrackets.textIsOpenBracket[a])return null;var l=r.substring(0,s.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null},c.prototype._onElectricAutoClose=function(t,e,i){if(!this._complexAutoClosePairs.length)return null;for(var n=e.getLineContent(),o=0,r=this._complexAutoClosePairs.length;o<r;o++){var s=this._complexAutoClosePairs[o];if(t===s.open.charAt(s.open.length-1)){var a=i-s.open.length+1;if(n.substring(a-1,i-1)+t===s.open){var l=e.findTokenIndexAtOffset(i-1),u=e.getStandardTokenType(l);if(s.isOK(u)&&!(0<=n.indexOf(s.close,i-1)))return{appendText:s.close}}}}return null},c);function c(t,e,i){i=i||{},this._richEditBrackets=t,this._complexAutoClosePairs=e.filter(function(t){return 1<t.open.length&&!!t.close}).map(function(t){return new b.b(t)}),i.docComment&&this._complexAutoClosePairs.push(new b.b({open:i.docComment.open,close:i.docComment.close}))}var p=(f.prototype.shouldIncrease=function(t){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(t))},f.prototype.shouldDecrease=function(t){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(t))},f.prototype.shouldIndentNextLine=function(t){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(t))},f.prototype.shouldIgnore=function(t){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(t))},f.prototype.getIndentMetadata=function(t){var e=0;return this.shouldIncrease(t)&&(e+=1),this.shouldDecrease(t)&&(e+=2),this.shouldIndentNextLine(t)&&(e+=4),this.shouldIgnore(t)&&(e+=8),e},f);function f(t){this._indentationRules=t}var g=(m.prototype.onEnter=function(t,e,i){for(var n=0,o=this._regExpRules.length;n<o;n++){var r=this._regExpRules[n];if([{reg:r.beforeText,text:e},{reg:r.afterText,text:i},{reg:r.oneLineAboveText,text:t}].every(function(t){return!t.reg||t.reg.test(t.text)}))return r.action}if(0<e.length&&0<i.length)for(n=0,o=this._brackets.length;n<o;n++)if((s=this._brackets[n]).openRegExp.test(e)&&s.closeRegExp.test(i))return{indentAction:b.a.IndentOutdent};if(0<e.length)for(n=0,o=this._brackets.length;n<o;n++){var s;if((s=this._brackets[n]).openRegExp.test(e))return{indentAction:b.a.Indent}}return null},m._createOpenBracketRegExp=function(t){var e=_.n(t);return/\B/.test(e.charAt(0))||(e="\\b"+e),m._safeRegExp(e+="\\s*$")},m._createCloseBracketRegExp=function(t){var e=_.n(t);return/\B/.test(e.charAt(e.length-1))||(e+="\\b"),m._safeRegExp(e="^\\s*"+e)},m._safeRegExp=function(t){try{return new RegExp(t)}catch(t){return Object(d.e)(t),null}},m);function m(t){var n=this;(t=t||{}).brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],t.brackets.forEach(function(t){var e=m._createOpenBracketRegExp(t[0]),i=m._createCloseBracketRegExp(t[1]);e&&i&&n._brackets.push({open:t[0],openRegExp:e,close:t[1],closeRegExp:i})}),this._regExpRules=t.regExpRules||[]}i.d(e,"a",function(){return S});var v=(Object.defineProperty(y.prototype,"brackets",{get:function(){return!this._brackets&&this._conf.brackets&&(this._brackets=new u.b(this._languageIdentifier,this._conf.brackets)),this._brackets},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"electricCharacter",{get:function(){if(!this._electricCharacter){var t=[];this._conf.autoClosingPairs?t=this._conf.autoClosingPairs:this._conf.brackets&&(t=this._conf.brackets.map(function(t){return{open:t[0],close:t[1]}})),this._electricCharacter=new h(this.brackets,t,this._conf.__electricCharacterSupport)}return this._electricCharacter},enumerable:!0,configurable:!0}),y._mergeConf=function(t,e){return{comments:t?e.comments||t.comments:e.comments,brackets:t?e.brackets||t.brackets:e.brackets,wordPattern:t?e.wordPattern||t.wordPattern:e.wordPattern,indentationRules:t?e.indentationRules||t.indentationRules:e.indentationRules,onEnterRules:t?e.onEnterRules||t.onEnterRules:e.onEnterRules,autoClosingPairs:t?e.autoClosingPairs||t.autoClosingPairs:e.autoClosingPairs,surroundingPairs:t?e.surroundingPairs||t.surroundingPairs:e.surroundingPairs,autoCloseBefore:t?e.autoCloseBefore||t.autoCloseBefore:e.autoCloseBefore,folding:t?e.folding||t.folding:e.folding,__electricCharacterSupport:t?e.__electricCharacterSupport||t.__electricCharacterSupport:e.__electricCharacterSupport}},y._handleOnEnter=function(t){var e={},i=!0;return t.brackets&&(i=!1,e.brackets=t.brackets),t.indentationRules&&(i=!1),t.onEnterRules&&(i=!1,e.regExpRules=t.onEnterRules),i?null:new g(e)},y._handleComments=function(t){var e=t.comments;if(!e)return null;var i={};if(e.lineComment&&(i.lineCommentToken=e.lineComment),e.blockComment){var n=e.blockComment,o=n[0],r=n[1];i.blockCommentStartToken=o,i.blockCommentEndToken=r}return i},y);function y(t,e,i){this._languageIdentifier=t,this._brackets=null;var n=this._electricCharacter=null;e&&(n=e._conf),this._conf=y._mergeConf(n,i),this.onEnter=y._handleOnEnter(this._conf),this.comments=y._handleComments(this._conf),this.characterPair=new a(this._conf),this.wordDefinition=this._conf.wordPattern||s.a,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules&&(this.indentRulesSupport=new p(this._conf.indentationRules)),this.foldingRules=this._conf.folding||{}}function C(){this._onDidChange=new n.a,this.onDidChange=this._onDidChange.event,this._entries=[]}var S=new(C.prototype.register=function(t,e){var i=this,n=this._getRichEditSupport(t.id),o=new v(t,n,e);return this._entries[t.id]=o,this._onDidChange.fire({languageIdentifier:t}),Object(r.f)(function(){i._entries[t.id]===o&&(i._entries[t.id]=n,i._onDidChange.fire({languageIdentifier:t}))})},C.prototype._getRichEditSupport=function(t){return this._entries[t]||null},C.prototype._getElectricCharacterSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.electricCharacter||null},C.prototype.getElectricCharacters=function(t){var e=this._getElectricCharacterSupport(t);return e?e.getElectricCharacters():[]},C.prototype.onElectricCharacter=function(t,e,i){var n=Object(w.a)(e,i-1),o=this._getElectricCharacterSupport(n.languageId);return o?o.onElectricCharacter(t,n,i-n.firstCharOffset):null},C.prototype.getComments=function(t){var e=this._getRichEditSupport(t);return e&&e.comments||null},C.prototype._getCharacterPairSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.characterPair||null},C.prototype.getAutoClosingPairs=function(t){var e=this._getCharacterPairSupport(t);return e?e.getAutoClosingPairs():[]},C.prototype.getAutoCloseBeforeSet=function(t){var e=this._getCharacterPairSupport(t);return e?e.getAutoCloseBeforeSet():a.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED},C.prototype.getSurroundingPairs=function(t){var e=this._getCharacterPairSupport(t);return e?e.getSurroundingPairs():[]},C.prototype.shouldAutoClosePair=function(t,e,i){var n=Object(w.a)(e,i-1),o=this._getCharacterPairSupport(n.languageId);return!!o&&o.shouldAutoClosePair(t,n,i-n.firstCharOffset)},C.prototype.getWordDefinition=function(t){var e=this._getRichEditSupport(t);return e?Object(s.c)(e.wordDefinition||null):Object(s.c)(null)},C.prototype.getFoldingRules=function(t){var e=this._getRichEditSupport(t);return e?e.foldingRules:{}},C.prototype.getIndentRulesSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.indentRulesSupport||null},C.prototype.getPrecedingValidLine=function(t,e,i){var n=t.getLanguageIdAtPosition(e,0);if(1<e){var o=e-1,r=-1;for(o=e-1;1<=o;o--){if(t.getLanguageIdAtPosition(o,0)!==n)return r;var s=t.getLineContent(o);if(!i.shouldIgnore(s)&&!/^\s+$/.test(s)&&""!==s)return o;r=o}}return-1},C.prototype.getInheritIndentForLine=function(t,e,i){void 0===i&&(i=!0);var n=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!n)return null;if(e<=1)return{indentation:"",action:null};var o=this.getPrecedingValidLine(t,e,n);if(o<0)return null;if(o<1)return{indentation:"",action:null};var r=t.getLineContent(o);if(n.shouldIncrease(r)||n.shouldIndentNextLine(r))return{indentation:_.q(r),action:b.a.Indent,line:o};if(n.shouldDecrease(r))return{indentation:_.q(r),action:null,line:o};if(1===o)return{indentation:_.q(t.getLineContent(o)),action:null,line:o};var s=o-1,a=n.getIndentMetadata(t.getLineContent(s));if(!(3&a)&&4&a){for(var l=0,u=s-1;0<u;u--)if(!n.shouldIndentNextLine(t.getLineContent(u))){l=u;break}return{indentation:_.q(t.getLineContent(l+1)),action:null,line:l+1}}if(i)return{indentation:_.q(t.getLineContent(o)),action:null,line:o};for(u=o;0<u;u--){var h=t.getLineContent(u);if(n.shouldIncrease(h))return{indentation:_.q(h),action:b.a.Indent,line:u};if(n.shouldIndentNextLine(h)){l=0;for(var c=u-1;0<c;c--)if(!n.shouldIndentNextLine(t.getLineContent(u))){l=c;break}return{indentation:_.q(t.getLineContent(l+1)),action:null,line:l+1}}if(n.shouldDecrease(h))return{indentation:_.q(h),action:null,line:u}}return{indentation:_.q(t.getLineContent(1)),action:null,line:1}},C.prototype.getGoodIndentForLine=function(t,e,i,n){var o=this.getIndentRulesSupport(e);if(!o)return null;var r=this.getInheritIndentForLine(t,i),s=t.getLineContent(i);if(r){var a=r.line;if(void 0!==a){var l=this._getOnEnterSupport(e),u=null;try{l&&(u=l.onEnter("",t.getLineContent(a),""))}catch(t){Object(d.e)(t)}if(u){var h=_.q(t.getLineContent(a));return u.removeText&&(h=h.substring(0,h.length-u.removeText)),u.indentAction===b.a.Indent||u.indentAction===b.a.IndentOutdent?h=n.shiftIndent(h):u.indentAction===b.a.Outdent&&(h=n.unshiftIndent(h)),o.shouldDecrease(s)&&(h=n.unshiftIndent(h)),u.appendText&&(h+=u.appendText),_.q(h)}}return o.shouldDecrease(s)?r.action===b.a.Indent?r.indentation:n.unshiftIndent(r.indentation):r.action===b.a.Indent?n.shiftIndent(r.indentation):r.indentation}return null},C.prototype.getIndentForEnter=function(i,e,t,n){i.forceTokenization(e.startLineNumber);var o,r,s=i.getLineTokens(e.startLineNumber),a=Object(w.a)(s,e.startColumn-1),l=a.getLineContent(),u=!1;o=0<a.firstCharOffset&&s.getLanguageId(0)!==a.languageId?(u=!0,l.substr(0,e.startColumn-1-a.firstCharOffset)):s.getLineContent().substring(0,e.startColumn-1),r=e.isEmpty()?l.substr(e.startColumn-1-a.firstCharOffset):this.getScopedLineTokens(i,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-a.firstCharOffset);var h=this.getIndentRulesSupport(a.languageId);if(!h)return null;var c=o,d=_.q(o);if(!n&&!u){var p=this.getInheritIndentForLine(i,e.startLineNumber);h.shouldDecrease(o)&&p&&(d=p.indentation,p.action!==b.a.Indent&&(d=t.unshiftIndent(d))),c=d+_.z(_.z(o," "),"\t")}var f={getLineTokens:function(t){return i.getLineTokens(t)},getLanguageIdentifier:function(){return i.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,e){return i.getLanguageIdAtPosition(t,e)},getLineContent:function(t){return t===e.startLineNumber?c:i.getLineContent(t)}},g=_.q(s.getLineContent()),m=this.getInheritIndentForLine(f,e.startLineNumber+1);if(!m){var v=u?g:d;return{beforeEnter:v,afterEnter:v}}var y=u?g:m.indentation;return m.action===b.a.Indent&&(y=t.shiftIndent(y)),h.shouldDecrease(r)&&(y=t.unshiftIndent(y)),{beforeEnter:u?g:d,afterEnter:y}},C.prototype.getIndentActionForType=function(t,e,i,n){var o=this.getScopedLineTokens(t,e.startLineNumber,e.startColumn),r=this.getIndentRulesSupport(o.languageId);if(!r)return null;var s,a=o.getLineContent(),l=a.substr(0,e.startColumn-1-o.firstCharOffset);if(s=e.isEmpty()?a.substr(e.startColumn-1-o.firstCharOffset):this.getScopedLineTokens(t,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-o.firstCharOffset),r.shouldDecrease(l+s)||!r.shouldDecrease(l+i+s))return null;var u=this.getInheritIndentForLine(t,e.startLineNumber,!1);if(!u)return null;var h=u.indentation;return u.action!==b.a.Indent&&(h=n.unshiftIndent(h)),h},C.prototype.getIndentMetadata=function(t,e){var i=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return i?e<1||e>t.getLineCount()?null:i.getIndentMetadata(t.getLineContent(e)):null},C.prototype._getOnEnterSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.onEnter||null},C.prototype.getRawEnterActionAtPosition=function(t,e,i){var n=this.getEnterAction(t,new o.a(e,i,e,i));return n?n.enterAction:null},C.prototype.getEnterAction=function(t,e){var i=this.getIndentationAtPosition(t,e.startLineNumber,e.startColumn),n=this.getScopedLineTokens(t,e.startLineNumber,e.startColumn),o=this._getOnEnterSupport(n.languageId);if(!o)return null;var r,s=n.getLineContent(),a=s.substr(0,e.startColumn-1-n.firstCharOffset);r=e.isEmpty()?s.substr(e.startColumn-1-n.firstCharOffset):this.getScopedLineTokens(t,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-n.firstCharOffset);var l=e.startLineNumber,u="";if(1<l&&0===n.firstCharOffset){var h=this.getScopedLineTokens(t,l-1);h.languageId===n.languageId&&(u=h.getLineContent())}var c=null;try{c=o.onEnter(u,a,r)}catch(t){Object(d.e)(t)}return c?(c.appendText||(c.indentAction===b.a.Indent||c.indentAction===b.a.IndentOutdent?c.appendText="\t":c.appendText=""),c.removeText&&(i=i.substring(0,i.length-c.removeText)),{enterAction:c,indentation:i}):null},C.prototype.getIndentationAtPosition=function(t,e,i){var n=t.getLineContent(e),o=_.q(n);return o.length>i-1&&(o=o.substring(0,i-1)),o},C.prototype.getScopedLineTokens=function(t,e,i){t.forceTokenization(e);var n=t.getLineTokens(e),o=void 0===i?t.getLineMaxColumn(e)-1:i-1;return Object(w.a)(n,o)},C.prototype.getBracketsSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.brackets||null},C)},function(t,e,i){"use strict";i.d(e,"h",function(){return u}),i.d(e,"g",function(){return g}),i.d(e,"i",function(){return c}),i.d(e,"e",function(){return d}),i.d(e,"d",function(){return b}),i.d(e,"f",function(){return C}),i.d(e,"b",function(){return O}),i.d(e,"c",function(){return E}),i.d(e,"a",function(){return L});var g,n,o=i(0),r=i(21),s=i(27),h=i(14),a=i(106),l=function(){return(l=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(t){if(1===t)return"blink";if(4===t)return"expand";if(3===t)return"phase";if(2===t)return"smooth";if(5===t)return"solid";throw new Error("blinkingStyleToString: Unknown blinkingStyle")}function c(t){if(t===g.Line)return"line";if(t===g.Block)return"block";if(t===g.Underline)return"underline";if(t===g.LineThin)return"line-thin";if(t===g.BlockOutline)return"block-outline";if(t===g.UnderlineThin)return"underline-thin";throw new Error("cursorStyleToString: Unknown cursorStyle")}(n=g=g||{})[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin";var d=(p.prototype.equals=function(t){return this.canUseLayerHinting===t.canUseLayerHinting&&this.pixelRatio===t.pixelRatio&&this.editorClassName===t.editorClassName&&this.lineHeight===t.lineHeight&&this.readOnly===t.readOnly&&this.accessibilitySupport===t.accessibilitySupport&&this.multiCursorModifier===t.multiCursorModifier&&this.multiCursorMergeOverlapping===t.multiCursorMergeOverlapping&&this.wordSeparators===t.wordSeparators&&this.autoClosingBrackets===t.autoClosingBrackets&&this.autoClosingQuotes===t.autoClosingQuotes&&this.autoSurround===t.autoSurround&&this.autoIndent===t.autoIndent&&this.useTabStops===t.useTabStops&&this.tabFocusMode===t.tabFocusMode&&this.dragAndDrop===t.dragAndDrop&&this.showUnused===t.showUnused&&this.emptySelectionClipboard===t.emptySelectionClipboard&&this.copyWithSyntaxHighlighting===t.copyWithSyntaxHighlighting&&p._equalsLayoutInfo(this.layoutInfo,t.layoutInfo)&&this.fontInfo.equals(t.fontInfo)&&p._equalsViewOptions(this.viewInfo,t.viewInfo)&&p._equalsWrappingInfo(this.wrappingInfo,t.wrappingInfo)&&p._equalsContribOptions(this.contribInfo,t.contribInfo)},p.prototype.createChangeEvent=function(t){return{canUseLayerHinting:this.canUseLayerHinting!==t.canUseLayerHinting,pixelRatio:this.pixelRatio!==t.pixelRatio,editorClassName:this.editorClassName!==t.editorClassName,lineHeight:this.lineHeight!==t.lineHeight,readOnly:this.readOnly!==t.readOnly,accessibilitySupport:this.accessibilitySupport!==t.accessibilitySupport,multiCursorModifier:this.multiCursorModifier!==t.multiCursorModifier,multiCursorMergeOverlapping:this.multiCursorMergeOverlapping!==t.multiCursorMergeOverlapping,wordSeparators:this.wordSeparators!==t.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==t.autoClosingBrackets,autoClosingQuotes:this.autoClosingQuotes!==t.autoClosingQuotes,autoSurround:this.autoSurround!==t.autoSurround,autoIndent:this.autoIndent!==t.autoIndent,useTabStops:this.useTabStops!==t.useTabStops,tabFocusMode:this.tabFocusMode!==t.tabFocusMode,dragAndDrop:this.dragAndDrop!==t.dragAndDrop,emptySelectionClipboard:this.emptySelectionClipboard!==t.emptySelectionClipboard,copyWithSyntaxHighlighting:this.copyWithSyntaxHighlighting!==t.copyWithSyntaxHighlighting,layoutInfo:!p._equalsLayoutInfo(this.layoutInfo,t.layoutInfo),fontInfo:!this.fontInfo.equals(t.fontInfo),viewInfo:!p._equalsViewOptions(this.viewInfo,t.viewInfo),wrappingInfo:!p._equalsWrappingInfo(this.wrappingInfo,t.wrappingInfo),contribInfo:!p._equalsContribOptions(this.contribInfo,t.contribInfo)}},p._equalsLayoutInfo=function(t,e){return t.width===e.width&&t.height===e.height&&t.glyphMarginLeft===e.glyphMarginLeft&&t.glyphMarginWidth===e.glyphMarginWidth&&t.glyphMarginHeight===e.glyphMarginHeight&&t.lineNumbersLeft===e.lineNumbersLeft&&t.lineNumbersWidth===e.lineNumbersWidth&&t.lineNumbersHeight===e.lineNumbersHeight&&t.decorationsLeft===e.decorationsLeft&&t.decorationsWidth===e.decorationsWidth&&t.decorationsHeight===e.decorationsHeight&&t.contentLeft===e.contentLeft&&t.contentWidth===e.contentWidth&&t.contentHeight===e.contentHeight&&t.renderMinimap===e.renderMinimap&&t.minimapLeft===e.minimapLeft&&t.minimapWidth===e.minimapWidth&&t.viewportColumn===e.viewportColumn&&t.verticalScrollbarWidth===e.verticalScrollbarWidth&&t.horizontalScrollbarHeight===e.horizontalScrollbarHeight&&this._equalsOverviewRuler(t.overviewRuler,e.overviewRuler)},p._equalsOverviewRuler=function(t,e){return t.width===e.width&&t.height===e.height&&t.top===e.top&&t.right===e.right},p._equalsViewOptions=function(t,e){return t.extraEditorClassName===e.extraEditorClassName&&t.disableMonospaceOptimizations===e.disableMonospaceOptimizations&&r.e(t.rulers,e.rulers)&&t.ariaLabel===e.ariaLabel&&t.renderLineNumbers===e.renderLineNumbers&&t.renderCustomLineNumbers===e.renderCustomLineNumbers&&t.selectOnLineNumbers===e.selectOnLineNumbers&&t.glyphMargin===e.glyphMargin&&t.revealHorizontalRightPadding===e.revealHorizontalRightPadding&&t.roundedSelection===e.roundedSelection&&t.overviewRulerLanes===e.overviewRulerLanes&&t.overviewRulerBorder===e.overviewRulerBorder&&t.cursorBlinking===e.cursorBlinking&&t.mouseWheelZoom===e.mouseWheelZoom&&t.cursorStyle===e.cursorStyle&&t.cursorWidth===e.cursorWidth&&t.hideCursorInOverviewRuler===e.hideCursorInOverviewRuler&&t.scrollBeyondLastLine===e.scrollBeyondLastLine&&t.scrollBeyondLastColumn===e.scrollBeyondLastColumn&&t.smoothScrolling===e.smoothScrolling&&t.stopRenderingLineAfter===e.stopRenderingLineAfter&&t.renderWhitespace===e.renderWhitespace&&t.renderControlCharacters===e.renderControlCharacters&&t.fontLigatures===e.fontLigatures&&t.renderIndentGuides===e.renderIndentGuides&&t.highlightActiveIndentGuide===e.highlightActiveIndentGuide&&t.renderLineHighlight===e.renderLineHighlight&&this._equalsScrollbarOptions(t.scrollbar,e.scrollbar)&&this._equalsMinimapOptions(t.minimap,e.minimap)&&t.fixedOverflowWidgets===e.fixedOverflowWidgets},p._equalsScrollbarOptions=function(t,e){return t.arrowSize===e.arrowSize&&t.vertical===e.vertical&&t.horizontal===e.horizontal&&t.useShadows===e.useShadows&&t.verticalHasArrows===e.verticalHasArrows&&t.horizontalHasArrows===e.horizontalHasArrows&&t.handleMouseWheel===e.handleMouseWheel&&t.horizontalScrollbarSize===e.horizontalScrollbarSize&&t.horizontalSliderSize===e.horizontalSliderSize&&t.verticalScrollbarSize===e.verticalScrollbarSize&&t.verticalSliderSize===e.verticalSliderSize&&t.mouseWheelScrollSensitivity===e.mouseWheelScrollSensitivity},p._equalsMinimapOptions=function(t,e){return t.enabled===e.enabled&&t.side===e.side&&t.showSlider===e.showSlider&&t.renderCharacters===e.renderCharacters&&t.maxColumn===e.maxColumn},p._equalFindOptions=function(t,e){return t.seedSearchStringFromSelection===e.seedSearchStringFromSelection&&t.autoFindInSelection===e.autoFindInSelection&&t.globalFindClipboard===e.globalFindClipboard},p._equalsParameterHintOptions=function(t,e){return t.enabled===e.enabled&&t.cycle===e.cycle},p._equalsHoverOptions=function(t,e){return t.enabled===e.enabled&&t.delay===e.delay&&t.sticky===e.sticky},p._equalsSuggestOptions=function(t,e){return t===e||!(!t||!e)&&t.filterGraceful===e.filterGraceful&&t.snippets===e.snippets&&t.snippetsPreventQuickSuggestions===e.snippetsPreventQuickSuggestions&&t.localityBonus===e.localityBonus},p._equalsWrappingInfo=function(t,e){return t.inDiffEditor===e.inDiffEditor&&t.isDominatedByLongLines===e.isDominatedByLongLines&&t.isWordWrapMinified===e.isWordWrapMinified&&t.isViewportWrapping===e.isViewportWrapping&&t.wrappingColumn===e.wrappingColumn&&t.wrappingIndent===e.wrappingIndent&&t.wordWrapBreakBeforeCharacters===e.wordWrapBreakBeforeCharacters&&t.wordWrapBreakAfterCharacters===e.wordWrapBreakAfterCharacters&&t.wordWrapBreakObtrusiveCharacters===e.wordWrapBreakObtrusiveCharacters},p._equalsContribOptions=function(t,e){return t.selectionClipboard===e.selectionClipboard&&this._equalsHoverOptions(t.hover,e.hover)&&t.links===e.links&&t.contextmenu===e.contextmenu&&p._equalsQuickSuggestions(t.quickSuggestions,e.quickSuggestions)&&t.quickSuggestionsDelay===e.quickSuggestionsDelay&&this._equalsParameterHintOptions(t.parameterHints,e.parameterHints)&&t.iconsInSuggestions===e.iconsInSuggestions&&t.formatOnType===e.formatOnType&&t.formatOnPaste===e.formatOnPaste&&t.suggestOnTriggerCharacters===e.suggestOnTriggerCharacters&&t.acceptSuggestionOnEnter===e.acceptSuggestionOnEnter&&t.acceptSuggestionOnCommitCharacter===e.acceptSuggestionOnCommitCharacter&&t.wordBasedSuggestions===e.wordBasedSuggestions&&t.suggestSelection===e.suggestSelection&&t.suggestFontSize===e.suggestFontSize&&t.suggestLineHeight===e.suggestLineHeight&&t.tabCompletion===e.tabCompletion&&this._equalsSuggestOptions(t.suggest,e.suggest)&&t.selectionHighlight===e.selectionHighlight&&t.occurrencesHighlight===e.occurrencesHighlight&&t.codeLens===e.codeLens&&t.folding===e.folding&&t.foldingStrategy===e.foldingStrategy&&t.showFoldingControls===e.showFoldingControls&&t.matchBrackets===e.matchBrackets&&this._equalFindOptions(t.find,e.find)&&t.colorDecorators===e.colorDecorators&&s.e(t.codeActionsOnSave,e.codeActionsOnSave)&&t.codeActionsOnSaveTimeout===e.codeActionsOnSaveTimeout&&t.lightbulbEnabled===e.lightbulbEnabled},p._equalsQuickSuggestions=function(t,e){return"boolean"==typeof t?"boolean"==typeof e&&t===e:"boolean"!=typeof e&&t.comments===e.comments&&t.other===e.other&&t.strings===e.strings},p);function p(t){this.canUseLayerHinting=t.canUseLayerHinting,this.pixelRatio=t.pixelRatio,this.editorClassName=t.editorClassName,this.lineHeight=0|t.lineHeight,this.readOnly=t.readOnly,this.accessibilitySupport=t.accessibilitySupport,this.multiCursorModifier=t.multiCursorModifier,this.multiCursorMergeOverlapping=t.multiCursorMergeOverlapping,this.wordSeparators=t.wordSeparators,this.autoClosingBrackets=t.autoClosingBrackets,this.autoClosingQuotes=t.autoClosingQuotes,this.autoSurround=t.autoSurround,this.autoIndent=t.autoIndent,this.useTabStops=t.useTabStops,this.tabFocusMode=t.tabFocusMode,this.dragAndDrop=t.dragAndDrop,this.emptySelectionClipboard=t.emptySelectionClipboard,this.copyWithSyntaxHighlighting=t.copyWithSyntaxHighlighting,this.layoutInfo=t.layoutInfo,this.fontInfo=t.fontInfo,this.viewInfo=t.viewInfo,this.wrappingInfo=t.wrappingInfo,this.contribInfo=t.contribInfo,this.showUnused=t.showUnused}function m(t,e){return void 0===t?e:"false"!==t&&Boolean(t)}function v(t,e){return"string"!=typeof t?e:t}function y(t,e,i){return"string"!=typeof t?e:-1===i.indexOf(t)?e:t}function _(t,e,i,n){var o;return void 0===t?o=e:(o=parseInt(t,10),isNaN(o)&&(o=e)),o=Math.max(i,o),0|(o=Math.min(n,o))}function f(t,e){if("string"!=typeof t)return e;switch(t){case"hidden":return 2;case"visible":return 3;default:return 1}}var b=(w.validate=function(t,e){var i=t.wordWrap;!0===i?i="on":!1===i&&(i="off"),i=y(i,e.wordWrap,["off","on","wordWrapColumn","bounded"]);var n=this._sanitizeViewInfo(t,e.viewInfo),o=this._sanitizeContribInfo(t,e.contribInfo),r=void 0;"string"==typeof t.multiCursorModifier&&(r="ctrlCmd"===t.multiCursorModifier?h.d?"metaKey":"ctrlKey":"altKey");var s,a,l,u=y(r,e.multiCursorModifier,["altKey","metaKey","ctrlKey"]);return l="boolean"==typeof t.autoClosingBrackets&&!1===t.autoClosingBrackets?a=s="never":(s=y(t.autoClosingBrackets,e.autoClosingBrackets,["always","languageDefined","beforeWhitespace","never"]),a=y(t.autoClosingQuotes,e.autoClosingQuotes,["always","languageDefined","beforeWhitespace","never"]),y(t.autoSurround,e.autoSurround,["languageDefined","brackets","quotes","never"])),{inDiffEditor:m(t.inDiffEditor,e.inDiffEditor),wordSeparators:v(t.wordSeparators,e.wordSeparators),lineNumbersMinChars:_(t.lineNumbersMinChars,e.lineNumbersMinChars,1,10),lineDecorationsWidth:void 0===t.lineDecorationsWidth?e.lineDecorationsWidth:t.lineDecorationsWidth,readOnly:m(t.readOnly,e.readOnly),mouseStyle:y(t.mouseStyle,e.mouseStyle,["text","default","copy"]),disableLayerHinting:m(t.disableLayerHinting,e.disableLayerHinting),automaticLayout:m(t.automaticLayout,e.automaticLayout),wordWrap:i,wordWrapColumn:_(t.wordWrapColumn,e.wordWrapColumn,1,1073741824),wordWrapMinified:m(t.wordWrapMinified,e.wordWrapMinified),wrappingIndent:function(t,e){return"string"!=typeof t?e:"same"===t?1:"indent"===t?2:"deepIndent"===t?3:0}(t.wrappingIndent,e.wrappingIndent),wordWrapBreakBeforeCharacters:v(t.wordWrapBreakBeforeCharacters,e.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:v(t.wordWrapBreakAfterCharacters,e.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:v(t.wordWrapBreakObtrusiveCharacters,e.wordWrapBreakObtrusiveCharacters),autoClosingBrackets:s,autoClosingQuotes:a,autoSurround:l,autoIndent:m(t.autoIndent,e.autoIndent),dragAndDrop:m(t.dragAndDrop,e.dragAndDrop),emptySelectionClipboard:m(t.emptySelectionClipboard,e.emptySelectionClipboard),copyWithSyntaxHighlighting:m(t.copyWithSyntaxHighlighting,e.copyWithSyntaxHighlighting),useTabStops:m(t.useTabStops,e.useTabStops),multiCursorModifier:u,multiCursorMergeOverlapping:m(t.multiCursorMergeOverlapping,e.multiCursorMergeOverlapping),accessibilitySupport:y(t.accessibilitySupport,e.accessibilitySupport,["auto","on","off"]),showUnused:m(t.showUnused,e.showUnused),viewInfo:n,contribInfo:o}},w._sanitizeScrollbarOpts=function(t,e,i){if("object"!=typeof t)return e;var n=_(t.horizontalScrollbarSize,e.horizontalScrollbarSize,0,1e3),o=_(t.verticalScrollbarSize,e.verticalScrollbarSize,0,1e3);return{vertical:f(t.vertical,e.vertical),horizontal:f(t.horizontal,e.horizontal),arrowSize:_(t.arrowSize,e.arrowSize,0,1e3),useShadows:m(t.useShadows,e.useShadows),verticalHasArrows:m(t.verticalHasArrows,e.verticalHasArrows),horizontalHasArrows:m(t.horizontalHasArrows,e.horizontalHasArrows),horizontalScrollbarSize:n,horizontalSliderSize:_(t.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:o,verticalSliderSize:_(t.verticalSliderSize,o,0,1e3),handleMouseWheel:m(t.handleMouseWheel,e.handleMouseWheel),mouseWheelScrollSensitivity:i}},w._sanitizeMinimapOpts=function(t,e){return"object"!=typeof t?e:{enabled:m(t.enabled,e.enabled),side:y(t.side,e.side,["right","left"]),showSlider:y(t.showSlider,e.showSlider,["always","mouseover"]),renderCharacters:m(t.renderCharacters,e.renderCharacters),maxColumn:_(t.maxColumn,e.maxColumn,1,1e4)}},w._santizeFindOpts=function(t,e){return"object"!=typeof t?e:{seedSearchStringFromSelection:m(t.seedSearchStringFromSelection,e.seedSearchStringFromSelection),autoFindInSelection:m(t.autoFindInSelection,e.autoFindInSelection),globalFindClipboard:m(t.globalFindClipboard,e.globalFindClipboard)}},w._sanitizeParameterHintOpts=function(t,e){return"object"!=typeof t?e:{enabled:m(t.enabled,e.enabled),cycle:m(t.cycle,e.cycle)}},w._santizeHoverOpts=function(t,e){var i;if("boolean"==typeof t)i={enabled:t};else{if("object"!=typeof t)return e;i=t}return{enabled:m(i.enabled,e.enabled),delay:_(i.delay,e.delay,0,1e4),sticky:m(i.sticky,e.sticky)}},w._sanitizeSuggestOpts=function(t,e){var i=t.suggest||{};return{filterGraceful:m(i.filterGraceful,e.filterGraceful),snippets:y(t.snippetSuggestions,e.snippets,["top","bottom","inline","none"]),snippetsPreventQuickSuggestions:m(i.snippetsPreventQuickSuggestions,e.filterGraceful),localityBonus:m(i.localityBonus,e.localityBonus)}},w._sanitizeTabCompletionOpts=function(t,e){return!1===t?"off":!0===t?"onlySnippets":y(t,e,["on","off","onlySnippets"])},w._sanitizeViewInfo=function(t,e){var i=[];if(Array.isArray(t.rulers)){for(var n=0,o=t.rulers.length;n<o;n++)i.push(_(t.rulers[n],0,0,1e4));i.sort()}var r=e.renderLineNumbers,s=e.renderCustomLineNumbers;if(void 0!==t.lineNumbers){var a=t.lineNumbers;!0===a?a="on":!1===a&&(a="off"),"function"==typeof a?(r=4,s=a):r="interval"===a?3:"relative"===a?2:"on"===a?1:0}var l=m(t.fontLigatures,e.fontLigatures),u=m(t.disableMonospaceOptimizations,e.disableMonospaceOptimizations)||l,h=t.renderWhitespace;!0===h?h="boundary":!1===h&&(h="none"),h=y(t.renderWhitespace,e.renderWhitespace,["none","boundary","all"]);var c=t.renderLineHighlight;!0===c?c="line":!1===c&&(c="none"),c=y(t.renderLineHighlight,e.renderLineHighlight,["none","gutter","line","all"]);var d=function(t,e){var i=parseFloat(t);return isNaN(i)&&(i=e),i}(t.mouseWheelScrollSensitivity,e.scrollbar.mouseWheelScrollSensitivity);0===d&&(d=1);var p=this._sanitizeScrollbarOpts(t.scrollbar,e.scrollbar,d),f=this._sanitizeMinimapOpts(t.minimap,e.minimap);return{extraEditorClassName:v(t.extraEditorClassName,e.extraEditorClassName),disableMonospaceOptimizations:u,rulers:i,ariaLabel:v(t.ariaLabel,e.ariaLabel),renderLineNumbers:r,renderCustomLineNumbers:s,selectOnLineNumbers:m(t.selectOnLineNumbers,e.selectOnLineNumbers),glyphMargin:m(t.glyphMargin,e.glyphMargin),revealHorizontalRightPadding:_(t.revealHorizontalRightPadding,e.revealHorizontalRightPadding,0,1e3),roundedSelection:m(t.roundedSelection,e.roundedSelection),overviewRulerLanes:_(t.overviewRulerLanes,e.overviewRulerLanes,0,3),overviewRulerBorder:m(t.overviewRulerBorder,e.overviewRulerBorder),cursorBlinking:function(t,e){if("string"!=typeof t)return e;switch(t){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"visible":case"solid":return 5}return 1}(t.cursorBlinking,e.cursorBlinking),mouseWheelZoom:m(t.mouseWheelZoom,e.mouseWheelZoom),cursorStyle:function(t,e){return"string"!=typeof t?e:"line"===t?g.Line:"block"===t?g.Block:"underline"===t?g.Underline:"line-thin"===t?g.LineThin:"block-outline"===t?g.BlockOutline:"underline-thin"===t?g.UnderlineThin:g.Line}(t.cursorStyle,e.cursorStyle),cursorWidth:_(t.cursorWidth,e.cursorWidth,0,Number.MAX_VALUE),hideCursorInOverviewRuler:m(t.hideCursorInOverviewRuler,e.hideCursorInOverviewRuler),scrollBeyondLastLine:m(t.scrollBeyondLastLine,e.scrollBeyondLastLine),scrollBeyondLastColumn:_(t.scrollBeyondLastColumn,e.scrollBeyondLastColumn,0,1073741824),smoothScrolling:m(t.smoothScrolling,e.smoothScrolling),stopRenderingLineAfter:_(t.stopRenderingLineAfter,e.stopRenderingLineAfter,-1,1073741824),renderWhitespace:h,renderControlCharacters:m(t.renderControlCharacters,e.renderControlCharacters),fontLigatures:l,renderIndentGuides:m(t.renderIndentGuides,e.renderIndentGuides),highlightActiveIndentGuide:m(t.highlightActiveIndentGuide,e.highlightActiveIndentGuide),renderLineHighlight:c,scrollbar:p,minimap:f,fixedOverflowWidgets:m(t.fixedOverflowWidgets,e.fixedOverflowWidgets)}},w._sanitizeContribInfo=function(t,e){var i;i="object"==typeof t.quickSuggestions?l({other:!0},t.quickSuggestions):m(t.quickSuggestions,e.quickSuggestions),"boolean"==typeof t.acceptSuggestionOnEnter&&(t.acceptSuggestionOnEnter=t.acceptSuggestionOnEnter?"on":"off");var n=this._santizeFindOpts(t.find,e.find);return{selectionClipboard:m(t.selectionClipboard,e.selectionClipboard),hover:this._santizeHoverOpts(t.hover,e.hover),links:m(t.links,e.links),contextmenu:m(t.contextmenu,e.contextmenu),quickSuggestions:i,quickSuggestionsDelay:_(t.quickSuggestionsDelay,e.quickSuggestionsDelay,-1073741824,1073741824),parameterHints:this._sanitizeParameterHintOpts(t.parameterHints,e.parameterHints),iconsInSuggestions:m(t.iconsInSuggestions,e.iconsInSuggestions),formatOnType:m(t.formatOnType,e.formatOnType),formatOnPaste:m(t.formatOnPaste,e.formatOnPaste),suggestOnTriggerCharacters:m(t.suggestOnTriggerCharacters,e.suggestOnTriggerCharacters),acceptSuggestionOnEnter:y(t.acceptSuggestionOnEnter,e.acceptSuggestionOnEnter,["on","smart","off"]),acceptSuggestionOnCommitCharacter:m(t.acceptSuggestionOnCommitCharacter,e.acceptSuggestionOnCommitCharacter),wordBasedSuggestions:m(t.wordBasedSuggestions,e.wordBasedSuggestions),suggestSelection:y(t.suggestSelection,e.suggestSelection,["first","recentlyUsed","recentlyUsedByPrefix"]),suggestFontSize:_(t.suggestFontSize,e.suggestFontSize,0,1e3),suggestLineHeight:_(t.suggestLineHeight,e.suggestLineHeight,0,1e3),tabCompletion:this._sanitizeTabCompletionOpts(t.tabCompletion,e.tabCompletion),suggest:this._sanitizeSuggestOpts(t,e.suggest),selectionHighlight:m(t.selectionHighlight,e.selectionHighlight),occurrencesHighlight:m(t.occurrencesHighlight,e.occurrencesHighlight),codeLens:m(t.codeLens,e.codeLens),folding:m(t.folding,e.folding),foldingStrategy:y(t.foldingStrategy,e.foldingStrategy,["auto","indentation"]),showFoldingControls:y(t.showFoldingControls,e.showFoldingControls,["always","mouseover"]),matchBrackets:m(t.matchBrackets,e.matchBrackets),find:n,colorDecorators:m(t.colorDecorators,e.colorDecorators),lightbulbEnabled:m(!!t.lightbulb&&t.lightbulb.enabled,e.lightbulbEnabled),codeActionsOnSave:function(t,e){if(!t)return e;for(var i=Object.create(null),n=0,o=Object.keys(t);n<o.length;n++){var r=o[n],s=t[r];"boolean"==typeof s&&(i[r]=s)}return i}(t.codeActionsOnSave,{}),codeActionsOnSaveTimeout:_(t.codeActionsOnSaveTimeout,e.codeActionsOnSaveTimeout,1,1e4)}},w);function w(){}var C=(S._tweakValidatedOptions=function(t,e){var i=2===e,n=1===e;return{inDiffEditor:t.inDiffEditor,wordSeparators:t.wordSeparators,lineNumbersMinChars:t.lineNumbersMinChars,lineDecorationsWidth:t.lineDecorationsWidth,readOnly:t.readOnly,mouseStyle:t.mouseStyle,disableLayerHinting:t.disableLayerHinting,automaticLayout:t.automaticLayout,wordWrap:t.wordWrap,wordWrapColumn:t.wordWrapColumn,wordWrapMinified:t.wordWrapMinified,wrappingIndent:t.wrappingIndent,wordWrapBreakBeforeCharacters:t.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:t.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:t.wordWrapBreakObtrusiveCharacters,autoClosingBrackets:t.autoClosingBrackets,autoClosingQuotes:t.autoClosingQuotes,autoSurround:t.autoSurround,autoIndent:t.autoIndent,dragAndDrop:t.dragAndDrop,emptySelectionClipboard:t.emptySelectionClipboard,copyWithSyntaxHighlighting:t.copyWithSyntaxHighlighting,useTabStops:t.useTabStops,multiCursorModifier:t.multiCursorModifier,multiCursorMergeOverlapping:t.multiCursorMergeOverlapping,accessibilitySupport:t.accessibilitySupport,showUnused:t.showUnused,viewInfo:{extraEditorClassName:t.viewInfo.extraEditorClassName,disableMonospaceOptimizations:t.viewInfo.disableMonospaceOptimizations,rulers:t.viewInfo.rulers,ariaLabel:n?o.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):t.viewInfo.ariaLabel,renderLineNumbers:t.viewInfo.renderLineNumbers,renderCustomLineNumbers:t.viewInfo.renderCustomLineNumbers,selectOnLineNumbers:t.viewInfo.selectOnLineNumbers,glyphMargin:t.viewInfo.glyphMargin,revealHorizontalRightPadding:t.viewInfo.revealHorizontalRightPadding,roundedSelection:!i&&t.viewInfo.roundedSelection,overviewRulerLanes:t.viewInfo.overviewRulerLanes,overviewRulerBorder:t.viewInfo.overviewRulerBorder,cursorBlinking:t.viewInfo.cursorBlinking,mouseWheelZoom:t.viewInfo.mouseWheelZoom,cursorStyle:t.viewInfo.cursorStyle,cursorWidth:t.viewInfo.cursorWidth,hideCursorInOverviewRuler:t.viewInfo.hideCursorInOverviewRuler,scrollBeyondLastLine:t.viewInfo.scrollBeyondLastLine,scrollBeyondLastColumn:t.viewInfo.scrollBeyondLastColumn,smoothScrolling:t.viewInfo.smoothScrolling,stopRenderingLineAfter:t.viewInfo.stopRenderingLineAfter,renderWhitespace:i?"none":t.viewInfo.renderWhitespace,renderControlCharacters:!i&&t.viewInfo.renderControlCharacters,fontLigatures:!i&&t.viewInfo.fontLigatures,renderIndentGuides:!i&&t.viewInfo.renderIndentGuides,highlightActiveIndentGuide:t.viewInfo.highlightActiveIndentGuide,renderLineHighlight:t.viewInfo.renderLineHighlight,scrollbar:t.viewInfo.scrollbar,minimap:{enabled:!i&&t.viewInfo.minimap.enabled,side:t.viewInfo.minimap.side,renderCharacters:t.viewInfo.minimap.renderCharacters,showSlider:t.viewInfo.minimap.showSlider,maxColumn:t.viewInfo.minimap.maxColumn},fixedOverflowWidgets:t.viewInfo.fixedOverflowWidgets},contribInfo:{selectionClipboard:t.contribInfo.selectionClipboard,hover:t.contribInfo.hover,links:!i&&t.contribInfo.links,contextmenu:t.contribInfo.contextmenu,quickSuggestions:t.contribInfo.quickSuggestions,quickSuggestionsDelay:t.contribInfo.quickSuggestionsDelay,parameterHints:t.contribInfo.parameterHints,iconsInSuggestions:t.contribInfo.iconsInSuggestions,formatOnType:t.contribInfo.formatOnType,formatOnPaste:t.contribInfo.formatOnPaste,suggestOnTriggerCharacters:t.contribInfo.suggestOnTriggerCharacters,acceptSuggestionOnEnter:t.contribInfo.acceptSuggestionOnEnter,acceptSuggestionOnCommitCharacter:t.contribInfo.acceptSuggestionOnCommitCharacter,wordBasedSuggestions:t.contribInfo.wordBasedSuggestions,suggestSelection:t.contribInfo.suggestSelection,suggestFontSize:t.contribInfo.suggestFontSize,suggestLineHeight:t.contribInfo.suggestLineHeight,tabCompletion:t.contribInfo.tabCompletion,suggest:t.contribInfo.suggest,selectionHighlight:!i&&t.contribInfo.selectionHighlight,occurrencesHighlight:!i&&t.contribInfo.occurrencesHighlight,codeLens:!i&&t.contribInfo.codeLens,folding:!i&&t.contribInfo.folding,foldingStrategy:t.contribInfo.foldingStrategy,showFoldingControls:t.contribInfo.showFoldingControls,matchBrackets:!i&&t.contribInfo.matchBrackets,find:t.contribInfo.find,colorDecorators:t.contribInfo.colorDecorators,lightbulbEnabled:t.contribInfo.lightbulbEnabled,codeActionsOnSave:t.contribInfo.codeActionsOnSave,codeActionsOnSaveTimeout:t.contribInfo.codeActionsOnSaveTimeout}}},S.createInternalEditorOptions=function(t,e){var i;i="auto"===e.accessibilitySupport?t.accessibilitySupport:"on"===e.accessibilitySupport?2:1;var n,o=this._tweakValidatedOptions(e,i);n="string"==typeof o.lineDecorationsWidth&&/^\d+(\.\d+)?ch$/.test(o.lineDecorationsWidth)?parseFloat(o.lineDecorationsWidth.substr(0,o.lineDecorationsWidth.length-2))*t.fontInfo.typicalHalfwidthCharacterWidth:_(o.lineDecorationsWidth,0,0,1e3),o.contribInfo.folding&&(n+=16);var r=x.compute({outerWidth:t.outerWidth,outerHeight:t.outerHeight,showGlyphMargin:o.viewInfo.glyphMargin,lineHeight:t.fontInfo.lineHeight,showLineNumbers:0!==o.viewInfo.renderLineNumbers,lineNumbersMinChars:o.lineNumbersMinChars,lineNumbersDigitCount:t.lineNumbersDigitCount,lineDecorationsWidth:n,typicalHalfwidthCharacterWidth:t.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:t.fontInfo.maxDigitWidth,verticalScrollbarWidth:o.viewInfo.scrollbar.verticalScrollbarSize,horizontalScrollbarHeight:o.viewInfo.scrollbar.horizontalScrollbarSize,scrollbarArrowSize:o.viewInfo.scrollbar.arrowSize,verticalScrollbarHasArrows:o.viewInfo.scrollbar.verticalHasArrows,minimap:o.viewInfo.minimap.enabled,minimapSide:o.viewInfo.minimap.side,minimapRenderCharacters:o.viewInfo.minimap.renderCharacters,minimapMaxColumn:o.viewInfo.minimap.maxColumn,pixelRatio:t.pixelRatio}),s=null,a=o.wordWrap,l=o.wordWrapColumn,u=o.wordWrapMinified;s=2===i?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:u&&t.isDominatedByLongLines?{isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,r.viewportColumn)}:"on"===a?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,r.viewportColumn)}:"bounded"===a?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,r.viewportColumn),l)}:"wordWrapColumn"===a?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:l}:{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1};var h={inDiffEditor:o.inDiffEditor,isDominatedByLongLines:t.isDominatedByLongLines,isWordWrapMinified:s.isWordWrapMinified,isViewportWrapping:s.isViewportWrapping,wrappingColumn:s.wrappingColumn,wrappingIndent:o.wrappingIndent,wordWrapBreakBeforeCharacters:o.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:o.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:o.wordWrapBreakObtrusiveCharacters},c="monaco-editor";return o.viewInfo.extraEditorClassName&&(c+=" "+o.viewInfo.extraEditorClassName),t.extraEditorClassName&&(c+=" "+t.extraEditorClassName),o.viewInfo.fontLigatures&&(c+=" enable-ligatures"),"default"===o.mouseStyle?c+=" mouse-default":"copy"===o.mouseStyle&&(c+=" mouse-copy"),new d({canUseLayerHinting:!o.disableLayerHinting,pixelRatio:t.pixelRatio,editorClassName:c,lineHeight:t.fontInfo.lineHeight,readOnly:o.readOnly,accessibilitySupport:i,multiCursorModifier:o.multiCursorModifier,multiCursorMergeOverlapping:o.multiCursorMergeOverlapping,wordSeparators:o.wordSeparators,autoClosingBrackets:o.autoClosingBrackets,autoClosingQuotes:o.autoClosingQuotes,autoSurround:o.autoSurround,autoIndent:o.autoIndent,useTabStops:o.useTabStops,tabFocusMode:!!o.readOnly||t.tabFocusMode,dragAndDrop:o.dragAndDrop,emptySelectionClipboard:o.emptySelectionClipboard&&t.emptySelectionClipboard,copyWithSyntaxHighlighting:o.copyWithSyntaxHighlighting,layoutInfo:r,fontInfo:t.fontInfo,viewInfo:o.viewInfo,wrappingInfo:h,contribInfo:o.contribInfo,showUnused:o.showUnused})},S);function S(){}var x=(k.compute=function(t){var e=0|t.outerWidth,i=0|t.outerHeight,n=t.showGlyphMargin,o=0|t.lineHeight,r=t.showLineNumbers,s=0|t.lineNumbersMinChars,a=0|t.lineNumbersDigitCount,l=0|t.lineDecorationsWidth,u=t.typicalHalfwidthCharacterWidth,h=t.maxDigitWidth,c=0|t.verticalScrollbarWidth,d=t.verticalScrollbarHasArrows,p=0|t.scrollbarArrowSize,f=0|t.horizontalScrollbarHeight,g=t.minimap,m=t.minimapSide,v=t.minimapRenderCharacters,y=0|t.minimapMaxColumn,_=t.pixelRatio,b=0;if(r){var w=Math.max(a,s);b=Math.round(w*h)}var C=0;n&&(C=o);var S,x,k,O,E=0,L=E+C,D=L+b,I=D+l,N=e-C-b-l;if(g){var T=void 0;T=2<=_?(S=v?2:4,2/_):(S=v?1:3,1/_),y<(k=Math.max(0,Math.floor((N-c-2)*T/(u+T))))/T&&(k=Math.floor(y*T)),O=N-k,"left"===m?(x=0,E+=k,L+=k,D+=k,I+=k):x=e-k-c}else S=k=x=0,O=N;var M=d?p:0;return{width:e,height:i,glyphMarginLeft:E,glyphMarginWidth:C,glyphMarginHeight:i,lineNumbersLeft:L,lineNumbersWidth:b,lineNumbersHeight:i,decorationsLeft:D,decorationsWidth:l,decorationsHeight:i,contentLeft:I,contentWidth:O,contentHeight:i,renderMinimap:S,minimapLeft:x,minimapWidth:k,viewportColumn:Math.max(1,Math.floor((O-c-2)/u)),verticalScrollbarWidth:c,horizontalScrollbarHeight:f,overviewRuler:{top:M,width:c,height:i-2*M,right:0}}},k);function k(){}var O={fontFamily:h.d?"Menlo, Monaco, 'Courier New', monospace":h.c?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:h.d?12:14,lineHeight:0,letterSpacing:0},E={tabSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},L={inDiffEditor:!1,wordSeparators:a.b,lineNumbersMinChars:5,lineDecorationsWidth:10,readOnly:!1,mouseStyle:"text",disableLayerHinting:!1,automaticLayout:!1,wordWrap:"off",wordWrapColumn:80,wordWrapMinified:!0,wrappingIndent:1,wordWrapBreakBeforeCharacters:"([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋",wordWrapBreakAfterCharacters:" \t})]?|&,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣",wordWrapBreakObtrusiveCharacters:".",autoClosingBrackets:"languageDefined",autoClosingQuotes:"languageDefined",autoSurround:"languageDefined",autoIndent:!0,dragAndDrop:!0,emptySelectionClipboard:!0,copyWithSyntaxHighlighting:!0,useTabStops:!0,multiCursorModifier:"altKey",multiCursorMergeOverlapping:!0,accessibilitySupport:"auto",showUnused:!0,viewInfo:{extraEditorClassName:"",disableMonospaceOptimizations:!1,rulers:[],ariaLabel:o.a("editorViewAccessibleLabel","Editor content"),renderLineNumbers:1,renderCustomLineNumbers:null,selectOnLineNumbers:!0,glyphMargin:!0,revealHorizontalRightPadding:30,roundedSelection:!0,overviewRulerLanes:2,overviewRulerBorder:!0,cursorBlinking:1,mouseWheelZoom:!1,cursorStyle:g.Line,cursorWidth:0,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,scrollBeyondLastColumn:5,smoothScrolling:!1,stopRenderingLineAfter:1e4,renderWhitespace:"none",renderControlCharacters:!1,fontLigatures:!1,renderIndentGuides:!0,highlightActiveIndentGuide:!0,renderLineHighlight:"line",scrollbar:{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,mouseWheelScrollSensitivity:1},minimap:{enabled:!0,side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120},fixedOverflowWidgets:!1},contribInfo:{selectionClipboard:!0,hover:{enabled:!0,delay:300,sticky:!0},links:!0,contextmenu:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},quickSuggestionsDelay:10,parameterHints:{enabled:!0,cycle:!1},iconsInSuggestions:!0,formatOnType:!1,formatOnPaste:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",acceptSuggestionOnCommitCharacter:!0,wordBasedSuggestions:!0,suggestSelection:"recentlyUsed",suggestFontSize:0,suggestLineHeight:0,tabCompletion:"off",suggest:{filterGraceful:!0,snippets:"inline",snippetsPreventQuickSuggestions:!0,localityBonus:!1},selectionHighlight:!0,occurrencesHighlight:!0,codeLens:!0,folding:!0,foldingStrategy:"auto",showFoldingControls:"mouseover",matchBrackets:!0,find:{seedSearchStringFromSelection:!0,autoFindInSelection:!1,globalFindClipboard:!1},colorDecorators:!0,lightbulbEnabled:!0,codeActionsOnSave:{},codeActionsOnSaveTimeout:750}}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("codeEditorService")},function(t,r,s){"use strict";(function(e,n){var i;s.d(r,"a",function(){return t}),s.d(r,"b",function(){return o}),function(){var a=Object.create(null);a["WinJS/Core/_WinJS"]={};function t(t,e,i){var n={},o=!1,r=e.map(function(t){return"exports"===t?(o=!0,n):a[t]}),s=i.apply({},r);a[t]=o?n:s}t("WinJS/Core/_Global",[],function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==e?e:{}}),t("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function(e){var t=!!e.Windows;var i=null;return{hasWinRT:t,markSupportedForProcessing:function(t){return t.supportedForProcessing=!0,t},_setImmediate:function(t){null===i&&(i=e.setImmediate?e.setImmediate.bind(e):void 0!==n&&"function"==typeof n.nextTick?n.nextTick.bind(n):e.setTimeout.bind(e)),i(t)}}}),t("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function(t){return t.msWriteProfilerMark||function(){}}),t("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function(l,u,r,h){function c(t,e,i){var n,o,r,s=Object.keys(e),a=Array.isArray(t);for(o=0,r=s.length;o<r;o++){var l=s[o],u=95!==l.charCodeAt(0),h=e[l];!h||"object"!=typeof h||void 0===h.value&&"function"!=typeof h.get&&"function"!=typeof h.set?u?a?t.forEach(function(t){t[l]=h}):t[l]=h:(n=n||{})[l]={value:h,enumerable:u,configurable:!0,writable:!0}:(void 0===h.enumerable&&(h.enumerable=u),i&&h.setName&&"function"==typeof h.setName&&h.setName(i+"."+l),(n=n||{})[l]=h)}n&&(a?t.forEach(function(t){Object.defineProperties(t,n)}):Object.defineProperties(t,n))}function s(t,e,i){return t=t||function(){},r.markSupportedForProcessing(t),e&&c(t.prototype,e),i&&c(t,i),t}return function(){var t=l;function r(t,e){var i=t||{};if(e){var n=e.split(".");i===u&&"WinJS"===n[0]&&(i=l,n.splice(0,1));for(var o=0,r=n.length;o<r;o++){var s=n[o];i[s]||Object.defineProperty(i,s,{value:{},writable:!1,enumerable:!0,configurable:!0}),i=i[s]}}return i}function i(t,e,i){var n=r(t,e);return i&&c(n,i,e||"<ANONYMOUS>"),n}t.Namespace||(t.Namespace=Object.create(Object.prototype));var o=1,s=2,a=3;Object.defineProperties(t.Namespace,{defineWithParent:{value:i,writable:!0,enumerable:!0,configurable:!0},define:{value:function(t,e){return i(u,t,e)},writable:!0,enumerable:!0,configurable:!0},_lazy:{value:function(t){var e,i,n=o;return{setName:function(t){e=t},get:function(){switch(n){case a:return i;case o:n=s;try{h("WinJS.Namespace._lazy:"+e+",StartTM"),i=t()}finally{h("WinJS.Namespace._lazy:"+e+",StopTM"),n=o}return t=null,n=a,i;case s:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(t){switch(n){case s:throw"Illegal: reentrancy on initialization";default:n=a,i=t}},enumerable:!0,configurable:!0}},writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:function(t,e,i){var n=[t],o=null;return e&&(o=r(u,e),n.push(o)),c(n,i,e||"<ANONYMOUS>"),o},writable:!0,enumerable:!0,configurable:!0}})}(),l.Namespace.define("WinJS.Class",{define:s,derive:function(t,e,i,n){if(t){e=e||function(){};var o=t.prototype;return e.prototype=Object.create(o),r.markSupportedForProcessing(e),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0,enumerable:!0}),i&&c(e.prototype,i),n&&c(e,n),e}return s(e,i,n)},mix:function(t){var e,i;for(t=t||function(){},e=1,i=arguments.length;e<i;e++)c(t.prototype,arguments[e]);return t}}),{Namespace:l.Namespace,Class:l.Class}}),t("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function(t){var e=t.Class.derive(Error,function(t,e){this.name=t,this.message=e||t},{},{supportedForProcessing:!1});return t.Namespace.define("WinJS",{ErrorFromName:e}),e}),t("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function(t,e){function o(i){var n="_on"+i+"state";return{get:function(){var t=this[n];return t&&t.userHandler},set:function(t){var e=this[n];t?(e||(e={wrapper:function(t){return e.userHandler(t)},userHandler:t},Object.defineProperty(this,n,{value:e,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(i,e.wrapper,!1)),e.userHandler=t):e&&(this.removeEventListener(i,e.wrapper,!1),this[n]=null)},enumerable:!0}}var s=e.Class.define(function(t,e,i){this.detail=e,this.target=i,this.timeStamp=Date.now(),this.type=t},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),i={_listeners:null,addEventListener:function(t,e,i){i=i||!1,this._listeners=this._listeners||{};for(var n=this._listeners[t]=this._listeners[t]||[],o=0,r=n.length;o<r;o++){var s=n[o];if(s.useCapture===i&&s.listener===e)return}n.push({listener:e,useCapture:i})},dispatchEvent:function(t,e){var i=this._listeners&&this._listeners[t];if(i){for(var n=new s(t,e,this),o=0,r=(i=i.slice(0,i.length)).length;o<r&&!n._stopImmediatePropagationCalled;o++)i[o].listener(n);return n.defaultPrevented||!1}return!1},removeEventListener:function(t,e,i){i=i||!1;var n=this._listeners&&this._listeners[t];if(n)for(var o=0,r=n.length;o<r;o++){var s=n[o];if(s.listener===e&&s.useCapture===i){n.splice(o,1),0===n.length&&delete this._listeners[t];break}}}};e.Namespace._moduleDefine(t,"WinJS.Utilities",{_createEventProperty:o,createEventProperties:function(){for(var t={},e=0,i=arguments.length;e<i;e++){var n=arguments[e];t["on"+n]=o(n)}return t},eventMixin:i})}),t("WinJS/Core/_Trace",["WinJS/Core/_Global"],function(t){function e(t){return t}return{_traceAsyncOperationStarting:t.Debug&&t.Debug.msTraceAsyncOperationStarting&&t.Debug.msTraceAsyncOperationStarting.bind(t.Debug)||e,_traceAsyncOperationCompleted:t.Debug&&t.Debug.msTraceAsyncOperationCompleted&&t.Debug.msTraceAsyncOperationCompleted.bind(t.Debug)||e,_traceAsyncCallbackStarting:t.Debug&&t.Debug.msTraceAsyncCallbackStarting&&t.Debug.msTraceAsyncCallbackStarting.bind(t.Debug)||e,_traceAsyncCallbackCompleted:t.Debug&&t.Debug.msTraceAsyncCallbackCompleted&&t.Debug.msTraceAsyncCallbackCompleted.bind(t.Debug)||e}}),t("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function(c,n,t,e,i,d){c.Debug&&(c.Debug.setNonUserCodeExceptions=!0);var r=new(t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),i.eventMixin));r._listeners={};var s="error",p="Canceled",o=!1,a={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};a.all=a.promise|a.thenPromise|a.errorPromise|a.exceptionPromise|a.completePromise;var l,u,f,h,g,m,v,y,_,b,w=1;function C(){}l={name:"created",enter:function(t){t._setState(u)},cancel:C,done:C,then:C,_completed:C,_error:C,_notify:C,_progress:C,_setCompleteValue:C,_setErrorValue:C},u={name:"working",enter:C,cancel:function(t){t._setState(g)},done:I,then:H,_completed:x,_error:N,_notify:C,_progress:P,_setCompleteValue:B,_setErrorValue:j},f={name:"waiting",enter:function(e){var i=e._value;if(i instanceof V&&i._state!==b&&i._state!==y)R(i,{promise:e});else{var n=function(t){i._errorId?e._chainedError(t,i):(A(e,t,O,i,n),e._error(t))};n.handlesOnError=!0,i.then(e._completed.bind(e),n,e._progress.bind(e))}},cancel:function(t){t._setState(h)},done:I,then:H,_completed:x,_error:N,_notify:C,_progress:P,_setCompleteValue:B,_setErrorValue:j},h={name:"waiting_canceled",enter:function(t){t._setState(m);var e=t._value;e.cancel&&e.cancel()},cancel:C,done:I,then:H,_completed:x,_error:N,_notify:C,_progress:P,_setCompleteValue:B,_setErrorValue:j},g={name:"canceled",enter:function(t){t._setState(m),t._cancelAction()},cancel:C,done:I,then:H,_completed:x,_error:N,_notify:C,_progress:P,_setCompleteValue:B,_setErrorValue:j},m={name:"canceling",enter:function(t){var e=new Error(p);e.name=e.message,t._value=e,t._setState(_)},cancel:C,done:C,then:C,_completed:C,_error:C,_notify:C,_progress:C,_setCompleteValue:C,_setErrorValue:C},v={name:"complete_notify",enter:function(t){if(t.done=q.prototype.done,t.then=q.prototype.then,t._listeners)for(var e,i=[t];i.length;)(e=i.shift())._state._notify(e,i);t._setState(y)},cancel:C,done:null,then:null,_completed:C,_error:C,_notify:T,_progress:C,_setCompleteValue:C,_setErrorValue:C},y={name:"success",enter:function(t){t.done=q.prototype.done,t.then=q.prototype.then,t._cleanupAction()},cancel:C,done:null,then:null,_completed:C,_error:C,_notify:T,_progress:C,_setCompleteValue:C,_setErrorValue:C},_={name:"error_notify",enter:function(t){if(t.done=z.prototype.done,t.then=z.prototype.then,t._listeners)for(var e,i=[t];i.length;)(e=i.shift())._state._notify(e,i);t._setState(b)},cancel:C,done:null,then:null,_completed:C,_error:C,_notify:M,_progress:C,_setCompleteValue:C,_setErrorValue:C},b={name:"error",enter:function(t){t.done=z.prototype.done,t.then=z.prototype.then,t._cleanupAction()},cancel:C,done:null,then:null,_completed:C,_error:C,_notify:M,_progress:C,_setCompleteValue:C,_setErrorValue:C};var S=t.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(t,e,i){this._state.done(this,t,e,i)},then:function t(e,i,n){if(this.then===t)return this._state.then(this,e,i,n);this.then(e,i,n)},_chainedError:function(t,e){var i=this._state._error(this,t,E,e);return this._run(),i},_completed:function(t){var e=this._state._completed(this,t);return this._run(),e},_error:function(t){var e=this._state._error(this,t,L);return this._run(),e},_progress:function(t){this._state._progress(this,t)},_setState:function(t){this._nextState=t},_setCompleteValue:function(t){this._state._setCompleteValue(this,t),this._run()},_setChainedErrorValue:function(t,e){var i=this._state._setErrorValue(this,t,E,e);return this._run(),i},_setExceptionValue:function(t){var e=this._state._setErrorValue(this,t,D);return this._run(),e},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1});function x(t,e){var i;i=e&&"object"==typeof e&&"function"==typeof e.then?f:v,t._value=e,t._setState(i)}function k(t,e,i,n,o,r){return{exception:t,error:e,promise:i,handler:r,id:n,parent:o}}function O(t,e,i,n){var o=i._isException;return k(o?e:null,o?null:e,t,i._errorId,i,n)}function E(t,e,i){var n=i._isException,o=i._errorId;return F(t,o,n),k(n?e:null,n?null:e,t,o,i)}function L(t,e){var i=++w;return F(t,i),k(null,e,t,i)}function D(t,e){var i=++w;return F(t,i,!0),k(e,null,t,i)}function I(t,e,i,n){R(t,{c:e,e:i,p:n,asyncOpID:d._traceAsyncOperationStarting("WinJS.Promise.done")})}function N(t,e,i,n){t._value=e,A(t,e,i,n),t._setState(_)}function T(t,e){var i,n,o=t._value,r=t._listeners;if(r)for(t._listeners=null,i=0,n=Array.isArray(r)?r.length:1;i<n;i++){var s=1===n?r:r[i],a=s.c,l=s.promise;if(d._traceAsyncOperationCompleted(s.asyncOpID,c.Debug&&c.Debug.MS_ASYNC_OP_STATUS_SUCCESS),l){d._traceAsyncCallbackStarting(s.asyncOpID);try{l._setCompleteValue(a?a(o):o)}catch(t){l._setExceptionValue(t)}finally{d._traceAsyncCallbackCompleted()}l._state!==f&&l._listeners&&e.push(l)}else q.prototype.done.call(t,a)}}function M(t,e){var i,n,o=t._value,r=t._listeners;if(r)for(t._listeners=null,i=0,n=Array.isArray(r)?r.length:1;i<n;i++){var s=1===n?r:r[i],a=s.e,l=s.promise,u=c.Debug&&(o&&o.name===p?c.Debug.MS_ASYNC_OP_STATUS_CANCELED:c.Debug.MS_ASYNC_OP_STATUS_ERROR);if(d._traceAsyncOperationCompleted(s.asyncOpID,u),l){var h=!1;try{a?(d._traceAsyncCallbackStarting(s.asyncOpID),h=!0,a.handlesOnError||A(l,o,O,t,a),l._setCompleteValue(a(o))):l._setChainedErrorValue(o,t)}catch(t){l._setExceptionValue(t)}finally{h&&d._traceAsyncCallbackCompleted()}l._state!==f&&l._listeners&&e.push(l)}else z.prototype.done.call(t,null,a)}}function A(t,e,i,n,o){if(r._listeners[s]){if(e instanceof Error&&e.message===p)return;r.dispatchEvent(s,i(t,e,n,o))}}function P(t,e){var i,n,o=t._listeners;if(o)for(i=0,n=Array.isArray(o)?o.length:1;i<n;i++){var r=1===n?o:o[i],s=r.p;if(s)try{s(e)}catch(t){}r.c||r.e||!r.promise||r.promise._progress(e)}}function R(t,e){var i=t._listeners;i?(i=Array.isArray(i)?i:[i]).push(e):i=e,t._listeners=i}function F(t,e,i){t._isException=i||!1,t._errorId=e}function j(t,e,i,n){t._value=e,A(t,e,i,n),t._setState(b)}function B(t,e){var i;i=e&&"object"==typeof e&&"function"==typeof e.then?f:y,t._value=e,t._setState(i)}function H(t,e,i,n){var o=new V(t);return R(t,{promise:o,c:e,e:i,p:n,asyncOpID:d._traceAsyncOperationStarting("WinJS.Promise.then")}),o}var W,V=t.Class.derive(S,function(t){o&&(!0===o||o&a.thenPromise)&&(this._stack=K._getStack()),this._creator=t,this._setState(l),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),z=t.Class.define(function(t){o&&(!0===o||o&a.errorPromise)&&(this._stack=K._getStack()),this._value=t,A(this,t,L)},{cancel:function(){},done:function(t,e){var i=this._value;if(e)try{e.handlesOnError||A(null,i,O,this,e);var n=e(i);return void(n&&"object"==typeof n&&"function"==typeof n.done&&n.done())}catch(t){i=t}i instanceof Error&&i.message===p||K._doneHandler(i)},then:function(t,e){if(!e)return this;var i,n=this._value;try{e.handlesOnError||A(null,n,O,this,e),i=new q(e(n))}catch(t){i=t===n?this:new U(t)}return i}},{supportedForProcessing:!1}),U=t.Class.derive(z,function(t){o&&(!0===o||o&a.exceptionPromise)&&(this._stack=K._getStack()),this._value=t,A(this,t,D)},{},{supportedForProcessing:!1}),q=t.Class.define(function(t){if(o&&(!0===o||o&a.completePromise)&&(this._stack=K._getStack()),t&&"object"==typeof t&&"function"==typeof t.then){var e=new V(null);return e._setCompleteValue(t),e}this._value=t},{cancel:function(){},done:function(t){if(t)try{var e=t(this._value);e&&"object"==typeof e&&"function"==typeof e.done&&e.done()}catch(t){K._doneHandler(t)}},then:function(t){try{var e=t?t(this._value):this._value;return e===this._value?this:new q(e)}catch(t){return new U(t)}}},{supportedForProcessing:!1});var K=t.Class.derive(S,function(t,e){o&&(!0===o||o&a.promise)&&(this._stack=K._getStack()),this._oncancel=e,this._setState(l),this._run();try{t(this._completed.bind(this),this._error.bind(this),this._progress.bind(this))}catch(t){this._setExceptionValue(t)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(t){t.message,t.stack;r.dispatchEvent("error",t)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(t,e,i){r.addEventListener(t,e,i)},any:function(s){return new K(function(i,n){var o=Object.keys(s);0===o.length&&i();var r=0;o.forEach(function(e){K.as(s[e]).then(function(){i({key:e,value:s[e]})},function(t){t instanceof Error&&t.name===p?++r===o.length&&i(K.cancel):n({key:e,value:s[e]})})})},function(){Object.keys(s).forEach(function(t){var e=K.as(s[t]);"function"==typeof e.cancel&&e.cancel()})})},as:function(t){return t&&"object"==typeof t&&"function"==typeof t.then?t:new q(t)},cancel:{get:function(){return W=W||new z(new e(p))}},dispatchEvent:function(t,e){return r.dispatchEvent(t,e)},is:function(t){return t&&"object"==typeof t&&"function"==typeof t.then},join:function(c){return new K(function(n,o,r){function i(t){if(0==--h){var e=Object.keys(a).length;if(0===e)n(l);else{var i=0;s.forEach(function(t){var e=a[t];e instanceof Error&&e.name===p&&i++}),i===e?n(K.cancel):o(a)}}else r({Key:t,Done:!0})}var s=Object.keys(c),a=Array.isArray(c)?[]:{},l=Array.isArray(c)?[]:{},u=0,h=s.length;s.forEach(function(e){var t=c[e];void 0===t?u++:K.then(t,function(t){l[e]=t,i(e)},function(t){a[e]=t,i(e)})}),0!==(h-=u)||n(l)},function(){Object.keys(c).forEach(function(t){var e=K.as(c[t]);"function"==typeof e.cancel&&e.cancel()})})},removeEventListener:function(t,e,i){r.removeEventListener(t,e,i)},supportedForProcessing:!1,then:function(t,e,i,n){return K.as(t).then(e,i,n)},thenEach:function(e,i,n,o){var r=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(t){r[t]=K.as(e[t]).then(i,n,o)}),K.join(r)},timeout:function(t,e){var i=function(e){var i;return new K(function(t){e?i=c.setTimeout(t,e):n._setImmediate(t)},function(){i&&c.clearTimeout(i)})}(t);return e?function(t,e){function i(){t.cancel()}return t.then(function(){e.cancel()}),e.then(i,i),e}(i,e):i},wrap:function(t){return new q(t)},wrapError:function(t){return new z(t)},_veryExpensiveTagWithStack:{get:function(){return o},set:function(t){o=t}},_veryExpensiveTagWithStack_tag:a,_getStack:function(){if(c.Debug&&c.Debug.debuggerEnabled)try{throw new Error}catch(t){return t.stack}},_cancelBlocker:function(t,e){if(!K.is(t))return K.wrap(t);var i,n,o=new K(function(t,e){i=t,n=e},function(){n=i=null,e&&e()});return t.then(function(t){i&&i(t)},function(t){n&&n(t)}),o}});return Object.defineProperties(K,i.createEventProperties(s)),K._doneHandler=function(t){n._setImmediate(function(){throw t})},{PromiseStateMachine:S,Promise:K,state_created:l}}),t("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function(t,e){return t.Namespace.define("WinJS",{Promise:e.Promise}),e.Promise}),(i=a["WinJS/Core/_WinJS"]).TPromise=i.Promise,i.PPromise=i.Promise}();var t=i.Promise,o=i.TPromise;i.PPromise}).call(this,s(133),s(134))},function(t,e,i){"use strict";function n(t){return t&&"string"==typeof t.id}i.d(e,"c",function(){return n}),i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var o={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},r={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"}},function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return s});var c=i(4),d=i(23),n=i(18),p=i(179),r=Object(n.c)("commandService"),s=(o.prototype.registerCommand=function(t,e){var i=this;if(!t)throw new Error("invalid command");if("string"==typeof t){if(!e)throw new Error("invalid command");return this.registerCommand({id:t,handler:e})}if(t.description){for(var n=[],o=0,r=t.description.args;o<r.length;o++){var s=r[o];n.push(s.constraint)}var a=t.handler;t.handler=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return Object(d.k)(e,n),a.apply(void 0,[t].concat(e))}}var l=t.id,u=this._commands.get(l);u||(u=new p.a,this._commands.set(l,u));var h=u.unshift(t);return Object(c.f)(function(){h(),i._commands.get(l).isEmpty()&&i._commands.delete(l)})},o.prototype.registerCommandAlias=function(t,o){return s.registerCommand(t,function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=t.get(r)).executeCommand.apply(e,[o].concat(i))})},o.prototype.getCommand=function(t){var e=this._commands.get(t);if(e&&!e.isEmpty())return e.iterator().next().value},o.prototype.getCommands=function(){var i=this,n=Object.create(null);return this._commands.forEach(function(t,e){n[e]=i.getCommand(e)}),n},new o);function o(){this._commands=new Map}},function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return c}),i.d(e,"f",function(){return d}),i.d(e,"e",function(){return f}),i.d(e,"d",function(){return v}),i.d(e,"c",function(){return y});var n=(o.prototype.define=function(t,e){this._keyCodeToStr[t]=e,this._strToKeyCode[e.toLowerCase()]=t},o.prototype.keyCodeToStr=function(t){return this._keyCodeToStr[t]},o.prototype.strToKeyCode=function(t){return this._strToKeyCode[t.toLowerCase()]||0},o);function o(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}var r,s,a=new n,l=new n,u=new n;function h(t,e,i,n){void 0===i&&(i=e),void 0===n&&(n=i),a.define(t,e),l.define(t,i),u.define(t,n)}function c(t,e){return(t|(65535&e)<<16>>>0)>>>0}function d(t,e){if(0===t)return null;var i=(65535&t)>>>0,n=(4294901760&t)>>>16;return 0!=n?new m(p(i,e),p(n,e)):p(i,e)}function p(t,e){var i=!!(2048&t),n=!!(256&t);return new f(2===e?n:i,!!(1024&t),!!(512&t),2===e?i:n,255&t)}h(0,"unknown"),h(1,"Backspace"),h(2,"Tab"),h(3,"Enter"),h(4,"Shift"),h(5,"Ctrl"),h(6,"Alt"),h(7,"PauseBreak"),h(8,"CapsLock"),h(9,"Escape"),h(10,"Space"),h(11,"PageUp"),h(12,"PageDown"),h(13,"End"),h(14,"Home"),h(15,"LeftArrow","Left"),h(16,"UpArrow","Up"),h(17,"RightArrow","Right"),h(18,"DownArrow","Down"),h(19,"Insert"),h(20,"Delete"),h(21,"0"),h(22,"1"),h(23,"2"),h(24,"3"),h(25,"4"),h(26,"5"),h(27,"6"),h(28,"7"),h(29,"8"),h(30,"9"),h(31,"A"),h(32,"B"),h(33,"C"),h(34,"D"),h(35,"E"),h(36,"F"),h(37,"G"),h(38,"H"),h(39,"I"),h(40,"J"),h(41,"K"),h(42,"L"),h(43,"M"),h(44,"N"),h(45,"O"),h(46,"P"),h(47,"Q"),h(48,"R"),h(49,"S"),h(50,"T"),h(51,"U"),h(52,"V"),h(53,"W"),h(54,"X"),h(55,"Y"),h(56,"Z"),h(57,"Meta"),h(58,"ContextMenu"),h(59,"F1"),h(60,"F2"),h(61,"F3"),h(62,"F4"),h(63,"F5"),h(64,"F6"),h(65,"F7"),h(66,"F8"),h(67,"F9"),h(68,"F10"),h(69,"F11"),h(70,"F12"),h(71,"F13"),h(72,"F14"),h(73,"F15"),h(74,"F16"),h(75,"F17"),h(76,"F18"),h(77,"F19"),h(78,"NumLock"),h(79,"ScrollLock"),h(80,";",";","OEM_1"),h(81,"=","=","OEM_PLUS"),h(82,",",",","OEM_COMMA"),h(83,"-","-","OEM_MINUS"),h(84,".",".","OEM_PERIOD"),h(85,"/","/","OEM_2"),h(86,"`","`","OEM_3"),h(110,"ABNT_C1"),h(111,"ABNT_C2"),h(87,"[","[","OEM_4"),h(88,"\\","\\","OEM_5"),h(89,"]","]","OEM_6"),h(90,"'","'","OEM_7"),h(91,"OEM_8"),h(92,"OEM_102"),h(93,"NumPad0"),h(94,"NumPad1"),h(95,"NumPad2"),h(96,"NumPad3"),h(97,"NumPad4"),h(98,"NumPad5"),h(99,"NumPad6"),h(100,"NumPad7"),h(101,"NumPad8"),h(102,"NumPad9"),h(103,"NumPad_Multiply"),h(104,"NumPad_Add"),h(105,"NumPad_Separator"),h(106,"NumPad_Subtract"),h(107,"NumPad_Decimal"),h(108,"NumPad_Divide"),(s=r=r||{}).toString=function(t){return a.keyCodeToStr(t)},s.fromString=function(t){return a.strToKeyCode(t)},s.toUserSettingsUS=function(t){return l.keyCodeToStr(t)},s.toUserSettingsGeneral=function(t){return u.keyCodeToStr(t)},s.fromUserSettings=function(t){return l.strToKeyCode(t)||u.strToKeyCode(t)};var f=(g.prototype.equals=function(t){return 1===t.type&&this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode},g.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode},g.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode},g);function g(t,e,i,n,o){this.type=1,this.ctrlKey=t,this.shiftKey=e,this.altKey=i,this.metaKey=n,this.keyCode=o}var m=function(t,e){this.type=2,this.firstPart=t,this.chordPart=e},v=function(t,e,i,n,o,r){this.ctrlKey=t,this.shiftKey=e,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=r},y=function(){}},function(t,e,i){"use strict";i.d(e,"b",function(){return l}),i.d(e,"a",function(){return c}),i.d(e,"c",function(){return p});var n,r=i(22),o=i(167),s=i(14),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=(u.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},u.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},u);function u(t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=0===t.button,this.middleButton=1===t.button,this.rightButton=2===t.button,this.target=t.target,this.detail=t.detail||1,"dblclick"===t.type&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,"number"==typeof t.pageX?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=t.clientY+document.body.scrollTop+document.documentElement.scrollTop);var e=o.a.getPositionOfChildWindowRelativeToAncestorWindow(self,t.view);this.posx-=e.left,this.posy-=e.top}var h,c=(a(d,h=l),d);function d(t){var e=h.call(this,t)||this;return e.dataTransfer=t.dataTransfer,e}var p=(f.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},f.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},f);function f(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.browserEvent=t||null,this.target=t?t.target||t.targetNode||t.srcElement:null,this.deltaY=i,this.deltaX=e,t){var n=t,o=t;void 0!==n.wheelDeltaY?this.deltaY=n.wheelDeltaY/120:void 0!==o.VERTICAL_AXIS&&o.axis===o.VERTICAL_AXIS&&(this.deltaY=-o.detail/3),void 0!==n.wheelDeltaX?r.m&&s.g?this.deltaX=-n.wheelDeltaX/120:this.deltaX=n.wheelDeltaX/120:void 0!==o.HORIZONTAL_AXIS&&o.axis===o.HORIZONTAL_AXIS&&(this.deltaX=-t.detail/3),0===this.deltaY&&0===this.deltaX&&t.wheelDelta&&(this.deltaY=t.wheelDelta/120)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"d",function(){return s}),i.d(e,"c",function(){return l}),i.d(e,"b",function(){return h});var n=i(20),o=(r.prototype.getEditOperations=function(t,e){e.addTrackedEditOperation(this._range,this._text)},r.prototype.computeCursorState=function(t,e){var i=e.getInverseEditOperations()[0].range;return new n.a(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)},r);function r(t,e,i){void 0===i&&(i=!1),this._range=t,this._text=e,this.insertsAutoWhitespace=i}var s=(a.prototype.getEditOperations=function(t,e){e.addTrackedEditOperation(this._range,this._text)},a.prototype.computeCursorState=function(t,e){var i=e.getInverseEditOperations()[0].range;return new n.a(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)},a);function a(t,e,i){void 0===i&&(i=!1),this._range=t,this._text=e,this.insertsAutoWhitespace=i}var l=(u.prototype.getEditOperations=function(t,e){e.addTrackedEditOperation(this._range,this._text)},u.prototype.computeCursorState=function(t,e){var i=e.getInverseEditOperations()[0].range;return new n.a(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)},u);function u(t,e,i,n,o){void 0===o&&(o=!1),this._range=t,this._text=e,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}var h=(c.prototype.getEditOperations=function(t,e){e.addEditOperation(this._range,this._text),this._selectionId=e.trackSelection(this._initialSelection)},c.prototype.computeCursorState=function(t,e){return e.getTrackedSelection(this._selectionId)},c);function c(t,e,i){this._range=t,this._text=e,this._initialSelection=i}},function(t,e,i){"use strict";i.d(e,"h",function(){return s}),i.d(e,"f",function(){return a}),i.d(e,"b",function(){return o}),i.d(e,"a",function(){return n}),i.d(e,"c",function(){return l}),i.d(e,"g",function(){return u}),i.d(e,"e",function(){return h}),i.d(e,"d",function(){return c});var p=i(14),r=i(8),s="/",a=p.g?"\\":"/";function o(t,e){void 0===e&&(e=a);var i=~t.lastIndexOf("/")||~t.lastIndexOf("\\");if(0===i)return".";if(0==~i)return t[0];if(~i==t.length-1)return o(t.substring(0,t.length-1));var n=t.substring(0,~i);return p.g&&":"===n[n.length-1]&&(n+=e),n}function n(t){var e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return 0===e?t:~e==t.length-1?n(t.substring(0,t.length-1)):t.substr(1+~e)}function l(t){var e=~(t=n(t)).lastIndexOf(".");return e?t.substring(~e):""}var f=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,g=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;function u(t,e){if(null==t)return t;var i=t.length;if(0===i)return".";var n=!(!p.g||!e);if(function(t,e){return e?!g.test(t):!f.test(t)}(t,n))return t;for(var o=n?"\\":"/",r=function(t,e){void 0===e&&(e="/");if(!t)return"";var i=t.length,n=t.charCodeAt(0);{if(47===n||92===n){if((47===(n=t.charCodeAt(1))||92===n)&&47!==(n=t.charCodeAt(2))&&92!==n){for(var o=3,r=o;o<i&&(47!==(n=t.charCodeAt(o))&&92!==n);o++);if(n=t.charCodeAt(o+1),r!==o&&47!==n&&92!==n)for(o+=1;o<i;o++)if(47===(n=t.charCodeAt(o))||92===n)return t.slice(0,o+1).replace(/[\\/]/g,e)}return e}if((65<=n&&n<=90||97<=n&&n<=122)&&58===t.charCodeAt(1))return 47===(n=t.charCodeAt(2))||92===n?t.slice(0,2)+e:t.slice(0,2)}var s=t.indexOf("://");if(-1!==s)for(s+=3;s<i;s++)if(47===(n=t.charCodeAt(s))||92===n)return t.slice(0,s+1);return""}(t,o),s=r.length,a=!1,l="",u=r.length;u<=i;u++)if(u===i||47===t.charCodeAt(u)||92===t.charCodeAt(u)){if(m(t,s,u,"..")){var h=l.lastIndexOf(o),c=l.slice(h+1);(r||0<c.length)&&".."!==c&&(l=-1===h?"":l.slice(0,h),a=!0)}else m(t,s,u,".")&&(r||l||u<i-1)&&(a=!0);if(!a){var d=t.slice(s,u);""!==l&&l[l.length-1]!==o&&(l+=o),l+=d}s=u+1,a=!1}return r+l}function m(t,e,i,n){return e+n.length===i&&t.indexOf(n,e)===e}var h=function(){for(var t="",e=0;e<arguments.length;e++){var i=arguments[e];if(0<e){var n=t.charCodeAt(t.length-1);if(47!==n&&92!==n){var o=i.charCodeAt(0);47!==o&&92!==o&&(t+=s)}}t+=i}return u(t)};function c(t,e,i,n){if(void 0===n&&(n=a),t===e)return!0;if(!t||!e)return!1;if(e.length>t.length)return!1;if(i){if(!Object(r.G)(t,e))return!1;if(e.length===t.length)return!0;var o=e.length;return e.charAt(e.length-1)===n&&o--,t.charAt(o)===n}return e.charAt(e.length-1)!==n&&(e+=n),0===t.indexOf(e)}},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"e",function(){return l}),i.d(e,"b",function(){return w}),i.d(e,"d",function(){return S}),i.d(e,"f",function(){return x});var f,g=i(17),m=i(21),s=i(27),v=i(13),n=i(3),y=i(11),o=i(10),_=i(29),b=i(2),r={Visible:new o.f("suggestWidgetVisible",!1),MultipleSuggestions:new o.f("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new o.f("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new o.f("acceptSuggestionOnEnter",!0)};function a(){return f}function l(s,a,t,e,i,n){void 0===t&&(t="bottom"),void 0===n&&(n=_.a.None);var l=[],u=function(t){return"none"===t?function(t){return 25!==t.kind}:function(){return!0}}(t),o=s.getWordUntilPosition(a),h=new b.a(a.lineNumber,o.startColumn,a.lineNumber,o.endColumn);a=a.clone();var r=y.d.orderedGroups(s);var c=i||{triggerKind:0},d=!1,p=r.map(function(t){return function(){return Promise.all(t.map(function(r){if(Object(m.k)(e)||!(e.indexOf(r)<0))return Promise.resolve(r.provideCompletionItems(s,a,c,n)).then(function(t){var e=l.length;if(t&&!Object(m.k)(t.suggestions))for(var i=0,n=t.suggestions;i<n.length;i++){var o=n[i];u(o)&&(o.range||(o.range=h),w(o),l.push({position:a,container:t,suggestion:o,support:r,resolve:C(r,o,s,a)}))}e!==l.length&&r!==f&&(d=!0)},v.f)}))}});return Object(g.h)(p,function(){return d||n.isCancellationRequested}).then(function(){return n.isCancellationRequested?Promise.reject(Object(v.a)()):l.sort(S(t))})}function w(t){t._labelLow||(t._labelLow=t.label.toLowerCase()),t.sortText&&!t._sortTextLow&&(t._sortTextLow=t.sortText.toLowerCase()),t.filterText&&!t._filterTextLow&&(t._filterTextLow=t.filterText.toLowerCase())}function C(e,i,n,o){var r;return function(t){return r=r||("function"==typeof e.resolveCompletionItem?Promise.resolve(e.resolveCompletionItem(n,o,i,t)).then(function(t){Object(s.a)(i,t)}):Promise.resolve(void 0))}}function u(t,e){if(t.suggestion._sortTextLow&&e.suggestion._sortTextLow){if(t.suggestion._sortTextLow<e.suggestion._sortTextLow)return-1;if(t.suggestion._sortTextLow>e.suggestion._sortTextLow)return 1}return t.suggestion.label<e.suggestion.label?-1:t.suggestion.label>e.suggestion.label?1:t.suggestion.kind-e.suggestion.kind}function h(t,e){if(t.suggestion.kind!==e.suggestion.kind){if(25===t.suggestion.kind)return-1;if(25===e.suggestion.kind)return 1}return u(t,e)}function c(t,e){if(t.suggestion.kind!==e.suggestion.kind){if(25===t.suggestion.kind)return 1;if(25===e.suggestion.kind)return-1}return u(t,e)}function S(t){return"top"===t?h:"bottom"===t?c:u}Object(n.e)("_executeCompletionItemProvider",function(t,e,i){var o={incomplete:!1,suggestions:[]},r=[],s=i.maxItemsToResolve||0;return l(t,e).then(function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];r.length<s&&r.push(n.resolve(_.a.None)),o.incomplete=o.incomplete||n.container.incomplete,o.suggestions.push(n.suggestion)}}).then(function(){return Promise.all(r)}).then(function(){return o})});var d=(p.prototype.provideCompletionItems=function(){var t={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,t},new p);function p(){this.onlyOnceSuggestions=[]}function x(e,i){setTimeout(function(){var t;(t=d.onlyOnceSuggestions).push.apply(t,i),e.getContribution("editor.contrib.suggestController").triggerSuggest([d])},0)}y.d.register("*",d)},function(si,ai,t){var li;!function(t,e){"use strict";"object"==typeof si.exports?si.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){"use strict";function g(t){return null!=t&&t===t.window}var e=[],x=S.document,n=Object.getPrototypeOf,a=e.slice,m=e.concat,l=e.push,o=e.indexOf,i={},r=i.toString,v=i.hasOwnProperty,s=v.toString,u=s.call(Object),y={},_=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},h={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,i){var n,o,r=(i=i||x).createElement("script");if(r.text=t,e)for(n in h)(o=e[n]||e.getAttribute&&e.getAttribute(n))&&r.setAttribute(n,o);i.head.appendChild(r).parentNode.removeChild(r)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[r.call(t)]||"object":typeof t}var k=function(t,e){return new k.fn.init(t,e)},c=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!_(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}k.fn=k.prototype={jquery:"3.4.1",constructor:k,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(i){return this.pushStack(k.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},k.extend=k.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||_(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&s!==n&&(u&&n&&(k.isPlainObject(n)||(o=Array.isArray(n)))?(i=s[e],r=o&&!Array.isArray(i)?[]:o||k.isPlainObject(i)?i:{},o=!1,s[e]=k.extend(u,r,n)):void 0!==n&&(s[e]=n));return s},k.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==r.call(t))&&(!(e=n(t))||"function"==typeof(i=v.call(e,"constructor")&&e.constructor)&&s.call(i)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){b(t,{nonce:e&&e.nonce})},each:function(t,e){var i,n=0;if(d(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(c,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(d(Object(t))?k.merge(i,"string"==typeof t?[t]:t):l.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:o.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,r=t.length,s=!i;o<r;o++)!e(t[o],o)!=s&&n.push(t[o]);return n},map:function(t,e,i){var n,o,r=0,s=[];if(d(t))for(n=t.length;r<n;r++)null!=(o=e(t[r],r,i))&&s.push(o);else for(r in t)null!=(o=e(t[r],r,i))&&s.push(o);return m.apply([],s)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=e[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var p=function(i){function c(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}function o(){C()}var t,p,b,r,s,f,d,g,w,l,u,C,S,a,x,m,h,v,y,k="sizzle"+1*new Date,_=i.document,O=0,n=0,E=lt(),L=lt(),D=lt(),I=lt(),N=function(t,e){return t===e&&(u=!0),0},T={}.hasOwnProperty,e=[],M=e.pop,A=e.push,P=e.push,R=e.slice,F=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",W="\\["+B+"*("+H+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+B+"*\\]",V=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",z=new RegExp(B+"+","g"),U=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),q=new RegExp("^"+B+"*,"+B+"*"),K=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),G=new RegExp(B+"|>"),Y=new RegExp(V),$=new RegExp("^"+H+"$"),Z={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,it=/[+~]/,nt=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ot=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=bt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{P.apply(e=R.call(_.childNodes),_.childNodes),e[_.childNodes.length].nodeType}catch(t){P={apply:e.length?function(t,e){A.apply(t,R.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(e,t,i,n){var o,r,s,a,l,u,h,c=t&&t.ownerDocument,d=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return i;if(!n&&((t?t.ownerDocument||t:_)!==S&&C(t),t=t||S,x)){if(11!==d&&(l=et.exec(e)))if(o=l[1]){if(9===d){if(!(s=t.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(c&&(s=c.getElementById(o))&&y(t,s)&&s.id===o)return i.push(s),i}else{if(l[2])return P.apply(i,t.getElementsByTagName(e)),i;if((o=l[3])&&p.getElementsByClassName&&t.getElementsByClassName)return P.apply(i,t.getElementsByClassName(o)),i}if(p.qsa&&!I[e+" "]&&(!m||!m.test(e))&&(1!==d||"object"!==t.nodeName.toLowerCase())){if(h=e,c=t,1===d&&G.test(e)){for((a=t.getAttribute("id"))?a=a.replace(ot,rt):t.setAttribute("id",a=k),r=(u=f(e)).length;r--;)u[r]="#"+a+" "+_t(u[r]);h=u.join(","),c=it.test(e)&&vt(t.parentNode)||t}try{return P.apply(i,c.querySelectorAll(h)),i}catch(t){I(e,!0)}finally{a===k&&t.removeAttribute("id")}}}return g(e.replace(U,"$1"),t,i,n)}function lt(){var n=[];return function t(e,i){return n.push(e+" ")>b.cacheLength&&delete t[n.shift()],t[e+" "]=i}}function ut(t){return t[k]=!0,t}function ht(t){var e=S.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ft(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function gt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&st(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function mt(s){return ut(function(r){return r=+r,ut(function(t,e){for(var i,n=s([],t.length,r),o=n.length;o--;)t[i=n[o]]&&(t[i]=!(e[i]=t[i]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!X.test(e||i&&i.nodeName||"HTML")},C=at.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:_;return n!==S&&9===n.nodeType&&n.documentElement&&(a=(S=n).documentElement,x=!s(S),_!==S&&(i=S.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",o,!1):i.attachEvent&&i.attachEvent("onunload",o)),p.attributes=ht(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=ht(function(t){return t.appendChild(S.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=tt.test(S.getElementsByClassName),p.getById=ht(function(t){return a.appendChild(t).id=k,!S.getElementsByName||!S.getElementsByName(k).length}),p.getById?(b.filter.ID=function(t){var e=t.replace(nt,c);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&x){var i=e.getElementById(t);return i?[i]:[]}}):(b.filter.ID=function(t){var i=t.replace(nt,c);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&x){var i,n,o,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(o=e.getElementsByName(t),n=0;r=o[n++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),b.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;i=r[o++];)1===i.nodeType&&n.push(i);return n},b.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&x)return e.getElementsByClassName(t)},h=[],m=[],(p.qsa=tt.test(S.querySelectorAll))&&(ht(function(t){a.appendChild(t).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+j+")"),t.querySelectorAll("[id~="+k+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+k+"+*").length||m.push(".#.+[+~]")}),ht(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=S.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(p.matchesSelector=tt.test(v=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ht(function(t){p.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),h.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),h=h.length&&new RegExp(h.join("|")),e=tt.test(a.compareDocumentPosition),y=e||tt.test(a.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},N=e?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===i?t===S||t.ownerDocument===_&&y(_,t)?-1:e===S||e.ownerDocument===_&&y(_,e)?1:l?F(l,t)-F(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!o||!r)return t===S?-1:e===S?1:o?-1:r?1:l?F(l,t)-F(l,e):0;if(o===r)return dt(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?dt(s[n],a[n]):s[n]===_?-1:a[n]===_?1:0}),S},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==S&&C(t),p.matchesSelector&&x&&!I[e+" "]&&(!h||!h.test(e))&&(!m||!m.test(e)))try{var i=v.call(t,e);if(i||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){I(e,!0)}return 0<at(e,S,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!==S&&C(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==S&&C(t);var i=b.attrHandle[e.toLowerCase()],n=i&&T.call(b.attrHandle,e.toLowerCase())?i(t,e,!x):void 0;return void 0!==n?n:p.attributes||!x?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},at.escape=function(t){return(t+"").replace(ot,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],n=0,o=0;if(u=!p.detectDuplicates,l=!p.sortStable&&t.slice(0),t.sort(N),u){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return l=null,t},r=at.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(b=at.selectors={cacheLength:50,createPseudo:ut,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,c),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,c),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Y.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,c).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&E(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,n,o){return function(t){var e=at.attr(t,i);return null==e?"!="===n:!n||(e+="","="===n?e===o:"!="===n?e!==o:"^="===n?o&&0===e.indexOf(o):"*="===n?o&&-1<e.indexOf(o):"$="===n?o&&e.slice(-o.length)===o:"~="===n?-1<(" "+e.replace(z," ")+" ").indexOf(o):"|="===n&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,g,m){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),_="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,i){var n,o,r,s,a,l,u=v!=y?"nextSibling":"previousSibling",h=t.parentNode,c=_&&t.nodeName.toLowerCase(),d=!i&&!_,p=!1;if(h){if(v){for(;u;){for(s=t;s=s[u];)if(_?s.nodeName.toLowerCase()===c:1===s.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?h.firstChild:h.lastChild],y&&d){for(p=(a=(n=(o=(r=(s=h)[k]||(s[k]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===O&&n[1])&&n[2],s=a&&h.childNodes[a];s=++a&&s&&s[u]||(p=a=0)||l.pop();)if(1===s.nodeType&&++p&&s===t){o[f]=[O,a,p];break}}else if(d&&(p=a=(n=(o=(r=(s=t)[k]||(s[k]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===O&&n[1]),!1===p)for(;(s=++a&&s&&s[u]||(p=a=0)||l.pop())&&((_?s.nodeName.toLowerCase()!==c:1!==s.nodeType)||!++p||(d&&((o=(r=s[k]||(s[k]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]=[O,p]),s!==t)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(t,r){var e,s=b.pseudos[t]||b.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return s[k]?s(r):1<s.length?(e=[t,t,"",r],b.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,e){for(var i,n=s(t,r),o=n.length;o--;)t[i=F(t,n[o])]=!(e[i]=n[o])}):function(t){return s(t,0,e)}):s}},pseudos:{not:ut(function(t){var n=[],o=[],a=d(t.replace(U,"$1"));return a[k]?ut(function(t,e,i,n){for(var o,r=a(t,null,n,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,e,i){return n[0]=t,a(n,null,i,o),n[0]=null,!o.pop()}}),has:ut(function(e){return function(t){return 0<at(e,t).length}}),contains:ut(function(e){return e=e.replace(nt,c),function(t){return-1<(t.textContent||r(t)).indexOf(e)}}),lang:ut(function(i){return $.test(i||"")||at.error("unsupported lang: "+i),i=i.replace(nt,c).toLowerCase(),function(t){var e;do{if(e=x?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,i){return[i<0?i+e:i]}),even:mt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:mt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:mt(function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t}),gt:mt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=pt(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=ft(t);function yt(){}function _t(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function bt(a,t,e){var l=t.dir,u=t.next,h=u||l,c=e&&"parentNode"===h,d=n++;return t.first?function(t,e,i){for(;t=t[l];)if(1===t.nodeType||c)return a(t,e,i);return!1}:function(t,e,i){var n,o,r,s=[O,d];if(i){for(;t=t[l];)if((1===t.nodeType||c)&&a(t,e,i))return!0}else for(;t=t[l];)if(1===t.nodeType||c)if(o=(r=t[k]||(t[k]={}))[t.uniqueID]||(r[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[l]||t;else{if((n=o[h])&&n[0]===O&&n[1]===d)return s[2]=n[2];if((o[h]=s)[2]=a(t,e,i))return!0}return!1}}function wt(o){return 1<o.length?function(t,e,i){for(var n=o.length;n--;)if(!o[n](t,e,i))return!1;return!0}:o[0]}function Ct(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,o)||(s.push(r),u&&e.push(a)));return s}function St(p,f,g,m,v,t){return m&&!m[k]&&(m=St(m)),v&&!v[k]&&(v=St(v,t)),ut(function(t,e,i,n){var o,r,s,a=[],l=[],u=e.length,h=t||function(t,e,i){for(var n=0,o=e.length;n<o;n++)at(t,e[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),c=!p||!t&&f?h:Ct(h,a,p,i,n),d=g?v||(t?p:u||m)?[]:e:c;if(g&&g(c,d,i,n),m)for(o=Ct(d,l),m(o,[],i,n),r=o.length;r--;)(s=o[r])&&(d[l[r]]=!(c[l[r]]=s));if(t){if(v||p){if(v){for(o=[],r=d.length;r--;)(s=d[r])&&o.push(c[r]=s);v(null,d=[],o,n)}for(r=d.length;r--;)(s=d[r])&&-1<(o=v?F(t,s):a[r])&&(t[o]=!(e[o]=s))}}else d=Ct(d===e?d.splice(u,d.length):d),v?v(null,e,d,n):P.apply(e,d)})}function xt(t){for(var o,e,i,n=t.length,r=b.relative[t[0].type],s=r||b.relative[" "],a=r?1:0,l=bt(function(t){return t===o},s,!0),u=bt(function(t){return-1<F(o,t)},s,!0),h=[function(t,e,i){var n=!r&&(i||e!==w)||((o=e).nodeType?l(t,e,i):u(t,e,i));return o=null,n}];a<n;a++)if(e=b.relative[t[a].type])h=[bt(wt(h),e)];else{if((e=b.filter[t[a].type].apply(null,t[a].matches))[k]){for(i=++a;i<n&&!b.relative[t[i].type];i++);return St(1<a&&wt(h),1<a&&_t(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(U,"$1"),e,a<i&&xt(t.slice(a,i)),i<n&&xt(t=t.slice(i)),i<n&&_t(t))}h.push(e)}return wt(h)}function kt(m,v){function t(t,e,i,n,o){var r,s,a,l=0,u="0",h=t&&[],c=[],d=w,p=t||_&&b.find.TAG("*",o),f=O+=null==d?1:Math.random()||.1,g=p.length;for(o&&(w=e===S||e||o);u!==g&&null!=(r=p[u]);u++){if(_&&r){for(s=0,e||r.ownerDocument===S||(C(r),i=!x);a=m[s++];)if(a(r,e||S,i)){n.push(r);break}o&&(O=f)}y&&((r=!a&&r)&&l--,t&&h.push(r))}if(l+=u,y&&u!==l){for(s=0;a=v[s++];)a(h,c,e,i);if(t){if(0<l)for(;u--;)h[u]||c[u]||(c[u]=M.call(n));c=Ct(c)}P.apply(n,c),o&&!t&&0<c.length&&1<l+v.length&&at.uniqueSort(n)}return o&&(O=f,w=d),h}var y=0<v.length,_=0<m.length;return y?ut(t):t}return yt.prototype=b.filters=b.pseudos,b.setFilters=new yt,f=at.tokenize=function(t,e){var i,n,o,r,s,a,l,u=L[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=b.preFilter;s;){for(r in i&&!(n=q.exec(s))||(n&&(s=s.slice(n[0].length)||s),a.push(o=[])),i=!1,(n=K.exec(s))&&(i=n.shift(),o.push({value:i,type:n[0].replace(U," ")}),s=s.slice(i.length)),b.filter)!(n=Z[r].exec(s))||l[r]&&!(n=l[r](n))||(i=n.shift(),o.push({value:i,type:r,matches:n}),s=s.slice(i.length));if(!i)break}return e?s.length:s?at.error(t):L(t,a).slice(0)},d=at.compile=function(t,e){var i,n=[],o=[],r=D[t+" "];if(!r){for(i=(e=e||f(t)).length;i--;)(r=xt(e[i]))[k]?n.push(r):o.push(r);(r=D(t,kt(o,n))).selector=t}return r},g=at.select=function(t,e,i,n){var o,r,s,a,l,u="function"==typeof t&&t,h=!n&&f(t=u.selector||t);if(i=i||[],1===h.length){if(2<(r=h[0]=h[0].slice(0)).length&&"ID"===(s=r[0]).type&&9===e.nodeType&&x&&b.relative[r[1].type]){if(!(e=(b.find.ID(s.matches[0].replace(nt,c),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=Z.needsContext.test(t)?0:r.length;o--&&(s=r[o],!b.relative[a=s.type]);)if((l=b.find[a])&&(n=l(s.matches[0].replace(nt,c),it.test(r[0].type)&&vt(e.parentNode)||e))){if(r.splice(o,1),!(t=n.length&&_t(r)))return P.apply(i,n),i;break}}return(u||d(t,h))(n,e,!x,i,!e||it.test(t)&&vt(e.parentNode)||e),i},p.sortStable=k.split("").sort(N).join("")===k,p.detectDuplicates=!!u,C(),p.sortDetached=ht(function(t){return 1&t.compareDocumentPosition(S.createElement("fieldset"))}),ht(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&ht(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ht(function(t){return null==t.getAttribute("disabled")})||ct(j,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),at}(S);k.find=p,k.expr=p.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=p.uniqueSort,k.text=p.getText,k.isXMLDoc=p.isXML,k.contains=p.contains,k.escapeSelector=p.escape;function f(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&k(t).is(i))break;n.push(t)}return n}function C(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}var O=k.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,i,n){return _(i)?k.grep(t,function(t,e){return!!i.call(t,e,t)!==n}):i.nodeType?k.grep(t,function(t){return t===i!==n}):"string"!=typeof i?k.grep(t,function(t){return-1<o.call(i,t)!==n}):k.filter(i,t,n)}k.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?k.find.matchesSelector(n,t)?[n]:[]:k.find.matches(t,k.grep(e,function(t){return 1===t.nodeType}))},k.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!=typeof t)return this.pushStack(k(t).filter(function(){for(e=0;e<n;e++)if(k.contains(o[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)k.find(t,o[e],i);return 1<n?k.uniqueSort(i):i},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&O.test(t)?k(t):t||[],!1).length}});var I,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||I,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):_(t)?void 0!==i.ready?i.ready(t):t(k):k.makeArray(t,this);if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:N.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:x,!0)),L.test(n[1])&&k.isPlainObject(e))for(n in e)_(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(o=x.getElementById(n[2]))&&(this[0]=o,this.length=1),this}).prototype=k.fn,I=k(x);var T=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function A(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(k.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,o=this.length,r=[],s="string"!=typeof t&&k(t);if(!O.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&k.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(1<r.length?k.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?o.call(k(t),this[0]):o.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,i){return f(t,"parentNode",i)},next:function(t){return A(t,"nextSibling")},prev:function(t){return A(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,i){return f(t,"nextSibling",i)},prevUntil:function(t,e,i){return f(t,"previousSibling",i)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(E(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},function(n,o){k.fn[n]=function(t,e){var i=k.map(this,o,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=k.filter(e,i)),1<this.length&&(M[n]||k.uniqueSort(i),T.test(n)&&i.reverse()),this.pushStack(i)}});var P=/[^\x20\t\r\n\f]+/g;function R(t){return t}function F(t){throw t}function j(t,e,i,n){var o;try{t&&_(o=t.promise)?o.call(t).done(e).fail(i):t&&_(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}k.Callbacks=function(n){n="string"==typeof n?function(t){var i={};return k.each(t.match(P)||[],function(t,e){i[e]=!0}),i}(n):k.extend({},n);function i(){for(r=r||n.once,e=o=!0;a.length;l=-1)for(t=a.shift();++l<s.length;)!1===s[l].apply(t[0],t[1])&&n.stopOnFalse&&(l=s.length,t=!1);n.memory||(t=!1),o=!1,r&&(s=t?[]:"")}var o,t,e,r,s=[],a=[],l=-1,u={add:function(){return s&&(t&&!o&&(l=s.length-1,a.push(t)),function i(t){k.each(t,function(t,e){_(e)?n.unique&&u.has(e)||s.push(e):e&&e.length&&"string"!==w(e)&&i(e)})}(arguments),t&&!o&&i()),this},remove:function(){return k.each(arguments,function(t,e){for(var i;-1<(i=k.inArray(e,s,i));)s.splice(i,1),i<=l&&l--}),this},has:function(t){return t?-1<k.inArray(t,s):0<s.length},empty:function(){return s=s&&[],this},disable:function(){return r=a=[],s=t="",this},disabled:function(){return!s},lock:function(){return r=a=[],t||o||(s=t=""),this},locked:function(){return!!r},fireWith:function(t,e){return r||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),o||i()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!e}};return u},k.extend({Deferred:function(t){var r=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],o="pending",s={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var o=arguments;return k.Deferred(function(n){k.each(r,function(t,e){var i=_(o[e[4]])&&o[e[4]];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&_(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,i?[t]:arguments)})}),o=null}).promise()},then:function(e,i,n){var l=0;function u(o,r,s,a){return function(){function t(){var t,e;if(!(o<l)){if((t=s.apply(i,n))===r.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,_(e)?a?e.call(t,u(l,r,R,a),u(l,r,F,a)):(l++,e.call(t,u(l,r,R,a),u(l,r,F,a),u(l,r,R,r.notifyWith))):(s!==R&&(i=void 0,n=[t]),(a||r.resolveWith)(i,n))}}var i=this,n=arguments,e=a?t:function(){try{t()}catch(t){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(t,e.stackTrace),l<=o+1&&(s!==F&&(i=void 0,n=[t]),r.rejectWith(i,n))}};o?e():(k.Deferred.getStackHook&&(e.stackTrace=k.Deferred.getStackHook()),S.setTimeout(e))}}return k.Deferred(function(t){r[0][3].add(u(0,t,_(n)?n:R,t.notifyWith)),r[1][3].add(u(0,t,_(e)?e:R)),r[2][3].add(u(0,t,_(i)?i:F))}).promise()},promise:function(t){return null!=t?k.extend(t,s):s}},a={};return k.each(r,function(t,e){var i=e[2],n=e[5];s[e[1]]=i.add,n&&i.add(function(){o=n},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),i.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=i.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){o[e]=this,r[e]=1<arguments.length?a.call(arguments):t,--i||s.resolveWith(o,r)}}var i=arguments.length,n=i,o=Array(n),r=a.call(arguments),s=k.Deferred();if(i<=1&&(j(t,s.done(e(n)).resolve,s.reject,!i),"pending"===s.state()||_(r[n]&&r[n].then)))return s.then();for(;n--;)j(r[n],e(n),s.reject);return s.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){S.console&&S.console.warn&&t&&B.test(t.name)&&S.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){S.setTimeout(function(){throw t})};var H=k.Deferred();function W(){x.removeEventListener("DOMContentLoaded",W),S.removeEventListener("load",W),k.ready()}k.fn.ready=function(t){return H.then(t).catch(function(t){k.readyException(t)}),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0)!==t&&0<--k.readyWait||H.resolveWith(x,[k])}}),k.ready.then=H.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?S.setTimeout(k.ready):(x.addEventListener("DOMContentLoaded",W),S.addEventListener("load",W));var V=function(t,e,i,n,o,r,s){var a=0,l=t.length,u=null==i;if("object"===w(i))for(a in o=!0,i)V(t,e,a,i[a],!0,r,s);else if(void 0!==n&&(o=!0,_(n)||(s=!0),u&&(e=s?(e.call(t,n),null):(u=e,function(t,e,i){return u.call(k(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:u?e.call(t):l?e(t[0],i):r},z=/^-ms-/,U=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function K(t){return t.replace(z,"ms-").replace(U,q)}function G(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[K(e)]=i;else for(n in e)o[K(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(K):(e=K(e))in n?[e]:e.match(P)||[]).length;for(;i--;)delete n[e[i]]}void 0!==e&&!k.isEmptyObject(n)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var $=new Y,Z=new Y,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Q(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:X.test(t)?JSON.parse(t):t)}(i)}catch(t){}Z.set(t,e,i)}else i=void 0;return i}k.extend({hasData:function(t){return Z.hasData(t)||$.hasData(t)},data:function(t,e,i){return Z.access(t,e,i)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,i){return $.access(t,e,i)},_removeData:function(t,e){$.remove(t,e)}}),k.fn.extend({data:function(i,t){var e,n,o,r=this[0],s=r&&r.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){Z.set(this,i)}):V(this,function(t){var e;if(r&&void 0===t)return void 0!==(e=Z.get(r,i))?e:void 0!==(e=Q(r,i))?e:void 0;this.each(function(){Z.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=Z.get(r),1===r.nodeType&&!$.get(r,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(n=s[e].name).indexOf("data-")&&(n=K(n.slice(5)),Q(r,n,o[n]));$.set(r,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),k.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=$.get(t,e),i&&(!n||Array.isArray(i)?n=$.access(t,e,k.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=k.queue(t,e),n=i.length,o=i.shift(),r=k._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,function(){k.dequeue(t,e)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return $.get(t,i)||$.access(t,i,{empty:k.Callbacks("once memory").add(function(){$.remove(t,[e+"queue",i])})})}}),k.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?k.queue(this[0],e):void 0===i?this:this.each(function(){var t=k.queue(this,e,i);k._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&k.dequeue(this,e)})},dequeue:function(t){return this.each(function(){k.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--o||r.resolveWith(s,[s])}var n,o=1,r=k.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=$.get(s[a],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(i));return i(),r.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],nt=x.documentElement,ot=function(t){return k.contains(t.ownerDocument,t)},rt={composed:!0};nt.getRootNode&&(ot=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(rt)===t.ownerDocument});function st(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=i.apply(t,n||[]),e)t.style[r]=s[r];return o}var at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===k.css(t,"display")};function lt(t,e,i,n){var o,r,s=20,a=n?function(){return n.cur()}:function(){return k.css(t,e,"")},l=a(),u=i&&i[3]||(k.cssNumber[e]?"":"px"),h=t.nodeType&&(k.cssNumber[e]||"px"!==u&&+l)&&et.exec(k.css(t,e));if(h&&h[3]!==u){for(l/=2,u=u||h[3],h=+l||1;s--;)k.style(t,e,h+u),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),h/=r;h*=2,k.style(t,e,h+u),i=i||[]}return i&&(h=+h||+l||0,o=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=h,n.end=o)),o}var ut={};function ht(t,e){for(var i,n,o,r,s,a,l,u=[],h=0,c=t.length;h<c;h++)(n=t[h]).style&&(i=n.style.display,e?("none"===i&&(u[h]=$.get(n,"display")||null,u[h]||(n.style.display="")),""===n.style.display&&at(n)&&(u[h]=(l=s=r=void 0,s=(o=n).ownerDocument,a=o.nodeName,(l=ut[a])||(r=s.body.appendChild(s.createElement(a)),l=k.css(r,"display"),r.parentNode.removeChild(r),"none"===l&&(l="block"),ut[a]=l)))):"none"!==i&&(u[h]="none",$.set(n,"display",i)));for(h=0;h<c;h++)null!=u[h]&&(t[h].style.display=u[h]);return t}k.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?k(this).show():k(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&E(t,e)?k.merge([t],i):i}function mt(t,e){for(var i=0,n=t.length;i<n;i++)$.set(t[i],"globalEval",!e||$.get(e[i],"globalEval"))}ft.optgroup=ft.option,ft.tbody=ft.tfoot=ft.colgroup=ft.caption=ft.thead,ft.th=ft.td;var vt,yt,_t=/<|&#?\w+;/;function bt(t,e,i,n,o){for(var r,s,a,l,u,h,c=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===w(r))k.merge(d,r.nodeType?[r]:r);else if(_t.test(r)){for(s=s||c.appendChild(e.createElement("div")),a=(dt.exec(r)||["",""])[1].toLowerCase(),l=ft[a]||ft._default,s.innerHTML=l[1]+k.htmlPrefilter(r)+l[2],h=l[0];h--;)s=s.lastChild;k.merge(d,s.childNodes),(s=c.firstChild).textContent=""}else d.push(e.createTextNode(r));for(c.textContent="",p=0;r=d[p++];)if(n&&-1<k.inArray(r,n))o&&o.push(r);else if(u=ot(r),s=gt(c.appendChild(r),"script"),u&&mt(s),i)for(h=0;r=s[h++];)pt.test(r.type||"")&&i.push(r);return c}vt=x.createDocumentFragment().appendChild(x.createElement("div")),(yt=x.createElement("input")).setAttribute("type","radio"),yt.setAttribute("checked","checked"),yt.setAttribute("name","t"),vt.appendChild(yt),y.checkClone=vt.cloneNode(!0).cloneNode(!0).lastChild.checked,vt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!vt.cloneNode(!0).lastChild.defaultValue;var wt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function kt(){return!1}function Ot(t,e){return t===function(){try{return x.activeElement}catch(t){}}()==("focus"===e)}function Et(t,e,i,n,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)Et(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=kt;else if(!o)return t;return 1===r&&(s=o,(o=function(t){return k().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),t.each(function(){k.event.add(this,e,o,n,i)})}function Lt(t,o,r){r?($.set(t,o,!1),k.event.add(t,o,{namespace:!1,handler:function(t){var e,i,n=$.get(this,o);if(1&t.isTrigger&&this[o]){if(n.length)(k.event.special[o]||{}).delegateType&&t.stopPropagation();else if(n=a.call(arguments),$.set(this,o,n),e=r(this,o),this[o](),n!==(i=$.get(this,o))||e?$.set(this,o,!1):i={},n!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else n.length&&($.set(this,o,{value:k.event.trigger(k.extend(n[0],k.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===$.get(t,o)&&k.event.add(t,o,xt)}k.event={global:{},add:function(e,t,i,n,o){var r,s,a,l,u,h,c,d,p,f,g,m=$.get(e);if(m)for(i.handler&&(i=(r=i).handler,o=r.selector),o&&k.find.matchesSelector(nt,o),i.guid||(i.guid=k.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(P)||[""]).length;u--;)p=g=(a=St.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(c=k.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=k.event.special[p]||{},h=k.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:f.join(".")},r),(d=l[p])||((d=l[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(p,s)),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),k.event.global[p]=!0)},remove:function(t,e,i,n,o){var r,s,a,l,u,h,c,d,p,f,g,m=$.hasData(t)&&$.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(P)||[""]).length;u--;)if(p=g=(a=St.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(c=k.event.special[p]||{},d=l[p=(n?c.delegateType:c.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)h=d[r],!o&&g!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(r,1),h.selector&&d.delegateCount--,c.remove&&c.remove.call(t,h));s&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,f,m.handle)||k.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)k.event.remove(t,p+e[u],i,n,!0);k.isEmptyObject(l)&&$.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,r,s,a=k.event.fix(t),l=new Array(arguments.length),u=($.get(this,"events")||{})[a.type]||[],h=k.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(s=k.event.handlers.call(this,a,u),e=0;(o=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==r.namespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(n=((k.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,o,r,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(r=[],s={},i=0;i<l;i++)void 0===s[o=(n=e[i]).selector+" "]&&(s[o]=n.needsContext?-1<k(o,this).index(u):k.find(o,this,null,[u]).length),s[o]&&r.push(n);r.length&&a.push({elem:u,handlers:r})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ct.test(e.type)&&e.click&&E(e,"input")&&Lt(e,"click",xt),!1},trigger:function(t){var e=this||t;return ct.test(e.type)&&e.click&&E(e,"input")&&Lt(e,"click"),!0},_default:function(t){var e=t.target;return ct.test(e.type)&&e.click&&E(e,"input")&&$.get(e,"click")||E(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(t,e){k.event.special[t]={setup:function(){return Lt(this,t,Ot),!1},trigger:function(){return Lt(this,t),!0},delegateType:e}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){k.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||k.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=o),e}}}),k.fn.extend({on:function(t,e,i,n){return Et(this,t,e,i,n)},one:function(t,e,i,n){return Et(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,k(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=kt),this.each(function(){k.event.remove(this,t,i,e)});for(o in t)this.off(o,e,t[o]);return this}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,It=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Mt(t,e){return E(t,"table")&&E(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function At(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Pt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var i,n,o,r,s,a,l,u;if(1===e.nodeType){if($.hasData(t)&&(r=$.access(t),s=$.set(e,r),u=r.events))for(o in delete s.handle,s.events={},u)for(i=0,n=u[o].length;i<n;i++)k.event.add(e,o,u[o][i]);Z.hasData(t)&&(a=Z.access(t),l=k.extend({},a),Z.set(e,l))}}function Ft(i,n,o,r){n=m.apply([],n);var t,e,s,a,l,u,h=0,c=i.length,d=c-1,p=n[0],f=_(p);if(f||1<c&&"string"==typeof p&&!y.checkClone&&Nt.test(p))return i.each(function(t){var e=i.eq(t);f&&(n[0]=p.call(this,t,e.html())),Ft(e,n,o,r)});if(c&&(e=(t=bt(n,i[0].ownerDocument,!1,i,r)).firstChild,1===t.childNodes.length&&(t=e),e||r)){for(a=(s=k.map(gt(t,"script"),At)).length;h<c;h++)l=t,h!==d&&(l=k.clone(l,!0,!0),a&&k.merge(s,gt(l,"script"))),o.call(i[h],l,h);if(a)for(u=s[s.length-1].ownerDocument,k.map(s,Pt),h=0;h<a;h++)l=s[h],pt.test(l.type||"")&&!$.access(l,"globalEval")&&k.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):b(l.textContent.replace(Tt,""),l,u))}return i}function jt(t,e,i){for(var n,o=e?k.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||k.cleanData(gt(n)),n.parentNode&&(i&&ot(n)&&mt(gt(n,"script")),n.parentNode.removeChild(n));return t}k.extend({htmlPrefilter:function(t){return t.replace(Dt,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a,l,u,h=t.cloneNode(!0),c=ot(t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(s=gt(h),n=0,o=(r=gt(t)).length;n<o;n++)a=r[n],l=s[n],void 0,"input"===(u=l.nodeName.toLowerCase())&&ct.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(e)if(i)for(r=r||gt(t),s=s||gt(h),n=0,o=r.length;n<o;n++)Rt(r[n],s[n]);else Rt(t,h);return 0<(s=gt(h,"script")).length&&mt(s,!c&&gt(t,"script")),h},cleanData:function(t){for(var e,i,n,o=k.event.special,r=0;void 0!==(i=t[r]);r++)if(G(i)){if(e=i[$.expando]){if(e.events)for(n in e.events)o[n]?k.event.remove(i,n):k.removeEvent(i,n,e.handle);i[$.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),k.fn.extend({detach:function(t){return jt(this,t,!0)},remove:function(t){return jt(this,t)},text:function(t){return V(this,function(t){return void 0===t?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ft(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,t).appendChild(t)})},prepend:function(){return Ft(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Mt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return k.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!It.test(t)&&!ft[(dt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(k.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Ft(this,arguments,function(t){var e=this.parentNode;k.inArray(this,i)<0&&(k.cleanData(gt(this)),e&&e.replaceChild(t,this))},i)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){k.fn[t]=function(t){for(var e,i=[],n=k(t),o=n.length-1,r=0;r<=o;r++)e=r===o?this:this.clone(!0),k(n[r])[s](e),l.apply(i,e.get());return this.pushStack(i)}});var Bt,Ht,Wt,Vt,zt,Ut,qt,Kt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Gt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=S),e.getComputedStyle(t)},Yt=new RegExp(it.join("|"),"i");function $t(){if(qt){Ut.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",qt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Ut).appendChild(qt);var t=S.getComputedStyle(qt);Bt="1%"!==t.top,zt=12===Zt(t.marginLeft),qt.style.right="60%",Vt=36===Zt(t.right),Ht=36===Zt(t.width),qt.style.position="absolute",Wt=12===Zt(qt.offsetWidth/3),nt.removeChild(Ut),qt=null}}function Zt(t){return Math.round(parseFloat(t))}function Xt(t,e,i){var n,o,r,s,a=t.style;return(i=i||Gt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||ot(t)||(s=k.style(t,e)),!y.pixelBoxStyles()&&Kt.test(s)&&Yt.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function Jt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ut=x.createElement("div"),(qt=x.createElement("div")).style&&(qt.style.backgroundClip="content-box",qt.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===qt.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return $t(),Ht},pixelBoxStyles:function(){return $t(),Vt},pixelPosition:function(){return $t(),Bt},reliableMarginLeft:function(){return $t(),zt},scrollboxSize:function(){return $t(),Wt}}));var Qt=["Webkit","Moz","ms"],te=x.createElement("div").style,ee={};function ie(t){var e=k.cssProps[t]||ee[t];return e||(t in te?t:ee[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Qt.length;i--;)if((t=Qt[i]+e)in te)return t}(t)||t)}var ne=/^(none|table(?!-c[ea]).+)/,oe=/^--/,re={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"};function ae(t,e,i){var n=et.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function le(t,e,i,n,o,r){var s="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=k.css(t,i+it[s],!0,o)),n?("content"===i&&(l-=k.css(t,"padding"+it[s],!0,o)),"margin"!==i&&(l-=k.css(t,"border"+it[s]+"Width",!0,o))):(l+=k.css(t,"padding"+it[s],!0,o),"padding"!==i?l+=k.css(t,"border"+it[s]+"Width",!0,o):a+=k.css(t,"border"+it[s]+"Width",!0,o));return!n&&0<=r&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-a-.5))||0),l}function ue(t,e,i){var n=Gt(t),o=(!y.boxSizingReliable()||i)&&"border-box"===k.css(t,"boxSizing",!1,n),r=o,s=Xt(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(Kt.test(s)){if(!i)return s;s="auto"}return(!y.boxSizingReliable()&&o||"auto"===s||!parseFloat(s)&&"inline"===k.css(t,"display",!1,n))&&t.getClientRects().length&&(o="border-box"===k.css(t,"boxSizing",!1,n),(r=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+le(t,e,i||(o?"border":"content"),r,n,s)+"px"}function he(t,e,i,n,o){return new he.prototype.init(t,e,i,n,o)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Xt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=K(e),l=oe.test(e),u=t.style;if(l||(e=ie(a)),s=k.cssHooks[e]||k.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:u[e];"string"===(r=typeof i)&&(o=et.exec(i))&&o[1]&&(i=lt(t,e,o),r="number"),null!=i&&i==i&&("number"!==r||l||(i+=o&&o[3]||(k.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var o,r,s,a=K(e);return oe.test(e)||(e=ie(a)),(s=k.cssHooks[e]||k.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=Xt(t,e,n)),"normal"===o&&e in se&&(o=se[e]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),k.each(["height","width"],function(t,l){k.cssHooks[l]={get:function(t,e,i){if(e)return!ne.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ue(t,l,i):st(t,re,function(){return ue(t,l,i)})},set:function(t,e,i){var n,o=Gt(t),r=!y.scrollboxSize()&&"absolute"===o.position,s=(r||i)&&"border-box"===k.css(t,"boxSizing",!1,o),a=i?le(t,l,i,s,o):0;return s&&r&&(a-=Math.ceil(t["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-le(t,l,"border",!1,o)-.5)),a&&(n=et.exec(e))&&"px"!==(n[3]||"px")&&(t.style[l]=e,e=k.css(t,l)),ae(0,e,a)}}}),k.cssHooks.marginLeft=Jt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(o,r){k.cssHooks[o+r]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[o+it[e]+r]=n[e]||n[e-2]||n[0];return i}},"margin"!==o&&(k.cssHooks[o+r].set=ae)}),k.fn.extend({css:function(t,e){return V(this,function(t,e,i){var n,o,r={},s=0;if(Array.isArray(e)){for(n=Gt(t),o=e.length;s<o;s++)r[e[s]]=k.css(t,e[s],!1,n);return r}return void 0!==i?k.style(t,e,i):k.css(t,e)},t,e,1<arguments.length)}}),((k.Tween=he).prototype={constructor:he,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(k.cssNumber[i]?"":"px")},cur:function(){var t=he.propHooks[this.prop];return t&&t.get?t.get(this):he.propHooks._default.get(this)},run:function(t){var e,i=he.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):he.propHooks._default.set(this),this}}).init.prototype=he.prototype,(he.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[ie(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=he.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=he.prototype.init,k.fx.step={};var ce,de,pe,fe,ge=/^(?:toggle|show|hide)$/,me=/queueHooks$/;function ve(){de&&(!1===x.hidden&&S.requestAnimationFrame?S.requestAnimationFrame(ve):S.setTimeout(ve,k.fx.interval),k.fx.tick())}function ye(){return S.setTimeout(function(){ce=void 0}),ce=Date.now()}function _e(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=it[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function be(t,e,i){for(var n,o=(we.tweeners[e]||[]).concat(we.tweeners["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,e,t))return n}function we(r,t,e){var i,s,n=0,o=we.prefilters.length,a=k.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=ce||ye(),e=Math.max(0,u.startTime+u.duration-t),i=1-(e/u.duration||0),n=0,o=u.tweens.length;n<o;n++)u.tweens[n].run(i);return a.notifyWith(r,[u,i,e]),i<1&&o?e:(o||a.notifyWith(r,[u,1,0]),a.resolveWith(r,[u]),!1)},u=a.promise({elem:r,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},e),originalProperties:t,originalOptions:e,startTime:ce||ye(),duration:e.duration,tweens:[],createTween:function(t,e){var i=k.Tween(r,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var e=0,i=t?u.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)u.tweens[e].run(1);return t?(a.notifyWith(r,[u,1,0]),a.resolveWith(r,[u,t])):a.rejectWith(r,[u,t]),this}}),h=u.props;for(!function(t,e){var i,n,o,r,s;for(i in t)if(o=e[n=K(i)],r=t[i],Array.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(s=k.cssHooks[n])&&"expand"in s)for(i in r=s.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=o);else e[n]=o}(h,u.opts.specialEasing);n<o;n++)if(i=we.prefilters[n].call(u,r,h,u.opts))return _(i.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return k.map(h,be,u),_(u.opts.start)&&u.opts.start.call(r,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(we,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return lt(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){for(var i,n=0,o=(t=_(t)?(e=t,["*"]):t.match(P)).length;n<o;n++)i=t[n],we.tweeners[i]=we.tweeners[i]||[],we.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,o,r,s,a,l,u,h,c="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&at(t),m=$.get(t,"fxshow");for(n in i.queue||(null==(s=k._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,k.queue(t,"fx").length||s.empty.fire()})})),e)if(o=e[n],ge.test(o)){if(delete e[n],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||k.style(t,n)}if((l=!k.isEmptyObject(e))||!k.isEmptyObject(p))for(n in c&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=$.get(t,"display")),"none"===(h=k.css(t,"display"))&&(u?h=u:(ht([t],!0),u=t.style.display||u,h=k.css(t,"display"),ht([t]))),("inline"===h||"inline-block"===h&&null!=u)&&"none"===k.css(t,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(h=f.display,u="none"===h?"":h)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=$.access(t,"fxshow",{display:u}),r&&(m.hidden=!g),g&&ht([t],!0),d.done(function(){for(n in g||ht([t]),$.remove(t,"fxshow"),p)k.style(t,n,p[n])})),l=be(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?we.prefilters.unshift(t):we.prefilters.push(t)}}),k.speed=function(t,e,i){var n=t&&"object"==typeof t?k.extend({},t):{complete:i||!i&&e||_(t)&&t,duration:t,easing:i&&e||e&&!_(e)&&e};return k.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in k.fx.speeds?n.duration=k.fx.speeds[n.duration]:n.duration=k.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){_(n.old)&&n.old.call(this),n.queue&&k.dequeue(this,n.queue)},n},k.fn.extend({fadeTo:function(t,e,i,n){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){function o(){var t=we(this,k.extend({},e),s);(r||$.get(this,"finish"))&&t.stop(!0)}var r=k.isEmptyObject(e),s=k.speed(t,i,n);return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(o,t,r){function s(t){var e=t.stop;delete t.stop,e(r)}return"string"!=typeof o&&(r=t,t=o,o=void 0),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",i=k.timers,n=$.get(this);if(e)n[e]&&n[e].stop&&s(n[e]);else for(e in n)n[e]&&n[e].stop&&me.test(e)&&s(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=o&&i[e].queue!==o||(i[e].anim.stop(r),t=!1,i.splice(e,1));!t&&r||k.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=$.get(this),i=e[s+"queue"],n=e[s+"queueHooks"],o=k.timers,r=i?i.length:0;for(e.finish=!0,k.queue(this,s,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===s&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),k.each(["toggle","show","hide"],function(t,n){var o=k.fn[n];k.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(_e(n,!0),t,e,i)}}),k.each({slideDown:_e("show"),slideUp:_e("hide"),slideToggle:_e("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){k.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),k.timers=[],k.fx.tick=function(){var t,e=0,i=k.timers;for(ce=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||k.fx.stop(),ce=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){de||(de=!0,ve())},k.fx.stop=function(){de=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(n,t){return n=k.fx&&k.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var i=S.setTimeout(t,n);e.stop=function(){S.clearTimeout(i)}})},pe=x.createElement("input"),fe=x.createElement("select").appendChild(x.createElement("option")),pe.type="checkbox",y.checkOn=""!==pe.value,y.optSelected=fe.selected,(pe=x.createElement("input")).value="t",pe.type="radio",y.radioValue="t"===pe.value;var Ce,Se=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return V(this,k.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){k.removeAttr(this,t)})}}),k.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?k.prop(t,e,i):(1===r&&k.isXMLDoc(t)||(o=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?Ce:void 0)),void 0!==i?null===i?void k.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:null==(n=k.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&E(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(P);if(o&&1===t.nodeType)for(;i=o[n++];)t.removeAttribute(i)}}),Ce={set:function(t,e,i){return!1===e?k.removeAttr(t,i):t.setAttribute(i,i),i}},k.each(k.expr.match.bool.source.match(/\w+/g),function(t,e){var s=Se[e]||k.find.attr;Se[e]=function(t,e,i){var n,o,r=e.toLowerCase();return i||(o=Se[r],Se[r]=n,n=null!=s(t,e,i)?r:null,Se[r]=o),n}});var xe=/^(?:input|select|textarea|button)$/i,ke=/^(?:a|area)$/i;function Oe(t){return(t.match(P)||[]).join(" ")}function Ee(t){return t.getAttribute&&t.getAttribute("class")||""}function Le(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(P)||[]}k.fn.extend({prop:function(t,e){return V(this,k.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[k.propFix[t]||t]})}}),k.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&k.isXMLDoc(t)||(e=k.propFix[e]||e,o=k.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):xe.test(t.nodeName)||ke.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(e){var t,i,n,o,r,s,a,l=0;if(_(e))return this.each(function(t){k(this).addClass(e.call(this,t,Ee(this)))});if((t=Le(e)).length)for(;i=this[l++];)if(o=Ee(i),n=1===i.nodeType&&" "+Oe(o)+" "){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(a=Oe(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,o,r,s,a,l=0;if(_(e))return this.each(function(t){k(this).removeClass(e.call(this,t,Ee(this)))});if(!arguments.length)return this.attr("class","");if((t=Le(e)).length)for(;i=this[l++];)if(o=Ee(i),n=1===i.nodeType&&" "+Oe(o)+" "){for(s=0;r=t[s++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");o!==(a=Oe(n))&&i.setAttribute("class",a)}return this},toggleClass:function(o,e){var r=typeof o,s="string"==r||Array.isArray(o);return"boolean"==typeof e&&s?e?this.addClass(o):this.removeClass(o):_(o)?this.each(function(t){k(this).toggleClass(o.call(this,t,Ee(this),e),e)}):this.each(function(){var t,e,i,n;if(s)for(e=0,i=k(this),n=Le(o);t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==o&&"boolean"!=r||((t=Ee(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===o?"":$.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+Oe(Ee(i))+" ").indexOf(e))return!0;return!1}});var De=/\r/g;k.fn.extend({val:function(i){var n,t,o,e=this[0];return arguments.length?(o=_(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?i.call(this,t,k(this).val()):i)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=k.map(e,function(t){return null==t?"":t+""})),(n=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=k.valHooks[e.type]||k.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(De,""):null==t?"":t:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:Oe(k.text(t))}},select:{get:function(t){var e,i,n,o=t.options,r=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?r+1:o.length;for(n=r<0?l:s?r:0;n<l;n++)if(((i=o[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!E(i.parentNode,"optgroup"))){if(e=k(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,r=k.makeArray(e),s=o.length;s--;)((n=o[s]).selected=-1<k.inArray(k.valHooks.option.get(n),r))&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<k.inArray(k(t).val(),e)}},y.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in S;function Ie(t){t.stopPropagation()}var Ne=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(t,e,i,n){var o,r,s,a,l,u,h,c,d=[i||x],p=v.call(t,"type")?t.type:t,f=v.call(t,"namespace")?t.namespace.split("."):[];if(r=c=s=i=i||x,3!==i.nodeType&&8!==i.nodeType&&!Ne.test(p+k.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,(t=t[k.expando]?t:new k.Event(p,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:k.makeArray(e,[t]),h=k.event.special[p]||{},n||!h.trigger||!1!==h.trigger.apply(i,e))){if(!n&&!h.noBubble&&!g(i)){for(a=h.delegateType||p,Ne.test(a+p)||(r=r.parentNode);r;r=r.parentNode)d.push(r),s=r;s===(i.ownerDocument||x)&&d.push(s.defaultView||s.parentWindow||S)}for(o=0;(r=d[o++])&&!t.isPropagationStopped();)c=r,t.type=1<o?a:h.bindType||p,(u=($.get(r,"events")||{})[t.type]&&$.get(r,"handle"))&&u.apply(r,e),(u=l&&r[l])&&u.apply&&G(r)&&(t.result=u.apply(r,e),!1===t.result&&t.preventDefault());return t.type=p,n||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!G(i)||l&&_(i[p])&&!g(i)&&((s=i[l])&&(i[l]=null),k.event.triggered=p,t.isPropagationStopped()&&c.addEventListener(p,Ie),i[p](),t.isPropagationStopped()&&c.removeEventListener(p,Ie),k.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(t,e,i){var n=k.extend(new k.Event,i,{type:t,isSimulated:!0});k.event.trigger(n,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each(function(){k.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return k.event.trigger(t,e,i,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(i,n){function o(t){k.event.simulate(n,t.target,k.event.fix(t))}k.event.special[n]={setup:function(){var t=this.ownerDocument||this,e=$.access(t,n);e||t.addEventListener(i,o,!0),$.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=$.access(t,n)-1;e?$.access(t,n,e):(t.removeEventListener(i,o,!0),$.remove(t,n))}}});var Te=S.location,Me=Date.now(),Ae=/\?/;k.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new S.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var Pe=/\[\]$/,Re=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,je=/^(?:input|select|textarea|keygen)/i;function Be(i,t,n,o){var e;if(Array.isArray(t))k.each(t,function(t,e){n||Pe.test(i)?o(i,e):Be(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,o)});else if(n||"object"!==w(t))o(i,t);else for(e in t)Be(i+"["+e+"]",t[e],n,o)}k.param=function(t,e){function i(t,e){var i=_(e)?e():e;o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)}var n,o=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,function(){i(this.name,this.value)});else for(n in t)Be(n,t[n],e,i);return o.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&je.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var i=k(this).val();return null==i?null:Array.isArray(i)?k.map(i,function(t){return{name:e.name,value:t.replace(Re,"\r\n")}}):{name:e.name,value:i.replace(Re,"\r\n")}}).get()}});var He=/%20/g,We=/#.*$/,Ve=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ue=/^(?:GET|HEAD)$/,qe=/^\/\//,Ke={},Ge={},Ye="*/".concat("*"),$e=x.createElement("a");function Ze(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,o=t.toLowerCase().match(P)||[];if(_(e))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(e)):(r[i]=r[i]||[]).push(e)}}function Xe(e,o,r,s){var a={},l=e===Ge;function u(t){var n;return a[t]=!0,k.each(e[t]||[],function(t,e){var i=e(o,r,s);return"string"!=typeof i||l||a[i]?l?!(n=i):void 0:(o.dataTypes.unshift(i),u(i),!1)}),n}return u(o.dataTypes[0])||!a["*"]&&u("*")}function Je(t,e){var i,n,o=k.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n=n||{})[i]=e[i]);return n&&k.extend(!0,t,n),t}$e.href=Te.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Te.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Je(Je(t,k.ajaxSettings),e):Je(k.ajaxSettings,t)},ajaxPrefilter:Ze(Ke),ajaxTransport:Ze(Ge),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var h,c,d,i,p,n,f,g,o,r,m=k.ajaxSetup({},e),v=m.context||m,y=m.context&&(v.nodeType||v.jquery)?k(v):k.event,_=k.Deferred(),b=k.Callbacks("once memory"),w=m.statusCode||{},s={},a={},l="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=ze.exec(d);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return f?d:null},setRequestHeader:function(t,e){return null==f&&(t=a[t.toLowerCase()]=a[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==f&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)C.always(t[C.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||l;return h&&h.abort(e),u(0,e),this}};if(_.promise(C),m.url=((t||m.url||Te.href)+"").replace(qe,Te.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(P)||[""],null==m.crossDomain){n=x.createElement("a");try{n.href=m.url,n.href=n.href,m.crossDomain=$e.protocol+"//"+$e.host!=n.protocol+"//"+n.host}catch(t){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=k.param(m.data,m.traditional)),Xe(Ke,m,e,C),f)return C;for(o in(g=k.event&&m.global)&&0==k.active++&&k.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ue.test(m.type),c=m.url.replace(We,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(He,"+")):(r=m.url.slice(c.length),m.data&&(m.processData||"string"==typeof m.data)&&(c+=(Ae.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(c=c.replace(Ve,"$1"),r=(Ae.test(c)?"&":"?")+"_="+Me+++r),m.url=c+r),m.ifModified&&(k.lastModified[c]&&C.setRequestHeader("If-Modified-Since",k.lastModified[c]),k.etag[c]&&C.setRequestHeader("If-None-Match",k.etag[c])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&C.setRequestHeader("Content-Type",m.contentType),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ye+"; q=0.01":""):m.accepts["*"]),m.headers)C.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(v,C,m)||f))return C.abort();if(l="abort",b.add(m.complete),C.done(m.success),C.fail(m.error),h=Xe(Ge,m,e,C)){if(C.readyState=1,g&&y.trigger("ajaxSend",[C,m]),f)return C;m.async&&0<m.timeout&&(p=S.setTimeout(function(){C.abort("timeout")},m.timeout));try{f=!1,h.send(s,u)}catch(t){if(f)throw t;u(-1,t)}}else u(-1,"No Transport");function u(t,e,i,n){var o,r,s,a,l,u=e;f||(f=!0,p&&S.clearTimeout(p),h=void 0,d=n||"",C.readyState=0<t?4:0,o=200<=t&&t<300||304===t,i&&(a=function(t,e,i){for(var n,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s=s||o}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}(m,C,i)),a=function(t,e,i,n){var o,r,s,a,l,u={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(m,a,C,o),o?(m.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(k.lastModified[c]=l),(l=C.getResponseHeader("etag"))&&(k.etag[c]=l)),204===t||"HEAD"===m.type?u="nocontent":304===t?u="notmodified":(u=a.state,r=a.data,o=!(s=a.error))):(s=u,!t&&u||(u="error",t<0&&(t=0))),C.status=t,C.statusText=(e||u)+"",o?_.resolveWith(v,[r,u,C]):_.rejectWith(v,[C,u,s]),C.statusCode(w),w=void 0,g&&y.trigger(o?"ajaxSuccess":"ajaxError",[C,m,o?r:s]),b.fireWith(v,[C,u]),g&&(y.trigger("ajaxComplete",[C,m]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,i){return k.get(t,e,i,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],function(t,o){k[o]=function(t,e,i,n){return _(e)&&(n=n||i,i=e,e=void 0),k.ajax(k.extend({url:t,type:o,dataType:n,data:e,success:i},k.isPlainObject(t)&&t))}}),k._evalUrl=function(t,e){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(_(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return _(i)?this.each(function(t){k(this).wrapInner(i.call(this,t))}):this.each(function(){var t=k(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=_(e);return this.each(function(t){k(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new S.XMLHttpRequest}catch(t){}};var Qe={0:200,1223:204},ti=k.ajaxSettings.xhr();y.cors=!!ti&&"withCredentials"in ti,y.ajax=ti=!!ti,k.ajaxTransport(function(o){var r,s;if(y.cors||ti&&!o.crossDomain)return{send:function(t,e){var i,n=o.xhr();if(n.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(i in o.xhrFields)n[i]=o.xhrFields[i];for(i in o.mimeType&&n.overrideMimeType&&n.overrideMimeType(o.mimeType),o.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);r=function(t){return function(){r&&(r=s=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(Qe[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=r(),s=n.onerror=n.ontimeout=r("error"),void 0!==n.onabort?n.onabort=s:n.onreadystatechange=function(){4===n.readyState&&S.setTimeout(function(){r&&s()})},r=r("abort");try{n.send(o.hasContent&&o.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}}),k.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),k.ajaxTransport("script",function(i){var n,o;if(i.crossDomain||i.scriptAttrs)return{send:function(t,e){n=k("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",o=function(t){n.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),x.head.appendChild(n[0])},abort:function(){o&&o()}}});var ei,ii=[],ni=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ii.pop()||k.expando+"_"+Me++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",function(t,e,i){var n,o,r,s=!1!==t.jsonp&&(ni.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=_(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+n):!1!==t.jsonp&&(t.url+=(Ae.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return r||k.error(n+" was not called"),r[0]},t.dataTypes[0]="json",o=S[n],S[n]=function(){r=arguments},i.always(function(){void 0===o?k(S).removeProp(n):S[n]=o,t[n]&&(t.jsonpCallback=e.jsonpCallback,ii.push(n)),r&&_(o)&&o(r[0]),r=o=void 0}),"script"}),y.createHTMLDocument=((ei=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ei.childNodes.length),k.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(y.createHTMLDocument?((n=(e=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,e.head.appendChild(n)):e=x),r=!i&&[],(o=L.exec(t))?[e.createElement(o[1])]:(o=bt([t],e,r),r&&r.length&&k(r).remove(),k.merge([],o.childNodes)));var n,o,r},k.fn.load=function(t,e,i){var n,o,r,s=this,a=t.indexOf(" ");return-1<a&&(n=Oe(t.slice(a)),t=t.slice(0,a)),_(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<s.length&&k.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?k("<div>").append(k.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){k.fn[e]=function(t){return this.on(e,t)}}),k.expr.pseudos.animated=function(e){return k.grep(k.timers,function(t){return e===t.elem}).length},k.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,u=k.css(t,"position"),h=k(t),c={};"static"===u&&(t.style.position="relative"),a=h.offset(),r=k.css(t,"top"),l=k.css(t,"left"),o=("absolute"===u||"fixed"===u)&&-1<(r+l).indexOf("auto")?(s=(n=h.position()).top,n.left):(s=parseFloat(r)||0,parseFloat(l)||0),_(e)&&(e=e.call(t,i,k.extend({},a))),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+o),"using"in e?e.using.call(t,c):h.css(c)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){k.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],o={top:0,left:0};if("fixed"===k.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((o=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),o.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-k.css(n,"marginTop",!0),left:e.left-o.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||nt})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r="pageYOffset"===o;k.fn[e]=function(t){return V(this,function(t,e,i){var n;if(g(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===i)return n?n[o]:t[e];n?n.scrollTo(r?n.pageXOffset:i,r?i:n.pageYOffset):t[e]=i},e,t,arguments.length)}}),k.each(["top","left"],function(t,i){k.cssHooks[i]=Jt(y.pixelPosition,function(t,e){if(e)return e=Xt(t,i),Kt.test(e)?k(t).position()[i]+"px":e})}),k.each({Height:"height",Width:"width"},function(s,a){k.each({padding:"inner"+s,content:a,"":"outer"+s},function(n,r){k.fn[r]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),o=n||(!0===t||!0===e?"margin":"border");return V(this,function(t,e,i){var n;return g(t)?0===r.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+s],n["scroll"+s],t.body["offset"+s],n["offset"+s],n["client"+s])):void 0===i?k.css(t,e,o):k.style(t,e,i,o)},a,i?t:void 0,i)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){k.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),k.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),k.proxy=function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),_(t))return n=a.call(arguments,2),(o=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||k.guid++,o},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=E,k.isFunction=_,k.isWindow=g,k.camelCase=K,k.type=w,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(li=function(){return k}.apply(ai,[]))||(si.exports=li);var oi=S.jQuery,ri=S.$;return k.noConflict=function(t){return S.$===k&&(S.$=ri),t&&S.jQuery===k&&(S.jQuery=oi),k},t||(S.jQuery=S.$=k),k})},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return s});var n=i(100),o=i(18),r=(n.a,Object(o.c)("notificationService")),s=function(){}},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var r=i(5),n=function(t,e,i){function n(t){return o.fire(t)}var o=new r.a({onFirstListenerAdd:function(){t.addEventListener(e,n,i)},onLastListenerRemove:function(){t.removeEventListener(e,n,i)}});return o.event};function o(t){return Object(r.j)(t,function(t){return t.preventDefault(),t.stopPropagation(),t})}},function(t,e,i){"use strict";var n,o;i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),(o=n=n||{})[o.None=0]="None",o[o.Indent=1]="Indent",o[o.IndentOutdent=2]="IndentOutdent",o[o.Outdent=3]="Outdent";var r=(s.prototype.isOK=function(t){return 0==(this._standardTokenMask&t)},s);function s(t){if(this.open=t.open,this.close=t.close,this._standardTokenMask=0,Array.isArray(t.notIn))for(var e=0,i=t.notIn.length;e<i;e++){switch(t.notIn[e]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}},function(t,e,i){"use strict";var n,o;i.d(e,"c",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"b",function(){return a}),i.d(e,"a",function(){return l}),(o=n=n||{})[o.Left=1]="Left",o[o.Center=2]="Center",o[o.Right=4]="Right",o[o.Full=7]="Full";var r=(s.prototype.equals=function(t){return this.tabSize===t.tabSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace},s.prototype.createChangeEvent=function(t){return{tabSize:this.tabSize!==t.tabSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}},s);function s(t){this.tabSize=0|t.tabSize,this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=0|t.defaultEOL,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace)}var a=function(t,e){this.range=t,this.matches=e},l=function(t,e,i){this.reverseEdits=t,this.changes=e,this.trimAutoWhitespaceLineNumbers=i}},function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"h",function(){return a}),i.d(e,"b",function(){return l}),i.d(e,"g",function(){return u}),i.d(e,"d",function(){return h}),i.d(e,"c",function(){return c}),i.d(e,"e",function(){return d}),i.d(e,"f",function(){return p});var n=i(57),o=i(18),r=i(110),s=Object(o.c)("configurationService");function a(t,e){var i=Object.create(null);for(var n in t)l(i,n,t[n],e);return i}function l(t,e,i,n){for(var o=e.split("."),r=o.pop(),s=t,a=0;a<o.length;a++){var l=o[a],u=s[l];switch(typeof u){case"undefined":u=s[l]=Object.create(null);break;case"object":break;default:return void n("Ignoring "+e+" as "+o.slice(0,a+1).join(".")+" is "+JSON.stringify(u))}s=u}"object"==typeof s?s[r]=i:n("Ignoring "+e+" as "+o.join(".")+" is "+JSON.stringify(s))}function u(t,e){!function t(e,i){var n=i.shift();if(0===i.length)return void delete e[n];if(-1!==Object.keys(e).indexOf(n)){var o=e[n];"object"!=typeof o||Array.isArray(o)||(t(o,i),0===Object.keys(o).length&&delete e[n])}}(t,e.split("."))}function h(t,e,i){var n=function(t,e){for(var i=t,n=0;n<e.length;n++){if("object"!=typeof i||null===i)return;i=i[e[n]]}return i}(t,e.split("."));return void 0===n?i:n}function c(){var t=n.a.as(r.a.Configuration).getConfigurationProperties();return Object.keys(t)}function d(){var t=Object.create(null),e=n.a.as(r.a.Configuration).getConfigurationProperties();for(var i in e){l(t,i,e[i].default,function(t){return console.error("Conflict in default settings: "+t)})}return t}function p(t){return t.substring(1,t.length-1)}},function(t,e,i){"use strict";var n,o;i.d(e,"a",function(){return n}),(o=n=n||{}).inMemory="inmemory",o.vscode="vscode",o.internal="private",o.walkThrough="walkThrough",o.walkThroughSnippet="walkThroughSnippet",o.http="http",o.https="https",o.file="file",o.mailto="mailto",o.untitled="untitled",o.data="data"},function(t,e,i){"use strict";i.d(e,"b",function(){return u}),i.d(e,"a",function(){return h}),i.d(e,"c",function(){return c});i(268);var n,o,r,s=i(0),a=i(14),l=i(1);function u(t){(n=document.createElement("div")).className="monaco-aria-container",(o=document.createElement("div")).className="monaco-alert",o.setAttribute("role","alert"),o.setAttribute("aria-atomic","true"),n.appendChild(o),(r=document.createElement("div")).className="monaco-status",r.setAttribute("role","status"),r.setAttribute("aria-atomic","true"),n.appendChild(r),t.appendChild(n)}function h(t){f(o,t)}function c(t){a.d?h(t):f(r,t)}var d=0,p=void 0;function f(t,e){if(n){switch(p===e?d++:(p=e,d=0),d){case 0:break;case 1:e=s.a("repeated","{0} (occurred again)",e);break;default:e=s.a("repeatedNtimes","{0} (occurred {1} times)",e,d)}l.m(t),t.textContent=e,t.style.visibility="hidden",t.style.visibility="visible"}}},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(22),o=i(38),r=i(14),s=new Array(230),a=new Array(112);!function(){for(var t=0;t<a.length;t++)a[t]=-1;function e(t,e){s[t]=e,a[e]=t}e(3,7),e(8,1),e(9,2),e(13,3),e(16,4),e(17,5),e(18,6),e(19,7),e(20,8),e(27,9),e(32,10),e(33,11),e(34,12),e(35,13),e(36,14),e(37,15),e(38,16),e(39,17),e(40,18),e(45,19),e(46,20),e(48,21),e(49,22),e(50,23),e(51,24),e(52,25),e(53,26),e(54,27),e(55,28),e(56,29),e(57,30),e(65,31),e(66,32),e(67,33),e(68,34),e(69,35),e(70,36),e(71,37),e(72,38),e(73,39),e(74,40),e(75,41),e(76,42),e(77,43),e(78,44),e(79,45),e(80,46),e(81,47),e(82,48),e(83,49),e(84,50),e(85,51),e(86,52),e(87,53),e(88,54),e(89,55),e(90,56),e(93,58),e(96,93),e(97,94),e(98,95),e(99,96),e(100,97),e(101,98),e(102,99),e(103,100),e(104,101),e(105,102),e(106,103),e(107,104),e(108,105),e(109,106),e(110,107),e(111,108),e(112,59),e(113,60),e(114,61),e(115,62),e(116,63),e(117,64),e(118,65),e(119,66),e(120,67),e(121,68),e(122,69),e(123,70),e(124,71),e(125,72),e(126,73),e(127,74),e(128,75),e(129,76),e(130,77),e(144,78),e(145,79),e(186,80),e(187,81),e(188,82),e(189,83),e(190,84),e(191,85),e(192,86),e(193,110),e(194,111),e(219,87),e(220,88),e(221,89),e(222,90),e(223,91),e(226,92),e(229,109),n.k?e(91,57):n.j?(e(59,80),e(107,81),e(109,83),r.d&&e(224,57)):n.n&&(e(91,57),r.d?e(93,57):e(92,57))}();var l=r.d?256:2048,u=r.d?2048:256,h=(c.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},c.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},c.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},c.prototype.equals=function(t){return this._asKeybinding===t},c.prototype._computeKeybinding=function(){var t=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(t=this.keyCode);var e=0;return this.ctrlKey&&(e|=l),this.altKey&&(e|=512),this.shiftKey&&(e|=1024),this.metaKey&&(e|=u),e|=t},c.prototype._computeRuntimeKeybinding=function(){var t=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(t=this.keyCode),new o.e(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)},c);function c(t){var e=t;this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.keyCode=function(t){if(t.charCode){var e=String.fromCharCode(t.charCode).toUpperCase();return o.b.fromString(e)}return s[t.keyCode]||0}(e),this.code=e.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return u});var n,o,r,s=i(18),a=i(0),l=i(100);(o=n=n||{})[o.Hint=1]="Hint",o[o.Info=2]="Info",o[o.Warning=4]="Warning",o[o.Error=8]="Error",function(e){e.compare=function(t,e){return e-t};var i=Object.create(null);i[e.Error]=Object(a.a)("sev.error","Error"),i[e.Warning]=Object(a.a)("sev.warning","Warning"),i[e.Info]=Object(a.a)("sev.info","Info"),e.toString=function(t){return i[t]||""},e.fromSeverity=function(t){switch(t){case l.a.Error:return e.Error;case l.a.Warning:return e.Warning;case l.a.Info:return e.Info;case l.a.Ignore:return e.Hint}}}(n=n||{}),(r=r||{}).makeKey=function(t){var e=[""];return t.source?e.push(t.source.replace("¦","¦")):e.push(""),t.code?e.push(t.code.replace("¦","¦")):e.push(""),void 0!==t.severity&&null!==t.severity?e.push(n.toString(t.severity)):e.push(""),t.message?e.push(t.message.replace("¦","¦")):e.push(""),void 0!==t.startLineNumber&&null!==t.startLineNumber?e.push(t.startLineNumber.toString()):e.push(""),void 0!==t.startColumn&&null!==t.startColumn?e.push(t.startColumn.toString()):e.push(""),void 0!==t.endLineNumber&&null!==t.endLineNumber?e.push(t.endLineNumber.toString()):e.push(""),void 0!==t.endColumn&&null!==t.endColumn?e.push(t.endColumn.toString()):e.push(""),e.push(""),e.join("¦")};var u=Object(s.c)("markerService")},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(2),o=(r.insert=function(t,e){return{range:new n.a(t.lineNumber,t.column,t.lineNumber,t.column),text:e,forceMoveMarkers:!0}},r.delete=function(t){return{range:t,text:null}},r.replace=function(t,e){return{range:t,text:e}},r.replaceMove=function(t,e){return{range:t,text:e,forceMoveMarkers:!0}},r);function r(){}},function(t,e,i){"use strict";i.d(e,"f",function(){return o}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return s}),i.d(e,"d",function(){return a}),i.d(e,"a",function(){return l}),i.d(e,"e",function(){return h});var n=i(8),o=function(t,e,i,n){this.top=0|t,this.left=0|e,this.width=0|i,this.height=0|n},r=function(t,e){this.tabSize=t,this.data=e},s=function(t,e,i,n,o){this.content=t,this.continuesWithWrappedLine=e,this.minColumn=i,this.maxColumn=n,this.tokens=o},a=(u.isBasicASCII=function(t,e){return!e||n.r(t)},u.containsRTL=function(t,e,i){return!(e||!i)&&n.g(t)},u);function u(t,e,i,n,o,r,s,a,l){this.minColumn=t,this.maxColumn=e,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=u.isBasicASCII(i,r),this.containsRTL=u.containsRTL(i,this.isBasicASCII,o),this.tokens=s,this.inlineDecorations=a,this.tabSize=l}var l=function(t,e,i){this.range=t,this.inlineClassName=e,this.type=i},h=function(t,e){this.range=t,this.options=e}},function(t,e,i){"use strict";i.d(e,"b",function(){return l}),i.d(e,"a",function(){return f}),i.d(e,"c",function(){return m});var n=i(0),a=i(5),o=i(41),r=i(4),h=i(8),s=i(148),c=i(2),l=(Object.defineProperty(u.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this._onRefChanged.fire(this)},enumerable:!0,configurable:!0}),u.prototype.getAriaMessage=function(){return Object(n.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(o.a)(this.uri.fsPath),this.range.startLineNumber,this.range.startColumn)},u);function u(t,e){this.parent=t,this._range=e,this._onRefChanged=new a.a,this.onRefChanged=this._onRefChanged.event,this.id=s.b.nextId()}var d=(p.prototype.dispose=function(){Object(r.d)(this._modelReference)},p.prototype.preview=function(t,e){void 0===e&&(e=8);var i=this._modelReference.object.textEditorModel;if(i){var n=t.startLineNumber,o=t.startColumn,r=t.endLineNumber,s=t.endColumn,a=i.getWordUntilPosition({lineNumber:n,column:o-e}),l=new c.a(n,a.startColumn,n,o),u=new c.a(r,s,r,Number.MAX_VALUE);return{before:i.getValueInRange(l).replace(/^\s+/,h.j),inside:i.getValueInRange(t),after:i.getValueInRange(u).replace(/\s+$/,h.j)}}},p);function p(t){this._modelReference=t}var f=(Object.defineProperty(g.prototype,"id",{get:function(){return this._uri.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),g.prototype.getAriaMessage=function(){var t=this.children.length;return 1===t?Object(n.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(o.a)(this.uri.fsPath),this.uri.fsPath):Object(n.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",t,Object(o.a)(this.uri.fsPath),this.uri.fsPath)},g.prototype.resolve=function(t){var e=this;return this._resolved?Promise.resolve(this):Promise.resolve(t.createModelReference(this._uri).then(function(t){if(!t.object)throw t.dispose(),new Error;return e._preview=new d(t),e._resolved=!0,e},function(t){return e._children=[],e._resolved=!0,e._loadFailure=t,e}))},g.prototype.dispose=function(){this._preview&&(this._preview.dispose(),this._preview=void 0)},g);function g(t,e){this._parent=t,this._uri=e,this._children=[]}var m=(Object.defineProperty(v.prototype,"empty",{get:function(){return 0===this.groups.length},enumerable:!0,configurable:!0}),v.prototype.getAriaMessage=function(){return this.empty?Object(n.a)("aria.result.0","No results found"):1===this.references.length?Object(n.a)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(n.a)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(n.a)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},v.prototype.nextOrPreviousReference=function(t,e){var i=t.parent,n=i.children.indexOf(t),o=i.children.length,r=i.parent.groups.length;return 1===r||e&&n+1<o||!e&&0<n?(n=e?(n+1)%o:(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),e?(n=(n+1)%r,i.parent.groups[n].children[0]):(n=(n+r-1)%r,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))},v.prototype.nearestReference=function(i,n){var t=this.references.map(function(t,e){return{idx:e,prefixLen:h.b(t.uri.toString(),i.toString()),offsetDist:100*Math.abs(t.range.startLineNumber-n.lineNumber)+Math.abs(t.range.startColumn-n.column)}}).sort(function(t,e){return t.prefixLen>e.prefixLen?-1:t.prefixLen<e.prefixLen?1:t.offsetDist<e.offsetDist?-1:t.offsetDist>e.offsetDist?1:0})[0];if(t)return this.references[t.idx]},v.prototype.dispose=function(){Object(r.d)(this.groups),Object(r.d)(this._disposables),this.groups.length=0,this._disposables.length=0},v._compareReferences=function(t,e){var i=t.uri.toString(),n=e.uri.toString();return i<n?-1:n<i?1:c.a.compareRangesUsingStarts(t.range,e.range)},v);function v(t){var e,i=this;this.groups=[],this.references=[],this._onDidChangeReferenceRange=new a.a,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._disposables=[],t.sort(v._compareReferences);for(var n=0,o=t;n<o.length;n++){var r=o[n];if(e&&e.uri.toString()===r.uri.toString()||(e=new f(this,r.uri),this.groups.push(e)),0===e.children.length||!c.a.equalsRange(r.range,e.children[e.children.length-1].range)){var s=new l(e,r.range);this._disposables.push(s.onRefChanged(function(t){return i._onDidChangeReferenceRange.fire(t)})),this.references.push(s),e.children.push(s)}}}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var n=i(18),o=Object(n.c)("modelService");function r(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(23),o=i(120);function r(){this.data={}}var s=new(r.prototype.add=function(t,e){o.a(n.h(t)),o.a(n.g(e)),o.a(!this.data.hasOwnProperty(t),"There is already an extension with this id"),this.data[t]=e},r.prototype.as=function(t){return this.data[t]||null},r)},function(t,J,e){(function($,Z){var X;!function(){function i(){}var t="object"==typeof self&&self.self===self&&self||"object"==typeof $&&$.global===$&&$||this||{},e=t._,n=Array.prototype,s=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,o=n.push,l=n.slice,d=s.toString,r=s.hasOwnProperty,a=Array.isArray,u=Object.keys,h=Object.create,p=function(t){return t instanceof p?t:this instanceof p?void(this._wrapped=t):new p(t)};J.nodeType?t._=p:(!Z.nodeType&&Z.exports&&(J=Z.exports=p),J._=p),p.VERSION="1.9.1";function f(o,r,t){if(void 0===r)return o;switch(null==t?3:t){case 1:return function(t){return o.call(r,t)};case 3:return function(t,e,i){return o.call(r,t,e,i)};case 4:return function(t,e,i,n){return o.call(r,t,e,i,n)}}return function(){return o.apply(r,arguments)}}function g(t,e,i){return p.iteratee!==m?p.iteratee(t,e):null==t?p.identity:p.isFunction(t)?f(t,e,i):p.isObject(t)&&!p.isArray(t)?p.matcher(t):p.property(t)}var m;p.iteratee=m=function(t,e){return g(t,e,1/0)};function v(o,r){return r=null==r?o.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),i=0;i<t;i++)e[i]=arguments[i+r];switch(r){case 0:return o.call(this,e);case 1:return o.call(this,arguments[0],e);case 2:return o.call(this,arguments[0],arguments[1],e)}var n=Array(r+1);for(i=0;i<r;i++)n[i]=arguments[i];return n[r]=e,o.apply(this,n)}}function y(t){if(!p.isObject(t))return{};if(h)return h(t);i.prototype=t;var e=new i;return i.prototype=null,e}function _(e){return function(t){return null==t?void 0:t[e]}}function b(t,e){return null!=t&&r.call(t,e)}function w(t,e){for(var i=e.length,n=0;n<i;n++){if(null==t)return;t=t[e[n]]}return i?t:void 0}function C(t){var e=x(t);return"number"==typeof e&&0<=e&&e<=S}var S=Math.pow(2,53)-1,x=_("length");p.each=p.forEach=function(t,e,i){var n,o;if(e=f(e,i),C(t))for(n=0,o=t.length;n<o;n++)e(t[n],n,t);else{var r=p.keys(t);for(n=0,o=r.length;n<o;n++)e(t[r[n]],r[n],t)}return t},p.map=p.collect=function(t,e,i){e=g(e,i);for(var n=!C(t)&&p.keys(t),o=(n||t).length,r=Array(o),s=0;s<o;s++){var a=n?n[s]:s;r[s]=e(t[a],a,t)}return r};function k(l){return function(t,e,i,n){var o=3<=arguments.length;return function(t,e,i,n){var o=!C(t)&&p.keys(t),r=(o||t).length,s=0<l?0:r-1;for(n||(i=t[o?o[s]:s],s+=l);0<=s&&s<r;s+=l){var a=o?o[s]:s;i=e(i,t[a],a,t)}return i}(t,f(e,n,4),i,o)}}p.reduce=p.foldl=p.inject=k(1),p.reduceRight=p.foldr=k(-1),p.find=p.detect=function(t,e,i){var n=(C(t)?p.findIndex:p.findKey)(t,e,i);if(void 0!==n&&-1!==n)return t[n]},p.filter=p.select=function(t,n,e){var o=[];return n=g(n,e),p.each(t,function(t,e,i){n(t,e,i)&&o.push(t)}),o},p.reject=function(t,e,i){return p.filter(t,p.negate(g(e)),i)},p.every=p.all=function(t,e,i){e=g(e,i);for(var n=!C(t)&&p.keys(t),o=(n||t).length,r=0;r<o;r++){var s=n?n[r]:r;if(!e(t[s],s,t))return!1}return!0},p.some=p.any=function(t,e,i){e=g(e,i);for(var n=!C(t)&&p.keys(t),o=(n||t).length,r=0;r<o;r++){var s=n?n[r]:r;if(e(t[s],s,t))return!0}return!1},p.contains=p.includes=p.include=function(t,e,i,n){return C(t)||(t=p.values(t)),"number"==typeof i&&!n||(i=0),0<=p.indexOf(t,e,i)},p.invoke=v(function(t,i,n){var o,r;return p.isFunction(i)?r=i:p.isArray(i)&&(o=i.slice(0,-1),i=i[i.length-1]),p.map(t,function(t){var e=r;if(!e){if(o&&o.length&&(t=w(t,o)),null==t)return;e=t[i]}return null==e?e:e.apply(t,n)})}),p.pluck=function(t,e){return p.map(t,p.property(e))},p.where=function(t,e){return p.filter(t,p.matcher(e))},p.findWhere=function(t,e){return p.find(t,p.matcher(e))},p.max=function(t,n,e){var i,o,r=-1/0,s=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=C(t)?t:p.values(t)).length;a<l;a++)null!=(i=t[a])&&r<i&&(r=i);else n=g(n,e),p.each(t,function(t,e,i){o=n(t,e,i),(s<o||o===-1/0&&r===-1/0)&&(r=t,s=o)});return r},p.min=function(t,n,e){var i,o,r=1/0,s=1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=C(t)?t:p.values(t)).length;a<l;a++)null!=(i=t[a])&&i<r&&(r=i);else n=g(n,e),p.each(t,function(t,e,i){((o=n(t,e,i))<s||o===1/0&&r===1/0)&&(r=t,s=o)});return r},p.shuffle=function(t){return p.sample(t,1/0)},p.sample=function(t,e,i){if(null==e||i)return C(t)||(t=p.values(t)),t[p.random(t.length-1)];var n=C(t)?p.clone(t):p.values(t),o=x(n);e=Math.max(Math.min(e,o),0);for(var r=o-1,s=0;s<e;s++){var a=p.random(s,r),l=n[s];n[s]=n[a],n[a]=l}return n.slice(0,e)},p.sortBy=function(t,n,e){var o=0;return n=g(n,e),p.pluck(p.map(t,function(t,e,i){return{value:t,index:o++,criteria:n(t,e,i)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};function O(s,e){return function(n,o,t){var r=e?[[],[]]:{};return o=g(o,t),p.each(n,function(t,e){var i=o(t,e,n);s(r,t,i)}),r}}p.groupBy=O(function(t,e,i){b(t,i)?t[i].push(e):t[i]=[e]}),p.indexBy=O(function(t,e,i){t[i]=e}),p.countBy=O(function(t,e,i){b(t,i)?t[i]++:t[i]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;p.toArray=function(t){return t?p.isArray(t)?l.call(t):p.isString(t)?t.match(E):C(t)?p.map(t,p.identity):p.values(t):[]},p.size=function(t){return null==t?0:C(t)?t.length:p.keys(t).length},p.partition=O(function(t,e,i){t[i?0:1].push(e)},!0),p.first=p.head=p.take=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[0]:p.initial(t,t.length-e)},p.initial=function(t,e,i){return l.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},p.last=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[t.length-1]:p.rest(t,Math.max(0,t.length-e))},p.rest=p.tail=p.drop=function(t,e,i){return l.call(t,null==e||i?1:e)},p.compact=function(t){return p.filter(t,Boolean)};var L=function(t,e,i,n){for(var o=(n=n||[]).length,r=0,s=x(t);r<s;r++){var a=t[r];if(C(a)&&(p.isArray(a)||p.isArguments(a)))if(e)for(var l=0,u=a.length;l<u;)n[o++]=a[l++];else L(a,e,i,n),o=n.length;else i||(n[o++]=a)}return n};p.flatten=function(t,e){return L(t,e,!1)},p.without=v(function(t,e){return p.difference(t,e)}),p.uniq=p.unique=function(t,e,i,n){p.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=g(i,n));for(var o=[],r=[],s=0,a=x(t);s<a;s++){var l=t[s],u=i?i(l,s,t):l;e&&!i?(s&&r===u||o.push(l),r=u):i?p.contains(r,u)||(r.push(u),o.push(l)):p.contains(o,l)||o.push(l)}return o},p.union=v(function(t){return p.uniq(L(t,!0,!0))}),p.intersection=function(t){for(var e=[],i=arguments.length,n=0,o=x(t);n<o;n++){var r=t[n];if(!p.contains(e,r)){var s;for(s=1;s<i&&p.contains(arguments[s],r);s++);s===i&&e.push(r)}}return e},p.difference=v(function(t,e){return e=L(e,!0,!0),p.filter(t,function(t){return!p.contains(e,t)})}),p.unzip=function(t){for(var e=t&&p.max(t,x).length||0,i=Array(e),n=0;n<e;n++)i[n]=p.pluck(t,n);return i},p.zip=v(p.unzip),p.object=function(t,e){for(var i={},n=0,o=x(t);n<o;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i};function D(r){return function(t,e,i){e=g(e,i);for(var n=x(t),o=0<r?0:n-1;0<=o&&o<n;o+=r)if(e(t[o],o,t))return o;return-1}}p.findIndex=D(1),p.findLastIndex=D(-1),p.sortedIndex=function(t,e,i,n){for(var o=(i=g(i,n,1))(e),r=0,s=x(t);r<s;){var a=Math.floor((r+s)/2);i(t[a])<o?r=a+1:s=a}return r};function I(r,s,a){return function(t,e,i){var n=0,o=x(t);if("number"==typeof i)0<r?n=0<=i?i:Math.max(i+o,n):o=0<=i?Math.min(i+1,o):i+o+1;else if(a&&i&&o)return t[i=a(t,e)]===e?i:-1;if(e!=e)return 0<=(i=s(l.call(t,n,o),p.isNaN))?i+n:-1;for(i=0<r?n:o-1;0<=i&&i<o;i+=r)if(t[i]===e)return i;return-1}}p.indexOf=I(1,p.findIndex,p.sortedIndex),p.lastIndexOf=I(-1,p.findLastIndex),p.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||(e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),o=Array(n),r=0;r<n;r++,t+=i)o[r]=t;return o},p.chunk=function(t,e){if(null==e||e<1)return[];for(var i=[],n=0,o=t.length;n<o;)i.push(l.call(t,n,n+=e));return i};function N(t,e,i,n,o){if(!(n instanceof e))return t.apply(i,o);var r=y(t.prototype),s=t.apply(r,o);return p.isObject(s)?s:r}p.bind=v(function(e,i,n){if(!p.isFunction(e))throw new TypeError("Bind must be called on a function");var o=v(function(t){return N(e,o,i,this,n.concat(t))});return o}),p.partial=v(function(o,r){var s=p.partial.placeholder,a=function(){for(var t=0,e=r.length,i=Array(e),n=0;n<e;n++)i[n]=r[n]===s?arguments[t++]:r[n];for(;t<arguments.length;)i.push(arguments[t++]);return N(o,a,this,this,i)};return a}),(p.partial.placeholder=p).bindAll=v(function(t,e){var i=(e=L(e,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=p.bind(t[n],t)}}),p.memoize=function(n,o){var r=function(t){var e=r.cache,i=""+(o?o.apply(this,arguments):t);return b(e,i)||(e[i]=n.apply(this,arguments)),e[i]};return r.cache={},r},p.delay=v(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)}),p.defer=p.partial(p.delay,p,1),p.throttle=function(i,n,o){var r,s,a,l,u=0;o=o||{};function h(){u=!1===o.leading?0:p.now(),r=null,l=i.apply(s,a),r||(s=a=null)}function t(){var t=p.now();u||!1!==o.leading||(u=t);var e=n-(t-u);return s=this,a=arguments,e<=0||n<e?(r&&(clearTimeout(r),r=null),u=t,l=i.apply(s,a),r||(s=a=null)):r||!1===o.trailing||(r=setTimeout(h,e)),l}return t.cancel=function(){clearTimeout(r),u=0,r=s=a=null},t},p.debounce=function(i,n,o){function r(t,e){s=null,e&&(a=i.apply(t,e))}var s,a,t=v(function(t){if(s&&clearTimeout(s),o){var e=!s;s=setTimeout(r,n),e&&(a=i.apply(this,t))}else s=p.delay(r,n,this,t);return a});return t.cancel=function(){clearTimeout(s),s=null},t},p.wrap=function(t,e){return p.partial(e,t)},p.negate=function(t){return function(){return!t.apply(this,arguments)}},p.compose=function(){var i=arguments,n=i.length-1;return function(){for(var t=n,e=i[n].apply(this,arguments);t--;)e=i[t].call(this,e);return e}},p.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},p.before=function(t,e){var i;return function(){return 0<--t&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},p.once=p.partial(p.before,2),p.restArguments=v;function T(t,e){var i=A.length,n=t.constructor,o=p.isFunction(n)&&n.prototype||s,r="constructor";for(b(t,r)&&!p.contains(e,r)&&e.push(r);i--;)(r=A[i])in t&&t[r]!==o[r]&&!p.contains(e,r)&&e.push(r)}var M=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];p.keys=function(t){if(!p.isObject(t))return[];if(u)return u(t);var e=[];for(var i in t)b(t,i)&&e.push(i);return M&&T(t,e),e},p.allKeys=function(t){if(!p.isObject(t))return[];var e=[];for(var i in t)e.push(i);return M&&T(t,e),e},p.values=function(t){for(var e=p.keys(t),i=e.length,n=Array(i),o=0;o<i;o++)n[o]=t[e[o]];return n},p.mapObject=function(t,e,i){e=g(e,i);for(var n=p.keys(t),o=n.length,r={},s=0;s<o;s++){var a=n[s];r[a]=e(t[a],a,t)}return r},p.pairs=function(t){for(var e=p.keys(t),i=e.length,n=Array(i),o=0;o<i;o++)n[o]=[e[o],t[e[o]]];return n},p.invert=function(t){for(var e={},i=p.keys(t),n=0,o=i.length;n<o;n++)e[t[i[n]]]=i[n];return e},p.functions=p.methods=function(t){var e=[];for(var i in t)p.isFunction(t[i])&&e.push(i);return e.sort()};function P(l,u){return function(t){var e=arguments.length;if(u&&(t=Object(t)),e<2||null==t)return t;for(var i=1;i<e;i++)for(var n=arguments[i],o=l(n),r=o.length,s=0;s<r;s++){var a=o[s];u&&void 0!==t[a]||(t[a]=n[a])}return t}}p.extend=P(p.allKeys),p.extendOwn=p.assign=P(p.keys),p.findKey=function(t,e,i){e=g(e,i);for(var n,o=p.keys(t),r=0,s=o.length;r<s;r++)if(e(t[n=o[r]],n,t))return n};function R(t,e,i){return e in i}var F,j;p.pick=v(function(t,e){var i={},n=e[0];if(null==t)return i;p.isFunction(n)?(1<e.length&&(n=f(n,e[1])),e=p.allKeys(t)):(n=R,e=L(e,!1,!1),t=Object(t));for(var o=0,r=e.length;o<r;o++){var s=e[o],a=t[s];n(a,s,t)&&(i[s]=a)}return i}),p.omit=v(function(t,i){var e,n=i[0];return p.isFunction(n)?(n=p.negate(n),1<i.length&&(e=i[1])):(i=p.map(L(i,!1,!1),String),n=function(t,e){return!p.contains(i,e)}),p.pick(t,n,e)}),p.defaults=P(p.allKeys,!0),p.create=function(t,e){var i=y(t);return e&&p.extendOwn(i,e),i},p.clone=function(t){return p.isObject(t)?p.isArray(t)?t.slice():p.extend({},t):t},p.tap=function(t,e){return e(t),t},p.isMatch=function(t,e){var i=p.keys(e),n=i.length;if(null==t)return!n;for(var o=Object(t),r=0;r<n;r++){var s=i[r];if(e[s]!==o[s]||!(s in o))return!1}return!0},F=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"==o||"object"==o||"object"==typeof e)&&j(t,e,i,n)},j=function(t,e,i,n){t instanceof p&&(t=t._wrapped),e instanceof p&&(e=e._wrapped);var o=d.call(t);if(o!==d.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c.valueOf.call(t)===c.valueOf.call(e)}var r="[object Array]"===o;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(p.isFunction(s)&&s instanceof s&&p.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var l=(i=i||[]).length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),r){if((l=t.length)!==e.length)return!1;for(;l--;)if(!F(t[l],e[l],i,n))return!1}else{var u,h=p.keys(t);if(l=h.length,p.keys(e).length!==l)return!1;for(;l--;)if(u=h[l],!b(e,u)||!F(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0},p.isEqual=function(t,e){return F(t,e)},p.isEmpty=function(t){return null==t||(C(t)&&(p.isArray(t)||p.isString(t)||p.isArguments(t))?0===t.length:0===p.keys(t).length)},p.isElement=function(t){return!(!t||1!==t.nodeType)},p.isArray=a||function(t){return"[object Array]"===d.call(t)},p.isObject=function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},p.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){p["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(t){return b(t,"callee")});var B=t.document&&t.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof B&&(p.isFunction=function(t){return"function"==typeof t||!1}),p.isFinite=function(t){return!p.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},p.isNaN=function(t){return p.isNumber(t)&&isNaN(t)},p.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===d.call(t)},p.isNull=function(t){return null===t},p.isUndefined=function(t){return void 0===t},p.has=function(t,e){if(!p.isArray(e))return b(t,e);for(var i=e.length,n=0;n<i;n++){var o=e[n];if(null==t||!r.call(t,o))return!1;t=t[o]}return!!i},p.noConflict=function(){return t._=e,this},p.identity=function(t){return t},p.constant=function(t){return function(){return t}},p.noop=function(){},p.property=function(e){return p.isArray(e)?function(t){return w(t,e)}:_(e)},p.propertyOf=function(e){return null==e?function(){}:function(t){return p.isArray(t)?w(e,t):e[t]}},p.matcher=p.matches=function(e){return e=p.extendOwn({},e),function(t){return p.isMatch(t,e)}},p.times=function(t,e,i){var n=Array(Math.max(0,t));e=f(e,i,1);for(var o=0;o<t;o++)n[o]=e(o);return n},p.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},p.now=Date.now||function(){return(new Date).getTime()};function H(e){function i(t){return e[t]}var t="(?:"+p.keys(e).join("|")+")",n=RegExp(t),o=RegExp(t,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(o,i):t}}var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=p.invert(W);p.escape=H(W),p.unescape=H(V),p.result=function(t,e,i){p.isArray(e)||(e=[e]);var n=e.length;if(!n)return p.isFunction(i)?i.call(t):i;for(var o=0;o<n;o++){var r=null==t?void 0:t[e[o]];void 0===r&&(r=i,o=n),t=p.isFunction(r)?r.call(t):r}return t};var z=0;p.uniqueId=function(t){var e=++z+"";return t?t+e:e},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function U(t){return"\\"+K[t]}var q=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g;p.template=function(r,t,e){!t&&e&&(t=e),t=p.defaults({},t,p.templateSettings);var i,n=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),s=0,a="__p+='";r.replace(n,function(t,e,i,n,o){return a+=r.slice(s,o).replace(G,U),s=o+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(a+="';\n"+n+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(t.variable||"obj","_",a)}catch(t){throw t.source=a,t}function o(t){return i.call(this,t,p)}var l=t.variable||"obj";return o.source="function("+l+"){\n"+a+"}",o},p.chain=function(t){var e=p(t);return e._chain=!0,e};function Y(t,e){return t._chain?p(e).chain():e}p.mixin=function(i){return p.each(p.functions(i),function(t){var e=p[t]=i[t];p.prototype[t]=function(){var t=[this._wrapped];return o.apply(t,arguments),Y(this,e.apply(p,t))}}),p},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var i=n[e];p.prototype[e]=function(){var t=this._wrapped;return i.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],Y(this,t)}}),p.each(["concat","join","slice"],function(t){var e=n[t];p.prototype[t]=function(){return Y(this,e.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return String(this._wrapped)},void 0===(X=function(){return p}.apply(J,[]))||(Z.exports=X)}()}).call(this,e(133),e(234)(t))},function(t,e,i){var n;self.MonacoEnvironment=(n={editorWorkerService:"editor.worker.js"},{getWorkerUrl:function(t,e){var i="string"==typeof window.__webpack_public_path__?window.__webpack_public_path__:"dist/";return(i?function(t){return t.replace(/\/$/,"")}(i)+"/":"")+n[e]}}),i(188),i(189),i(222),i(190),i(216),i(217),i(166),i(218),i(191),i(71),i(192),i(228),i(138),i(213),i(193),i(219),i(147),i(194),i(221),i(195),i(214),i(223),i(196),i(197),i(215),i(224),i(198),i(220),i(199),i(225),i(200),i(201),i(226),i(227),i(116),i(212),i(202),i(146),i(203),i(204),i(127),i(205),t.exports=i(325),i(206),i(207),i(208),i(209)},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n,o,r=i(1),s=i(51),a=i(39),l=i(4),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=(o=l.a,u(c,o),c.prototype.onclick=function(t,e){this._register(r.h(t,r.d.CLICK,function(t){return e(new a.b(t))}))},c.prototype.onmousedown=function(t,e){this._register(r.h(t,r.d.MOUSE_DOWN,function(t){return e(new a.b(t))}))},c.prototype.onmouseover=function(t,e){this._register(r.h(t,r.d.MOUSE_OVER,function(t){return e(new a.b(t))}))},c.prototype.onnonbubblingmouseout=function(t,e){this._register(r.i(t,function(t){return e(new a.b(t))}))},c.prototype.onkeydown=function(t,e){this._register(r.h(t,r.d.KEY_DOWN,function(t){return e(new s.a(t))}))},c.prototype.onkeyup=function(t,e){this._register(r.h(t,r.d.KEY_UP,function(t){return e(new s.a(t))}))},c.prototype.oninput=function(t,e){this._register(r.h(t,r.d.INPUT,e))},c.prototype.onblur=function(t,e){this._register(r.h(t,r.d.BLUR,e))},c.prototype.onfocus=function(t,e){this._register(r.h(t,r.d.FOCUS,e))},c.prototype.onchange=function(t,e){this._register(r.h(t,r.d.CHANGE,e))},c);function c(){return null!==o&&o.apply(this,arguments)||this}},,function(t,e,i){"use strict";i.d(e,"c",function(){return s}),i.d(e,"b",function(){return a}),i.d(e,"a",function(){return l}),i.d(e,"d",function(){return u}),i.d(e,"e",function(){return h});var r=i(87),n=i(11);function o(){}var s=new(o.prototype.clone=function(){return this},o.prototype.equals=function(t){return this===t},o),a="vs.editor.nullMode",l=new n.o(a,0);function u(t,e,i,n){return new r.b([new r.a(n,"",t)],i)}function h(t,e,i,n){var o=new Uint32Array(2);return o[0]=n,o[1]=(16384|t<<0|2<<23)>>>0,new r.c(o,null===i?s:i)}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var u=i(15),s=i(9),a=i(2),h=function(t,e,i){this.lineNumber=t,this.column=e,this.leftoverVisibleColumns=i},n=(l.left=function(t,e,i,n){return n>e.getLineMinColumn(i)?u.a.isLowSurrogate(e,i,n-2)?n-=2:n-=1:1<i&&(i-=1,n=e.getLineMaxColumn(i)),new h(i,n,0)},l.moveLeft=function(t,e,i,n,o){var r,s;if(i.hasSelection()&&!n)r=i.selection.startLineNumber,s=i.selection.startColumn;else{var a=l.left(t,e,i.position.lineNumber,i.position.column-(o-1));r=a.lineNumber,s=a.column}return i.move(n,r,s,0)},l.right=function(t,e,i,n){return n<e.getLineMaxColumn(i)?u.a.isHighSurrogate(e,i,n-1)?n+=2:n+=1:i<e.getLineCount()&&(i+=1,n=e.getLineMinColumn(i)),new h(i,n,0)},l.moveRight=function(t,e,i,n,o){var r,s;if(i.hasSelection()&&!n)r=i.selection.endLineNumber,s=i.selection.endColumn;else{var a=l.right(t,e,i.position.lineNumber,i.position.column+(o-1));r=a.lineNumber,s=a.column}return i.move(n,r,s,0)},l.down=function(t,e,i,n,o,r,s){var a=u.a.visibleColumnFromColumn(e.getLineContent(i),n,t.tabSize)+o;i+=r;var l=e.getLineCount();return l<i?(i=l,s?n=e.getLineMaxColumn(i):(n=Math.min(e.getLineMaxColumn(i),n),u.a.isInsideSurrogatePair(e,i,n)&&(n-=1))):(n=u.a.columnFromVisibleColumn2(t,e,i,a),u.a.isInsideSurrogatePair(e,i,n)&&(n-=1)),o=a-u.a.visibleColumnFromColumn(e.getLineContent(i),n,t.tabSize),new h(i,n,o)},l.moveDown=function(t,e,i,n,o){var r,s;s=i.hasSelection()&&!n?(r=i.selection.endLineNumber,i.selection.endColumn):(r=i.position.lineNumber,i.position.column);var a=l.down(t,e,r,s,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)},l.translateDown=function(t,e,i){var n=i.selection,o=l.down(t,e,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=l.down(t,e,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new u.f(new a.a(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new s.a(r.lineNumber,r.column),r.leftoverVisibleColumns)},l.up=function(t,e,i,n,o,r,s){var a=u.a.visibleColumnFromColumn(e.getLineContent(i),n,t.tabSize)+o;return(i-=r)<1?(i=1,s?n=e.getLineMinColumn(i):(n=Math.min(e.getLineMaxColumn(i),n),u.a.isInsideSurrogatePair(e,i,n)&&(n-=1))):(n=u.a.columnFromVisibleColumn2(t,e,i,a),u.a.isInsideSurrogatePair(e,i,n)&&(n-=1)),o=a-u.a.visibleColumnFromColumn(e.getLineContent(i),n,t.tabSize),new h(i,n,o)},l.moveUp=function(t,e,i,n,o){var r,s;s=i.hasSelection()&&!n?(r=i.selection.startLineNumber,i.selection.startColumn):(r=i.position.lineNumber,i.position.column);var a=l.up(t,e,r,s,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)},l.translateUp=function(t,e,i){var n=i.selection,o=l.up(t,e,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=l.up(t,e,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new u.f(new a.a(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new s.a(r.lineNumber,r.column),r.leftoverVisibleColumns)},l.moveToBeginningOfLine=function(t,e,i,n){var o,r=i.position.lineNumber,s=e.getLineMinColumn(r),a=e.getLineFirstNonWhitespaceColumn(r)||s;return o=i.position.column===a?s:a,i.move(n,r,o,0)},l.moveToEndOfLine=function(t,e,i,n){var o=i.position.lineNumber,r=e.getLineMaxColumn(o);return i.move(n,o,r,0)},l.moveToBeginningOfBuffer=function(t,e,i,n){return i.move(n,1,1,0)},l.moveToEndOfBuffer=function(t,e,i,n){var o=e.getLineCount(),r=e.getLineMaxColumn(o);return i.move(n,o,r,0)},l);function l(){}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("keybindingService")},function(t,e,i){"use strict";i.d(e,"a",function(){return m}),i.d(e,"b",function(){return h});var n,m,o,v=i(21),r=i(4),g=i(1),s=i(95),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s};(o=m=m||{}).Tap="-monaco-gesturetap",o.Change="-monaco-gesturechange",o.Start="-monaco-gesturestart",o.End="-monaco-gesturesend",o.Contextmenu="-monaco-gesturecontextmenu";var u,h=(u=r.a,a(y,u),y.addTarget=function(t){y.isTouchDevice()&&(y.INSTANCE||(y.INSTANCE=new y),y.INSTANCE.targets.push(t))},y.isTouchDevice=function(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints},y.prototype.dispose=function(){this.handle&&(this.handle.dispose(),this.handle=null),u.prototype.dispose.call(this)},y.prototype.onTouchStart=function(t){var e=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var i=0,n=t.targetTouches.length;i<n;i++){var o=t.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:e,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[e],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};var r=this.newGestureEvent(m.Start,o.target);r.pageX=o.pageX,r.pageY=o.pageY,this.dispatchEvent(r)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},y.prototype.onTouchEnd=function(d){for(var p=Date.now(),f=Object.keys(this.activeTouches).length,t=function(t,e){var i=d.changedTouches.item(t);if(!g.activeTouches.hasOwnProperty(String(i.identifier)))return console.warn("move of an UNKNOWN touch",i),"continue";var n=g.activeTouches[i.identifier],o=Date.now()-n.initialTimeStamp;if(o<y.HOLD_DELAY&&Math.abs(n.initialPageX-v.n(n.rollingPageX))<30&&Math.abs(n.initialPageY-v.n(n.rollingPageY))<30)(r=g.newGestureEvent(m.Tap,n.initialTarget)).pageX=v.n(n.rollingPageX),r.pageY=v.n(n.rollingPageY),g.dispatchEvent(r);else if(y.HOLD_DELAY<=o&&Math.abs(n.initialPageX-v.n(n.rollingPageX))<30&&Math.abs(n.initialPageY-v.n(n.rollingPageY))<30){var r;(r=g.newGestureEvent(m.Contextmenu,n.initialTarget)).pageX=v.n(n.rollingPageX),r.pageY=v.n(n.rollingPageY),g.dispatchEvent(r)}else if(1===f){var s=v.n(n.rollingPageX),a=v.n(n.rollingPageY),l=v.n(n.rollingTimestamps)-n.rollingTimestamps[0],u=s-n.rollingPageX[0],h=a-n.rollingPageY[0],c=g.targets.filter(function(t){return n.initialTarget instanceof Node&&t.contains(n.initialTarget)});g.inertia(c,p,Math.abs(u)/l,0<u?1:-1,s,Math.abs(h)/l,0<h?1:-1,a)}g.dispatchEvent(g.newGestureEvent(m.End,n.initialTarget)),delete g.activeTouches[i.identifier]},g=this,e=0,i=d.changedTouches.length;e<i;e++)t(e);this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)},y.prototype.newGestureEvent=function(t,e){var i=document.createEvent("CustomEvent");return i.initEvent(t,!1,!0),i.initialTarget=e,i},y.prototype.dispatchEvent=function(e){var i=this;this.targets.forEach(function(t){e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),i.dispatched=!0)})},y.prototype.inertia=function(s,a,l,u,h,c,d,p){var f=this;this.handle=g.N(function(){var t=Date.now(),e=t-a,i=0,n=0,o=!0;0<(l+=y.SCROLL_FRICTION*e)&&(o=!1,i=u*l*e),0<(c+=y.SCROLL_FRICTION*e)&&(o=!1,n=d*c*e);var r=f.newGestureEvent(m.Change);r.translationX=i,r.translationY=n,s.forEach(function(t){return t.dispatchEvent(r)}),o||f.inertia(s,t,l,u,h+i,c,d,p+n)})},y.prototype.onTouchMove=function(t){for(var e=Date.now(),i=0,n=t.changedTouches.length;i<n;i++){var o=t.changedTouches.item(i);if(this.activeTouches.hasOwnProperty(String(o.identifier))){var r=this.activeTouches[o.identifier],s=this.newGestureEvent(m.Change,r.initialTarget);s.translationX=o.pageX-v.n(r.rollingPageX),s.translationY=o.pageY-v.n(r.rollingPageY),s.pageX=o.pageX,s.pageY=o.pageY,this.dispatchEvent(s),3<r.rollingPageX.length&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(o.pageX),r.rollingPageY.push(o.pageY),r.rollingTimestamps.push(e)}else console.warn("end of an UNKNOWN touch",o)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)},y.SCROLL_FRICTION=-.005,y.HOLD_DELAY=700,l([s.a],y,"isTouchDevice",null),y);function y(){var e=u.call(this)||this;return e.activeTouches={},e.handle=null,e.targets=[],e._register(g.h(document,"touchstart",function(t){return e.onTouchStart(t)})),e._register(g.h(document,"touchend",function(t){return e.onTouchEnd(t)})),e._register(g.h(document,"touchmove",function(t){return e.onTouchMove(t)})),e}},function(t,m,v){"use strict";(function(t,e){v.d(m,"d",function(){return i}),v.d(m,"i",function(){return n}),v.d(m,"f",function(){return r}),v.d(m,"k",function(){return s}),v.d(m,"j",function(){return a}),v.d(m,"e",function(){return u}),v.d(m,"c",function(){return h}),v.d(m,"b",function(){return c}),v.d(m,"a",function(){return d}),v.d(m,"g",function(){return p}),v.d(m,"h",function(){return f});var l=v(84);function i(t,e){return t.require(e)}function n(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}var o={};function r(){return n()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function s(){var t=r(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var i=new Uint16Array(8);e.getRandomValues(i),i[3]=4095&i[3]|16384,i[4]=16383&i[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(i[0])+n(i[1])+n(i[2])+n(i[3])+n(i[4])+n(i[5])+n(i[6])+n(i[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function a(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var i=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+i+n}}function u(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function h(t){var e=r();if(!("console"in e))return t();var i=e.console,n={};["debug","info","warn","error","log","assert"].forEach(function(t){t in e.console&&i[t].__sentry__&&(n[t]=i[t].__sentry_wrapped__,i[t]=i[t].__sentry_original__)});var o=t();return Object.keys(n).forEach(function(t){i[t]=n[t]}),o}function c(t,e,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||i||"Error"}function d(e,i){void 0===i&&(i={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(i).forEach(function(t){e.exception.values[0].mechanism[t]=i[t]})}catch(t){}}function p(){try{return document.location.href}catch(t){return""}}function f(t){try{for(var e=t,i=[],n=0,o=0,r=" > ".length,s=void 0;e&&n++<5&&!("html"===(s=g(e))||1<n&&80<=o+i.length*r+s.length);)i.push(s),o+=s.length,e=e.parentNode;return i.reverse().join(" > ")}catch(t){return"<unknown>"}}function g(t){var e,i,n,o,r,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),(e=t.className)&&Object(l.j)(e))for(i=e.split(/\s+/),r=0;r<i.length;r++)s.push("."+i[r]);var a=["type","name","title","alt"];for(r=0;r<a.length;r++)n=a[r],(o=t.getAttribute(n))&&s.push("["+n+'="'+o+'"]');return s.join("")}}).call(this,v(134),v(133))},function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return n});var n,o,r=i(23),f=i(15),u=i(63),s=i(109),g=i(9),m=i(2),a=(l.addCursorDown=function(t,e,i){for(var n=[],o=0,r=0,s=e.length;r<s;r++){var a=e[r];n[o++]=new f.d(a.modelState,a.viewState),n[o++]=i?f.d.fromModelState(u.a.translateDown(t.config,t.model,a.modelState)):f.d.fromViewState(u.a.translateDown(t.config,t.viewModel,a.viewState))}return n},l.addCursorUp=function(t,e,i){for(var n=[],o=0,r=0,s=e.length;r<s;r++){var a=e[r];n[o++]=new f.d(a.modelState,a.viewState),n[o++]=i?f.d.fromModelState(u.a.translateUp(t.config,t.model,a.modelState)):f.d.fromViewState(u.a.translateUp(t.config,t.viewModel,a.viewState))}return n},l.moveToBeginningOfLine=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o];n[o]=this._moveToLineStart(t,s,i)}return n},l._moveToLineStart=function(t,e,i){var n=e.viewState.position.column,o=n===e.modelState.position.column,r=e.viewState.position.lineNumber,s=t.viewModel.getLineFirstNonWhitespaceColumn(r);return o||n===s?this._moveToLineStartByModel(t,e,i):this._moveToLineStartByView(t,e,i)},l._moveToLineStartByView=function(t,e,i){return f.d.fromViewState(u.a.moveToBeginningOfLine(t.config,t.viewModel,e.viewState,i))},l._moveToLineStartByModel=function(t,e,i){return f.d.fromModelState(u.a.moveToBeginningOfLine(t.config,t.model,e.modelState,i))},l.moveToEndOfLine=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o];n[o]=this._moveToLineEnd(t,s,i)}return n},l._moveToLineEnd=function(t,e,i){var n=e.viewState.position,o=t.viewModel.getLineMaxColumn(n.lineNumber),r=n.column===o,s=e.modelState.position,a=t.model.getLineMaxColumn(s.lineNumber),l=o-n.column==a-s.column;return r||l?this._moveToLineEndByModel(t,e,i):this._moveToLineEndByView(t,e,i)},l._moveToLineEndByView=function(t,e,i){return f.d.fromViewState(u.a.moveToEndOfLine(t.config,t.viewModel,e.viewState,i))},l._moveToLineEndByModel=function(t,e,i){return f.d.fromModelState(u.a.moveToEndOfLine(t.config,t.model,e.modelState,i))},l.expandLineSelection=function(t,e){for(var i=[],n=0,o=e.length;n<o;n++){var r=e[n].viewState.selection,s=r.startLineNumber,a=t.viewModel.getLineCount(),l=r.endLineNumber,u=void 0;u=l===a?t.viewModel.getLineMaxColumn(a):(l++,1),i[n]=f.d.fromViewState(new f.f(new m.a(s,1,s,1),0,new g.a(l,u),0))}return i},l.moveToBeginningOfBuffer=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o];n[o]=f.d.fromModelState(u.a.moveToBeginningOfBuffer(t.config,t.model,s.modelState,i))}return n},l.moveToEndOfBuffer=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o];n[o]=f.d.fromModelState(u.a.moveToEndOfBuffer(t.config,t.model,s.modelState,i))}return n},l.selectAll=function(t,e){var i=t.model.getLineCount(),n=t.model.getLineMaxColumn(i);return f.d.fromModelState(new f.f(new m.a(1,1,1,1),0,new g.a(i,n),0))},l.line=function(t,e,i,n,o){var r=t.model.validatePosition(n),s=o?t.validateViewPosition(new g.a(o.lineNumber,o.column),r):t.convertModelPositionToViewPosition(r);if(!i||!e.modelState.hasSelection()){var a=t.model.getLineCount(),l=r.lineNumber+1,u=1;return a<l&&(l=a,u=t.model.getLineMaxColumn(l)),f.d.fromModelState(new f.f(new m.a(r.lineNumber,1,l,u),0,new g.a(l,u),0))}var h=e.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<h)return f.d.fromViewState(e.viewState.move(e.modelState.hasSelection(),s.lineNumber,1,0));if(r.lineNumber>h){a=t.viewModel.getLineCount();var c=s.lineNumber+1,d=1;return a<c&&(c=a,d=t.viewModel.getLineMaxColumn(c)),f.d.fromViewState(e.viewState.move(e.modelState.hasSelection(),c,d,0))}var p=e.modelState.selectionStart.getEndPosition();return f.d.fromModelState(e.modelState.move(e.modelState.hasSelection(),p.lineNumber,p.column,0))},l.word=function(t,e,i,n){var o=t.model.validatePosition(n);return f.d.fromModelState(s.a.word(t.config,t.model,e.modelState,i,o))},l.cancelSelection=function(t,e){if(!e.modelState.hasSelection())return new f.d(e.modelState,e.viewState);var i=e.viewState.position.lineNumber,n=e.viewState.position.column;return f.d.fromViewState(new f.f(new m.a(i,n,i,n),0,new g.a(i,n),0))},l.moveTo=function(t,e,i,n,o){var r=t.model.validatePosition(n),s=o?t.validateViewPosition(new g.a(o.lineNumber,o.column),r):t.convertModelPositionToViewPosition(r);return f.d.fromViewState(e.viewState.move(i,s.lineNumber,s.column,0))},l.move=function(t,e,i){var n=i.select,o=i.value;switch(i.direction){case 0:return 4===i.unit?this._moveHalfLineLeft(t,e,n):this._moveLeft(t,e,n,o);case 1:return 4===i.unit?this._moveHalfLineRight(t,e,n):this._moveRight(t,e,n,o);case 2:return 2===i.unit?this._moveUpByViewLines(t,e,n,o):this._moveUpByModelLines(t,e,n,o);case 3:return 2===i.unit?this._moveDownByViewLines(t,e,n,o):this._moveDownByModelLines(t,e,n,o);case 4:return this._moveToViewMinColumn(t,e,n);case 5:return this._moveToViewFirstNonWhitespaceColumn(t,e,n);case 6:return this._moveToViewCenterColumn(t,e,n);case 7:return this._moveToViewMaxColumn(t,e,n);case 8:return this._moveToViewLastNonWhitespaceColumn(t,e,n);case 9:var r=e[0],s=t.getCompletelyVisibleModelRange(),a=this._firstLineNumberInRange(t.model,s,o),l=t.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(t,r,n,a,l)];case 11:return r=e[0],s=t.getCompletelyVisibleModelRange(),a=this._lastLineNumberInRange(t.model,s,o),l=t.model.getLineFirstNonWhitespaceColumn(a),[this._moveToModelPosition(t,r,n,a,l)];case 10:return r=e[0],s=t.getCompletelyVisibleModelRange(),a=Math.round((s.startLineNumber+s.endLineNumber)/2),l=t.model.getLineFirstNonWhitespaceColumn(a),[this._moveToModelPosition(t,r,n,a,l)];case 12:for(var u=t.getCompletelyVisibleViewRange(),h=[],c=0,d=e.length;c<d;c++)r=e[c],h[c]=this.findPositionInViewportIfOutside(t,r,u,n);return h}return null},l.findPositionInViewportIfOutside=function(t,e,i,n){var o=e.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new f.d(e.modelState,e.viewState);o>i.endLineNumber-1&&(o=i.endLineNumber-1),o<i.startLineNumber&&(o=i.startLineNumber);var r=t.viewModel.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(t,e,n,o,r)},l._firstLineNumberInRange=function(t,e,i){var n=e.startLineNumber;return e.startColumn!==t.getLineMinColumn(n)&&n++,Math.min(e.endLineNumber,n+i-1)},l._lastLineNumberInRange=function(t,e,i){var n=e.startLineNumber;return e.startColumn!==t.getLineMinColumn(n)&&n++,Math.max(n,e.endLineNumber-i+1)},l._moveLeft=function(t,e,i,n){for(var o=[],r=0,s=e.length;r<s;r++){var a=e[r],l=u.a.moveLeft(t.config,t.viewModel,a.viewState,i,n);1===n&&l.position.lineNumber!==a.viewState.position.lineNumber&&t.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l.position).lineNumber===a.modelState.position.lineNumber&&(l=u.a.moveLeft(t.config,t.viewModel,l,i,1)),o[r]=f.d.fromViewState(l)}return o},l._moveHalfLineLeft=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=s.viewState.position.lineNumber,l=Math.round(t.viewModel.getLineContent(a).length/2);n[o]=f.d.fromViewState(u.a.moveLeft(t.config,t.viewModel,s.viewState,i,l))}return n},l._moveRight=function(t,e,i,n){for(var o=[],r=0,s=e.length;r<s;r++){var a=e[r],l=u.a.moveRight(t.config,t.viewModel,a.viewState,i,n);1===n&&l.position.lineNumber!==a.viewState.position.lineNumber&&t.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l.position).lineNumber===a.modelState.position.lineNumber&&(l=u.a.moveRight(t.config,t.viewModel,l,i,1)),o[r]=f.d.fromViewState(l)}return o},l._moveHalfLineRight=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=s.viewState.position.lineNumber,l=Math.round(t.viewModel.getLineContent(a).length/2);n[o]=f.d.fromViewState(u.a.moveRight(t.config,t.viewModel,s.viewState,i,l))}return n},l._moveDownByViewLines=function(t,e,i,n){for(var o=[],r=0,s=e.length;r<s;r++){var a=e[r];o[r]=f.d.fromViewState(u.a.moveDown(t.config,t.viewModel,a.viewState,i,n))}return o},l._moveDownByModelLines=function(t,e,i,n){for(var o=[],r=0,s=e.length;r<s;r++){var a=e[r];o[r]=f.d.fromModelState(u.a.moveDown(t.config,t.model,a.modelState,i,n))}return o},l._moveUpByViewLines=function(t,e,i,n){for(var o=[],r=0,s=e.length;r<s;r++){var a=e[r];o[r]=f.d.fromViewState(u.a.moveUp(t.config,t.viewModel,a.viewState,i,n))}return o},l._moveUpByModelLines=function(t,e,i,n){for(var o=[],r=0,s=e.length;r<s;r++){var a=e[r];o[r]=f.d.fromModelState(u.a.moveUp(t.config,t.model,a.modelState,i,n))}return o},l._moveToViewPosition=function(t,e,i,n,o){return f.d.fromViewState(e.viewState.move(i,n,o,0))},l._moveToModelPosition=function(t,e,i,n,o){return f.d.fromModelState(e.modelState.move(i,n,o,0))},l._moveToViewMinColumn=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=s.viewState.position.lineNumber,l=t.viewModel.getLineMinColumn(a);n[o]=this._moveToViewPosition(t,s,i,a,l)}return n},l._moveToViewFirstNonWhitespaceColumn=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=s.viewState.position.lineNumber,l=t.viewModel.getLineFirstNonWhitespaceColumn(a);n[o]=this._moveToViewPosition(t,s,i,a,l)}return n},l._moveToViewCenterColumn=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=s.viewState.position.lineNumber,l=Math.round((t.viewModel.getLineMaxColumn(a)+t.viewModel.getLineMinColumn(a))/2);n[o]=this._moveToViewPosition(t,s,i,a,l)}return n},l._moveToViewMaxColumn=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=s.viewState.position.lineNumber,l=t.viewModel.getLineMaxColumn(a);n[o]=this._moveToViewPosition(t,s,i,a,l)}return n},l._moveToViewLastNonWhitespaceColumn=function(t,e,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=s.viewState.position.lineNumber,l=t.viewModel.getLineLastNonWhitespaceColumn(a);n[o]=this._moveToViewPosition(t,s,i,a,l)}return n},l);function l(){}(o=n=n||{}).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(t){if(!r.g(t))return!1;var e=t;return!(!r.h(e.to)||!r.i(e.select)&&!r.c(e.select)||!r.i(e.by)&&!r.h(e.by)||!r.i(e.value)&&!r.f(e.value))}}]},o.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},o.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},o.parse=function(t){if(!t.to)return null;var e;switch(t.to){case o.RawDirection.Left:e=0;break;case o.RawDirection.Right:e=1;break;case o.RawDirection.Up:e=2;break;case o.RawDirection.Down:e=3;break;case o.RawDirection.WrappedLineStart:e=4;break;case o.RawDirection.WrappedLineFirstNonWhitespaceCharacter:e=5;break;case o.RawDirection.WrappedLineColumnCenter:e=6;break;case o.RawDirection.WrappedLineEnd:e=7;break;case o.RawDirection.WrappedLineLastNonWhitespaceCharacter:e=8;break;case o.RawDirection.ViewPortTop:e=9;break;case o.RawDirection.ViewPortBottom:e=11;break;case o.RawDirection.ViewPortCenter:e=10;break;case o.RawDirection.ViewPortIfOutside:e=12;break;default:return null}var i=0;switch(t.by){case o.RawUnit.Line:i=1;break;case o.RawUnit.WrappedLine:i=2;break;case o.RawUnit.Character:i=3;break;case o.RawUnit.HalfLine:i=4}return{direction:e,unit:i,select:!!t.select,value:t.value||1}}},function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return T}),i.d(e,"c",function(){return s}),i.d(e,"d",function(){return l});var N=i(8),n=i(151),y=i(121),k=function(t,e){this.endIndex=t,this.type=e},o=(r.prototype.equals=function(t){return this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineContent===t.lineContent&&this.continuesWithWrappedLine===t.continuesWithWrappedLine&&this.isBasicASCII===t.isBasicASCII&&this.containsRTL===t.containsRTL&&this.fauxIndentLength===t.fauxIndentLength&&this.tabSize===t.tabSize&&this.spaceWidth===t.spaceWidth&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.fontLigatures===t.fontLigatures&&y.a.equalsArr(this.lineDecorations,t.lineDecorations)&&this.lineTokens.equals(t.lineTokens)},r);function r(t,e,i,n,o,r,s,a,l,u,h,c,d,p,f){this.useMonospaceOptimizations=t,this.canUseHalfwidthRightwardsArrow=e,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=r,this.fauxIndentLength=s,this.lineTokens=a,this.lineDecorations=l,this.tabSize=u,this.spaceWidth=h,this.stopRenderingLineAfter=c,this.renderWhitespace="all"===d?2:"boundary"===d?1:0,this.renderControlCharacters=p,this.fontLigatures=f}var T=(c.getPartIndex=function(t){return(4294901760&t)>>>16},c.getCharIndex=function(t){return(65535&t)>>>0},c.prototype.setPartData=function(t,e,i,n){var o=(e<<16|i<<0)>>>0;this._data[t]=o,this._absoluteOffsets[t]=n+i},c.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets},c.prototype.charOffsetToPartData=function(t){return 0===this.length?0:t<0?this._data[0]:t>=this.length?this._data[this.length-1]:this._data[t]},c.prototype.partDataToCharOffset=function(t,e,i){if(0===this.length)return 0;for(var n=(t<<16|i<<0)>>>0,o=0,r=this.length-1;o+1<r;){var s=o+r>>>1,a=this._data[s];if(a===n)return s;n<a?r=s:o=s}if(o===r)return o;var l=this._data[o],u=this._data[r];if(l===n)return o;if(u===n)return r;var h=c.getPartIndex(l);return i-c.getCharIndex(l)<=(h!==c.getPartIndex(u)?e:c.getCharIndex(u))-i?o:r},c);function c(t,e){this.length=t,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}var M=function(t,e,i){this.characterMapping=t,this.containsRTL=e,this.containsForeignElements=i};function s(t,e){if(0!==t.lineContent.length)return function(t,e){var i=t.fontIsMonospace,n=t.canUseHalfwidthRightwardsArrow,o=t.containsForeignElements,r=t.lineContent,s=t.len,a=t.isOverflowing,l=t.parts,u=t.tabSize,h=t.containsRTL,c=t.spaceWidth,d=t.renderWhitespace,p=t.renderControlCharacters,f=new T(s+1,l.length),g=0,m=0,v=0,y=0,_=0;e.appendASCIIString("<span>");for(var b=0,w=l.length;b<w;b++){_+=y;var C=l[b],S=C.endIndex,x=C.type,k=0!==d&&0<=x.indexOf("vs-whitespace");if(v=0,e.appendASCIIString('<span class="'),e.appendASCIIString(x),e.appendASCII(34),k){for(var O=0,E=g,L=m;E<S;E++){if(9===(D=r.charCodeAt(E)))L+=(I=u-(E+L)%u)-1,O+=I;else O++}if(!i)!("vs-whitespace"===x)&&o||(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(c*O)),e.appendASCIIString('px"'));for(e.appendASCII(62);g<S;g++){if(f.setPartData(g,b,v,_),9===(D=r.charCodeAt(g)))for(m+=(I=u-(g+m)%u)-1,v+=I-1,0<I&&(!n||1<I?e.write1(8594):e.write1(65515),I--);0<I;)e.write1(160),I--;else e.write1(183);v++}y=O}else{O=0;for(h&&e.appendASCIIString(' dir="ltr"'),e.appendASCII(62);g<S;g++){var D;switch(f.setPartData(g,b,v,_),D=r.charCodeAt(g)){case 9:var I;for(m+=(I=u-(g+m)%u)-1,v+=I-1;0<I;)e.write1(160),O++,I--;break;case 32:e.write1(160),O++;break;case 60:e.appendASCIIString("&lt;"),O++;break;case 62:e.appendASCIIString("&gt;"),O++;break;case 38:e.appendASCIIString("&amp;"),O++;break;case 0:e.appendASCIIString("&#00;"),O++;break;case 65279:case 8232:e.write1(65533),O++;break;default:N.t(D)&&m++,p&&D<32?e.write1(9216+D):e.write1(D),O++}v++}y=O}e.appendASCIIString("</span>")}f.setPartData(s,l.length-1,v,_),a&&e.appendASCIIString("<span>&hellip;</span>");return e.appendASCIIString("</span>"),new M(f,h,o)}(function(t){var e,i,n=t.useMonospaceOptimizations,o=t.lineContent;i=-1!==t.stopRenderingLineAfter&&t.stopRenderingLineAfter<o.length?(e=!0,t.stopRenderingLineAfter):(e=!1,o.length);var r=function(t,e,i){var n=[],o=0;0<e&&(n[o++]=new k(e,""));for(var r=0,s=t.getCount();r<s;r++){var a=t.getEndOffset(r);if(!(a<=e)){var l=t.getClassName(r);if(i<=a){n[o++]=new k(i,l);break}n[o++]=new k(a,l)}}return n}(t.lineTokens,t.fauxIndentLength,i);2!==t.renderWhitespace&&1!==t.renderWhitespace||(r=function(t,e,i,n,o,r,s,a){var l,u=[],h=0,c=0,d=n[c].type,p=n[c].endIndex,f=n.length,g=N.o(t);l=-1===g?g=e:N.y(t);for(var m=0,v=0;v<o;v++){9===(_=t.charCodeAt(v))?m=r:N.t(_)?m+=2:m++}m%=r;var y=!1;for(v=o;v<e;v++){var _=t.charCodeAt(v),b=void 0;if(v<g||l<v)b=!0;else if(9===_)b=!0;else if(32===_)if(a)if(y)b=!0;else{var w=v+1<e?t.charCodeAt(v+1):0;b=32===w||9===w}else b=!0;else b=!1;y?(!b||!s&&r<=m)&&(u[h++]=new k(v,"vs-whitespace"),m%=r):(v===p||b&&o<v)&&(u[h++]=new k(v,d),m%=r),9===_?m=r:N.t(_)?m+=2:m++,y=b,v===p&&++c<f&&(d=n[c].type,p=n[c].endIndex)}var C=!1;if(y)if(i&&a){var S=0<e?t.charCodeAt(e-1):0,x=1<e?t.charCodeAt(e-2):0;32===S&&32!==x&&9!==x||(C=!0)}else C=!0;return u[h++]=new k(e,C?"vs-whitespace":d),u}(o,i,t.continuesWithWrappedLine,r,t.fauxIndentLength,t.tabSize,n,1===t.renderWhitespace));var s=0;if(0<t.lineDecorations.length){for(var a=0,l=t.lineDecorations.length;a<l;a++){var u=t.lineDecorations[a];3===u.type?s|=1:1===u.type?s|=1:2===u.type&&(s|=2)}r=function(t,e,i,n){n.sort(y.a.compare);for(var o=y.b.normalize(t,n),r=o.length,s=0,a=[],l=0,u=0,h=0,c=i.length;h<c;h++){for(var d=i[h],p=d.endIndex,f=d.type;s<r&&o[s].startOffset<p;){var g=o[s];if(g.startOffset>u&&(u=g.startOffset,a[l++]=new k(u,f)),!(g.endOffset+1<=p)){u=p,a[l++]=new k(u,f+" "+g.className);break}u=g.endOffset+1,a[l++]=new k(u,f+" "+g.className),s++}u<p&&(u=p,a[l++]=new k(u,f))}var m=i[i.length-1].endIndex;if(s<r&&o[s].startOffset===m){for(var v=[];s<r&&o[s].startOffset===m;)v.push(o[s].className),s++;a[l++]=new k(u,v.join(" "))}return a}(o,0,r,t.lineDecorations)}t.containsRTL||(r=function(t,e,i){var n=0,o=[],r=0;if(i)for(var s=0,a=e.length;s<a;s++){var l=(p=e[s]).endIndex;if(n+50<l){for(var u=p.type,h=-1,c=n,d=n;d<l;d++)32===t.charCodeAt(d)&&(h=d),-1!==h&&50<=d-c&&(o[r++]=new k(h+1,u),c=h+1,h=-1);c!==l&&(o[r++]=new k(l,u))}else o[r++]=p;n=l}else for(s=0,a=e.length;s<a;s++){var p=e[s],f=(l=p.endIndex)-n;if(50<f){u=p.type;var g=Math.ceil(f/50);for(d=1;d<g;d++){var m=n+50*d;o[r++]=new k(m,u)}o[r++]=new k(l,u)}else o[r++]=p;n=l}return o}(o,r,!t.isBasicASCII||t.fontLigatures));return new h(n,t.canUseHalfwidthRightwardsArrow,o,i,e,r,s,t.tabSize,t.containsRTL,t.spaceWidth,t.renderWhitespace,t.renderControlCharacters)}(t),e);var i=0,n="<span><span> </span></span>";if(0<t.lineDecorations.length){for(var o=[],r=0,s=t.lineDecorations.length;r<s;r++){var a=t.lineDecorations[r];1===a.type&&(o.push(t.lineDecorations[r].className),i|=1),2===a.type&&(o.push(t.lineDecorations[r].className),i|=2)}0!==i&&(n='<span><span class="'+o.join(" ")+'"></span></span>')}return e.appendASCIIString(n),new M(new T(0,0),!1,i)}var a=function(t,e,i,n){this.characterMapping=t,this.html=e,this.containsRTL=i,this.containsForeignElements=n};function l(t){var e=Object(n.a)(1e4),i=s(t,e);return new a(i.characterMapping,e.build(),i.containsRTL,i.containsForeignElements)}var h=function(t,e,i,n,o,r,s,a,l,u,h,c){this.fontIsMonospace=t,this.canUseHalfwidthRightwardsArrow=e,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=r,this.containsForeignElements=s,this.tabSize=a,this.containsRTL=l,this.spaceWidth=u,this.renderWhitespace=h,this.renderControlCharacters=c}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return l}),i.d(e,"d",function(){return h});var n=i(21),o=(r.prototype.appendText=function(t){return this.value+=t.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this},r.prototype.appendMarkdown=function(t){return this.value+=t,this},r.prototype.appendCodeblock=function(t,e){return this.value+="\n```",this.value+=t,this.value+="\n",this.value+=e,this.value+="\n```\n",this},r);function r(t){void 0===t&&(t=""),this.value=t}function s(t){return a(t)?!t.value:!Array.isArray(t)||t.every(s)}function a(t){return t instanceof o||!(!t||"object"!=typeof t)&&("string"==typeof t.value&&("boolean"==typeof t.isTrusted||void 0===t.isTrusted))}function l(t,e){return!t&&!e||!(!t||!e)&&(Array.isArray(t)&&Array.isArray(e)?Object(n.e)(t,e,u):!(!a(t)||!a(e))&&u(t,e))}function u(t,e){return t===e||!(!t||!e)&&(t.value===e.value&&t.isTrusted===e.isTrusted)}function h(t){return t?t.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):t}},function(t,e,i){"use strict";var O=i(22),n=i(5),o=i(4),r=i(14),s=(a.prototype.fulfill=function(t){this.width=t},a);function a(t,e){this.chr=t,this.type=e,this.width=0}var E=(h.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},h.prototype._createDomElements=function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";var e=document.createElement("div");e.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),e.style.fontWeight=this._bareFontInfo.fontWeight,e.style.fontSize=this._bareFontInfo.fontSize+"px",e.style.lineHeight=this._bareFontInfo.lineHeight+"px",e.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(e);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);var n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",n.style.fontStyle="italic",t.appendChild(n);for(var o=[],r=0,s=this._requests.length;r<s;r++){var a=this._requests[r],l=void 0;0===a.type&&(l=e),2===a.type&&(l=i),1===a.type&&(l=n),l.appendChild(document.createElement("br"));var u=document.createElement("span");h._render(u,a),l.appendChild(u),o[r]=u}this._container=t,this._testElements=o},h._render=function(t,e){if(" "===e.chr){for(var i="&nbsp;",n=0;n<8;n++)i+=i;t.innerHTML=i}else{var o=e.chr;for(n=0;n<8;n++)o+=o;t.textContent=o}},h.prototype._readFromDomElements=function(){for(var t=0,e=this._requests.length;t<e;t++){var i=this._requests[t],n=this._testElements[t];i.fulfill(n.offsetWidth/256)}},h);function h(t,e){this._bareFontInfo=t,this._requests=e,this._container=null,this._testElements=null}var l,u,c=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=(u=o.a,c(p,u),p.prototype.dispose=function(){this.stopObserving(),u.prototype.dispose.call(this)},p.prototype.getWidth=function(){return this.width},p.prototype.getHeight=function(){return this.height},p.prototype.startObserving=function(){var t=this;-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(function(){return t.measureReferenceDomElement(!0)},100))},p.prototype.stopObserving=function(){-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},p.prototype.observe=function(t){this.measureReferenceDomElement(!0,t)},p.prototype.measureReferenceDomElement=function(t,e){var i=0,n=0;e?(i=e.width,n=e.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this.width===i&&this.height===n||(this.width=i,this.height=n,t&&this.changeCallback())},p);function p(t,e){var i=u.call(this)||this;return i.referenceDomElement=t,i.changeCallback=e,i.measureReferenceDomElementToken=-1,i.width=-1,i.height=-1,i.measureReferenceDomElement(!1),i}var f=i(128),L=i(129);i.d(e,"a",function(){return S});var g,m=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),v=(y.prototype.has=function(t){var e=t.getId();return!!this._values[e]},y.prototype.get=function(t){var e=t.getId();return this._values[e]},y.prototype.put=function(t,e){var i=t.getId();this._keys[i]=t,this._values[i]=e},y.prototype.remove=function(t){var e=t.getId();delete this._keys[e],delete this._values[e]},y.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._values[t]})},y);function y(){this._keys=Object.create(null),this._values=Object.create(null)}var _,b=(_=o.a,m(w,_),w.prototype.dispose=function(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),_.prototype.dispose.call(this)},w.prototype._writeToCache=function(t,e){var i=this;this._cache.put(t,e),e.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(function(){i._evictUntrustedReadingsTimeout=-1,i._evictUntrustedReadings()},5e3))},w.prototype._evictUntrustedReadings=function(){for(var t=this._cache.getValues(),e=!1,i=0,n=t.length;i<n;i++){var o=t[i];o.isTrusted||(e=!0,this._cache.remove(o))}e&&this._onDidChange.fire()},w.prototype.readConfiguration=function(t){if(!this._cache.has(t)){var e=w._actualReadConfiguration(t);(e.typicalHalfwidthCharacterWidth<=2||e.typicalFullwidthCharacterWidth<=2||e.spaceWidth<=2||e.maxDigitWidth<=2)&&(e=new L.b({zoomLevel:O.d(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:e.isMonospace,typicalHalfwidthCharacterWidth:Math.max(e.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(e.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:e.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(e.spaceWidth,5),maxDigitWidth:Math.max(e.maxDigitWidth,5)},!1)),this._writeToCache(t,e)}return this._cache.get(t)},w.createRequest=function(t,e,i,n){var o=new s(t,e);return i.push(o),n&&n.push(o),o},w._actualReadConfiguration=function(t){var e=[],i=[],n=this.createRequest("n",0,e,i),o=this.createRequest("ｍ",0,e,null),r=this.createRequest(" ",0,e,i),s=this.createRequest("0",0,e,i),a=this.createRequest("1",0,e,i),l=this.createRequest("2",0,e,i),u=this.createRequest("3",0,e,i),h=this.createRequest("4",0,e,i),c=this.createRequest("5",0,e,i),d=this.createRequest("6",0,e,i),p=this.createRequest("7",0,e,i),f=this.createRequest("8",0,e,i),g=this.createRequest("9",0,e,i),m=this.createRequest("→",0,e,i),v=this.createRequest("￫",0,e,null);this.createRequest("·",0,e,i),this.createRequest("|",0,e,i),this.createRequest("/",0,e,i),this.createRequest("-",0,e,i),this.createRequest("_",0,e,i),this.createRequest("i",0,e,i),this.createRequest("l",0,e,i),this.createRequest("m",0,e,i),this.createRequest("|",1,e,i),this.createRequest("_",1,e,i),this.createRequest("i",1,e,i),this.createRequest("l",1,e,i),this.createRequest("m",1,e,i),this.createRequest("n",1,e,i),this.createRequest("|",2,e,i),this.createRequest("_",2,e,i),this.createRequest("i",2,e,i),this.createRequest("l",2,e,i),this.createRequest("m",2,e,i),this.createRequest("n",2,e,i),function(t,e){new E(t,e).read()}(t,e);for(var y=Math.max(s.width,a.width,l.width,u.width,h.width,c.width,d.width,p.width,f.width,g.width),_=!0,b=i[0].width,w=1,C=i.length;w<C;w++){var S=b-i[w].width;if(S<-.001||.001<S){_=!1;break}}var x=!0;_&&v.width!==b&&(x=!1),v.width>m.width&&(x=!1);var k=2e3<O.c();return new L.b({zoomLevel:O.d(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:_,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:x,spaceWidth:r.width,maxDigitWidth:y},k)},w.INSTANCE=new w,w);function w(){var t=_.call(this)||this;return t._onDidChange=t._register(new n.a),t.onDidChange=t._onDidChange.event,t._cache=new v,t._evictUntrustedReadingsTimeout=-1,t}var C,S=(C=f.a,m(x,C),x.applyFontInfoSlow=function(t,e){t.style.fontFamily=e.getMassagedFontFamily(),t.style.fontWeight=e.fontWeight,t.style.fontSize=e.fontSize+"px",t.style.lineHeight=e.lineHeight+"px",t.style.letterSpacing=e.letterSpacing+"px"},x.applyFontInfo=function(t,e){t.setFontFamily(e.getMassagedFontFamily()),t.setFontWeight(e.fontWeight),t.setFontSize(e.fontSize),t.setLineHeight(e.lineHeight),t.setLetterSpacing(e.letterSpacing)},x.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},x.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},x.prototype.observeReferenceElement=function(t){this._elementSizeObserver.observe(t)},x.prototype.dispose=function(){C.prototype.dispose.call(this)},x.prototype._getExtraEditorClassName=function(){var t="";return O.k?t+="ie ":O.j?t+="ff ":O.g?t+="edge ":O.m&&(t+="safari "),r.d&&(t+="mac "),t},x.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:O.n||O.j,pixelRatio:O.b(),zoomLevel:O.d(),accessibilitySupport:O.a()}},x.prototype.readConfiguration=function(t){return b.INSTANCE.readConfiguration(t)},x);function x(t,e){void 0===e&&(e=null);var i=C.call(this,t)||this;return i._elementSizeObserver=i._register(new d(e,function(){return i._onReferenceDomElementSizeChanged()})),i._register(b.INSTANCE.onDidChange(function(){return i._onCSSBasedConfigurationChanged()})),i._validatedOptions.automaticLayout&&i._elementSizeObserver.startObserving(),i._register(O.p(function(t){return i._recomputeOptions()})),i._register(O.o(function(){return i._recomputeOptions()})),i._recomputeOptions(),i}},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i(23),kt=i(3),r=i(34),Ot=i(15),Et=i(9),Lt=i(2),Dt=(a._columnSelect=function(t,e,i,n,o,r){for(var s=Math.abs(o-i)+1,a=o<i,l=r<n,u=n<r,h=[],c=0;c<s;c++){var d=i+(a?-c:c),p=Ot.a.columnFromVisibleColumn2(t,e,d,n),f=Ot.a.columnFromVisibleColumn2(t,e,d,r),g=Ot.a.visibleColumnFromColumn2(t,e,new Et.a(d,p)),m=Ot.a.visibleColumnFromColumn2(t,e,new Et.a(d,f));if(u){if(r<g)continue;if(m<n)continue}if(l){if(n<m)continue;if(g<r)continue}h.push(new Ot.f(new Lt.a(d,p,d,p),0,new Et.a(d,f),0))}return{viewStates:h,reversed:a,toLineNumber:o,toVisualColumn:r}},a.columnSelect=function(t,e,i,n,o){var r=new Et.a(i.selectionStartLineNumber,i.selectionStartColumn),s=Ot.a.visibleColumnFromColumn2(t,e,r);return a._columnSelect(t,e,r.lineNumber,s,n,o)},a.columnSelectLeft=function(t,e,i,n,o){return 1<o&&o--,this.columnSelect(t,e,i.selection,n,o)},a.columnSelectRight=function(t,e,i,n,o){for(var r=0,s=Math.min(i.position.lineNumber,n),a=Math.max(i.position.lineNumber,n),l=s;l<=a;l++){var u=e.getLineMaxColumn(l),h=Ot.a.visibleColumnFromColumn2(t,e,new Et.a(l,u));r=Math.max(r,h)}return o<r&&o++,this.columnSelect(t,e,i.selection,n,o)},a.columnSelectUp=function(t,e,i,n,o,r){return(o-=n?t.pageSize:1)<1&&(o=1),this.columnSelect(t,e,i.selection,o,r)},a.columnSelectDown=function(t,e,i,n,o,r){return(o+=n?t.pageSize:1)>e.getLineCount()&&(o=e.getLineCount()),this.columnSelect(t,e,i.selection,o,r)},a);function a(){}var s=i(169),It=i(67),l=i(89),u=i(36),Nt=i(6),h=i(31),c=i(10);i.d(e,"CoreEditorCommand",function(){return Pt}),i.d(e,"EditorScroll_",function(){return Tt}),i.d(e,"RevealLine_",function(){return Mt}),i.d(e,"CoreNavigationCommands",function(){return m}),i.d(e,"CoreEditingCommands",function(){return v});var d,p,Tt,f,Mt,g,m,v,y,_,b,w,C,S,x,k,At=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Pt=(p=kt.c,At(O,p),O.prototype.runEditorCommand=function(t,e,i){var n=e._getCursors();n&&this.runCoreEditorCommand(n,i||{})},O);function O(){return null!==p&&p.apply(this,arguments)||this}function E(){return null!==_&&_.apply(this,arguments)||this}function L(){return b.call(this,{id:"lineBreakInsert",precondition:Nt.a.writable,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:0,mac:{primary:301}}})||this}function D(){return w.call(this,{id:"outdent",precondition:Nt.a.writable,kbOpts:{weight:0,kbExpr:c.d.and(Nt.a.editorTextFocus,Nt.a.tabDoesNotMoveFocus),primary:1026}})||this}function I(){return C.call(this,{id:"tab",precondition:Nt.a.writable,kbOpts:{weight:0,kbExpr:c.d.and(Nt.a.editorTextFocus,Nt.a.tabDoesNotMoveFocus),primary:2}})||this}function N(){return S.call(this,{id:"deleteLeft",precondition:Nt.a.writable,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}function T(){return x.call(this,{id:"deleteRight",precondition:Nt.a.writable,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}function M(t){t.register()}(f=Tt=Tt||{}).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(t){if(!o.g(t))return!1;var e=t;return!(!o.h(e.to)||!o.i(e.by)&&!o.h(e.by)||!o.i(e.value)&&!o.f(e.value)||!o.i(e.revealCursor)&&!o.c(e.revealCursor))}}]},f.RawDirection={Up:"up",Down:"down"},f.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},f.parse=function(t){var e,i;switch(t.to){case f.RawDirection.Up:e=1;break;case f.RawDirection.Down:e=2;break;default:return null}switch(t.by){case f.RawUnit.Line:i=1;break;case f.RawUnit.WrappedLine:i=2;break;case f.RawUnit.Page:i=3;break;case f.RawUnit.HalfPage:i=4;break;default:i=2}return{direction:e,unit:i,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}},(g=Mt=Mt||{}).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(t){if(!o.g(t))return!1;var e=t;return!(!o.f(e.lineNumber)||!o.i(e.at)&&!o.h(e.at))}}]},g.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"},function(n){var i,t=(At(e,i=Pt),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[It.b.moveTo(t.context,t.getPrimaryCursor(),this._inSelectionMode,e.position,e.viewPosition)]),t.reveal(!0,0,0)},e);function e(t){var e=i.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e}n.MoveTo=Object(kt.g)(new t({id:"_moveTo",inSelectionMode:!1,precondition:null})),n.MoveToSelect=Object(kt.g)(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:null}));var o,r,s,a,l=(At(u,o=Pt),u.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement();var i=this._getColumnSelectResult(t.context,t.getPrimaryCursor(),t.getColumnSelectData(),e);t.setStates(e.source,3,i.viewStates.map(function(t){return Ot.d.fromViewState(t)})),t.setColumnSelectData({toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),t.reveal(!0,i.reversed?1:2,0)},u);function u(){return null!==o&&o.apply(this,arguments)||this}function h(){return r.call(this,{id:"columnSelect",precondition:null})||this}function c(){return s.call(this,{id:"cursorColumnSelectLeft",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:3599,linux:{primary:0}}})||this}function d(){return a.call(this,{id:"cursorColumnSelectRight",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:3601,linux:{primary:0}}})||this}n.ColumnSelect=Object(kt.g)((At(h,r=l),h.prototype._getColumnSelectResult=function(t,e,i,n){var o,r=t.model.validatePosition(n.position);return o=n.viewPosition?t.validateViewPosition(new Et.a(n.viewPosition.lineNumber,n.viewPosition.column),r):t.convertModelPositionToViewPosition(r),Dt.columnSelect(t.config,t.viewModel,e.viewState.selection,o.lineNumber,n.mouseColumn-1)},new h)),n.CursorColumnSelectLeft=Object(kt.g)((At(c,s=l),c.prototype._getColumnSelectResult=function(t,e,i,n){return Dt.columnSelectLeft(t.config,t.viewModel,e.viewState,i.toViewLineNumber,i.toViewVisualColumn)},new c)),n.CursorColumnSelectRight=Object(kt.g)((At(d,a=l),d.prototype._getColumnSelectResult=function(t,e,i,n){return Dt.columnSelectRight(t.config,t.viewModel,e.viewState,i.toViewLineNumber,i.toViewVisualColumn)},new d));var p,f=(At(g,p=l),g.prototype._getColumnSelectResult=function(t,e,i,n){return Dt.columnSelectUp(t.config,t.viewModel,e.viewState,this._isPaged,i.toViewLineNumber,i.toViewVisualColumn)},g);function g(t){var e=p.call(this,t)||this;return e._isPaged=t.isPaged,e}n.CursorColumnSelectUp=Object(kt.g)(new f({isPaged:!1,id:"cursorColumnSelectUp",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=Object(kt.g)(new f({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:3595,linux:{primary:0}}}));var m,v=(At(y,m=l),y.prototype._getColumnSelectResult=function(t,e,i,n){return Dt.columnSelectDown(t.config,t.viewModel,e.viewState,this._isPaged,i.toViewLineNumber,i.toViewVisualColumn)},y);function y(t){var e=m.call(this,t)||this;return e._isPaged=t.isPaged,e}n.CursorColumnSelectDown=Object(kt.g)(new v({isPaged:!1,id:"cursorColumnSelectDown",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=Object(kt.g)(new v({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:3596,linux:{primary:0}}}));var _,b=(At(w,_=Pt),w.prototype.runCoreEditorCommand=function(t,e){var i=It.a.parse(e);i&&this._runCursorMove(t,e.source,i)},w.prototype._runCursorMove=function(t,e,i){t.context.model.pushStackElement(),t.setStates(e,3,It.b.move(t.context,t.getAll(),i)),t.reveal(!0,0,0)},w);function w(){return _.call(this,{id:"cursorMove",precondition:null,description:It.a.description})||this}n.CursorMoveImpl=b,n.CursorMove=Object(kt.g)(new b);var C,S,x,k=(At(O,C=Pt),O.prototype.runCoreEditorCommand=function(t,e){var i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.context.config.pageSize}),n.CursorMove._runCursorMove(t,e.source,i)},O);function O(t){var e=C.call(this,t)||this;return e._staticArgs=t.args,e}function E(){return S.call(this,{id:"createCursor",precondition:null})||this}function L(){return x.call(this,{id:"_lastCursorMoveToSelect",precondition:null})||this}n.CursorLeft=Object(kt.g)(new k({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=Object(kt.g)(new k({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1039}})),n.CursorRight=Object(kt.g)(new k({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=Object(kt.g)(new k({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1041}})),n.CursorUp=Object(kt.g)(new k({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=Object(kt.g)(new k({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=Object(kt.g)(new k({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:11}})),n.CursorPageUpSelect=Object(kt.g)(new k({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1035}})),n.CursorDown=Object(kt.g)(new k({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=Object(kt.g)(new k({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=Object(kt.g)(new k({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:12}})),n.CursorPageDownSelect=Object(kt.g)(new k({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1036}})),n.CreateCursor=Object(kt.g)((At(E,S=Pt),E.prototype.runCoreEditorCommand=function(t,e){var i,n=t.context;i=e.wholeLine?It.b.line(n,t.getPrimaryCursor(),!1,e.position,e.viewPosition):It.b.moveTo(n,t.getPrimaryCursor(),!1,e.position,e.viewPosition);var o=t.getAll();if(1<o.length)for(var r=i.modelState?i.modelState.position:null,s=i.viewState?i.viewState.position:null,a=0,l=o.length;a<l;a++){var u=o[a];if((!r||u.modelState.selection.containsPosition(r))&&(!s||u.viewState.selection.containsPosition(s)))return o.splice(a,1),t.context.model.pushStackElement(),void t.setStates(e.source,3,o)}o.push(i),t.context.model.pushStackElement(),t.setStates(e.source,3,o)},new E)),n.LastCursorMoveToSelect=Object(kt.g)((At(L,x=Pt),L.prototype.runCoreEditorCommand=function(t,e){var i=t.context,n=t.getLastAddedCursorIndex(),o=t.getAll(),r=o.slice(0);r[n]=It.b.moveTo(i,o[n],!0,e.position,e.viewPosition),t.context.model.pushStackElement(),t.setStates(e.source,3,r)},new L));var D,I,N=(At(T,D=Pt),T.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,It.b.moveToBeginningOfLine(t.context,t.getAll(),this._inSelectionMode)),t.reveal(!0,0,0)},T);function T(t){var e=D.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e}function M(){return I.call(this,{id:"cursorLineStart",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:0,mac:{primary:287}}})||this}n.CursorHome=Object(kt.g)(new N({inSelectionMode:!1,id:"cursorHome",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=Object(kt.g)(new N({inSelectionMode:!0,id:"cursorHomeSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),n.CursorLineStart=Object(kt.g)((At(M,I=Pt),M.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,this._exec(t.context,t.getAll())),t.reveal(!0,0,0)},M.prototype._exec=function(t,e){for(var i=[],n=0,o=e.length;n<o;n++){var r=e[n],s=r.modelState.position.lineNumber;i[n]=Ot.d.fromModelState(r.modelState.move(!1,s,1,0))}return i},new M));var A,P,R=(At(F,A=Pt),F.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,It.b.moveToEndOfLine(t.context,t.getAll(),this._inSelectionMode)),t.reveal(!0,0,0)},F);function F(t){var e=A.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e}function j(){return P.call(this,{id:"cursorLineEnd",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:0,mac:{primary:291}}})||this}n.CursorEnd=Object(kt.g)(new R({inSelectionMode:!1,id:"cursorEnd",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),n.CursorEndSelect=Object(kt.g)(new R({inSelectionMode:!0,id:"cursorEndSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),n.CursorLineEnd=Object(kt.g)((At(j,P=Pt),j.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,this._exec(t.context,t.getAll())),t.reveal(!0,0,0)},j.prototype._exec=function(t,e){for(var i=[],n=0,o=e.length;n<o;n++){var r=e[n],s=r.modelState.position.lineNumber,a=t.model.getLineMaxColumn(s);i[n]=Ot.d.fromModelState(r.modelState.move(!1,s,a,0))}return i},new j));var B,H=(At(W,B=Pt),W.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,It.b.moveToBeginningOfBuffer(t.context,t.getAll(),this._inSelectionMode)),t.reveal(!0,0,0)},W);function W(t){var e=B.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e}n.CursorTop=Object(kt.g)(new H({inSelectionMode:!1,id:"cursorTop",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=Object(kt.g)(new H({inSelectionMode:!0,id:"cursorTopSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:3086,mac:{primary:3088}}}));var V,z=(At(U,V=Pt),U.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,It.b.moveToEndOfBuffer(t.context,t.getAll(),this._inSelectionMode)),t.reveal(!0,0,0)},U);function U(t){var e=V.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e}n.CursorBottom=Object(kt.g)(new z({inSelectionMode:!1,id:"cursorBottom",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=Object(kt.g)(new z({inSelectionMode:!0,id:"cursorBottomSelect",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:3085,mac:{primary:3090}}}));var q,K,G,Y,$,Z=(At(X,q=Pt),X.prototype.runCoreEditorCommand=function(t,e){var i=Tt.parse(e);i&&this._runEditorScroll(t,e.source,i)},X.prototype._runEditorScroll=function(t,e,i){var n=this._computeDesiredScrollTop(t.context,i);if(i.revealCursor){var o=t.context.getCompletelyVisibleViewRangeAtScrollTop(n);t.setStates(e,3,[It.b.findPositionInViewportIfOutside(t.context,t.getPrimaryCursor(),o,i.select)])}t.scrollTo(n)},X.prototype._computeDesiredScrollTop=function(t,e){if(1===e.unit){var i=t.getCompletelyVisibleModelRange(),n=void 0;n=1===e.direction?Math.max(1,i.startLineNumber-e.value):Math.min(t.model.getLineCount(),i.startLineNumber+e.value);var o=t.convertModelPositionToViewPosition(new Et.a(n,1));return t.getVerticalOffsetForViewLine(o.lineNumber)}var r;r=3===e.unit?t.config.pageSize*e.value:4===e.unit?Math.round(t.config.pageSize/2)*e.value:e.value;var s=(1===e.direction?-1:1)*r;return t.getCurrentScrollTop()+s*t.config.lineHeight},X);function X(){return q.call(this,{id:"editorScroll",precondition:null,description:Tt.description})||this}function J(){return K.call(this,{id:"scrollLineUp",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2064,mac:{primary:267}}})||this}function Q(){return G.call(this,{id:"scrollPageUp",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}function tt(){return Y.call(this,{id:"scrollLineDown",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2066,mac:{primary:268}}})||this}function et(){return $.call(this,{id:"scrollPageDown",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}n.EditorScrollImpl=Z,n.EditorScroll=Object(kt.g)(new Z),n.ScrollLineUp=Object(kt.g)((At(J,K=Pt),J.prototype.runCoreEditorCommand=function(t,e){n.EditorScroll._runEditorScroll(t,e.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},new J)),n.ScrollPageUp=Object(kt.g)((At(Q,G=Pt),Q.prototype.runCoreEditorCommand=function(t,e){n.EditorScroll._runEditorScroll(t,e.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},new Q)),n.ScrollLineDown=Object(kt.g)((At(tt,Y=Pt),tt.prototype.runCoreEditorCommand=function(t,e){n.EditorScroll._runEditorScroll(t,e.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},new tt)),n.ScrollPageDown=Object(kt.g)((At(et,$=Pt),et.prototype.runCoreEditorCommand=function(t,e){n.EditorScroll._runEditorScroll(t,e.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},new et));var it,nt,ot=(At(rt,it=Pt),rt.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[It.b.word(t.context,t.getPrimaryCursor(),this._inSelectionMode,e.position)]),t.reveal(!0,0,0)},rt);function rt(t){var e=it.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e}function st(){return nt.call(this,{id:"lastCursorWordSelect",precondition:null})||this}n.WordSelect=Object(kt.g)(new ot({inSelectionMode:!1,id:"_wordSelect",precondition:null})),n.WordSelectDrag=Object(kt.g)(new ot({inSelectionMode:!0,id:"_wordSelectDrag",precondition:null})),n.LastCursorWordSelect=Object(kt.g)((At(st,nt=Pt),st.prototype.runCoreEditorCommand=function(t,e){var i=t.context,n=t.getLastAddedCursorIndex(),o=t.getAll(),r=o.slice(0),s=o[n];r[n]=It.b.word(i,s,s.modelState.hasSelection(),e.position),i.model.pushStackElement(),t.setStates(e.source,3,r)},new st));var at,lt=(At(ut,at=Pt),ut.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[It.b.line(t.context,t.getPrimaryCursor(),this._inSelectionMode,e.position,e.viewPosition)]),t.reveal(!1,0,0)},ut);function ut(t){var e=at.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e}n.LineSelect=Object(kt.g)(new lt({inSelectionMode:!1,id:"_lineSelect",precondition:null})),n.LineSelectDrag=Object(kt.g)(new lt({inSelectionMode:!0,id:"_lineSelectDrag",precondition:null}));var ht,ct,dt,pt,ft,gt,mt,vt=(At(yt,ht=Pt),yt.prototype.runCoreEditorCommand=function(t,e){var i=t.getLastAddedCursorIndex(),n=t.getAll(),o=n.slice(0);o[i]=It.b.line(t.context,n[i],this._inSelectionMode,e.position,e.viewPosition),t.context.model.pushStackElement(),t.setStates(e.source,3,o)},yt);function yt(t){var e=ht.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e}function _t(){return ct.call(this,{id:"expandLineSelection",precondition:null,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2087}})||this}function bt(){return dt.call(this,{id:"cancelSelection",precondition:Nt.a.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:9,secondary:[1033]}})||this}function wt(){return pt.call(this,{id:"removeSecondaryCursors",precondition:Nt.a.hasMultipleSelections,kbOpts:{weight:1,kbExpr:Nt.a.textInputFocus,primary:9,secondary:[1033]}})||this}function Ct(){return ft.call(this,{id:"revealLine",precondition:null,description:Mt.description})||this}function St(){return gt.call(this,{id:"selectAll",precondition:null})||this}function xt(){return mt.call(this,{id:"setSelection",precondition:null})||this}n.LastCursorLineSelect=Object(kt.g)(new vt({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:null})),n.LastCursorLineSelectDrag=Object(kt.g)(new vt({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:null})),n.ExpandLineSelection=Object(kt.g)((At(_t,ct=Pt),_t.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,It.b.expandLineSelection(t.context,t.getAll())),t.reveal(!0,0,0)},new _t)),n.CancelSelection=Object(kt.g)((At(bt,dt=Pt),bt.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[It.b.cancelSelection(t.context,t.getPrimaryCursor())]),t.reveal(!0,0,0)},new bt)),n.RemoveSecondaryCursors=Object(kt.g)((At(wt,pt=Pt),wt.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[t.getPrimaryCursor()]),t.reveal(!0,0,0)},new wt)),n.RevealLine=Object(kt.g)((At(Ct,ft=Pt),Ct.prototype.runCoreEditorCommand=function(t,e){var i=e,n=(i.lineNumber||0)+1;n<1&&(n=1);var o=t.context.model.getLineCount();o<n&&(n=o);var r=new Lt.a(n,1,n,t.context.model.getLineMaxColumn(n)),s=0;if(i.at)switch(i.at){case Mt.RawAtArgument.Top:s=3;break;case Mt.RawAtArgument.Center:s=1;break;case Mt.RawAtArgument.Bottom:s=4}var a=t.context.convertModelRangeToViewRange(r);t.revealRange(!1,a,s,0)},new Ct)),n.SelectAll=Object(kt.g)((At(St,gt=Pt),St.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[It.b.selectAll(t.context,t.getPrimaryCursor())])},new St)),n.SetSelection=Object(kt.g)((At(xt,mt=Pt),xt.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[Ot.d.fromModelSelection(e.selection)])},new xt))}(m=m||{}),y=v=v||{},_=kt.c,At(E,_),E.prototype.runEditorCommand=function(t,e,i){var n=e._getCursors();n&&this.runCoreEditingCommand(e,n,i||{})},k=E,y.CoreEditingCommand=k,y.LineBreakInsert=Object(kt.g)((At(L,b=k),L.prototype.runCoreEditingCommand=function(t,e,i){t.pushUndoStop(),t.executeCommands(this.id,l.TypeOperations.lineBreakInsert(e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection})))},new L)),y.Outdent=Object(kt.g)((At(D,w=k),D.prototype.runCoreEditingCommand=function(t,e,i){t.pushUndoStop(),t.executeCommands(this.id,l.TypeOperations.outdent(e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection}))),t.pushUndoStop()},new D)),y.Tab=Object(kt.g)((At(I,C=k),I.prototype.runCoreEditingCommand=function(t,e,i){t.pushUndoStop(),t.executeCommands(this.id,l.TypeOperations.tab(e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection}))),t.pushUndoStop()},new I)),y.DeleteLeft=Object(kt.g)((At(N,S=k),N.prototype.runCoreEditingCommand=function(t,e,i){var n=s.a.deleteLeft(e.getPrevEditOperationType(),e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection})),o=n[0],r=n[1];o&&t.pushUndoStop(),t.executeCommands(this.id,r),e.setPrevEditOperationType(2)},new N)),y.DeleteRight=Object(kt.g)((At(T,x=k),T.prototype.runCoreEditingCommand=function(t,e,i){var n=s.a.deleteRight(e.getPrevEditOperationType(),e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection})),o=n[0],r=n[1];o&&t.pushUndoStop(),t.executeCommands(this.id,r),e.setPrevEditOperationType(3)},new T));var A,P=(A=kt.a,At(R,A),R.prototype.runCommand=function(t,e){var i=t.get(r.a).getFocusedCodeEditor();if(i&&i.hasTextFocus())return this._runEditorHandler(t,i,e);var n=document.activeElement;if(!(n&&0<=["input","textarea"].indexOf(n.tagName.toLowerCase()))){var o=t.get(r.a).getActiveCodeEditor();return o?(o.focus(),this._runEditorHandler(t,o,e)):void 0}document.execCommand(this._inputHandler)},R.prototype._runEditorHandler=function(t,e,i){var n=this._editorHandler;"string"==typeof n?e.trigger("keyboard",n,i):((i=i||{}).source="keyboard",n.runEditorCommand(t,e,i))},R);function R(t){var e=A.call(this,t)||this;return e._editorHandler=t.editorHandler,e._inputHandler=t.inputHandler,e}var F,j=(F=kt.a,At(B,F),B.prototype.runCommand=function(t,e){var i=t.get(r.a).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,e)},B);function B(t,e){var i=F.call(this,{id:t,precondition:null})||this;return i._handlerId=e,i}function H(t){M(new j("default:"+t,t)),M(new j(t,t))}M(new P({editorHandler:m.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:Nt.a.textInputFocus,kbOpts:{weight:0,kbExpr:null,primary:2079},menubarOpts:{menuId:h.b.MenubarSelectionMenu,group:"1_basic",title:n.a({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}})),M(new P({editorHandler:u.b.Undo,inputHandler:"undo",id:u.b.Undo,precondition:Nt.a.writable,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2104},menubarOpts:{menuId:h.b.MenubarEditMenu,group:"1_do",title:n.a({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}})),M(new j("default:"+u.b.Undo,u.b.Undo)),M(new P({editorHandler:u.b.Redo,inputHandler:"redo",id:u.b.Redo,precondition:Nt.a.writable,kbOpts:{weight:0,kbExpr:Nt.a.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menubarOpts:{menuId:h.b.MenubarEditMenu,group:"1_do",title:n.a({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}})),M(new j("default:"+u.b.Redo,u.b.Redo)),H(u.b.Type),H(u.b.ReplacePreviousChar),H(u.b.CompositionStart),H(u.b.CompositionEnd),H(u.b.Paste),H(u.b.Cut)},function(t,e,i){"use strict";i.d(e,"e",function(){return r}),i.d(e,"d",function(){return s}),i.d(e,"c",function(){return d}),i.d(e,"b",function(){return f}),i.d(e,"a",function(){return _});var n,o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function r(t){var e=[];return t.forEach(function(t){return e.push(t)}),e}function s(t){var i=[];return t.forEach(function(t,e){return i.push(e)}),i}var a=(l.prototype.reset=function(t){return this._value=t,this._pos=0,this},l.prototype.next=function(){return this._pos+=1,this},l.prototype.hasNext=function(){return this._pos<this._value.length-1},l.prototype.cmp=function(t){return t.charCodeAt(0)-this._value.charCodeAt(this._pos)},l.prototype.value=function(){return this._value[this._pos]},l);function l(){this._value="",this._pos=0}var u=(h.prototype.reset=function(t){return this._value=t.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},h.prototype.hasNext=function(){return this._to<this._value.length},h.prototype.next=function(){this._from=this._to;for(var t=!0;this._to<this._value.length;this._to++){var e=this._value.charCodeAt(this._to);if(47===e||92===e){if(!t)break;this._from++}else t=!1}return this},h.prototype.cmp=function(t){for(var e=0,i=t.length,n=this._from;e<i&&n<this._to;){var o=t.charCodeAt(e)-this._value.charCodeAt(n);if(0!=o)return o;e+=1,n+=1}return i===this._to-this._from?0:e<i?-1:1},h.prototype.value=function(){return this._value.substring(this._from,this._to)},h);function h(){}var c=function(){},d=(p.forPaths=function(){return new p(new u)},p.forStrings=function(){return new p(new a)},p.prototype.clear=function(){this._root=void 0},p.prototype.set=function(t,e){var i,n=this._iter.reset(t);for(this._root||(this._root=new c,this._root.segment=n.value()),i=this._root;;){var o=n.cmp(i.segment);if(0<o)i.left||(i.left=new c,i.left.segment=n.value()),i=i.left;else if(o<0)i.right||(i.right=new c,i.right.segment=n.value()),i=i.right;else{if(!n.hasNext())break;n.next(),i.mid||(i.mid=new c,i.mid.segment=n.value()),i=i.mid}}var r=i.value;return i.value=e,i.key=t,r},p.prototype.get=function(t){for(var e=this._iter.reset(t),i=this._root;i;){var n=e.cmp(i.segment);if(0<n)i=i.left;else if(n<0)i=i.right;else{if(!e.hasNext())break;e.next(),i=i.mid}}return i?i.value:void 0},p.prototype.findSubstr=function(t){for(var e=this._iter.reset(t),i=this._root,n=void 0;i;){var o=e.cmp(i.segment);if(0<o)i=i.left;else if(o<0)i=i.right;else{if(!e.hasNext())break;e.next(),n=i.value||n,i=i.mid}}return i&&i.value||n},p.prototype.forEach=function(t){this._forEach(this._root,t)},p.prototype._forEach=function(t,e){t&&(this._forEach(t.left,e),t.value&&e(t.value,t.key),this._forEach(t.mid,e),this._forEach(t.right,e))},p);function p(t){this._iter=t}var f=(g.prototype.set=function(t,e){this.map.set(this.toKey(t),e)},g.prototype.get=function(t){return this.map.get(this.toKey(t))},g.prototype.toKey=function(t){var e=t.toString();return this.ignoreCase&&(e=e.toLowerCase()),e},g);function g(){this.map=new Map,this.ignoreCase=!1}var m=(v.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),v.prototype.get=function(t,e){void 0===e&&(e=0);var i=this._map.get(t);if(i)return 0!==e&&this.touch(i,e),i.value},v.prototype.set=function(t,e,i){void 0===i&&(i=0);var n=this._map.get(t);if(n)n.value=e,0!==i&&this.touch(n,i);else{switch(n={key:t,value:e,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:default:this.addItemLast(n)}this._map.set(t,n),this._size++}},v.prototype.forEach=function(t,e){for(var i=this._head;i;)e?t.bind(e)(i.value,i.key,this):t(i.value,i.key,this),i=i.next},v.prototype.trimOld=function(t){if(!(t>=this.size))if(0!==t){for(var e=this._head,i=this.size;e&&t<i;)this._map.delete(e.key),e=e.next,i--;this._head=e,this._size=i,e&&(e.previous=void 0)}else this.clear()},v.prototype.addItemFirst=function(t){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");t.next=this._head,this._head.previous=t}else this._tail=t;this._head=t},v.prototype.addItemLast=function(t){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");t.previous=this._tail,this._tail.next=t}else this._head=t;this._tail=t},v.prototype.touch=function(t,e){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===e||2===e)if(1===e){if(t===this._head)return;var i=t.next,n=t.previous;t===this._tail?(n.next=void 0,this._tail=n):(i.previous=n).next=i,t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t}else if(2===e){if(t===this._tail)return;i=t.next,n=t.previous,t===this._head?(i.previous=void 0,this._head=i):(i.previous=n).next=i,t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t}},v.prototype.toJSON=function(){var i=[];return this.forEach(function(t,e){i.push([e,t])}),i},v);function v(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}var y,_=(o(b,y=m),b.prototype.get=function(t){return y.prototype.get.call(this,t,2)},b.prototype.set=function(t,e){y.prototype.set.call(this,t,e,2),this.checkTrim()},b.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},b);function b(t,e){void 0===e&&(e=1);var i=y.call(this)||this;return i._limit=t,i._ratio=Math.min(Math.max(0,e),1),i}},function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"a",function(){return c});var n,a=i(1),l=i(167),u=i(39),o=i(4),r=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function s(t,e){var i=new u.b(e);return i.preventDefault(),{leftButton:i.leftButton,posx:i.posx,posy:i.posy}}var h,c=(h=o.a,r(d,h),d.prototype.dispose=function(){this.stopMonitoring(!1),h.prototype.dispose.call(this)},d.prototype.stopMonitoring=function(t){if(this.isMonitoring()){this.hooks=Object(o.d)(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var e=this.onStopCallback;this.onStopCallback=null,t&&e&&e()}},d.prototype.isMonitoring=function(){return 0<this.hooks.length},d.prototype.startMonitoring=function(t,e,i){var n=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=t,this.mouseMoveCallback=e,this.onStopCallback=i;for(var o=l.a.getSameOriginWindowChain(),r=0;r<o.length;r++)this.hooks.push(a.j(o[r].window.document,"mousemove",function(t){return n.mouseMoveCallback(t)},function(t,e){return n.mouseMoveEventMerger(t,e)})),this.hooks.push(a.h(o[r].window.document,"mouseup",function(t){return n.stopMonitoring(!0)}));if(l.a.hasDifferentOriginAncestor()){var s=o[o.length-1];this.hooks.push(a.h(s.window.document,"mouseout",function(t){"html"===new u.b(t).target.tagName.toLowerCase()&&n.stopMonitoring(!0)})),this.hooks.push(a.h(s.window.document,"mouseover",function(t){"html"===new u.b(t).target.tagName.toLowerCase()&&n.stopMonitoring(!0)})),this.hooks.push(a.h(s.window.document.body,"mouseleave",function(t){n.stopMonitoring(!0)}))}}},d);function d(){var t=h.call(this)||this;return t.hooks=[],t.mouseMoveEventMerger=null,t.mouseMoveCallback=null,t.onStopCallback=null,t}},function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r});var n=i(18),o=Object(n.c)("contextViewService"),r=Object(n.c)("contextMenuService")},function(t,e,i){"use strict";i.d(e,"c",function(){return g}),i.d(e,"d",function(){return y}),i.d(e,"b",function(){return w}),i.d(e,"a",function(){return k});i(274);var n,o,r=i(14),s=i(0),a=i(4),l=i(77),u=i(1),h=i(23),c=i(65),d=i(51),p=i(5),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=(o=a.a,f(m,o),m.prototype.handleActionChangeEvent=function(t){void 0!==t.enabled&&this.updateEnabled(),void 0!==t.checked&&this.updateChecked(),void 0!==t.class&&this.updateClass(),void 0!==t.label&&(this.updateLabel(),this.updateTooltip()),void 0!==t.tooltip&&this.updateTooltip()},Object.defineProperty(m.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(t){this._actionRunner=t},enumerable:!0,configurable:!0}),m.prototype.getAction=function(){return this._action},m.prototype.isEnabled=function(){return this._action.enabled},m.prototype.setActionContext=function(t){this._context=t},m.prototype.render=function(t){var i=this;this.element=t,c.b.addTarget(t);var n=this.options&&this.options.draggable;n&&(t.draggable=!0),this._register(u.h(this.element,c.a.Tap,function(t){return i.onClick(t)})),this._register(u.h(this.element,u.d.MOUSE_DOWN,function(t){n||u.c.stop(t,!0);var e=t;i._action.enabled&&0===e.button&&u.f(i.element,"active")})),this._register(u.h(this.element,u.d.CLICK,function(t){u.c.stop(t,!0),i.options&&i.options.isMenu?i.onClick(t):r.h(function(){return i.onClick(t)})})),this._register(u.h(this.element,u.d.DBLCLICK,function(t){u.c.stop(t,!0)})),[u.d.MOUSE_UP,u.d.MOUSE_OUT].forEach(function(t){i._register(u.h(i.element,t,function(t){u.c.stop(t),u.G(i.element,"active")}))})},m.prototype.onClick=function(t){var e;u.c.stop(t,!0),h.j(this._context)?e=t:(e=this._context,h.g(e)&&(e.event=t)),this._actionRunner.run(this._action,e)},m.prototype.focus=function(){this.element&&(this.element.focus(),u.f(this.element,"focused"))},m.prototype.blur=function(){this.element&&(this.element.blur(),u.G(this.element,"focused"))},m.prototype.updateEnabled=function(){},m.prototype.updateLabel=function(){},m.prototype.updateTooltip=function(){},m.prototype.updateClass=function(){},m.prototype.updateChecked=function(){},m.prototype.dispose=function(){this.element&&(u.I(this.element),this.element=null),o.prototype.dispose.call(this)},m);function m(t,e,i){var n=o.call(this)||this;return n.options=i,n._context=t||n,(n._action=e)instanceof l.a&&n._register(e.onDidChange(function(t){n.element&&n.handleActionChangeEvent(t)})),n}var v,y=(v=l.a,f(_,v),_.ID="vs.actions.separator",_);function _(t){var e=v.call(this,_.ID,t,t?"separator text":"separator")||this;return e.checked=!1,e.radio=!1,e.enabled=!1,e}var b,w=(f(C,b=g),C.prototype.render=function(t){b.prototype.render.call(this,t),this.label=u.l(this.element,u.a("a.action-label")),this._action.id===y.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button"),this.options.label&&this.options.keybinding&&(u.l(this.element,u.a("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},C.prototype.focus=function(){b.prototype.focus.call(this),this.label.focus()},C.prototype.updateLabel=function(){this.options.label&&(this.label.textContent=this.getAction().label)},C.prototype.updateTooltip=function(){var t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=s.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&(this.label.title=t)},C.prototype.updateClass=function(){this.cssClass&&u.H(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,u.f(this.label,"icon"),this.cssClass&&u.g(this.label,this.cssClass),this.updateEnabled()):u.G(this.label,"icon")},C.prototype.updateEnabled=function(){this.getAction().enabled?(this.label.removeAttribute("aria-disabled"),u.G(this.element,"disabled"),u.G(this.label,"disabled"),this.label.tabIndex=0):(this.label.setAttribute("aria-disabled","true"),u.f(this.element,"disabled"),u.f(this.label,"disabled"),u.J(this.label))},C.prototype.updateChecked=function(){this.getAction().checked?u.f(this.label,"checked"):u.G(this.label,"checked")},C);function C(t,e,i){void 0===i&&(i={});var n=b.call(this,t,e,i)||this;return n.options=i,n.options.icon=void 0!==i.icon&&i.icon,n.options.label=void 0===i.label||i.label,n.cssClass="",n}var S,x={orientation:0,context:null,triggerKeys:{keys:[3,10],keyDown:!1}},k=(S=a.a,f(O,S),Object.defineProperty(O.prototype,"onDidBlur",{get:function(){return this._onDidBlur.event},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"onDidCancel",{get:function(){return this._onDidCancel.event},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"onDidRun",{get:function(){return this._onDidRun.event},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"onDidBeforeRun",{get:function(){return this._onDidBeforeRun.event},enumerable:!0,configurable:!0}),O.prototype.isTriggerKeyEvent=function(e){var i=!1;return this.options.triggerKeys&&this.options.triggerKeys.keys.forEach(function(t){i=i||e.equals(t)}),i},O.prototype.updateFocusedItem=function(){for(var t=0;t<this.actionsList.children.length;t++){var e=this.actionsList.children[t];if(u.C(document.activeElement,e)){this.focusedItem=t;break}}},Object.defineProperty(O.prototype,"context",{get:function(){return this._context},set:function(e){this._context=e,this.items.forEach(function(t){return t.setActionContext(e)})},enumerable:!0,configurable:!0}),O.prototype.getContainer=function(){return this.domNode},O.prototype.push=function(t,n){var o=this;void 0===n&&(n={});var e=Array.isArray(t)?t:[t],r=h.f(n.index)?n.index:null;e.forEach(function(t){var e=document.createElement("li");e.className="action-item",e.setAttribute("role","presentation"),o._register(u.h(e,u.d.CONTEXT_MENU,function(t){t.preventDefault(),t.stopPropagation()}));var i=null;o.options.actionItemProvider&&(i=o.options.actionItemProvider(t)),(i=i||new w(o.context,t,n)).actionRunner=o._actionRunner,i.setActionContext(o.context),i.render(e),null===r||r<0||r>=o.actionsList.children.length?(o.actionsList.appendChild(e),o.items.push(i)):(o.actionsList.insertBefore(e,o.actionsList.children[r]),o.items.splice(r,0,i),r++)})},O.prototype.clear=function(){this.items=Object(a.d)(this.items),u.m(this.actionsList)},O.prototype.isEmpty=function(){return 0===this.items.length},O.prototype.focus=function(t){t&&void 0===this.focusedItem?(this.focusedItem=this.items.length-1,this.focusNext()):this.updateFocus()},O.prototype.focusNext=function(){void 0===this.focusedItem&&(this.focusedItem=this.items.length-1);for(var t,e=this.focusedItem;this.focusedItem=(this.focusedItem+1)%this.items.length,t=this.items[this.focusedItem],this.focusedItem!==e&&!t.isEnabled(););this.focusedItem!==e||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},O.prototype.focusPrevious=function(){void 0===this.focusedItem&&(this.focusedItem=0);for(var t,e=this.focusedItem;this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),t=this.items[this.focusedItem],this.focusedItem!==e&&!t.isEnabled(););this.focusedItem!==e||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0)},O.prototype.updateFocus=function(t){void 0===this.focusedItem&&this.actionsList.focus();for(var e=0;e<this.items.length;e++){var i=this.items[e];e===this.focusedItem?h.e(i.isEnabled)&&(i.isEnabled()&&h.e(i.focus)?i.focus(t):this.actionsList.focus()):h.e(i.blur)&&i.blur()}},O.prototype.doTrigger=function(t){if(void 0!==this.focusedItem){var e=this.items[this.focusedItem];if(e instanceof g){var i=null===e._context||void 0===e._context?t:e._context;this.run(e._action,i)}}},O.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._onDidCancel.fire()},O.prototype.run=function(t,e){return this._actionRunner.run(t,e)},O.prototype.dispose=function(){null!==this.items&&Object(a.d)(this.items),this.items=null,u.I(this.getContainer()),S.prototype.dispose.call(this)},O);function O(t,e){void 0===e&&(e=x);var n,o,r=S.call(this)||this;switch(r._onDidBlur=r._register(new p.a),r._onDidCancel=r._register(new p.a),r._onDidRun=r._register(new p.a),r._onDidBeforeRun=r._register(new p.a),r.options=e,r._context=e.context,r._actionRunner=r.options.actionRunner,r.options.triggerKeys||(r.options.triggerKeys=x.triggerKeys),r._actionRunner||(r._actionRunner=new l.b,r._register(r._actionRunner)),r._register(r._actionRunner.onDidRun(function(t){return r._onDidRun.fire(t)})),r._register(r._actionRunner.onDidBeforeRun(function(t){return r._onDidBeforeRun.fire(t)})),r.items=[],r.focusedItem=void 0,r.domNode=document.createElement("div"),!(r.domNode.className="monaco-action-bar")!==e.animated&&u.f(r.domNode,"animated"),r.options.orientation){case 0:n=15,o=17;break;case 1:n=17,o=15,r.domNode.className+=" reverse";break;case 2:n=16,o=18,r.domNode.className+=" vertical";break;case 3:n=18,o=16,r.domNode.className+=" vertical reverse"}return r._register(u.h(r.domNode,u.d.KEY_DOWN,function(t){var e=new d.a(t),i=!0;e.equals(n)?r.focusPrevious():e.equals(o)?r.focusNext():e.equals(9)?r.cancel():r.isTriggerKeyEvent(e)?r.options.triggerKeys&&r.options.triggerKeys.keyDown&&r.doTrigger(e):i=!1,i&&(e.preventDefault(),e.stopPropagation())})),r._register(u.h(r.domNode,u.d.KEY_UP,function(t){var e=new d.a(t);r.isTriggerKeyEvent(e)?(r.options.triggerKeys.keyDown||r.doTrigger(e),e.preventDefault(),e.stopPropagation()):(e.equals(2)||e.equals(1026))&&r.updateFocusedItem()})),r.focusTracker=r._register(u.Q(r.domNode)),r._register(r.focusTracker.onDidBlur(function(){document.activeElement!==r.domNode&&u.C(document.activeElement,r.domNode)||(r._onDidBlur.fire(),r.focusedItem=void 0)})),r._register(r.focusTracker.onDidFocus(function(){return r.updateFocusedItem()})),r.actionsList=document.createElement("ul"),r.actionsList.className="actions-container",r.actionsList.setAttribute("role","toolbar"),r.options.ariaLabel&&r.actionsList.setAttribute("aria-label",r.options.ariaLabel),r.domNode.appendChild(r.actionsList),t.appendChild(r.domNode),r}},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"d",function(){return v}),i.d(e,"c",function(){return u}),i.d(e,"e",function(){return y}),i.d(e,"b",function(){return _});var n=i(8),o=i(103),h=i(9),g=i(2),m=i(47),r=(s.prototype.parseSearchRequest=function(){if(""===this.searchString)return null;var t;t=this.isRegex?function(t){if(!t||0===t.length)return!1;for(var e=0,i=t.length;e<i;e++)if(92===t.charCodeAt(e)){if(i<=++e)break;var n=t.charCodeAt(e);if(110===n||114===n||87===n)return!0}return!1}(this.searchString):0<=this.searchString.indexOf("\n");var e=null;try{e=n.i(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0})}catch(t){return null}if(!e)return null;var i=!this.isRegex&&!t;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new a(e,this.wordSeparators?Object(o.a)(this.wordSeparators):null,i?this.searchString:null)},s);function s(t,e,i,n){this.searchString=t,this.isRegex=e,this.matchCase=i,this.wordSeparators=n}var a=function(t,e,i){this.regex=t,this.wordSeparators=e,this.simpleSearch=i};function v(t,e,i){if(!i)return new m.b(t,null);for(var n=[],o=0,r=e.length;o<r;o++)n[o]=e[o];return new m.b(t,n)}var c=(l.prototype.findLineFeedCountBeforeOffset=function(t){var e=this._lineFeedsOffsets,i=0,n=e.length-1;if(-1===n)return 0;if(t<=e[0])return 0;for(;i<n;){var o=i+((n-i)/2>>0);e[o]>=t?n=o-1:e[o+1]>=t?n=i=o:i=o+1}return i+1},l);function l(t){for(var e=[],i=0,n=0,o=t.length;n<o;n++)10===t.charCodeAt(n)&&(e[i++]=n);this._lineFeedsOffsets=e}var u=(d.findMatches=function(t,e,i,n,o){var r=e.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(t,i,new _(r.wordSeparators,r.regex),n,o):this._doFindMatchesLineByLine(t,i,r,n,o):[]},d._getMultilineMatchRange=function(t,e,i,n,o,r){var s,a,l=0;if(s=n?e+o+(l=n.findLineFeedCountBeforeOffset(o)):e+o,n){var u=n.findLineFeedCountBeforeOffset(o+r.length)-l;a=s+r.length+u}else a=s+r.length;var h=t.getPositionAt(s),c=t.getPositionAt(a);return new g.a(h.lineNumber,h.column,c.lineNumber,c.column)},d._doFindMatchesMultiline=function(t,e,i,n,o){var r,s=t.getOffsetAt(e.getStartPosition()),a=t.getValueInRange(e,1),l="\r\n"===t.getEOL()?new c(a):null,u=[],h=0;for(i.reset(0);r=i.next(a);)if(u[h++]=v(this._getMultilineMatchRange(t,s,a,l,r.index,r[0]),r,n),o<=h)return u;return u},d._doFindMatchesLineByLine=function(t,e,i,n,o){var r=[],s=0;if(e.startLineNumber===e.endLineNumber){var a=t.getLineContent(e.startLineNumber).substring(e.startColumn-1,e.endColumn-1);return s=this._findMatchesInLine(i,a,e.startLineNumber,e.startColumn-1,s,r,n,o),r}var l=t.getLineContent(e.startLineNumber).substring(e.startColumn-1);s=this._findMatchesInLine(i,l,e.startLineNumber,e.startColumn-1,s,r,n,o);for(var u=e.startLineNumber+1;u<e.endLineNumber&&s<o;u++)s=this._findMatchesInLine(i,t.getLineContent(u),u,0,s,r,n,o);if(s<o){var h=t.getLineContent(e.endLineNumber).substring(0,e.endColumn-1);s=this._findMatchesInLine(i,h,e.endLineNumber,0,s,r,n,o)}return r},d._findMatchesInLine=function(t,e,i,n,o,r,s,a){var l=t.wordSeparators;if(!s&&t.simpleSearch){for(var u=t.simpleSearch,h=u.length,c=e.length,d=-h;-1!==(d=e.indexOf(u,d+h));)if((!l||y(l,e,c,d,h))&&(r[o++]=new m.b(new g.a(i,d+1+n,i,d+1+h+n),null),a<=o))return o;return o}var p,f=new _(t.wordSeparators,t.regex);f.reset(0);do{if((p=f.next(e))&&(r[o++]=v(new g.a(i,p.index+1+n,i,p.index+1+p[0].length+n),p,s),a<=o))return o}while(p);return o},d.findNextMatch=function(t,e,i,n){var o=e.parseSearchRequest();if(!o)return null;var r=new _(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(t,i,r,n):this._doFindNextMatchLineByLine(t,i,r,n)},d._doFindNextMatchMultiline=function(t,e,i,n){var o=new h.a(e.lineNumber,1),r=t.getOffsetAt(o),s=t.getLineCount(),a=t.getValueInRange(new g.a(o.lineNumber,o.column,s,t.getLineMaxColumn(s)),1),l="\r\n"===t.getEOL()?new c(a):null;i.reset(e.column-1);var u=i.next(a);return u?v(this._getMultilineMatchRange(t,r,a,l,u.index,u[0]),u,n):1!==e.lineNumber||1!==e.column?this._doFindNextMatchMultiline(t,new h.a(1,1),i,n):null},d._doFindNextMatchLineByLine=function(t,e,i,n){var o=t.getLineCount(),r=e.lineNumber,s=t.getLineContent(r),a=this._findFirstMatchInLine(i,s,r,e.column,n);if(a)return a;for(var l=1;l<=o;l++){var u=(r+l-1)%o,h=t.getLineContent(1+u),c=this._findFirstMatchInLine(i,h,1+u,1,n);if(c)return c}return null},d._findFirstMatchInLine=function(t,e,i,n,o){t.reset(n-1);var r=t.next(e);return r?v(new g.a(i,r.index+1,i,r.index+1+r[0].length),r,o):null},d.findPreviousMatch=function(t,e,i,n){var o=e.parseSearchRequest();if(!o)return null;var r=new _(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(t,i,r,n):this._doFindPreviousMatchLineByLine(t,i,r,n)},d._doFindPreviousMatchMultiline=function(t,e,i,n){var o=this._doFindMatchesMultiline(t,new g.a(1,1,e.lineNumber,e.column),i,n,9990);if(0<o.length)return o[o.length-1];var r=t.getLineCount();return e.lineNumber!==r||e.column!==t.getLineMaxColumn(r)?this._doFindPreviousMatchMultiline(t,new h.a(r,t.getLineMaxColumn(r)),i,n):null},d._doFindPreviousMatchLineByLine=function(t,e,i,n){var o=t.getLineCount(),r=e.lineNumber,s=t.getLineContent(r).substring(0,e.column-1),a=this._findLastMatchInLine(i,s,r,n);if(a)return a;for(var l=1;l<=o;l++){var u=(o+r-l-1)%o,h=t.getLineContent(1+u),c=this._findLastMatchInLine(i,h,1+u,n);if(c)return c}return null},d._findLastMatchInLine=function(t,e,i,n){var o,r=null;for(t.reset(0);o=t.next(e);)r=v(new g.a(i,o.index+1,i,o.index+1+o[0].length),o,n);return r},d);function d(){}function y(t,e,i,n,o){return function(t,e,i,n,o){if(0===n)return!0;var r=e.charCodeAt(n-1);if(0!==t.get(r))return!0;if(13===r||10===r)return!0;if(0<o){var s=e.charCodeAt(n);if(0!==t.get(s))return!0}return!1}(t,e,0,n,o)&&function(t,e,i,n,o){if(n+o===i)return!0;var r=e.charCodeAt(n+o);if(0!==t.get(r))return!0;if(13===r||10===r)return!0;if(0<o){var s=e.charCodeAt(n+o-1);if(0!==t.get(s))return!0}return!1}(t,e,i,n,o)}var _=(p.prototype.reset=function(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0},p.prototype.next=function(t){var e,i=t.length;do{if(this._prevMatchStartIndex+this._prevMatchLength===i)return null;if(!(e=this._searchRegex.exec(t)))return null;var n=e.index,o=e[0].length;if(n===this._prevMatchStartIndex&&o===this._prevMatchLength)return null;if(this._prevMatchStartIndex=n,this._prevMatchLength=o,!this._wordSeparators||y(this._wordSeparators,t,i,n,o))return e}while(e);return null},p);function p(t,e){this._wordSeparators=t,this._searchRegex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return h});var n,o=i(4),r=i(5),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=(Object.defineProperty(l.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"label",{get:function(){return this._label},set:function(t){this._setLabel(t)},enumerable:!0,configurable:!0}),l.prototype._setLabel=function(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))},Object.defineProperty(l.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){this._setTooltip(t)},enumerable:!0,configurable:!0}),l.prototype._setTooltip=function(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))},Object.defineProperty(l.prototype,"class",{get:function(){return this._cssClass},set:function(t){this._setClass(t)},enumerable:!0,configurable:!0}),l.prototype._setClass=function(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))},Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._setEnabled(t)},enumerable:!0,configurable:!0}),l.prototype._setEnabled=function(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))},Object.defineProperty(l.prototype,"checked",{get:function(){return this._checked},set:function(t){this._setChecked(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"radio",{get:function(){return this._radio},set:function(t){this._setRadio(t)},enumerable:!0,configurable:!0}),l.prototype._setChecked=function(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))},l.prototype._setRadio=function(t){this._radio!==t&&(this._radio=t,this._onDidChange.fire({radio:t}))},l.prototype.run=function(t,e){return this._actionCallback?this._actionCallback(t):Promise.resolve(!0)},l.prototype.dispose=function(){this._onDidChange.dispose()},l);function l(t,e,i,n,o){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=!0),this._onDidChange=new r.a,this.onDidChange=this._onDidChange.event,this._id=t,this._label=e,this._cssClass=i,this._enabled=n,this._actionCallback=o}var u,h=(u=o.a,s(c,u),c.prototype.run=function(e,t){var i=this;return e.enabled?(this._onDidBeforeRun.fire({action:e}),this.runAction(e,t).then(function(t){i._onDidRun.fire({action:e,result:t})},function(t){i._onDidRun.fire({action:e,error:t})})):Promise.resolve(null)},c.prototype.runAction=function(t,e){var i=e?t.run(e):t.run();return Promise.resolve(i)},c);function c(){var t=null!==u&&u.apply(this,arguments)||this;return t._onDidBeforeRun=t._register(new r.a),t.onDidBeforeRun=t._onDidBeforeRun.event,t._onDidRun=t._register(new r.a),t.onDidRun=t._onDidRun.event,t}},function(t,e,i){"use strict";var o=i(102),n=i(165);o.sentryDsn&&n.init({dsn:o.sentryDsn,release:o.release,environment:o.environment.join("/")});var r=new function(){this.hasBeenEnabled=!1,this.isEnabled=!1,this.proxy=function(){},this.initialise=function(){var t,e,i,n;!this.isEnabled&&o.googleAnalyticsEnabled?(this.hasBeenEnabled||(t=window,e=document,t.GoogleAnalyticsObject="ga",t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=e.createElement("script"),n=e.getElementsByTagName("script")[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",n.parentNode.insertBefore(i,n),window.ga("set","anonymizeIp",!0),window.ga("create",o.googleAnalyticsAccount,"auto"),window.ga("send","pageview")),this.proxy=function(){window.ga.apply(window.ga,arguments)},this.isEnabled=!0,this.hasBeenEnabled=!0):(this.isEnabled=!1,this.proxy=function(){})},this.toggle=function(t){t?this.isEnabled||this.initialise():(this.isEnabled=!1,this.proxy=function(){})}};t.exports=r},function(t,e,i){"use strict";i(291);var n,o,r=i(1),s=i(26),a=i(39),l=i(73),u=i(60),h=i(17),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=(o=u.a,c(p,o),p.prototype._arrowMouseDown=function(t){var e=this;this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(function(){e._mousedownRepeatTimer.cancelAndSet(function(){return e._onActivate()},1e3/24)},200),this._mouseMoveMonitor.startMonitoring(l.b,function(t){},function(){e._mousedownRepeatTimer.cancel(),e._mousedownScheduleRepeatTimer.cancel()}),t.preventDefault()},p);function p(t){var e=o.call(this)||this;return e._onActivate=t.onActivate,e.bgDomNode=document.createElement("div"),e.bgDomNode.className="arrow-background",e.bgDomNode.style.position="absolute",e.bgDomNode.style.width=t.bgWidth+"px",e.bgDomNode.style.height=t.bgHeight+"px",void 0!==t.top&&(e.bgDomNode.style.top="0px"),void 0!==t.left&&(e.bgDomNode.style.left="0px"),void 0!==t.bottom&&(e.bgDomNode.style.bottom="0px"),void 0!==t.right&&(e.bgDomNode.style.right="0px"),e.domNode=document.createElement("div"),e.domNode.className=t.className,e.domNode.style.position="absolute",e.domNode.style.width="11px",e.domNode.style.height="11px",void 0!==t.top&&(e.domNode.style.top=t.top+"px"),void 0!==t.left&&(e.domNode.style.left=t.left+"px"),void 0!==t.bottom&&(e.domNode.style.bottom=t.bottom+"px"),void 0!==t.right&&(e.domNode.style.right=t.right+"px"),e._mouseMoveMonitor=e._register(new l.a),e.onmousedown(e.bgDomNode,function(t){return e._arrowMouseDown(t)}),e.onmousedown(e.domNode,function(t){return e._arrowMouseDown(t)}),e._mousedownRepeatTimer=e._register(new h.c),e._mousedownScheduleRepeatTimer=e._register(new h.e),e}var f,g,m=i(4),v=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=(g=m.a,v(_,g),_.prototype.applyVisibilitySetting=function(t){return 2!==this._visibility&&(3===this._visibility||t)},_.prototype.setShouldBeVisible=function(t){var e=this.applyVisibilitySetting(t);this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())},_.prototype.setIsNeeded=function(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())},_.prototype.setDomNode=function(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},_.prototype.ensureVisibility=function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)},_.prototype._reveal=function(){var t=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){t._domNode&&t._domNode.setClassName(t._visibleClassName)},0))},_.prototype._hide=function(t){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(t?" fade":"")))},_);function _(t,e,i){var n=g.call(this)||this;return n._visibility=t,n._visibleClassName=e,n._invisibleClassName=i,n._domNode=null,n._isVisible=!1,n._isNeeded=!1,n._shouldBeVisible=!1,n._revealTimer=n._register(new h.e),n}var b,w,C=i(14),S=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),x=(w=u.a,S(k,w),k.prototype._createArrow=function(t){var e=this._register(new d(t));this.domNode.domNode.appendChild(e.bgDomNode),this.domNode.domNode.appendChild(e.domNode)},k.prototype._createSlider=function(t,e,i,n){var o=this;this.slider=Object(s.b)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(e),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(t){t.leftButton&&(t.preventDefault(),o._sliderMouseDown(t,function(){}))})},k.prototype._onElementSize=function(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},k.prototype._onElementScrollSize=function(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},k.prototype._onElementScrollPosition=function(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},k.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},k.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},k.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},k.prototype._domNodeMouseDown=function(t){t.target===this.domNode.domNode&&this._onMouseDown(t)},k.prototype.delegateMouseDown=function(t){var e=this.domNode.domNode.getClientRects()[0].top,i=e+this._scrollbarState.getSliderPosition(),n=e+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(t);i<=o&&o<=n?t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,function(){})):this._onMouseDown(t)},k.prototype._onMouseDown=function(t){var e,i;if(t.target===this.domNode.domNode&&"number"==typeof t.browserEvent.offsetX&&"number"==typeof t.browserEvent.offsetY)e=t.browserEvent.offsetX,i=t.browserEvent.offsetY;else{var n=r.v(this.domNode.domNode);e=t.posx-n.left,i=t.posy-n.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(e,i))),t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,function(){}))},k.prototype._sliderMouseDown=function(t,e){var o=this,r=this._sliderMousePosition(t),s=this._sliderOrthogonalMousePosition(t),a=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(l.b,function(t){var e=o._sliderOrthogonalMousePosition(t),i=Math.abs(e-s);if(C.g&&140<i)o._setDesiredScrollPositionNow(a.getScrollPosition());else{var n=o._sliderMousePosition(t)-r;o._setDesiredScrollPositionNow(a.getDesiredScrollPositionFromDelta(n))}},function(){o.slider.toggleClassName("active",!1),o._host.onDragEnd(),e()}),this._host.onDragStart()},k.prototype._setDesiredScrollPositionNow=function(t){var e={};this.writeScrollPosition(e,t),this._scrollable.setScrollPositionNow(e)},k);function k(t){var e=w.call(this)||this;return e._lazyRender=t.lazyRender,e._host=t.host,e._scrollable=t.scrollable,e._scrollbarState=t.scrollbarState,e._visibilityController=e._register(new y(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),e._mouseMoveMonitor=e._register(new l.a),e._shouldRender=!0,e.domNode=Object(s.b)(document.createElement("div")),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e._visibilityController.setDomNode(e.domNode),e.domNode.setPosition("absolute"),e.onmousedown(e.domNode.domNode,function(t){return e._domNodeMouseDown(t)}),e}var O=(E.prototype.clone=function(){var t=new E(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);return t.setVisibleSize(this._visibleSize),t.setScrollSize(this._scrollSize),t.setScrollPosition(this._scrollPosition),t},E.prototype.setVisibleSize=function(t){var e=Math.round(t);return this._visibleSize!==e&&(this._visibleSize=e,this._refreshComputedValues(),!0)},E.prototype.setScrollSize=function(t){var e=Math.round(t);return this._scrollSize!==e&&(this._scrollSize=e,this._refreshComputedValues(),!0)},E.prototype.setScrollPosition=function(t){var e=Math.round(t);return this._scrollPosition!==e&&(this._scrollPosition=e,this._refreshComputedValues(),!0)},E._computeValues=function(t,e,i,n,o){var r=Math.max(0,i-t),s=Math.max(0,r-2*e),a=0<n&&i<n;if(!a)return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};var l=Math.round(Math.max(20,Math.floor(i*s/n))),u=(s-l)/(n-i),h=o*u;return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:u,computedSliderPosition:Math.round(h)}},E.prototype._refreshComputedValues=function(){var t=E._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition},E.prototype.getArrowSize=function(){return this._arrowSize},E.prototype.getScrollPosition=function(){return this._scrollPosition},E.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},E.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},E.prototype.isNeeded=function(){return this._computedIsNeeded},E.prototype.getSliderSize=function(){return this._computedSliderSize},E.prototype.getSliderPosition=function(){return this._computedSliderPosition},E.prototype.getDesiredScrollPositionFromOffset=function(t){if(!this._computedIsNeeded)return 0;var e=t-this._arrowSize-this._computedSliderSize/2;return Math.round(e/this._computedSliderRatio)},E.prototype.getDesiredScrollPositionFromDelta=function(t){if(!this._computedIsNeeded)return 0;var e=this._computedSliderPosition+t;return Math.round(e/this._computedSliderRatio)},E);function E(t,e,i){this._scrollbarSize=Math.round(e),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(t),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}var L,D,I=((L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(N,D=x),N.prototype._updateSlider=function(t,e){this.slider.setWidth(t),this.slider.setLeft(e)},N.prototype._renderDomNode=function(t,e){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setLeft(0),this.domNode.setBottom(0)},N.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender},N.prototype._mouseDownRelativePosition=function(t,e){return t},N.prototype._sliderMousePosition=function(t){return t.posx},N.prototype._sliderOrthogonalMousePosition=function(t){return t.posy},N.prototype.writeScrollPosition=function(t,e){t.scrollLeft=e},N);function N(t,e,i){var n=D.call(this,{lazyRender:e.lazyRender,host:i,scrollbarState:new O(e.horizontalHasArrows?e.arrowSize:0,2===e.horizontal?0:e.horizontalScrollbarSize,2===e.vertical?0:e.verticalScrollbarSize),visibility:e.horizontal,extraScrollbarClassName:"horizontal",scrollable:t})||this;if(e.horizontalHasArrows){var o=(e.arrowSize-11)/2,r=(e.horizontalScrollbarSize-11)/2;n._createArrow({className:"left-arrow",top:r,left:o,bottom:void 0,right:void 0,bgWidth:e.arrowSize,bgHeight:e.horizontalScrollbarSize,onActivate:function(){return n._host.onMouseWheel(new a.c(null,1,0))}}),n._createArrow({className:"right-arrow",top:r,left:void 0,bottom:void 0,right:o,bgWidth:e.arrowSize,bgHeight:e.horizontalScrollbarSize,onActivate:function(){return n._host.onMouseWheel(new a.c(null,-1,0))}})}return n._createSlider(Math.floor((e.horizontalScrollbarSize-e.horizontalSliderSize)/2),0,void 0,e.horizontalSliderSize),n}var T,M,A=((T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(P,M=x),P.prototype._updateSlider=function(t,e){this.slider.setHeight(t),this.slider.setTop(e)},P.prototype._renderDomNode=function(t,e){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)},P.prototype.onDidScroll=function(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender},P.prototype._mouseDownRelativePosition=function(t,e){return e},P.prototype._sliderMousePosition=function(t){return t.posy},P.prototype._sliderOrthogonalMousePosition=function(t){return t.posx},P.prototype.writeScrollPosition=function(t,e){t.scrollTop=e},P);function P(t,e,i){var n=M.call(this,{lazyRender:e.lazyRender,host:i,scrollbarState:new O(e.verticalHasArrows?e.arrowSize:0,2===e.vertical?0:e.verticalScrollbarSize,0),visibility:e.vertical,extraScrollbarClassName:"vertical",scrollable:t})||this;if(e.verticalHasArrows){var o=(e.arrowSize-11)/2,r=(e.verticalScrollbarSize-11)/2;n._createArrow({className:"up-arrow",top:o,left:r,bottom:void 0,right:void 0,bgWidth:e.verticalScrollbarSize,bgHeight:e.arrowSize,onActivate:function(){return n._host.onMouseWheel(new a.c(null,0,1))}}),n._createArrow({className:"down-arrow",top:void 0,left:r,bottom:o,right:void 0,bgWidth:e.verticalScrollbarSize,bgHeight:e.arrowSize,onActivate:function(){return n._host.onMouseWheel(new a.c(null,0,-1))}})}return n._createSlider(0,Math.floor((e.verticalScrollbarSize-e.verticalSliderSize)/2),e.verticalSliderSize,void 0),n}var R=i(5),F=i(181);i.d(e,"b",function(){return G}),i.d(e,"c",function(){return Z}),i.d(e,"a",function(){return Q});var j,B=(j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),H=function(t,e,i){this.timestamp=t,this.deltaX=e,this.deltaY=i,this.score=0},W=(V.prototype.isPhysicalMouseWheel=function(){if(-1===this._front&&-1===this._rear)return!1;for(var t=1,e=0,i=1,n=this._rear;;){var o=n===this._front?t:Math.pow(2,-i);if(t-=o,e+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return e<=.5},V.prototype.accept=function(t,e,i){var n=new H(t,e,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)},V.prototype._computeScore=function(t){if(0<Math.abs(t.deltaX)&&0<Math.abs(t.deltaY))return 1;var e=.5;return-1===this._front&&-1===this._rear||this._memory[this._rear],(0<Math.abs(t.deltaX-Math.round(t.deltaX))||0<Math.abs(t.deltaY-Math.round(t.deltaY)))&&(e+=.25),Math.min(Math.max(e,0),1)},V.INSTANCE=new V,V);function V(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}var z,U=(z=u.a,B(q,z),q.prototype.dispose=function(){this._mouseWheelToDispose=Object(m.d)(this._mouseWheelToDispose),z.prototype.dispose.call(this)},q.prototype.getDomNode=function(){return this._domNode},q.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},q.prototype.delegateVerticalScrollbarMouseDown=function(t){this._verticalScrollbar.delegateMouseDown(t)},q.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()},q.prototype.setScrollDimensions=function(t){this._scrollable.setScrollDimensions(t)},q.prototype.updateClassName=function(t){this._options.className=t,C.d&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},q.prototype.updateOptions=function(t){var e=et(t);this._options.handleMouseWheel=e.handleMouseWheel,this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},q.prototype._setListeningToMouseWheel=function(t){var i=this;if(0<this._mouseWheelToDispose.length!==t&&(this._mouseWheelToDispose=Object(m.d)(this._mouseWheelToDispose),t)){var e=function(t){var e=new a.c(t);i._onMouseWheel(e)};this._mouseWheelToDispose.push(r.h(this._listenOnDomNode,"mousewheel",e)),this._mouseWheelToDispose.push(r.h(this._listenOnDomNode,"DOMMouseScroll",e))}},q.prototype._onMouseWheel=function(t){var e,i=W.INSTANCE;if(i.accept(Date.now(),t.deltaX,t.deltaY),t.deltaY||t.deltaX){var n=t.deltaY*this._options.mouseWheelScrollSensitivity,o=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(n=(e=[o,n])[0],o=e[1]);var r=!C.d&&t.browserEvent&&t.browserEvent.shiftKey;!this._options.scrollYToX&&!r||o||(o=n,n=0);var s=this._scrollable.getFutureScrollPosition(),a={};if(n){var l=s.scrollTop-50*n;this._verticalScrollbar.writeScrollPosition(a,l)}if(o){var u=s.scrollLeft-50*o;this._horizontalScrollbar.writeScrollPosition(a,u)}a=this._scrollable.validateScrollPosition(a),s.scrollLeft===a.scrollLeft&&s.scrollTop===a.scrollTop||(this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),this._shouldRender=!0)}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(t.preventDefault(),t.stopPropagation())},q.prototype._onDidScroll=function(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()},q.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},q.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var t=this._scrollable.getCurrentScrollPosition(),e=0<t.scrollTop,i=0<t.scrollLeft;this._leftShadowDomNode.setClassName("shadow"+(i?" left":"")),this._topShadowDomNode.setClassName("shadow"+(e?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(e?" top":"")+(i?" left":""))}},q.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},q.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},q.prototype._onMouseOut=function(t){this._mouseIsOver=!1,this._hide()},q.prototype._onMouseOver=function(t){this._mouseIsOver=!0,this._reveal()},q.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},q.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},q.prototype._scheduleHide=function(){var t=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(function(){return t._hide()},500)},q);function q(t,e,i){var n=z.call(this)||this;n._onScroll=n._register(new R.a),n.onScroll=n._onScroll.event,t.style.overflow="hidden",n._options=et(e),n._scrollable=i,n._register(n._scrollable.onScroll(function(t){n._onDidScroll(t),n._onScroll.fire(t)}));var o={onMouseWheel:function(t){return n._onMouseWheel(t)},onDragStart:function(){return n._onDragStart()},onDragEnd:function(){return n._onDragEnd()}};return n._verticalScrollbar=n._register(new A(n._scrollable,n._options,o)),n._horizontalScrollbar=n._register(new I(n._scrollable,n._options,o)),n._domNode=document.createElement("div"),n._domNode.className="monaco-scrollable-element "+n._options.className,n._domNode.setAttribute("role","presentation"),n._domNode.style.position="relative",n._domNode.style.overflow="hidden",n._domNode.appendChild(t),n._domNode.appendChild(n._horizontalScrollbar.domNode.domNode),n._domNode.appendChild(n._verticalScrollbar.domNode.domNode),n._options.useShadows&&(n._leftShadowDomNode=Object(s.b)(document.createElement("div")),n._leftShadowDomNode.setClassName("shadow"),n._domNode.appendChild(n._leftShadowDomNode.domNode),n._topShadowDomNode=Object(s.b)(document.createElement("div")),n._topShadowDomNode.setClassName("shadow"),n._domNode.appendChild(n._topShadowDomNode.domNode),n._topLeftShadowDomNode=Object(s.b)(document.createElement("div")),n._topLeftShadowDomNode.setClassName("shadow top-left-corner"),n._domNode.appendChild(n._topLeftShadowDomNode.domNode)),n._listenOnDomNode=n._options.listenOnDomNode||n._domNode,n._mouseWheelToDispose=[],n._setListeningToMouseWheel(n._options.handleMouseWheel),n.onmouseover(n._listenOnDomNode,function(t){return n._onMouseOver(t)}),n.onnonbubblingmouseout(n._listenOnDomNode,function(t){return n._onMouseOut(t)}),n._hideTimeout=n._register(new h.e),n._isDragging=!1,n._mouseIsOver=!1,n._shouldRender=!0,n._revealOnScroll=!0,n}var K,G=(B(Y,K=U),Y.prototype.setScrollPosition=function(t){this._scrollable.setScrollPositionNow(t)},Y.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},Y);function Y(t,e){var i=this;(e=e||{}).mouseWheelSmoothScroll=!1;var n=new F.a(0,function(t){return r.N(t)});return(i=K.call(this,t,e,n)||this)._register(n),i}var $,Z=(B(X,$=U),X);function X(t,e,i){return $.call(this,t,e,i)||this}var J,Q=(B(tt,J=G),tt.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})},tt);function tt(t,e){var i=J.call(this,t,e)||this;return i._element=t,i.onScroll(function(t){t.scrollTopChanged&&(i._element.scrollTop=t.scrollTop),t.scrollLeftChanged&&(i._element.scrollLeft=t.scrollLeft)}),i.scanDomNode(),i}function et(t){var e={lazyRender:void 0!==t.lazyRender&&t.lazyRender,className:void 0!==t.className?t.className:"",useShadows:void 0===t.useShadows||t.useShadows,handleMouseWheel:void 0===t.handleMouseWheel||t.handleMouseWheel,flipAxes:void 0!==t.flipAxes&&t.flipAxes,alwaysConsumeMouseWheel:void 0!==t.alwaysConsumeMouseWheel&&t.alwaysConsumeMouseWheel,scrollYToX:void 0!==t.scrollYToX&&t.scrollYToX,mouseWheelScrollSensitivity:void 0!==t.mouseWheelScrollSensitivity?t.mouseWheelScrollSensitivity:1,mouseWheelSmoothScroll:void 0===t.mouseWheelSmoothScroll||t.mouseWheelSmoothScroll,arrowSize:void 0!==t.arrowSize?t.arrowSize:11,listenOnDomNode:void 0!==t.listenOnDomNode?t.listenOnDomNode:null,horizontal:void 0!==t.horizontal?t.horizontal:1,horizontalScrollbarSize:void 0!==t.horizontalScrollbarSize?t.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==t.horizontalSliderSize?t.horizontalSliderSize:0,horizontalHasArrows:void 0!==t.horizontalHasArrows&&t.horizontalHasArrows,vertical:void 0!==t.vertical?t.vertical:1,verticalScrollbarSize:void 0!==t.verticalScrollbarSize?t.verticalScrollbarSize:10,verticalHasArrows:void 0!==t.verticalHasArrows&&t.verticalHasArrows,verticalSliderSize:void 0!==t.verticalSliderSize?t.verticalSliderSize:0};return e.horizontalSliderSize=void 0!==t.horizontalSliderSize?t.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=void 0!==t.verticalSliderSize?t.verticalSliderSize:e.verticalScrollbarSize,C.d&&(e.className+=" mac"),e}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var n=i(18),o=Object(n.c)("openerService"),r=Object.freeze({_serviceBrand:void 0,open:function(){return Promise.resolve(void 0)}})},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("editorWorkerService")},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("modeService")},function(t,e,i){"use strict";i.d(e,"c",function(){return l}),i.d(e,"a",function(){return h}),i.d(e,"b",function(){return p}),i.d(e,"d",function(){return g});var n,o,r,s,a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l={done:!0,value:void 0};function u(t,e){for(var i=t.next();!i.done;i=t.next())e(i.value)}r=o=o||{},s={next:function(){return l}},r.empty=function(){return s},r.fromArray=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=t.length),{next:function(){return i<=e?l:{done:!1,value:t[e++]}}}},r.from=function(t){return t?Array.isArray(t)?r.fromArray(t):t:r.empty()},r.map=function(e,i){return{next:function(){var t=e.next();return t.done?l:{done:!1,value:i(t.value)}}}},r.filter=function(e,i){return{next:function(){for(;;){var t=e.next();if(t.done)return l;if(i(t.value))return{done:!1,value:t.value}}}}},r.forEach=u,r.collect=function(t){var e=[];return u(t,function(t){return e.push(t)}),e};var h=(c.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},c.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},c);function c(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=t.length),void 0===n&&(n=e-1),this.items=t,this.start=e,this.end=i,this.index=n}var d,p=(a(f,d=h),f.prototype.current=function(){return d.prototype.current.call(this)},f.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},f.prototype.first=function(){return this.index=this.start,this.current()},f.prototype.last=function(){return this.index=this.end-1,this.current()},f.prototype.parent=function(){return null},f);function f(t,e,i,n){return void 0===e&&(e=0),void 0===i&&(i=t.length),void 0===n&&(n=e-1),d.call(this,t,e,i,n)||this}var g=(m.prototype.next=function(){return this.fn(this.iterator.next())},m);function m(t,e){this.iterator=t,this.fn=e}},function(t,e,i){"use strict";function n(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function o(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function r(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function s(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function a(t){return"[object String]"===Object.prototype.toString.call(t)}function l(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function h(t){return"undefined"!=typeof Event&&t instanceof Event}function c(t){return"undefined"!=typeof Element&&t instanceof Element}function d(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function p(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function f(t){return u(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}i.d(e,"d",function(){return n}),i.d(e,"e",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"b",function(){return s}),i.d(e,"j",function(){return a}),i.d(e,"h",function(){return l}),i.d(e,"g",function(){return u}),i.d(e,"f",function(){return h}),i.d(e,"c",function(){return c}),i.d(e,"i",function(){return d}),i.d(e,"l",function(){return p}),i.d(e,"k",function(){return f})},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var a=i(38),l=i(14),n=i(37),o=i(57);function u(){this._keybindings=[],this._keybindingsSorted=!0}var r=new(u.bindToCurrentPlatform=function(t){if(1===l.a){if(t&&t.win)return t.win}else if(2===l.a){if(t&&t.mac)return t.mac}else if(t&&t.linux)return t.linux;return t},u.prototype.registerKeybindingRule=function(t,e){void 0===e&&(e=0);var i=u.bindToCurrentPlatform(t);if(i&&i.primary&&(r=Object(a.f)(i.primary,l.a))&&this._registerDefaultKeybinding(r,t.id,t.weight,0,t.when,e),i&&Array.isArray(i.secondary))for(var n=0,o=i.secondary.length;n<o;n++){var r,s=i.secondary[n];(r=Object(a.f)(s,l.a))&&this._registerDefaultKeybinding(r,t.id,t.weight,-n-1,t.when,e)}},u.prototype.registerCommandAndKeybindingRule=function(t,e){void 0===e&&(e=0),this.registerKeybindingRule(t,e),n.a.registerCommand(t)},u._mightProduceChar=function(t){return 21<=t&&t<=30||31<=t&&t<=56||80===t||81===t||82===t||83===t||84===t||85===t||86===t||110===t||111===t||87===t||88===t||89===t||90===t||91===t||92===t},u.prototype._assertNoCtrlAlt=function(t,e){t.ctrlKey&&t.altKey&&!t.metaKey&&u._mightProduceChar(t.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",t," for ",e)},u.prototype._registerDefaultKeybinding=function(t,e,i,n,o,r){0===r&&1===l.a&&(2===t.type?this._assertNoCtrlAlt(t.firstPart,e):this._assertNoCtrlAlt(t,e)),this._keybindings.push({keybinding:t,command:e,commandArgs:void 0,when:o,weight1:i,weight2:n}),this._keybindingsSorted=!1},u.prototype.getDefaultKeybindings=function(){return this._keybindingsSorted||(this._keybindings.sort(s),this._keybindingsSorted=!0),this._keybindings.slice(0)},u);function s(t,e){return t.weight1!==e.weight1?t.weight1-e.weight1:t.command<e.command?-1:t.command>e.command?1:t.weight2-e.weight2}o.a.add("platform.keybindingsRegistry",r)},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(11),o=(r.prototype.equals=function(t){return t instanceof r&&this.slicedEquals(t,0,this._tokensCount)},r.prototype.slicedEquals=function(t,e,i){if(this._text!==t._text)return!1;if(this._tokensCount!==t._tokensCount)return!1;for(var n=e<<1,o=n+(i<<1),r=n;r<o;r++)if(this._tokens[r]!==t._tokens[r])return!1;return!0},r.prototype.getLineContent=function(){return this._text},r.prototype.getCount=function(){return this._tokensCount},r.prototype.getStartOffset=function(t){return 0<t?this._tokens[t-1<<1]:0},r.prototype.getLanguageId=function(t){var e=this._tokens[1+(t<<1)];return n.v.getLanguageId(e)},r.prototype.getStandardTokenType=function(t){var e=this._tokens[1+(t<<1)];return n.v.getTokenType(e)},r.prototype.getForeground=function(t){var e=this._tokens[1+(t<<1)];return n.v.getForeground(e)},r.prototype.getClassName=function(t){var e=this._tokens[1+(t<<1)];return n.v.getClassNameFromMetadata(e)},r.prototype.getInlineStyle=function(t,e){var i=this._tokens[1+(t<<1)];return n.v.getInlineStyleFromMetadata(i,e)},r.prototype.getEndOffset=function(t){return this._tokens[t<<1]},r.prototype.findTokenIndexAtOffset=function(t){return r.findIndexInTokensArray(this._tokens,t)},r.prototype.inflate=function(){return this},r.prototype.sliceAndInflate=function(t,e,i){return new s(this,t,e,i)},r.convertToEndOffset=function(t,e){for(var i=(t.length>>>1)-1,n=0;n<i;n++)t[n<<1]=t[n+1<<1];t[i<<1]=e},r.findIndexInTokensArray=function(t,e){if(t.length<=2)return 0;for(var i=0,n=(t.length>>>1)-1;i<n;){var o=i+Math.floor((n-i)/2),r=t[o<<1];if(r===e)return o+1;r<e?i=o+1:e<r&&(n=o)}return i},r);function r(t,e){this._tokens=t,this._tokensCount=this._tokens.length>>>1,this._text=e}var s=(a.prototype.equals=function(t){return t instanceof a&&this._startOffset===t._startOffset&&this._endOffset===t._endOffset&&this._deltaOffset===t._deltaOffset&&this._source.slicedEquals(t._source,this._firstTokenIndex,this._tokensCount)},a.prototype.getCount=function(){return this._tokensCount},a.prototype.getForeground=function(t){return this._source.getForeground(this._firstTokenIndex+t)},a.prototype.getEndOffset=function(t){var e=this._source.getEndOffset(this._firstTokenIndex+t);return Math.min(this._endOffset,e)-this._startOffset+this._deltaOffset},a.prototype.getClassName=function(t){return this._source.getClassName(this._firstTokenIndex+t)},a.prototype.getInlineStyle=function(t,e){return this._source.getInlineStyle(this._firstTokenIndex+t,e)},a.prototype.findTokenIndexAtOffset=function(t){return this._source.findTokenIndexAtOffset(t+this._startOffset-this._deltaOffset)-this._firstTokenIndex},a);function a(t,e,i,n){this._source=t,this._startOffset=e,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=t.findTokenIndexAtOffset(e),this._tokensCount=0;for(var o=this._firstTokenIndex,r=t.getCount();o<r;o++){if(i<=t.getStartOffset(o))break;this._tokensCount++}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return s});var n=(o.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},o);function o(t,e,i){this.offset=0|t,this.type=e,this.language=i}var r=function(t,e){this.tokens=t,this.endState=e},s=function(t,e){this.tokens=t,this.endState=e}},function(t,e,i){"use strict";function n(t,e){for(var i=t.getCount(),n=t.findTokenIndexAtOffset(e),o=t.getLanguageId(n),r=n;r+1<i&&t.getLanguageId(r+1)===o;)r++;for(var s=n;0<s&&t.getLanguageId(s-1)===o;)s--;return new a(t,o,s,r+1,t.getStartOffset(s),t.getEndOffset(r))}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var a=(o.prototype.getLineContent=function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)},o.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},o.prototype.findTokenIndexAtOffset=function(t){return this._actual.findTokenIndexAtOffset(t+this.firstCharOffset)-this._firstTokenIndex},o.prototype.getStandardTokenType=function(t){return this._actual.getStandardTokenType(t+this._firstTokenIndex)},o);function o(t,e,i,n,o,r){this._actual=t,this.languageId=e,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=r}function r(t){return 0!=(7&t)}},function(t,e,i){"use strict";i.r(e);var y=i(13),x=i(8),k=i(40),c=i(123),O=i(2),r=i(20),h=(n.prototype.getEditOperations=function(t,e){e.addTrackedEditOperation(new O.a(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),e.addTrackedEditOperation(new O.a(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},n.prototype.computeCursorState=function(t,e){var i=e.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new r.a(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},n);function n(t,e,i){this._range=t,this._charBeforeSelection=e,this._charAfterSelection=i}var E=i(15),_=i(103),L=i(46),D=i(32);i.d(e,"TypeOperations",function(){return o});var o=(I.indent=function(t,e,i){for(var n=[],o=0,r=i.length;o<r;o++)n[o]=new c.a(i[o],{isUnshift:!1,tabSize:t.tabSize,oneIndent:t.oneIndent,useTabStops:t.useTabStops});return n},I.outdent=function(t,e,i){for(var n=[],o=0,r=i.length;o<r;o++)n[o]=new c.a(i[o],{isUnshift:!0,tabSize:t.tabSize,oneIndent:t.oneIndent,useTabStops:t.useTabStops});return n},I.shiftIndent=function(t,e,i){i=i||1;for(var n=c.a.shiftIndentCount(e,e.length+i,t.tabSize),o="",r=0;r<n;r++)o+="\t";return o},I.unshiftIndent=function(t,e,i){i=i||1;for(var n=c.a.unshiftIndentCount(e,e.length+i,t.tabSize),o="",r=0;r<n;r++)o+="\t";return o},I._distributedPaste=function(t,e,i,n){for(var o=[],r=0,s=i.length;r<s;r++)o[r]=new k.a(i[r],n[r]);return new E.e(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},I._simplePaste=function(t,e,i,n,o){for(var r=[],s=0,a=i.length;s<a;s++){var l=i[s],u=l.getPosition();if(o&&n.indexOf("\n")!==n.length-1&&(o=!1),o&&l.startLineNumber!==l.endLineNumber&&(o=!1),o&&l.startColumn===e.getLineMinColumn(l.startLineNumber)&&l.endColumn===e.getLineMaxColumn(l.startLineNumber)&&(o=!1),o){var h=new O.a(u.lineNumber,1,u.lineNumber,1);r[s]=new k.a(h,n)}else r[s]=new k.a(l,n)}return new E.e(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},I._distributePasteToCursors=function(t,e,i,n){if(i)return null;if(1===t.length)return null;if(n&&n.length===t.length)return n;10===e.charCodeAt(e.length-1)&&(e=e.substr(0,e.length-1));var o=e.split(/\r\n|\r|\n/);return o.length===t.length?o:null},I.paste=function(t,e,i,n,o,r){var s=this._distributePasteToCursors(i,n,o,r);return s?(i=i.sort(O.a.compareRangesUsingStarts),this._distributedPaste(t,e,i,s)):this._simplePaste(t,e,i,n,o)},I._goodIndentForLine=function(t,e,i){var n=null,o="",r=t.autoIndent?D.a.getInheritIndentForLine(e,i,!1):null;if(r)n=r.action,o=r.indentation;else if(1<i){var s=i-1;for(s=i-1;1<=s;s--){var a=e.getLineContent(s);if(0<=x.y(a))break}if(s<1)return null;var l=e.getLineMaxColumn(s),u=D.a.getEnterAction(e,new O.a(s,l,s,l));u&&(o=u.indentation,(n=u.enterAction)&&(o+=n.appendText))}return n&&(n===L.a.Indent&&(o=I.shiftIndent(t,o)),n===L.a.Outdent&&(o=I.unshiftIndent(t,o)),o=t.normalizeIndentation(o)),o||null},I._replaceJumpToNextIndent=function(t,e,i,n){var o="",r=i.getStartPosition();if(t.insertSpaces)for(var s=E.a.visibleColumnFromColumn2(t,e,r),a=t.tabSize,l=a-s%a,u=0;u<l;u++)o+=" ";else o="\t";return new k.a(i,o,n)},I.tab=function(t,e,i){for(var n=[],o=0,r=i.length;o<r;o++){var s=i[o];if(s.isEmpty()){var a=e.getLineContent(s.startLineNumber);if(/^\s*$/.test(a)&&e.isCheapToTokenize(s.startLineNumber)){var l=this._goodIndentForLine(t,e,s.startLineNumber);l=l||"\t";var u=t.normalizeIndentation(l);if(!x.F(a,u)){n[o]=new k.a(new O.a(s.startLineNumber,1,s.startLineNumber,a.length+1),u,!0);continue}}n[o]=this._replaceJumpToNextIndent(t,e,s,!0)}else{if(s.startLineNumber===s.endLineNumber){var h=e.getLineMaxColumn(s.startLineNumber);if(1!==s.startColumn||s.endColumn!==h){n[o]=this._replaceJumpToNextIndent(t,e,s,!1);continue}}n[o]=new c.a(s,{isUnshift:!1,tabSize:t.tabSize,oneIndent:t.oneIndent,useTabStops:t.useTabStops})}}return n},I.replacePreviousChar=function(t,e,i,n,o,r){for(var s=[],a=0,l=n.length;a<l;a++){var u=n[a];if(u.isEmpty()){var h=u.getPosition(),c=Math.max(1,h.column-r),d=new O.a(h.lineNumber,c,h.lineNumber,h.column);s[a]=new k.a(d,o)}else s[a]=null}return new E.e(1,s,{shouldPushStackElementBefore:1!==t,shouldPushStackElementAfter:!1})},I._typeCommand=function(t,e,i){return i?new k.d(t,e,!0):new k.a(t,e,!0)},I._enter=function(e,t,i,n){if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)){var o=t.getLineContent(n.startLineNumber),r=x.q(o).substring(0,n.startColumn-1);return I._typeCommand(n,"\n"+e.normalizeIndentation(r),i)}var s=D.a.getEnterAction(t,n);if(s){var a=s.enterAction,l=s.indentation;if(a.indentAction===L.a.None)return I._typeCommand(n,"\n"+e.normalizeIndentation(l+a.appendText),i);if(a.indentAction===L.a.Indent)return I._typeCommand(n,"\n"+e.normalizeIndentation(l+a.appendText),i);if(a.indentAction===L.a.IndentOutdent){var u=e.normalizeIndentation(l),h=e.normalizeIndentation(l+a.appendText),c="\n"+h+"\n"+u;return i?new k.d(n,c,!0):new k.c(n,c,-1,h.length-u.length,!0)}if(a.indentAction===L.a.Outdent){var d=I.unshiftIndent(e,l);return I._typeCommand(n,"\n"+e.normalizeIndentation(d+a.appendText),i)}}if(!e.autoIndent){var p=t.getLineContent(n.startLineNumber),f=x.q(p).substring(0,n.startColumn-1);return I._typeCommand(n,"\n"+e.normalizeIndentation(f),i)}var g=D.a.getIndentForEnter(t,n,{unshiftIndent:function(t){return I.unshiftIndent(e,t)},shiftIndent:function(t){return I.shiftIndent(e,t)},normalizeIndentation:function(t){return e.normalizeIndentation(t)}},e.autoIndent),m=t.getLineContent(n.startLineNumber),v=x.q(m).substring(0,n.startColumn-1);if(g){var y=E.a.visibleColumnFromColumn2(e,t,n.getEndPosition()),_=n.endColumn,b="\n";v!==e.normalizeIndentation(g.beforeEnter)&&(b=e.normalizeIndentation(g.beforeEnter)+m.substring(v.length,n.startColumn-1)+"\n",n=new O.a(n.startLineNumber,1,n.endLineNumber,n.endColumn));var w=t.getLineContent(n.endLineNumber),C=x.o(w);if(n=0<=C?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,C+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new k.d(n,b+e.normalizeIndentation(g.afterEnter),!0);var S=0;return _<=C+1&&(e.insertSpaces||(y=Math.ceil(y/e.tabSize)),S=Math.min(y+1-e.normalizeIndentation(g.afterEnter).length-1,0)),new k.c(n,b+e.normalizeIndentation(g.afterEnter),0,S,!0)}return I._typeCommand(n,"\n"+e.normalizeIndentation(v),i)},I._isAutoIndentType=function(t,e,i){if(!t.autoIndent)return!1;for(var n=0,o=i.length;n<o;n++)if(!e.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0},I._runAutoIndentType=function(e,t,i,n){var o=D.a.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),r=D.a.getIndentActionForType(t,i,n,{shiftIndent:function(t){return I.shiftIndent(e,t)},unshiftIndent:function(t){return I.unshiftIndent(e,t)}});if(null===r)return null;if(r===e.normalizeIndentation(o))return null;var s=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return I._typeCommand(new O.a(i.startLineNumber,0,i.endLineNumber,i.endColumn),0===s?e.normalizeIndentation(r)+n:e.normalizeIndentation(r)+t.getLineContent(i.startLineNumber).substring(s-1,i.startColumn-1)+n,!1)},I._isAutoClosingCloseCharType=function(t,e,i,n){if("never"===(Object(E.g)(n)?t.autoClosingQuotes:t.autoClosingBrackets)||!t.autoClosingPairsClose.hasOwnProperty(n))return!1;for(var o=n===t.autoClosingPairsClose[n],r=0,s=i.length;r<s;r++){var a=i[r];if(!a.isEmpty())return!1;var l=a.getPosition(),u=e.getLineContent(l.lineNumber);if(u.charAt(l.column-1)!==n)return!1;if(o){var h=u.substr(0,l.column-1);if(this._countNeedlesInHaystack(h,n)%2==0)return!1}}return!0},I._countNeedlesInHaystack=function(t,e){for(var i=0,n=-1;-1!==(n=t.indexOf(e,n+1));)i++;return i},I._runAutoClosingCloseCharType=function(t,e,i,n,o){for(var r=[],s=0,a=n.length;s<a;s++){var l=n[s].getPosition(),u=new O.a(l.lineNumber,l.column,l.lineNumber,l.column+1);r[s]=new k.a(u,o)}return new E.e(1,r,{shouldPushStackElementBefore:1!==t,shouldPushStackElementAfter:!1})},I._isBeforeClosingBrace=function(t,e,i){var n=t.autoClosingPairsOpen[e]===e,o=!1;for(var r in t.autoClosingPairsClose){var s=t.autoClosingPairsOpen[r]===r;if((n||!s)&&i===r){o=!0;break}}return o},I._isAutoClosingOpenCharType=function(t,e,i,n){var o=Object(E.g)(n);if("never"===(o?t.autoClosingQuotes:t.autoClosingBrackets)||!t.autoClosingPairsOpen.hasOwnProperty(n))return!1;for(var r=o?t.shouldAutoCloseBefore.quote:t.shouldAutoCloseBefore.bracket,s=0,a=i.length;s<a;s++){var l=i[s];if(!l.isEmpty())return!1;var u=l.getPosition(),h=e.getLineContent(u.lineNumber);if(o&&1<u.column){var c=Object(_.a)(t.wordSeparators),d=h.charCodeAt(u.column-2);if(0===c.get(d))return!1}var p=h.charAt(u.column-1);if(p&&!I._isBeforeClosingBrace(t,n,p)&&!r(p))return!1;if(!e.isCheapToTokenize(u.lineNumber))return!1;e.forceTokenization(u.lineNumber);var f=e.getLineTokens(u.lineNumber),g=!1;try{g=D.a.shouldAutoClosePair(n,f,u.column)}catch(t){Object(y.e)(t)}if(!g)return!1}return!0},I._runAutoClosingOpenCharType=function(t,e,i,n,o){for(var r=[],s=0,a=n.length;s<a;s++){var l=n[s],u=e.autoClosingPairsOpen[o];r[s]=new k.c(l,o+u,0,-u.length)}return new E.e(1,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},I._shouldSurroundChar=function(t,e){return Object(E.g)(e)?"quotes"===t.autoSurround||"languageDefined"===t.autoSurround:"brackets"===t.autoSurround||"languageDefined"===t.autoSurround},I._isSurroundSelectionType=function(t,e,i,n){if(!I._shouldSurroundChar(t,n)||!t.surroundingPairs.hasOwnProperty(n))return!1;for(var o=Object(E.g)(n),r=0,s=i.length;r<s;r++){var a=i[r];if(a.isEmpty())return!1;for(var l=!0,u=a.startLineNumber;u<=a.endLineNumber;u++){var h=e.getLineContent(u),c=u===a.startLineNumber?a.startColumn-1:0,d=u===a.endLineNumber?a.endColumn-1:h.length,p=h.substring(c,d);if(/[^ \t]/.test(p)){l=!1;break}}if(l)return!1;if(o&&a.startLineNumber===a.endLineNumber&&a.startColumn+1===a.endColumn){var f=e.getValueInRange(a);if(Object(E.g)(f))return!1}}return!0},I._runSurroundSelectionType=function(t,e,i,n,o){for(var r=[],s=0,a=n.length;s<a;s++){var l=n[s],u=e.surroundingPairs[o];r[s]=new h(l,o,u)}return new E.e(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},I._isTypeInterceptorElectricChar=function(t,e,i){return!(1!==i.length||!e.isCheapToTokenize(i[0].getEndPosition().lineNumber))},I._typeInterceptorElectricChar=function(t,e,i,n,o){if(!e.electricChars.hasOwnProperty(o)||!n.isEmpty())return null;var r=n.getPosition();i.forceTokenization(r.lineNumber);var s,a=i.getLineTokens(r.lineNumber);try{s=D.a.onElectricCharacter(o,a,r.column)}catch(t){return Object(y.e)(t),null}if(!s)return null;if(s.appendText){var l=new k.c(n,o+s.appendText,0,-s.appendText.length);return new E.e(1,[l],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}if(s.matchOpenBracket){var u=(a.getLineContent()+o).lastIndexOf(s.matchOpenBracket)+1,h=i.findMatchingBracketUp(s.matchOpenBracket,{lineNumber:r.lineNumber,column:u});if(h){if(h.startLineNumber===r.lineNumber)return null;var c=i.getLineContent(h.startLineNumber),d=x.q(c),p=e.normalizeIndentation(d),f=i.getLineContent(r.lineNumber),g=i.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,m=p+f.substring(g-1,r.column-1)+o,v=new O.a(r.lineNumber,1,r.lineNumber,r.column);return l=new k.a(v,m),new E.e(1,[l],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},I.compositionEndWithInterceptors=function(t,e,i,n){if("never"===e.autoClosingQuotes)return null;for(var o=[],r=0;r<n.length;r++)if(n[r].isEmpty()){var s=n[r].getPosition(),a=i.getLineContent(s.lineNumber),l=a.charAt(s.column-2);if(e.autoClosingPairsClose.hasOwnProperty(l)&&l===e.autoClosingPairsClose[l]){var u=a.substr(0,s.column-2);if(this._countNeedlesInHaystack(u,l)%2==1)continue}if(e.autoClosingPairsOpen.hasOwnProperty(l)){if(Object(E.g)(l)&&2<s.column){var h=Object(_.a)(e.wordSeparators),c=a.charCodeAt(s.column-3);if(0===h.get(c))continue}var d=a.charAt(s.column-1);if(d){var p=I._isBeforeClosingBrace(e,l,d),f=Object(E.g)(l)?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if(p)continue;if(!f(d))continue}if(!i.isCheapToTokenize(s.lineNumber))continue;i.forceTokenization(s.lineNumber);var g=i.getLineTokens(s.lineNumber),m=!1;try{m=D.a.shouldAutoClosePair(l,g,s.column-1)}catch(t){Object(y.e)(t)}if(m){var v=e.autoClosingPairsOpen[l];o[r]=new k.c(n[r],v,0,-v.length)}}}return new E.e(1,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},I.typeWithInterceptors=function(t,e,i,n,o){if("\n"===o){for(var r=[],s=0,a=n.length;s<a;s++)r[s]=I._enter(e,i,!1,n[s]);return new E.e(1,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoIndentType(e,i,n)){var l=[],u=!1;for(s=0,a=n.length;s<a;s++)if(l[s]=this._runAutoIndentType(e,i,n[s],o),!l[s]){u=!0;break}if(!u)return new E.e(1,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingCloseCharType(e,i,n,o))return this._runAutoClosingCloseCharType(t,e,i,n,o);if(this._isAutoClosingOpenCharType(e,i,n,o))return this._runAutoClosingOpenCharType(t,e,i,n,o);if(this._isSurroundSelectionType(e,i,n,o))return this._runSurroundSelectionType(t,e,i,n,o);if(this._isTypeInterceptorElectricChar(e,i,n)){var h=this._typeInterceptorElectricChar(t,e,i,n[0],o);if(h)return h}var c=[];for(s=0,a=n.length;s<a;s++)c[s]=new k.a(n[s],o);var d=1!==t;return" "===o&&(d=!0),new E.e(1,c,{shouldPushStackElementBefore:d,shouldPushStackElementAfter:!1})},I.typeWithoutInterceptors=function(t,e,i,n,o){for(var r=[],s=0,a=n.length;s<a;s++)r[s]=new k.a(n[s],o);return new E.e(1,r,{shouldPushStackElementBefore:1!==t,shouldPushStackElementAfter:!1})},I.lineInsertBefore=function(t,e,i){for(var n=[],o=0,r=i.length;o<r;o++){var s=i[o].positionLineNumber;if(1===s)n[o]=new k.d(new O.a(1,1,1,1),"\n");else{s--;var a=e.getLineMaxColumn(s);n[o]=this._enter(t,e,!1,new O.a(s,a,s,a))}}return n},I.lineInsertAfter=function(t,e,i){for(var n=[],o=0,r=i.length;o<r;o++){var s=i[o].positionLineNumber,a=e.getLineMaxColumn(s);n[o]=this._enter(t,e,!1,new O.a(s,a,s,a))}return n},I.lineBreakInsert=function(t,e,i){for(var n=[],o=0,r=i.length;o<r;o++)n[o]=this._enter(t,e,!0,i[o]);return n},I);function I(){}},function(t,e,i){"use strict";i.d(e,"b",function(){return b}),i.d(e,"a",function(){return o});var v=i(8),y=i(9),_=i(2),b=(n.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},n.readFromTextArea=function(t){return new n(t.getValue(),t.getSelectionStart(),t.getSelectionEnd(),null,null)},n.prototype.collapseSelection=function(){return new n(this.value,this.value.length,this.value.length,null,null)},n.prototype.writeToTextArea=function(t,e,i){e.setValue(t,this.value),i&&e.setSelectionRange(t,this.selectionStart,this.selectionEnd)},n.prototype.deduceEditorPosition=function(t){if(t<=this.selectionStart){var e=this.value.substring(t,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,e,-1)}if(t>=this.selectionEnd)return e=this.value.substring(this.selectionEnd,t),this._finishDeduceEditorPosition(this.selectionEndPosition,e,1);var i=this.value.substring(this.selectionStart,t);if(-1===i.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);var n=this.value.substring(t,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,-1)},n.prototype._finishDeduceEditorPosition=function(t,e,i){for(var n=0,o=-1;-1!==(o=e.indexOf("\n",o+1));)n++;return[t,i*e.length,n]},n.selectedText=function(t){return new n(t,0,t.length,null,null)},n.deduceInput=function(t,e,i,n){if(!t)return{text:"",replaceCharCnt:0};var o=t.value,r=t.selectionStart,s=t.selectionEnd,a=e.value,l=e.selectionStart,u=e.selectionEnd;n&&0<o.length&&r===s&&l===u&&!v.F(a,o)&&v.k(a,o)&&(s=r=0);var h=o.substring(s),c=a.substring(u),d=v.c(h,c);a=a.substring(0,a.length-d);var p=(o=o.substring(0,o.length-d)).substring(0,r),f=a.substring(0,l),g=v.b(p,f);if(a=a.substring(g),o=o.substring(g),l-=g,r-=g,u-=g,s-=g,i&&l===u&&0<o.length){var m=null;if(l===a.length?v.F(a,o)&&(m=a.substring(o.length)):v.k(a,o)&&(m=a.substring(0,a.length-o.length)),null!==m&&0<m.length&&(/\uFE0F/.test(m)||v.e(m)))return{text:m,replaceCharCnt:0}}return l===u?o===a&&0===r&&s===o.length&&l===a.length&&-1===a.indexOf("\n")&&v.f(a)?{text:"",replaceCharCnt:0}:{text:a,replaceCharCnt:p.length-g}:{text:a,replaceCharCnt:s-r}},n.EMPTY=new n("",0,0,null,null),n);function n(t,e,i,n,o){this.value=t,this.selectionStart=e,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}var o=(w._getPageOfLine=function(t){return Math.floor((t-1)/w._LINES_PER_PAGE)},w._getRangeForPage=function(t){var e=t*w._LINES_PER_PAGE,i=1+e,n=e+w._LINES_PER_PAGE;return new _.a(i,1,n+1,1)},w.fromEditorSelection=function(t,e,i,n){var o,r=w._getPageOfLine(i.startLineNumber),s=w._getRangeForPage(r),a=w._getPageOfLine(i.endLineNumber),l=w._getRangeForPage(a),u=s.intersectRanges(new _.a(1,1,i.startLineNumber,i.startColumn)),h=e.getValueInRange(u,1),c=e.getLineCount(),d=e.getLineMaxColumn(c),p=l.intersectRanges(new _.a(i.endLineNumber,i.endColumn,c,d)),f=e.getValueInRange(p,1);if(r===a||r+1===a)o=e.getValueInRange(i,1);else{var g=s.intersectRanges(i),m=l.intersectRanges(i);o=e.getValueInRange(g,1)+String.fromCharCode(8230)+e.getValueInRange(m,1)}return n&&(500<h.length&&(h=h.substring(h.length-500,h.length)),500<f.length&&(f=f.substring(0,500)),1e3<o.length&&(o=o.substring(0,500)+String.fromCharCode(8230)+o.substring(o.length-500,o.length))),new b(h+o+f,h.length,h.length+o.length,new y.a(i.startLineNumber,i.startColumn),new y.a(i.endLineNumber,i.endColumn))},w._LINES_PER_PAGE=10,w);function w(){}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var n=i(8),o=(r.prototype._equals=function(t){if(!(t instanceof r))return!1;var e=t;return this.modelVersionId===e.modelVersionId&&this.scrollLeft===e.scrollLeft&&this.scrollTop===e.scrollTop&&!(!this.position&&e.position||this.position&&!e.position||this.position&&e.position&&!this.position.equals(e.position))&&!(!this.selection&&e.selection||this.selection&&!e.selection||this.selection&&e.selection&&!this.selection.equalsRange(e.selection))},r.prototype.validate=function(t){return this._equals(new r(t,this.flags))},r);function r(t,e){if(this.flags=e,0!=(1&this.flags)){var i=t.getModel();this.modelVersionId=i?n.p("{0}#{1}",i.uri.toString(),i.getVersionId()):null}0!=(4&this.flags)&&(this.position=t.getPosition()),0!=(2&this.flags)&&(this.selection=t.getSelection()),0!=(8&this.flags)&&(this.scrollLeft=t.getScrollLeft(),this.scrollTop=t.getScrollTop())}var s=(a.capture=function(t){var e=null,i=0;if(0!==t.getScrollTop()){var n=t.getVisibleRanges();if(0<n.length){e=n[0].getStartPosition();var o=t.getTopForPosition(e.lineNumber,e.column);i=t.getScrollTop()-o}}return new a(e,i)},a.prototype.restore=function(t){if(this._visiblePosition){var e=t.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);t.setScrollTop(e+this._visiblePositionScrollDelta)}},a);function a(t,e){this._visiblePosition=t,this._visiblePositionScrollDelta=e}},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return s});var n=i(18),o=i(5),r=Object(n.c)("storageService"),s=(a.prototype.get=function(t,e,i){return i},a.prototype.getBoolean=function(t,e,i){return i},a.prototype.getInteger=function(t,e,i){return i},a.prototype.store=function(t,e,i){return Promise.resolve()},a.prototype.remove=function(t,e){return Promise.resolve()},new a);function a(){this._serviceBrand=void 0,this.onDidChangeStorage=o.b.None,this.onWillSaveState=o.b.None}},function(t,e,i){"use strict";i.d(e,"b",function(){return h}),i.d(e,"d",function(){return c}),i.d(e,"c",function(){return d}),i.d(e,"e",function(){return p}),i.d(e,"f",function(){return f}),i.d(e,"a",function(){return n});var n,r,o=i(41),s=i(30),a=i(8),l=i(49),u=i(14);function h(t){return function(t){return o.a(t.path)}(t)||t.authority}function c(t,e,i){return void 0===i&&(i=function(t){return!t||t.scheme!==l.a.file||!u.c}(t)),t===e||!(!t||!e)&&(i?Object(a.l)(t.toString(),e.toString()):t.toString()===e.toString())}function d(t){if(t.scheme===l.a.file)return s.a.file(o.b(g(t)));var e=o.b(t.path,"/");return t.authority&&e.length&&47!==e.charCodeAt(0)?null:t.with({path:e})}function p(t,e){var i;return i=t.scheme===l.a.file?s.a.file(o.e(g(t),e)).path:o.e(t.path,e),t.with({path:i})}function f(t){var e;return e=t.scheme===l.a.file?s.a.file(o.g(g(t))).path:o.g(t.path),t.with({path:e})}function g(t){var e;return e=t.authority&&1<t.path.length&&"file"===t.scheme?"//"+t.authority+t.path:u.g&&47===t.path.charCodeAt(0)&&(65<=t.path.charCodeAt(1)&&t.path.charCodeAt(1)<=90||97<=t.path.charCodeAt(1)&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?t.path.substr(1):t.path,u.g&&(e=e.replace(/\//g,"\\")),e}(r=n=n||{}).META_DATA_LABEL="label",r.META_DATA_DESCRIPTION="description",r.META_DATA_SIZE="size",r.META_DATA_MIME="mime",r.parseMetaData=function(t){var o=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(function(t){var e=t.split(":"),i=e[0],n=e[1];i&&n&&o.set(i,n)});var e=t.path.substring(0,t.path.indexOf(";"));return e&&o.set(r.META_DATA_MIME,e),o}},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return a});var n=(o.prototype.get=function(t,e){return this._data[t*this.cols+e]},o.prototype.set=function(t,e,i){this._data[t*this.cols+e]=i},o);function o(t,e,i){for(var n=new Uint8Array(t*e),o=0,r=t*e;o<r;o++)n[o]=i;this._data=n,this.rows=t,this.cols=e}function r(t){return t<0?0:255<t?255:0|t}function s(t){return t<0?0:4294967295<t?4294967295:0|t}function a(t){for(var e=t.length,i=new Uint32Array(e),n=0;n<e;n++)i[n]=s(t[n]);return i}},function(t,e,i){"use strict";function n(t,e,i){var n=null,o=null;if("function"==typeof i.value?(n="value",0!==(o=i.value).length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof i.get&&(n="get",o=i.get),!o)throw new Error("not supported");var r="$memoize$"+e;i[n]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,t)}),this[r]}}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";var n,o;function r(t,e){if(t.start>=e.end||e.start>=t.end)return{start:0,end:0};var i=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return n-i<=0?{start:0,end:0}:{start:i,end:n}}function s(t){return t.end-t.start<=0}i.d(e,"a",function(){return n}),(o=n=n||{}).intersect=r,o.isEmpty=s,o.intersects=function(t,e){return!s(r(t,e))},o.relativeComplement=function(t,e){var i=[],n={start:t.start,end:Math.min(e.start,t.end)},o={start:Math.max(e.end,t.start),end:t.end};return s(n)||i.push(n),s(o)||i.push(o),i}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("telemetryService")},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var n=i(94),o=(r._createAsciiMap=function(t){for(var e=new Uint8Array(256),i=0;i<256;i++)e[i]=t;return e},r.prototype.set=function(t,e){var i=Object(n.d)(e);0<=t&&t<256?this._asciiMap[t]=i:this._map.set(t,i)},r.prototype.get=function(t){return 0<=t&&t<256?this._asciiMap[t]:this._map.get(t)||this._defaultValue},r);function r(t){var e=Object(n.d)(t);this._defaultValue=e,this._asciiMap=r._createAsciiMap(e),this._map=new Map}var s=(a.prototype.add=function(t){this._actual.set(t,1)},a.prototype.has=function(t){return 1===this._actual.get(t)},a);function a(){this._actual=new o(0)}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(5),o=(r.prototype.getZoomLevel=function(){return this._zoomLevel},r.prototype.setZoomLevel=function(t){t=Math.min(Math.max(-5,t),20),this._zoomLevel!==t&&(this._zoomLevel=t,this._onDidChangeZoomLevel.fire(this._zoomLevel))},new r);function r(){this._zoomLevel=0,this._onDidChangeZoomLevel=new n.a,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}},function(t,e,i){"use strict";var n,o,r,s,a=i(0),l=i(8);(o=n=n||{})[o.Ignore=0]="Ignore",o[o.Info=1]="Info",o[o.Warning=2]="Warning",o[o.Error=3]="Error",r=n=n||{},(s=Object.create(null))[r.Error]=a.a("sev.error","Error"),s[r.Warning]=a.a("sev.warning","Warning"),s[r.Info]=a.a("sev.info","Info"),r.fromValue=function(t){return t?l.l("error",t)?r.Error:l.l("warning",t)||l.l("warn",t)?r.Warning:l.l("info",t)?r.Info:r.Ignore:r.Ignore},e.a=n},function(t,e,i){"use strict";i.d(e,"b",function(){return _}),i.d(e,"a",function(){return b});var l=i(0),n=i(13),o=i(4),r=i(34),s=i(18),a=i(10),u=i(48),h=i(92),c=i(186),d=i(2),p=i(9),f=i(44),g=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},m=function(i,n){return function(t,e){n(t,e,i)}},v=function(r,s,a,l){return new(a=a||Promise)(function(t,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function n(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,n)}o((l=l.apply(r,s||[])).next())})},y=function(i,n){var o,r,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(s=2&e[0]?r.return:e[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,e[1])).done)return s;switch(r=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],r=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},_=new a.f("referenceSearchVisible",!1),b=(w.get=function(t){return t.getContribution(w.ID)},w.prototype.getId=function(){return w.ID},w.prototype.dispose=function(){this._referenceSearchVisible.reset(),Object(o.d)(this._disposables),Object(o.d)(this._widget),Object(o.d)(this._model),this._widget=null,this._model=null,this._editor=null},w.prototype.toggleWidget=function(n,t,o){var e,r=this;if(this._widget&&(e=this._widget.position),this.closeWidget(),e&&n.containsPosition(e))return null;this._referenceSearchVisible.set(!0),this._disposables.push(this._editor.onDidChangeModelLanguage(function(){r.closeWidget()})),this._disposables.push(this._editor.onDidChangeModel(function(){r._ignoreModelChangeEvent||r.closeWidget()}));var i="peekViewLayout",s=JSON.parse(this._storageService.get(i,0,"{}"));this._widget=this._instantiationService.createInstance(c.a,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(l.a("labelLoading","Loading...")),this._widget.show(n),this._disposables.push(this._widget.onDidClose(function(){t.cancel(),r._storageService.store(i,JSON.stringify(r._widget.layoutData),0),r._widget=null,r.closeWidget()})),this._disposables.push(this._widget.onDidSelectReference(function(t){var e=t.element,i=t.kind;switch(i){case"open":if("editor"===t.source&&r._configurationService.getValue("editor.stablePeek"))break;case"side":r.openReference(e,"side"===i);break;case"goto":o.onGoto?o.onGoto(e):r._gotoReference(e)}}));var a=++this._requestIdPool;t.then(function(t){if(a===r._requestIdPool&&r._widget)return r._model&&r._model.dispose(),r._model=t,r._widget.setModel(r._model).then(function(){if(r._widget){r._widget.setMetaTitle(o.getMetaTitle(r._model));var t=r._editor.getModel().uri,e=new p.a(n.startLineNumber,n.startColumn),i=r._model.nearestReference(t,e);if(i)return r._widget.setSelection(i)}})},function(t){r._notificationService.error(t)})},w.prototype.goToNextOrPreviousReference=function(o){return v(this,void 0,void 0,function(){var e,i,n;return y(this,function(t){switch(t.label){case 0:return this._model?(e=this._model.nearestReference(this._editor.getModel().uri,this._widget.position),i=this._model.nextOrPreviousReference(e,o),n=this._editor.hasTextFocus(),[4,this._widget.setSelection(i)]):[3,3];case 1:return t.sent(),[4,this._gotoReference(i)];case 2:t.sent(),n&&this._editor.focus(),t.label=3;case 3:return[2]}})})},w.prototype.closeWidget=function(){Object(o.d)(this._widget),this._widget=null,this._referenceSearchVisible.reset(),this._disposables=Object(o.d)(this._disposables),Object(o.d)(this._model),this._model=null,this._editor.focus(),this._requestIdPool+=1},w.prototype._gotoReference=function(t){var e=this;this._widget.hide(),this._ignoreModelChangeEvent=!0;var i=d.a.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i}},this._editor).then(function(t){e._ignoreModelChangeEvent=!1,t&&t===e._editor?(e._widget.show(i),e._widget.focus()):e.closeWidget()},function(t){e._ignoreModelChangeEvent=!1,Object(n.e)(t)})},w.prototype.openReference=function(t,e){e||this.closeWidget();var i=t.uri,n=t.range;this._editorService.openCodeEditor({resource:i,options:{selection:n}},this._editor,e)},w.ID="editor.contrib.referencesController",w=g([m(2,a.e),m(3,r.a),m(4,f.a),m(5,s.a),m(6,h.a),m(7,u.a)],w));function w(t,e,i,n,o,r,s,a){this._defaultTreeKeyboardSupport=t,this._editorService=n,this._notificationService=o,this._instantiationService=r,this._storageService=s,this._configurationService=a,this._requestIdPool=0,this._disposables=[],this._ignoreModelChangeEvent=!1,this._editor=e,this._referenceSearchVisible=_.bindTo(i)}},function(t,e,i){"use strict";t.exports=window.compilerExplorerOptions},function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n,o,r=i(98),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=(o=r.a,s(l,o),l);function l(t){for(var e=o.call(this,0)||this,i=0,n=t.length;i<n;i++)e.set(t.charCodeAt(i),2);return e.set(32,1),e.set(9,1),e}var u,h,c=(u=function(t){return new a(t)},h={},function(t){return h.hasOwnProperty(t)||(h[t]=u(t)),h[t]})},function(t,e,i){"use strict";i.d(e,"e",function(){return a}),i.d(e,"a",function(){return o}),i.d(e,"d",function(){return u}),i.d(e,"b",function(){return h}),i.d(e,"f",function(){return c}),i.d(e,"c",function(){return p});var r=i(7),n=i(27),s=function(){return(s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var i=Object.create(null);for(var n in e){var o=e[n];"string"==typeof o?i[n]=t.getColor(o):"function"==typeof o&&(i[n]=o(t))}return i}function l(i,n,o){function t(t){var e=a(i.getTheme(),n);"function"==typeof o?o(e):o.style(e)}return t(i.getTheme()),i.onThemeChange(t)}function o(t,e,i){return l(e,{badgeBackground:i&&i.badgeBackground||r.c,badgeForeground:i&&i.badgeForeground||r.d,badgeBorder:r.e},t)}function u(t,e,i){return l(e,{foreground:i&&i.foreground||r.I,background:i&&i.background||r.n,borderColor:i&&i.borderColor||r.e,widgetShadow:i&&i.widgetShadow||r.Fb,progressBarBackground:i&&i.progressBarBackground||r.tb,pickerGroupForeground:i&&i.pickerGroupForeground||r.sb,pickerGroupBorder:i&&i.pickerGroupBorder||r.rb,inputBackground:i&&i.inputBackground||r.K,inputForeground:i&&i.inputForeground||r.M,inputBorder:i&&i.inputBorder||r.L,inputValidationInfoBorder:i&&i.inputValidationInfoBorder||r.R,inputValidationInfoBackground:i&&i.inputValidationInfoBackground||r.Q,inputValidationInfoForeground:i&&i.inputValidationInfoForeground||r.S,inputValidationWarningBorder:i&&i.inputValidationWarningBorder||r.U,inputValidationWarningBackground:i&&i.inputValidationWarningBackground||r.T,inputValidationWarningForeground:i&&i.inputValidationWarningForeground||r.V,inputValidationErrorBorder:i&&i.inputValidationErrorBorder||r.O,inputValidationErrorBackground:i&&i.inputValidationErrorBackground||r.N,inputValidationErrorForeground:i&&i.inputValidationErrorForeground||r.P,listFocusBackground:i&&i.listFocusBackground||r.Z,listFocusForeground:i&&i.listFocusForeground||r.ab,listActiveSelectionBackground:i&&i.listActiveSelectionBackground||r.W,listActiveSelectionForeground:i&&i.listActiveSelectionForeground||r.X,listFocusAndSelectionBackground:i&&i.listFocusAndSelectionBackground||r.W,listFocusAndSelectionForeground:i&&i.listFocusAndSelectionForeground||r.X,listInactiveSelectionBackground:i&&i.listInactiveSelectionBackground||r.fb,listInactiveSelectionForeground:i&&i.listInactiveSelectionForeground||r.gb,listInactiveFocusBackground:i&&i.listInactiveFocusBackground||r.eb,listHoverBackground:i&&i.listHoverBackground||r.cb,listHoverForeground:i&&i.listHoverForeground||r.db,listDropBackground:i&&i.listDropBackground||r.Y,listFocusOutline:i&&i.listFocusOutline||r.b,listSelectionOutline:i&&i.listSelectionOutline||r.b,listHoverOutline:i&&i.listHoverOutline||r.b},t)}function h(t,e,i){return l(e,Object(n.g)(i||Object.create(null),c,!1),t)}var c={listFocusBackground:r.Z,listFocusForeground:r.ab,listActiveSelectionBackground:r.W,listActiveSelectionForeground:r.X,listFocusAndSelectionBackground:r.W,listFocusAndSelectionForeground:r.X,listInactiveSelectionBackground:r.fb,listInactiveSelectionForeground:r.gb,listInactiveFocusBackground:r.eb,listHoverBackground:r.cb,listHoverForeground:r.db,listDropBackground:r.Y,listFocusOutline:r.b,listSelectionOutline:r.b,listHoverOutline:r.b},d={shadowColor:r.Fb,borderColor:r.ib,foregroundColor:r.jb,backgroundColor:r.hb,selectionForegroundColor:r.mb,selectionBackgroundColor:r.kb,selectionBorderColor:r.lb,separatorColor:r.nb};function p(t,e,i){var n=s({},d,i),o={foregroundColor:n.foregroundColor&&e&&e.getTheme().getColor(n.foregroundColor)?n.foregroundColor:r.I};return l(e,s({},n,o),t)}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("themeService")},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"d",function(){return s});var n="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";var o=function(t){void 0===t&&(t="");for(var e="(-?\\d*\\.\\d\\w*)|([^",i=0;i<n.length;i++)0<=t.indexOf(n[i])||(e+="\\"+n[i]);return e+="\\s]+)",new RegExp(e,"g")}();function r(t){var e=o;if(t&&t instanceof RegExp)if(t.global)e=t;else{var i="g";t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),e=new RegExp(t.source,i)}return e.lastIndex=0,e}function s(t,e,i,n){e.lastIndex=0;var o=e.exec(i);if(!o)return null;var r=0<=o[0].indexOf(" ")?function(t,e,i,n){var o,r=t-1-n;for(e.lastIndex=0;o=e.exec(i);){var s=o.index||0;if(r<s)return null;if(e.lastIndex>=r)return{word:o[0],startColumn:n+1+s,endColumn:n+1+e.lastIndex}}return null}(t,e,i,n):function(t,e,i,n){var o,r=t-1-n,s=i.lastIndexOf(" ",r-1)+1,a=i.indexOf(" ",r);for(-1===a&&(a=i.length),e.lastIndex=s;o=e.exec(i);){var l=o.index||0;if(l<=r&&e.lastIndex>=r)return{word:o[0],startColumn:n+1+l,endColumn:n+1+e.lastIndex}}return null}(t,e,i,n);return e.lastIndex=0,r}},function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return v});var n=i(8),l=i(2),o=function(t,e,i,n,o){this.languageIdentifier=t,this.open=e,this.close=i,this.forwardRegex=n,this.reversedRegex=o},r=function(e,t){var i=this;this.brackets=t.map(function(t){return new o(e,t[0],t[1],a({open:t[0],close:t[1]}),u({open:t[0],close:t[1]}))}),this.forwardRegex=h(this.brackets),this.reversedRegex=c(this.brackets),this.textIsBracket={},this.textIsOpenBracket={};var n=0;this.brackets.forEach(function(t){i.textIsBracket[t.open.toLowerCase()]=t,i.textIsBracket[t.close.toLowerCase()]=t,i.textIsOpenBracket[t.open.toLowerCase()]=!0,i.textIsOpenBracket[t.close.toLowerCase()]=!1,n=Math.max(n,t.open.length),n=Math.max(n,t.close.length)}),this.maxBracketLength=n};function s(i,n){var o={};return function(t){var e=i(t);return o.hasOwnProperty(e)||(o[e]=n(t)),o[e]}}var a=s(function(t){return t.open+";"+t.close},function(t){return p([t.open,t.close])}),u=s(function(t){return t.open+";"+t.close},function(t){return p([m(t.open),m(t.close)])}),h=s(function(t){return t.map(function(t){return t.open+";"+t.close}).join(";")},function(t){var e=[];return t.forEach(function(t){e.push(t.open),e.push(t.close)}),p(e)}),c=s(function(t){return t.map(function(t){return t.open+";"+t.close}).join(";")},function(t){var e=[];return t.forEach(function(t){e.push(m(t.open)),e.push(m(t.close))}),p(e)});function d(t){var e=/^[\w]+$/.test(t);return t=n.n(t),e?"\\b"+t+"\\b":t}function p(t){var e="("+t.map(d).join(")|(")+")";return n.i(e,!0)}var f,g,m=(g=f=null,function(t){return f!==t&&(g=function(t){for(var e="",i=t.length-1;0<=i;i--)e+=t.charAt(i);return e}(f=t)),g}),v=(y._findPrevBracketInText=function(t,e,i,n){var o=i.match(t);if(!o)return null;var r=i.length-(o.index||0),s=o[0].length,a=n+r;return new l.a(e,a-s+1,e,a+1)},y.findPrevBracketInToken=function(t,e,i,n,o){var r=m(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(t,e,r,n)},y.findNextBracketInText=function(t,e,i,n){var o=i.match(t);if(!o)return null;var r=o.index||0,s=o[0].length;if(0===s)return null;var a=n+r;return new l.a(e,a+1,e,a+1+s)},y.findNextBracketInToken=function(t,e,i,n,o){var r=i.substring(n,o);return this.findNextBracketInText(t,e,r,n)},y);function y(){}},function(t,e,i){"use strict";i.d(e,"b",function(){return u}),i.d(e,"c",function(){return c}),i.d(e,"d",function(){return p}),i.d(e,"a",function(){return g}),i.d(e,"e",function(){return v});var n=i(14),s=i(13),o=i(1),r=i(38),a=(l.prototype.set=function(t,e){this._arr.push({keybinding:Object(r.f)(t,n.a),callback:e})},l.prototype.dispatch=function(t){for(var e=this._arr.length-1;0<=e;e--){var i=this._arr[e];if(t.equals(i.keybinding))return i.callback}return null},l);function l(){this._arr=[]}var u=(h.prototype.onMouseDown=function(t,e,i,n){if(void 0===n&&(n="mouse"),0!==this.options.clickBehavior||!i.leftButton&&!i.middleButton)return!1;if(i.target){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!1;if(o.q(i.target,"scrollbar","monaco-tree"))return!1;if(o.q(i.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(t,e,i,n)},h.prototype.onClick=function(t,e,i){return n.d&&i.ctrlKey?(i.preventDefault(),i.stopPropagation(),!1):(!i.target||!i.target.tagName||"input"!==i.target.tagName.toLowerCase())&&(0!==this.options.clickBehavior||!i.leftButton&&!i.middleButton)&&this.onLeftClick(t,e,i)},h.prototype.onLeftClick=function(t,e,i,n){void 0===n&&(n="mouse");var o=i,r={origin:n,originalEvent:i,didClickOnTwistie:this.isClickOnTwistie(o)};return t.getInput()===e?(t.clearFocus(r),t.clearSelection(r)):(i&&o.browserEvent&&"mousedown"===o.browserEvent.type&&1===o.browserEvent.detail||i.preventDefault(),i.stopPropagation(),t.domFocus(),t.setSelection([e],r),t.setFocus(e,r),this.shouldToggleExpansion(e,o,n)&&(t.isExpanded(e)?t.collapse(e).then(null,s.e):t.expand(e).then(null,s.e))),!0},h.prototype.shouldToggleExpansion=function(t,e,i){var n="mouse"===i&&2===e.detail;return this.openOnSingleClick||n||this.isClickOnTwistie(e)},h.prototype.setOpenMode=function(t){this.options.openMode=t},Object.defineProperty(h.prototype,"openOnSingleClick",{get:function(){return 0===this.options.openMode},enumerable:!0,configurable:!0}),h.prototype.isClickOnTwistie=function(t){var e=t.target;if(!o.A(e,"content"))return!1;var i=window.getComputedStyle(e,":before");if("none"===i.backgroundImage||"none"===i.display)return!1;var n=parseInt(i.width)+parseInt(i.paddingRight);return t.browserEvent.offsetX<=n},h.prototype.onContextMenu=function(t,e,i){return i.target&&i.target.tagName&&"input"===i.target.tagName.toLowerCase()||i&&(i.preventDefault(),i.stopPropagation()),!1},h.prototype.onTap=function(t,e,i){var n=i.initialTarget;return(!n||!n.tagName||"input"!==n.tagName.toLowerCase())&&this.onLeftClick(t,e,i,"touch")},h.prototype.onKeyDown=function(t,e){return this.onKey(this.downKeyBindingDispatcher,t,e)},h.prototype.onKeyUp=function(t,e){return this.onKey(this.upKeyBindingDispatcher,t,e)},h.prototype.onKey=function(t,e,i){var n=t.dispatch(i.toKeybinding());return!(!n||!n(e,i)||(i.preventDefault(),i.stopPropagation(),0))},h.prototype.onUp=function(t,e){var i={origin:"keyboard",originalEvent:e};return t.getHighlight()?t.clearHighlight(i):(t.focusPrevious(1,i),t.reveal(t.getFocus()).then(null,s.e)),!0},h.prototype.onPageUp=function(t,e){var i={origin:"keyboard",originalEvent:e};return t.getHighlight()?t.clearHighlight(i):(t.focusPreviousPage(i),t.reveal(t.getFocus()).then(null,s.e)),!0},h.prototype.onDown=function(t,e){var i={origin:"keyboard",originalEvent:e};return t.getHighlight()?t.clearHighlight(i):(t.focusNext(1,i),t.reveal(t.getFocus()).then(null,s.e)),!0},h.prototype.onPageDown=function(t,e){var i={origin:"keyboard",originalEvent:e};return t.getHighlight()?t.clearHighlight(i):(t.focusNextPage(i),t.reveal(t.getFocus()).then(null,s.e)),!0},h.prototype.onHome=function(t,e){var i={origin:"keyboard",originalEvent:e};return t.getHighlight()?t.clearHighlight(i):(t.focusFirst(i),t.reveal(t.getFocus()).then(null,s.e)),!0},h.prototype.onEnd=function(t,e){var i={origin:"keyboard",originalEvent:e};return t.getHighlight()?t.clearHighlight(i):(t.focusLast(i),t.reveal(t.getFocus()).then(null,s.e)),!0},h.prototype.onLeft=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(i);else{var n=e.getFocus();e.collapse(n).then(function(t){if(n&&!t)return e.focusParent(i),e.reveal(e.getFocus())}).then(null,s.e)}return!0},h.prototype.onRight=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(i);else{var n=e.getFocus();e.expand(n).then(function(t){if(n&&!t)return e.focusFirstChild(i),e.reveal(e.getFocus())}).then(null,s.e)}return!0},h.prototype.onEnter=function(t,e){var i={origin:"keyboard",originalEvent:e};if(t.getHighlight())return!1;var n=t.getFocus();return n&&t.setSelection([n],i),!0},h.prototype.onSpace=function(t,e){if(t.getHighlight())return!1;var i=t.getFocus();return i&&t.toggleExpansion(i),!0},h.prototype.onEscape=function(t,e){var i={origin:"keyboard",originalEvent:e};return t.getHighlight()?(t.clearHighlight(i),!0):t.getSelection().length?(t.clearSelection(i),!0):!!t.getFocus()&&(t.clearFocus(i),!0)},h);function h(t){void 0===t&&(t={clickBehavior:0,keyboardSupport:!0,openMode:0});var i=this;this.options=t,this.downKeyBindingDispatcher=new a,this.upKeyBindingDispatcher=new a,"boolean"==typeof t.keyboardSupport&&!t.keyboardSupport||(this.downKeyBindingDispatcher.set(16,function(t,e){return i.onUp(t,e)}),this.downKeyBindingDispatcher.set(18,function(t,e){return i.onDown(t,e)}),this.downKeyBindingDispatcher.set(15,function(t,e){return i.onLeft(t,e)}),this.downKeyBindingDispatcher.set(17,function(t,e){return i.onRight(t,e)}),n.d&&(this.downKeyBindingDispatcher.set(2064,function(t,e){return i.onLeft(t,e)}),this.downKeyBindingDispatcher.set(300,function(t,e){return i.onDown(t,e)}),this.downKeyBindingDispatcher.set(302,function(t,e){return i.onUp(t,e)})),this.downKeyBindingDispatcher.set(11,function(t,e){return i.onPageUp(t,e)}),this.downKeyBindingDispatcher.set(12,function(t,e){return i.onPageDown(t,e)}),this.downKeyBindingDispatcher.set(14,function(t,e){return i.onHome(t,e)}),this.downKeyBindingDispatcher.set(13,function(t,e){return i.onEnd(t,e)}),this.downKeyBindingDispatcher.set(10,function(t,e){return i.onSpace(t,e)}),this.downKeyBindingDispatcher.set(9,function(t,e){return i.onEscape(t,e)}),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2051,this.onEnter.bind(this)))}var c=(d.prototype.getDragURI=function(t,e){return null},d.prototype.onDragStart=function(t,e,i){},d.prototype.onDragOver=function(t,e,i,n){return null},d.prototype.drop=function(t,e,i,n){},d);function d(){}var p=(f.prototype.isVisible=function(t,e){return!0},f);function f(){}var g=(m.prototype.getAriaLabel=function(t,e){return null},m);function m(){}var v=(y.prototype.style=function(t){var e=this.selectorSuffix?"."+this.selectorSuffix:"",i=[];t.listFocusBackground&&i.push(".monaco-tree"+e+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+t.listFocusBackground+"; }"),t.listFocusForeground&&i.push(".monaco-tree"+e+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+t.listFocusForeground+"; }"),t.listActiveSelectionBackground&&i.push(".monaco-tree"+e+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+t.listActiveSelectionBackground+"; }"),t.listActiveSelectionForeground&&i.push(".monaco-tree"+e+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+t.listActiveSelectionForeground+"; }"),t.listFocusAndSelectionBackground&&i.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree"+e+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+t.listFocusAndSelectionBackground+"; }\n\t\t\t"),t.listFocusAndSelectionForeground&&i.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree"+e+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+t.listFocusAndSelectionForeground+"; }\n\t\t\t"),t.listInactiveSelectionBackground&&i.push(".monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+t.listInactiveSelectionBackground+"; }"),t.listInactiveSelectionForeground&&i.push(".monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+t.listInactiveSelectionForeground+"; }"),t.listHoverBackground&&i.push(".monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+t.listHoverBackground+"; }"),t.listHoverForeground&&i.push(".monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+t.listHoverForeground+"; }"),t.listDropBackground&&i.push("\n\t\t\t\t.monaco-tree"+e+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+t.listDropBackground+" !important; color: inherit !important; }\n\t\t\t"),t.listFocusOutline&&i.push("\n\t\t\t\t.monaco-tree-drag-image\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid "+t.listFocusOutline+"; background: #000; }\n\t\t\t\t.monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row \t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid transparent; }\n\t\t\t\t.monaco-tree"+e+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \t\t\t\t\t\t{ border: 1px dotted "+t.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+e+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \t\t\t\t\t\t{ border: 1px solid "+t.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \t\t\t\t\t\t\t{ border: 1px solid "+t.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \t{ border: 1px dashed "+t.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+e+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree"+e+" .monaco-tree-rows > .monaco-tree-row.drop-target\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px dashed "+t.listFocusOutline+"; }\n\t\t\t");var n=i.join("\n");n!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=n)},y);function y(t,e){this.styleElement=t,this.selectorSuffix=e}},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var n,u=i(8),g=i(15),m=i(103),v=i(9),y=i(2),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=(_._createWord=function(t,e,i,n,o){return{start:n,end:o,wordType:e,nextCharClass:i}},_._findPreviousWordOnLine=function(t,e,i){var n=e.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,t,i)},_._doFindPreviousWordOnLine=function(t,e,i){for(var n=0,o=i.column-2;0<=o;o--){var r=t.charCodeAt(o),s=e.get(r);if(0===s){if(2===n)return this._createWord(t,n,s,o+1,this._findEndOfWord(t,e,n,o+1));n=1}else if(2===s){if(1===n)return this._createWord(t,n,s,o+1,this._findEndOfWord(t,e,n,o+1));n=2}else if(1===s&&0!==n)return this._createWord(t,n,s,o+1,this._findEndOfWord(t,e,n,o+1))}return 0!==n?this._createWord(t,n,1,0,this._findEndOfWord(t,e,n,0)):null},_._findEndOfWord=function(t,e,i,n){for(var o=t.length,r=n;r<o;r++){var s=t.charCodeAt(r),a=e.get(s);if(1===a)return r;if(1===i&&2===a)return r;if(2===i&&0===a)return r}return o},_._findNextWordOnLine=function(t,e,i){var n=e.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,t,i)},_._doFindNextWordOnLine=function(t,e,i){for(var n=0,o=t.length,r=i.column-1;r<o;r++){var s=t.charCodeAt(r),a=e.get(s);if(0===a){if(2===n)return this._createWord(t,n,a,this._findStartOfWord(t,e,n,r-1),r);n=1}else if(2===a){if(1===n)return this._createWord(t,n,a,this._findStartOfWord(t,e,n,r-1),r);n=2}else if(1===a&&0!==n)return this._createWord(t,n,a,this._findStartOfWord(t,e,n,r-1),r)}return 0!==n?this._createWord(t,n,1,this._findStartOfWord(t,e,n,o-1),o):null},_._findStartOfWord=function(t,e,i,n){for(var o=n;0<=o;o--){var r=t.charCodeAt(o),s=e.get(r);if(1===s)return o+1;if(1===i&&2===s)return o+1;if(2===i&&0===s)return o+1}return 0},_.moveWordLeft=function(t,e,i,n){var o=i.lineNumber,r=i.column,s=!1;1===r&&1<o&&(s=!0,o-=1,r=e.getLineMaxColumn(o));var a=_._findPreviousWordOnLine(t,e,new v.a(o,r));return 0!==n?1===n?(a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=_._findPreviousWordOnLine(t,e,new v.a(o,a.start+1))),new v.a(o,a?a.start+1:1)):(a&&r<=a.end+1&&(a=_._findPreviousWordOnLine(t,e,new v.a(o,a.start+1))),new v.a(o,a?a.end+1:1)):a&&!s&&e.getLineLastNonWhitespaceColumn(o)<r?new v.a(o,a.end+1):new v.a(o,a?a.start+1:1)},_._moveWordPartLeft=function(t,e){var i=e.lineNumber,n=t.getLineMaxColumn(i);if(1===e.column)return 1<i?new v.a(i-1,t.getLineMaxColumn(i-1)):e;for(var o=t.getLineContent(i),r=e.column-1;1<r;r--){var s=o.charCodeAt(r-2),a=o.charCodeAt(r-1);if(95!==s&&95===a)return new v.a(i,r);if(u.w(s)&&u.x(a))return new v.a(i,r);if(u.x(s)&&u.x(a)&&r+1<n){var l=o.charCodeAt(r);if(u.w(l))return new v.a(i,r)}}return new v.a(i,1)},_.moveWordRight=function(t,e,i,n){var o=i.lineNumber,r=i.column;r===e.getLineMaxColumn(o)&&o<e.getLineCount()&&(o+=1,r=1);var s=_._findNextWordOnLine(t,e,new v.a(o,r));return r=2===n?(s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=_._findNextWordOnLine(t,e,new v.a(o,s.end+1))),s?s.end+1:e.getLineMaxColumn(o)):(s&&r>=s.start+1&&(s=_._findNextWordOnLine(t,e,new v.a(o,s.end+1))),s?s.start+1:e.getLineMaxColumn(o)),new v.a(o,r)},_._moveWordPartRight=function(t,e){var i=e.lineNumber,n=t.getLineMaxColumn(i);if(e.column===n)return i<t.getLineCount()?new v.a(i+1,1):e;for(var o=t.getLineContent(i),r=e.column+1;r<n;r++){var s=o.charCodeAt(r-2),a=o.charCodeAt(r-1);if(95===s&&95!==a)return new v.a(i,r);if(u.w(s)&&u.x(a))return new v.a(i,r);if(u.x(s)&&u.x(a)&&r+1<n){var l=o.charCodeAt(r);if(u.w(l))return new v.a(i,r)}}return new v.a(i,n)},_._deleteWordLeftWhitespace=function(t,e){var i=t.getLineContent(e.lineNumber),n=e.column-2,o=u.y(i,n);return o+1<n?new y.a(e.lineNumber,o+2,e.lineNumber,e.column):null},_.deleteWordLeft=function(t,e,i,n,o){if(!i.isEmpty())return i;var r=new v.a(i.positionLineNumber,i.positionColumn),s=r.lineNumber,a=r.column;if(1===s&&1===a)return null;if(n){var l=this._deleteWordLeftWhitespace(e,r);if(l)return l}var u=_._findPreviousWordOnLine(t,e,r);return a=0===o?u?u.start+1:1<a?1:(s--,e.getLineMaxColumn(s)):(u&&a<=u.end+1&&(u=_._findPreviousWordOnLine(t,e,new v.a(s,u.start+1))),u?u.end+1:1<a?1:(s--,e.getLineMaxColumn(s))),new y.a(s,a,r.lineNumber,r.column)},_._deleteWordPartLeft=function(t,e){if(!e.isEmpty())return e;var i=e.getPosition(),n=_._moveWordPartLeft(t,i);return new y.a(i.lineNumber,i.column,n.lineNumber,n.column)},_._findFirstNonWhitespaceChar=function(t,e){for(var i=t.length,n=e;n<i;n++){var o=t.charAt(n);if(" "!==o&&"\t"!==o)return n}return i},_._deleteWordRightWhitespace=function(t,e){var i=t.getLineContent(e.lineNumber),n=e.column-1,o=this._findFirstNonWhitespaceChar(i,n);return 1+n<o?new y.a(e.lineNumber,e.column,e.lineNumber,o+1):null},_.deleteWordRight=function(t,e,i,n,o){if(!i.isEmpty())return i;var r=new v.a(i.positionLineNumber,i.positionColumn),s=r.lineNumber,a=r.column,l=e.getLineCount(),u=e.getLineMaxColumn(s);if(s===l&&a===u)return null;if(n){var h=this._deleteWordRightWhitespace(e,r);if(h)return h}var c=_._findNextWordOnLine(t,e,r);return a=2===o?c?c.end+1:a<u||s===l?u:(s++,(c=_._findNextWordOnLine(t,e,new v.a(s,1)))?c.start+1:e.getLineMaxColumn(s)):(c&&a>=c.start+1&&(c=_._findNextWordOnLine(t,e,new v.a(s,c.end+1))),c?c.start+1:a<u||s===l?u:(s++,(c=_._findNextWordOnLine(t,e,new v.a(s,1)))?c.start+1:e.getLineMaxColumn(s))),new y.a(s,a,r.lineNumber,r.column)},_._deleteWordPartRight=function(t,e){if(!e.isEmpty())return e;var i=e.getPosition(),n=_._moveWordPartRight(t,i);return new y.a(i.lineNumber,i.column,n.lineNumber,n.column)},_.word=function(t,e,i,n,o){var r,s,a,l,u=Object(m.a)(t.wordSeparators),h=_._findPreviousWordOnLine(u,e,o),c=_._findNextWordOnLine(u,e,o);if(!n)return s=h&&1===h.wordType&&h.start<=o.column-1&&o.column-1<=h.end?(r=h.start+1,h.end+1):c&&1===c.wordType&&c.start<=o.column-1&&o.column-1<=c.end?(r=c.start+1,c.end+1):(r=h?h.end+1:1,c?c.start+1:e.getLineMaxColumn(o.lineNumber)),new g.f(new y.a(o.lineNumber,r,o.lineNumber,s),0,new v.a(o.lineNumber,s),0);l=h&&1===h.wordType&&h.start<o.column-1&&o.column-1<h.end?(a=h.start+1,h.end+1):c&&1===c.wordType&&c.start<o.column-1&&o.column-1<c.end?(a=c.start+1,c.end+1):(a=o.column,o.column);var d,p=o.lineNumber;if(i.selectionStart.containsPosition(o))d=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){d=a;var f=new v.a(p,d);i.selectionStart.containsPosition(f)&&(d=i.selectionStart.endColumn)}else d=l,f=new v.a(p,d),i.selectionStart.containsPosition(f)&&(d=i.selectionStart.startColumn);return i.move(!0,p,d,0)},_);function _(){}var s,a=(o(l,s=r),l.deleteWordPartLeft=function(t,e,i,n){var o=h([r.deleteWordLeft(t,e,i,n,0),r.deleteWordLeft(t,e,i,n,2),r._deleteWordPartLeft(e,i)]);return o.sort(y.a.compareRangesUsingEnds),o[2]},l.deleteWordPartRight=function(t,e,i,n){var o=h([r.deleteWordRight(t,e,i,n,0),r.deleteWordRight(t,e,i,n,2),r._deleteWordPartRight(e,i)]);return o.sort(y.a.compareRangesUsingStarts),o[0]},l.moveWordPartLeft=function(t,e,i){var n=h([r.moveWordLeft(t,e,i,0),r.moveWordLeft(t,e,i,2),r._moveWordPartLeft(e,i)]);return n.sort(v.a.compare),n[2]},l.moveWordPartRight=function(t,e,i){var n=h([r.moveWordRight(t,e,i,0),r.moveWordRight(t,e,i,2),r._moveWordPartRight(e,i)]);return n.sort(v.a.compare),n[0]},l);function l(){return null!==s&&s.apply(this,arguments)||this}function h(t){return t.filter(function(t){return Boolean(t)})}},function(t,e,i){"use strict";var a=i(0),n=i(5),o=i(57),f=i(23),r=i(8),s="base.contributions.json";function l(){this._onDidChangeSchema=new n.a,this.schemasById={}}var u=new(l.prototype.registerSchema=function(t,e){this.schemasById[function(t){return 0<t.length&&"#"===t.charAt(t.length-1)?t.substring(0,t.length-1):t}(t)]=e,this._onDidChangeSchema.fire(t)},l);o.a.add(s,u),i.d(e,"a",function(){return h}),i.d(e,"b",function(){return S});var h={Configuration:"base.contributions.configuration"},c={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},m="vscode://schemas/settings/editor",v=o.a.as(s),y=(_.prototype.registerConfiguration=function(t,e){void 0===e&&(e=!0),this.registerConfigurations([t],[],e)},_.prototype.registerConfigurations=function(t,e,i){var n=this;void 0===i&&(i=!0);var o=this.toConfiguration(e);o&&t.push(o);var r=[];t.forEach(function(t){r.push.apply(r,n.validateAndRegisterProperties(t,i)),n.configurationContributors.push(t),n.registerJSONConfiguration(t),n.updateSchemaForOverrideSettingsConfiguration(t)}),this._onDidRegisterConfiguration.fire(r)},_.prototype.registerOverrideIdentifiers=function(t){var e;(e=this.overrideIdentifiers).push.apply(e,t),this.updateOverridePropertyPatternKey()},_.prototype.toConfiguration=function(t){for(var e={id:"defaultOverrides",title:a.a("defaultConfigurations.title","Default Configuration Overrides"),properties:{}},i=0,n=t;i<n.length;i++){var o=n[i];for(var r in o.defaults){var s=o.defaults[r];S.test(r)&&"object"==typeof s&&(e.properties[r]={type:"object",default:s,description:a.a("overrideSettings.description","Configure editor settings to be overridden for {0} language.",r),$ref:m})}}return Object.keys(e.properties).length?e:null},_.prototype.validateAndRegisterProperties=function(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=2),void 0===n&&(n=!1),i=f.j(t.scope)?i:t.scope,n=t.overridable||n;var o=[],r=t.properties;if(r)for(var s in r){var a=void 0;if(e&&(a=O(s)))console.warn(a),delete r[s];else{var l=r[s],u=l.default;f.i(u)&&(l.default=x(l.type)),n&&(l.overridable=!0),S.test(s)?l.scope=void 0:l.scope=f.j(l.scope)?i:l.scope,!r[s].hasOwnProperty("included")||r[s].included?(this.configurationProperties[s]=r[s],o.push(s)):(this.excludedConfigurationProperties[s]=r[s],delete r[s])}}var h=t.allOf;if(h)for(var c=0,d=h;c<d.length;c++){var p=d[c];o.push.apply(o,this.validateAndRegisterProperties(p,e,i,n))}return o},_.prototype.getConfigurationProperties=function(){return this.configurationProperties},_.prototype.registerJSONConfiguration=function(t){!function t(e){var i=e.properties;if(i)for(var n in i)switch(c.properties[n]=i[n],i[n].scope){case 1:d.properties[n]=i[n];break;case 2:p.properties[n]=i[n];break;case 3:g.properties[n]=i[n]}var o=e.allOf;o&&o.forEach(t)}(t),this._onDidSchemaChange.fire()},_.prototype.updateSchemaForOverrideSettingsConfiguration=function(t){t.id!==b&&(this.update(t),v.registerSchema(m,this.editorConfigurationSchema))},_.prototype.updateOverridePropertyPatternKey=function(){var t=c.patternProperties[this.overridePropertyPattern];t=t||{type:"object",description:a.a("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:"Unknown Identifier. Use language identifiers",$ref:m},delete c.patternProperties[this.overridePropertyPattern],delete d.patternProperties[this.overridePropertyPattern],delete p.patternProperties[this.overridePropertyPattern],delete g.patternProperties[this.overridePropertyPattern],this.computeOverridePropertyPattern(),c.patternProperties[this.overridePropertyPattern]=t,d.patternProperties[this.overridePropertyPattern]=t,p.patternProperties[this.overridePropertyPattern]=t,g.patternProperties[this.overridePropertyPattern]=t,this._onDidSchemaChange.fire()},_.prototype.update=function(t){var e=this,i=t.properties;if(i)for(var n in i)i[n].overridable&&(this.editorConfigurationSchema.properties[n]=this.getConfigurationProperties()[n]);var o=t.allOf;o&&o.forEach(function(t){return e.update(t)})},_.prototype.computeOverridePropertyPattern=function(){this.overridePropertyPattern=this.overrideIdentifiers.length?C.replace("${0}",this.overrideIdentifiers.map(function(t){return r.i(t,!1).source}).join("|")):w},_);function _(){this.overrideIdentifiers=[],this._onDidSchemaChange=new n.a,this._onDidRegisterConfiguration=new n.a,this.configurationContributors=[],this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting"},this.configurationProperties={},this.excludedConfigurationProperties={},this.computeOverridePropertyPattern(),v.registerSchema(m,this.editorConfigurationSchema)}var b="override",w="\\[.*\\]$",C="\\[(${0})\\]$",S=new RegExp(w);function x(t){switch(Array.isArray(t)?t[0]:t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var k=new y;function O(t){return S.test(t)?a.a("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",t):void 0!==k.getConfigurationProperties()[t]?a.a("config.property.duplicate","Cannot register '{0}'. This property is already registered.",t):null}o.a.add(h.Configuration,k)},function(t,e,i){"use strict";i.d(e,"e",function(){return y}),i.d(e,"a",function(){return _}),i.d(e,"b",function(){return b}),i.d(e,"c",function(){return D}),i.d(e,"d",function(){return F});var n=i(72),r=i(8);function o(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(t,e){for(var i=0,n=r.length;i<n;i++){var o=r[i](t,e);if(o)return o}return null}}var s=function(t,e,i){if(!i||i.length<e.length)return null;var n;n=t?r.G(i,e):0===i.indexOf(e);return n?0<e.length?[{start:0,end:e.length}]:[]:null}.bind(void 0,!0);function a(t){return 97<=t&&t<=122}function l(t){return 65<=t&&t<=90}function u(t){return 48<=t&&t<=57}function h(t){return a(t)||l(t)||u(t)}function c(t,e){return 0===e.length?e=[t]:t.end===e[0].start?e[0].start=t.start:e.unshift(t),e}function d(t,e){for(var i=e;i<t.length;i++){var n=t.charCodeAt(i);if(l(n)||u(n)||0<i&&!h(t.charCodeAt(i-1)))return i}return t.length}function p(t,e,i,n){if(i===t.length)return[];if(n===e.length)return null;if(t[i]!==e[n].toLowerCase())return null;var o=null,r=n+1;for(o=p(t,e,i+1,n+1);!o&&(r=d(e,r))<e.length;)o=p(t,e,i+1,r),r++;return null===o?null:c({start:n,end:n+1},o)}function f(t,e){if(!e)return null;if(0===(e=e.trim()).length)return null;if(!function(t){for(var e,i=0,n=0,o=0,r=0,s=0;s<t.length;s++)l(o=t.charCodeAt(s))&&i++,a(o)&&n++,32!==(e=o)&&9!==e&&10!==e&&13!==e||r++;return 0!==i&&0!==n||0!==r?i<=5:t.length<=30}(t))return null;if(60<e.length)return null;var i=function(t){for(var e=0,i=0,n=0,o=0,r=0,s=0;s<t.length;s++)l(r=t.charCodeAt(s))&&e++,a(r)&&i++,h(r)&&n++,u(r)&&o++;return{upperPercent:e/t.length,lowerPercent:i/t.length,alphaPercent:n/t.length,numericPercent:o/t.length}}(e);if(!function(t){var e=t.upperPercent,i=t.lowerPercent,n=t.alphaPercent,o=t.numericPercent;return.2<i&&e<.8&&.6<n&&o<.2}(i)){if(!function(t){var e=t.upperPercent;return 0===t.lowerPercent&&.6<e}(i))return null;e=e.toLowerCase()}var n=null,o=0;for(t=t.toLowerCase();o<e.length&&null===(n=p(t,e,0,o));)o=d(e,o+1);return n}var g=o(s,f,function(t,e){var i=e.toLowerCase().indexOf(t.toLowerCase());return-1===i?null:[{start:i,end:i+t.length}]}),m=o(s,f,function(t,e){return function t(e,i,n,o){{if(n===e.length)return[];if(o===i.length)return null;if(e[n]!==i[o])return t(e,i,n,o+1);var r=null;return(r=t(e,i,n+1,o+1))?c({start:o,end:o+1},r):null}}(t.toLowerCase(),e.toLowerCase(),0,0)}),v=new n.a(1e4);function y(t,e,i){if(void 0===i&&(i=!1),"string"!=typeof t||"string"!=typeof e)return null;var n=v.get(t);n||(n=new RegExp(r.h(t),"i"),v.set(t,n));var o=n.exec(e);return o?[{start:o.index,end:o.index+o[0].length}]:i?m(t,e):g(t,e)}function _(t,e,i){t=t.toLowerCase(),e=e.toLowerCase();for(var n=[],o=0,r=0;r<t.length;++r){var s=e.indexOf(t.charAt(r),o);0<=s&&(n.push(s),o=s+1)}return[n.length,n]}function b(t){var e,i=[];if(!t)return i;for(var n=0,o=Array.isArray(t[1])?t[1]:t;n<o.length;n++){var r=o[n];e&&e.end===r?e.end+=1:(e={start:r,end:r+1},i.push(e))}return i}function w(){for(var t=[],e=[0],i=1;i<=100;i++)e.push(-i);for(i=0;i<=100;i++){var n=e.slice(0);n[0]=-i,t.push(n)}return t}var C=w(),S=w(),x=w(),k=!1;function O(t,e,i,n,o){function r(t,e,i){for(void 0===i&&(i=" ");t.length<e;)t=i+t;return t}for(var s=" |   |"+n.split("").map(function(t){return r(t,3)}).join("|")+"\n",a=0;a<=i;a++)s+=0===a?" |":e[a-1]+"|",s+=t[a].slice(0,o+1).map(function(t){return r(t.toString(),3)}).join("|")+"\n";return s}function E(t,e){if(e<0||e>=t.length)return!1;switch(t.charCodeAt(e)){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:return!0;default:return!1}}function L(t,e){if(e<0||e>=t.length)return!1;switch(t.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function D(t,e,i,n,o,r,s){var a=100<t.length?100:t.length,l=100<n.length?100:n.length;if(!(a<=i||l<=r||l<a)){for(var u=i,h=r;i<a&&r<l;)e[i]===o[r]&&(i+=1),r+=1;if(i===a){for(r=h,i=(i=u)+1;i<=a;i++)for(r=1;r<=l;r++){var c=-1,d=o[r-1];e[i-1]===d&&(c=r===i-u?t[i-1]===n[r-1]?7:5:d===n[r-1]||1!==r&&o[r-2]!==n[r-2]?E(o,r-2)||L(o,r-2)?5:1:t[i-1]===n[r-1]?7:5),S[i][r]=c;var p=C[i-1][r-1]+(1<c?1:c),f=C[i-1][r]+-1,g=C[i][r-1]+-1;f<=g?p<g?(C[i][r]=g,x[i][r]=4):g===p?(C[i][r]=g,x[i][r]=6):(C[i][r]=p,x[i][r]=2):p<f?(C[i][r]=f,x[i][r]=1):f===p?(C[i][r]=f,x[i][r]=3):(C[i][r]=p,x[i][r]=2)}if(k&&(console.log(O(C,t,a,n,l)),console.log(O(x,t,a,n,l)),console.log(O(S,t,a,n,l))),N=0,T=-100,M=u,A=s,function t(e,i,n,o,r){if(10<=N||n<-25)return;var s=0;for(;M<e&&0<i;){var a=S[e][i],l=x[e][i];if(4===l)i-=1,r?n-=5:o.isEmpty()||(n-=1),r=!1,s=0;else{if(!(2&l))return;if(4&l&&t(e,i-1,o.isEmpty()?n:n-1,o.slice(),r),n+=a,e-=1,i-=1,o.unshift(i),r=!0,1===a){if(s+=1,e===M&&!A)return}else n+=1+s*(a-1),s=0}}n-=3<=i?9:3*i;N+=1;T<n&&(T=n,I=o)}(a,l,a===l?1:0,new P,!1),0!==N)return[T,I.toArray()]}}}var I,N=0,T=0,M=0,A=!1;var P=(R.prototype.isEmpty=function(){return!this._data&&(!this._parent||this._parent.isEmpty())},R.prototype.unshift=function(t){this._data?this._data.unshift(t):this._data=[t]},R.prototype.slice=function(){var t=new R;return t._parent=this,t._parentLen=this._data?this._data.length:0,t},R.prototype.toArray=function(){if(!this._data)return this._parent.toArray();for(var t=[],e=this;e;)e._parent&&e._parent._data&&t.push(e._parent._data.slice(e._parent._data.length-e._parentLen)),e=e._parent;return Array.prototype.concat.apply(this._data,t)},R);function R(){}function F(t,e,i,n,o,r,s){return function(t,e,i,n,o,r,s,a){var l=D(t,e,i,n,o,r,a);if(l&&!s)return l;if(3<=t.length)for(var u=Math.min(7,t.length-1),h=i+1;h<u;h++){var c=j(t,h);if(c){var d=D(c,c.toLowerCase(),i,n,o,r,a);d&&(d[0]-=3,(!l||d[0]>l[0])&&(l=d))}}return l}(t,e,i,n,o,r,!0,s)}function j(t,e){if(!(e+1>=t.length)){var i=t[e],n=t[e+1];if(i!==n)return t.slice(0,e)+n+i+t.slice(e+2)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return u}),i.d(e,"c",function(){return h}),i.d(e,"b",function(){return c});var n=i(0),o=i(5),r=i(11),s=i(32),a=i(57);function l(){this._onDidAddLanguages=new o.a,this.onDidAddLanguages=this._onDidAddLanguages.event,this._languages=[]}var u=new(l.prototype.registerLanguage=function(t){this._languages.push(t),this._onDidAddLanguages.fire([t])},l.prototype.getLanguages=function(){return this._languages.slice(0)},l);a.a.add("editor.modesRegistry",u);var h="plaintext",c=new r.o(h,1);u.registerLanguage({id:h,extensions:[".txt",".gitignore"],aliases:[n.a("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]}),s.a.register(c,{brackets:[["(",")"],["[","]"],["{","}"]]})},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"c",function(){return _}),i.d(e,"b",function(){return C});var n,o,r,s=i(1),a=i(75),l=i(77),u=i(12),h=i(5),c=i(27),d=i(8),p=(i(283),i(34)),f=i(150),g=i(183),m=i(0),v=i(10),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function _(t){var e=t.get(p.a).getFocusedCodeEditor();return e instanceof f.a?e.getParentEditor():e}(r=o=o||{}).inPeekEditor=new v.f("inReferenceSearchEditor",!0),r.notInPeekEditor=r.inPeekEditor.toNegated();var b,w={headerBackgroundColor:u.a.white,primaryHeadingColor:u.a.fromHex("#333333"),secondaryHeadingColor:u.a.fromHex("#6c6c6cb3")},C=(b=g.a,y(S,b),S.prototype.dispose=function(){b.prototype.dispose.call(this),this._onDidClose.fire(this)},Object.defineProperty(S.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:!0,configurable:!0}),S.prototype.style=function(t){var e=this.options;t.headerBackgroundColor&&(e.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(e.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(e.secondaryHeadingColor=t.secondaryHeadingColor),b.prototype.style.call(this,t)},S.prototype._applyStyles=function(){b.prototype._applyStyles.call(this);var t=this.options;this._headElement&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&(this._bodyElement.style.borderColor=t.frameColor.toString())},S.prototype._fillContainer=function(t){this.setCssClass("peekview-widget"),this._headElement=s.a(".head"),this._bodyElement=s.a(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)},S.prototype._fillHead=function(t){var e=this,i=s.a(".peekview-title");s.l(this._headElement,i),s.k(i,"click",function(t){return e._onTitleClick(t)}),this._primaryHeading=s.a("span.filename"),this._secondaryHeading=s.a("span.dirname"),this._metaHeading=s.a("span.meta"),s.l(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);var n=s.a(".peekview-actions");s.l(this._headElement,n);var o=this._getActionBarOptions();this._actionbarWidget=new a.a(n,o),this._disposables.push(this._actionbarWidget),this._actionbarWidget.push(new l.a("peekview.close",m.a("label.close","Close"),"close-peekview-action",!0,function(){return e.dispose(),null}),{label:!1,icon:!0})},S.prototype._getActionBarOptions=function(){return{}},S.prototype._onTitleClick=function(t){},S.prototype.setTitle=function(t,e){this._primaryHeading.innerHTML=d.m(t),this._primaryHeading.setAttribute("aria-label",t),e?this._secondaryHeading.innerHTML=d.m(e):s.m(this._secondaryHeading)},S.prototype.setMetaTitle=function(t){t?this._metaHeading.innerHTML=d.m(t):s.m(this._metaHeading)},S.prototype._doLayout=function(t,e){if(!this._isShowing&&t<0)this.dispose();else{var i=Math.ceil(1.2*this.editor.getConfiguration().lineHeight),n=t-(i+2);this._doLayoutHead(i,e),this._doLayoutBody(n,e)}},S.prototype._doLayoutHead=function(t,e){this._headElement.style.height=d.p("{0}px",t),this._headElement.style.lineHeight=this._headElement.style.height},S.prototype._doLayoutBody=function(t,e){this._bodyElement.style.height=d.p("{0}px",t)},S);function S(t,e){void 0===e&&(e={});var i=b.call(this,t,e)||this;return i._onDidClose=new h.a,c.g(i.options,w,!1),i}},function(t,e,i){"use strict";i.d(e,"d",function(){return c}),i.d(e,"b",function(){return v}),i.d(e,"a",function(){return b}),i.d(e,"c",function(){return P});var n,o,r=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=(a.isDigitCharacter=function(t){return 48<=t&&t<=57},a.isVariableCharacter=function(t){return 95===t||97<=t&&t<=122||65<=t&&t<=90},a.prototype.text=function(t){this.value=t,this.pos=0},a.prototype.tokenText=function(t){return this.value.substr(t.pos,t.len)},a.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var t,e=this.pos,i=0,n=this.value.charCodeAt(e);if("number"==typeof(t=a._table[n]))return this.pos+=1,{type:t,pos:e,len:1};if(a.isDigitCharacter(n)){for(t=8;i+=1,n=this.value.charCodeAt(e+i),a.isDigitCharacter(n););return this.pos+=i,{type:t,pos:e,len:i}}if(a.isVariableCharacter(n)){for(t=9;n=this.value.charCodeAt(e+ ++i),a.isVariableCharacter(n)||a.isDigitCharacter(n););return this.pos+=i,{type:t,pos:e,len:i}}for(t=10;i+=1,n=this.value.charCodeAt(e+i),!isNaN(n)&&void 0===a._table[n]&&!a.isDigitCharacter(n)&&!a.isVariableCharacter(n););return this.pos+=i,{type:t,pos:e,len:i}},a._table=((o={})[36]=0,o[58]=1,o[44]=2,o[123]=3,o[125]=4,o[92]=5,o[47]=6,o[124]=7,o[43]=11,o[45]=12,o[63]=13,o),a);function a(){this.text("")}var l=(u.prototype.appendChild=function(t){return t instanceof c&&this._children[this._children.length-1]instanceof c?this._children[this._children.length-1].value+=t.value:(t.parent=this)._children.push(t),this},u.prototype.replace=function(t,e){var i=t.parent,n=i.children.indexOf(t),o=i.children.slice(0);o.splice.apply(o,[n,1].concat(e)),i._children=o,function t(e,i){for(var n=0,o=e;n<o.length;n++){var r=o[n];r.parent=i,t(r.children,r)}}(e,i)},Object.defineProperty(u.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"snippet",{get:function(){for(var t=this;;){if(!t)return;if(t instanceof M)return t;t=t.parent}},enumerable:!0,configurable:!0}),u.prototype.toString=function(){return this.children.reduce(function(t,e){return t+e.toString()},"")},u.prototype.len=function(){return 0},u);function u(){this._children=[]}var h,c=(r(d,h=l),d.prototype.toString=function(){return this.value},d.prototype.len=function(){return this.value.length},d.prototype.clone=function(){return new d(this.value)},d);function d(t){var e=h.call(this)||this;return e.value=t,e}var p,f=(r(g,p=l),g);function g(){return null!==p&&p.apply(this,arguments)||this}var m,v=(r(y,m=f),y.compareByIndex=function(t,e){return t.index===e.index?0:t.isFinalTabstop?1:e.isFinalTabstop?-1:t.index<e.index?-1:t.index>e.index?1:0},Object.defineProperty(y.prototype,"isFinalTabstop",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"choice",{get:function(){return 1===this._children.length&&this._children[0]instanceof b?this._children[0]:void 0},enumerable:!0,configurable:!0}),y.prototype.clone=function(){var t=new y(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(t){return t.clone()}),t},y);function y(t){var e=m.call(this)||this;return e.index=t,e}var _,b=(r(w,_=l),w.prototype.appendChild=function(t){return t instanceof c&&(t.parent=this).options.push(t),this},w.prototype.toString=function(){return this.options[0].value},w.prototype.len=function(){return this.options[0].len()},w.prototype.clone=function(){var t=new w;return this.options.forEach(t.appendChild,t),t},w);function w(){var t=null!==_&&_.apply(this,arguments)||this;return t.options=[],t}var C,S=(r(x,C=l),x.prototype.resolve=function(t){var e=this,i=!1,n=t.replace(this.regexp,function(){return i=!0,e._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(function(t){return t instanceof O&&Boolean(t.elseValue)})&&(n=this._replace([])),n},x.prototype._replace=function(t){for(var e="",i=0,n=this._children;i<n.length;i++){var o=n[i];if(o instanceof O){var r=t[o.index]||"";e+=r=o.resolve(r)}else e+=o.toString()}return e},x.prototype.toString=function(){return""},x.prototype.clone=function(){var t=new x;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(function(t){return t.clone()}),t},x);function x(){return null!==C&&C.apply(this,arguments)||this}var k,O=(r(E,k=l),E.prototype.resolve=function(t){return"upcase"===this.shorthandName?t?t.toLocaleUpperCase():"":"downcase"===this.shorthandName?t?t.toLocaleLowerCase():"":"capitalize"===this.shorthandName?t?t[0].toLocaleUpperCase()+t.substr(1):"":"pascalcase"===this.shorthandName?t?this._toPascalCase(t):"":Boolean(t)&&"string"==typeof this.ifValue?this.ifValue:Boolean(t)||"string"!=typeof this.elseValue?t||"":this.elseValue},E.prototype._toPascalCase=function(t){var e=t.match(/[a-z]+/gi);return e?e.map(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}).join(""):t},E.prototype.clone=function(){return new E(this.index,this.shorthandName,this.ifValue,this.elseValue)},E);function E(t,e,i,n){var o=k.call(this)||this;return o.index=t,o.shorthandName=e,o.ifValue=i,o.elseValue=n,o}var L,D=(r(I,L=f),I.prototype.resolve=function(t){var e=t.resolve(this);return this.transform&&(e=this.transform.resolve(e||"")),void 0!==e&&(this._children=[new c(e)],!0)},I.prototype.clone=function(){var t=new I(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(t){return t.clone()}),t},I);function I(t){var e=L.call(this)||this;return e.name=t,e}function N(t,e){for(var i=t.slice();0<i.length;){var n=i.shift();if(!e(n))break;i.unshift.apply(i,n.children)}}var T,M=(r(A,T=l),Object.defineProperty(A.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var e,i=[];this.walk(function(t){return t instanceof v&&(i.push(t),e=!e||e.index<t.index?t:e),!0}),this._placeholders={all:i,last:e}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"placeholders",{get:function(){return this.placeholderInfo.all},enumerable:!0,configurable:!0}),A.prototype.offset=function(e){var i=0,n=!1;return this.walk(function(t){return t===e?!(n=!0):(i+=t.len(),!0)}),n?i:-1},A.prototype.fullLen=function(t){var e=0;return N([t],function(t){return e+=t.len(),!0}),e},A.prototype.enclosingPlaceholders=function(t){for(var e=[],i=t.parent;i;)i instanceof v&&e.push(i),i=i.parent;return e},A.prototype.resolveVariables=function(e){var i=this;return this.walk(function(t){return t instanceof D&&t.resolve(e)&&(i._placeholders=void 0),!0}),this},A.prototype.appendChild=function(t){return this._placeholders=void 0,T.prototype.appendChild.call(this,t)},A.prototype.replace=function(t,e){return this._placeholders=void 0,T.prototype.replace.call(this,t,e)},A.prototype.clone=function(){var t=new A;return this._children=this.children.map(function(t){return t.clone()}),t},A.prototype.walk=function(t){N(this.children,t)},A);function A(){return null!==T&&T.apply(this,arguments)||this}var P=(R.escape=function(t){return t.replace(/\$|}|\\/g,"\\$&")},R.prototype.parse=function(t,e,i){this._scanner.text(t),this._token=this._scanner.next();for(var n=new M;this._parse(n););var o=new Map,r=[],s=0;n.walk(function(t){return t instanceof v&&(s+=1,t.isFinalTabstop?o.set(0,void 0):!o.has(t.index)&&0<t.children.length?o.set(t.index,t.children):r.push(t)),!0});for(var a=0,l=r;a<l.length;a++){var u=l[a];if(o.has(u.index)){var h=new v(u.index);h.transform=u.transform;for(var c=0,d=o.get(u.index);c<d.length;c++){var p=d[c];h.appendChild(p.clone())}n.replace(u,[h])}}return i=i||0<s&&e,!o.has(0)&&i&&n.appendChild(new v(0)),n},R.prototype._accept=function(t,e){if(void 0!==t&&this._token.type!==t)return!1;var i=!e||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),i},R.prototype._backTo=function(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1},R.prototype._until=function(t){if(14===this._token.type)return!1;for(var e=this._token;this._token.type!==t;)if(this._token=this._scanner.next(),14===this._token.type)return!1;var i=this._scanner.value.substring(e.pos,this._token.pos);return this._token=this._scanner.next(),i},R.prototype._parse=function(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)},R.prototype._parseEscaped=function(t){var e;return!!(e=this._accept(5,!0))&&(e=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||e,t.appendChild(new c(e)),!0)},R.prototype._parseTabstopOrVariableName=function(t){var e,i=this._token;return this._accept(0)&&(e=this._accept(9,!0)||this._accept(8,!0))?(t.appendChild(/^\d+$/.test(e)?new v(Number(e)):new D(e)),!0):this._backTo(i)},R.prototype._parseComplexPlaceholder=function(t){var e,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(8,!0))))return this._backTo(i);var n=new v(Number(e));if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(n),!0;if(!this._parse(n))return t.appendChild(new c("${"+e+":")),n.children.forEach(t.appendChild,t),!0}else{if(!(0<n.index&&this._accept(7)))return this._accept(6)?this._parseTransform(n)?(t.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(t.appendChild(n),!0):this._backTo(i);for(var o=new b;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(o),this._accept(4)))return t.appendChild(n),!0}return this._backTo(i),!1}}},R.prototype._parseChoiceElement=function(t){for(var e=this._token,i=[];2!==this._token.type&&7!==this._token.type;){var n=void 0;if(!(n=(n=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:this._accept(void 0,!0)))return this._backTo(e),!1;i.push(n)}return 0===i.length?(this._backTo(e),!1):(t.appendChild(new c(i.join(""))),!0)},R.prototype._parseComplexVariable=function(t){var e,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(9,!0))))return this._backTo(i);var n=new D(e);if(!this._accept(1))return this._accept(6)?this._parseTransform(n)?(t.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(t.appendChild(n),!0):this._backTo(i);for(;;){if(this._accept(4))return t.appendChild(n),!0;if(!this._parse(n))return t.appendChild(new c("${"+e+":")),n.children.forEach(t.appendChild,t),!0}},R.prototype._parseTransform=function(t){for(var e=new S,i="",n="";!this._accept(6);){var o=void 0;if(o=this._accept(5,!0))i+=o=this._accept(6,!0)||o;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);)if(o=void 0,o=this._accept(5,!0))o=this._accept(6,!0)||o,e.appendChild(new c(o));else if(!this._parseFormatString(e)&&!this._parseAnything(e))return!1;for(;!this._accept(4);){if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{e.regexp=new RegExp(i,n)}catch(t){return!1}return t.transform=e,!0},R.prototype._parseFormatString=function(t){var e=this._token;if(!this._accept(0))return!1;var i=!1;this._accept(3)&&(i=!0);var n=this._accept(8,!0);if(!n)return this._backTo(e),!1;if(!i)return t.appendChild(new O(Number(n))),!0;if(this._accept(4))return t.appendChild(new O(Number(n))),!0;if(!this._accept(1))return this._backTo(e),!1;if(this._accept(6)){var o=this._accept(9,!0);return o&&this._accept(4)?(t.appendChild(new O(Number(n),o)),!0):(this._backTo(e),!1)}if(this._accept(11)){if(r=this._until(4))return t.appendChild(new O(Number(n),void 0,r,void 0)),!0}else if(this._accept(12)){if(s=this._until(4))return t.appendChild(new O(Number(n),void 0,void 0,s)),!0}else if(this._accept(13)){var r;if((r=this._until(1))&&(s=this._until(4)))return t.appendChild(new O(Number(n),void 0,r,s)),!0}else{var s;if(s=this._until(4))return t.appendChild(new O(Number(n),void 0,void 0,s)),!0}return this._backTo(e),!1},R.prototype._parseAnything=function(t){return 14!==this._token.type&&(t.appendChild(new c(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},R);function R(){this._scanner=new s}},function(t,e,i){"use strict";var n=i(58),d=i(43),o=i(237),r=i(102);function s(t,e,i){o.call(this),this.domRoot=t,this.scale=e.fontScale||r.defaultFontScale,this.fontSelectorOrEditor=i,this.isFontOfStr="string"==typeof this.fontSelectorOrEditor,this.apply(),function(i,t,e,n){for(var o=e.isFontOfStr?10:14,r=.05,s=!1,a=function(){d(this).addClass("active").siblings().removeClass("active"),e.scale=d(this).data("value"),e.apply(),e.emit("change")},l=-1,u=t[0];u<=t[1];u+=r){r*=1.2;var h=Math.round(u*o);if(h!==l){l=h;var c=d("<button></button>");c.attr("data-value",u),c.addClass("font-option dropdown-item btn btn-light btn-sm"),s||u!==e.scale&&Math.floor(u)!==e.scale||(s=!0,c.addClass("active")),c.text(h),c.appendTo(i).click(a)}}n&&n.on("wheel",function(t){t.preventDefault();var e=i.find(".active").index();0<=t.originalEvent.deltaY&&e<i.children().length-1?e++:t.originalEvent.deltaY<0&&0<e&&e--,i.children().eq(e).trigger("click")})}(this.domRoot.find(".font-size-list"),[.3,3],this,this.domRoot.find(".fs-button"))}n.extend(s.prototype,o.prototype),s.prototype.apply=function(){this.isFontOfStr?this.domRoot.find(this.fontSelectorOrEditor).css("font-size",10*this.scale+"pt"):this.fontSelectorOrEditor.updateOptions({fontSize:14*this.scale})},s.prototype.addState=function(t){1!==this.scale&&(t.fontScale=this.scale)},s.prototype.setScale=function(t){this.scale=t,this.apply()},t.exports=s},function(t,e,i){"use strict";i.r(e);var a=i(4),l=i(8),n=i(3),E=i(2),f=i(20),o=i(6),r=i(42),s=i(10),u=i(132),b=i(21),L=(i(322),i(53)),h=i(24),D=i(170),I=i(18),N=i(114),c=i(0),d=i(41),T=(p.prototype.resolve=function(t){for(var e=0,i=this._delegates;e<i.length;e++){var n=i[e].resolve(t);if(void 0!==n)return n}},p);function p(t){this._delegates=t}var M=(g.prototype.resolve=function(e){var t=e.name;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){var i=this._model.getValueInRange(this._selection)||void 0;if(i&&this._selection.startLineNumber!==this._selection.endLineNumber){var n=this._model.getLineContent(this._selection.startLineNumber),o=Object(l.q)(n,0,this._selection.startColumn-1),r=o;e.snippet.walk(function(t){return t!==e&&(t instanceof N.d&&(r=Object(l.q)(t.value.split(/\r\n|\r|\n/).pop())),!0)});var s=Object(l.b)(r,o);i=i.replace(/(\r\n|\r|\n)(.*)/g,function(t,e,i){return""+e+r.substr(s)+i})}return i}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"!==t)return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0;var a=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return a&&a.word||void 0},g);function g(t,e){this._model=t,this._selection=e}var A=(m.prototype.resolve=function(t){var e=t.name;if("TM_FILENAME"===e)return Object(d.a)(this._model.uri.fsPath);if("TM_FILENAME_BASE"===e){var i=Object(d.a)(this._model.uri.fsPath),n=i.lastIndexOf(".");return n<=0?i:i.slice(0,n)}if("TM_DIRECTORY"!==e)return"TM_FILEPATH"===e?this._model.uri.fsPath:void 0;var o=Object(d.b)(this._model.uri.fsPath);return"."!==o?o:""},m);function m(t){this._model=t}var P=(v.prototype.resolve=function(t){if("CLIPBOARD"===t.name&&this._clipboardService){var e=this._clipboardService.readText();if(e){var i=e.split(/\r\n|\n|\r/).filter(function(t){return!Object(l.s)(t)});return i.length===this._selectionCount?i[this._selectionIdx]:e}}},v);function v(t,e,i){this._clipboardService=t,this._selectionIdx=e,this._selectionCount=i}var R=(y.prototype.resolve=function(t){var e=t.name;return"CURRENT_YEAR"===e?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===e?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===e?Object(l.A)((new Date).getMonth().valueOf()+1,2):"CURRENT_DATE"===e?Object(l.A)((new Date).getDate().valueOf(),2):"CURRENT_HOUR"===e?Object(l.A)((new Date).getHours().valueOf(),2):"CURRENT_MINUTE"===e?Object(l.A)((new Date).getMinutes().valueOf(),2):"CURRENT_SECOND"===e?Object(l.A)((new Date).getSeconds().valueOf(),2):"CURRENT_DAY_NAME"===e?y.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===e?y.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===e?y.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===e?y.monthNamesShort[(new Date).getMonth()]:void 0},y.dayNames=[c.a("Sunday","Sunday"),c.a("Monday","Monday"),c.a("Tuesday","Tuesday"),c.a("Wednesday","Wednesday"),c.a("Thursday","Thursday"),c.a("Friday","Friday"),c.a("Saturday","Saturday")],y.dayNamesShort=[c.a("SundayShort","Sun"),c.a("MondayShort","Mon"),c.a("TuesdayShort","Tue"),c.a("WednesdayShort","Wed"),c.a("ThursdayShort","Thu"),c.a("FridayShort","Fri"),c.a("SaturdayShort","Sat")],y.monthNames=[c.a("January","January"),c.a("February","February"),c.a("March","March"),c.a("April","April"),c.a("May","May"),c.a("June","June"),c.a("July","July"),c.a("August","August"),c.a("September","September"),c.a("October","October"),c.a("November","November"),c.a("December","December")],y.monthNamesShort=[c.a("JanuaryShort","Jan"),c.a("FebruaryShort","Feb"),c.a("MarchShort","Mar"),c.a("AprilShort","Apr"),c.a("MayShort","May"),c.a("JuneShort","Jun"),c.a("JulyShort","Jul"),c.a("AugustShort","Aug"),c.a("SeptemberShort","Sep"),c.a("OctoberShort","Oct"),c.a("NovemberShort","Nov"),c.a("DecemberShort","Dec")],y);function y(){}var _=i(16),w=i(7);Object(_.e)(function(i,t){function e(t){var e=i.getColor(t);return e?e.toString():"transparent"}t.addRule(".monaco-editor .snippet-placeholder { background-color: "+e(w.Bb)+"; outline-color: "+e(w.Cb)+"; }"),t.addRule(".monaco-editor .finish-snippet-placeholder { background-color: "+e(w.zb)+"; outline-color: "+e(w.Ab)+"; }")});var F=(C.prototype.dispose=function(){if(this._placeholderDecorations){var e=[];this._placeholderDecorations.forEach(function(t){return e.push(t)}),this._editor.deltaDecorations(e,[])}this._placeholderGroups.length=0},C.prototype._initDecorations=function(){var u=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var h=this._editor.getModel();this._editor.changeDecorations(function(t){for(var e=0,i=u._snippet.placeholders;e<i.length;e++){var n=i[e],o=u._snippet.offset(n),r=u._snippet.fullLen(n),s=E.a.fromPositions(h.getPositionAt(u._offset+o),h.getPositionAt(u._offset+o+r)),a=n.isFinalTabstop?C._decor.inactiveFinal:C._decor.inactive,l=t.addDecoration(s,a);u._placeholderDecorations.set(n,l)}})}},C.prototype.move=function(t){var d=this;if(this._initDecorations(),0<=this._placeholderGroupsIdx){for(var e=[],i=0,n=this._placeholderGroups[this._placeholderGroupsIdx];i<n.length;i++){var o=n[i];if(o.transform){var r=this._placeholderDecorations.get(o),s=this._editor.getModel().getDecorationRange(r),a=this._editor.getModel().getValueInRange(s);e.push(L.a.replaceMove(s,o.transform.resolve(a)))}}0<e.length&&this._editor.executeEdits("snippet.placeholderTransform",e)}var p=!1;!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,p=!0):!1===t&&0<this._placeholderGroupsIdx&&(this._placeholderGroupsIdx-=1,p=!0);var l=this._editor.getModel().changeDecorations(function(i){for(var n=new Set,t=[],e=0,o=d._placeholderGroups[d._placeholderGroupsIdx];e<o.length;e++){var r=o[e],s=d._placeholderDecorations.get(r),a=d._editor.getModel().getDecorationRange(s);t.push(new f.a(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn)),p=p&&a.isEmpty()&&0<r.toString().length,i.changeDecorationOptions(s,r.isFinalTabstop?C._decor.activeFinal:C._decor.active),n.add(r);for(var l=0,u=d._snippet.enclosingPlaceholders(r);l<u.length;l++){var h=u[l],c=d._placeholderDecorations.get(h);i.changeDecorationOptions(c,h.isFinalTabstop?C._decor.activeFinal:C._decor.active),n.add(h)}}return d._placeholderDecorations.forEach(function(t,e){n.has(e)||i.changeDecorationOptions(t,e.isFinalTabstop?C._decor.inactiveFinal:C._decor.inactive)}),t});return p?this.move(t):l},Object.defineProperty(C.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"hasPlaceholder",{get:function(){return 0<this._snippet.placeholders.length},enumerable:!0,configurable:!0}),C.prototype.computePossibleSelections=function(){for(var t=new Map,e=0,i=this._placeholderGroups;e<i.length;e++)for(var n=void 0,o=0,r=i[e];o<r.length;o++){var s=r[o];if(s.isFinalTabstop)break;n||(n=[],t.set(s.index,n));var a=this._placeholderDecorations.get(s),l=this._editor.getModel().getDecorationRange(a);if(!l){t.delete(s.index);break}n.push(l)}return t},Object.defineProperty(C.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),C.prototype.merge=function(v){var y=this,_=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(t){for(var e=0,i=y._placeholderGroups[y._placeholderGroupsIdx];e<i.length;e++){var n=i[e],o=v.shift();console.assert(!o._placeholderDecorations);for(var r=o._snippet.placeholderInfo.last.index,s=0,a=o._snippet.placeholderInfo.all;s<a.length;s++){var l=a[s];l.isFinalTabstop?l.index=n.index+(r+1)/y._nestingLevel:l.index=n.index+l.index/y._nestingLevel}y._snippet.replace(n,o._snippet.children);var u=y._placeholderDecorations.get(n);t.removeDecoration(u),y._placeholderDecorations.delete(n);for(var h=0,c=o._snippet.placeholders;h<c.length;h++){var d=c[h],p=o._snippet.offset(d),f=o._snippet.fullLen(d),g=E.a.fromPositions(_.getPositionAt(o._offset+p),_.getPositionAt(o._offset+p+f)),m=t.addDecoration(g,C._decor.inactive);y._placeholderDecorations.set(d,m)}}y._placeholderGroups=Object(b.j)(y._snippet.placeholders,N.b.compareByIndex)})},C._decor={active:h.a.register({stickiness:0,className:"snippet-placeholder"}),inactive:h.a.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:h.a.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:h.a.register({stickiness:1,className:"finish-snippet-placeholder"})},C);function C(t,e,i){this._nestingLevel=1,this._editor=t,this._snippet=e,this._offset=i,this._placeholderGroups=Object(b.j)(e.placeholders,N.b.compareByIndex),this._placeholderGroupsIdx=-1}var S=(j.adjustWhitespace=function(r,t,e){var i=r.getLineContent(t.lineNumber),s=Object(l.q)(i,0,t.column-1);e.walk(function(t){if(t instanceof N.d&&!(t.parent instanceof N.a)){for(var e=t.value.split(/\r\n|\r|\n/),i=1;i<e.length;i++){var n=Object(l.q)(e[i]);e[i]=r.normalizeIndentation(s+n)+e[i].substr(n.length)}var o=e.join(r.getEOL());o!==t.value&&t.parent.replace(t,[new N.d(o)])}return!0})},j.adjustSelection=function(t,e,i,n){if(0!==i||0!==n){var o=e.positionLineNumber,r=e.positionColumn,s=r-i,a=r+n,l=t.validateRange({startLineNumber:o,startColumn:s,endLineNumber:o,endColumn:a});e=f.a.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,e.getDirection())}return e},j.createEditsAndSnippets=function(t,e,i,n,o,r){for(var s=t.getModel(),a=[],l=[],u=new A(s),h=t.invokeWithinContext(function(t){return t.get(D.a,I.d)}),c=0,d=s.getValueInRange(j.adjustSelection(s,t.getSelection(),i,0)),p=s.getValueInRange(j.adjustSelection(s,t.getSelection(),0,n)),f=s.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),g=t.getSelections().map(function(t,e){return{selection:t,idx:e}}).sort(function(t,e){return E.a.compareRangesUsingStarts(t.selection,e.selection)}),m=0,v=g;m<v.length;m++){var y=v[m],_=y.selection,b=y.idx,w=j.adjustSelection(s,_,i,0),C=j.adjustSelection(s,_,0,n);d!==s.getValueInRange(w)&&(w=_),p!==s.getValueInRange(C)&&(C=_);var S=_.setStartPosition(w.startLineNumber,w.startColumn).setEndPosition(C.endLineNumber,C.endColumn),x=(new N.c).parse(e,!0,o),k=S.getStartPosition();(r||0<b&&f!==s.getLineFirstNonWhitespaceColumn(_.positionLineNumber))&&j.adjustWhitespace(s,k,x),x.resolveVariables(new T([u,new P(h,b,g.length),new M(s,_),new R]));var O=s.getOffsetAt(k)+c;c+=x.toString().length-s.getValueLengthInRange(S),a[b]=L.a.replace(S,x.toString()),l[b]=new F(t,x,O)}return{edits:a,snippets:l}},j.prototype.dispose=function(){Object(a.d)(this._snippets)},j.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},j.prototype.insert=function(){var e=this,t=this._editor.getModel(),i=j.createEditsAndSnippets(this._editor,this._template,this._overwriteBefore,this._overwriteAfter,!1,this._adjustWhitespace),n=i.edits,o=i.snippets;this._snippets=o;var r=t.pushEditOperations(this._editor.getSelections(),n,function(t){return e._snippets[0].hasPlaceholder?e._move(!0):t.map(function(t){return f.a.fromPositions(t.range.getEndPosition())})});this._editor.setSelections(r),this._editor.revealRange(r[0])},j.prototype.merge=function(t,e,i,n){var o=this;void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=!0),this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var r=j.createEditsAndSnippets(this._editor,t,e,i,!0,n),s=r.edits,a=r.snippets;this._editor.setSelections(this._editor.getModel().pushEditOperations(this._editor.getSelections(),s,function(t){for(var e=0,i=o._snippets;e<i.length;e++)i[e].merge(a);return console.assert(0===a.length),o._snippets[0].hasPlaceholder?o._move(void 0):t.map(function(t){return f.a.fromPositions(t.range.getEndPosition())})}))},j.prototype.next=function(){var t=this._move(!0);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())},j.prototype.prev=function(){var t=this._move(!1);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())},j.prototype._move=function(t){for(var e=[],i=0,n=this._snippets;i<n.length;i++){var o=n[i].move(t);e.push.apply(e,o)}return e},Object.defineProperty(j.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),j.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var r,s=this._editor.getSelections();if(s.length<this._snippets.length)return!1;for(var t=function(t){var i=t.computePossibleSelections();if(r||(r=new Map,i.forEach(function(t,e){t.sort(E.a.compareRangesUsingStarts);for(var i=0,n=s;i<n.length;i++){var o=n[i];if(t[0].containsRange(o)){r.set(e,[]);break}}})),0===r.size)return{value:!1};r.forEach(function(t,e){t.push.apply(t,i.get(e))})},e=0,i=this._snippets;e<i.length;e++){var n=t(i[e]);if("object"==typeof n)return n.value}return s.sort(E.a.compareRangesUsingStarts),r.forEach(function(t,e){if(t.length===s.length){t.sort(E.a.compareRangesUsingStarts);for(var i=0;i<t.length;i++)if(!t[i].containsRange(s[i]))return void r.delete(e)}else r.delete(e)}),0<r.size},j);function j(t,e,i,n,o){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=!0),this._templateMerges=[],this._snippets=[],this._editor=t,this._template=e,this._overwriteBefore=i,this._overwriteAfter=n,this._adjustWhitespace=o}i.d(e,"SnippetController2",function(){return O});var x=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},k=function(i,n){return function(t,e){n(t,e,i)}},O=(B.get=function(t){return t.getContribution("snippetController2")},B.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Object(a.d)(this._session)},B.prototype.getId=function(){return"snippetController2"},B.prototype.insert=function(e,t,i,n,o,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===r&&(r=!0);try{this._doInsert(e,t,i,n,o,r)}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},B.prototype._doInsert=function(t,e,i,n,o,r){var s=this;void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===r&&(r=!0),this._snippetListener=Object(a.d)(this._snippetListener),n&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(t,e,i,r):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new S(this._editor,t,e,i,r),this._session.insert()),o&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener=[this._editor.onDidChangeModelContent(function(t){return t.isFlush&&s.cancel()}),this._editor.onDidChangeModel(function(){return s.cancel()}),this._editor.onDidChangeCursorSelection(function(){return s._updateState()})]},B.prototype._updateState=function(){if(this._session){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},B.prototype._handleChoice=function(){var i=this,t=this._session.choice;if(t){if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map(function(t){return f.a.fromPositions(t.getStartPosition())}));var n=t.options[0];Object(r.f)(this._editor,t.options.map(function(t,e){return{kind:13,label:t.value,insertText:t.value,sortText:Object(l.C)("a",e),range:E.a.fromPositions(i._editor.getPosition(),i._editor.getPosition().delta(0,n.value.length))}}))}}else this._currentChoice=void 0},B.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},B.prototype.cancel=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Object(a.d)(this._snippetListener),Object(a.d)(this._session),this._session=void 0,this._modelVersionId=-1},B.prototype.prev=function(){this._session.prev(),this._updateState()},B.prototype.next=function(){this._session.next(),this._updateState()},B.prototype.isInSnippet=function(){return this._inSnippet.get()},B.InSnippetMode=new s.f("inSnippetMode",!1),B.HasNextTabstop=new s.f("hasNextTabstop",!1),B.HasPrevTabstop=new s.f("hasPrevTabstop",!1),B=x([k(1,u.a),k(2,s.e)],B));function B(t,e,i){this._editor=t,this._logService=e,this._snippetListener=[],this._inSnippet=B.InSnippetMode.bindTo(i),this._hasNextTabstop=B.HasNextTabstop.bindTo(i),this._hasPrevTabstop=B.HasPrevTabstop.bindTo(i)}Object(n.h)(O);var H=n.c.bindToContribution(O.get);Object(n.g)(new H({id:"jumpToNextSnippetPlaceholder",precondition:s.d.and(O.InSnippetMode,O.HasNextTabstop),handler:function(t){return t.next()},kbOpts:{weight:130,kbExpr:o.a.editorTextFocus,primary:2}})),Object(n.g)(new H({id:"jumpToPrevSnippetPlaceholder",precondition:s.d.and(O.InSnippetMode,O.HasPrevTabstop),handler:function(t){return t.prev()},kbOpts:{weight:130,kbExpr:o.a.editorTextFocus,primary:1026}})),Object(n.g)(new H({id:"leaveSnippet",precondition:O.InSnippetMode,handler:function(t){return t.cancel()},kbOpts:{weight:130,kbExpr:o.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(n.g)(new H({id:"acceptSnippet",precondition:O.InSnippetMode,handler:function(t){return t.finish()}}))},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("textModelService")},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=(o.prototype.set=function(t,e){var i=this._entries.get(t);return this._entries.set(t,e),i},o.prototype.has=function(t){return this._entries.has(t)},o.prototype.get=function(t){return this._entries.get(t)},o);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._entries=new Map;for(var i=0,n=t;i<n.length;i++){var o=n[i],r=o[0],s=o[1];this.set(r,s)}}},function(t,f,g){"use strict";(function(i){g.d(f,"b",function(){return t}),g.d(f,"e",function(){return e}),g.d(f,"d",function(){return a}),g.d(f,"c",function(){return p}),g.d(f,"a",function(){return n});var l=g(84),u=g(244),r=g(66),s=g(231);function t(t,e,i){if(e in t){var n=t[e],o=i(n);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:n},__sentry_wrapped__:{enumerable:!1,value:o}})}catch(t){}t[e]=o}}function e(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function h(t){if(Object(l.d)(t)){var e=t,i={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}if(Object(l.f)(t)){var o={};o.type=t.type;try{o.target=Object(l.c)(t.target)?Object(r.h)(t.target):Object.prototype.toString.call(t.target)}catch(t){o.target="<unknown>"}try{o.currentTarget=Object(l.c)(t.currentTarget)?Object(r.h)(t.currentTarget):Object.prototype.toString.call(t.currentTarget)}catch(t){o.currentTarget="<unknown>"}for(var n in"undefined"!=typeof CustomEvent&&t instanceof CustomEvent&&(o.detail=t.detail),t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o}return t}function o(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function a(t,e,i){void 0===e&&(e=3),void 0===i&&(i=102400);var n=p(t,e);return o(n)>i?a(t,e-1,i):n}function c(t,e){return"domain"===e&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==i&&t===i?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(l.k)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+(t.name||"<unknown-function-name>")+"]":t}function d(t,e,i,n){if(void 0===i&&(i=1/0),void 0===n&&(n=new u.a),0===i)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var i=c(t);return Object(l.h)(i)?i:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var o=c(e,t);if(Object(l.h)(o))return o;var r=h(e),s=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=d(a,r[a],i-1,n));return n.unmemoize(e),s}function p(t,i){try{return JSON.parse(JSON.stringify(t,function(t,e){return d(t,e,i)}))}catch(t){return"**non-serializable**"}}function n(t,e){void 0===e&&(e=40);var i=Object.keys(h(t));if(i.sort(),!i.length)return"[object has no keys]";if(i[0].length>=e)return Object(s.c)(i[0],e);for(var n=i.length;0<n;n--){var o=i.slice(0,n).join(", ");if(!(o.length>e))return n===i.length?o:Object(s.c)(o,e)}return""}}).call(this,g(133))},function(t,e,i){"use strict";function n(t,e){if(!t||null===t)throw new Error(e?"Assertion failed ("+e+")":"Assertion Failed")}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var f=i(8),n=(d._equals=function(t,e){return t.startColumn===e.startColumn&&t.endColumn===e.endColumn&&t.className===e.className&&t.type===e.type},d.equalsArr=function(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(!d._equals(t[n],e[n]))return!1;return!0},d.filter=function(t,e,i,n){if(0===t.length)return[];for(var o=[],r=0,s=0,a=t.length;s<a;s++){var l=t[s],u=l.range;if(!(u.endLineNumber<e||u.startLineNumber>e||u.isEmpty()&&(0===l.type||3===l.type))){var h=u.startLineNumber===e?u.startColumn:i,c=u.endLineNumber===e?u.endColumn:n;o[r++]=new d(h,c,l.inlineClassName,l.type)}}return o},d.compare=function(t,e){return t.startColumn===e.startColumn?t.endColumn===e.endColumn?t.className<e.className?-1:t.className>e.className?1:0:t.endColumn-e.endColumn:t.startColumn-e.startColumn},d);function d(t,e,i,n){this.startColumn=t,this.endColumn=e,this.className=i,this.type=n}var o=function(t,e,i){this.startOffset=t,this.endOffset=e,this.className=i},g=(r.prototype.consumeLowerThan=function(t,e,i){for(;0<this.count&&this.stopOffsets[0]<t;){for(var n=0;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;i.push(new o(e,this.stopOffsets[n],this.classNames.join(" "))),e=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.count-=n+1}return 0<this.count&&e<t&&(i.push(new o(e,t-1,this.classNames.join(" "))),e=t),e},r.prototype.insert=function(t,e){if(0===this.count||this.stopOffsets[this.count-1]<=t)this.stopOffsets.push(t),this.classNames.push(e);else for(var i=0;i<this.count;i++)if(this.stopOffsets[i]>=t){this.stopOffsets.splice(i,0,t),this.classNames.splice(i,0,e);break}this.count++},r);function r(){this.stopOffsets=[],this.classNames=[],this.count=0}var s=(a.normalize=function(t,e){if(0===e.length)return[];for(var i=[],n=new g,o=0,r=0,s=e.length;r<s;r++){var a=e[r],l=a.startColumn,u=a.endColumn,h=a.className;if(1<l){var c=t.charCodeAt(l-2);f.u(c)&&l--}1<u&&(c=t.charCodeAt(u-2),f.u(c)&&u--);var d=l-1,p=u-2;o=n.consumeLowerThan(d,o,i),0===n.count&&(o=d),n.insert(p,h)}return n.consumeLowerThan(1073741824,o,i),i},a);function a(){}},function(t,e,i){"use strict";var n=i(0),o=i(35),g=i(153),m=i(75),v=i(142),y=i(1),r=(i(310),i(27)),s=i(173),a=y.a,_=(l.prototype.set=function(t,e){this.didEverRender&&this.keybinding===t&&l.areSame(this.matches,e)||(this.keybinding=t,this.matches=e,this.render())},l.prototype.render=function(){if(y.m(this.domNode),this.keybinding){var t=this.keybinding.getParts(),e=t[0],i=t[1];e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),i&&(y.l(this.domNode,a("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,i,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}this.didEverRender=!0},l.prototype.renderPart=function(t,e,i){var n=s.b.modifierLabels[this.os];e.ctrlKey&&this.renderKey(t,n.ctrlKey,Boolean(i&&i.ctrlKey),n.separator),e.shiftKey&&this.renderKey(t,n.shiftKey,Boolean(i&&i.shiftKey),n.separator),e.altKey&&this.renderKey(t,n.altKey,Boolean(i&&i.altKey),n.separator),e.metaKey&&this.renderKey(t,n.metaKey,Boolean(i&&i.metaKey),n.separator);var o=e.keyLabel;o&&this.renderKey(t,o,Boolean(i&&i.keyCode),"")},l.prototype.renderKey=function(t,e,i,n){y.l(t,a("span.monaco-keybinding-key"+(i?".highlight":""),void 0,e)),n&&y.l(t,a("span.monaco-keybinding-key-separator",void 0,n))},l.prototype.dispose=function(){},l.areSame=function(t,e){return t===e||!t&&!e||!!t&&!!e&&Object(r.e)(t.firstPart,e.firstPart)&&Object(r.e)(t.chordPart,e.chordPart)},l);function l(t,e){this.os=e,this.domNode=y.l(t,a(".monaco-keybinding")),this.didEverRender=!1,t.appendChild(this.domNode)}var b=i(14);i.d(e,"a",function(){return p}),i.d(e,"b",function(){return w}),i.d(e,"c",function(){return L});var u,h=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=0,p=(d.prototype.getId=function(){return this.id},d.prototype.getLabel=function(){return null},d.prototype.getLabelOptions=function(){return null},d.prototype.getAriaLabel=function(){return[this.getLabel(),this.getDescription(),this.getDetail()].filter(function(t){return!!t}).join(", ")},d.prototype.getDetail=function(){return null},d.prototype.getIcon=function(){return null},d.prototype.getDescription=function(){return null},d.prototype.getTooltip=function(){return null},d.prototype.getDescriptionTooltip=function(){return null},d.prototype.getKeybinding=function(){return null},d.prototype.isHidden=function(){return this.hidden},d.prototype.setHighlights=function(t,e,i){this.labelHighlights=t,this.descriptionHighlights=e,this.detailHighlights=i},d.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},d.prototype.run=function(t,e){return!1},d);function d(t){void 0===t&&(t=[]),this.id=(c++).toString(),this.labelHighlights=t,this.descriptionHighlights=[]}var f,w=(h(C,f=p),C.prototype.getGroupLabel=function(){return this.groupLabel},C.prototype.setGroupLabel=function(t){this.groupLabel=t},C.prototype.showBorder=function(){return this.withBorder},C.prototype.setShowBorder=function(t){this.withBorder=t},C.prototype.getLabel=function(){return this.entry?this.entry.getLabel():f.prototype.getLabel.call(this)},C.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():f.prototype.getLabelOptions.call(this)},C.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():f.prototype.getAriaLabel.call(this)},C.prototype.getDetail=function(){return this.entry?this.entry.getDetail():f.prototype.getDetail.call(this)},C.prototype.getIcon=function(){return this.entry?this.entry.getIcon():f.prototype.getIcon.call(this)},C.prototype.getDescription=function(){return this.entry?this.entry.getDescription():f.prototype.getDescription.call(this)},C.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():f.prototype.getHighlights.call(this)},C.prototype.isHidden=function(){return this.entry?this.entry.isHidden():f.prototype.isHidden.call(this)},C.prototype.setHighlights=function(t,e,i){this.entry?this.entry.setHighlights(t,e,i):f.prototype.setHighlights.call(this,t,e,i)},C.prototype.run=function(t,e){return this.entry?this.entry.run(t,e):f.prototype.run.call(this,t,e)},C);function C(t,e,i){var n=f.call(this)||this;return n.entry=t,n.groupLabel=e,n.withBorder=i,n}var S=(x.prototype.hasActions=function(t,e){return!1},x.prototype.getActions=function(t,e){return o.b.as(null)},x);function x(){}var k="quickOpenEntryGroup",O=(E.prototype.getHeight=function(t){return t.getDetail()?44:22},E.prototype.getTemplateId=function(t){return t instanceof w?k:"quickOpenEntry"},E.prototype.renderTemplate=function(t,e,i){var n=document.createElement("div");y.f(n,"sub-content"),e.appendChild(n);var o=y.a(".quick-open-row"),r=y.a(".quick-open-row"),s=y.a(".quick-open-entry",null,o,r);n.appendChild(s);var a=document.createElement("span");o.appendChild(a);var l=new g.a(o,{supportHighlights:!0,supportDescriptionHighlights:!0}),u=document.createElement("span");o.appendChild(u),y.f(u,"quick-open-entry-keybinding");var h=new _(u,b.a),c=document.createElement("div");r.appendChild(c),y.f(c,"quick-open-entry-meta");var d,p=new v.a(c,!0);t===k&&(d=document.createElement("div"),y.f(d,"results-group"),e.appendChild(d)),y.f(e,"actions");var f=document.createElement("div");return y.f(f,"primary-action-bar"),e.appendChild(f),{container:e,entry:s,icon:a,label:l,detail:p,keybinding:h,group:d,actionBar:new m.a(f,{actionRunner:this.actionRunner})}},E.prototype.renderElement=function(t,e,i,n){if(this.actionProvider.hasActions(null,t)?y.f(i.container,"has-actions"):y.G(i.container,"has-actions"),i.actionBar.context=t,this.actionProvider.getActions(null,t).then(function(t){i.actionBar.isEmpty()&&t&&0<t.length?i.actionBar.push(t,{icon:!0,label:!1}):i.actionBar.isEmpty()||t&&0!==t.length||i.actionBar.clear()}),t instanceof w&&t.getGroupLabel()?y.f(i.container,"has-group-label"):y.G(i.container,"has-group-label"),t instanceof w){var o=t,r=i;o.showBorder()?(y.f(r.container,"results-group-separator"),r.container.style.borderTopColor=n.pickerGroupBorder.toString()):(y.G(r.container,"results-group-separator"),r.container.style.borderTopColor=null);var s=o.getGroupLabel()||"";r.group.textContent=s,r.group.style.color=n.pickerGroupForeground.toString()}if(t instanceof p){var a=t.getHighlights(),l=a[0],u=a[1],h=a[2],c=t.getIcon()?"quick-open-entry-icon "+t.getIcon():"";i.icon.className=c;var d=t.getLabelOptions()||Object.create(null);d.matches=l||[],d.title=t.getTooltip(),d.descriptionTitle=t.getDescriptionTooltip()||t.getDescription(),d.descriptionMatches=u||[],i.label.setValue(t.getLabel(),t.getDescription(),d),i.detail.set(t.getDetail(),h),i.keybinding.set(t.getKeybinding(),null)}},E.prototype.disposeTemplate=function(t,e){var i=e;i.actionBar.dispose(),i.actionBar=null,i.container=null,i.entry=null,i.keybinding.dispose(),i.keybinding=null,i.detail.dispose(),i.detail=null,i.group=null,i.icon=null,i.label.dispose(),i.label=null},E);function E(t,e){void 0===t&&(t=new S),void 0===e&&(e=null),this.actionProvider=t,this.actionRunner=e}var L=(Object.defineProperty(D.prototype,"entries",{get:function(){return this._entries},set:function(t){this._entries=t},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),D.prototype.getId=function(t){return t.getId()},D.prototype.getLabel=function(t){return t.getLabel()},D.prototype.getAriaLabel=function(t){return t.getAriaLabel()?n.a("quickOpenAriaLabelEntry","{0}, picker",t.getAriaLabel()):n.a("quickOpenAriaLabel","picker")},D.prototype.isVisible=function(t){return!t.isHidden()},D.prototype.run=function(t,e,i){return t.run(e,i)},D);function D(t,e){void 0===t&&(t=[]),void 0===e&&(e=new S),this._entries=t,(this._dataSource=this)._renderer=new O(e),((this._filter=this)._runner=this)._accessibilityProvider=this}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var y=i(8),_=i(15),b=i(2),r=i(20),w=i(32),n=(C.unshiftIndentCount=function(t,e,i){var n=_.a.visibleColumnFromColumn(t,e,i);return _.a.prevTabStop(n,i)/i},C.shiftIndentCount=function(t,e,i){var n=_.a.visibleColumnFromColumn(t,e,i);return _.a.nextTabStop(n,i)/i},C.prototype._addEditOperation=function(t,e,i){this._useLastEditRangeForCursorEndPosition?t.addTrackedEditOperation(e,i):t.addEditOperation(e,i)},C.prototype.getEditOperations=function(t,e){var i=this._selection.startLineNumber,n=this._selection.endLineNumber;1===this._selection.endColumn&&i!==n&&(n-=1);var o=this._opts.tabSize,r=this._opts.oneIndent,s=i===n;if(this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var a=["",r],l=0,u=0,h=i;h<=n;h++,l=u){u=0;var c=t.getLineContent(h),d=y.o(c);if((!this._opts.isUnshift||0!==c.length&&0!==d)&&(s||this._opts.isUnshift||0!==c.length)){if(-1===d&&(d=c.length),1<h&&_.a.visibleColumnFromColumn(c,d+1,o)%o!=0&&t.isCheapToTokenize(h-1)){var p=w.a.getRawEnterActionAtPosition(t,h-1,t.getLineMaxColumn(h-1));if(p){if(u=l,p.appendText)for(var f=0,g=p.appendText.length;f<g&&u<o&&32===p.appendText.charCodeAt(f);f++)u++;for(p.removeText&&(u=Math.max(0,u-p.removeText)),f=0;f<u&&0!==d&&32===c.charCodeAt(d-1);f++)d--}}if(!this._opts.isUnshift||0!==d){var m=void 0;for(m=this._opts.isUnshift?C.unshiftIndentCount(c,d+1,o):C.shiftIndentCount(c,d+1,o),f=a.length;f<=m;f++)a[f]=a[f-1]+r;this._addEditOperation(e,new b.a(h,1,h,d+1),a[m]),h===i&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=d+1)}}}else for(h=i;h<=n;h++)if(c=t.getLineContent(h),d=y.o(c),(!this._opts.isUnshift||0!==c.length&&0!==d)&&(s||this._opts.isUnshift||0!==c.length)&&(-1===d&&(d=c.length),!this._opts.isUnshift||0!==d))if(this._opts.isUnshift){d=Math.min(d,o);for(var v=0;v<d;v++)if(9===c.charCodeAt(v)){d=v+1;break}this._addEditOperation(e,new b.a(h,1,h,d+1),"")}else this._addEditOperation(e,new b.a(h,1,h,1),r),h===i&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn);this._selectionId=e.trackSelection(this._selection)},C.prototype.computeCursorState=function(t,e){if(this._useLastEditRangeForCursorEndPosition){var i=e.getInverseEditOperations()[0];return new r.a(i.range.endLineNumber,i.range.endColumn,i.range.endLineNumber,i.range.endColumn)}var n=e.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var o=this._selection.startColumn;return n.startColumn<=o?n:0===n.getDirection()?new r.a(n.startLineNumber,o,n.endLineNumber,n.endColumn):new r.a(n.endLineNumber,n.endColumn,n.startLineNumber,o)}return n},C);function C(t,e){this._opts=e,this._selection=t,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}},function(t,e,i){var n,o,r;o=[i(43),i(353),i(354)],void 0===(r="function"==typeof(n=function(C,l,t){"use strict";var S=function(t,e){if("string"!=typeof e||e.length){var l="string"==typeof e?new RegExp(e,"i"):e,u=function(t){var e=0;if(3===t.nodeType){var i=t.data.search(l);if(0<=i&&0<t.data.length){var n=t.data.match(l),o=document.createElement("span");o.className="highlight";var r=t.splitText(i),s=(r.splitText(n[0].length),r.cloneNode(!0));o.appendChild(s),r.parentNode.replaceChild(o,r),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var a=0;a<t.childNodes.length;++a)a+=u(t.childNodes[a]);return e};return t.each(function(){u(this)})}};C.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var n=function(){};n.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(t){for(var e=["on","off","trigger"],i=0;i<e.length;i++)t.prototype[e[i]]=n.prototype[e[i]]};var v=/Mac/.test(navigator.userAgent),y=v?91:17,_=v?18:17,b=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,u=function(t){return void 0!==t},x=function(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""},a=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e={before:function(t,e,i){var n=t[e];t[e]=function(){return i.apply(t,arguments),n.apply(t,arguments)}},after:function(e,t,i){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return i.apply(e,arguments),t}}},i=function(e,i,t){var n,o=e.trigger,r={};for(n in e.trigger=function(){var t=arguments[0];if(-1===i.indexOf(t))return o.apply(e,arguments);r[t]=arguments},t.apply(e,[]),e.trigger=o,r)r.hasOwnProperty(n)&&o.apply(e,r[n])},w=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-t.value.length),e.start=i.text.length-n,e.length=n}return e},k=function(t,e){if(!t)return 0;var i=C("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(t,e,i){var n,o,r={};if(i){for(n=0,o=i.length;n<o;n++){r[i[n]]=t.css(i[n])}}else{r=t.css()}e.css(r)}(e,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var n=i.width();return i.remove(),n},O=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},h=function(t,e){var i,n,o,r,s=this;(r=t[0]).selectize=s;var a=window.getComputedStyle&&window.getComputedStyle(r,null);if(o=(o=a?a.getPropertyValue("direction"):r.currentStyle&&r.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",C.extend(s,{order:0,settings:e,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===r.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++h.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===e.loadThrottle?s.onSearchChange:function(i,n){var o;return function(){var t=this;var e=arguments;window.clearTimeout(o);o=window.setTimeout(function(){i.apply(t,e)},n)}}(s.onSearchChange,e.loadThrottle)}),s.sifter=new l(this.options,{diacritics:e.diacritics}),s.settings.options){for(i=0,n=s.settings.options.length;i<n;i++)s.registerOption(s.settings.options[i]);delete s.settings.options}if(s.settings.optgroups){for(i=0,n=s.settings.optgroups.length;i<n;i++)s.registerOptionGroup(s.settings.optgroups[i]);delete s.settings.optgroups}s.settings.mode=s.settings.mode||(1===s.settings.maxItems?"single":"multi"),"boolean"!=typeof s.settings.hideSelected&&(s.settings.hideSelected="multi"===s.settings.mode),s.initializePlugins(s.settings.plugins),s.setupCallbacks(),s.setupTemplates(),s.setup()};return n.mixin(h),void 0!==t?t.mixin(h):function(t,e){if(!e)e={};var i="Selectize";if(console.error(i+": "+t),e.explanation){if(console.group)console.group();console.error(e.explanation);if(console.group)console.groupEnd()}}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),C.extend(h.prototype,{setup:function(){var t,e,i,n,o,r,s,a,l,u,h=this,c=h.settings,d=h.eventNS,p=C(window),f=C(document),g=h.$input;if(s=h.settings.mode,a=g.attr("class")||"",t=C("<div>").addClass(c.wrapperClass).addClass(a).addClass(s),e=C("<div>").addClass(c.inputClass).addClass("items").appendTo(t),i=C('<input type="text" autocomplete="off" />').appendTo(e).attr("tabindex",g.is(":disabled")?"-1":h.tabIndex),r=C(c.dropdownParent||t),n=C("<div>").addClass(c.dropdownClass).addClass(s).hide().appendTo(r),o=C("<div>").addClass(c.dropdownContentClass).appendTo(n),(u=g.attr("id"))&&(i.attr("id",u+"-selectized"),C("label[for='"+u+"']").attr("for",u+"-selectized")),h.settings.copyClassesToDropdown&&n.addClass(a),t.css({width:g[0].style.width}),h.plugins.names.length&&(l="plugin-"+h.plugins.names.join(" plugin-"),t.addClass(l),n.addClass(l)),(null===c.maxItems||1<c.maxItems)&&1===h.tagType&&g.attr("multiple","multiple"),h.settings.placeholder&&i.attr("placeholder",c.placeholder),!h.settings.splitOn&&h.settings.delimiter){var m=h.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");h.settings.splitOn=new RegExp("\\s*"+m+"+\\s*")}g.attr("autocorrect")&&i.attr("autocorrect",g.attr("autocorrect")),g.attr("autocapitalize")&&i.attr("autocapitalize",g.attr("autocapitalize")),h.$wrapper=t,h.$control=e,h.$control_input=i,h.$dropdown=n,h.$dropdown_content=o,n.on("mouseenter","[data-selectable]",function(){return h.onOptionHover.apply(h,arguments)}),n.on("mousedown click","[data-selectable]",function(){return h.onOptionSelect.apply(h,arguments)}),function(i,t,e,n){i.on(t,e,function(t){for(var e=t.target;e&&e.parentNode!==i[0];)e=e.parentNode;return t.currentTarget=e,n.apply(this,[t])})}(e,"mousedown","*:not(input)",function(){return h.onItemSelect.apply(h,arguments)}),function(h){var c=null,t=function(t,e){var i,n,o,r,s,a,l,u;t=t||window.event||{},e=e||{},t.metaKey||t.altKey||!e.force&&!1===h.data("grow")||(i=h.val(),t.type&&"keydown"===t.type.toLowerCase()&&(n=t.keyCode,o=97<=n&&n<=122||65<=n&&n<=90||48<=n&&n<=57||32===n,46===n||8===n?(u=w(h[0])).length?i=i.substring(0,u.start)+i.substring(u.start+u.length):8===n&&u.start?i=i.substring(0,u.start-1)+i.substring(u.start+1):46===n&&void 0!==u.start&&(i=i.substring(0,u.start)+i.substring(u.start+1)):o&&(a=t.shiftKey,l=String.fromCharCode(t.keyCode),l=a?l.toUpperCase():l.toLowerCase(),i+=l)),r=h.attr("placeholder"),!i&&r&&(i=r),(s=k(i,h)+4)!==c&&(c=s,h.width(s),h.triggerHandler("resize")))};h.on("keydown keyup update blur",t),t()}(i),e.on({mousedown:function(){return h.onMouseDown.apply(h,arguments)},click:function(){return h.onClick.apply(h,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return h.onKeyDown.apply(h,arguments)},keyup:function(){return h.onKeyUp.apply(h,arguments)},keypress:function(){return h.onKeyPress.apply(h,arguments)},resize:function(){h.positionDropdown.apply(h,[])},blur:function(){return h.onBlur.apply(h,arguments)},focus:function(){return h.ignoreBlur=!1,h.onFocus.apply(h,arguments)},paste:function(){return h.onPaste.apply(h,arguments)}}),f.on("keydown"+d,function(t){h.isCmdDown=t[v?"metaKey":"ctrlKey"],h.isCtrlDown=t[v?"altKey":"ctrlKey"],h.isShiftDown=t.shiftKey}),f.on("keyup"+d,function(t){t.keyCode===_&&(h.isCtrlDown=!1),16===t.keyCode&&(h.isShiftDown=!1),t.keyCode===y&&(h.isCmdDown=!1)}),f.on("mousedown"+d,function(t){if(h.isFocused){if(t.target===h.$dropdown[0]||t.target.parentNode===h.$dropdown[0])return!1;h.$control.has(t.target).length||t.target===h.$control[0]||h.blur(t.target)}}),p.on(["scroll"+d,"resize"+d].join(" "),function(){h.isOpen&&h.positionDropdown.apply(h,arguments)}),p.on("mousemove"+d,function(){h.ignoreHover=!1}),this.revertSettings={$children:g.children().detach(),tabindex:g.attr("tabindex")},g.attr("tabindex",-1).hide().after(h.$wrapper),C.isArray(c.items)&&(h.setValue(c.items),delete c.items),b&&g.on("invalid"+d,function(t){t.preventDefault(),h.isInvalid=!0,h.refreshState()}),h.updateOriginalInput(),h.refreshItems(),h.refreshState(),h.updatePlaceholder(),h.isSetup=!0,g.is(":disabled")&&h.disable(),h.on("change",this.onChange),g.data("selectize",h),g.addClass("selectized"),h.trigger("initialize"),!0===c.preload&&h.onSearchChange("")},setupTemplates:function(){var i=this.settings.labelField,n=this.settings.optgroupLabelField,t={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[i])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[i])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};this.settings.render=C.extend({},t,this.settings.render)},setupCallbacks:function(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)i.hasOwnProperty(t)&&(e=this.settings[i[t]])&&this.on(t,e)},onClick:function(t){this.isFocused||(this.focus(),t.preventDefault())},onMouseDown:function(t){var e=this,i=t.isDefaultPrevented();if(C(t.target),e.isFocused){if(t.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():i||e.setActiveItem(null),!1}else i||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var o=this;o.isFull()||o.isInputHidden||o.isLocked?t.preventDefault():o.settings.splitOn&&setTimeout(function(){var t=o.$control_input.val();if(t.match(o.settings.splitOn))for(var e=C.trim(t).split(o.settings.splitOn),i=0,n=e.length;i<n;i++)o.createItem(e[i])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){t.target,this.$control_input[0];var e=this;if(e.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,-1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}!e.isFull()&&!e.isInputHidden||(v?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();var e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(e){var i=this,n=i.settings.load;n&&(i.loadedSearches.hasOwnProperty(e)||(i.loadedSearches[e]=!0,i.load(function(t){n.apply(i,[e,t])})))},onFocus:function(t){var e=this,i=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),i||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(t);function n(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),e&&e.focus&&e.focus(),i.ignoreFocus=!1,i.trigger("blur")}i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(t){var e,i,n=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(i=C(t.currentTarget)).hasClass("create")?n.createItem(null,function(){n.settings.closeAfterSelect&&n.close()}):void 0!==(e=i.attr("data-value"))&&(n.lastQuery=null,n.setTextboxValue(""),n.addItem(e),n.settings.closeAfterSelect?n.close():!n.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&n.setActiveOption(n.getOption(e)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,i=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||i.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){i(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(t,e){var i,n,o,r,s,a,l,u,h=this;if("single"!==h.settings.mode){if(!(t=C(t)).length)return C(h.$activeItems).removeClass("active"),h.$activeItems=[],void(h.isFocused&&h.showInput());if("mousedown"===(i=e&&e.type.toLowerCase())&&h.isShiftDown&&h.$activeItems.length){for(u=h.$control.children(".active:last"),r=Array.prototype.indexOf.apply(h.$control[0].childNodes,[u[0]]),(s=Array.prototype.indexOf.apply(h.$control[0].childNodes,[t[0]]))<r&&(l=r,r=s,s=l),n=r;n<=s;n++)a=h.$control[0].childNodes[n],-1===h.$activeItems.indexOf(a)&&(C(a).addClass("active"),h.$activeItems.push(a));e.preventDefault()}else"mousedown"===i&&h.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(o=h.$activeItems.indexOf(t[0]),h.$activeItems.splice(o,1),t.removeClass("active")):h.$activeItems.push(t.addClass("active")[0]):(C(h.$activeItems).removeClass("active"),h.$activeItems=[t.addClass("active")[0]]);h.hideInput(),this.isFocused||h.focus()}},setActiveOption:function(t,e,i){var n,o,r,s,a,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(t=C(t)).length&&(l.$activeOption=t.addClass("active"),!e&&u(e)||(n=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),e=l.$dropdown_content.scrollTop()||0,a=(s=r=l.$activeOption.offset().top-l.$dropdown_content.offset().top+e)-n+o,n+e<r+o?l.$dropdown_content.stop().animate({scrollTop:a},i?l.settings.scrollDuration:0):r<e&&l.$dropdown_content.stop().animate({scrollTop:s},i?l.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(t){var e,i,n,o=this.settings,r=this.getSearchOptions();if(o.score&&"function"!=typeof(n=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,i=this.sifter.search(t,C.extend(r,{score:n})),this.currentResults=i):i=C.extend(!0,{},this.currentResults),o.hideSelected)for(e=i.items.length-1;0<=e;e--)-1!==this.items.indexOf(x(i.items[e].id))&&i.items.splice(e,1);return i},refreshOptions:function(t){var e,i,n,o,r,s,a,l,u,h,c,d,p,f,g,m;void 0===t&&(t=!0);var v=this,y=C.trim(v.$control_input.val()),_=v.search(y),b=v.$dropdown_content,w=v.$activeOption&&x(v.$activeOption.attr("data-value"));for(o=_.items.length,"number"==typeof v.settings.maxOptions&&(o=Math.min(o,v.settings.maxOptions)),r={},s=[],e=0;e<o;e++)for(a=v.options[_.items[e].id],l=v.render("option",a),u=a[v.settings.optgroupField]||"",i=0,n=(h=C.isArray(u)?u:[u])&&h.length;i<n;i++)u=h[i],v.optgroups.hasOwnProperty(u)||(u=""),r.hasOwnProperty(u)||(r[u]=document.createDocumentFragment(),s.push(u)),r[u].appendChild(l);for(this.settings.lockOptgroupOrder&&s.sort(function(t,e){return(v.optgroups[t].$order||0)-(v.optgroups[e].$order||0)}),c=document.createDocumentFragment(),e=0,o=s.length;e<o;e++)u=s[e],v.optgroups.hasOwnProperty(u)&&r[u].childNodes.length?((d=document.createDocumentFragment()).appendChild(v.render("optgroup_header",v.optgroups[u])),d.appendChild(r[u]),c.appendChild(v.render("optgroup",C.extend({},v.optgroups[u],{html:O(d),dom:d})))):c.appendChild(r[u]);if(b.html(c),v.settings.highlight&&_.query.length&&_.tokens.length)for(b.removeHighlight(),e=0,o=_.tokens.length;e<o;e++)S(b,_.tokens[e].regex);if(!v.settings.hideSelected)for(e=0,o=v.items.length;e<o;e++)v.getOption(v.items[e]).addClass("selected");(p=v.canCreate(y))&&(b.prepend(v.render("option_create",{input:y})),m=C(b[0].childNodes[0])),v.hasOptions=0<_.items.length||p,v.hasOptions?(0<_.items.length?((g=w&&v.getOption(w))&&g.length?f=g:"single"===v.settings.mode&&v.items.length&&(f=v.getOption(v.items[0])),f&&f.length||(f=m&&!v.settings.addPrecedence?v.getAdjacentOption(m,1):b.find("[data-selectable]:first"))):f=m,v.setActiveOption(f),t&&!v.isOpen&&v.open()):(v.setActiveOption(null),t&&v.isOpen&&v.close())},addOption:function(t){var e,i,n;if(C.isArray(t))for(e=0,i=t.length;e<i;e++)this.addOption(t[e]);else(n=this.registerOption(t))&&(this.userOptions[n]=!0,this.lastQuery=null,this.trigger("option_add",n,t))},registerOption:function(t){var e=x(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=x(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,e){var i,n,o,r,s,a,l,u=this;if(t=x(t),o=x(e[u.settings.valueField]),null!==t&&u.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=u.options[t].$order,o!==t&&(delete u.options[t],-1!==(r=u.items.indexOf(t))&&u.items.splice(r,1,o)),e.$order=e.$order||l,u.options[o]=e,s=u.renderCache.item,a=u.renderCache.option,s&&(delete s[t],delete s[o]),a&&(delete a[t],delete a[o]),-1!==u.items.indexOf(o)&&(i=u.getItem(t),n=C(u.render("item",e)),i.hasClass("active")&&n.addClass("active"),i.replaceWith(n)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(t,e){t=x(t);var i=this.renderCache.item,n=this.renderCache.option;i&&delete i[t],n&&delete n[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,e){var i=this.$dropdown.find("[data-selectable]"),n=i.index(t)+e;return 0<=n&&n<i.length?i.eq(n):C()},getElementWithValue:function(t,e){if(null!=(t=x(t)))for(var i=0,n=e.length;i<n;i++)if(e[i].getAttribute("data-value")===t)return C(e[i]);return C()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(t,e){for(var i=C.isArray(t)?t:[t],n=0,o=i.length;n<o;n++)this.isPending=n<o-1,this.addItem(i[n],e)},addItem:function(a,l){i(this,l?[]:["change"],function(){var t,e,i,n,o,r=this,s=r.settings.mode;a=x(a),-1===r.items.indexOf(a)?r.options.hasOwnProperty(a)&&("single"===s&&r.clear(l),"multi"===s&&r.isFull()||(t=C(r.render("item",r.options[a])),o=r.isFull(),r.items.splice(r.caretPos,0,a),r.insertAtCaret(t),r.isPending&&(o||!r.isFull())||r.refreshState(),r.isSetup&&(i=r.$dropdown_content.find("[data-selectable]"),r.isPending||(e=r.getOption(a),n=r.getAdjacentOption(e,1).attr("data-value"),r.refreshOptions(r.isFocused&&"single"!==s),n&&r.setActiveOption(r.getOption(n))),!i.length||r.isFull()?r.close():r.positionDropdown(),r.updatePlaceholder(),r.trigger("item_add",a,t),r.updateOriginalInput({silent:l})))):"single"===s&&r.close()})},removeItem:function(t,e){var i,n,o,r=this;i=t instanceof C?t:r.getItem(t),t=x(i.attr("data-value")),-1!==(n=r.items.indexOf(t))&&(i.remove(),i.hasClass("active")&&(o=r.$activeItems.indexOf(i[0]),r.$activeItems.splice(o,1)),r.items.splice(n,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(t)&&r.removeOption(t,e),n<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:e}),r.positionDropdown(),r.trigger("item_remove",t,i))},createItem:function(t,i){var n=this,o=n.caretPos;t=t||C.trim(n.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(t))return r(),!1;n.lock();var e="function"==typeof n.settings.create?this.settings.create:function(t){var e={};return e[n.settings.labelField]=t,e[n.settings.valueField]=t,e},s=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}(function(t){if(n.unlock(),!t||"object"!=typeof t)return r();var e=x(t[n.settings.valueField]);if("string"!=typeof e)return r();n.setTextboxValue(""),n.addOption(t),n.setCaret(o),n.addItem(e),n.refreshOptions(i&&"single"!==n.settings.mode),r(t)}),a=e.apply(this,[t,s]);return void 0!==a&&s(a),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var t=this,e=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!C.isEmptyObject(t.options)).toggleClass("has-items",0<t.items.length),t.$control_input.data("grow",!e&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,i,n,o,r=this;if(t=t||{},1===r.tagType){for(n=[],e=0,i=r.items.length;e<i;e++)o=r.options[r.items[e]][r.settings.labelField]||"",n.push('<option value="'+a(r.items[e])+'" selected="selected">'+a(o)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),r.$input.html(n.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length);0===e?this.$control.prepend(t):C(this.$control[0].childNodes[e]).before(t),this.setCaret(e+1)},deleteSelection:function(t){var e,i,n,o,r,s,a,l,u,h=this;if(n=t&&8===t.keyCode?-1:1,o=w(h.$control_input[0]),h.$activeOption&&!h.settings.hideSelected&&(a=h.getAdjacentOption(h.$activeOption,-1).attr("data-value")),r=[],h.$activeItems.length){for(u=h.$control.children(".active:"+(0<n?"last":"first")),s=h.$control.children(":not(input)").index(u),0<n&&s++,e=0,i=h.$activeItems.length;e<i;e++)r.push(C(h.$activeItems[e]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(h.isFocused||"single"===h.settings.mode)&&h.items.length&&(n<0&&0===o.start&&0===o.length?r.push(h.items[h.caretPos-1]):0<n&&o.start===h.$control_input.val().length&&r.push(h.items[h.caretPos]));if(!r.length||"function"==typeof h.settings.onDelete&&!1===h.settings.onDelete.apply(h,[r]))return!1;for(void 0!==s&&h.setCaret(s);r.length;)h.removeItem(r.pop());return h.showInput(),h.positionDropdown(),h.refreshOptions(!0),a&&(l=h.getOption(a)).length&&h.setActiveOption(l),!0},advanceSelection:function(t,e){var i,n,o,r,s,a=this;0!==t&&(a.rtl&&(t*=-1),i=0<t?"last":"first",n=w(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,(t<0?0!==n.start||0!==n.length:n.start!==r)||r||a.advanceCaret(t,e)):(s=a.$control.children(".active:"+i)).length&&(o=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(0<t?o+1:o)))},advanceCaret:function(t,e){var i,n;0!==t&&(i=0<t?"next":"prev",this.isShiftDown?(n=this.$control_input[i]()).length&&(this.hideInput(),this.setActiveItem(n),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(t){var e,i,n,o;if(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),!this.isPending)for(e=0,i=(n=this.$control.children(":not(input)")).length;e<i;e++)o=C(n[e]).detach(),e<t?this.$control_input.before(o):this.$control.append(o);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this,e=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),C(window).off(e),C(document).off(e),C(document.body).off(e),delete t.$input[0].selectize},render:function(t,e){var i,n,o="",r=!1;return"option"!==t&&"item"!==t||(r=!!(i=x(e[this.settings.valueField]))),r&&(u(this.renderCache[t])||(this.renderCache[t]={}),this.renderCache[t].hasOwnProperty(i))?this.renderCache[t][i]:(o=C(this.settings.render[t].apply(this,[e,a])),"option"===t||"option_create"===t?o.attr("data-selectable",""):"optgroup"===t&&(n=e[this.settings.optgroupValueField]||"",o.attr("data-group",n)),"option"!==t&&"item"!==t||o.attr("data-value",i||""),r&&(this.renderCache[t][i]=o[0]),o[0])},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),h.count=0,h.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},C.fn.selectize=function(o){function r(t,s){function a(t){var e=d&&t.attr(d);return"string"==typeof e&&e.length?JSON.parse(e):null}function l(t,e){t=C(t);var i=x(t.val());if(i||c.allowEmptyOption)if(h.hasOwnProperty(i)){if(e){var n=h[i][g];n?C.isArray(n)?n.push(e):h[i][g]=[n,e]:h[i][g]=e}}else{var o=a(t)||{};o[p]=o[p]||t.text(),o[f]=o[f]||i,o[g]=o[g]||e,h[i]=o,u.push(o),t.is(":selected")&&s.items.push(i)}}function e(t){var e,i,n,o,r;for((n=(t=C(t)).attr("label"))&&((o=a(t)||{})[m]=n,o[v]=n,s.optgroups.push(o)),e=0,i=(r=C("option",t)).length;e<i;e++)l(r[e],n)}var i,n,o,r,u=s.options,h={};for(s.maxItems=t.attr("multiple")?null:1,i=0,n=(r=t.children()).length;i<n;i++)"optgroup"===(o=r[i].tagName.toLowerCase())?e(r[i]):"option"===o&&l(r[i])}var s=C.fn.selectize.defaults,c=C.extend({},s,o),d=c.dataAttr,p=c.labelField,f=c.valueField,g=c.optgroupField,m=c.optgroupLabelField,v=c.optgroupValueField;return this.each(function(){if(!this.selectize){var t=C(this),e=this.tagName.toLowerCase(),i=t.attr("placeholder")||t.attr("data-placeholder");i||c.allowEmptyOption||(i=t.children('option[value=""]').text());var n={placeholder:i,options:[],optgroups:[],items:[]};"select"===e?r(t,n):function(t,e){var i,n,o,r,s=t.attr(d);if(s)for(e.options=JSON.parse(s),i=0,n=e.options.length;i<n;i++)e.items.push(e.options[i][f]);else{var a=C.trim(t.val()||"");if(!c.allowEmptyOption&&!a.length)return;for(i=0,n=(o=a.split(c.delimiter)).length;i<n;i++)(r={})[p]=o[i],r[f]=o[i],e.options.push(r);e.items=o}}(t,n),new h(t,C.extend(!0,{},s,n,o))}})},C.fn.selectize.defaults=h.defaults,C.fn.selectize.support={validity:b},h.define("drag_drop",function(t){if(!C.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e,i,n,o=this;o.lock=(e=o.lock,function(){var t=o.$control.data("sortable");return t&&t.disable(),e.apply(o,arguments)}),o.unlock=(i=o.unlock,function(){var t=o.$control.data("sortable");return t&&t.enable(),i.apply(o,arguments)}),o.setup=(n=o.setup,function(){n.apply(this,arguments);var i=o.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:o.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=o.$activeItems?o.$activeItems.slice():null,e=[];i.children("[data-value]").each(function(){e.push(C(this).attr("data-value"))}),o.setValue(e),o.setActiveItem(t)}})})}}),h.define("dropdown_header",function(t){var e,i=this;t=C.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},t),i.setup=(e=i.setup,function(){e.apply(i,arguments),i.$dropdown_header=C(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)})}),h.define("optgroup_columns",function(a){var r,l=this;function t(){var t,e,i,n,o,r,s;if((e=(s=C("[data-group]",l.$dropdown_content)).length)&&l.$dropdown_content.width()){if(a.equalizeHeight){for(t=i=0;t<e;t++)i=Math.max(i,s.eq(t).height());s.css({height:i})}a.equalizeWidth&&(r=l.$dropdown_content.innerWidth()-u(),n=Math.round(r/e),s.css({width:n}),1<e&&(o=r-n*(e-1),s.eq(e-1).css({width:o})))}}a=C.extend({equalizeWidth:!0,equalizeHeight:!0},a),this.getAdjacentOption=function(t,e){var i=t.closest("[data-group]").find("[data-selectable]"),n=i.index(t)+e;return 0<=n&&n<i.length?i.eq(n):C()},this.onKeyDown=(r=l.onKeyDown,function(t){var e,i,n,o;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?r.apply(this,arguments):(l.ignoreHover=!0,e=(o=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((i=(n=(o=37===t.keyCode?o.prev("[data-group]"):o.next("[data-group]")).find("[data-selectable]")).eq(Math.min(n.length-1,e))).length&&this.setActiveOption(i)))});var u=function(){var t,e=u.width,i=document;return void 0===e&&((t=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,i.body.appendChild(t),e=u.width=t.offsetWidth-t.clientWidth,i.body.removeChild(t)),e};(a.equalizeHeight||a.equalizeWidth)&&(e.after(this,"positionDropdown",t),e.after(this,"refreshOptions",t))}),h.define("remove_button",function(t){var i,n,o,r,s;t=C.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t),"single"!==this.settings.mode?(r=i=this,s='<a href="javascript:void(0)" class="'+(n=t).className+'" tabindex="-1" title="'+a(n.title)+'">'+n.label+"</a>",i.setup=(o=r.setup,function(){if(n.append){var e=r.settings.render.item;r.settings.render.item=function(t){return function(t,e){var i=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,i)+e+t.substring(i)}(e.apply(i,arguments),s)}}o.apply(i,arguments),i.$control.on("click","."+n.className,function(t){if(t.preventDefault(),!r.isLocked){var e=C(t.currentTarget).parent();r.setActiveItem(e),r.deleteSelection()&&r.setCaret(r.items.length)}})})):function(i,n){n.className="remove-single";var o,r=i,s='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+a(n.title)+'">'+n.label+"</a>";i.setup=(o=r.setup,function(){if(n.append){var t=C(r.$input.context).attr("id"),e=(C("#"+t),r.settings.render.item);r.settings.render.item=function(t){return function(t,e){return t+e}(e.apply(i,arguments),s)}}o.apply(i,arguments),i.$control.on("click","."+n.className,function(t){t.preventDefault(),r.isLocked||r.clear()})})}(this,t)}),h.define("restore_on_backspace",function(n){var o,t=this;n.text=n.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(o=t.onKeyDown,function(t){var e,i;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(e=this.caretPos-1)&&e<this.items.length?(i=this.options[this.items[e]],this.deleteSelection(t)&&(this.setTextboxValue(n.text.apply(this,[i])),this.refreshOptions(!0)),void t.preventDefault()):o.apply(this,arguments)})}),h})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("progressService")},function(t,e,i){"use strict";i.d(e,"a",function(){return h});i(279);var n,o,f=i(4),r=i(22),g=i(14),s=i(23),a=i(65),m=i(39),l=i(5),v=i(1),y=i(45),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=(o=f.a,u(c,o),Object.defineProperty(c.prototype,"state",{get:function(){return this._state},set:function(t){this._state!==t&&(Object(v.P)(this.el,"disabled",0===t),Object(v.P)(this.el,"minimum",1===t),Object(v.P)(this.el,"maximum",2===t),this._state=t,this._onDidEnablementChange.fire(t))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(t){this.orthogonalStartSashDisposables=Object(f.d)(this.orthogonalStartSashDisposables),t?(t.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this,this.orthogonalStartSashDisposables),this.onOrthogonalStartSashEnablementChange(t.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(t){this.orthogonalEndSashDisposables=Object(f.d)(this.orthogonalEndSashDisposables),t?(t.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this,this.orthogonalEndSashDisposables),this.onOrthogonalEndSashEnablementChange(t.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=t},enumerable:!0,configurable:!0}),c.prototype.setOrientation=function(t){this.orientation=t,1===this.orientation?(Object(v.f)(this.el,"horizontal"),Object(v.G)(this.el,"vertical")):(Object(v.G)(this.el,"horizontal"),Object(v.f)(this.el,"vertical")),this.layoutProvider&&this.layout()},c.prototype.onMouseDown=function(t){var n=this;v.c.stop(t,!1);var e=!1;if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onMouseDown(t)),!t.__orthogonalSashEvent){var i=void 0;0===this.orientation?t.offsetY<=4?i=this.orthogonalStartSash:t.offsetY>=this.el.clientHeight-4&&(i=this.orthogonalEndSash):t.offsetX<=4?i=this.orthogonalStartSash:t.offsetX>=this.el.clientWidth-4&&(i=this.orthogonalEndSash),i&&(e=!0,t.__orthogonalSashEvent=!0,i.onMouseDown(t))}if(this.state){for(var o=0,r=Object(v.w)("iframe");o<r.length;o++)r[o].style.pointerEvents="none";var s=new m.b(t),a=s.posx,l=s.posy,u=s.altKey,h={startX:a,currentX:a,startY:l,currentY:l,altKey:u};Object(v.f)(this.el,"active"),this._onDidStart.fire(h);var c=Object(v.p)(this.el),d=function(){var t="";t=e?"all-scroll":1===n.orientation?1===n.state?"s-resize":2===n.state?"n-resize":g.d?"row-resize":"ns-resize":1===n.state?"e-resize":2===n.state?"w-resize":g.d?"col-resize":"ew-resize",c.innerHTML="* { cursor: "+t+" !important; }"},p=[];d(),e||this.onDidEnablementChange(d,null,p),Object(y.a)(window,"mousemove")(function(t){v.c.stop(t,!1);var e=new m.b(t),i={startX:a,currentX:e.posx,startY:l,currentY:e.posy,altKey:u};n._onDidChange.fire(i)},null,p),Object(y.a)(window,"mouseup")(function(t){v.c.stop(t,!1),n.el.removeChild(c),Object(v.G)(n.el,"active"),n._onDidEnd.fire(),Object(f.d)(p);for(var e=0,i=Object(v.w)("iframe");e<i.length;e++)i[e].style.pointerEvents="auto"},null,p)}},c.prototype.onMouseDoubleClick=function(t){this._onDidReset.fire()},c.prototype.onTouchStart=function(t){var e=this;v.c.stop(t);var i=[],n=t.pageX,o=t.pageY,r=t.altKey;this._onDidStart.fire({startX:n,currentX:n,startY:o,currentY:o,altKey:r}),i.push(Object(v.h)(this.el,a.a.Change,function(t){s.f(t.pageX)&&s.f(t.pageY)&&e._onDidChange.fire({startX:n,currentX:t.pageX,startY:o,currentY:t.pageY,altKey:r})})),i.push(Object(v.h)(this.el,a.a.End,function(t){e._onDidEnd.fire(),Object(f.d)(i)}))},c.prototype.layout=function(){var t=r.l?20:4;if(0===this.orientation){var e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-t/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{var i=this.layoutProvider;this.el.style.top=i.getHorizontalSashTop(this)-t/2+"px",i.getHorizontalSashLeft&&(this.el.style.left=i.getHorizontalSashLeft(this)+"px"),i.getHorizontalSashWidth&&(this.el.style.width=i.getHorizontalSashWidth(this)+"px")}},c.prototype.hide=function(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")},c.prototype.onOrthogonalStartSashEnablementChange=function(t){Object(v.P)(this.el,"orthogonal-start",0!==t)},c.prototype.onOrthogonalEndSashEnablementChange=function(t){Object(v.P)(this.el,"orthogonal-end",0!==t)},c.prototype.dispose=function(){o.prototype.dispose.call(this),this.orthogonalStartSashDisposables=Object(f.d)(this.orthogonalStartSashDisposables),this.orthogonalEndSashDisposables=Object(f.d)(this.orthogonalEndSashDisposables),this.el&&this.el.parentElement&&this.el.parentElement.removeChild(this.el),this.el=null},c);function c(t,e,i){void 0===i&&(i={});var n=o.call(this)||this;return n._state=3,n._onDidEnablementChange=n._register(new l.a),n.onDidEnablementChange=n._onDidEnablementChange.event,n._onDidStart=n._register(new l.a),n.onDidStart=n._onDidStart.event,n._onDidChange=n._register(new l.a),n.onDidChange=n._onDidChange.event,n._onDidReset=n._register(new l.a),n.onDidReset=n._onDidReset.event,n._onDidEnd=n._register(new l.a),n.onDidEnd=n._onDidEnd.event,n.linkedSash=void 0,n.orthogonalStartSashDisposables=[],n.orthogonalEndSashDisposables=[],n.el=Object(v.l)(t,Object(v.a)(".monaco-sash")),g.d&&Object(v.f)(n.el,"mac"),n._register(Object(y.a)(n.el,"mousedown")(n.onMouseDown,n)),n._register(Object(y.a)(n.el,"dblclick")(n.onMouseDoubleClick,n)),a.b.addTarget(n.el),n._register(Object(y.a)(n.el,a.a.Start)(n.onTouchStart,n)),r.l&&Object(v.f)(n.el,"touch"),n.setOrientation(i.orientation||0),n.hidden=!1,n.layoutProvider=e,n.orthogonalStartSash=i.orthogonalStartSash,n.orthogonalEndSash=i.orthogonalEndSash,Object(v.P)(n.el,"debug",!1),n}},function(t,e,i){"use strict";i.r(e),i.d(e,"MoveWordCommand",function(){return g}),i.d(e,"WordLeftCommand",function(){return y}),i.d(e,"WordRightCommand",function(){return w}),i.d(e,"CursorWordStartLeft",function(){return x}),i.d(e,"CursorWordEndLeft",function(){return E}),i.d(e,"CursorWordLeft",function(){return I}),i.d(e,"CursorWordStartLeftSelect",function(){return M}),i.d(e,"CursorWordEndLeftSelect",function(){return R}),i.d(e,"CursorWordLeftSelect",function(){return B}),i.d(e,"CursorWordStartRight",function(){return V}),i.d(e,"CursorWordEndRight",function(){return q}),i.d(e,"CursorWordRight",function(){return Y}),i.d(e,"CursorWordStartRightSelect",function(){return X}),i.d(e,"CursorWordEndRightSelect",function(){return tt}),i.d(e,"CursorWordRightSelect",function(){return nt}),i.d(e,"DeleteWordCommand",function(){return st}),i.d(e,"DeleteWordLeftCommand",function(){return ut}),i.d(e,"DeleteWordRightCommand",function(){return dt}),i.d(e,"DeleteWordStartLeft",function(){return gt}),i.d(e,"DeleteWordEndLeft",function(){return yt}),i.d(e,"DeleteWordLeft",function(){return wt}),i.d(e,"DeleteWordStartRight",function(){return xt}),i.d(e,"DeleteWordEndRight",function(){return Et}),i.d(e,"DeleteWordRight",function(){return It});var n,o,r=i(3),l=i(40),u=i(15),h=i(109),c=i(103),d=i(9),p=i(2),s=i(20),a=i(6),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=(o=r.c,f(m,o),m.prototype.runEditorCommand=function(t,e,i){var n=this;if(e.hasModel()){var o=e.getConfiguration(),r=Object(c.a)(o.wordSeparators),s=e.getModel(),a=e.getSelections().map(function(t){var e=new d.a(t.positionLineNumber,t.positionColumn),i=n._move(r,s,e,n._wordNavigationType);return n._moveTo(t,i,n._inSelectionMode)});if(e._getCursors().setStates("moveWordCommand",0,a.map(function(t){return u.d.fromModelSelection(t)})),1===a.length){var l=new d.a(a[0].positionLineNumber,a[0].positionColumn);e.revealPosition(l,0)}}},m.prototype._moveTo=function(t,e,i){return i?new s.a(t.selectionStartLineNumber,t.selectionStartColumn,e.lineNumber,e.column):new s.a(e.lineNumber,e.column,e.lineNumber,e.column)},m);function m(t){var e=o.call(this,t)||this;return e._inSelectionMode=t.inSelectionMode,e._wordNavigationType=t.wordNavigationType,e}var v,y=(f(_,v=g),_.prototype._move=function(t,e,i,n){return h.a.moveWordLeft(t,e,i,n)},_);function _(){return null!==v&&v.apply(this,arguments)||this}var b,w=(f(C,b=g),C.prototype._move=function(t,e,i,n){return h.a.moveWordRight(t,e,i,n)},C);function C(){return null!==b&&b.apply(this,arguments)||this}var S,x=(f(k,S=y),k);function k(){return S.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:null,kbOpts:{kbExpr:a.a.textInputFocus,primary:2063,mac:{primary:527},weight:100}})||this}var O,E=(f(L,O=y),L);function L(){return O.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:null})||this}var D,I=(f(N,D=y),N);function N(){return D.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:null})||this}var T,M=(f(A,T=y),A);function A(){return T.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:null,kbOpts:{kbExpr:a.a.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})||this}var P,R=(f(F,P=y),F);function F(){return P.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:null})||this}var j,B=(f(H,j=y),H);function H(){return j.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordLeftSelect",precondition:null})||this}var W,V=(f(z,W=w),z);function z(){return W.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:null})||this}var U,q=(f(K,U=w),K);function K(){return U.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:null,kbOpts:{kbExpr:a.a.textInputFocus,primary:2065,mac:{primary:529},weight:100}})||this}var G,Y=(f($,G=w),$);function $(){return G.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:null})||this}var Z,X=(f(J,Z=w),J);function J(){return Z.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:null})||this}var Q,tt=(f(et,Q=w),et);function et(){return Q.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:null,kbOpts:{kbExpr:a.a.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})||this}var it,nt=(f(ot,it=w),ot);function ot(){return it.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:null})||this}var rt,st=(rt=r.c,f(at,rt),at.prototype.runEditorCommand=function(t,e,i){var n=this;if(e.hasModel()){var o=e.getConfiguration(),r=Object(c.a)(o.wordSeparators),s=e.getModel(),a=e.getSelections().map(function(t){var e=n._delete(r,s,t,n._whitespaceHeuristics,n._wordNavigationType);return new l.a(e,"")});e.pushUndoStop(),e.executeCommands(this.id,a),e.pushUndoStop()}},at);function at(t){var e=rt.call(this,t)||this;return e._whitespaceHeuristics=t.whitespaceHeuristics,e._wordNavigationType=t.wordNavigationType,e}var lt,ut=(f(ht,lt=st),ht.prototype._delete=function(t,e,i,n,o){var r=h.a.deleteWordLeft(t,e,i,n,o);return r||new p.a(1,1,1,1)},ht);function ht(){return null!==lt&&lt.apply(this,arguments)||this}var ct,dt=(f(pt,ct=st),pt.prototype._delete=function(t,e,i,n,o){var r=h.a.deleteWordRight(t,e,i,n,o);if(r)return r;var s=e.getLineCount(),a=e.getLineMaxColumn(s);return new p.a(s,a,s,a)},pt);function pt(){return null!==ct&&ct.apply(this,arguments)||this}var ft,gt=(f(mt,ft=ut),mt);function mt(){return ft.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:a.a.writable})||this}var vt,yt=(f(_t,vt=ut),_t);function _t(){return vt.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:a.a.writable})||this}var bt,wt=(f(Ct,bt=ut),Ct);function Ct(){return bt.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:2049,mac:{primary:513},weight:100}})||this}var St,xt=(f(kt,St=dt),kt);function kt(){return St.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:a.a.writable})||this}var Ot,Et=(f(Lt,Ot=dt),Lt);function Lt(){return Ot.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:a.a.writable})||this}var Dt,It=(f(Nt,Dt=dt),Nt);function Nt(){return Dt.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:2068,mac:{primary:532},weight:100}})||this}Object(r.g)(new x),Object(r.g)(new E),Object(r.g)(new I),Object(r.g)(new M),Object(r.g)(new R),Object(r.g)(new B),Object(r.g)(new V),Object(r.g)(new q),Object(r.g)(new Y),Object(r.g)(new X),Object(r.g)(new tt),Object(r.g)(new nt),Object(r.g)(new gt),Object(r.g)(new yt),Object(r.g)(new wt),Object(r.g)(new xt),Object(r.g)(new Et),Object(r.g)(new It)},function(t,e,i){"use strict";i.d(e,"b",function(){return y}),i.d(e,"a",function(){return C}),i.d(e,"d",function(){return L}),i.d(e,"c",function(){return D});var n,o=i(0),r=i(5),s=i(4),a=i(27),l=i(14),u=i(33),h=i(99),c=i(129),d=i(110),p=i(57),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=u.a,m=u.b,v=u.c,y=(_.prototype.getTabFocusMode=function(){return this._tabFocus},_.prototype.setTabFocusMode=function(t){this._tabFocus!==t&&(this._tabFocus=t,this._onDidChangeTabFocus.fire(this._tabFocus))},new _);function _(){this._tabFocus=!1,this._onDidChangeTabFocus=new r.a,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}var b,w=Object.hasOwnProperty,C=(b=s.a,f(S,b),S.prototype.observeReferenceElement=function(t){},S.prototype.dispose=function(){b.prototype.dispose.call(this)},S.prototype._recomputeOptions=function(){var t=this.editor,e=this._computeInternalOptions();t&&t.equals(e)||(this.editor=e,t&&this._onDidChange.fire(t.createChangeEvent(e)))},S.prototype.getRawOptions=function(){return this._rawOptions},S.prototype._computeInternalOptions=function(){var t=this._validatedOptions,e=this._getEnvConfiguration(),i=c.a.createFromRawSettings(this._rawOptions,e.zoomLevel),n={outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(i),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:y.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return u.f.createInternalEditorOptions(n,t)},S._primitiveArrayEquals=function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},S._subsetEquals=function(t,e){for(var i in e)if(w.call(e,i)){var n=e[i],o=t[i];if(o===n)continue;if(Array.isArray(o)&&Array.isArray(n)){if(!this._primitiveArrayEquals(o,n))return!1;continue}if("object"!=typeof o||"object"!=typeof n)return!1;if(!this._subsetEquals(o,n))return!1}return!0},S.prototype.updateOptions=function(t){void 0!==t&&(S._subsetEquals(this._rawOptions,t)||(this._rawOptions=a.g(this._rawOptions,t||{}),this._validatedOptions=u.d.validate(this._rawOptions,g),this._recomputeOptions()))},S.prototype.setIsDominatedByLongLines=function(t){this._isDominatedByLongLines=t,this._recomputeOptions()},S.prototype.setMaxLineNumber=function(t){var e=S._digitCount(t);this._lineNumbersDigitCount!==e&&(this._lineNumbersDigitCount=e,this._recomputeOptions())},S._digitCount=function(t){for(var e=0;t;)t=Math.floor(t/10),e++;return e||1},S);function S(t){var e=b.call(this)||this;return e._onDidChange=e._register(new r.a),e.onDidChange=e._onDidChange.event,e._rawOptions=a.g({},t||{}),e._rawOptions.scrollbar=a.g({},e._rawOptions.scrollbar||{}),e._rawOptions.minimap=a.g({},e._rawOptions.minimap||{}),e._rawOptions.find=a.g({},e._rawOptions.find||{}),e._rawOptions.hover=a.g({},e._rawOptions.hover||{}),e._rawOptions.parameterHints=a.g({},e._rawOptions.parameterHints||{}),e._validatedOptions=u.d.validate(e._rawOptions,g),e._isDominatedByLongLines=!1,e._lineNumbersDigitCount=1,e._register(h.a.onDidChangeZoomLevel(function(t){return e._recomputeOptions()})),e._register(y.onDidChangeTabFocus(function(t){return e._recomputeOptions()})),e}var x=p.a.as(d.a.Configuration),k={id:"editor",order:5,type:"object",title:o.a("editorConfigurationTitle","Editor"),overridable:!0,scope:3,properties:{"editor.fontFamily":{type:"string",default:m.fontFamily,description:o.a("fontFamily","Controls the font family.")},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:m.fontWeight,description:o.a("fontWeight","Controls the font weight.")},"editor.fontSize":{type:"number",default:m.fontSize,description:o.a("fontSize","Controls the font size in pixels.")},"editor.lineHeight":{type:"number",default:m.lineHeight,description:o.a("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")},"editor.letterSpacing":{type:"number",default:m.letterSpacing,description:o.a("letterSpacing","Controls the letter spacing in pixels.")},"editor.lineNumbers":{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[o.a("lineNumbers.off","Line numbers are not rendered."),o.a("lineNumbers.on","Line numbers are rendered as absolute number."),o.a("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),o.a("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:o.a("lineNumbers","Controls the display of line numbers.")},"editor.rulers":{type:"array",items:{type:"number"},default:g.viewInfo.rulers,description:o.a("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")},"editor.wordSeparators":{type:"string",default:g.wordSeparators,description:o.a("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")},"editor.tabSize":{type:"number",default:v.tabSize,minimum:1,markdownDescription:o.a("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:v.insertSpaces,markdownDescription:o.a("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:v.detectIndentation,markdownDescription:o.a("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.roundedSelection":{type:"boolean",default:g.viewInfo.roundedSelection,description:o.a("roundedSelection","Controls whether selections should have rounded corners.")},"editor.scrollBeyondLastLine":{type:"boolean",default:g.viewInfo.scrollBeyondLastLine,description:o.a("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")},"editor.scrollBeyondLastColumn":{type:"number",default:g.viewInfo.scrollBeyondLastColumn,description:o.a("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")},"editor.smoothScrolling":{type:"boolean",default:g.viewInfo.smoothScrolling,description:o.a("smoothScrolling","Controls whether the editor will scroll using an animation.")},"editor.minimap.enabled":{type:"boolean",default:g.viewInfo.minimap.enabled,description:o.a("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:g.viewInfo.minimap.side,description:o.a("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:g.viewInfo.minimap.showSlider,description:o.a("minimap.showSlider","Controls whether the minimap slider is automatically hidden.")},"editor.minimap.renderCharacters":{type:"boolean",default:g.viewInfo.minimap.renderCharacters,description:o.a("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:g.viewInfo.minimap.maxColumn,description:o.a("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.hover.enabled":{type:"boolean",default:g.contribInfo.hover.enabled,description:o.a("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:g.contribInfo.hover.delay,description:o.a("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:g.contribInfo.hover.sticky,description:o.a("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:g.contribInfo.find.seedSearchStringFromSelection,description:o.a("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"boolean",default:g.contribInfo.find.autoFindInSelection,description:o.a("find.autoFindInSelection","Controls whether the find operation is carried out on selected text or the entire file in the editor.")},"editor.find.globalFindClipboard":{type:"boolean",default:g.contribInfo.find.globalFindClipboard,description:o.a("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:l.d},"editor.wordWrap":{type:"string",enum:["off","on","wordWrapColumn","bounded"],markdownEnumDescriptions:[o.a("wordWrap.off","Lines will never wrap."),o.a("wordWrap.on","Lines will wrap at the viewport width."),o.a({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),o.a({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],default:g.wordWrap,description:o.a({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")},"editor.wordWrapColumn":{type:"integer",default:g.wordWrapColumn,minimum:1,markdownDescription:o.a({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")},"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[o.a("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),o.a("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),o.a("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),o.a("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],default:"same",description:o.a("wrappingIndent","Controls the indentation of wrapped lines.")},"editor.mouseWheelScrollSensitivity":{type:"number",default:g.viewInfo.scrollbar.mouseWheelScrollSensitivity,markdownDescription:o.a("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},"editor.multiCursorModifier":{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[o.a("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),o.a("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"alt",markdownDescription:o.a({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")},"editor.multiCursorMergeOverlapping":{type:"boolean",default:g.multiCursorMergeOverlapping,description:o.a("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")},"editor.quickSuggestions":{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:!1,description:o.a("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:!1,description:o.a("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:!0,description:o.a("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:g.contribInfo.quickSuggestions,description:o.a("quickSuggestions","Controls whether suggestions should automatically show up while typing.")},"editor.quickSuggestionsDelay":{type:"integer",default:g.contribInfo.quickSuggestionsDelay,minimum:0,description:o.a("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")},"editor.parameterHints.enabled":{type:"boolean",default:g.contribInfo.parameterHints.enabled,description:o.a("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:g.contribInfo.parameterHints.cycle,description:o.a("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")},"editor.autoClosingBrackets":{type:"string",enum:["always","languageDefined","beforeWhitespace","never"],enumDescriptions:["",o.a("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),o.a("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],default:g.autoClosingBrackets,description:o.a("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")},"editor.autoClosingQuotes":{type:"string",enum:["always","languageDefined","beforeWhitespace","never"],enumDescriptions:["",o.a("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),o.a("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],default:g.autoClosingQuotes,description:o.a("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")},"editor.autoSurround":{type:"string",enum:["languageDefined","brackets","quotes","never"],enumDescriptions:[o.a("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),o.a("editor.autoSurround.brackets","Surround with brackets but not quotes."),o.a("editor.autoSurround.quotes","Surround with quotes but not brackets."),""],default:g.autoSurround,description:o.a("autoSurround","Controls whether the editor should automatically surround selections.")},"editor.formatOnType":{type:"boolean",default:g.contribInfo.formatOnType,description:o.a("formatOnType","Controls whether the editor should automatically format the line after typing.")},"editor.formatOnPaste":{type:"boolean",default:g.contribInfo.formatOnPaste,description:o.a("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")},"editor.autoIndent":{type:"boolean",default:g.autoIndent,description:o.a("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste or move lines. Extensions with indentation rules of the language must be available.")},"editor.suggestOnTriggerCharacters":{type:"boolean",default:g.contribInfo.suggestOnTriggerCharacters,description:o.a("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")},"editor.acceptSuggestionOnEnter":{type:"string",enum:["on","smart","off"],default:g.contribInfo.acceptSuggestionOnEnter,markdownEnumDescriptions:["",o.a("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:o.a("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")},"editor.acceptSuggestionOnCommitCharacter":{type:"boolean",default:g.contribInfo.acceptSuggestionOnCommitCharacter,markdownDescription:o.a("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],enumDescriptions:[o.a("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),o.a("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),o.a("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),o.a("snippetSuggestions.none","Do not show snippet suggestions.")],default:g.contribInfo.suggest.snippets,description:o.a("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")},"editor.emptySelectionClipboard":{type:"boolean",default:g.emptySelectionClipboard,description:o.a("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")},"editor.copyWithSyntaxHighlighting":{type:"boolean",default:g.copyWithSyntaxHighlighting,description:o.a("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")},"editor.wordBasedSuggestions":{type:"boolean",default:g.contribInfo.wordBasedSuggestions,description:o.a("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.suggestSelection":{type:"string",enum:["first","recentlyUsed","recentlyUsedByPrefix"],markdownEnumDescriptions:[o.a("suggestSelection.first","Always select the first suggestion."),o.a("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),o.a("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],default:"recentlyUsed",description:o.a("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,markdownDescription:o.a("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,markdownDescription:o.a("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")},"editor.tabCompletion":{type:"string",default:"off",enum:["on","off","onlySnippets"],enumDescriptions:[o.a("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),o.a("tabCompletion.off","Disable tab completions."),o.a("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:o.a("tabCompletion","Enables tab completions.")},"editor.suggest.filterGraceful":{type:"boolean",default:!0,description:o.a("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:!1,description:o.a("suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:!0,description:o.a("suggest.snippetsPreventQuickSuggestions","Control whether an active snippet prevents quick suggestions.")},"editor.selectionHighlight":{type:"boolean",default:g.contribInfo.selectionHighlight,description:o.a("selectionHighlight","Controls whether the editor should highlight matches similar to the selection")},"editor.occurrencesHighlight":{type:"boolean",default:g.contribInfo.occurrencesHighlight,description:o.a("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")},"editor.overviewRulerLanes":{type:"integer",default:3,description:o.a("overviewRulerLanes","Controls the number of decorations that can show up at the same position in the overview ruler.")},"editor.overviewRulerBorder":{type:"boolean",default:g.viewInfo.overviewRulerBorder,description:o.a("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:u.h(g.viewInfo.cursorBlinking),description:o.a("cursorBlinking","Control the cursor animation style.")},"editor.mouseWheelZoom":{type:"boolean",default:g.viewInfo.mouseWheelZoom,markdownDescription:o.a("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")},"editor.cursorStyle":{type:"string",enum:["block","block-outline","line","line-thin","underline","underline-thin"],default:u.i(g.viewInfo.cursorStyle),description:o.a("cursorStyle","Controls the cursor style.")},"editor.cursorWidth":{type:"integer",default:g.viewInfo.cursorWidth,markdownDescription:o.a("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")},"editor.fontLigatures":{type:"boolean",default:g.viewInfo.fontLigatures,description:o.a("fontLigatures","Enables/Disables font ligatures.")},"editor.hideCursorInOverviewRuler":{type:"boolean",default:g.viewInfo.hideCursorInOverviewRuler,description:o.a("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")},"editor.renderWhitespace":{type:"string",enum:["none","boundary","all"],enumDescriptions:["",o.a("renderWhiteSpace.boundary","Render whitespace characters except for single spaces between words."),""],default:g.viewInfo.renderWhitespace,description:o.a("renderWhitespace","Controls how the editor should render whitespace characters.")},"editor.renderControlCharacters":{type:"boolean",default:g.viewInfo.renderControlCharacters,description:o.a("renderControlCharacters","Controls whether the editor should render control characters.")},"editor.renderIndentGuides":{type:"boolean",default:g.viewInfo.renderIndentGuides,description:o.a("renderIndentGuides","Controls whether the editor should render indent guides.")},"editor.highlightActiveIndentGuide":{type:"boolean",default:g.viewInfo.highlightActiveIndentGuide,description:o.a("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],enumDescriptions:["","","",o.a("renderLineHighlight.all","Highlights both the gutter and the current line.")],default:g.viewInfo.renderLineHighlight,description:o.a("renderLineHighlight","Controls how the editor should render the current line highlight.")},"editor.codeLens":{type:"boolean",default:g.contribInfo.codeLens,description:o.a("codeLens","Controls whether the editor shows CodeLens")},"editor.folding":{type:"boolean",default:g.contribInfo.folding,description:o.a("folding","Controls whether the editor has code folding enabled")},"editor.foldingStrategy":{type:"string",enum:["auto","indentation"],default:g.contribInfo.foldingStrategy,markdownDescription:o.a("foldingStrategy","Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.")},"editor.showFoldingControls":{type:"string",enum:["always","mouseover"],default:g.contribInfo.showFoldingControls,description:o.a("showFoldingControls","Controls whether the fold controls on the gutter are automatically hidden.")},"editor.matchBrackets":{type:"boolean",default:g.contribInfo.matchBrackets,description:o.a("matchBrackets","Highlight matching brackets when one of them is selected.")},"editor.glyphMargin":{type:"boolean",default:g.viewInfo.glyphMargin,description:o.a("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")},"editor.useTabStops":{type:"boolean",default:g.useTabStops,description:o.a("useTabStops","Inserting and deleting whitespace follows tab stops.")},"editor.trimAutoWhitespace":{type:"boolean",default:v.trimAutoWhitespace,description:o.a("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:o.a("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.dragAndDrop":{type:"boolean",default:g.dragAndDrop,description:o.a("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")},"editor.accessibilitySupport":{type:"string",enum:["auto","on","off"],enumDescriptions:[o.a("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),o.a("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),o.a("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:g.accessibilitySupport,description:o.a("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")},"editor.showUnused":{type:"boolean",default:g.showUnused,description:o.a("showUnused","Controls fading out of unused code.")},"editor.links":{type:"boolean",default:g.contribInfo.links,description:o.a("links","Controls whether the editor should detect links and make them clickable.")},"editor.colorDecorators":{type:"boolean",default:g.contribInfo.colorDecorators,description:o.a("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")},"editor.lightbulb.enabled":{type:"boolean",default:g.contribInfo.lightbulbEnabled,description:o.a("codeActions","Enables the code action lightbulb in the editor.")},"editor.codeActionsOnSave":{type:"object",properties:{"source.organizeImports":{type:"boolean",description:o.a("codeActionsOnSave.organizeImports","Controls whether organize imports action should be run on file save.")}},additionalProperties:{type:"boolean"},default:g.contribInfo.codeActionsOnSave,description:o.a("codeActionsOnSave","Code action kinds to be run on save.")},"editor.codeActionsOnSaveTimeout":{type:"number",default:g.contribInfo.codeActionsOnSaveTimeout,description:o.a("codeActionsOnSaveTimeout","Timeout in milliseconds after which the code actions that are run on save are cancelled.")},"editor.selectionClipboard":{type:"boolean",default:g.contribInfo.selectionClipboard,description:o.a("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:l.c},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:o.a("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:o.a("ignoreTrimWhitespace","Controls whether the diff editor shows changes in leading or trailing whitespace as diffs.")},"editor.largeFileOptimizations":{type:"boolean",default:v.largeFileOptimizations,description:o.a("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:o.a("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")}}},O=null;function E(){return null===O&&(O=Object.create(null),Object.keys(k.properties).forEach(function(t){O[t]=!0})),O}function L(t){return E()["editor."+t]||!1}function D(t){return E()["diffEditor."+t]||!1}x.registerConfiguration(k)},function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return g});var n,o=i(14),l=i(33),u=i(99),r=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=o.d?1.5:1.35;function c(t,e){if("number"==typeof t)return t;if(void 0===t)return e;var i=parseFloat(t);return isNaN(i)?e:i}function d(t,e,i){return t<e?e:i<t?i:t}function p(t,e){return"string"!=typeof t?e:t}var s=(f.createFromRawSettings=function(t,e){var i=p(t.fontFamily,l.b.fontFamily),n=p(t.fontWeight,l.b.fontWeight),o=c(t.fontSize,l.b.fontSize);0===(o=d(o,0,100))?o=l.b.fontSize:o<8&&(o=8);var r=function(t,e){if("number"==typeof t)return Math.round(t);if(void 0===t)return e;var i=parseInt(t);return isNaN(i)?e:i}(t.lineHeight,0);0===(r=d(r,0,150))?r=Math.round(h*o):r<8&&(r=8);var s=c(t.letterSpacing,0);s=d(s,-5,20);var a=1+.1*u.a.getZoomLevel();return new f({zoomLevel:e,fontFamily:i,fontWeight:n,fontSize:o*=a,lineHeight:r*=a,letterSpacing:s})},f.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"+this.letterSpacing},f.prototype.getMassagedFontFamily=function(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?'"'+this.fontFamily+'"':this.fontFamily},f);function f(t){this.zoomLevel=t.zoomLevel,this.fontFamily=String(t.fontFamily),this.fontWeight=String(t.fontWeight),this.fontSize=t.fontSize,this.lineHeight=0|t.lineHeight,this.letterSpacing=t.letterSpacing}var a,g=(r(m,a=s),m.prototype.equals=function(t){return this.fontFamily===t.fontFamily&&this.fontWeight===t.fontWeight&&this.fontSize===t.fontSize&&this.lineHeight===t.lineHeight&&this.letterSpacing===t.letterSpacing&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===t.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.spaceWidth===t.spaceWidth&&this.maxDigitWidth===t.maxDigitWidth},m);function m(t,e){var i=a.call(this,t)||this;return i.isTrusted=e,i.isMonospace=t.isMonospace,i.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,i.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,i.canUseHalfwidthRightwardsArrow=t.canUseHalfwidthRightwardsArrow,i.spaceWidth=t.spaceWidth,i.maxDigitWidth=t.maxDigitWidth,i}},function(t,e,i){"use strict";i.d(e,"a",function(){return v});i(271);var n,o,r=i(0),s=i(17),a=i(4),l=i(50),u=i(2),h=i(3),c=i(10),d=i(16),p=i(7),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},m=function(i,n){return function(t,e){n(t,e,i)}},v=(o=a.a,f(y,o),y.get=function(t){return t.getContribution(y._id)},y.prototype.getId=function(){return y._id},y.prototype.dispose=function(){o.prototype.dispose.call(this),this._visible.reset()},y.prototype.showMessage=function(t,e){var i,n=this;Object(l.a)(t),this._visible.set(!0),Object(a.d)(this._messageWidget),this._messageListeners=Object(a.d)(this._messageListeners),this._messageWidget=new b(this._editor,e,t),this._messageListeners.push(this._editor.onDidBlurEditorText(function(){return n.closeMessage()})),this._messageListeners.push(this._editor.onDidChangeCursorPosition(function(){return n.closeMessage()})),this._messageListeners.push(this._editor.onDidDispose(function(){return n.closeMessage()})),this._messageListeners.push(this._editor.onDidChangeModel(function(){return n.closeMessage()})),this._messageListeners.push(new s.e(function(){return n.closeMessage()},3e3)),this._messageListeners.push(this._editor.onMouseMove(function(t){t.target.position&&(i?i.containsPosition(t.target.position)||n.closeMessage():i=new u.a(e.lineNumber-3,1,t.target.position.lineNumber+3,1))}))},y.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners=Object(a.d)(this._messageListeners),this._messageListeners.push(b.fadeOut(this._messageWidget))},y.prototype._onDidAttemptReadOnlyEdit=function(){this._editor.hasModel()&&this.showMessage(r.a("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},y._id="editor.contrib.messageController",y.MESSAGE_VISIBLE=new c.f("messageVisible",!1),y=g([m(1,c.e)],y));function y(t,e){var i=o.call(this)||this;return i._messageListeners=[],i._editor=t,i._visible=y.MESSAGE_VISIBLE.bindTo(e),i._register(i._editor.onDidAttemptReadOnlyEdit(function(){return i._onDidAttemptReadOnlyEdit()})),i}var _=h.c.bindToContribution(v.get);Object(h.g)(new _({id:"leaveEditorMessage",precondition:v.MESSAGE_VISIBLE,handler:function(t){return t.closeMessage()},kbOpts:{weight:130,primary:9}}));var b=(w.fadeOut=function(t){var e,i=function(){t.dispose(),clearTimeout(e),t.getDomNode().removeEventListener("animationend",i)};return e=setTimeout(i,110),t.getDomNode().addEventListener("animationend",i),t.getDomNode().classList.add("fadeOut"),{dispose:i}},w.prototype.dispose=function(){this._editor.removeContentWidget(this)},w.prototype.getId=function(){return"messageoverlay"},w.prototype.getDomNode=function(){return this._domNode},w.prototype.getPosition=function(){return{position:this._position,preference:[1]}},w);function w(t,e,i){var n=e.lineNumber,o=e.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var r=document.createElement("div");r.classList.add("message"),r.textContent=i,this._domNode.appendChild(r);var s=document.createElement("div");s.classList.add("anchor"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}Object(h.h)(v),Object(d.e)(function(t,e){var i=t.getColor(p.R);if(i){var n=t.type===d.b?2:1;e.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+i+"; }"),e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+n+"px solid "+i+"; }")}var o=t.getColor(p.Q);o&&e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+o+"; }");var r=t.getColor(p.S);r&&e.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: "+r+"; }")})},function(t,e,i){"use strict";i.d(e,"a",function(){return C}),i.d(e,"b",function(){return S}),i.d(e,"c",function(){return j}),i.d(e,"d",function(){return W});var n,o,r=i(1),s=i(4),a=i(23),l=i(108),u=i(185),h=i(0),c=i(48),d=i(110),p=i(10),f=i(18),g=i(57),m=i(104),v=i(16),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=function(){return(_=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},b=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},w=function(i,n){return function(t,e){n(t,e,i)}},C=Object(f.c)("listService"),S=(Object.defineProperty(x.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:!0,configurable:!0}),x.prototype.register=function(e,t){var i=this;if(this.lists.some(function(t){return t.widget===e}))throw new Error("Cannot register the same widget multiple times");var n={widget:e,extraContextKeys:t};return this.lists.push(n),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),Object(s.c)([e.onDidFocus(function(){return i._lastFocusedWidget=e}),Object(s.f)(function(){return i.lists.splice(i.lists.indexOf(n),1)}),e.onDidDispose(function(){i.lists=i.lists.filter(function(t){return t!==n}),i._lastFocusedWidget===e&&(i._lastFocusedWidget=void 0)})])},x=b([w(0,p.e)],x));function x(t){this.lists=[],this._lastFocusedWidget=void 0}var k=new p.f("listFocus",!0),O=new p.f("listSupportsMultiselect",!0),E=new p.f("listHasSelectionOrFocus",!1),L=new p.f("listDoubleSelection",!1),D=new p.f("listMultiSelection",!1);var I,N="workbench.list.multiSelectModifier",T="workbench.list.openMode",M="workbench.tree.horizontalScrolling";function A(t){return"alt"===t.getValue(N)}function P(t){return"doubleClick"!==t.getValue(T)}function R(t,e){return t.controller||(t.controller=e.createInstance(W,{})),t.styler||(t.styler=new l.e(I=I||Object(r.p)())),t}var F,j=(F=u.a,y(B,F),B.prototype.dispose=function(){F.prototype.dispose.call(this),this.disposables=Object(s.d)(this.disposables)},B=b([w(3,p.e),w(4,C),w(5,v.c),w(6,f.a),w(7,c.a)],B));function B(t,e,i,n,o,r,s,a){var l=this,u=R(e,s),h=a.getValue(M)?1:2,c=_({horizontalScrollMode:h,keyboardSupport:!1},Object(m.e)(r.getTheme(),m.f),i);return(l=F.call(this,t,u,c)||this).disposables=[],l.contextKeyService=function(t,e){var i=t.createScoped(e.getHTMLElement());return k.bindTo(i),i}(n,l),O.bindTo(l.contextKeyService),l.listHasSelectionOrFocus=E.bindTo(l.contextKeyService),l.listDoubleSelection=L.bindTo(l.contextKeyService),l.listMultiSelection=D.bindTo(l.contextKeyService),l._openOnSingleClick=P(a),l._useAltAsMultipleSelectionModifier=A(a),l.disposables.push(l.contextKeyService,o.register(l),Object(m.b)(l,r)),l.disposables.push(l.onDidChangeSelection(function(){var t=l.getSelection(),e=l.getFocus();l.listHasSelectionOrFocus.set(t&&0<t.length||!!e),l.listDoubleSelection.set(t&&2===t.length),l.listMultiSelection.set(t&&1<t.length)})),l.disposables.push(l.onDidChangeFocus(function(){var t=l.getSelection(),e=l.getFocus();l.listHasSelectionOrFocus.set(t&&0<t.length||!!e)})),l.disposables.push(a.onDidChangeConfiguration(function(t){t.affectsConfiguration(T)&&(l._openOnSingleClick=P(a)),t.affectsConfiguration(N)&&(l._useAltAsMultipleSelectionModifier=A(a))})),l}var H,W=(H=l.b,y(V,H),V.prototype.registerListeners=function(){var e=this;this.disposables.push(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration(T)&&e.setOpenMode(e.getOpenModeSetting())}))},V.prototype.getOpenModeSetting=function(){return P(this.configurationService)?0:1},V.prototype.dispose=function(){this.disposables=Object(s.d)(this.disposables)},V=b([w(1,c.a)],V));function V(t,e){var i=H.call(this,function(t){return"boolean"!=typeof t.keyboardSupport&&(t.keyboardSupport=!1),"number"!=typeof t.clickBehavior&&(t.clickBehavior=0),t}(t))||this;return i.configurationService=e,i.disposables=[],Object(a.j)(t.openMode)&&(i.setOpenMode(i.getOpenModeSetting()),i.registerListeners()),i}g.a.as(d.a.Configuration).registerConfiguration({id:"workbench",order:7,title:Object(h.a)("workbenchConfigurationTitle","Workbench"),type:"object",properties:(o={},o[N]={type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[Object(h.a)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),Object(h.a)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Object(h.a)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},o[T]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(h.a)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},o[M]={type:"boolean",default:!1,description:Object(h.a)("horizontalScrolling setting","Controls whether trees support horizontal scrolling in the workbench.")},o)})},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var n=i(18),o=Object(n.c)("logService"),r=(s.prototype.trace=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},s.prototype.error=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},s.prototype.dispose=function(){},s);function s(){}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){var i,n,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var l,u=[],h=!1,c=-1;function d(){h&&l&&(h=!1,l.length?u=l.concat(u):c=-1,u.length&&p())}function p(){if(!h){var t=a(d);h=!0;for(var e=u.length;e;){for(l=u,u=[];++c<e;)l&&l[c].run();c=-1,e=u.length}l=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new f(t,e)),1!==u.length||h||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,i){"use strict";t.exports={getCompiler:function(t,e){return{type:"component",componentName:"compiler",componentState:{source:t,lang:e}}},getCompilerWith:function(t,e,i,n,o,r){return{type:"component",componentName:"compiler",componentState:{source:t,filters:e,options:i,compiler:n,lang:o,libs:r}}},getExecutor:function(t,e){return{type:"component",componentName:"executor",componentState:{source:t,lang:e}}},getEditor:function(t,e){return{type:"component",componentName:"codeEditor",componentState:{id:t,lang:e}}},getEditorWith:function(t,e,i){return{type:"component",componentName:"codeEditor",componentState:{id:t,source:e,options:i}}},getOutput:function(t,e){return{type:"component",componentName:"output",componentState:{compiler:t,editor:e}}},getToolViewWith:function(t,e,i,n){return{type:"component",componentName:"tool",componentState:{compiler:t,editor:e,toolId:i,args:n}}},getDiff:function(){return{type:"component",componentName:"diff",componentState:{}}},getOptView:function(){return{type:"component",componentName:"opt",componentState:{}}},getOptViewWith:function(t,e,i,n,o){return{type:"component",componentName:"opt",componentState:{id:t,source:e,optOutput:i,compilerName:n,editorid:o}}},getAstView:function(){return{type:"component",componentName:"ast",componentState:{}}},getAstViewWith:function(t,e,i,n,o){return{type:"component",componentName:"ast",componentState:{id:t,source:e,astOutput:i,compilerName:n,editorid:o}}},getGccDumpView:function(){return{type:"component",componentName:"gccdump",componentState:{}}},getGccDumpViewWith:function(t,e,i,n){var o={type:"component",componentName:"gccdump",componentState:{_compilerid:t,_compilerName:e,_editorid:i}};return n&&(o.treeDump=n.treeDump,o.rtlDump=n.rtlDump,o.selectedPass=n.selectedPass),o},getCfgView:function(){return{type:"component",componentName:"cfg",componentState:{}}},getCfgViewWith:function(t,e){return{type:"component",componentName:"cfg",componentState:{id:t,editorid:e}}},getConformanceView:function(t,e,i){return{type:"component",componentName:"conformance",componentState:{editorid:t,source:e,langId:i}}},getIrView:function(){return{type:"component",componentName:"ir",componentState:{}}},getIrViewWith:function(t,e,i,n,o){return{type:"component",componentName:"ir",componentState:{id:t,source:e,irOutput:i,compilerName:n,editorid:o}}}}},function(t,e,i){var n;self.MonacoEnvironment=(n={editorWorkerService:"editor.worker.js"},{getWorkerUrl:function(t,e){var i="string"==typeof window.__webpack_public_path__?window.__webpack_public_path__:"dist/";return(i?function(t){return t.replace(/\/$/,"")}(i)+"/":"")+n[e]}}),i(188),i(189),i(222),i(190),i(216),i(217),i(166),i(218),i(191),i(71),i(192),i(228),i(138),i(213),i(193),i(219),i(147),i(194),i(221),i(195),i(214),i(223),i(196),i(197),i(215),i(224),i(198),i(220),i(199),i(225),i(200),i(201),i(226),i(227),i(116),i(212),i(202),i(146),i(203),i(204),i(127),i(205),t.exports=i(396),i(206),i(207),i(208),i(209)},function(t,e,i){"use strict";i(284),i(285);var n,d=i(0),b=i(1),g=i(13),m=i(5),r=i(4),o=i(49),a=i(70),v=i(3),s=i(34),l=i(26),u=i(65),y=i(22),h=i(39),c=i(17),p=i(14),f=i(73),_=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),w=(C.prototype.toClientCoordinates=function(){return new S(this.x-b.e.scrollX,this.y-b.e.scrollY)},C);function C(t,e){this.x=t,this.y=e}var S=(x.prototype.toPageCoordinates=function(){return new w(this.clientX+b.e.scrollX,this.clientY+b.e.scrollY)},x);function x(t,e){this.clientX=t,this.clientY=e}var k=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n};function O(t){var e=b.v(t);return new k(e.left,e.top,e.width,e.height)}var E,L=(E=h.b,_(D,E),D);function D(t,e){var i=E.call(this,t)||this;return i.pos=new w(i.posx,i.posy),i.editorPos=O(e),i}var I=(N.prototype._create=function(t){return new L(t,this._editorViewDomNode)},N.prototype.onContextMenu=function(t,e){var i=this;return b.h(t,"contextmenu",function(t){e(i._create(t))})},N.prototype.onMouseUp=function(t,e){var i=this;return b.h(t,"mouseup",function(t){e(i._create(t))})},N.prototype.onMouseDown=function(t,e){var i=this;return b.h(t,"mousedown",function(t){e(i._create(t))})},N.prototype.onMouseLeave=function(t,e){var i=this;return b.i(t,function(t){e(i._create(t))})},N.prototype.onMouseMoveThrottled=function(t,e,i,n){var o=this;return b.j(t,"mousemove",e,function(t,e){return i(t,o._create(e))},n)},N);function N(t){this._editorViewDomNode=t}var T,M=(T=r.a,_(A,T),A.prototype.startMonitoring=function(i,t,e){var n=this;this._keydownListener=b.k(document,"keydown",function(t){t.toKeybinding().isModifierKey()||n._globalMouseMoveMonitor.stopMonitoring(!0)},!0),this._globalMouseMoveMonitor.startMonitoring(function(t,e){return i(t,new L(e,n._editorViewDomNode))},t,function(){n._keydownListener.dispose(),e()})},A);function A(t){var e=T.call(this)||this;return e._editorViewDomNode=t,e._globalMouseMoveMonitor=e._register(new f.a),e._keydownListener=null,e}var P,R,F=(P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),j=(R=r.a,F(B,R),B.prototype.shouldRender=function(){return this._shouldRender},B.prototype.forceShouldRender=function(){this._shouldRender=!0},B.prototype.setShouldRender=function(){this._shouldRender=!0},B.prototype.onDidRender=function(){this._shouldRender=!1},B.prototype.onConfigurationChanged=function(t){return!1},B.prototype.onCursorStateChanged=function(t){return!1},B.prototype.onDecorationsChanged=function(t){return!1},B.prototype.onFlushed=function(t){return!1},B.prototype.onFocusChanged=function(t){return!1},B.prototype.onLanguageConfigurationChanged=function(t){return!1},B.prototype.onLineMappingChanged=function(t){return!1},B.prototype.onLinesChanged=function(t){return!1},B.prototype.onLinesDeleted=function(t){return!1},B.prototype.onLinesInserted=function(t){return!1},B.prototype.onRevealRangeRequest=function(t){return!1},B.prototype.onScrollChanged=function(t){return!1},B.prototype.onTokensChanged=function(t){return!1},B.prototype.onTokensColorsChanged=function(t){return!1},B.prototype.onZonesChanged=function(t){return!1},B.prototype.onThemeChanged=function(t){return!1},B.prototype.handleEvents=function(t){for(var e=!1,i=0,n=t.length;i<n;i++){var o=t[i];switch(o.type){case 1:this.onConfigurationChanged(o)&&(e=!0);break;case 2:this.onCursorStateChanged(o)&&(e=!0);break;case 3:this.onDecorationsChanged(o)&&(e=!0);break;case 4:this.onFlushed(o)&&(e=!0);break;case 5:this.onFocusChanged(o)&&(e=!0);break;case 16:this.onLanguageConfigurationChanged(o)&&(e=!0);break;case 6:this.onLineMappingChanged(o)&&(e=!0);break;case 7:this.onLinesChanged(o)&&(e=!0);break;case 8:this.onLinesDeleted(o)&&(e=!0);break;case 9:this.onLinesInserted(o)&&(e=!0);break;case 10:this.onRevealRangeRequest(o)&&(e=!0);break;case 11:this.onScrollChanged(o)&&(e=!0);break;case 12:this.onTokensChanged(o)&&(e=!0);break;case 13:this.onTokensColorsChanged(o)&&(e=!0);break;case 14:this.onZonesChanged(o)&&(e=!0);break;case 15:this.onThemeChanged(o)&&(e=!0);break;default:console.info("View received unknown event: "),console.info(o)}}e&&(this._shouldRender=!0)},B);function B(){var t=R.call(this)||this;return t._shouldRender=!0,t}var H,W,V=((H=function(t,e){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(z,W=j),z.prototype.dispose=function(){this._context.removeEventHandler(this),W.prototype.dispose.call(this)},z);function z(t){var e=W.call(this)||this;return e._context=t,e._context.addEventHandler(e),e}var U=(q.write=function(t,e){l.a,t.setAttribute("data-mprt",String(e))},q.read=function(t){var e=t.getAttribute("data-mprt");return null===e?0:parseInt(e,10)},q.collect=function(t,e){for(var i=[],n=0;t&&t!==document.body&&t!==e;)t.nodeType===t.ELEMENT_NODE&&(i[n++]=this.read(t)),t=t.parentElement;for(var o=new Uint8Array(n),r=0;r<n;r++)o[r]=i[n-r-1];return o},q);function q(){}var K,G=(K=function(t,e){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Y=($.prototype.getScrolledTopFromAbsoluteTop=function(t){return t-this.scrollTop},$.prototype.getVerticalOffsetForLineNumber=function(t){return this._viewLayout.getVerticalOffsetForLineNumber(t)},$.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},$);function $(t,e){this._viewLayout=t,this.viewportData=e,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}var Z,X=(G(J,Z=Y),J.prototype.linesVisibleRangesForRange=function(t,e){return this._viewLines.linesVisibleRangesForRange(t,e)},J.prototype.visibleRangeForPosition=function(t){return this._viewLines.visibleRangeForPosition(t)},J);function J(t,e,i){var n=Z.call(this,t,e)||this;return n._viewLines=i,n}var Q=function(t,e){this.lineNumber=t,this.ranges=e},tt=(et.prototype.toString=function(){return"["+this.left+","+this.width+"]"},et);function et(t,e){this.left=Math.round(t),this.width=Math.round(e)}var it=(nt.prototype.toString=function(){return"["+this.left+","+this.width+"]"},nt.compare=function(t,e){return t.left-e.left},nt);function nt(t,e){this.left=t,this.width=e}var ot=(rt._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},rt._detachRange=function(t,e){t.selectNodeContents(e)},rt._readClientRects=function(t,e,i,n,o){var r=this._createRange();try{return r.setStart(t,e),r.setEnd(i,n),r.getClientRects()}catch(t){return null}finally{this._detachRange(r,o)}},rt._mergeAdjacentRanges=function(t){if(1===t.length)return[new tt(t[0].left,t[0].width)];t.sort(it.compare);for(var e=[],i=0,n=t[0].left,o=t[0].width,r=1,s=t.length;r<s;r++){var a=t[r],l=a.left,u=a.width;o=l<=n+o+.9?Math.max(o,l+u-n):(e[i++]=new tt(n,o),n=l,u)}return e[i++]=new tt(n,o),e},rt._createHorizontalRangesFromClientRects=function(t,e){if(!t||0===t.length)return null;for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n];i[n]=new it(Math.max(0,r.left-e),r.width)}return this._mergeAdjacentRanges(i)},rt.readHorizontalRanges=function(t,e,i,n,o,r,s){var a=t.children.length-1;if(a<0)return null;(e=Math.min(a,Math.max(0,e)))!==(n=Math.min(a,Math.max(0,n)))&&0<n&&0===o&&(n--,o=Number.MAX_VALUE);var l=t.children[e].firstChild,u=t.children[n].firstChild;if(l&&u||(!l&&0===i&&0<e&&(l=t.children[e-1].firstChild,i=1073741824),!u&&0===o&&0<n&&(u=t.children[n-1].firstChild,o=1073741824)),!l||!u)return null;i=Math.min(l.textContent.length,Math.max(0,i)),o=Math.min(u.textContent.length,Math.max(0,o));var h=this._readClientRects(l,i,u,o,s);return this._createHorizontalRangesFromClientRects(h,r)},rt);function rt(){}var st,at=i(121),lt=i(68),ut=i(16),ht=(st=function(t,e){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}st(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),ct=!!p.e||!(p.c||y.j||y.m),dt=y.h,pt=(Object.defineProperty(ft.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),ft);function ft(t,e){this._domNode=t,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=e}var gt=(mt.prototype.equals=function(t){return this.themeType===t.themeType&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.spaceWidth===t.spaceWidth&&this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.fontLigatures===t.fontLigatures},mt);function mt(t,e){this.themeType=e,this.renderWhitespace=t.editor.viewInfo.renderWhitespace,this.renderControlCharacters=t.editor.viewInfo.renderControlCharacters,this.spaceWidth=t.editor.fontInfo.spaceWidth,this.useMonospaceOptimizations=t.editor.fontInfo.isMonospace&&!t.editor.viewInfo.disableMonospaceOptimizations,this.canUseHalfwidthRightwardsArrow=t.editor.fontInfo.canUseHalfwidthRightwardsArrow,this.lineHeight=t.editor.lineHeight,this.stopRenderingLineAfter=t.editor.viewInfo.stopRenderingLineAfter,this.fontLigatures=t.editor.viewInfo.fontLigatures}var vt=(yt.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},yt.prototype.setDomNode=function(t){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Object(l.b)(t)},yt.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},yt.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},yt.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},yt.prototype.onOptionsChanged=function(t){this._isMaybeInvalid=!0,this._options=t},yt.prototype.onSelectionChanged=function(){return!(!dt&&this._options.themeType!==ut.b)&&(this._isMaybeInvalid=!0)},yt.prototype.renderLine=function(t,e,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;var o=i.getViewLineRenderingData(t),r=this._options,s=at.a.filter(o.inlineDecorations,t,o.minColumn,o.maxColumn);if(dt||r.themeType===ut.b)for(var a=i.selections,l=0,u=a.length;l<u;l++){var h=a[l];if(!(h.endLineNumber<t||h.startLineNumber>t)){var c=h.startLineNumber===t?h.startColumn:o.minColumn,d=h.endLineNumber===t?h.endColumn:o.maxColumn;c<d&&s.push(new at.a(c,d,"inline-selected-text",0))}}var p=new lt.b(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,s,o.tabSize,r.spaceWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures);if(this._renderedViewLine&&this._renderedViewLine.input.equals(p))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(e)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(yt.CLASS_NAME),n.appendASCIIString('">');var f=Object(lt.c)(p,n);n.appendASCIIString("</div>");var g=null;return ct&&o.isBasicASCII&&r.useMonospaceOptimizations&&0===f.containsForeignElements&&o.content.length<300&&p.lineTokens.getCount()<100&&(g=new _t(this._renderedViewLine?this._renderedViewLine.domNode:null,p,f.characterMapping)),g=g||Ot(this._renderedViewLine?this._renderedViewLine.domNode:null,p,f.characterMapping,f.containsRTL,f.containsForeignElements),this._renderedViewLine=g,!0},yt.prototype.layoutLine=function(t,e){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(e),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},yt.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},yt.prototype.getWidthIsFast=function(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()},yt.prototype.getVisibleRangesForRange=function(t,e,i){if(!this._renderedViewLine)return null;t|=0,e|=0,t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e));var n=0|this._renderedViewLine.input.stopRenderingLineAfter;return-1!=n&&n<t&&n<e?null:(-1!=n&&n<t&&(t=n),-1!=n&&n<e&&(e=n),this._renderedViewLine.getVisibleRangesForRange(t,e,i))},yt.prototype.getColumnOfNodeOffset=function(t,e,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(t,e,i):1},yt.CLASS_NAME="view-line",yt);function yt(t){this._options=t,this._isMaybeInvalid=!0,this._renderedViewLine=null}var _t=(bt.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},bt.prototype.getWidthIsFast=function(){return!0},bt.prototype.getVisibleRangesForRange=function(t,e,i){var n=this._getCharPosition(t),o=this._getCharPosition(e);return[new tt(n,o-n)]},bt.prototype._getCharPosition=function(t){var e=this._characterMapping.getAbsoluteOffsets();return 0===e.length?0:Math.round(this._charWidth*e[t-1])},bt.prototype.getColumnOfNodeOffset=function(t,e,i){for(var n=e.textContent.length,o=-1;e;)e=e.previousSibling,o++;return this._characterMapping.partDataToCharOffset(o,n,i)+1},bt);function bt(t,e,i){this.domNode=t,this.input=e,this._characterMapping=i,this._charWidth=e.spaceWidth}var wt=(Ct.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild},Ct.prototype.getWidth=function(){return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},Ct.prototype.getWidthIsFast=function(){return-1!==this._cachedWidth},Ct.prototype.getVisibleRangesForRange=function(t,e,i){if(null===this._pixelOffsetCache)return this._readVisibleRangesForRange(t,e,i);var n=this._readPixelOffset(t,i);if(-1===n)return null;var o=this._readPixelOffset(e,i);return-1===o?null:[new tt(n,o-n)]},Ct.prototype._readVisibleRangesForRange=function(t,e,i){if(t!==e)return this._readRawVisibleRangesForRange(t,e,i);var n=this._readPixelOffset(t,i);return-1===n?null:[new tt(n,0)]},Ct.prototype._readPixelOffset=function(t,e){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth()}if(null===this._pixelOffsetCache)return this._actualReadPixelOffset(t,e);var i=this._pixelOffsetCache[t];if(-1!==i)return i;var n=this._actualReadPixelOffset(t,e);return this._pixelOffsetCache[t]=n},Ct.prototype._actualReadPixelOffset=function(t,e){if(0===this._characterMapping.length){var i=ot.readHorizontalRanges(this._getReadingTarget(),0,0,0,0,e.clientRectDeltaLeft,e.endNode);return i&&0!==i.length?i[0].left:-1}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();var n=this._characterMapping.charOffsetToPartData(t-1),o=lt.a.getPartIndex(n),r=lt.a.getCharIndex(n),s=ot.readHorizontalRanges(this._getReadingTarget(),o,r,o,r,e.clientRectDeltaLeft,e.endNode);return s&&0!==s.length?s[0].left:-1},Ct.prototype._readRawVisibleRangesForRange=function(t,e,i){if(1===t&&e===this._characterMapping.length)return[new tt(0,this.getWidth())];var n=this._characterMapping.charOffsetToPartData(t-1),o=lt.a.getPartIndex(n),r=lt.a.getCharIndex(n),s=this._characterMapping.charOffsetToPartData(e-1),a=lt.a.getPartIndex(s),l=lt.a.getCharIndex(s);return ot.readHorizontalRanges(this._getReadingTarget(),o,r,a,l,i.clientRectDeltaLeft,i.endNode)},Ct.prototype.getColumnOfNodeOffset=function(t,e,i){for(var n=e.textContent.length,o=-1;e;)e=e.previousSibling,o++;return this._characterMapping.partDataToCharOffset(o,n,i)+1},Ct);function Ct(t,e,i,n,o){if(this.domNode=t,this.input=e,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(e.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var r=0,s=this._characterMapping.length;r<=s;r++)this._pixelOffsetCache[r]=-1}}var St,xt=(ht(kt,St=wt),kt.prototype._readVisibleRangesForRange=function(t,e,i){var n=St.prototype._readVisibleRangesForRange.call(this,t,e,i);if(!n||0===n.length||t===e||1===t&&e===this._characterMapping.length)return n;if(!this.input.containsRTL){var o=this._readPixelOffset(e,i);if(-1!==o){var r=n[n.length-1];r.left<o&&(r.width=o-r.left)}}return n},kt);function kt(){return null!==St&&St.apply(this,arguments)||this}var Ot=y.n?Et:Lt;function Et(t,e,i,n,o){return new xt(t,e,i,n,o)}function Lt(t,e,i,n,o){return new wt(t,e,i,n,o)}var Dt,It=i(9),Nt=i(2),Tt=(Dt=function(t,e){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Dt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Mt=(At._typeToString=function(t){return 1===t?"TEXTAREA":2===t?"GUTTER_GLYPH_MARGIN":3===t?"GUTTER_LINE_NUMBERS":4===t?"GUTTER_LINE_DECORATIONS":5===t?"GUTTER_VIEW_ZONE":6===t?"CONTENT_TEXT":7===t?"CONTENT_EMPTY":8===t?"CONTENT_VIEW_ZONE":9===t?"CONTENT_WIDGET":10===t?"OVERVIEW_RULER":11===t?"SCROLLBAR":12===t?"OVERLAY_WIDGET":"UNKNOWN"},At.toString=function(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+t.detail},At.prototype.toString=function(){return At.toString(this)},At);function At(t,e,i,n,o,r){void 0===i&&(i=0),void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=null),this.element=t,this.type=e,this.mouseColumn=i,this.position=n,!o&&n&&(o=new Nt.a(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=r}var Pt=(Rt.isTextArea=function(t){return 2===t.length&&3===t[0]&&6===t[1]},Rt.isChildOfViewLines=function(t){return 4<=t.length&&3===t[0]&&7===t[3]},Rt.isStrictChildOfViewLines=function(t){return 4<t.length&&3===t[0]&&7===t[3]},Rt.isChildOfScrollableElement=function(t){return 2<=t.length&&3===t[0]&&5===t[1]},Rt.isChildOfMinimap=function(t){return 2<=t.length&&3===t[0]&&8===t[1]},Rt.isChildOfContentWidgets=function(t){return 4<=t.length&&3===t[0]&&1===t[3]},Rt.isChildOfOverflowingContentWidgets=function(t){return 1<=t.length&&2===t[0]},Rt.isChildOfOverlayWidgets=function(t){return 2<=t.length&&3===t[0]&&4===t[1]},Rt);function Rt(){}var Ft=(jt.prototype.getZoneAtCoord=function(t){return jt.getZoneAtCoord(this._context,t)},jt.getZoneAtCoord=function(t,e){var i=t.viewLayout.getWhitespaceAtVerticalOffset(e);if(i){var n=i.verticalOffset+i.height/2,o=t.model.getLineCount(),r=null,s=void 0,a=null;return i.afterLineNumber!==o&&(a=new It.a(i.afterLineNumber+1,1)),0<i.afterLineNumber&&(r=new It.a(i.afterLineNumber,t.model.getLineMaxColumn(i.afterLineNumber))),s=null===a?r:null===r?a:e<n?r:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:a,position:s}}return null},jt.prototype.getFullLineRangeAtCoord=function(t){if(this._context.viewLayout.isAfterLines(t)){var e=this._context.model.getLineCount(),i=this._context.model.getLineMaxColumn(e);return{range:new Nt.a(e,i,e,i),isAfterLines:!0}}var n=this._context.viewLayout.getLineNumberAtVerticalOffset(t),o=this._context.model.getLineMaxColumn(n);return{range:new Nt.a(n,1,n,o),isAfterLines:!1}},jt.prototype.getLineNumberAtVerticalOffset=function(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)},jt.prototype.isAfterLines=function(t){return this._context.viewLayout.isAfterLines(t)},jt.prototype.getVerticalOffsetForLineNumber=function(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)},jt.prototype.findAttribute=function(t,e){return jt._findAttribute(t,e,this._viewHelper.viewDomNode)},jt._findAttribute=function(t,e,i){for(;t&&t!==document.body;){if(t.hasAttribute&&t.hasAttribute(e))return t.getAttribute(e);if(t===i)return null;t=t.parentNode}return null},jt.prototype.getLineWidth=function(t){return this._viewHelper.getLineWidth(t)},jt.prototype.visibleRangeForPosition2=function(t,e){return this._viewHelper.visibleRangeForPosition2(t,e)},jt.prototype.getPositionFromDOMInfo=function(t,e){return this._viewHelper.getPositionFromDOMInfo(t,e)},jt.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},jt.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},jt);function jt(t,e,i){this.model=t.model,this.layoutInfo=t.configuration.editor.layoutInfo,this.viewDomNode=e.viewDomNode,this.lineHeight=t.configuration.editor.lineHeight,this.typicalHalfwidthCharacterWidth=t.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this.lastViewCursorsRenderData=i,this._context=t,this._viewHelper=e}var Bt,Ht=(Tt(Wt,Bt=function(t,e,i){this.editorPos=e,this.pos=i,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+i.y-e.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+i.x-e.x-t.layoutInfo.contentLeft,this.isInMarginArea=i.x-e.x<t.layoutInfo.contentLeft&&i.x-e.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Ut._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}),Wt.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)},Wt.prototype.fulfill=function(t,e,i,n){return void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),new Mt(this.target,t,this.mouseColumn,e,i,n)},Wt.prototype.withTarget=function(t){return new Wt(this._ctx,this.editorPos,this.pos,t)},Wt);function Wt(t,e,i,n){var o=Bt.call(this,t,e,i)||this;return o._ctx=t,n?(o.target=n,o.targetPath=U.collect(n,t.viewDomNode)):(o.target=null,o.targetPath=new Uint8Array(0)),o}var Vt={isAfterLines:!0};function zt(t){return{isAfterLines:!1,horizontalDistanceToText:t}}var Ut=(qt.prototype.mouseTargetIsWidget=function(t){var e=t.target,i=U.collect(e,this._viewHelper.viewDomNode);return!(!Pt.isChildOfContentWidgets(i)&&!Pt.isChildOfOverflowingContentWidgets(i)&&!Pt.isChildOfOverlayWidgets(i))},qt.prototype.createMouseTarget=function(t,e,i,n){var o=new Ft(this._context,this._viewHelper,t),r=new Ht(o,e,i,n);try{return qt._createMouseTarget(o,r,!1)}catch(t){return r.fulfill(0)}},qt._createMouseTarget=function(t,e,i){if(null===e.target){if(i)return e.fulfill(0);var n=qt._doHitTest(t,e);return n.position?qt.createMouseTargetFromHitTestPosition(t,e,n.position.lineNumber,n.position.column):this._createMouseTarget(t,e.withTarget(n.hitTarget),!0)}var o=e,r=null;return(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r||qt._hitTestContentWidget(t,o))||qt._hitTestOverlayWidget(t,o))||qt._hitTestMinimap(t,o))||qt._hitTestScrollbarSlider(t,o))||qt._hitTestViewZone(t,o))||qt._hitTestMargin(t,o))||qt._hitTestViewCursor(t,o))||qt._hitTestTextArea(t,o))||qt._hitTestViewLines(t,o,i))||qt._hitTestScrollbar(t,o))||e.fulfill(0)},qt._hitTestContentWidget=function(t,e){if(Pt.isChildOfContentWidgets(e.targetPath)||Pt.isChildOfOverflowingContentWidgets(e.targetPath)){var i=t.findAttribute(e.target,"widgetId");return i?e.fulfill(9,null,null,i):e.fulfill(0)}return null},qt._hitTestOverlayWidget=function(t,e){if(Pt.isChildOfOverlayWidgets(e.targetPath)){var i=t.findAttribute(e.target,"widgetId");return i?e.fulfill(12,null,null,i):e.fulfill(0)}return null},qt._hitTestViewCursor=function(t,e){if(e.target)for(var i=0,n=(r=t.lastViewCursorsRenderData).length;i<n;i++){var o=r[i];if(e.target===o.domNode)return e.fulfill(6,o.position)}if(e.isInContentArea){var r=t.lastViewCursorsRenderData,s=e.mouseContentHorizontalOffset,a=e.mouseVerticalOffset;for(i=0,n=r.length;i<n;i++)if(!(s<(o=r[i]).contentLeft||s>o.contentLeft+o.width)){var l=t.getVerticalOffsetForLineNumber(o.position.lineNumber);if(l<=a&&a<=l+o.height)return e.fulfill(6,o.position)}}return null},qt._hitTestViewZone=function(t,e){var i=t.getZoneAtCoord(e.mouseVerticalOffset);if(i){var n=e.isInContentArea?8:5;return e.fulfill(n,i.position,null,i)}return null},qt._hitTestTextArea=function(t,e){return Pt.isTextArea(e.targetPath)?e.fulfill(1):null},qt._hitTestMargin=function(t,e){if(e.isInMarginArea){var i=t.getFullLineRangeAtCoord(e.mouseVerticalOffset),n=i.range.getStartPosition(),o=Math.abs(e.pos.x-e.editorPos.x),r={isAfterLines:i.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:o};return(o-=t.layoutInfo.glyphMarginLeft)<=t.layoutInfo.glyphMarginWidth?e.fulfill(2,n,i.range,r):(o-=t.layoutInfo.glyphMarginWidth)<=t.layoutInfo.lineNumbersWidth?e.fulfill(3,n,i.range,r):(o-=t.layoutInfo.lineNumbersWidth,e.fulfill(4,n,i.range,r))}return null},qt._hitTestViewLines=function(t,e,i){if(!Pt.isChildOfViewLines(e.targetPath))return null;if(t.isAfterLines(e.mouseVerticalOffset)){var n=t.model.getLineCount(),o=t.model.getLineMaxColumn(n);return e.fulfill(7,new It.a(n,o),void 0,Vt)}if(i){if(Pt.isStrictChildOfViewLines(e.targetPath)){var r=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset);if(0===t.model.getLineLength(r)){var s=t.getLineWidth(r),a=zt(e.mouseContentHorizontalOffset-s);return e.fulfill(7,new It.a(r,1),void 0,a)}}return e.fulfill(0)}var l=qt._doHitTest(t,e);return l.position?qt.createMouseTargetFromHitTestPosition(t,e,l.position.lineNumber,l.position.column):this._createMouseTarget(t,e.withTarget(l.hitTarget),!0)},qt._hitTestMinimap=function(t,e){if(Pt.isChildOfMinimap(e.targetPath)){var i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=t.model.getLineMaxColumn(i);return e.fulfill(11,new It.a(i,n))}return null},qt._hitTestScrollbarSlider=function(t,e){if(Pt.isChildOfScrollableElement(e.targetPath)&&e.target&&1===e.target.nodeType){var i=e.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){var n=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),o=t.model.getLineMaxColumn(n);return e.fulfill(11,new It.a(n,o))}}return null},qt._hitTestScrollbar=function(t,e){if(Pt.isChildOfScrollableElement(e.targetPath)){var i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=t.model.getLineMaxColumn(i);return e.fulfill(11,new It.a(i,n))}return null},qt.prototype.getMouseColumn=function(t,e){var i=this._context.configuration.editor.layoutInfo,n=this._context.viewLayout.getCurrentScrollLeft()+e.x-t.x-i.contentLeft;return qt._getMouseColumn(n,this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)},qt._getMouseColumn=function(t,e){return t<0?1:Math.round(t/e)+1},qt.createMouseTargetFromHitTestPosition=function(t,e,i,n){var o=new It.a(i,n),r=t.getLineWidth(i);if(e.mouseContentHorizontalOffset>r){if(y.g&&1===o.column){var s=zt(e.mouseContentHorizontalOffset-r);return e.fulfill(7,new It.a(i,t.model.getLineMaxColumn(i)),void 0,s)}var a=zt(e.mouseContentHorizontalOffset-r);return e.fulfill(7,o,void 0,a)}var l=t.visibleRangeForPosition2(i,n);if(!l)return e.fulfill(0,o);var u=l.left;if(e.mouseContentHorizontalOffset===u)return e.fulfill(6,o);var h=[];if(h.push({offset:l.left,column:n}),1<n){var c=t.visibleRangeForPosition2(i,n-1);c&&h.push({offset:c.left,column:n-1})}if(n<t.model.getLineMaxColumn(i)){var d=t.visibleRangeForPosition2(i,n+1);d&&h.push({offset:d.left,column:n+1})}h.sort(function(t,e){return t.offset-e.offset});for(var p=1;p<h.length;p++){var f=h[p-1],g=h[p];if(f.offset<=e.mouseContentHorizontalOffset&&e.mouseContentHorizontalOffset<=g.offset){var m=new Nt.a(i,f.column,i,g.column);return e.fulfill(6,o,m)}}return e.fulfill(6,o)},qt._doHitTestWithCaretRangeFromPoint=function(t,e){var i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=t.getVerticalOffsetForLineNumber(i)+Math.floor(t.lineHeight/2),o=e.pos.y+(n-e.mouseVerticalOffset);o<=e.editorPos.y&&(o=e.editorPos.y+1),o>=e.editorPos.y+t.layoutInfo.height&&(o=e.editorPos.y+t.layoutInfo.height-1);var r=new w(e.pos.x,o),s=this._actualDoHitTestWithCaretRangeFromPoint(t,r.toClientCoordinates());return s.position?s:this._actualDoHitTestWithCaretRangeFromPoint(t,e.pos.toClientCoordinates())},qt._actualDoHitTestWithCaretRangeFromPoint=function(t,e){var i=document.caretRangeFromPoint(e.clientX,e.clientY);if(!i||!i.startContainer)return{position:null,hitTarget:null};var n=i.startContainer,o=null;if(n.nodeType===n.TEXT_NODE){var r=(a=(s=n.parentNode)?s.parentNode:null)?a.parentNode:null;if((r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===vt.CLASS_NAME)return{position:t.getPositionFromDOMInfo(s,i.startOffset),hitTarget:null};o=n.parentNode}else if(n.nodeType===n.ELEMENT_NODE){var s,a;if(((a=(s=n.parentNode)?s.parentNode:null)&&a.nodeType===a.ELEMENT_NODE?a.className:null)===vt.CLASS_NAME)return{position:t.getPositionFromDOMInfo(n,n.textContent.length),hitTarget:null};o=n}return{position:null,hitTarget:o}},qt._doHitTestWithCaretPositionFromPoint=function(t,e){var i=document.caretPositionFromPoint(e.clientX,e.clientY);if(i.offsetNode.nodeType!==i.offsetNode.TEXT_NODE)return{position:null,hitTarget:i.offsetNode};var n=i.offsetNode.parentNode,o=n?n.parentNode:null,r=o?o.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)!==vt.CLASS_NAME?{position:null,hitTarget:i.offsetNode.parentNode}:{position:t.getPositionFromDOMInfo(i.offsetNode.parentNode,i.offset),hitTarget:null}},qt._doHitTestWithMoveToPoint=function(t,e){var i=null,n=null,o=document.body.createTextRange();try{o.moveToPoint(e.clientX,e.clientY)}catch(t){return{position:null,hitTarget:null}}o.collapse(!0);var r=o?o.parentElement():null,s=r?r.parentNode:null,a=s?s.parentNode:null;if((a&&a.nodeType===a.ELEMENT_NODE?a.className:"")===vt.CLASS_NAME){var l=o.duplicate();l.moveToElementText(r),l.setEndPoint("EndToStart",o),i=t.getPositionFromDOMInfo(r,l.text.length),l.moveToElementText(t.viewDomNode)}else n=r;return o.moveToElementText(t.viewDomNode),{position:i,hitTarget:n}},qt._doHitTest=function(t,e){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(t,e):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(t,e.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(t,e.pos.toClientCoordinates()):{position:null,hitTarget:null}},qt);function qt(t,e){this._context=t,this._viewHelper=e}var Kt,Gt=i(99),Yt=i(20),$t=(Kt=function(t,e){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Kt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function Zt(n){return function(t,e){var i=!1;return n&&(i=n.mouseTargetIsWidget(e)),i||e.preventDefault(),e}}var Xt,Jt=($t(Qt,Xt=j),Qt.prototype.dispose=function(){this._context.removeEventHandler(this),Xt.prototype.dispose.call(this)},Qt.prototype.onCursorStateChanged=function(t){return this._mouseDownOperation.onCursorStateChanged(t),!1},Qt.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!1},Qt.prototype.onScrollChanged=function(t){return this._mouseDownOperation.onScrollChanged(),!1},Qt.prototype.getTargetAtClientPoint=function(t,e){var i=new S(t,e).toPageCoordinates(),n=O(this.viewHelper.viewDomNode);if(i.y<n.y||i.y>n.y+n.height||i.x<n.x||i.x>n.x+n.width)return null;var o=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(o,n,i,null)},Qt.prototype._createMouseTarget=function(t,e){var i=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(i,t.editorPos,t.pos,e?t.target:null)},Qt.prototype._getMouseColumn=function(t){return this.mouseTargetFactory.getMouseColumn(t.editorPos,t.pos)},Qt.prototype._onContextMenu=function(t,e){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,e)})},Qt.prototype._onMouseMove=function(t){this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})},Qt.prototype._onMouseLeave=function(t){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:t,target:null})},Qt.prototype._onMouseUp=function(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})},Qt.prototype._onMouseDown=function(t){var e=this,i=this._createMouseTarget(t,!0),n=6===i.type||7===i.type,o=2===i.type||3===i.type||4===i.type,r=3===i.type,s=this._context.configuration.editor.viewInfo.selectOnLineNumbers,a=8===i.type||5===i.type,l=9===i.type,u=t.leftButton||t.middleButton;function h(){y.k&&!e._isFocused?e._asyncFocus.schedule():(t.preventDefault(),e.viewHelper.focusTextArea())}if(p.d&&t.leftButton&&t.ctrlKey&&(u=!1),u&&(n||r&&s))h(),this._mouseDownOperation.start(i.type,t);else if(o)t.preventDefault();else if(a){var c=i.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(c.viewZoneId)&&(h(),this._mouseDownOperation.start(i.type,t),t.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(h(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:i})},Qt.MOUSE_MOVE_MINIMUM_TIME=100,Qt);function Qt(t,e,i){var o=Xt.call(this)||this;o._isFocused=!1,o._context=t,o.viewController=e,o.viewHelper=i,o.mouseTargetFactory=new Ut(o._context,i),o._mouseDownOperation=o._register(new ee(o._context,o.viewController,o.viewHelper,function(t,e){return o._createMouseTarget(t,e)},function(t){return o._getMouseColumn(t)})),o._asyncFocus=o._register(new c.d(function(){return o.viewHelper.focusTextArea()},0)),o.lastMouseLeaveTime=-1;var n=new I(o.viewHelper.viewDomNode);o._register(n.onContextMenu(o.viewHelper.viewDomNode,function(t){return o._onContextMenu(t,!0)})),o._register(n.onMouseMoveThrottled(o.viewHelper.viewDomNode,function(t){return o._onMouseMove(t)},Zt(o.mouseTargetFactory),Qt.MOUSE_MOVE_MINIMUM_TIME)),o._register(n.onMouseUp(o.viewHelper.viewDomNode,function(t){return o._onMouseUp(t)})),o._register(n.onMouseLeave(o.viewHelper.viewDomNode,function(t){return o._onMouseLeave(t)})),o._register(n.onMouseDown(o.viewHelper.viewDomNode,function(t){return o._onMouseDown(t)}));function r(t){if(o._context.configuration.editor.viewInfo.mouseWheelZoom){var e=new h.c(t);if(e.browserEvent.ctrlKey||e.browserEvent.metaKey){var i=Gt.a.getZoomLevel(),n=0<e.deltaY?1:-1;Gt.a.setZoomLevel(i+n),e.preventDefault(),e.stopPropagation()}}}return o._register(b.h(o.viewHelper.viewDomNode,"mousewheel",r,!0)),o._register(b.h(o.viewHelper.viewDomNode,"DOMMouseScroll",r,!0)),o._context.addEventHandler(o),o}var te,ee=(te=r.a,$t(ie,te),ie.prototype.dispose=function(){te.prototype.dispose.call(this)},ie.prototype.isActive=function(){return this._isActive},ie.prototype._onMouseDownThenMove=function(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);var e=this._findMousePosition(t,!0);e&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:e}):this._dispatchMouse(e,!0))},ie.prototype.start=function(t,e){var i=this;this._lastMouseEvent=e,this._mouseState.setStartedOnLineNumbers(3===t),this._mouseState.setStartButtons(e),this._mouseState.setModifiers(e);var n=this._findMousePosition(e,!0);if(n&&n.position){if(this._mouseState.trySetCount(e.detail,n.position),e.detail=this._mouseState.count,!this._context.configuration.editor.readOnly&&this._context.configuration.editor.dragAndDrop&&!this._mouseState.altKey&&e.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===n.type&&n.position&&this._currentSelection.containsPosition(n.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(Zt(null),function(t){return i._onMouseDownThenMove(t)},function(){var t=i._findMousePosition(i._lastMouseEvent,!0);i._viewController.emitMouseDrop({event:i._lastMouseEvent,target:t?i._createMouseTarget(i._lastMouseEvent,!0):null}),i._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,e.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(Zt(null),function(t){return i._onMouseDownThenMove(t)},function(){return i._stop()}))}},ie.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},ie.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){if(e._lastMouseEvent){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))}},10)},ie.prototype.onCursorStateChanged=function(t){this._currentSelection=t.selections[0]},ie.prototype._getPositionOutsideEditor=function(t){var e=t.editorPos,i=this._context.model,n=this._context.viewLayout,o=this._getMouseColumn(t);if(t.posy<e.y){var r=Math.max(n.getCurrentScrollTop()-(e.y-t.posy),0);if((a=Ft.getZoneAtCoord(this._context,r))&&(l=this._helpPositionJumpOverViewZone(a)))return new Mt(null,13,o,l);var s=n.getLineNumberAtVerticalOffset(r);return new Mt(null,13,o,new It.a(s,1))}if(t.posy>e.y+e.height){var a,l;if(r=n.getCurrentScrollTop()+(t.posy-e.y),(a=Ft.getZoneAtCoord(this._context,r))&&(l=this._helpPositionJumpOverViewZone(a)))return new Mt(null,13,o,l);var u=n.getLineNumberAtVerticalOffset(r);return new Mt(null,13,o,new It.a(u,i.getLineMaxColumn(u)))}var h=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(t.posy-e.y));return t.posx<e.x?new Mt(null,13,o,new It.a(h,1)):t.posx>e.x+e.width?new Mt(null,13,o,new It.a(h,i.getLineMaxColumn(h))):null},ie.prototype._findMousePosition=function(t,e){var i=this._getPositionOutsideEditor(t);if(i)return i;var n=this._createMouseTarget(t,e);if(!n.position)return null;if(8===n.type||5===n.type){var o=this._helpPositionJumpOverViewZone(n.detail);if(o)return new Mt(n.element,n.type,n.mouseColumn,o,null,n.detail)}return n},ie.prototype._helpPositionJumpOverViewZone=function(t){var e=new It.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=t.positionBefore,n=t.positionAfter;return i&&n?i.isBefore(e)?i:n:null},ie.prototype._dispatchMouse=function(t,e){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:e,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},ie);function ie(t,e,i,n,o){var r=te.call(this)||this;return r._context=t,r._viewController=e,r._viewHelper=i,r._createMouseTarget=n,r._getMouseColumn=o,r._mouseMoveMonitor=r._register(new M(r._viewHelper.viewDomNode)),r._onScrollTimeout=r._register(new c.e),r._mouseState=new ne,r._currentSelection=new Yt.a(1,1,1,1),r._isActive=!1,r._lastMouseEvent=null,r}var ne=(Object.defineProperty(oe.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),oe.prototype.setModifiers=function(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey},oe.prototype.setStartButtons=function(t){this._leftButton=t.leftButton,this._middleButton=t.middleButton},oe.prototype.setStartedOnLineNumbers=function(t){this._startedOnLineNumbers=t},oe.prototype.trySetCount=function(t,e){var i=(new Date).getTime();i-this._lastSetMouseDownCountTime>oe.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=i,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(e)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=e,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)},oe.CLEAR_MOUSE_DOWN_COUNT_TIME=400,oe);function oe(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}var re,se=(re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function ae(t,e){var i={translationY:e.translationY,translationX:e.translationX};return t&&(i.translationY+=t.translationY,i.translationX+=t.translationX),i}var le,ue=(se(he,le=Jt),he.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&le.prototype._onMouseDown.call(this,t)},he.prototype._onCaptureGestureTap=function(t){var e=this,i=new L(t,this.viewHelper.viewDomNode),n=this._createMouseTarget(i,!1);n.position&&this.viewController.moveTo(n.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){e.viewHelper.focusTextArea()})},he.prototype._onGestureChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},he.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),le.prototype.dispose.call(this)},he);function he(t,e,i){var o=le.call(this,t,e,i)||this;return o.viewHelper.linesContentDomNode.style.msTouchAction="none",o.viewHelper.linesContentDomNode.style.msContentZooming="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var i=new MSGesture,n=new MSGesture;i.target=o.viewHelper.linesContentDomNode,n.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(t){var e=t.pointerType;e!==(t.MSPOINTER_TYPE_MOUSE||"mouse")?e===(t.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",i.addPointer(t.pointerId)):(o._lastPointerType="pen",n.addPointer(t.pointerId)):o._lastPointerType="mouse"}),o._register(b.j(o.viewHelper.linesContentDomNode,"MSGestureChange",function(t){return o._onGestureChange(t)},ae)),o._register(b.h(o.viewHelper.linesContentDomNode,"MSGestureTap",function(t){return o._onCaptureGestureTap(t)},!0))}},100),o._lastPointerType="mouse",o}var ce,de=(se(pe,ce=Jt),pe.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&ce.prototype._onMouseDown.call(this,t)},pe.prototype._onCaptureGestureTap=function(t){var e=this,i=new L(t,this.viewHelper.viewDomNode),n=this._createMouseTarget(i,!1);n.position&&this.viewController.moveTo(n.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){e.viewHelper.focusTextArea()})},pe.prototype._onGestureChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},pe.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),ce.prototype.dispose.call(this)},pe);function pe(t,e,i){var o=ce.call(this,t,e,i)||this;return o.viewHelper.linesContentDomNode.style.touchAction="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var i=new MSGesture,n=new MSGesture;i.target=o.viewHelper.linesContentDomNode,n.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(t){var e=t.pointerType;"mouse"!==e?"touch"===e?(o._lastPointerType="touch",i.addPointer(t.pointerId)):(o._lastPointerType="pen",n.addPointer(t.pointerId)):o._lastPointerType="mouse"}),o._register(b.j(o.viewHelper.linesContentDomNode,"MSGestureChange",function(t){return o._onGestureChange(t)},ae)),o._register(b.h(o.viewHelper.linesContentDomNode,"MSGestureTap",function(t){return o._onCaptureGestureTap(t)},!0))}},100),o._lastPointerType="mouse",o}var fe,ge=(se(me,fe=Jt),me.prototype.dispose=function(){fe.prototype.dispose.call(this)},me.prototype.onTap=function(t){t.preventDefault(),this.viewHelper.focusTextArea();var e=this._createMouseTarget(new L(t,this.viewHelper.viewDomNode),!1);e.position&&this.viewController.moveTo(e.position)},me.prototype.onChange=function(t){this._context.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)},me);function me(t,e,i){var n=fe.call(this,t,e,i)||this;return u.b.addTarget(n.viewHelper.linesContentDomNode),n._register(b.h(n.viewHelper.linesContentDomNode,u.a.Tap,function(t){return n.onTap(t)})),n._register(b.h(n.viewHelper.linesContentDomNode,u.a.Change,function(t){return n.onChange(t)})),n._register(b.h(n.viewHelper.linesContentDomNode,u.a.Contextmenu,function(t){return n._onContextMenu(new L(t,n.viewHelper.viewDomNode),!1)})),n}var ve=(ye.prototype.getTargetAtClientPoint=function(t,e){return this.handler.getTargetAtClientPoint(t,e)},ye.prototype.dispose=function(){this.handler.dispose()},ye);function ye(t,e,i){window.navigator.msPointerEnabled?this.handler=new ue(t,e,i):window.TouchEvent?this.handler=new ge(t,e,i):window.navigator.pointerEnabled||window.PointerEvent?this.handler=new de(t,e,i):this.handler=new Jt(t,e,i)}i(286);var _e,be,we=i(8),Ce=i(158),Se=i(90),xe=(i(287),(_e=function(t,e){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}_e(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(ke,be=j),ke);function ke(){return null!==be&&be.apply(this,arguments)||this}var Oe,Ee,Le=i(28),De=((Oe=function(t,e){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Oe(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Ie,Ee=xe),Ie.prototype._readConfig=function(){var t=this._context.configuration.editor;this._lineHeight=t.lineHeight,this._renderLineNumbers=t.viewInfo.renderLineNumbers,this._renderCustomLineNumbers=t.viewInfo.renderCustomLineNumbers,this._lineNumbersLeft=t.layoutInfo.lineNumbersLeft,this._lineNumbersWidth=t.layoutInfo.lineNumbersWidth},Ie.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,Ee.prototype.dispose.call(this)},Ie.prototype.onConfigurationChanged=function(t){return this._readConfig(),!0},Ie.prototype.onCursorStateChanged=function(t){var e=t.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(e),2===this._renderLineNumbers||3===this._renderLineNumbers},Ie.prototype.onFlushed=function(t){return!0},Ie.prototype.onLinesChanged=function(t){return!0},Ie.prototype.onLinesDeleted=function(t){return!0},Ie.prototype.onLinesInserted=function(t){return!0},Ie.prototype.onScrollChanged=function(t){return t.scrollTopChanged},Ie.prototype.onZonesChanged=function(t){return!0},Ie.prototype._getLineRenderLineNumber=function(t){var e=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new It.a(t,1));if(1!==e.column)return"";var i=e.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2!==this._renderLineNumbers)return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i?String(i):i%10==0?String(i):"":String(i);var n=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===n?'<span class="relative-current-line-number">'+i+"</span>":String(n)},Ie.prototype.prepareRender=function(t){if(0!==this._renderLineNumbers){for(var e=p.c?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber,o='<div class="'+Ie.CLASS_NAME+e+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',r=[],s=i;s<=n;s++){var a=s-i,l=this._getLineRenderLineNumber(s);r[a]=l?o+l+"</div>":""}this._renderResult=r}else this._renderResult=null},Ie.prototype.render=function(t,e){if(!this._renderResult)return"";var i=e-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},Ie.CLASS_NAME="line-numbers",Ie);function Ie(t){var e=Ee.call(this)||this;return e._context=t,e._readConfig(),e._lastCursorModelPosition=new It.a(1,1),e._renderResult=null,e._context.addEventHandler(e),e}Object(ut.e)(function(t,e){var i=t.getColor(Le.q);i&&e.addRule(".monaco-editor .line-numbers { color: "+i+"; }");var n=t.getColor(Le.b);n&&e.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+n+"; }")});var Ne,Te,Me=((Ne=function(t,e){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ne(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Ae,Te=V),Ae.prototype.dispose=function(){Te.prototype.dispose.call(this)},Ae.prototype.getDomNode=function(){return this._domNode},Ae.prototype._createDomNode=function(){var t=Object(l.b)(document.createElement("div"));return t.setClassName(Ae.OUTER_CLASS_NAME),t.setPosition("absolute"),t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Object(l.b)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Ae.CLASS_NAME),t.appendChild(this._glyphMarginBackgroundDomNode),t},Ae.prototype.onConfigurationChanged=function(t){return t.canUseLayerHinting&&(this._canUseLayerHinting=this._context.configuration.editor.canUseLayerHinting),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},Ae.prototype.onScrollChanged=function(t){return Te.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},Ae.prototype.prepareRender=function(t){},Ae.prototype.render=function(t){this._domNode.setLayerHinting(this._canUseLayerHinting);var e=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-e);var i=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)},Ae.CLASS_NAME="glyph-margin",Ae.OUTER_CLASS_NAME="margin",Ae);function Ae(t){var e=Te.call(this,t)||this;return e._canUseLayerHinting=e._context.configuration.editor.canUseLayerHinting,e._contentLeft=e._context.configuration.editor.layoutInfo.contentLeft,e._glyphMarginLeft=e._context.configuration.editor.layoutInfo.glyphMarginLeft,e._glyphMarginWidth=e._context.configuration.editor.layoutInfo.glyphMarginWidth,e._domNode=e._createDomNode(),e}var Pe,Re,Fe=i(103),je=(Pe=function(t,e){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Be=function(t){this.type=1,this.canUseLayerHinting=t.canUseLayerHinting,this.pixelRatio=t.pixelRatio,this.editorClassName=t.editorClassName,this.lineHeight=t.lineHeight,this.readOnly=t.readOnly,this.accessibilitySupport=t.accessibilitySupport,this.emptySelectionClipboard=t.emptySelectionClipboard,this.copyWithSyntaxHighlighting=t.copyWithSyntaxHighlighting,this.layoutInfo=t.layoutInfo,this.fontInfo=t.fontInfo,this.viewInfo=t.viewInfo,this.wrappingInfo=t.wrappingInfo},He=function(t){this.type=2,this.selections=t},We=function(){this.type=3},Ve=function(){this.type=4},ze=function(t){this.type=5,this.isFocused=t},Ue=function(){this.type=6},qe=function(t,e){this.type=7,this.fromLineNumber=t,this.toLineNumber=e},Ke=function(t,e){this.type=8,this.fromLineNumber=t,this.toLineNumber=e},Ge=function(t,e){this.type=9,this.fromLineNumber=t,this.toLineNumber=e},Ye=function(t,e,i,n){this.type=10,this.range=t,this.verticalType=e,this.revealHorizontal=i,this.scrollType=n},$e=function(t){this.type=11,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged},Ze=function(t){this.type=12,this.ranges=t},Xe=function(){this.type=15},Je=function(){this.type=13},Qe=function(){this.type=14},ti=function(){this.type=16},ei=(Re=r.a,je(ii,Re),ii.prototype.dispose=function(){this._listeners=[],Re.prototype.dispose.call(this)},ii.prototype._beginEmit=function(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new ni),this._collector},ii.prototype._endEmit=function(){if(this._collectorCnt--,0===this._collectorCnt){var t=this._collector.finalize();this._collector=null,0<t.length&&this._emit(t)}},ii.prototype._emit=function(t){for(var e=this._listeners.slice(0),i=0,n=e.length;i<n;i++)ri(e[i],t)},ii.prototype.addEventListener=function(n){var o=this;return this._listeners.push(n),Object(r.f)(function(){for(var t=o._listeners,e=0,i=t.length;e<i;e++)if(t[e]===n){t.splice(e,1);break}})},ii);function ii(){var t=Re.call(this)||this;return t._listeners=[],t._collector=null,t._collectorCnt=0,t}var ni=(oi.prototype.emit=function(t){this._events[this._eventsLen++]=t},oi.prototype.finalize=function(){var t=this._events;return this._events=[],t},oi);function oi(){this._eventsLen=0,this._events=[],this._eventsLen=0}function ri(t,e){try{t(e)}catch(t){g.e(t)}}var si,ai=(si=function(t,e){return(si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}si(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),li=(ui.prototype.setWidth=function(t){return new ui(this.top,this.left,t)},ui);function ui(t,e,i){this.top=t,this.left=e,this.width=i}var hi=y.h||y.j,ci=(di.prototype.set=function(t){this._lastState=t},di.prototype.get=function(t){return this._lastState&&this._lastState.lastCopiedValue===t?this._lastState:this._lastState=null},di.INSTANCE=new di,di);function di(){this._lastState=null}var pi,fi=(ai(gi,pi=V),gi.prototype.dispose=function(){pi.prototype.dispose.call(this)},gi.prototype._getWordBeforePosition=function(t){for(var e=this._context.model.getLineContent(t.lineNumber),i=Object(Fe.a)(this._context.configuration.editor.wordSeparators),n=t.column,o=0;1<n;){var r=e.charCodeAt(n-2);if(0!==i.get(r)||50<o)return e.substring(n-1,t.column-1);o++,n--}return e.substring(0,t.column-1)},gi.prototype._getCharacterBeforePosition=function(t){if(1<t.column){var e=this._context.model.getLineContent(t.lineNumber).charAt(t.column-2);if(!we.u(e.charCodeAt(0)))return e}return""},gi.prototype.onConfigurationChanged=function(t){var e=this._context.configuration.editor;return t.fontInfo&&(this._fontInfo=e.fontInfo),t.viewInfo&&this.textArea.setAttribute("aria-label",e.viewInfo.ariaLabel),t.layoutInfo&&(this._contentLeft=e.layoutInfo.contentLeft,this._contentWidth=e.layoutInfo.contentWidth,this._contentHeight=e.layoutInfo.contentHeight),t.lineHeight&&(this._lineHeight=e.lineHeight),t.accessibilitySupport&&(this._accessibilitySupport=e.accessibilitySupport,this._textAreaInput.writeScreenReaderContent("strategy changed")),t.emptySelectionClipboard&&(this._emptySelectionClipboard=e.emptySelectionClipboard),t.copyWithSyntaxHighlighting&&(this._copyWithSyntaxHighlighting=e.copyWithSyntaxHighlighting),!0},gi.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},gi.prototype.onDecorationsChanged=function(t){return!0},gi.prototype.onFlushed=function(t){return!0},gi.prototype.onLinesChanged=function(t){return!0},gi.prototype.onLinesDeleted=function(t){return!0},gi.prototype.onLinesInserted=function(t){return!0},gi.prototype.onScrollChanged=function(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0},gi.prototype.onZonesChanged=function(t){return!0},gi.prototype.isFocused=function(){return this._textAreaInput.isFocused()},gi.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},gi.prototype.prepareRender=function(t){if(2===this._accessibilitySupport)this._primaryCursorVisibleRange=null;else{var e=new It.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=t.visibleRangeForPosition(e)}},gi.prototype.render=function(t){this._textAreaInput.writeScreenReaderContent("render"),this._render()},gi.prototype._render=function(){if(this._visibleTextArea)this._renderInsideEditor(this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight,!0);else if(this._primaryCursorVisibleRange){var t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var e=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;e<0||e>this._contentHeight?this._renderAtTopLeft():this._renderInsideEditor(e,t,hi?0:1,hi?0:1,!1)}}else this._renderAtTopLeft()},gi.prototype._renderInsideEditor=function(t,e,i,n,o){var r=this.textArea,s=this.textAreaCover;o?a.a.applyFontInfo(r,this._fontInfo):(r.setFontSize(1),r.setLineHeight(this._fontInfo.lineHeight)),r.setTop(t),r.setLeft(e),r.setWidth(i),r.setHeight(n),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)},gi.prototype._renderAtTopLeft=function(){var t=this.textArea,e=this.textAreaCover;if(a.a.applyFontInfo(t,this._fontInfo),t.setTop(0),t.setLeft(0),e.setTop(0),e.setLeft(0),hi)return t.setWidth(0),t.setHeight(0),e.setWidth(0),void e.setHeight(0);t.setWidth(1),t.setHeight(1),e.setWidth(1),e.setHeight(1),this._context.configuration.editor.viewInfo.glyphMargin?e.setClassName("monaco-editor-background textAreaCover "+Me.OUTER_CLASS_NAME):0!==this._context.configuration.editor.viewInfo.renderLineNumbers?e.setClassName("monaco-editor-background textAreaCover "+De.CLASS_NAME):e.setClassName("monaco-editor-background textAreaCover")},gi);function gi(t,e,i){var s=pi.call(this,t)||this;s._primaryCursorVisibleRange=null,s._viewController=e,s._viewHelper=i;var n=s._context.configuration.editor;s._accessibilitySupport=n.accessibilitySupport,s._contentLeft=n.layoutInfo.contentLeft,s._contentWidth=n.layoutInfo.contentWidth,s._contentHeight=n.layoutInfo.contentHeight,s._scrollLeft=0,s._scrollTop=0,s._fontInfo=n.fontInfo,s._lineHeight=n.lineHeight,s._emptySelectionClipboard=n.emptySelectionClipboard,s._copyWithSyntaxHighlighting=n.copyWithSyntaxHighlighting,s._visibleTextArea=null,s._selections=[new Yt.a(1,1,1,1)],s.textArea=Object(l.b)(document.createElement("textarea")),U.write(s.textArea,6),s.textArea.setClassName("inputarea"),s.textArea.setAttribute("wrap","off"),s.textArea.setAttribute("autocorrect","off"),s.textArea.setAttribute("autocapitalize","off"),s.textArea.setAttribute("autocomplete","off"),s.textArea.setAttribute("spellcheck","false"),s.textArea.setAttribute("aria-label",n.viewInfo.ariaLabel),s.textArea.setAttribute("role","textbox"),s.textArea.setAttribute("aria-multiline","true"),s.textArea.setAttribute("aria-haspopup","false"),s.textArea.setAttribute("aria-autocomplete","both"),s.textAreaCover=Object(l.b)(document.createElement("div")),s.textAreaCover.setPosition("absolute");var o={getLineCount:function(){return s._context.model.getLineCount()},getLineMaxColumn:function(t){return s._context.model.getLineMaxColumn(t)},getValueInRange:function(t,e){return s._context.model.getValueInRange(t,e)}},r={getPlainTextToCopy:function(){var t=s._context.model.getPlainTextToCopy(s._selections,s._emptySelectionClipboard,p.g),e=s._context.model.getEOL(),i=s._emptySelectionClipboard&&1===s._selections.length&&s._selections[0].isEmpty(),n=Array.isArray(t)?t:null,o=Array.isArray(t)?t.join(e):t,r=null;(i||n)&&(r={lastCopiedValue:y.j?o.replace(/\r\n/g,"\n"):o,isFromEmptySelection:s._emptySelectionClipboard&&1===s._selections.length&&s._selections[0].isEmpty(),multicursorText:n});return ci.INSTANCE.set(r),o},getHTMLToCopy:function(){return s._copyWithSyntaxHighlighting||Ce.a.forceCopyWithSyntaxHighlighting?s._context.model.getHTMLToCopy(s._selections,s._emptySelectionClipboard):null},getScreenReaderContent:function(t){if(y.l)return Se.b.EMPTY;if(1!==s._accessibilitySupport)return Se.a.fromEditorSelection(t,o,s._selections[0],0===s._accessibilitySupport);if(p.d){var e=s._selections[0];if(e.isEmpty()){var i=e.getStartPosition(),n=s._getWordBeforePosition(i);if(0===n.length&&(n=s._getCharacterBeforePosition(i)),0<n.length)return new Se.b(n,n.length,n.length,i,i)}}return Se.b.EMPTY},deduceModelPosition:function(t,e,i){return s._context.model.deduceModelPositionRelativeToViewPosition(t,e,i)}};return s._textAreaInput=s._register(new Ce.b(r,s.textArea)),s._register(s._textAreaInput.onKeyDown(function(t){s._viewController.emitKeyDown(t)})),s._register(s._textAreaInput.onKeyUp(function(t){s._viewController.emitKeyUp(t)})),s._register(s._textAreaInput.onPaste(function(t){var e=ci.INSTANCE.get(t.text),i=!1,n=null;e&&(i=s._emptySelectionClipboard&&e.isFromEmptySelection,n=e.multicursorText),s._viewController.paste("keyboard",t.text,i,n)})),s._register(s._textAreaInput.onCut(function(){s._viewController.cut("keyboard")})),s._register(s._textAreaInput.onType(function(t){t.replaceCharCnt?s._viewController.replacePreviousChar("keyboard",t.text,t.replaceCharCnt):s._viewController.type("keyboard",t.text)})),s._register(s._textAreaInput.onSelectionChangeRequest(function(t){s._viewController.setSelection("keyboard",t)})),s._register(s._textAreaInput.onCompositionStart(function(){var t=s._selections[0].startLineNumber,e=s._selections[0].startColumn;s._context.privateViewEventBus.emit(new Ye(new Nt.a(t,e,t,e),0,!0,1));var i=s._viewHelper.visibleRangeForPositionRelativeToEditor(t,e);i&&(s._visibleTextArea=new li(s._context.viewLayout.getVerticalOffsetForLineNumber(t),i.left,hi?0:1),s._render()),s.textArea.setClassName("inputarea ime-input"),s._viewController.compositionStart("keyboard")})),s._register(s._textAreaInput.onCompositionUpdate(function(t){y.h?s._visibleTextArea=s._visibleTextArea.setWidth(0):s._visibleTextArea=s._visibleTextArea.setWidth(function(t,e){var i=document.createElement("canvas").getContext("2d");i.font=function(t){return function(t,e,i,n,o){return t+" normal "+e+" "+i+"px / "+n+"px "+o}("normal",t.fontWeight,t.fontSize,t.lineHeight,t.fontFamily)}(e);var n=i.measureText(t);return y.j?n.width+2:n.width}(t.data,s._fontInfo)),s._render()})),s._register(s._textAreaInput.onCompositionEnd(function(){s._visibleTextArea=null,s._render(),s.textArea.setClassName("inputarea"),s._viewController.compositionEnd("keyboard")})),s._register(s._textAreaInput.onFocus(function(){s._context.privateViewEventBus.emit(new ze(!0))})),s._register(s._textAreaInput.onBlur(function(){s._context.privateViewEventBus.emit(new ze(!1))})),s}var mi=i(71),vi=(yi.prototype._execMouseCommand=function(t,e){e.source="mouse",this.commandDelegate.executeEditorCommand(t,e)},yi.prototype.paste=function(t,e,i,n){this.commandDelegate.paste(t,e,i,n)},yi.prototype.type=function(t,e){this.commandDelegate.type(t,e)},yi.prototype.replacePreviousChar=function(t,e,i){this.commandDelegate.replacePreviousChar(t,e,i)},yi.prototype.compositionStart=function(t){this.commandDelegate.compositionStart(t)},yi.prototype.compositionEnd=function(t){this.commandDelegate.compositionEnd(t)},yi.prototype.cut=function(t){this.commandDelegate.cut(t)},yi.prototype.setSelection=function(t,e){this.commandDelegate.executeEditorCommand(mi.CoreNavigationCommands.SetSelection,{source:t,selection:e})},yi.prototype._validateViewColumn=function(t){var e=this.viewModel.getLineMinColumn(t.lineNumber);return t.column<e?new It.a(t.lineNumber,e):t},yi.prototype._hasMulticursorModifier=function(t){switch(this.configuration.editor.multiCursorModifier){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey}return!1},yi.prototype._hasNonMulticursorModifier=function(t){switch(this.configuration.editor.multiCursorModifier){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey}return!1},yi.prototype.dispatchMouse=function(t){t.middleButton?t.inSelectionMode?this.columnSelect(t.position,t.mouseColumn):this.moveTo(t.position):t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this.lastCursorLineSelect(t.position):this.createCursor(t.position,!0):t.inSelectionMode?this.lineSelectDrag(t.position):this.lineSelect(t.position):4<=t.mouseDownCount?this.selectAll():3===t.mouseDownCount?this._hasMulticursorModifier(t)?t.inSelectionMode?this.lastCursorLineSelectDrag(t.position):this.lastCursorLineSelect(t.position):t.inSelectionMode?this.lineSelectDrag(t.position):this.lineSelect(t.position):2===t.mouseDownCount?this._hasMulticursorModifier(t)?this.lastCursorWordSelect(t.position):t.inSelectionMode?this.wordSelectDrag(t.position):this.wordSelect(t.position):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this.columnSelect(t.position,t.mouseColumn):t.inSelectionMode?this.lastCursorMoveToSelect(t.position):this.createCursor(t.position,!1)):t.inSelectionMode?this.moveToSelect(t.position):this.moveTo(t.position)},yi.prototype._usualArgs=function(t){return t=this._validateViewColumn(t),{position:this.convertViewToModelPosition(t),viewPosition:t}},yi.prototype.moveTo=function(t){this._execMouseCommand(mi.CoreNavigationCommands.MoveTo,this._usualArgs(t))},yi.prototype.moveToSelect=function(t){this._execMouseCommand(mi.CoreNavigationCommands.MoveToSelect,this._usualArgs(t))},yi.prototype.columnSelect=function(t,e){t=this._validateViewColumn(t),this._execMouseCommand(mi.CoreNavigationCommands.ColumnSelect,{position:this.convertViewToModelPosition(t),viewPosition:t,mouseColumn:e})},yi.prototype.createCursor=function(t,e){t=this._validateViewColumn(t),this._execMouseCommand(mi.CoreNavigationCommands.CreateCursor,{position:this.convertViewToModelPosition(t),viewPosition:t,wholeLine:e})},yi.prototype.lastCursorMoveToSelect=function(t){this._execMouseCommand(mi.CoreNavigationCommands.LastCursorMoveToSelect,this._usualArgs(t))},yi.prototype.wordSelect=function(t){this._execMouseCommand(mi.CoreNavigationCommands.WordSelect,this._usualArgs(t))},yi.prototype.wordSelectDrag=function(t){this._execMouseCommand(mi.CoreNavigationCommands.WordSelectDrag,this._usualArgs(t))},yi.prototype.lastCursorWordSelect=function(t){this._execMouseCommand(mi.CoreNavigationCommands.LastCursorWordSelect,this._usualArgs(t))},yi.prototype.lineSelect=function(t){this._execMouseCommand(mi.CoreNavigationCommands.LineSelect,this._usualArgs(t))},yi.prototype.lineSelectDrag=function(t){this._execMouseCommand(mi.CoreNavigationCommands.LineSelectDrag,this._usualArgs(t))},yi.prototype.lastCursorLineSelect=function(t){this._execMouseCommand(mi.CoreNavigationCommands.LastCursorLineSelect,this._usualArgs(t))},yi.prototype.lastCursorLineSelectDrag=function(t){this._execMouseCommand(mi.CoreNavigationCommands.LastCursorLineSelectDrag,this._usualArgs(t))},yi.prototype.selectAll=function(){this._execMouseCommand(mi.CoreNavigationCommands.SelectAll,{})},yi.prototype.convertViewToModelPosition=function(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)},yi.prototype.emitKeyDown=function(t){this.outgoingEvents.emitKeyDown(t)},yi.prototype.emitKeyUp=function(t){this.outgoingEvents.emitKeyUp(t)},yi.prototype.emitContextMenu=function(t){this.outgoingEvents.emitContextMenu(t)},yi.prototype.emitMouseMove=function(t){this.outgoingEvents.emitMouseMove(t)},yi.prototype.emitMouseLeave=function(t){this.outgoingEvents.emitMouseLeave(t)},yi.prototype.emitMouseUp=function(t){this.outgoingEvents.emitMouseUp(t)},yi.prototype.emitMouseDown=function(t){this.outgoingEvents.emitMouseDown(t)},yi.prototype.emitMouseDrag=function(t){this.outgoingEvents.emitMouseDrag(t)},yi.prototype.emitMouseDrop=function(t){this.outgoingEvents.emitMouseDrop(t)},yi);function yi(t,e,i,n){this.configuration=t,this.viewModel=e,this.outgoingEvents=i,this.commandDelegate=n}var _i=i(151),bi=(wi.prototype.flush=function(){this._set(1,[])},wi.prototype._set=function(t,e){this._lines=e,this._rendLineNumberStart=t},wi.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},wi.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},wi.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},wi.prototype.getCount=function(){return this._lines.length},wi.prototype.getLine=function(t){var e=t-this._rendLineNumberStart;if(e<0||e>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[e]},wi.prototype.onLinesDeleted=function(t,e){if(0===this.getCount())return null;var i=this.getStartLineNumber(),n=this.getEndLineNumber();if(e<i){var o=e-t+1;return this._rendLineNumberStart-=o,null}if(n<t)return null;for(var r=0,s=0,a=i;a<=n;a++){var l=a-this._rendLineNumberStart;t<=a&&a<=e&&(0===s?(r=l,s=1):s++)}if(t<i){var u=0;u=e<i?e-t+1:i-t,this._rendLineNumberStart-=u}return this._lines.splice(r,s)},wi.prototype.onLinesChanged=function(t,e){if(0===this.getCount())return!1;for(var i=this.getStartLineNumber(),n=this.getEndLineNumber(),o=!1,r=t;r<=e;r++)i<=r&&r<=n&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),o=!0);return o},wi.prototype.onLinesInserted=function(t,e){if(0===this.getCount())return null;var i=e-t+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(t<=n)return this._rendLineNumberStart+=i,null;if(o<t)return null;if(o<i+t)return this._lines.splice(t-this._rendLineNumberStart,o-t+1);for(var r=[],s=0;s<i;s++)r[s]=this._createLine();var a=t-this._rendLineNumberStart,l=this._lines.slice(0,a),u=this._lines.slice(a,this._lines.length-i),h=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(r).concat(u),h},wi.prototype.onTokensChanged=function(t){if(0===this.getCount())return!1;for(var e=this.getStartLineNumber(),i=this.getEndLineNumber(),n=!1,o=0,r=t.length;o<r;o++){var s=t[o];if(!(s.toLineNumber<e||s.fromLineNumber>i))for(var a=Math.max(e,s.fromLineNumber),l=Math.min(i,s.toLineNumber),u=a;u<=l;u++){var h=u-this._rendLineNumberStart;this._lines[h].onTokensChanged(),n=!0}}return n},wi);function wi(t){this._createLine=t,this._set(1,[])}var Ci=(Si.prototype._createDomNode=function(){var t=Object(l.b)(document.createElement("div"));return t.setClassName("view-layer"),t.setPosition("absolute"),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t},Si.prototype.onConfigurationChanged=function(t){return t.layoutInfo},Si.prototype.onFlushed=function(t){return this._linesCollection.flush(),!0},Si.prototype.onLinesChanged=function(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.toLineNumber)},Si.prototype.onLinesDeleted=function(t){var e=this._linesCollection.onLinesDeleted(t.fromLineNumber,t.toLineNumber);if(e)for(var i=0,n=e.length;i<n;i++){var o=e[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},Si.prototype.onLinesInserted=function(t){var e=this._linesCollection.onLinesInserted(t.fromLineNumber,t.toLineNumber);if(e)for(var i=0,n=e.length;i<n;i++){var o=e[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},Si.prototype.onScrollChanged=function(t){return t.scrollTopChanged},Si.prototype.onTokensChanged=function(t){return this._linesCollection.onTokensChanged(t.ranges)},Si.prototype.onZonesChanged=function(t){return!0},Si.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},Si.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},Si.prototype.getVisibleLine=function(t){return this._linesCollection.getLine(t)},Si.prototype.renderLines=function(t){var e=this._linesCollection._get(),i=new xi(this.domNode.domNode,this._host,t),n={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines,linesLength:e.lines.length},o=i.render(n,t.startLineNumber,t.endLineNumber,t.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)},Si);function Si(t){var e=this;this._host=t,this.domNode=this._createDomNode(),this._linesCollection=new bi(function(){return e._host.createVisibleLine()})}var xi=(ki.prototype.render=function(t,e,i,n){var o={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines.slice(0),linesLength:t.linesLength};if(o.rendLineNumberStart+o.linesLength-1<e||i<o.rendLineNumberStart){o.rendLineNumberStart=e,o.linesLength=i-e+1,o.lines=[];for(var r=e;r<=i;r++)o.lines[r-e]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(e-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,e),o.rendLineNumberStart>e?(l=e)<=(s=Math.min(i,o.rendLineNumberStart-1))&&(this._insertLinesBefore(o,l,s,n,e),o.linesLength+=s-l+1):o.rendLineNumberStart<e&&0<(a=Math.min(o.linesLength,e-o.rendLineNumberStart))&&(this._removeLinesBefore(o,a),o.linesLength-=a),o.rendLineNumberStart=e,o.rendLineNumberStart+o.linesLength-1<i)(l=o.rendLineNumberStart+o.linesLength)<=(s=i)&&(this._insertLinesAfter(o,l,s,n,e),o.linesLength+=s-l+1);else if(o.rendLineNumberStart+o.linesLength-1>i){var s,a,l=Math.max(0,i-o.rendLineNumberStart+1);0<(a=(s=o.linesLength-1)-l+1)&&(this._removeLinesAfter(o,a),o.linesLength-=a)}return this._finishRendering(o,!1,n),o},ki.prototype._renderUntouchedLines=function(t,e,i,n,o){for(var r=t.rendLineNumberStart,s=t.lines,a=e;a<=i;a++){var l=r+a;s[a].layoutLine(l,n[l-o])}},ki.prototype._insertLinesBefore=function(t,e,i,n,o){for(var r=[],s=0,a=e;a<=i;a++)r[s++]=this.host.createVisibleLine();t.lines=r.concat(t.lines)},ki.prototype._removeLinesBefore=function(t,e){for(var i=0;i<e;i++){var n=t.lines[i].getDomNode();n&&this.domNode.removeChild(n)}t.lines.splice(0,e)},ki.prototype._insertLinesAfter=function(t,e,i,n,o){for(var r=[],s=0,a=e;a<=i;a++)r[s++]=this.host.createVisibleLine();t.lines=t.lines.concat(r)},ki.prototype._removeLinesAfter=function(t,e){for(var i=t.linesLength-e,n=0;n<e;n++){var o=t.lines[i+n].getDomNode();o&&this.domNode.removeChild(o)}t.lines.splice(i,e)},ki.prototype._finishRenderingNewLines=function(t,e,i,n){var o=this.domNode.lastChild;e||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);for(var r=this.domNode.lastChild,s=t.linesLength-1;0<=s;s--){var a=t.lines[s];n[s]&&(a.setDomNode(r),r=r.previousSibling)}},ki.prototype._finishRenderingInvalidLines=function(t,e,i){var n=document.createElement("div");n.innerHTML=e;for(var o=0;o<t.linesLength;o++){var r=t.lines[o];if(i[o]){var s=n.firstChild,a=r.getDomNode();a.parentNode.replaceChild(s,a),r.setDomNode(s)}}},ki.prototype._finishRendering=function(t,e,i){var n=ki._sb,o=t.linesLength,r=t.lines,s=t.rendLineNumberStart,a=[];n.reset();for(var l=!1,u=0;u<o;u++){var h=r[u];a[u]=!1,h.getDomNode()||h.renderLine(u+s,i[u],this.viewportData,n)&&(l=a[u]=!0)}l&&this._finishRenderingNewLines(t,e,n.build(),a),n.reset();var c=!1,d=[];for(u=0;u<o;u++)h=r[u],d[u]=!1,a[u]||h.renderLine(u+s,i[u],this.viewportData,n)&&(c=d[u]=!0);c&&this._finishRenderingInvalidLines(t,n.build(),d)},ki._sb=Object(_i.a)(1e5),ki);function ki(t,e,i){this.domNode=t,this.host=e,this.viewportData=i}var Oi,Ei,Li=(Oi=function(t,e){return(Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Oi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Di=(Li(Ii,Ei=V),Ii.prototype.shouldRender=function(){if(Ei.prototype.shouldRender.call(this))return!0;for(var t=0,e=this._dynamicOverlays.length;t<e;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1},Ii.prototype.dispose=function(){Ei.prototype.dispose.call(this);for(var t=0,e=this._dynamicOverlays.length;t<e;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]},Ii.prototype.getDomNode=function(){return this.domNode},Ii.prototype.createVisibleLine=function(){return new Ni(this._context.configuration,this._dynamicOverlays)},Ii.prototype.addDynamicOverlay=function(t){this._dynamicOverlays.push(t)},Ii.prototype.onConfigurationChanged=function(t){this._visibleLines.onConfigurationChanged(t);for(var e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=e;n<=i;n++)this._visibleLines.getVisibleLine(n).onConfigurationChanged(t);return!0},Ii.prototype.onFlushed=function(t){return this._visibleLines.onFlushed(t)},Ii.prototype.onFocusChanged=function(t){return this._isFocused=t.isFocused,!0},Ii.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)},Ii.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)},Ii.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)},Ii.prototype.onScrollChanged=function(t){return this._visibleLines.onScrollChanged(t)||!0},Ii.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)},Ii.prototype.onZonesChanged=function(t){return this._visibleLines.onZonesChanged(t)},Ii.prototype.prepareRender=function(t){for(var e=this._dynamicOverlays.filter(function(t){return t.shouldRender()}),i=0,n=e.length;i<n;i++){var o=e[i];o.prepareRender(t),o.onDidRender()}},Ii.prototype.render=function(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)},Ii.prototype._viewOverlaysRender=function(t){this._visibleLines.renderLines(t.viewportData)},Ii);function Ii(t){var e=Ei.call(this,t)||this;return e._visibleLines=new Ci(e),e.domNode=e._visibleLines.domNode,e._dynamicOverlays=[],e._isFocused=!1,e.domNode.setClassName("view-overlays"),e}var Ni=(Ti.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},Ti.prototype.setDomNode=function(t){this._domNode=Object(l.b)(t)},Ti.prototype.onContentChanged=function(){},Ti.prototype.onTokensChanged=function(){},Ti.prototype.onConfigurationChanged=function(t){t.lineHeight&&(this._lineHeight=this._configuration.editor.lineHeight)},Ti.prototype.renderLine=function(t,e,i,n){for(var o="",r=0,s=this._dynamicOverlays.length;r<s;r++)o+=this._dynamicOverlays[r].render(i.startLineNumber,t);return this._renderedContent!==o&&(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(e)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)},Ti.prototype.layoutLine=function(t,e){this._domNode&&(this._domNode.setTop(e),this._domNode.setHeight(this._lineHeight))},Ti);function Ti(t,e){this._configuration=t,this._lineHeight=this._configuration.editor.lineHeight,this._dynamicOverlays=e,this._domNode=null,this._renderedContent=null}var Mi,Ai=(Li(Pi,Mi=Di),Pi.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),Mi.prototype.onConfigurationChanged.call(this,t)},Pi.prototype.onScrollChanged=function(t){return Mi.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},Pi.prototype._viewOverlaysRender=function(t){Mi.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},Pi);function Pi(t){var e=Mi.call(this,t)||this;return e._contentWidth=e._context.configuration.editor.layoutInfo.contentWidth,e.domNode.setHeight(0),e}var Ri,Fi=(Li(ji,Ri=Di),ji.prototype.onConfigurationChanged=function(t){var e=!1;return t.fontInfo&&(a.a.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),e=!0),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,e=!0),Ri.prototype.onConfigurationChanged.call(this,t)||e},ji.prototype.onScrollChanged=function(t){return Ri.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},ji.prototype._viewOverlaysRender=function(t){Ri.prototype._viewOverlaysRender.call(this,t);var e=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(e),this.domNode.setWidth(this._contentLeft)},ji);function ji(t){var e=Ri.call(this,t)||this;return e._contentLeft=e._context.configuration.editor.layoutInfo.contentLeft,e.domNode.setClassName("margin-view-overlays"),e.domNode.setWidth(1),a.a.applyFontInfo(e.domNode,e._context.configuration.editor.fontInfo),e}var Bi,Hi,Wi=(Bi=function(t,e){return(Bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Bi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Vi=function(t,e){this.top=t,this.left=e},zi=(Wi(Ui,Hi=V),Ui.prototype.dispose=function(){Hi.prototype.dispose.call(this),this._widgets={}},Ui.prototype.onConfigurationChanged=function(t){for(var e=Object.keys(this._widgets),i=0,n=e.length;i<n;i++){var o=e[i];this._widgets[o].onConfigurationChanged(t)}return!0},Ui.prototype.onDecorationsChanged=function(t){return!0},Ui.prototype.onFlushed=function(t){return!0},Ui.prototype.onLineMappingChanged=function(t){for(var e=Object.keys(this._widgets),i=0,n=e.length;i<n;i++){var o=e[i];this._widgets[o].onLineMappingChanged(t)}return!0},Ui.prototype.onLinesChanged=function(t){return!0},Ui.prototype.onLinesDeleted=function(t){return!0},Ui.prototype.onLinesInserted=function(t){return!0},Ui.prototype.onScrollChanged=function(t){return!0},Ui.prototype.onZonesChanged=function(t){return!0},Ui.prototype.addWidget=function(t){var e=new qi(this._context,this._viewDomNode,t);(this._widgets[e.id]=e).allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(e.domNode):this.domNode.appendChild(e.domNode),this.setShouldRender()},Ui.prototype.setWidgetPosition=function(t,e,i,n){this._widgets[t.getId()].setPosition(e,i,n),this.setShouldRender()},Ui.prototype.removeWidget=function(t){var e=t.getId();if(this._widgets.hasOwnProperty(e)){var i=this._widgets[e];delete this._widgets[e];var n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},Ui.prototype.shouldSuppressMouseDownOnWidget=function(t){return!!this._widgets.hasOwnProperty(t)&&this._widgets[t].suppressMouseDown},Ui.prototype.onBeforeRender=function(t){for(var e=Object.keys(this._widgets),i=0,n=e.length;i<n;i++){var o=e[i];this._widgets[o].onBeforeRender(t)}},Ui.prototype.prepareRender=function(t){for(var e=Object.keys(this._widgets),i=0,n=e.length;i<n;i++){var o=e[i];this._widgets[o].prepareRender(t)}},Ui.prototype.render=function(t){for(var e=Object.keys(this._widgets),i=0,n=e.length;i<n;i++){var o=e[i];this._widgets[o].render(t)}},Ui);function Ui(t,e){var i=Hi.call(this,t)||this;return i._viewDomNode=e,i._widgets={},i.domNode=Object(l.b)(document.createElement("div")),U.write(i.domNode,1),i.domNode.setClassName("contentWidgets"),i.domNode.setPosition("absolute"),i.domNode.setTop(0),i.overflowingContentWidgetsDomNode=Object(l.b)(document.createElement("div")),U.write(i.overflowingContentWidgetsDomNode,2),i.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),i}var qi=(Ki.prototype.onConfigurationChanged=function(t){t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._maxWidth=this._getMaxWidth())},Ki.prototype.onLineMappingChanged=function(t){this._setPosition(this._position,this._range)},Ki.prototype._setPosition=function(t,e){if(this._position=t||null,this._range=e||null,this._viewPosition=null,this._viewRange=null,this._position){var i=this._context.model.validateModelPosition(this._position);this._context.model.coordinatesConverter.modelPositionIsVisible(i)&&(this._viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i))}if(this._range){var n=this._context.model.validateModelRange(this._range);this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(n)}},Ki.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},Ki.prototype.setPosition=function(t,e,i){this._setPosition(t,e),this._preference=i||null,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},Ki.prototype._layoutBoxInViewport=function(t,e,i,n,o){var r=t.top,s=r,a=e.top+this._lineHeight,l=r-n,u=n<=s,h=a,c=n<=o.viewportHeight-a,d=t.left,p=e.left;return d+i>o.scrollLeft+o.viewportWidth&&(d=o.scrollLeft+o.viewportWidth-i),p+i>o.scrollLeft+o.viewportWidth&&(p=o.scrollLeft+o.viewportWidth-i),d<o.scrollLeft&&(d=o.scrollLeft),p<o.scrollLeft&&(p=o.scrollLeft),{fitsAbove:u,aboveTop:l,aboveLeft:d,fitsBelow:c,belowTop:h,belowLeft:p}},Ki.prototype._layoutBoxInPage=function(t,e,i,n,o){var r=t.left-o.scrollLeft,s=e.left-o.scrollLeft;if(r<0||r>this._contentWidth)return null;var a,l=t.top-n,u=e.top+this._lineHeight,h=r+this._contentLeft,c=s+this._contentLeft,d=b.v(this._viewDomNode.domNode),p=d.top+l-b.e.scrollY,f=d.top+u-b.e.scrollY,g=d.left+h-b.e.scrollX,m=d.left+c-b.e.scrollX,v=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,y=22<=p,_=f+n<=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-22;return v<g+i+20&&(g-=a=g-(v-i-20),h-=a),v<m+i+20&&(m-=a=m-(v-i-20),c-=a),g<0&&(g-=a=g,h-=a),m<0&&(m-=a=m,c-=a),this._fixedOverflowWidgets&&(l=p,u=f,h=g,c=m),{fitsAbove:y,aboveTop:l,aboveLeft:h,fitsBelow:_,belowTop:u,belowLeft:c}},Ki.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(t){return new Vi(t.top,t.left+this._contentLeft)},Ki.prototype._getTopAndBottomLeft=function(t){if(!this._viewPosition)return[null,null];var e=t.visibleRangeForPosition(this._viewPosition);if(!e)return[null,null];var i=t.getVerticalOffsetForLineNumber(this._viewPosition.lineNumber)-t.scrollTop,n=new Vi(i,e.left),o=this._viewPosition.lineNumber,r=e.left;if(this._viewRange){var s=t.linesVisibleRangesForRange(this._viewRange,!1);if(s&&0<s.length)for(var a=s.length-1;0<=a;a--){var l=s[a];if(l.lineNumber>=o){l.lineNumber>o&&(o=l.lineNumber,r=1073741824);for(var u=0,h=l.ranges.length;u<h;u++){var c=l.ranges[u];c.left<r&&(r=c.left)}}}}var d=t.getVerticalOffsetForLineNumber(o)-t.scrollTop;return[n,new Vi(d,r)]},Ki.prototype._prepareRenderWidget=function(t){var e,i=this._getTopAndBottomLeft(t),n=i[0],o=i[1];if(!n||!o)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){var r=this.domNode.domNode;this._cachedDomNodeClientWidth=r.clientWidth,this._cachedDomNodeClientHeight=r.clientHeight}if(e=this.allowEditorOverflow?this._layoutBoxInPage(n,o,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,t):this._layoutBoxInViewport(n,o,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,t),this._preference)for(var s=1;s<=2;s++)for(var a=0;a<this._preference.length;a++){var l=this._preference[a];if(1===l){if(!e)return null;if(2===s||e.fitsAbove)return new Vi(e.aboveTop,e.aboveLeft)}else{if(2!==l)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(n):n;if(!e)return null;if(2===s||e.fitsBelow)return new Vi(e.belowTop,e.belowLeft)}}return null},Ki.prototype.onBeforeRender=function(t){this._viewPosition&&this._preference&&(this._viewPosition.lineNumber<t.startLineNumber||this._viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))},Ki.prototype.prepareRender=function(t){this._renderData=this._prepareRenderWidget(t)},Ki.prototype.render=function(t){this._renderData?(this.allowEditorOverflow?this.domNode.setTop(this._renderData.top):this.domNode.setTop(this._renderData.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.left),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))},Ki);function Ki(t,e,i){this._context=t,this._viewDomNode=e,this._actual=i,this.domNode=Object(l.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1,this._fixedOverflowWidgets=this._context.configuration.editor.viewInfo.fixedOverflowWidgets,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._lineHeight=this._context.configuration.editor.lineHeight,this._setPosition(null,null),this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}i(288);var Gi,Yi,$i=((Gi=function(t,e){return(Gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Gi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Zi,Yi=xe),Zi.prototype.dispose=function(){this._context.removeEventHandler(this),Yi.prototype.dispose.call(this)},Zi.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},Zi.prototype.onCursorStateChanged=function(t){var e=!1,i=t.selections[0].positionLineNumber;this._primaryCursorLineNumber!==i&&(this._primaryCursorLineNumber=i,e=!0);var n=t.selections[0].isEmpty();return this._selectionIsEmpty!==n?(this._selectionIsEmpty=n,e=!0):e},Zi.prototype.onFlushed=function(t){return!0},Zi.prototype.onLinesDeleted=function(t){return!0},Zi.prototype.onLinesInserted=function(t){return!0},Zi.prototype.onScrollChanged=function(t){return t.scrollWidthChanged},Zi.prototype.onZonesChanged=function(t){return!0},Zi.prototype.prepareRender=function(t){this._scrollWidth=t.scrollWidth},Zi.prototype.render=function(t,e){return e!==this._primaryCursorLineNumber?"":this._shouldShowCurrentLine()?'<div class="current-line'+(this._willRenderMarginCurrentLine()?" current-line-both":"")+'" style="width:'+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+'px;"></div>':""},Zi.prototype._shouldShowCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},Zi.prototype._willRenderMarginCurrentLine=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},Zi);function Zi(t){var e=Yi.call(this)||this;return e._context=t,e._lineHeight=e._context.configuration.editor.lineHeight,e._renderLineHighlight=e._context.configuration.editor.viewInfo.renderLineHighlight,e._selectionIsEmpty=!0,e._primaryCursorLineNumber=1,e._scrollWidth=0,e._contentWidth=e._context.configuration.editor.layoutInfo.contentWidth,e._context.addEventHandler(e),e}Object(ut.e)(function(t,e){var i=t.getColor(Le.o);if(i&&e.addRule(".monaco-editor .view-overlays .current-line { background-color: "+i+"; }"),!i||i.isTransparent()||t.defines(Le.p)){var n=t.getColor(Le.p);n&&(e.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+n+"; }"),"hc"===t.type&&e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"))}});i(289);var Xi,Ji,Qi=((Xi=function(t,e){return(Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Xi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(tn,Ji=xe),tn.prototype.dispose=function(){this._context.removeEventHandler(this),Ji.prototype.dispose.call(this)},tn.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0},tn.prototype.onCursorStateChanged=function(t){var e=!1,i=t.selections[0].positionLineNumber;this._primaryCursorLineNumber!==i&&(this._primaryCursorLineNumber=i,e=!0);var n=t.selections[0].isEmpty();return this._selectionIsEmpty!==n?(this._selectionIsEmpty=n,e=!0):e},tn.prototype.onFlushed=function(t){return!0},tn.prototype.onLinesDeleted=function(t){return!0},tn.prototype.onLinesInserted=function(t){return!0},tn.prototype.onZonesChanged=function(t){return!0},tn.prototype.prepareRender=function(t){},tn.prototype.render=function(t,e){if(e!==this._primaryCursorLineNumber)return"";var i="current-line";return this._shouldShowCurrentLine()&&(i="current-line current-line-margin"+(this._willRenderContentCurrentLine()?" current-line-margin-both":"")),'<div class="'+i+'" style="width:'+String(this._contentLeft)+"px; height:"+String(this._lineHeight)+'px;"></div>'},tn.prototype._shouldShowCurrentLine=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},tn.prototype._willRenderContentCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},tn);function tn(t){var e=Ji.call(this)||this;return e._context=t,e._lineHeight=e._context.configuration.editor.lineHeight,e._renderLineHighlight=e._context.configuration.editor.viewInfo.renderLineHighlight,e._selectionIsEmpty=!0,e._primaryCursorLineNumber=1,e._contentLeft=e._context.configuration.editor.layoutInfo.contentLeft,e._context.addEventHandler(e),e}Object(ut.e)(function(t,e){var i=t.getColor(Le.o);if(i)e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+i+"; border: none; }");else{var n=t.getColor(Le.p);n&&e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+n+"; }"),"hc"===t.type&&e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}});i(290);var en,nn,on=((en=function(t,e){return(en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}en(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(rn,nn=xe),rn.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,nn.prototype.dispose.call(this)},rn.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},rn.prototype.onDecorationsChanged=function(t){return!0},rn.prototype.onFlushed=function(t){return!0},rn.prototype.onLinesChanged=function(t){return!0},rn.prototype.onLinesDeleted=function(t){return!0},rn.prototype.onLinesInserted=function(t){return!0},rn.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged},rn.prototype.onZonesChanged=function(t){return!0},rn.prototype.prepareRender=function(t){for(var e=t.getDecorationsInViewport(),i=[],n=0,o=0,r=e.length;o<r;o++){var s=e[o];s.options.className&&(i[n++]=s)}i=i.sort(function(t,e){if(t.options.zIndex<e.options.zIndex)return-1;if(t.options.zIndex>e.options.zIndex)return 1;var i=t.options.className,n=e.options.className;return i<n?-1:n<i?1:Nt.a.compareRangesUsingStarts(t.range,e.range)});for(var a=t.visibleRange.startLineNumber,l=t.visibleRange.endLineNumber,u=[],h=a;h<=l;h++)u[h-a]="";this._renderWholeLineDecorations(t,i,u),this._renderNormalDecorations(t,i,u),this._renderResult=u},rn.prototype._renderWholeLineDecorations=function(t,e,i){for(var n=String(this._lineHeight),o=t.visibleRange.startLineNumber,r=t.visibleRange.endLineNumber,s=0,a=e.length;s<a;s++){var l=e[s];if(l.options.isWholeLine)for(var u='<div class="cdr '+l.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',h=Math.max(l.range.startLineNumber,o),c=Math.min(l.range.endLineNumber,r),d=h;d<=c;d++)i[d-o]+=u}},rn.prototype._renderNormalDecorations=function(t,e,i){for(var n=String(this._lineHeight),o=t.visibleRange.startLineNumber,r=null,s=!1,a=null,l=0,u=e.length;l<u;l++){var h=e[l];if(!h.options.isWholeLine){var c=h.options.className,d=Boolean(h.options.showIfCollapsed),p=h.range;d&&1===p.endColumn&&p.endLineNumber!==p.startLineNumber&&(p=new Nt.a(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.model.getLineMaxColumn(p.endLineNumber-1))),a=r===c&&s===d&&Nt.a.areIntersectingOrTouching(a,p)?Nt.a.plusRange(a,p):(null!==r&&this._renderNormalDecoration(t,a,r,s,n,o,i),r=c,s=d,p)}}null!==r&&this._renderNormalDecoration(t,a,r,s,n,o,i)},rn.prototype._renderNormalDecoration=function(t,e,i,n,o,r,s){var a=t.linesVisibleRangesForRange(e,"findMatch"===i);if(a)for(var l=0,u=a.length;l<u;l++){var h=a[l],c=h.lineNumber-r;if(n&&1===h.ranges.length){var d=h.ranges[0];0===d.width&&(h.ranges[0]=new tt(d.left,this._typicalHalfwidthCharacterWidth))}for(var p=0,f=h.ranges.length;p<f;p++){var g=h.ranges[p],m='<div class="cdr '+i+'" style="left:'+String(g.left)+"px;width:"+String(g.width)+"px;height:"+o+'px;"></div>';s[c]+=m}}},rn.prototype.render=function(t,e){if(!this._renderResult)return"";var i=e-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},rn);function rn(t){var e=nn.call(this)||this;return e._context=t,e._lineHeight=e._context.configuration.editor.lineHeight,e._typicalHalfwidthCharacterWidth=e._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,e._renderResult=null,e._context.addEventHandler(e),e}var sn,an,ln=i(79),un=((sn=function(t,e){return(sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}sn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(hn,an=V),hn.prototype.dispose=function(){an.prototype.dispose.call(this)},hn.prototype._setLayout=function(){var t=this._context.configuration.editor.layoutInfo;this.scrollbarDomNode.setLeft(t.contentLeft),"right"===this._context.configuration.editor.viewInfo.minimap.side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.contentHeight)},hn.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},hn.prototype.getDomNode=function(){return this.scrollbarDomNode},hn.prototype.delegateVerticalScrollbarMouseDown=function(t){this.scrollbar.delegateVerticalScrollbarMouseDown(t)},hn.prototype.onConfigurationChanged=function(t){if(t.viewInfo){var e=this._context.configuration.editor,i={handleMouseWheel:e.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:e.viewInfo.scrollbar.mouseWheelScrollSensitivity};this.scrollbar.updateOptions(i)}return t.layoutInfo&&this._setLayout(),!0},hn.prototype.onScrollChanged=function(t){return!0},hn.prototype.onThemeChanged=function(t){return this.scrollbar.updateClassName("editor-scrollable "+Object(ut.d)(this._context.theme.type)),!0},hn.prototype.prepareRender=function(t){},hn.prototype.render=function(t){this.scrollbar.renderNow()},hn);function hn(t,e,i,n){var s=an.call(this,t)||this,o=s._context.configuration.editor.viewInfo.scrollbar,r={listenOnDomNode:i.domNode,className:"editor-scrollable "+Object(ut.d)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:o.mouseWheelScrollSensitivity};s.scrollbar=s._register(new ln.c(e.domNode,r,s._context.viewLayout.scrollable)),U.write(s.scrollbar.getDomNode(),5),s.scrollbarDomNode=Object(l.b)(s.scrollbar.getDomNode()),s.scrollbarDomNode.setPosition("absolute"),s._setLayout();function a(t,e,i){var n={};if(e){var o=t.scrollTop;o&&(n.scrollTop=s._context.viewLayout.getCurrentScrollTop()+o,t.scrollTop=0)}if(i){var r=t.scrollLeft;r&&(n.scrollLeft=s._context.viewLayout.getCurrentScrollLeft()+r,t.scrollLeft=0)}s._context.viewLayout.setScrollPositionNow(n)}return s._register(b.h(i.domNode,"scroll",function(t){return a(i.domNode,!0,!0)})),s._register(b.h(e.domNode,"scroll",function(t){return a(e.domNode,!0,!1)})),s._register(b.h(n.domNode,"scroll",function(t){return a(n.domNode,!0,!1)})),s._register(b.h(s.scrollbarDomNode.domNode,"scroll",function(t){return a(s.scrollbarDomNode.domNode,!0,!1)})),s}i(292);var cn,dn,pn=(cn=function(t,e){return(cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}cn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),fn=function(t,e,i){this.startLineNumber=+t,this.endLineNumber=+e,this.className=String(i)},gn=(pn(mn,dn=xe),mn.prototype._render=function(t,e,i){for(var n=[],o=t;o<=e;o++)n[o-t]=[];if(0===i.length)return n;i.sort(function(t,e){return t.className===e.className?t.startLineNumber===e.startLineNumber?t.endLineNumber-e.endLineNumber:t.startLineNumber-e.startLineNumber:t.className<e.className?-1:1});for(var r=null,s=0,a=0,l=i.length;a<l;a++){var u=i[a],h=u.className,c=Math.max(u.startLineNumber,t)-t,d=Math.min(u.endLineNumber,e)-t;s=r===h?(c=Math.max(s+1,c),Math.max(s,d)):(r=h,d);for(var p=c;p<=s;p++)n[p].push(r)}return n},mn);function mn(){return null!==dn&&dn.apply(this,arguments)||this}var vn,yn=(pn(_n,vn=gn),_n.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,vn.prototype.dispose.call(this)},_n.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),t.layoutInfo&&(this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},_n.prototype.onDecorationsChanged=function(t){return!0},_n.prototype.onFlushed=function(t){return!0},_n.prototype.onLinesChanged=function(t){return!0},_n.prototype.onLinesDeleted=function(t){return!0},_n.prototype.onLinesInserted=function(t){return!0},_n.prototype.onScrollChanged=function(t){return t.scrollTopChanged},_n.prototype.onZonesChanged=function(t){return!0},_n.prototype._getDecorations=function(t){for(var e=t.getDecorationsInViewport(),i=[],n=0,o=0,r=e.length;o<r;o++){var s=e[o],a=s.options.glyphMarginClassName;a&&(i[n++]=new fn(s.range.startLineNumber,s.range.endLineNumber,a))}return i},_n.prototype.prepareRender=function(t){if(this._glyphMargin){for(var e=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,n=this._render(e,i,this._getDecorations(t)),o=this._lineHeight.toString(),r='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+o+'px;"></div>',s=[],a=e;a<=i;a++){var l=a-e,u=n[l];0===u.length?s[l]="":s[l]='<div class="cgmr '+u.join(" ")+r}this._renderResult=s}else this._renderResult=null},_n.prototype.render=function(t,e){if(!this._renderResult)return"";var i=e-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},_n);function _n(t){var e=vn.call(this)||this;return e._context=t,e._lineHeight=e._context.configuration.editor.lineHeight,e._glyphMargin=e._context.configuration.editor.viewInfo.glyphMargin,e._glyphMarginLeft=e._context.configuration.editor.layoutInfo.glyphMarginLeft,e._glyphMarginWidth=e._context.configuration.editor.layoutInfo.glyphMarginWidth,e._renderResult=null,e._context.addEventHandler(e),e}i(293);var bn,wn,Cn=((bn=function(t,e){return(bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}bn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Sn,wn=xe),Sn.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,wn.prototype.dispose.call(this)},Sn.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),t.viewInfo&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides,this._activeIndentEnabled=this._context.configuration.editor.viewInfo.highlightActiveIndentGuide),!0},Sn.prototype.onCursorStateChanged=function(t){var e=t.selections[0],i=e.isEmpty()?e.positionLineNumber:0;return this._primaryLineNumber!==i&&(this._primaryLineNumber=i,!0)},Sn.prototype.onDecorationsChanged=function(t){return!0},Sn.prototype.onFlushed=function(t){return!0},Sn.prototype.onLinesChanged=function(t){return!0},Sn.prototype.onLinesDeleted=function(t){return!0},Sn.prototype.onLinesInserted=function(t){return!0},Sn.prototype.onScrollChanged=function(t){return t.scrollTopChanged},Sn.prototype.onZonesChanged=function(t){return!0},Sn.prototype.onLanguageConfigurationChanged=function(t){return!0},Sn.prototype.prepareRender=function(t){if(this._enabled){var e=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,n=this._context.model.getTabSize()*this._spaceWidth,o=t.scrollWidth,r=this._lineHeight,s=n,a=this._context.model.getLinesIndentGuides(e,i),l=0,u=0,h=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var c=this._context.model.getActiveIndentGuide(this._primaryLineNumber,e,i);l=c.startLineNumber,u=c.endLineNumber,h=c.indent}for(var d=[],p=e;p<=i;p++){for(var f=l<=p&&p<=u,g=p-e,m=a[g],v="",y=t.visibleRangeForPosition(new It.a(p,1)),_=y?y.left:0,b=1;b<=m&&(v+='<div class="'+(f&&b===h?"cigra":"cigr")+'" style="left:'+_+"px;height:"+r+"px;width:"+s+'px"></div>',!(o<(_+=n)));b++);d[g]=v}this._renderResult=d}else this._renderResult=null},Sn.prototype.render=function(t,e){if(!this._renderResult)return"";var i=e-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},Sn);function Sn(t){var e=wn.call(this)||this;return e._context=t,e._primaryLineNumber=0,e._lineHeight=e._context.configuration.editor.lineHeight,e._spaceWidth=e._context.configuration.editor.fontInfo.spaceWidth,e._enabled=e._context.configuration.editor.viewInfo.renderIndentGuides,e._activeIndentEnabled=e._context.configuration.editor.viewInfo.highlightActiveIndentGuide,e._renderResult=null,e._context.addEventHandler(e),e}Object(ut.e)(function(t,e){var i=t.getColor(Le.l);i&&e.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+i+" inset; }");var n=t.getColor(Le.a)||i;n&&e.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+n+" inset; }")});i(294);var xn,kn=(xn=function(t,e){return(xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}xn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),On=(En.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},En.prototype.setCurrentVisibleRange=function(t){this._currentVisibleRange=t},En);function En(){this._currentVisibleRange=new Nt.a(1,1,1,1)}var Ln,Dn=function(t,e,i,n,o,r){this.lineNumber=t,this.startColumn=e,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=o,this.scrollType=r},In=(kn(Nn,Ln=V),Nn.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),Ln.prototype.dispose.call(this)},Nn.prototype.getDomNode=function(){return this.domNode},Nn.prototype.createVisibleLine=function(){return new vt(this._viewLineOptions)},Nn.prototype.onConfigurationChanged=function(t){this._visibleLines.onConfigurationChanged(t),t.wrappingInfo&&(this._maxLineWidth=0);var e=this._context.configuration;return t.lineHeight&&(this._lineHeight=e.editor.lineHeight),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=e.editor.fontInfo.typicalHalfwidthCharacterWidth),t.wrappingInfo&&(this._isViewportWrapping=e.editor.wrappingInfo.isViewportWrapping),t.viewInfo&&(this._revealHorizontalRightPadding=e.editor.viewInfo.revealHorizontalRightPadding),t.canUseLayerHinting&&(this._canUseLayerHinting=e.editor.canUseLayerHinting),t.fontInfo&&a.a.applyFontInfo(this.domNode,e.editor.fontInfo),this._onOptionsMaybeChanged(),t.layoutInfo&&(this._maxLineWidth=0),!0},Nn.prototype._onOptionsMaybeChanged=function(){var t=this._context.configuration,e=new gt(t,this._context.theme.type);if(this._viewLineOptions.equals(e))return!1;this._viewLineOptions=e;for(var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0},Nn.prototype.onCursorStateChanged=function(t){for(var e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=!1,o=e;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n},Nn.prototype.onDecorationsChanged=function(t){for(var e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=e;n<=i;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged();return!0},Nn.prototype.onFlushed=function(t){var e=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,e},Nn.prototype.onLinesChanged=function(t){return this._visibleLines.onLinesChanged(t)},Nn.prototype.onLinesDeleted=function(t){return this._visibleLines.onLinesDeleted(t)},Nn.prototype.onLinesInserted=function(t){return this._visibleLines.onLinesInserted(t)},Nn.prototype.onRevealRangeRequest=function(t){var e=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.range,t.verticalType),i=this._context.viewLayout.validateScrollPosition({scrollTop:e});t.revealHorizontal?t.range.startLineNumber!==t.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new Dn(t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,t.scrollType):this._horizontalRevealRequest=null;var n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop);return 0===t.scrollType&&n>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(i):this._context.viewLayout.setScrollPositionNow(i),!0},Nn.prototype.onScrollChanged=function(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){var e=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<e||t.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0},Nn.prototype.onTokensChanged=function(t){return this._visibleLines.onTokensChanged(t)},Nn.prototype.onZonesChanged=function(t){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(t)},Nn.prototype.onThemeChanged=function(t){return this._onOptionsMaybeChanged()},Nn.prototype.getPositionFromDOMInfo=function(t,e){var i=this._getViewLineDomNode(t);if(null===i)return null;var n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new It.a(n,1);var o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(n<o||r<n)return null;var s=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,t,e),a=this._context.model.getLineMinColumn(n);return s<a&&(s=a),new It.a(n,s)},Nn.prototype._getViewLineDomNode=function(t){for(;t&&1===t.nodeType;){if(t.className===vt.CLASS_NAME)return t;t=t.parentElement}return null},Nn.prototype._getLineNumberFor=function(t){for(var e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=e;n<=i;n++)if(t===this._visibleLines.getVisibleLine(n).getDomNode())return n;return-1},Nn.prototype.getLineWidth=function(t){var e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return t<e||i<t?-1:this._visibleLines.getVisibleLine(t).getWidth()},Nn.prototype.linesVisibleRangesForRange=function(t,e){if(this.shouldRender())return null;var i=t.endLineNumber,n=Nt.a.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;var o=[],r=0,s=new pt(this.domNode.domNode,this._textRangeRestingSpot),a=0;e&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new It.a(n.startLineNumber,1)).lineNumber);for(var l=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber(),h=n.startLineNumber;h<=n.endLineNumber;h++)if(!(h<l||u<h)){var c=h===n.startLineNumber?n.startColumn:1,d=h===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(h),p=this._visibleLines.getVisibleLine(h).getVisibleRangesForRange(c,d,s);p&&0!==p.length&&(e&&h<i&&a!==(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new It.a(h+1,1)).lineNumber)&&(p[p.length-1].width+=this._typicalHalfwidthCharacterWidth),o[r++]=new Q(h,p))}return 0===r?null:o},Nn.prototype.visibleRangesForRange2=function(t){if(this.shouldRender())return null;var e=Nt.a.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!e)return null;for(var i=[],n=new pt(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber(),s=e.startLineNumber;s<=e.endLineNumber;s++)if(!(s<o||r<s)){var a=s===e.startLineNumber?e.startColumn:1,l=s===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(s),u=this._visibleLines.getVisibleLine(s).getVisibleRangesForRange(a,l,n);u&&0!==u.length&&(i=i.concat(u))}return 0===i.length?null:i},Nn.prototype.visibleRangeForPosition=function(t){var e=this.visibleRangesForRange2(new Nt.a(t.lineNumber,t.column,t.lineNumber,t.column));return e?e[0]:null},Nn.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},Nn.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},Nn.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},Nn.prototype._updateLineWidths=function(t){for(var e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=1,o=!0,r=e;r<=i;r++){var s=this._visibleLines.getVisibleLine(r);!t||s.getWidthIsFast()?n=Math.max(n,s.getWidth()):o=!1}return o&&1===e&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o},Nn.prototype.prepareRender=function(){throw new Error("Not supported")},Nn.prototype.render=function(){throw new Error("Not supported")},Nn.prototype.renderText=function(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var e=this._horizontalRevealRequest.lineNumber,i=this._horizontalRevealRequest.startColumn,n=this._horizontalRevealRequest.endColumn,o=this._horizontalRevealRequest.scrollType;if(t.startLineNumber<=e&&e<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var r=this._computeScrollLeftToRevealRange(e,i,n);this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),0===o?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:r.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:r.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting);var s=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},Nn.prototype._ensureMaxLineWidth=function(t){var e=Math.ceil(t);this._maxLineWidth<e&&(this._maxLineWidth=e,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},Nn.prototype._computeScrollTopToRevealRange=function(t,e,i){var n,o,r,s=t.top,a=t.height,l=s+a;if(n=this._context.viewLayout.getVerticalOffsetForLineNumber(e.startLineNumber),o=this._context.viewLayout.getVerticalOffsetForLineNumber(e.endLineNumber)+this._lineHeight,0!==i&&4!==i||(o+=this._lineHeight),1===i||2===i)if(2===i&&s<=n&&o<=l)r=s;else{var u=(n+o)/2;r=Math.max(0,u-a/2)}else r=this._computeMinimumScrolling(s,l,n,o,3===i,4===i);return r},Nn.prototype._computeScrollLeftToRevealRange=function(t,e,i){var n=0,o=this._context.viewLayout.getCurrentViewport(),r=o.left,s=r+o.width,a=this.visibleRangesForRange2(new Nt.a(t,e,t,i)),l=Number.MAX_VALUE,u=0;if(!a)return{scrollLeft:r,maxHorizontalOffset:n};for(var h=0;h<a.length;h++){var c=a[h];c.left<l&&(l=c.left),c.left+c.width>u&&(u=c.left+c.width)}return n=u,l=Math.max(0,l-Nn.HORIZONTAL_EXTRA_PX),u+=this._revealHorizontalRightPadding,{scrollLeft:this._computeMinimumScrolling(r,s,l,u),maxHorizontalOffset:n}},Nn.prototype._computeMinimumScrolling=function(t,e,i,n,o,r){o=!!o,r=!!r;var s=(e|=0)-(t|=0);return(n|=0)-(i|=0)<s?o?i:r?Math.max(0,n-s):i<t?i:e<n?Math.max(0,n-s):t:i},Nn.HORIZONTAL_EXTRA_PX=30,Nn);function Nn(t,e){var i=Ln.call(this,t)||this;i._linesContent=e,i._textRangeRestingSpot=document.createElement("div"),i._visibleLines=new Ci(i),i.domNode=i._visibleLines.domNode;var n=i._context.configuration;return i._lineHeight=n.editor.lineHeight,i._typicalHalfwidthCharacterWidth=n.editor.fontInfo.typicalHalfwidthCharacterWidth,i._isViewportWrapping=n.editor.wrappingInfo.isViewportWrapping,i._revealHorizontalRightPadding=n.editor.viewInfo.revealHorizontalRightPadding,i._canUseLayerHinting=n.editor.canUseLayerHinting,i._viewLineOptions=new gt(n,i._context.theme.type),U.write(i.domNode,7),i.domNode.setClassName("view-lines"),a.a.applyFontInfo(i.domNode,n.editor.fontInfo),i._maxLineWidth=0,i._asyncUpdateLineWidths=new c.d(function(){i._updateLineWidthsSlow()},200),i._lastRenderedData=new On,i._horizontalRevealRequest=null,i}i(295);var Tn,Mn,An=((Tn=function(t,e){return(Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Tn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Pn,Mn=gn),Pn.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,Mn.prototype.dispose.call(this)},Pn.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._decorationsLeft=this._context.configuration.editor.layoutInfo.decorationsLeft,this._decorationsWidth=this._context.configuration.editor.layoutInfo.decorationsWidth),!0},Pn.prototype.onDecorationsChanged=function(t){return!0},Pn.prototype.onFlushed=function(t){return!0},Pn.prototype.onLinesChanged=function(t){return!0},Pn.prototype.onLinesDeleted=function(t){return!0},Pn.prototype.onLinesInserted=function(t){return!0},Pn.prototype.onScrollChanged=function(t){return t.scrollTopChanged},Pn.prototype.onZonesChanged=function(t){return!0},Pn.prototype._getDecorations=function(t){for(var e=t.getDecorationsInViewport(),i=[],n=0,o=0,r=e.length;o<r;o++){var s=e[o],a=s.options.linesDecorationsClassName;a&&(i[n++]=new fn(s.range.startLineNumber,s.range.endLineNumber,a))}return i},Pn.prototype.prepareRender=function(t){for(var e=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,n=this._render(e,i,this._getDecorations(t)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',r=[],s=e;s<=i;s++){for(var a=s-e,l=n[a],u="",h=0,c=l.length;h<c;h++)u+='<div class="cldr '+l[h]+o;r[a]=u}this._renderResult=r},Pn.prototype.render=function(t,e){return this._renderResult?this._renderResult[e-t]:""},Pn);function Pn(t){var e=Mn.call(this)||this;return e._context=t,e._decorationsLeft=e._context.configuration.editor.layoutInfo.decorationsLeft,e._decorationsWidth=e._context.configuration.editor.layoutInfo.decorationsWidth,e._renderResult=null,e._context.addEventHandler(e),e}i(296);var Rn,Fn,jn=((Rn=function(t,e){return(Rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Rn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Bn,Fn=gn),Bn.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,Fn.prototype.dispose.call(this)},Bn.prototype.onConfigurationChanged=function(t){return!0},Bn.prototype.onDecorationsChanged=function(t){return!0},Bn.prototype.onFlushed=function(t){return!0},Bn.prototype.onLinesChanged=function(t){return!0},Bn.prototype.onLinesDeleted=function(t){return!0},Bn.prototype.onLinesInserted=function(t){return!0},Bn.prototype.onScrollChanged=function(t){return t.scrollTopChanged},Bn.prototype.onZonesChanged=function(t){return!0},Bn.prototype._getDecorations=function(t){for(var e=t.getDecorationsInViewport(),i=[],n=0,o=0,r=e.length;o<r;o++){var s=e[o],a=s.options.marginClassName;a&&(i[n++]=new fn(s.range.startLineNumber,s.range.endLineNumber,a))}return i},Bn.prototype.prepareRender=function(t){for(var e=t.visibleRange.startLineNumber,i=t.visibleRange.endLineNumber,n=this._render(e,i,this._getDecorations(t)),o=[],r=e;r<=i;r++){for(var s=r-e,a=n[s],l="",u=0,h=a.length;u<h;u++)l+='<div class="cmdr '+a[u]+'" style=""></div>';o[s]=l}this._renderResult=o},Bn.prototype.render=function(t,e){return this._renderResult?this._renderResult[e-t]:""},Bn);function Bn(t){var e=Fn.call(this)||this;return e._context=t,e._renderResult=null,e._context.addEventHandler(e),e}i(297);var Hn=(Wn._clamp=function(t){return t<0?0:255<t?255:0|t},Wn.Empty=new Wn(0,0,0,0),Wn);function Wn(t,e,i,n){this.r=Wn._clamp(t),this.g=Wn._clamp(e),this.b=Wn._clamp(i),this.a=Wn._clamp(n)}var Vn=i(11),zn=(Un.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new Un),this._INSTANCE},Un.prototype._updateColorMap=function(){var t=Vn.w.getColorMap();if(!t)return this._colors=[Hn.Empty],void(this._backgroundIsLight=!0);this._colors=[Hn.Empty];for(var e=1;e<t.length;e++){var i=t[e].rgba;this._colors[e]=new Hn(i.r,i.g,i.b,Math.round(255*i.a))}var n=t[2].getRelativeLuminance();this._backgroundIsLight=.5<=n,this._onDidChange.fire(void 0)},Un.prototype.getColor=function(t){return(t<1||t>=this._colors.length)&&(t=2),this._colors[t]},Un.prototype.backgroundIsLight=function(){return this._backgroundIsLight},Un._INSTANCE=null,Un);function Un(){var e=this;this._onDidChange=new m.a,this.onDidChange=this._onDidChange.event,this._updateColorMap(),Vn.w.onDidChange(function(t){t.changedColorMap&&e._updateColorMap()})}var qn=(Kn.soften=function(t,e){for(var i=new Uint8ClampedArray(t.length),n=0,o=t.length;n<o;n++)i[n]=t[n]*e;return i},Kn._getChIndex=function(t){return(t-=32)<0&&(t+=95),t%95},Kn.prototype.x2RenderChar=function(t,e,i,n,o,r,s){if(e+2>t.width||i+4>t.height)console.warn("bad render request outside image data");else{var a=s?this.x2charDataLight:this.x2charData,l=Kn._getChIndex(n),u=4*t.width,h=r.r,c=r.g,d=r.b,p=o.r-h,f=o.g-c,g=o.b-d,m=t.data,v=4*l*2,y=i*u+4*e,_=a[v]/255;m[y+0]=h+p*_,m[y+1]=c+f*_,m[y+2]=d+g*_,_=a[1+v]/255,m[y+4]=h+p*_,m[y+5]=c+f*_,m[y+6]=d+g*_,y+=u,_=a[2+v]/255,m[y+0]=h+p*_,m[y+1]=c+f*_,m[y+2]=d+g*_,_=a[3+v]/255,m[y+4]=h+p*_,m[y+5]=c+f*_,m[y+6]=d+g*_,y+=u,_=a[4+v]/255,m[y+0]=h+p*_,m[y+1]=c+f*_,m[y+2]=d+g*_,_=a[5+v]/255,m[y+4]=h+p*_,m[y+5]=c+f*_,m[y+6]=d+g*_,y+=u,_=a[6+v]/255,m[y+0]=h+p*_,m[y+1]=c+f*_,m[y+2]=d+g*_,_=a[7+v]/255,m[y+4]=h+p*_,m[y+5]=c+f*_,m[y+6]=d+g*_}},Kn.prototype.x1RenderChar=function(t,e,i,n,o,r,s){if(e+1>t.width||i+2>t.height)console.warn("bad render request outside image data");else{var a=s?this.x1charDataLight:this.x1charData,l=Kn._getChIndex(n),u=4*t.width,h=r.r,c=r.g,d=r.b,p=o.r-h,f=o.g-c,g=o.b-d,m=t.data,v=2*l*1,y=i*u+4*e,_=a[v]/255;m[y+0]=h+p*_,m[y+1]=c+f*_,m[y+2]=d+g*_,y+=u,_=a[1+v]/255,m[y+0]=h+p*_,m[y+1]=c+f*_,m[y+2]=d+g*_}},Kn.prototype.x2BlockRenderChar=function(t,e,i,n,o,r){if(e+2>t.width||i+4>t.height)console.warn("bad render request outside image data");else{var s=4*t.width,a=o.r,l=o.g,u=o.b,h=a+.5*(n.r-a),c=l+.5*(n.g-l),d=u+.5*(n.b-u),p=t.data,f=i*s+4*e;p[f+0]=h,p[f+1]=c,p[f+2]=d,p[f+4]=h,p[f+5]=c,p[f+6]=d,p[(f+=s)+0]=h,p[f+1]=c,p[f+2]=d,p[f+4]=h,p[f+5]=c,p[f+6]=d,p[(f+=s)+0]=h,p[f+1]=c,p[f+2]=d,p[f+4]=h,p[f+5]=c,p[f+6]=d,p[(f+=s)+0]=h,p[f+1]=c,p[f+2]=d,p[f+4]=h,p[f+5]=c,p[f+6]=d}},Kn.prototype.x1BlockRenderChar=function(t,e,i,n,o,r){if(e+1>t.width||i+2>t.height)console.warn("bad render request outside image data");else{var s=4*t.width,a=o.r,l=o.g,u=o.b,h=a+.5*(n.r-a),c=l+.5*(n.g-l),d=u+.5*(n.b-u),p=t.data,f=i*s+4*e;p[f+0]=h,p[f+1]=c,p[f+2]=d,p[(f+=s)+0]=h,p[f+1]=c,p[f+2]=d}},Kn);function Kn(t,e){if(760!==t.length)throw new Error("Invalid x2CharData");if(190!==e.length)throw new Error("Invalid x1CharData");this.x2charData=t,this.x1charData=e,this.x2charDataLight=Kn.soften(t,.8),this.x1charDataLight=Kn.soften(e,50/60)}function Gn(t){for(var e=new Uint8ClampedArray(t.length),i=0,n=t.length;i<n;i++)e[i]=t[i];return e}var Yn=null;function $n(){if(!Yn){var t=Gn(Jn);Jn=null;var e=Gn(Xn);Xn=null,Yn=new qn(e,t)}return Yn}var Zn,Xn=[0,0,0,0,0,0,0,0,39,14,39,14,14,5,29,10,96,96,29,29,0,0,0,0,49,113,195,214,227,166,135,42,40,29,194,38,75,148,197,187,145,0,160,61,75,143,2,183,138,58,163,6,177,223,197,227,38,13,11,4,0,0,0,0,10,54,52,8,62,4,71,122,73,2,19,40,10,50,155,36,79,70,145,121,7,5,0,0,2,1,36,12,204,166,16,5,0,0,0,0,1,0,154,34,0,0,0,0,96,83,0,0,0,0,0,0,0,0,46,34,0,82,2,56,53,3,146,0,146,119,152,132,152,131,145,119,170,42,15,42,15,42,172,194,131,132,0,139,80,28,227,143,159,135,15,118,11,126,171,144,20,124,88,106,217,196,0,106,189,92,168,43,5,130,164,133,130,115,183,65,134,120,141,141,170,196,2,106,31,32,105,2,145,130,116,114,132,135,138,140,138,113,147,137,81,183,129,94,0,0,21,16,4,3,46,34,0,0,45,34,1,0,160,49,0,0,43,143,203,23,1,76,0,0,38,28,131,96,38,28,0,0,168,31,29,191,98,0,118,139,5,113,45,13,37,6,97,115,161,179,204,105,223,224,83,52,111,100,184,186,120,132,212,145,180,139,174,161,212,182,104,162,131,0,131,0,104,161,219,120,110,116,110,116,219,120,207,154,163,40,147,22,207,154,202,159,161,47,145,23,111,0,139,154,144,30,144,135,139,187,110,110,168,161,150,145,110,110,185,162,43,16,43,16,185,162,73,129,0,110,0,110,191,87,149,149,236,48,195,91,146,149,146,0,146,0,146,0,187,173,200,201,222,215,172,147,95,95,193,97,224,129,159,206,97,192,155,139,153,115,153,115,156,140,189,158,123,136,190,64,111,0,155,139,153,115,153,114,156,241,197,148,150,152,170,116,110,157,156,128,169,14,13,159,158,149,212,189,43,16,43,16,43,16,148,110,148,110,147,109,182,151,133,121,106,118,114,103,89,66,94,94,211,188,205,207,139,168,151,152,87,76,101,79,151,152,130,156,125,116,47,29,43,16,169,228,11,103,120,6,230,176,55,49,55,6,55,6,193,102,92,0,71,0,13,30,0,147,63,43,12,43,12,43,142,152,71,53,61,61,0,0,0,0,0,0,0,0,0,0,158,146,25,2,0,0,0,0,0,0,0,0,107,130,170,194,176,188,109,0,203,159,113,111,202,158,0,0,135,135,114,0,136,135,0,109,187,190,148,126,177,187,0,0,149,130,218,105,169,135,37,113,146,113,49,13,49,13,0,0,178,195,147,114,255,255,109,0,193,149,110,109,109,109,12,15,125,41,33,41,144,188,1,6,75,53,10,53,210,161,110,0,152,148,210,60,110,156,213,5,63,5,63,5,45,111,0,0,232,172,190,168,190,169,0,0,190,144,109,109,109,109,0,0,168,140,148,111,168,140,0,0,200,151,113,110,255,158,0,0,184,188,147,139,186,255,0,0,122,130,111,0,109,0,0,0,132,69,109,93,110,136,51,5,205,103,61,6,47,106,0,0,110,109,110,122,155,179,0,0,132,120,113,114,84,63,0,0,124,108,202,189,160,174,0,0,144,142,79,57,159,146,0,0,138,138,119,117,255,69,0,0,97,198,47,38,208,84,23,112,41,14,157,7,121,192,35,11,35,11,35,11,160,61,129,9,40,19,20,139,236,44,0,0,15,3,97,93,0,0],Jn=[0,0,23,12,53,0,130,127,58,149,67,77,72,198,13,0,25,51,25,49,94,2,8,64,0,24,0,21,0,9,19,27,126,126,51,80,72,105,87,98,73,93,106,85,111,123,87,30,116,126,123,110,4,16,9,28,21,53,8,62,23,52,73,21,132,183,78,142,168,175,70,70,128,128,123,110,125,43,100,139,125,119,78,78,54,77,139,139,33,87,201,117,162,149,130,130,138,60,130,172,149,127,95,98,95,25,118,135,110,85,147,175,105,110,121,30,101,113,34,68,20,26,34,68,56,0,0,44,3,0,27,175,80,133,31,66,85,147,32,150,90,25,45,230,77,101,36,83,22,84,71,118,44,44,52,172,38,101,35,130,40,197,43,197,29,26,23,103,67,44,25,129,29,85,27,177,33,97,32,145,33,77,38,96,20,55,36,95,2,22],Qn=i(7),to=(Zn=function(t,e){return(Zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Zn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function eo(t){return 2===t?4:4===t?6:1===t?2:3}function io(t){return 2===t?2:4===t?2:1}var no=(oo.prototype.equals=function(t){return this.renderMinimap===t.renderMinimap&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.showSlider===t.showSlider&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapLeft===t.minimapLeft&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight},oo);function oo(t){var e=t.editor.pixelRatio,i=t.editor.layoutInfo,n=t.editor.viewInfo,o=t.editor.fontInfo;this.renderMinimap=0|i.renderMinimap,this.scrollBeyondLastLine=n.scrollBeyondLastLine,this.showSlider=n.minimap.showSlider,this.pixelRatio=e,this.typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this.lineHeight=t.editor.lineHeight,this.minimapLeft=i.minimapLeft,this.minimapWidth=i.minimapWidth,this.minimapHeight=i.height,this.canvasInnerWidth=Math.max(1,Math.floor(e*this.minimapWidth)),this.canvasInnerHeight=Math.max(1,Math.floor(e*this.minimapHeight)),this.canvasOuterWidth=this.canvasInnerWidth/e,this.canvasOuterHeight=this.canvasInnerHeight/e}var ro=(so.prototype.getDesiredScrollTopFromDelta=function(t){var e=this.sliderTop+t;return Math.round(e/this._computedSliderRatio)},so.create=function(t,e,i,n,o,r,s,a,l){var u,h,c=t.pixelRatio,d=eo(t.renderMinimap),p=Math.floor(t.canvasInnerHeight/d),f=t.lineHeight;if(o&&i!==r){var g=i-e+1;u=Math.floor(g*d/c)}else{var m=n/f;u=Math.floor(m*d/c)}h=t.scrollBeyondLastLine?(r-1)*d/c:Math.max(0,r*d/c-u);var v=(h=Math.min(t.minimapHeight-u,h))/(a-n),y=s*v;if(r<=p)return new so(s,a,v,y,u,_=1,r);var _=Math.max(1,Math.floor(e-y*c/d));return l&&l.scrollHeight===a&&(l.scrollTop>s&&(_=Math.min(_,l.startLineNumber)),l.scrollTop<s&&(_=Math.max(_,l.startLineNumber))),new so(s,a,v,y,u,_,Math.min(r,_+p-1))},so);function so(t,e,i,n,o,r,s){this.scrollTop=t,this.scrollHeight=e,this._computedSliderRatio=i,this.sliderTop=n,this.sliderHeight=o,this.startLineNumber=r,this.endLineNumber=s}var ao=(lo.prototype.onContentChanged=function(){this.dy=-1},lo.prototype.onTokensChanged=function(){this.dy=-1},lo.INVALID=new lo(-1),lo);function lo(t){this.dy=t}var uo=(ho.prototype.linesEquals=function(t){if(this.renderedLayout.startLineNumber!==t.startLineNumber)return!1;if(this.renderedLayout.endLineNumber!==t.endLineNumber)return!1;for(var e=this._renderedLines._get().lines,i=0,n=e.length;i<n;i++)if(-1===e[i].dy)return!1;return!0},ho.prototype._get=function(){var t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}},ho.prototype.onLinesChanged=function(t){return this._renderedLines.onLinesChanged(t.fromLineNumber,t.toLineNumber)},ho.prototype.onLinesDeleted=function(t){this._renderedLines.onLinesDeleted(t.fromLineNumber,t.toLineNumber)},ho.prototype.onLinesInserted=function(t){this._renderedLines.onLinesInserted(t.fromLineNumber,t.toLineNumber)},ho.prototype.onTokensChanged=function(t){return this._renderedLines.onTokensChanged(t.ranges)},ho);function ho(t,e,i){this.renderedLayout=t,this._imageData=e,this._renderedLines=new bi(function(){return ao.INVALID}),this._renderedLines._set(t.startLineNumber,i)}var co=(po.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t},po._createBackgroundFillData=function(t,e,i){for(var n=i.r,o=i.g,r=i.b,s=new Uint8ClampedArray(t*e*4),a=0,l=0;l<e;l++)for(var u=0;u<t;u++)s[a]=n,s[a+1]=o,s[a+2]=r,s[a+3]=255,a+=4;return s},po);function po(t,e,i,n){this._backgroundFillData=po._createBackgroundFillData(e,i,n),this._buffers=[t.createImageData(e,i),t.createImageData(e,i)],this._lastUsedBuffer=0}var fo,go=(to(mo,fo=V),mo.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),fo.prototype.dispose.call(this)},mo.prototype._getMinimapDomNodeClassName=function(){return"always"===this._options.showSlider?"minimap slider-always":"minimap slider-mouseover"},mo.prototype.getDomNode=function(){return this._domNode},mo.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},mo.prototype._getBuffer=function(){return this._buffers||(this._buffers=new co(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers.getBuffer()},mo.prototype._onOptionsMaybeChanged=function(){var t=new no(this._context.configuration);return!this._options.equals(t)&&(this._options=t,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},mo.prototype.onConfigurationChanged=function(t){return this._onOptionsMaybeChanged()},mo.prototype.onFlushed=function(t){return!(this._lastRenderData=null)},mo.prototype.onLinesChanged=function(t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(t)},mo.prototype.onLinesDeleted=function(t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(t),!0},mo.prototype.onLinesInserted=function(t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(t),!0},mo.prototype.onScrollChanged=function(t){return!0},mo.prototype.onTokensChanged=function(t){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(t)},mo.prototype.onTokensColorsChanged=function(t){return this._lastRenderData=null,!(this._buffers=null)},mo.prototype.onZonesChanged=function(t){return!(this._lastRenderData=null)},mo.prototype.prepareRender=function(t){},mo.prototype.render=function(t){if(0===this._options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);t.scrollLeft+t.viewportWidth>=t.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var e=ro.create(this._options,t.visibleRange.startLineNumber,t.visibleRange.endLineNumber,t.viewportHeight,0<t.viewportData.whitespaceViewportData.length,this._context.model.getLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(e.sliderTop),this._slider.setHeight(e.sliderHeight);var i=t.scrollLeft/this._options.typicalHalfwidthCharacterWidth,n=Math.min(this._options.minimapWidth,Math.round(i*io(this._options.renderMinimap)/this._options.pixelRatio));this._sliderHorizontal.setLeft(n),this._sliderHorizontal.setWidth(this._options.minimapWidth-n),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(e.sliderHeight),this._lastRenderData=this.renderLines(e)},mo.prototype.renderLines=function(t){var e=this._options.renderMinimap,i=t.startLineNumber,n=t.endLineNumber,o=eo(e);if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){var r=this._lastRenderData._get();return new uo(t,r.imageData,r.lines)}for(var s=this._getBuffer(),a=mo._renderUntouchedLines(s,i,n,o,this._lastRenderData),l=a[0],u=a[1],h=a[2],c=this._context.model.getMinimapLinesRenderingData(i,n,h),d=c.tabSize,p=this._tokensColorTracker.getColor(2),f=this._tokensColorTracker.backgroundIsLight(),g=0,m=[],v=0,y=n-i+1;v<y;v++)h[v]&&mo._renderLine(s,p,f,e,this._tokensColorTracker,$n(),g,d,c.data[v]),m[v]=new ao(g),g+=o;var _=-1===l?0:l,b=(-1===u?s.height:u)-_;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,_,s.width,b),new uo(t,s,m)},mo._renderUntouchedLines=function(t,e,i,n,o){var r=[];if(!o){for(var s=0,a=i-e+1;s<a;s++)r[s]=!0;return[-1,-1,r]}for(var l=o._get(),u=l.imageData.data,h=l.rendLineNumberStart,c=l.lines,d=c.length,p=t.width,f=t.data,g=(i-e+1)*n*p*4,m=-1,v=-1,y=-1,_=-1,b=-1,w=-1,C=0,S=e;S<=i;S++){var x=S-e,k=S-h,O=0<=k&&k<d?c[k].dy:-1;if(-1!==O){var E=O*p*4,L=(O+n)*p*4,D=C*p*4,I=(C+n)*p*4;_===E&&w===D?_=L:(-1!==y&&(f.set(u.subarray(y,_),b),-1===m&&0===y&&y===b&&(m=_),-1===v&&_===g&&y===b&&(v=y)),y=E,_=L,b=D),w=I,r[x]=!1,C+=n}else r[x]=!0,C+=n}return-1!==y&&(f.set(u.subarray(y,_),b),-1===m&&0===y&&y===b&&(m=_),-1===v&&_===g&&y===b&&(v=y)),[-1===m?-1:m/(4*p),-1===v?-1:v/(4*p),r]},mo._renderLine=function(t,e,i,n,o,r,s,a,l){for(var u=l.content,h=l.tokens,c=io(n),d=t.width-c,p=0,f=0,g=0,m=0,v=h.getCount();m<v;m++)for(var y=h.getEndOffset(m),_=h.getForeground(m),b=o.getColor(_);f<y;f++){if(d<p)return;var w=u.charCodeAt(f);if(9===w){var C=a-(f+g)%a;g+=C-1,p+=C*c}else if(32===w)p+=c;else for(var S=we.t(w)?2:1,x=0;x<S;x++)if(2===n?r.x2RenderChar(t,p,s,w,b,e,i):1===n?r.x1RenderChar(t,p,s,w,b,e,i):4===n?r.x2BlockRenderChar(t,p,s,b,e,i):r.x1BlockRenderChar(t,p,s,b,e,i),d<(p+=c))return}},mo);function mo(t){var s=fo.call(this,t)||this;return s._options=new no(s._context.configuration),s._lastRenderData=null,s._buffers=null,s._domNode=Object(l.b)(document.createElement("div")),U.write(s._domNode,8),s._domNode.setClassName(s._getMinimapDomNodeClassName()),s._domNode.setPosition("absolute"),s._domNode.setAttribute("role","presentation"),s._domNode.setAttribute("aria-hidden","true"),s._shadow=Object(l.b)(document.createElement("div")),s._shadow.setClassName("minimap-shadow-hidden"),s._domNode.appendChild(s._shadow),s._canvas=Object(l.b)(document.createElement("canvas")),s._canvas.setPosition("absolute"),s._canvas.setLeft(0),s._domNode.appendChild(s._canvas),s._slider=Object(l.b)(document.createElement("div")),s._slider.setPosition("absolute"),s._slider.setClassName("minimap-slider"),s._slider.setLayerHinting(!0),s._domNode.appendChild(s._slider),s._sliderHorizontal=Object(l.b)(document.createElement("div")),s._sliderHorizontal.setPosition("absolute"),s._sliderHorizontal.setClassName("minimap-slider-horizontal"),s._slider.appendChild(s._sliderHorizontal),s._tokensColorTracker=zn.getInstance(),s._applyLayout(),s._mouseDownListener=b.k(s._canvas.domNode,"mousedown",function(t){t.preventDefault();var e=s._options.renderMinimap;if(0!==e&&s._lastRenderData){var i=eo(e),n=s._options.pixelRatio*t.browserEvent.offsetY,o=Math.floor(n/i)+s._lastRenderData.renderedLayout.startLineNumber;o=Math.min(o,s._context.model.getLineCount()),s._context.privateViewEventBus.emit(new Ye(new Nt.a(o,1,o,1),1,!1,0))}}),s._sliderMouseMoveMonitor=new f.a,s._sliderMouseDownListener=b.k(s._slider.domNode,"mousedown",function(t){if(t.preventDefault(),t.leftButton&&s._lastRenderData){var n=t.posy,o=t.posx,r=s._lastRenderData.renderedLayout;s._slider.toggleClassName("active",!0),s._sliderMouseMoveMonitor.startMonitoring(f.b,function(t){var e=Math.abs(t.posx-o);if(p.g&&140<e)s._context.viewLayout.setScrollPositionNow({scrollTop:r.scrollTop});else{var i=t.posy-n;s._context.viewLayout.setScrollPositionNow({scrollTop:r.getDesiredScrollTopFromDelta(i)})}},function(){s._slider.toggleClassName("active",!1)})}}),s}Object(ut.e)(function(t,e){var i=t.getColor(Qn.xb);if(i){var n=i.transparent(.5);e.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+n+"; }")}var o=t.getColor(Qn.yb);if(o){var r=o.transparent(.5);e.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+r+"; }")}var s=t.getColor(Qn.wb);if(s){var a=s.transparent(.5);e.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+a+"; }")}var l=t.getColor(Qn.vb);l&&e.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+l+" -6px 0 6px -6px inset; }")});i(298);var vo,yo,_o=((vo=function(t,e){return(vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}vo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(bo,yo=V),bo.prototype.dispose=function(){yo.prototype.dispose.call(this),this._widgets={}},bo.prototype.getDomNode=function(){return this._domNode},bo.prototype.onConfigurationChanged=function(t){return!!t.layoutInfo&&(this._verticalScrollbarWidth=this._context.configuration.editor.layoutInfo.verticalScrollbarWidth,this._minimapWidth=this._context.configuration.editor.layoutInfo.minimapWidth,this._horizontalScrollbarHeight=this._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,this._editorHeight=this._context.configuration.editor.layoutInfo.height,this._editorWidth=this._context.configuration.editor.layoutInfo.width,!0)},bo.prototype.addWidget=function(t){var e=Object(l.b)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:e},e.setPosition("absolute"),e.setAttribute("widgetId",t.getId()),this._domNode.appendChild(e),this.setShouldRender()},bo.prototype.setWidgetPosition=function(t,e){var i=this._widgets[t.getId()];return i.preference!==e&&(i.preference=e,this.setShouldRender(),!0)},bo.prototype.removeWidget=function(t){var e=t.getId();if(this._widgets.hasOwnProperty(e)){var i=this._widgets[e].domNode.domNode;delete this._widgets[e],i.parentNode.removeChild(i),this.setShouldRender()}},bo.prototype._renderWidget=function(t){var e=t.domNode;if(null!==t.preference)if(0===t.preference)e.setTop(0),e.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===t.preference){var i=e.domNode.clientHeight;e.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),e.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===t.preference&&(e.setTop(0),e.domNode.style.right="50%");else e.unsetTop()},bo.prototype.prepareRender=function(t){},bo.prototype.render=function(t){this._domNode.setWidth(this._editorWidth);for(var e=Object.keys(this._widgets),i=0,n=e.length;i<n;i++){var o=e[i];this._renderWidget(this._widgets[o])}},bo);function bo(t){var e=yo.call(this,t)||this;return e._widgets={},e._verticalScrollbarWidth=e._context.configuration.editor.layoutInfo.verticalScrollbarWidth,e._minimapWidth=e._context.configuration.editor.layoutInfo.minimapWidth,e._horizontalScrollbarHeight=e._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,e._editorHeight=e._context.configuration.editor.layoutInfo.height,e._editorWidth=e._context.configuration.editor.layoutInfo.width,e._domNode=Object(l.b)(document.createElement("div")),U.write(e._domNode,4),e._domNode.setClassName("overlayWidgets"),e}var wo,Co=i(12),So=(wo=function(t,e){return(wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}wo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),xo=(ko.prototype._initLanes=function(t,e,i){var n=e-t;if(3<=i){var o,r,s,a=n-(o=Math.floor(n/3))-(r=Math.floor(n/3)),l=(s=t)+o;return[[0,s,l,s,s+o+a,s,l,s],[0,o,a,o+a,r,o+a+r,a+r,o+a+r]]}return 2===i?[[0,s=t,s,s,s+(o=Math.floor(n/2)),s,s,s],[0,o,o,o,r=n-o,o+r,o+r,o+r]]:[[0,t,t,t,t,t,t,t],[0,n,n,n,n,n,n,n]]},ko.prototype.equals=function(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&this.backgroundColor===t.backgroundColor&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight},ko);function ko(t,e){this.lineHeight=t.editor.lineHeight,this.pixelRatio=t.editor.pixelRatio,this.overviewRulerLanes=t.editor.viewInfo.overviewRulerLanes,this.renderBorder=t.editor.viewInfo.overviewRulerBorder;var i=e.getColor(Le.r);this.borderColor=i?i.toString():null,this.hideCursor=t.editor.viewInfo.hideCursorInOverviewRuler;var n=e.getColor(Le.g);this.cursorColor=n?n.transparent(.7).toString():null,this.themeType=e.type;var o=t.editor.viewInfo.minimap.enabled,r=t.editor.viewInfo.minimap.side,s=o?Vn.w.getDefaultBackground():null;this.backgroundColor=null===s||"left"===r?null:Co.a.Format.CSS.formatHex(s);var a=t.editor.layoutInfo.overviewRuler;this.top=a.top,this.right=a.right,this.domWidth=a.width,this.domHeight=a.height,this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;var l=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),u=l[0],h=l[1];this.x=u,this.w=h}var Oo,Eo=(So(Lo,Oo=V),Lo.prototype.dispose=function(){Oo.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},Lo.prototype._updateSettings=function(t){var e=new xo(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(e)||(this._settings=e,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),0))},Lo.prototype.onConfigurationChanged=function(t){return this._updateSettings(!1)},Lo.prototype.onCursorStateChanged=function(t){this._cursorPositions=[];for(var e=0,i=t.selections.length;e<i;e++)this._cursorPositions[e]=t.selections[e].getPosition();return this._cursorPositions.sort(It.a.compare),!0},Lo.prototype.onDecorationsChanged=function(t){return!0},Lo.prototype.onFlushed=function(t){return!0},Lo.prototype.onScrollChanged=function(t){return t.scrollHeightChanged},Lo.prototype.onZonesChanged=function(t){return!0},Lo.prototype.onThemeChanged=function(t){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},Lo.prototype.getDomNode=function(){return this._domNode.domNode},Lo.prototype.prepareRender=function(t){},Lo.prototype.render=function(t){this._render()},Lo.prototype._render=function(){var t=this._settings.canvasWidth,e=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,o=e/this._context.viewLayout.getScrollHeight(),r=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,a=s/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,t,e):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,t,e));var u=this._settings.x,h=this._settings.w,c=Object.keys(r);c.sort();for(var d=0,p=c.length;d<p;d++){var f=c[d],g=r[f];l.fillStyle=f;for(var m=0,v=0,y=0,_=0,b=g.length;_<b;_++){var w=g[3*_],C=g[3*_+1],S=g[3*_+2],x=n.getVerticalOffsetForLineNumber(C)*o|0;(N=(n.getVerticalOffsetForLineNumber(S)+i)*o|0)-x<s&&((D=(x+N)/2|0)<a?D=a:e<D+a&&(D=e-a),x=D-a,N=D+a),y+1<x||w!==m?(0!==_&&l.fillRect(u[m],v,h[m],y-v),m=w,v=x,y=N):y<N&&(y=N)}l.fillRect(u[m],v,h[m],y-v)}if(!this._settings.hideCursor&&this._settings.cursorColor){var k=2*this._settings.pixelRatio|0,O=k/2|0,E=this._settings.x[7],L=this._settings.w[7];for(l.fillStyle=this._settings.cursorColor,y=v=-100,_=0,b=this._cursorPositions.length;_<b;_++){var D,I=this._cursorPositions[_];(D=n.getVerticalOffsetForLineNumber(I.lineNumber)*o|0)<O?D=O:e<D+O&&(D=e-O);var N=(x=D-O)+k;y+1<x?(0!==_&&l.fillRect(E,v,L,y-v),v=x,y=N):y<N&&(y=N)}l.fillRect(E,v,L,y-v)}this._settings.renderBorder&&this._settings.borderColor&&0<this._settings.overviewRulerLanes&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,e),l.stroke(),l.moveTo(0,0),l.lineTo(t,0),l.stroke())},Lo);function Lo(t){var e=Oo.call(this,t)||this;return e._domNode=Object(l.b)(document.createElement("canvas")),e._domNode.setClassName("decorationsOverviewRuler"),e._domNode.setPosition("absolute"),e._domNode.setLayerHinting(!0),e._domNode.setAttribute("aria-hidden","true"),e._updateSettings(!1),e._tokensColorTrackerListener=Vn.w.onDidChange(function(t){t.changedColorMap&&e._updateSettings(!0)}),e._cursorPositions=[],e}var Do,Io,No=i(141),To=((Do=function(t,e){return(Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Do(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Mo,Io=j),Mo.prototype.dispose=function(){this._context.removeEventHandler(this),Io.prototype.dispose.call(this)},Mo.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._zoneManager.setLineHeight(this._context.configuration.editor.lineHeight),this._render()),t.pixelRatio&&(this._zoneManager.setPixelRatio(this._context.configuration.editor.pixelRatio),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},Mo.prototype.onFlushed=function(t){return this._render(),!0},Mo.prototype.onScrollChanged=function(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0},Mo.prototype.onZonesChanged=function(t){return this._render(),!0},Mo.prototype.getDomNode=function(){return this._domNode.domNode},Mo.prototype.setLayout=function(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);var e=!1;e=this._zoneManager.setDOMWidth(t.width)||e,(e=this._zoneManager.setDOMHeight(t.height)||e)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},Mo.prototype.setZones=function(t){this._zoneManager.setZones(t),this._render()},Mo.prototype._render=function(){if(0===this._zoneManager.getOuterHeight())return!1;var t=this._zoneManager.getCanvasWidth(),e=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,t,e),0<i.length&&this._renderOneLane(o,i,n,t),!0},Mo.prototype._renderOneLane=function(t,e,i,n){for(var o=0,r=0,s=0,a=0,l=e.length;a<l;a++){var u=e[a],h=u.colorId,c=u.from,d=u.to;s=h!==o?(t.fillRect(0,r,n,s-r),o=h,t.fillStyle=i[o],r=c,d):c<=s?Math.max(s,d):(t.fillRect(0,r,n,s-r),r=c,d)}t.fillRect(0,r,n,s-r)},Mo);function Mo(t,e){var i=Io.call(this)||this;return i._context=t,i._domNode=Object(l.b)(document.createElement("canvas")),i._domNode.setClassName(e),i._domNode.setPosition("absolute"),i._domNode.setLayerHinting(!0),i._zoneManager=new No.b(function(t){return i._context.viewLayout.getVerticalOffsetForLineNumber(t)}),i._zoneManager.setDOMWidth(0),i._zoneManager.setDOMHeight(0),i._zoneManager.setOuterHeight(i._context.viewLayout.getScrollHeight()),i._zoneManager.setLineHeight(i._context.configuration.editor.lineHeight),i._zoneManager.setPixelRatio(i._context.configuration.editor.pixelRatio),i._context.addEventHandler(i),i}i(299);var Ao,Po,Ro=((Ao=function(t,e){return(Ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ao(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Fo,Po=V),Fo.prototype.dispose=function(){Po.prototype.dispose.call(this)},Fo.prototype.onConfigurationChanged=function(t){return!!(t.viewInfo||t.layoutInfo||t.fontInfo)&&(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0)},Fo.prototype.onScrollChanged=function(t){return t.scrollHeightChanged},Fo.prototype.prepareRender=function(t){},Fo.prototype._ensureRulersCount=function(){var t=this._renderedRulers.length,e=this._rulers.length;if(t!==e)if(t<e)for(var i=this._context.model.getTabSize(),n=e-t;0<n;)(r=Object(l.b)(document.createElement("div"))).setClassName("view-ruler"),r.setWidth(i),this.domNode.appendChild(r),this._renderedRulers.push(r),n--;else for(var o=t-e;0<o;){var r=this._renderedRulers.pop();this.domNode.removeChild(r),o--}},Fo.prototype.render=function(t){this._ensureRulersCount();for(var e=0,i=this._rulers.length;e<i;e++){var n=this._renderedRulers[e];n.setHeight(Math.min(t.scrollHeight,1e6)),n.setLeft(this._rulers[e]*this._typicalHalfwidthCharacterWidth)}},Fo);function Fo(t){var e=Po.call(this,t)||this;return e.domNode=Object(l.b)(document.createElement("div")),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e.domNode.setClassName("view-rulers"),e._renderedRulers=[],e._rulers=e._context.configuration.editor.viewInfo.rulers,e._typicalHalfwidthCharacterWidth=e._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,e}Object(ut.e)(function(t,e){var i=t.getColor(Le.s);i&&e.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+i+" inset; }")});i(300);var jo,Bo,Ho=((jo=function(t,e){return(jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}jo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Wo,Bo=V),Wo.prototype.dispose=function(){Bo.prototype.dispose.call(this)},Wo.prototype._updateShouldShow=function(){var t=this._useShadows&&0<this._scrollTop;return this._shouldShow!==t&&(this._shouldShow=t,!0)},Wo.prototype.getDomNode=function(){return this._domNode},Wo.prototype._updateWidth=function(){var t=this._context.configuration.editor.layoutInfo,e=0;return e=0===t.renderMinimap||0<t.minimapWidth&&0===t.minimapLeft?t.width:t.width-t.minimapWidth-t.verticalScrollbarWidth,this._width!==e&&(this._width=e,!0)},Wo.prototype.onConfigurationChanged=function(t){var e=!1;return t.viewInfo&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),t.layoutInfo&&(e=this._updateWidth()),this._updateShouldShow()||e},Wo.prototype.onScrollChanged=function(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()},Wo.prototype.prepareRender=function(t){},Wo.prototype.render=function(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},Wo);function Wo(t){var e=Bo.call(this,t)||this;return e._scrollTop=0,e._width=0,e._updateWidth(),e._shouldShow=!1,e._useShadows=e._context.configuration.editor.viewInfo.scrollbar.useShadows,e._domNode=Object(l.b)(document.createElement("div")),e._domNode.setAttribute("role","presentation"),e._domNode.setAttribute("aria-hidden","true"),e}Object(ut.e)(function(t,e){var i=t.getColor(Qn.vb);i&&e.addRule(".monaco-editor .scroll-decoration { box-shadow: "+i+" 0 6px 6px -6px inset; }")});i(301);var Vo,zo=(Vo=function(t,e){return(Vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Vo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Uo=function(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null},qo=function(t,e){this.lineNumber=t,this.ranges=e};function Ko(t){return new Uo(t)}function Go(t){return new qo(t.lineNumber,t.ranges.map(Ko))}var Yo,$o=y.h,Zo=(zo(Xo,Yo=xe),Xo.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,Yo.prototype.dispose.call(this)},Xo.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),t.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},Xo.prototype.onCursorStateChanged=function(t){return this._selections=t.selections.slice(0),!0},Xo.prototype.onDecorationsChanged=function(t){return!0},Xo.prototype.onFlushed=function(t){return!0},Xo.prototype.onLinesChanged=function(t){return!0},Xo.prototype.onLinesDeleted=function(t){return!0},Xo.prototype.onLinesInserted=function(t){return!0},Xo.prototype.onScrollChanged=function(t){return t.scrollTopChanged},Xo.prototype.onZonesChanged=function(t){return!0},Xo.prototype._visibleRangesHaveGaps=function(t){for(var e=0,i=t.length;e<i;e++)if(1<t[e].ranges.length)return!0;return!1},Xo.prototype._enrichVisibleRangesWithStyle=function(t,e,i){var n=this._typicalHalfwidthCharacterWidth/4,o=null,r=null;if(i&&0<i.length&&0<e.length){var s=e[0].lineNumber;if(s===t.startLineNumber)for(var a=0;!o&&a<i.length;a++)i[a].lineNumber===s&&(o=i[a].ranges[0]);var l=e[e.length-1].lineNumber;if(l===t.endLineNumber)for(a=i.length-1;!r&&0<=a;a--)i[a].lineNumber===l&&(r=i[a].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}a=0;for(var u=e.length;a<u;a++){var h=e[a].ranges[0],c=h.left,d=h.left+h.width,p={top:0,bottom:0},f={top:0,bottom:0};if(0<a){var g=e[a-1].ranges[0].left,m=e[a-1].ranges[0].left+e[a-1].ranges[0].width;Jo(c-g)<n?p.top=2:g<c&&(p.top=1),Jo(d-m)<n?f.top=2:g<d&&d<m&&(f.top=1)}else o&&(p.top=o.startStyle.top,f.top=o.endStyle.top);if(a+1<u){var v=e[a+1].ranges[0].left,y=e[a+1].ranges[0].left+e[a+1].ranges[0].width;Jo(c-v)<n?p.bottom=2:v<c&&c<y&&(p.bottom=1),Jo(d-y)<n?f.bottom=2:d<y&&(f.bottom=1)}else r&&(p.bottom=r.startStyle.bottom,f.bottom=r.endStyle.bottom);h.startStyle=p,h.endStyle=f}},Xo.prototype._getVisibleRangesWithStyle=function(t,e,i){var n=(e.linesVisibleRangesForRange(t,!0)||[]).map(Go),o=this._visibleRangesHaveGaps(n);return $o||o||!this._roundedSelection||this._enrichVisibleRangesWithStyle(e.visibleRange,n,i),n},Xo.prototype._createSelectionPiece=function(t,e,i,n,o){return'<div class="cslr '+i+'" style="top:'+t.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+e+'px;"></div>'},Xo.prototype._actualRenderOneSelection=function(t,e,i,n){for(var o=0<n.length&&n[0].ranges[0].startStyle,r=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=0<n.length?n[0].lineNumber:0,l=0<n.length?n[n.length-1].lineNumber:0,u=0,h=n.length;u<h;u++){for(var c=n[u],d=c.lineNumber,p=d-e,f=!i||d!==l&&d!==a?r:s,g=i&&d===a?1:0,m="",v=0,y=c.ranges.length;v<y;v++){var _=c.ranges[v];if(o){var b=_.startStyle,w=_.endStyle;if(1===b.top||1===b.bottom){m+=this._createSelectionPiece(g,f,Xo.SELECTION_CLASS_NAME,_.left-Xo.ROUNDED_PIECE_WIDTH,Xo.ROUNDED_PIECE_WIDTH);var C=Xo.EDITOR_BACKGROUND_CLASS_NAME;1===b.top&&(C+=" "+Xo.SELECTION_TOP_RIGHT),1===b.bottom&&(C+=" "+Xo.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(g,f,C,_.left-Xo.ROUNDED_PIECE_WIDTH,Xo.ROUNDED_PIECE_WIDTH)}if(1===w.top||1===w.bottom){m+=this._createSelectionPiece(g,f,Xo.SELECTION_CLASS_NAME,_.left+_.width,Xo.ROUNDED_PIECE_WIDTH);var S=Xo.EDITOR_BACKGROUND_CLASS_NAME;1===w.top&&(S+=" "+Xo.SELECTION_TOP_LEFT),1===w.bottom&&(S+=" "+Xo.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(g,f,S,_.left+_.width,Xo.ROUNDED_PIECE_WIDTH)}}var x=Xo.SELECTION_CLASS_NAME;o&&(b=_.startStyle,w=_.endStyle,0===b.top&&(x+=" "+Xo.SELECTION_TOP_LEFT),0===b.bottom&&(x+=" "+Xo.SELECTION_BOTTOM_LEFT),0===w.top&&(x+=" "+Xo.SELECTION_TOP_RIGHT),0===w.bottom&&(x+=" "+Xo.SELECTION_BOTTOM_RIGHT)),m+=this._createSelectionPiece(g,f,x,_.left,_.width)}t[p]+=m}},Xo.prototype.prepareRender=function(t){for(var e=[],i=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber,o=i;o<=n;o++)e[o-i]="";for(var r=[],s=0,a=this._selections.length;s<a;s++){var l=this._selections[s];if(l.isEmpty())r[s]=null;else{var u=this._getVisibleRangesWithStyle(l,t,this._previousFrameVisibleRangesWithStyle[s]);r[s]=u,this._actualRenderOneSelection(e,i,1<this._selections.length,u)}}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=e},Xo.prototype.render=function(t,e){if(!this._renderResult)return"";var i=e-t;return i<0||i>=this._renderResult.length?"":this._renderResult[i]},Xo.SELECTION_CLASS_NAME="selected-text",Xo.SELECTION_TOP_LEFT="top-left-radius",Xo.SELECTION_BOTTOM_LEFT="bottom-left-radius",Xo.SELECTION_TOP_RIGHT="top-right-radius",Xo.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Xo.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Xo.ROUNDED_PIECE_WIDTH=10,Xo);function Xo(t){var e=Yo.call(this)||this;return e._previousFrameVisibleRangesWithStyle=[],e._context=t,e._lineHeight=e._context.configuration.editor.lineHeight,e._roundedSelection=e._context.configuration.editor.viewInfo.roundedSelection,e._typicalHalfwidthCharacterWidth=e._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,e._selections=[],e._renderResult=null,e._context.addEventHandler(e),e}function Jo(t){return t<0?-t:t}Object(ut.e)(function(t,e){var i=t.getColor(Qn.z);i&&e.addRule(".monaco-editor .focused .selected-text { background-color: "+i+"; }");var n=t.getColor(Qn.y);n&&e.addRule(".monaco-editor .selected-text { background-color: "+n+"; }");var o=t.getColor(Qn.A);o&&e.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+o+"; }")});i(302);var Qo=i(33),tr=function(t,e,i,n,o,r){this.top=t,this.left=e,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=r},er=(ir.prototype.getDomNode=function(){return this._domNode},ir.prototype.getPosition=function(){return this._position},ir.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},ir.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},ir.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(a.a.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),t.viewInfo&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth)),!0},ir.prototype.onCursorPositionChanged=function(t){return this.updatePosition(t),!0},ir.prototype._prepareRender=function(t){var e="",i="";if(this._cursorStyle===Qo.g.Line||this._cursorStyle===Qo.g.LineThin){var n,o=t.visibleRangeForPosition(this._position);if(!o)return null;this._cursorStyle===Qo.g.Line?2<(n=b.n(0<this._lineCursorWidth?this._lineCursorWidth:2))&&(e=this._context.model.getLineContent(this._position.lineNumber).charAt(this._position.column-1)):n=b.n(1);var r=o.left;2<=n&&1<=r&&(r-=1);var s=t.getVerticalOffsetForLineNumber(this._position.lineNumber)-t.bigNumbersDelta;return new tr(s,r,n,this._lineHeight,e,i)}var a=t.linesVisibleRangesForRange(new Nt.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),!1);if(!a||0===a.length||0===a[0].ranges.length)return null;var l=a[0].ranges[0],u=l.width<1?this._typicalHalfwidthCharacterWidth:l.width;if(this._cursorStyle===Qo.g.Block){var h=this._context.model.getViewLineData(this._position.lineNumber);e=h.content.charAt(this._position.column-1),we.u(h.content.charCodeAt(this._position.column-1))&&(e+=h.content.charAt(this._position.column));var c=h.tokens.findTokenIndexAtOffset(this._position.column-1);i=h.tokens.getClassName(c)}var d=t.getVerticalOffsetForLineNumber(this._position.lineNumber)-t.bigNumbersDelta,p=this._lineHeight;return this._cursorStyle!==Qo.g.Underline&&this._cursorStyle!==Qo.g.UnderlineThin||(d+=this._lineHeight-2,p=2),new tr(d,l.left,u,p,e,i)},ir.prototype.prepareRender=function(t){this._renderData=this._prepareRender(t)},ir.prototype.render=function(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},ir.prototype.updatePosition=function(t){this._position=t},ir);function ir(t){this._context=t,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(l.b)(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),a.a.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._domNode.setDisplay("none"),this.updatePosition(new It.a(1,1)),this._lastRenderedContent="",this._renderData=null}var nr,or,rr=((nr=function(t,e){return(nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}nr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(sr,or=V),sr.prototype.dispose=function(){or.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},sr.prototype.getDomNode=function(){return this._domNode},sr.prototype.onConfigurationChanged=function(t){t.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),t.viewInfo&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),this._primaryCursor.onConfigurationChanged(t),this._updateBlinking(),t.viewInfo&&this._updateDomClassName();for(var e=0,i=this._secondaryCursors.length;e<i;e++)this._secondaryCursors[e].onConfigurationChanged(t);return!0},sr.prototype._onCursorPositionChanged=function(t,e){if(this._primaryCursor.onCursorPositionChanged(t),this._updateBlinking(),this._secondaryCursors.length<e.length)for(var i=e.length-this._secondaryCursors.length,n=0;n<i;n++){var o=new er(this._context);this._domNode.domNode.insertBefore(o.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(o)}else if(this._secondaryCursors.length>e.length){var r=this._secondaryCursors.length-e.length;for(n=0;n<r;n++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(n=0;n<e.length;n++)this._secondaryCursors[n].onCursorPositionChanged(e[n])},sr.prototype.onCursorStateChanged=function(t){for(var e=[],i=0,n=t.selections.length;i<n;i++)e[i]=t.selections[i].getPosition();this._onCursorPositionChanged(e[0],e.slice(1));var o=t.selections[0].isEmpty();return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,this._updateDomClassName()),!0},sr.prototype.onDecorationsChanged=function(t){return!0},sr.prototype.onFlushed=function(t){return!0},sr.prototype.onFocusChanged=function(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1},sr.prototype.onLinesChanged=function(t){return!0},sr.prototype.onLinesDeleted=function(t){return!0},sr.prototype.onLinesInserted=function(t){return!0},sr.prototype.onScrollChanged=function(t){return!0},sr.prototype.onTokensChanged=function(n){function t(t){for(var e=0,i=n.ranges.length;e<i;e++)if(n.ranges[e].fromLineNumber<=t.lineNumber&&t.lineNumber<=n.ranges[e].toLineNumber)return!0;return!1}if(t(this._primaryCursor.getPosition()))return!0;for(var e=0;e<this._secondaryCursors.length;e++)if(t(this._secondaryCursors[e].getPosition()))return!0;return!1},sr.prototype.onZonesChanged=function(t){return!0},sr.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},sr.prototype._updateBlinking=function(){var t=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var e=this._getCursorBlinking(),i=0===e,n=5===e;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),i||n||(1===e?this._cursorFlatBlinkInterval.cancelAndSet(function(){t._isVisible?t._hide():t._show()},sr.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){t._blinkingEnabled=!0,t._updateDomClassName()},sr.BLINK_INTERVAL))},sr.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},sr.prototype._getClassName=function(){var t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case Qo.g.Line:t+=" cursor-line-style";break;case Qo.g.Block:t+=" cursor-block-style";break;case Qo.g.Underline:t+=" cursor-underline-style";break;case Qo.g.LineThin:t+=" cursor-line-thin-style";break;case Qo.g.BlockOutline:t+=" cursor-block-outline-style";break;case Qo.g.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return t},sr.prototype._show=function(){this._primaryCursor.show();for(var t=0,e=this._secondaryCursors.length;t<e;t++)this._secondaryCursors[t].show();this._isVisible=!0},sr.prototype._hide=function(){this._primaryCursor.hide();for(var t=0,e=this._secondaryCursors.length;t<e;t++)this._secondaryCursors[t].hide();this._isVisible=!1},sr.prototype.prepareRender=function(t){this._primaryCursor.prepareRender(t);for(var e=0,i=this._secondaryCursors.length;e<i;e++)this._secondaryCursors[e].prepareRender(t)},sr.prototype.render=function(t){var e=[],i=0,n=this._primaryCursor.render(t);n&&(e[i++]=n);for(var o=0,r=this._secondaryCursors.length;o<r;o++){var s=this._secondaryCursors[o].render(t);s&&(e[i++]=s)}this._renderData=e},sr.prototype.getLastRenderData=function(){return this._renderData},sr.BLINK_INTERVAL=500,sr);function sr(t){var e=or.call(this,t)||this;return e._readOnly=e._context.configuration.editor.readOnly,e._cursorBlinking=e._context.configuration.editor.viewInfo.cursorBlinking,e._cursorStyle=e._context.configuration.editor.viewInfo.cursorStyle,e._selectionIsEmpty=!0,e._primaryCursor=new er(e._context),e._secondaryCursors=[],e._renderData=[],e._domNode=Object(l.b)(document.createElement("div")),e._domNode.setAttribute("role","presentation"),e._domNode.setAttribute("aria-hidden","true"),e._updateDomClassName(),e._domNode.appendChild(e._primaryCursor.getDomNode()),e._startCursorBlinkAnimation=new c.e,e._cursorFlatBlinkInterval=new c.c,e._blinkingEnabled=!1,e._editorHasFocus=!1,e._updateBlinking(),e}Object(ut.e)(function(t,e){var i=t.getColor(Le.g);if(i){var n=t.getColor(Le.f);n=n||i.opposite(),e.addRule(".monaco-editor .cursor { background-color: "+i+"; border-color: "+i+"; color: "+n+"; }"),"hc"===t.type&&e.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+n+"; border-right: 1px solid "+n+"; }")}});var ar,lr,ur=((ar=function(t,e){return(ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ar(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(hr,lr=V),hr.prototype.dispose=function(){lr.prototype.dispose.call(this),this._zones={}},hr.prototype._recomputeWhitespacesProps=function(){for(var t=!1,e=Object.keys(this._zones),i=0,n=e.length;i<n;i++){var o=e[i],r=this._zones[o],s=this._computeWhitespaceProps(r.delegate);this._context.viewLayout.changeWhitespace(parseInt(o,10),s.afterViewLineNumber,s.heightInPx)&&(this._safeCallOnComputedHeight(r.delegate,s.heightInPx),t=!0)}return t},hr.prototype.onConfigurationChanged=function(t){return t.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0)},hr.prototype.onLineMappingChanged=function(t){var e=this._recomputeWhitespacesProps();return e&&this._context.viewLayout.onHeightMaybeChanged(),e},hr.prototype.onLinesDeleted=function(t){return!0},hr.prototype.onScrollChanged=function(t){return t.scrollTopChanged||t.scrollWidthChanged},hr.prototype.onZonesChanged=function(t){return!0},hr.prototype.onLinesInserted=function(t){return!0},hr.prototype._getZoneOrdinal=function(t){return void 0!==t.afterColumn?t.afterColumn:1e4},hr.prototype._computeWhitespaceProps=function(t){if(0===t.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};var e,i;if(void 0!==t.afterColumn)e=this._context.model.validateModelPosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{var n=this._context.model.validateModelPosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;e=new It.a(n,this._context.model.getModelLineMaxColumn(n))}i=e.column===this._context.model.getModelLineMaxColumn(e.lineNumber)?this._context.model.validateModelPosition({lineNumber:e.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:e.lineNumber,column:e.column+1});var o=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(e),r=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{afterViewLineNumber:o.lineNumber,heightInPx:r?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}},hr.prototype.addZone=function(t){var e=this._computeWhitespaceProps(t),i={whitespaceId:this._context.viewLayout.addWhitespace(e.afterViewLineNumber,this._getZoneOrdinal(t),e.heightInPx,e.minWidthInPx),delegate:t,isVisible:!1,domNode:Object(l.b)(t.domNode),marginDomNode:t.marginDomNode?Object(l.b)(t.marginDomNode):null};return this._safeCallOnComputedHeight(i.delegate,e.heightInPx),i.domNode.setPosition("absolute"),i.domNode.domNode.style.width="100%",i.domNode.setDisplay("none"),i.domNode.setAttribute("monaco-view-zone",i.whitespaceId.toString()),this.domNode.appendChild(i.domNode),i.marginDomNode&&(i.marginDomNode.setPosition("absolute"),i.marginDomNode.domNode.style.width="100%",i.marginDomNode.setDisplay("none"),i.marginDomNode.setAttribute("monaco-view-zone",i.whitespaceId.toString()),this.marginDomNode.appendChild(i.marginDomNode)),this._zones[i.whitespaceId.toString()]=i,this.setShouldRender(),i.whitespaceId},hr.prototype.removeZone=function(t){if(this._zones.hasOwnProperty(t.toString())){var e=this._zones[t.toString()];return delete this._zones[t.toString()],this._context.viewLayout.removeWhitespace(e.whitespaceId),e.domNode.removeAttribute("monaco-visible-view-zone"),e.domNode.removeAttribute("monaco-view-zone"),e.domNode.domNode.parentNode.removeChild(e.domNode.domNode),e.marginDomNode&&(e.marginDomNode.removeAttribute("monaco-visible-view-zone"),e.marginDomNode.removeAttribute("monaco-view-zone"),e.marginDomNode.domNode.parentNode.removeChild(e.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},hr.prototype.layoutZone=function(t){var e=!1;if(this._zones.hasOwnProperty(t.toString())){var i=this._zones[t.toString()],n=this._computeWhitespaceProps(i.delegate);(e=this._context.viewLayout.changeWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx)||e)&&(this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender())}return e},hr.prototype.shouldSuppressMouseDownOnViewZone=function(t){if(this._zones.hasOwnProperty(t.toString())){var e=this._zones[t.toString()];return Boolean(e.delegate.suppressMouseDown)}return!1},hr.prototype._heightInPixels=function(t){return"number"==typeof t.heightInPx?t.heightInPx:"number"==typeof t.heightInLines?this._lineHeight*t.heightInLines:this._lineHeight},hr.prototype._minWidthInPixels=function(t){return"number"==typeof t.minWidthInPx?t.minWidthInPx:0},hr.prototype._safeCallOnComputedHeight=function(t,e){if("function"==typeof t.onComputedHeight)try{t.onComputedHeight(e)}catch(t){Object(g.e)(t)}},hr.prototype._safeCallOnDomNodeTop=function(t,e){if("function"==typeof t.onDomNodeTop)try{t.onDomNodeTop(e)}catch(t){Object(g.e)(t)}},hr.prototype.prepareRender=function(t){},hr.prototype.render=function(t){for(var e=t.viewportData.whitespaceViewportData,i={},n=!1,o=0,r=e.length;o<r;o++)i[e[o].id.toString()]=e[o],n=!0;var s=Object.keys(this._zones);for(o=0,r=s.length;o<r;o++){var a=s[o],l=this._zones[a],u=0,h=0,c="none";i.hasOwnProperty(a)?(u=i[a].verticalOffset-t.bigNumbersDelta,h=i[a].height,c="block",l.isVisible||(l.domNode.setAttribute("monaco-visible-view-zone","true"),l.isVisible=!0),this._safeCallOnDomNodeTop(l.delegate,t.getScrolledTopFromAbsoluteTop(i[a].verticalOffset))):(l.isVisible&&(l.domNode.removeAttribute("monaco-visible-view-zone"),l.isVisible=!1),this._safeCallOnDomNodeTop(l.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),l.domNode.setTop(u),l.domNode.setHeight(h),l.domNode.setDisplay(c),l.marginDomNode&&(l.marginDomNode.setTop(u),l.marginDomNode.setHeight(h),l.marginDomNode.setDisplay(c))}n&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},hr);function hr(t){var e=lr.call(this,t)||this;return e._lineHeight=e._context.configuration.editor.lineHeight,e._contentWidth=e._context.configuration.editor.layoutInfo.contentWidth,e._contentLeft=e._context.configuration.editor.layoutInfo.contentLeft,e.domNode=Object(l.b)(document.createElement("div")),e.domNode.setClassName("view-zones"),e.domNode.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e.marginDomNode=Object(l.b)(document.createElement("div")),e.marginDomNode.setClassName("margin-view-zones"),e.marginDomNode.setPosition("absolute"),e.marginDomNode.setAttribute("role","presentation"),e.marginDomNode.setAttribute("aria-hidden","true"),e._zones={},e}var cr=(dr.prototype.addEventHandler=function(t){this.privateViewEventBus.addEventHandler(t)},dr.prototype.removeEventHandler=function(t){this.privateViewEventBus.removeEventHandler(t)},dr);function dr(t,e,i,n){this.configuration=t,this.theme=e,this.model=i,this.viewLayout=i.viewLayout,this.privateViewEventBus=n}var pr=(fr.prototype.addEventHandler=function(t){for(var e=0,i=this._eventHandlers.length;e<i;e++)this._eventHandlers[e]===t&&console.warn("Detected duplicate listener in ViewEventDispatcher",t);this._eventHandlers.push(t)},fr.prototype.removeEventHandler=function(t){for(var e=0;e<this._eventHandlers.length;e++)if(this._eventHandlers[e]===t){this._eventHandlers.splice(e,1);break}},fr.prototype.emit=function(t){this._eventQueue?this._eventQueue.push(t):this._eventQueue=[t],this._isConsumingQueue||this.consumeQueue()},fr.prototype.emitMany=function(t){this._eventQueue?this._eventQueue=this._eventQueue.concat(t):this._eventQueue=t,this._isConsumingQueue||this.consumeQueue()},fr.prototype.consumeQueue=function(){var t=this;this._eventHandlerGateKeeper(function(){try{t._isConsumingQueue=!0,t._doConsumeQueue()}finally{t._isConsumingQueue=!1}})},fr.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var t=this._eventQueue;this._eventQueue=null;for(var e=this._eventHandlers.slice(0),i=0,n=e.length;i<n;i++)e[i].handleEvents(t)}},fr);function fr(t){this._eventHandlerGateKeeper=t,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}var gr=(mr.prototype.getViewLineRenderingData=function(t){return this._model.getViewLineRenderingData(this.visibleRange,t)},mr.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},mr);function mr(t,e,i,n){this.selections=t,this.startLineNumber=0|e.startLineNumber,this.endLineNumber=0|e.endLineNumber,this.relativeVerticalOffset=e.relativeVerticalOffset,this.bigNumbersDelta=0|e.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new Nt.a(e.startLineNumber,this._model.getLineMinColumn(e.startLineNumber),e.endLineNumber,this._model.getLineMaxColumn(e.endLineNumber))}function vr(){throw new Error("Invalid change accessor")}var yr,_r,br=(yr=function(t,e){return(yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}yr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),wr=(br(Cr,_r=j),Cr.prototype.createViewParts=function(){this.linesContent=Object(l.b)(document.createElement("div")),this.linesContent.setClassName("lines-content monaco-editor-background"),this.linesContent.setPosition("absolute"),this.domNode=Object(l.b)(document.createElement("div")),this.domNode.setClassName(this.getEditorClassName()),this.overflowGuardContainer=Object(l.b)(document.createElement("div")),U.write(this.overflowGuardContainer,3),this.overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new un(this._context,this.linesContent,this.domNode,this.overflowGuardContainer),this.viewParts.push(this._scrollbar),this.viewLines=new In(this._context,this.linesContent),this.viewZones=new ur(this._context),this.viewParts.push(this.viewZones);var t=new Eo(this._context);this.viewParts.push(t);var e=new Ho(this._context);this.viewParts.push(e);var i=new Ai(this._context);this.viewParts.push(i),i.addDynamicOverlay(new $i(this._context)),i.addDynamicOverlay(new Zo(this._context)),i.addDynamicOverlay(new Cn(this._context)),i.addDynamicOverlay(new on(this._context));var n=new Fi(this._context);this.viewParts.push(n),n.addDynamicOverlay(new Qi(this._context)),n.addDynamicOverlay(new yn(this._context)),n.addDynamicOverlay(new jn(this._context)),n.addDynamicOverlay(new An(this._context)),n.addDynamicOverlay(new De(this._context));var o=new Me(this._context);o.getDomNode().appendChild(this.viewZones.marginDomNode),o.getDomNode().appendChild(n.getDomNode()),this.viewParts.push(o),this.contentWidgets=new zi(this._context,this.domNode),this.viewParts.push(this.contentWidgets),this.viewCursors=new rr(this._context),this.viewParts.push(this.viewCursors),this.overlayWidgets=new _o(this._context),this.viewParts.push(this.overlayWidgets);var r=new Ro(this._context);this.viewParts.push(r);var s=new go(this._context);if(this.viewParts.push(s),t){var a=this._scrollbar.getOverviewRulerLayoutInfo();a.parent.insertBefore(t.getDomNode(),a.insertBefore)}this.linesContent.appendChild(i.getDomNode()),this.linesContent.appendChild(r.domNode),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.getDomNode()),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(this.viewCursors.getDomNode()),this.overflowGuardContainer.appendChild(o.getDomNode()),this.overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this.overflowGuardContainer.appendChild(e.getDomNode()),this.overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this.overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this.overflowGuardContainer.appendChild(this.overlayWidgets.getDomNode()),this.overflowGuardContainer.appendChild(s.getDomNode()),this.domNode.appendChild(this.overflowGuardContainer),this.domNode.appendChild(this.contentWidgets.overflowingContentWidgetsDomNode)},Cr.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},Cr.prototype.createPointerHandlerHelper=function(){var i=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){i.focus()},getLastViewCursorsRenderData:function(){return i.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(t){return i.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){return i.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,e){return i._flushAccumulatedAndRenderNow(),i.viewLines.getPositionFromDOMInfo(t,e)},visibleRangeForPosition2:function(t,e){return i._flushAccumulatedAndRenderNow(),i.viewLines.visibleRangeForPosition(new It.a(t,e))},getLineWidth:function(t){return i._flushAccumulatedAndRenderNow(),i.viewLines.getLineWidth(t)}}},Cr.prototype.createTextAreaHandlerHelper=function(){var i=this;return{visibleRangeForPositionRelativeToEditor:function(t,e){return i._flushAccumulatedAndRenderNow(),i.viewLines.visibleRangeForPosition(new It.a(t,e))}}},Cr.prototype._setLayout=function(){var t=this._context.configuration.editor.layoutInfo;this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this.overflowGuardContainer.setWidth(t.width),this.overflowGuardContainer.setHeight(t.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},Cr.prototype.getEditorClassName=function(){var t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.editor.editorClassName+" "+Object(ut.d)(this._context.theme.type)+t},Cr.prototype.onConfigurationChanged=function(t){return t.editorClassName&&this.domNode.setClassName(this.getEditorClassName()),t.layoutInfo&&this._setLayout(),!1},Cr.prototype.onFocusChanged=function(t){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(t.isFocused),t.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},Cr.prototype.onScrollChanged=function(t){return this.outgoingEvents.emitScrollChanged(t),!1},Cr.prototype.onThemeChanged=function(t){return this.domNode.setClassName(this.getEditorClassName()),!1},Cr.prototype.dispose=function(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var t=0,e=this.viewParts.length;t<e;t++)this.viewParts[t].dispose();this.viewParts=[],_r.prototype.dispose.call(this)},Cr.prototype._renderOnce=function(t){var e=Sr(t);return this._scheduleRender(),e},Cr.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=b.L(this._onRenderScheduled.bind(this),100))},Cr.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},Cr.prototype._renderNow=function(){var t=this;Sr(function(){return t._actualRender()})},Cr.prototype._getViewPartsToRender=function(){for(var t=[],e=0,i=0,n=this.viewParts.length;i<n;i++){var o=this.viewParts[i];o.shouldRender()&&(t[e++]=o)}return t},Cr.prototype._actualRender=function(){if(b.E(this.domNode.domNode)){var t=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==t.length){var e=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(e.startLineNumber,e.endLineNumber,e.centeredLineNumber);var i=new gr(this._cursor.getViewSelections(),e,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(i),this.viewLines.shouldRender()&&(this.viewLines.renderText(i),this.viewLines.onDidRender(),t=this._getViewPartsToRender());for(var n=new X(this._context.viewLayout,i,this.viewLines),o=0,r=t.length;o<r;o++)(s=t[o]).prepareRender(n);for(o=0,r=t.length;o<r;o++){var s;(s=t[o]).render(n),s.onDidRender()}}}},Cr.prototype.delegateVerticalScrollbarMouseDown=function(t){this._scrollbar.delegateVerticalScrollbarMouseDown(t)},Cr.prototype.restoreState=function(t){this._context.viewLayout.setScrollPositionNow({scrollTop:t.scrollTop}),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:t.scrollLeft})},Cr.prototype.getOffsetForColumn=function(t,e){var i=this._context.model.validateModelPosition({lineNumber:t,column:e}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();var o=this.viewLines.visibleRangeForPosition(new It.a(n.lineNumber,n.column));return o?o.left:-1},Cr.prototype.getTargetAtClientPoint=function(t,e){return this.pointerHandler.getTargetAtClientPoint(t,e)},Cr.prototype.createOverviewRuler=function(t){return new To(this._context,t)},Cr.prototype.change=function(e){var i=this,n=!1;return this._renderOnce(function(){var t={addZone:function(t){return n=!0,i.viewZones.addZone(t)},removeZone:function(t){t&&(n=i.viewZones.removeZone(t)||n)},layoutZone:function(t){t&&(n=i.viewZones.layoutZone(t)||n)}};!function(t,e){try{t(e)}catch(t){Object(g.e)(t)}}(e,t),t.addZone=vr,t.removeZone=vr,t.layoutZone=vr,n&&(i._context.viewLayout.onHeightMaybeChanged(),i._context.privateViewEventBus.emit(new Qe))}),n},Cr.prototype.render=function(t,e){if(e){this.viewLines.forceShouldRender();for(var i=0,n=this.viewParts.length;i<n;i++)this.viewParts[i].forceShouldRender()}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()},Cr.prototype.focus=function(){this._textAreaHandler.focusTextArea()},Cr.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},Cr.prototype.addContentWidget=function(t){this.contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()},Cr.prototype.layoutContentWidget=function(t){var e=t.position?t.position.position:null,i=t.position?t.position.range:null,n=t.position?t.position.preference:null;this.contentWidgets.setWidgetPosition(t.widget,e,i,n),this._scheduleRender()},Cr.prototype.removeContentWidget=function(t){this.contentWidgets.removeWidget(t.widget),this._scheduleRender()},Cr.prototype.addOverlayWidget=function(t){this.overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()},Cr.prototype.layoutOverlayWidget=function(t){var e=t.position?t.position.preference:null;this.overlayWidgets.setWidgetPosition(t.widget,e)&&this._scheduleRender()},Cr.prototype.removeOverlayWidget=function(t){this.overlayWidgets.removeWidget(t.widget),this._scheduleRender()},Cr);function Cr(t,e,i,n,o,r){var s=_r.call(this)||this;s._cursor=o,s._renderAnimationFrame=null,s.outgoingEvents=r;var a=new vi(e,n,s.outgoingEvents,t);return s.eventDispatcher=new pr(function(t){return s._renderOnce(t)}),s.eventDispatcher.addEventHandler(s),s._context=new cr(e,i.getTheme(),n,s.eventDispatcher),s._register(i.onThemeChange(function(t){s._context.theme=t,s.eventDispatcher.emit(new Xe),s.render(!0,!1)})),s.viewParts=[],s._textAreaHandler=new fi(s._context,a,s.createTextAreaHandlerHelper()),s.viewParts.push(s._textAreaHandler),s.createViewParts(),s._setLayout(),s.pointerHandler=new ve(s._context,a,s.createPointerHandlerHelper()),s._register(n.addEventListener(function(t){s.eventDispatcher.emitMany(t)})),s._register(s._cursor.addEventListener(function(t){s.eventDispatcher.emitMany(t)})),s}function Sr(t){try{return t()}catch(t){Object(g.e)(t)}}var xr,kr,Or=(xr=function(t,e){return(xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}xr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Er=(kr=r.a,Or(Lr,kr),Lr.prototype.emitScrollChanged=function(t){this.onDidScroll&&this.onDidScroll(t)},Lr.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},Lr.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},Lr.prototype.emitKeyDown=function(t){this.onKeyDown&&this.onKeyDown(t)},Lr.prototype.emitKeyUp=function(t){this.onKeyUp&&this.onKeyUp(t)},Lr.prototype.emitContextMenu=function(t){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(t))},Lr.prototype.emitMouseMove=function(t){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(t))},Lr.prototype.emitMouseLeave=function(t){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(t))},Lr.prototype.emitMouseUp=function(t){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(t))},Lr.prototype.emitMouseDown=function(t){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(t))},Lr.prototype.emitMouseDrag=function(t){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(t))},Lr.prototype.emitMouseDrop=function(t){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(t))},Lr.prototype._convertViewToModelMouseEvent=function(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t},Lr.prototype._convertViewToModelMouseTarget=function(t){return new Dr(t.element,t.type,t.mouseColumn,t.position?this._convertViewToModelPosition(t.position):null,t.range?this._convertViewToModelRange(t.range):null,t.detail)},Lr.prototype._convertViewToModelPosition=function(t){return this._viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)},Lr.prototype._convertViewToModelRange=function(t){return this._viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},Lr);function Lr(t){var e=kr.call(this)||this;return e.onDidScroll=null,e.onDidGainFocus=null,e.onDidLoseFocus=null,e.onKeyDown=null,e.onKeyUp=null,e.onContextMenu=null,e.onMouseMove=null,e.onMouseLeave=null,e.onMouseUp=null,e.onMouseDown=null,e.onMouseDrag=null,e.onMouseDrop=null,e._viewModel=t,e}var Dr=(Ir.prototype.toString=function(){return Mt.toString(this)},Ir);function Ir(t,e,i,n,o,r){this.element=t,this.type=e,this.mouseColumn=i,this.position=n,this.range=o,this.detail=r}var Nr=i(15),Tr=(Mr.prototype.dispose=function(t){this._removeTrackedRange(t)},Mr.prototype.startTrackingSelection=function(t){this._trackSelection=!0,this._updateTrackedRange(t)},Mr.prototype.stopTrackingSelection=function(t){this._trackSelection=!1,this._removeTrackedRange(t)},Mr.prototype._updateTrackedRange=function(t){this._trackSelection&&(this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))},Mr.prototype._removeTrackedRange=function(t){this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,null,0)},Mr.prototype.asCursorState=function(){return new Nr.d(this.modelState,this.viewState)},Mr.prototype.readSelectionFromMarkers=function(t){var e=t.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new Yt.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new Yt.a(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)},Mr.prototype.ensureValidState=function(t){this._setState(t,this.modelState,this.viewState)},Mr.prototype.setState=function(t,e,i){this._setState(t,e,i)},Mr.prototype._setState=function(t,e,i){if(e){r=t.model.validateRange(e.selectionStart);var n=e.selectionStart.equalsRange(r)?e.selectionStartLeftoverVisibleColumns:0,o=(s=t.model.validatePosition(e.position),e.position.equals(s)?e.leftoverVisibleColumns:0);e=new Nr.f(r,n,s,o)}else{if(!i)return;var r=t.model.validateRange(t.convertViewRangeToModelRange(i.selectionStart)),s=t.model.validatePosition(t.convertViewPositionToModelPosition(i.position.lineNumber,i.position.column));e=new Nr.f(r,i.selectionStartLeftoverVisibleColumns,s,i.leftoverVisibleColumns)}if(i)u=t.validateViewRange(i.selectionStart,e.selectionStart),h=t.validateViewPosition(i.position,e.position),i=new Nr.f(u,e.selectionStartLeftoverVisibleColumns,h,e.leftoverVisibleColumns);else{var a=t.convertModelPositionToViewPosition(new It.a(e.selectionStart.startLineNumber,e.selectionStart.startColumn)),l=t.convertModelPositionToViewPosition(new It.a(e.selectionStart.endLineNumber,e.selectionStart.endColumn)),u=new Nt.a(a.lineNumber,a.column,l.lineNumber,l.column),h=t.convertModelPositionToViewPosition(e.position);i=new Nr.f(u,e.selectionStartLeftoverVisibleColumns,h,e.leftoverVisibleColumns)}this.modelState=e,this.viewState=i,this._updateTrackedRange(t)},Mr);function Mr(t){this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new Nr.f(new Nt.a(1,1,1,1),0,new It.a(1,1),0),new Nr.f(new Nt.a(1,1,1,1),0,new It.a(1,1),0))}var Ar=(Pr.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},Pr.prototype.startTrackingSelections=function(){this.primaryCursor.startTrackingSelection(this.context);for(var t=0,e=this.secondaryCursors.length;t<e;t++)this.secondaryCursors[t].startTrackingSelection(this.context)},Pr.prototype.stopTrackingSelections=function(){this.primaryCursor.stopTrackingSelection(this.context);for(var t=0,e=this.secondaryCursors.length;t<e;t++)this.secondaryCursors[t].stopTrackingSelection(this.context)},Pr.prototype.updateContext=function(t){this.context=t},Pr.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var t=0,e=this.secondaryCursors.length;t<e;t++)this.secondaryCursors[t].ensureValidState(this.context)},Pr.prototype.readSelectionFromMarkers=function(){var t=[];t[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var e=0,i=this.secondaryCursors.length;e<i;e++)t[e+1]=this.secondaryCursors[e].readSelectionFromMarkers(this.context);return t},Pr.prototype.getAll=function(){var t=[];t[0]=this.primaryCursor.asCursorState();for(var e=0,i=this.secondaryCursors.length;e<i;e++)t[e+1]=this.secondaryCursors[e].asCursorState();return t},Pr.prototype.getViewPositions=function(){var t=[];t[0]=this.primaryCursor.viewState.position;for(var e=0,i=this.secondaryCursors.length;e<i;e++)t[e+1]=this.secondaryCursors[e].viewState.position;return t},Pr.prototype.getSelections=function(){var t=[];t[0]=this.primaryCursor.modelState.selection;for(var e=0,i=this.secondaryCursors.length;e<i;e++)t[e+1]=this.secondaryCursors[e].modelState.selection;return t},Pr.prototype.getViewSelections=function(){var t=[];t[0]=this.primaryCursor.viewState.selection;for(var e=0,i=this.secondaryCursors.length;e<i;e++)t[e+1]=this.secondaryCursors[e].viewState.selection;return t},Pr.prototype.setSelections=function(t){this.setStates(Nr.d.fromModelSelections(t))},Pr.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},Pr.prototype.setStates=function(t){null!==t&&(this.primaryCursor.setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))},Pr.prototype._setSecondaryStates=function(t){var e=this.secondaryCursors.length,i=t.length;if(e<i)for(var n=i-e,o=0;o<n;o++)this._addSecondaryCursor();else if(i<e){var r=e-i;for(o=0;o<r;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(o=0;o<i;o++)this.secondaryCursors[o].setState(this.context,t[o].modelState,t[o].viewState)},Pr.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},Pr.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new Tr(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},Pr.prototype.getLastAddedCursorIndex=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex},Pr.prototype._removeSecondaryCursor=function(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.secondaryCursors[t].dispose(this.context),this.secondaryCursors.splice(t,1)},Pr.prototype._getAll=function(){var t=[];t[0]=this.primaryCursor;for(var e=0,i=this.secondaryCursors.length;e<i;e++)t[e+1]=this.secondaryCursors[e];return t},Pr.prototype.normalize=function(){if(0!==this.secondaryCursors.length){for(var t=this._getAll(),e=[],i=0,n=t.length;i<n;i++)e.push({index:i,selection:t[i].modelState.selection});e.sort(function(t,e){return t.selection.startLineNumber===e.selection.startLineNumber?t.selection.startColumn-e.selection.startColumn:t.selection.startLineNumber-e.selection.startLineNumber});for(var o=0;o<e.length-1;o++){var r=e[o],s=e[o+1],a=r.selection,l=s.selection;if(this.context.config.multiCursorMergeOverlapping&&(l.isEmpty()||a.isEmpty()?l.getStartPosition().isBeforeOrEqual(a.getEndPosition()):l.getStartPosition().isBefore(a.getEndPosition()))){var u=r.index<s.index?o:o+1,h=r.index<s.index?o+1:o,c=e[h].index,d=e[u].index,p=e[h].selection,f=e[u].selection;if(!p.equalsSelection(f)){var g=p.plusRange(f),m=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,v=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,y=void 0;c===this.lastAddedCursorIndex?(y=m,this.lastAddedCursorIndex=d):y=v;var _=void 0;_=y?new Yt.a(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn):new Yt.a(g.endLineNumber,g.endColumn,g.startLineNumber,g.startColumn),e[u].selection=_;var b=Nr.d.fromModelSelection(_);t[d].setState(this.context,b.modelState,b.viewState)}for(var w=0;w<e.length;w++)e[w].index>c&&e[w].index--;t.splice(c,1),e.splice(h,1),this._removeSecondaryCursor(c-1),o--}}}},Pr);function Pr(t){this.context=t,this.primaryCursor=new Tr(t),this.secondaryCursors=[],this.lastAddedCursorIndex=0}var Rr,Fr=i(169),jr=i(89),Br=i(36),Hr=(Rr=function(t,e){return(Rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Rr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});var Wr=function(t,e,i){this.selections=t,this.source=e,this.reason=i},Vr=(zr.prototype.equals=function(t){if(!t)return!1;if(this.modelVersionId!==t.modelVersionId)return!1;if(this.cursorState.length!==t.cursorState.length)return!1;for(var e=0,i=this.cursorState.length;e<i;e++)if(!this.cursorState[e].equals(t.cursorState[e]))return!1;return!0},zr);function zr(t,e){this.modelVersionId=t.getVersionId(),this.cursorState=e.getAll()}var Ur,qr=(Hr(Kr,Ur=ei),Kr.prototype.dispose=function(){this._cursors.dispose(),Ur.prototype.dispose.call(this)},Kr.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},Kr.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},Kr.prototype.getAll=function(){return this._cursors.getAll()},Kr.prototype.setStates=function(t,e,i){null!==i&&i.length>Kr.MAX_CURSOR_COUNT&&(i=i.slice(0,Kr.MAX_CURSOR_COUNT),this._onDidReachMaxCursorCount.fire(void 0));var n=new Vr(this._model,this);this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._emitStateChangedIfNecessary(t,e,n)},Kr.prototype.setColumnSelectData=function(t){this._columnSelectData=t},Kr.prototype.reveal=function(t,e,i){this._revealRange(e,0,t,i)},Kr.prototype.revealRange=function(t,e,i,n){this.emitCursorRevealRange(e,i,t,n)},Kr.prototype.scrollTo=function(t){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:t})},Kr.prototype.saveState=function(){for(var t=[],e=this._cursors.getSelections(),i=0,n=e.length;i<n;i++){var o=e[i];t.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return t},Kr.prototype.restoreState=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var o=t[i],r=1,s=1;o.position&&o.position.lineNumber&&(r=o.position.lineNumber),o.position&&o.position.column&&(s=o.position.column);var a=r,l=s;o.selectionStart&&o.selectionStart.lineNumber&&(a=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(l=o.selectionStart.column),e.push({selectionStartLineNumber:a,selectionStartColumn:l,positionLineNumber:r,positionColumn:s})}this.setStates("restoreState",0,Nr.d.fromModelSelections(e)),this.reveal(!0,0,1)},Kr.prototype._onModelContentChanged=function(t){if(this._prevEditOperationType=0,t)this._cursors.dispose(),this._cursors=new Ar(this.context),this._emitStateChangedIfNecessary("model",1,null);else{var e=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",2,Nr.d.fromModelSelections(e))}},Kr.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},Kr.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var t=this._cursors.getPrimaryCursor().viewState.position;return{toViewLineNumber:t.lineNumber,toViewVisualColumn:Nr.a.visibleColumnFromColumn2(this.context.config,this.context.viewModel,t)}},Kr.prototype.getSelections=function(){return this._cursors.getSelections()},Kr.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},Kr.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},Kr.prototype.setSelections=function(t,e){this.setStates(t,0,Nr.d.fromModelSelections(e))},Kr.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType},Kr.prototype.setPrevEditOperationType=function(t){this._prevEditOperationType=t},Kr.prototype._executeEditOperation=function(t){if(t){t.shouldPushStackElementBefore&&this._model.pushStackElement();var e=Gr.executeCommands(this._model,this._cursors.getSelections(),t.commands);e&&(this._interpretCommandResult(e),this._prevEditOperationType=t.type),t.shouldPushStackElementAfter&&this._model.pushStackElement()}},Kr.prototype._interpretCommandResult=function(t){t&&0!==t.length||(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()},Kr.prototype._emitStateChangedIfNecessary=function(t,e,i){var n=new Vr(this._model,this);if(n.equals(i))return!1;var o=this._cursors.getSelections(),r=this._cursors.getViewSelections();try{this._beginEmit().emit(new He(r))}finally{this._endEmit()}return i&&i.cursorState.length===n.cursorState.length&&!n.cursorState.some(function(t,e){return!t.modelState.equals(i.cursorState[e].modelState)})||this._onDidChange.fire(new Wr(o,t||"keyboard",e)),!0},Kr.prototype._revealRange=function(t,e,i,n){var o=this._cursors.getViewPositions(),r=o[0];if(1===t)for(var s=1;s<o.length;s++)o[s].isBefore(r)&&(r=o[s]);else if(2===t)for(s=1;s<o.length;s++)r.isBeforeOrEqual(o[s])&&(r=o[s]);else if(1<o.length)return;var a=new Nt.a(r.lineNumber,r.column,r.lineNumber,r.column);this.emitCursorRevealRange(a,e,i,n)},Kr.prototype.emitCursorRevealRange=function(t,e,i,n){try{this._beginEmit().emit(new Ye(t,e,i,n))}finally{this._endEmit()}},Kr.prototype.trigger=function(t,e,i){var n=Br.b;if(e!==n.CompositionStart)if(e===n.CompositionEnd&&(this._isDoingComposition=!1),this._configuration.editor.readOnly)this._onDidAttemptReadOnlyEdit.fire(void 0);else{var o=new Vr(this._model,this),r=0;e!==n.Undo&&e!==n.Redo&&this._cursors.stopTrackingSelections(),this._cursors.ensureValidState(),this._isHandling=!0;try{switch(e){case n.Type:this._type(t,i.text);break;case n.ReplacePreviousChar:this._replacePreviousChar(i.text,i.replaceCharCnt);break;case n.Paste:r=4,this._paste(i.text,i.pasteOnNewLine,i.multicursorText);break;case n.Cut:this._cut();break;case n.Undo:r=5,this._interpretCommandResult(this._model.undo());break;case n.Redo:r=6,this._interpretCommandResult(this._model.redo());break;case n.ExecuteCommand:this._externalExecuteCommand(i);break;case n.ExecuteCommands:this._externalExecuteCommands(i);break;case n.CompositionEnd:this._interpretCompositionEnd(t)}}catch(t){Object(g.e)(t)}this._isHandling=!1,e!==n.Undo&&e!==n.Redo&&this._cursors.startTrackingSelections(),this._emitStateChangedIfNecessary(t,r,o)&&this._revealRange(0,0,!0,0)}else this._isDoingComposition=!0},Kr.prototype._interpretCompositionEnd=function(t){this._isDoingComposition||"keyboard"!==t||this._executeEditOperation(jr.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections()))},Kr.prototype._type=function(t,e){if(this._isDoingComposition||"keyboard"!==t)this._executeEditOperation(jr.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),e));else for(var i=0,n=e.length;i<n;i++){var o=e.charCodeAt(i),r=void 0;we.u(o)&&i+1<n?(r=e.charAt(i)+e.charAt(i+1),i++):r=e.charAt(i),this._executeEditOperation(jr.TypeOperations.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),r))}},Kr.prototype._replacePreviousChar=function(t,e){this._executeEditOperation(jr.TypeOperations.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),t,e))},Kr.prototype._paste=function(t,e,i){this._executeEditOperation(jr.TypeOperations.paste(this.context.config,this.context.model,this.getSelections(),t,e,i))},Kr.prototype._cut=function(){this._executeEditOperation(Fr.a.cut(this.context.config,this.context.model,this.getSelections()))},Kr.prototype._externalExecuteCommand=function(t){this._cursors.killSecondaryCursors(),this._executeEditOperation(new Nr.e(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},Kr.prototype._externalExecuteCommands=function(t){this._executeEditOperation(new Nr.e(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},Kr.MAX_CURSOR_COUNT=1e4,Kr);function Kr(t,e,i){var n=Ur.call(this)||this;n._onDidReachMaxCursorCount=n._register(new m.a),n.onDidReachMaxCursorCount=n._onDidReachMaxCursorCount.event,n._onDidAttemptReadOnlyEdit=n._register(new m.a),n.onDidAttemptReadOnlyEdit=n._onDidAttemptReadOnlyEdit.event,n._onDidChange=n._register(new m.a),n.onDidChange=n._onDidChange.event,n._configuration=t,n._model=e,n._knownModelVersionId=n._model.getVersionId(),n._viewModel=i,n.context=new Nr.c(n._configuration,n._model,n._viewModel),n._cursors=new Ar(n.context),n._isHandling=!1,n._isDoingComposition=!1,n._columnSelectData=null,n._prevEditOperationType=0,n._register(n._model.onDidChangeRawContent(function(t){if(n._knownModelVersionId=t.versionId,!n._isHandling){var e=t.containsEvent(1);n._onModelContentChanged(e)}})),n._register(i.addEventListener(function(t){!function(t){for(var e=0,i=t.length;e<i;e++)if(6===t[e].type)return!0;return!1}(t)||n._knownModelVersionId!==n._model.getVersionId()||n.setStates("viewModel",0,n.getAll())}));function o(){n.context=new Nr.c(n._configuration,n._model,n._viewModel),n._cursors.updateContext(n.context)}return n._register(n._model.onDidChangeLanguage(function(t){o()})),n._register(n._model.onDidChangeLanguageConfiguration(function(){o()})),n._register(n._model.onDidChangeOptions(function(){o()})),n._register(n._configuration.onDidChange(function(t){Nr.b.shouldRecreate(t)&&o()})),n}var Gr=(Yr.executeCommands=function(t,e,i){for(var n={model:t,selectionsBefore:e,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i),r=0,s=n.trackedRanges.length;r<s;r++)n.model._setTrackedRange(n.trackedRanges[r],null,0);return o},Yr._innerExecuteCommands=function(a,l){if(this._arrayIsEmpty(l))return null;var t=this._getEditOperations(a,l);if(0===t.operations.length)return null;var e=t.operations,i=this._getLoserCursorMap(e);if(i.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var n=[],o=0,r=e.length;o<r;o++)i.hasOwnProperty(e[o].identifier.major.toString())||n.push(e[o]);t.hadTrackedEditOperation&&0<n.length&&(n[0]._isTracked=!0);var s=a.model.pushEditOperations(a.selectionsBefore,n,function(t){for(var e=[],i=0;i<a.selectionsBefore.length;i++)e[i]=[];for(i=0;i<t.length;i++){var n=t[i];n.identifier&&e[n.identifier.major].push(n)}var o=function(t,e){return t.identifier.minor-e.identifier.minor},r=[],s=function(t){0<e[t].length?(e[t].sort(o),r[t]=l[t].computeCursorState(a.model,{getInverseEditOperations:function(){return e[t]},getTrackedSelection:function(t){var e=parseInt(t,10),i=a.model._getTrackedRange(a.trackedRanges[e]);return 0===a.trackedRangesDirection[e]?new Yt.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new Yt.a(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})):r[t]=a.selectionsBefore[t]};for(i=0;i<a.selectionsBefore.length;i++)s(i);return r});s=s||a.selectionsBefore;var u=[];for(var h in i)i.hasOwnProperty(h)&&u.push(parseInt(h,10));for(u.sort(function(t,e){return e-t}),o=0;o<u.length;o++)s.splice(u[o],1);return s},Yr._arrayIsEmpty=function(t){for(var e=0,i=t.length;e<i;e++)if(t[e])return!1;return!0},Yr._getEditOperations=function(t,e){for(var i=[],n=!1,o=0,r=e.length;o<r;o++){var s=e[o];if(s){var a=this._getEditOperationsFromCommand(t,o,s);i=i.concat(a.operations),n=n||a.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}},Yr._getEditOperationsFromCommand=function(s,i,n){function o(t,e){t.isEmpty()&&""===e||r.push({identifier:{major:i,minor:a++},range:t,text:e,forceMoveMarkers:!1,isAutoWhitespaceEdit:n.insertsAutoWhitespace})}var r=[],a=0,l=!1,t={addEditOperation:o,addTrackedEditOperation:function(t,e){l=!0,o(t,e)},trackSelection:function(t,e){var i;if(t.isEmpty())if("boolean"==typeof e)i=e?2:3;else{var n=s.model.getLineMaxColumn(t.startLineNumber);i=t.startColumn===n?2:3}else i=1;var o=s.trackedRanges.length,r=s.model._setTrackedRange(null,t,i);return s.trackedRanges[o]=r,s.trackedRangesDirection[o]=t.getDirection(),o.toString()}};try{n.getEditOperations(s.model,t)}catch(t){return t.friendlyMessage=d.a("corrupt.commands","Unexpected exception while executing command."),Object(g.e)(t),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:l}},Yr._getLoserCursorMap=function(t){(t=t.slice(0)).sort(function(t,e){return-Nt.a.compareRangesUsingEnds(t.range,e.range)});for(var e={},i=1;i<t.length;i++){var n=t[i-1],o=t[i];if(n.range.getStartPosition().isBefore(o.range.getEndPosition())){var r=void 0;e[(r=n.identifier.major>o.identifier.major?n.identifier.major:o.identifier.major).toString()]=!0;for(var s=0;s<t.length;s++)t[s].identifier.major===r&&(t.splice(s,1),s<i&&i--,s--);0<i&&i--}}return e},Yr);function Yr(){}var $r=i(182),Zr=i(6),Xr=i(171),Jr=i(181),Qr=(ts.findInsertionIndex=function(t,e,i,n){for(var o=0,r=t.length;o<r;){var s=o+r>>>1;e===t[s]?n<i[s]?r=s:o=1+s:e<t[s]?r=s:o=1+s}return o},ts.prototype.insertWhitespace=function(t,e,i,n){t|=0,e|=0,i|=0,n|=0;var o=++this._lastWhitespaceId,r=ts.findInsertionIndex(this._afterLineNumbers,t,this._ordinals,e);return this._insertWhitespaceAtIndex(o,r,t,e,i,n),this._minWidth=-1,o},ts.prototype._insertWhitespaceAtIndex=function(t,e,i,n,o,r){t|=0,e|=0,i|=0,n|=0,o|=0,r|=0,this._heights.splice(e,0,o),this._minWidths.splice(e,0,r),this._ids.splice(e,0,t),this._afterLineNumbers.splice(e,0,i),this._ordinals.splice(e,0,n),this._prefixSum.splice(e,0,0);for(var s=Object.keys(this._whitespaceId2Index),a=0,l=s.length;a<l;a++){var u=s[a],h=this._whitespaceId2Index[u];e<=h&&(this._whitespaceId2Index[u]=h+1)}this._whitespaceId2Index[t.toString()]=e,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)},ts.prototype.changeWhitespace=function(t,e,i){t|=0,e|=0,i|=0;var n=!1;return n=this.changeWhitespaceHeight(t,i)||n,n=this.changeWhitespaceAfterLineNumber(t,e)||n},ts.prototype.changeWhitespaceHeight=function(t,e){e|=0;var i=(t|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(i)){var n=this._whitespaceId2Index[i];if(this._heights[n]!==e)return this._heights[n]=e,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1),!0}return!1},ts.prototype.changeWhitespaceAfterLineNumber=function(t,e){e|=0;var i=(t|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(i)){var n=this._whitespaceId2Index[i];if(this._afterLineNumbers[n]!==e){var o=this._ordinals[n],r=this._heights[n],s=this._minWidths[n];this.removeWhitespace(t);var a=ts.findInsertionIndex(this._afterLineNumbers,e,this._ordinals,o);return this._insertWhitespaceAtIndex(t,a,e,o,r,s),!0}}return!1},ts.prototype.removeWhitespace=function(t){var e=(t|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(e)){var i=this._whitespaceId2Index[e];return delete this._whitespaceId2Index[e],this._removeWhitespaceAtIndex(i),this._minWidth=-1,!0}return!1},ts.prototype._removeWhitespaceAtIndex=function(t){t|=0,this._heights.splice(t,1),this._minWidths.splice(t,1),this._ids.splice(t,1),this._afterLineNumbers.splice(t,1),this._ordinals.splice(t,1),this._prefixSum.splice(t,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1);for(var e=Object.keys(this._whitespaceId2Index),i=0,n=e.length;i<n;i++){var o=e[i],r=this._whitespaceId2Index[o];t<=r&&(this._whitespaceId2Index[o]=r-1)}},ts.prototype.onLinesDeleted=function(t,e){t|=0,e|=0;for(var i=0,n=this._afterLineNumbers.length;i<n;i++){var o=this._afterLineNumbers[i];t<=o&&o<=e?this._afterLineNumbers[i]=t-1:e<o&&(this._afterLineNumbers[i]-=e-t+1)}},ts.prototype.onLinesInserted=function(t,e){t|=0,e|=0;for(var i=0,n=this._afterLineNumbers.length;i<n;i++)t<=this._afterLineNumbers[i]&&(this._afterLineNumbers[i]+=e-t+1)},ts.prototype.getTotalHeight=function(){return 0===this._heights.length?0:this.getAccumulatedHeight(this._heights.length-1)},ts.prototype.getAccumulatedHeight=function(t){t|=0;var e=Math.max(0,this._prefixSumValidIndex+1);0===e&&(this._prefixSum[0]=this._heights[0],e++);for(var i=e;i<=t;i++)this._prefixSum[i]=this._prefixSum[i-1]+this._heights[i];return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,t),this._prefixSum[t]},ts.prototype.getAccumulatedHeightBeforeLineNumber=function(t){t|=0;var e=this._findLastWhitespaceBeforeLineNumber(t);return-1===e?0:this.getAccumulatedHeight(e)},ts.prototype._findLastWhitespaceBeforeLineNumber=function(t){t|=0;for(var e=this._afterLineNumbers,i=0,n=e.length-1;i<=n;){var o=i+((n-i|0)/2|0)|0;if(e[o]<t){if(1+o>=e.length||e[1+o]>=t)return o;i=1+o|0}else n=o-1|0}return-1},ts.prototype._findFirstWhitespaceAfterLineNumber=function(t){t|=0;var e=this._findLastWhitespaceBeforeLineNumber(t)+1;return e<this._heights.length?e:-1},ts.prototype.getFirstWhitespaceIndexAfterLineNumber=function(t){return t|=0,this._findFirstWhitespaceAfterLineNumber(t)},ts.prototype.getCount=function(){return this._heights.length},ts.prototype.getMinWidth=function(){if(-1===this._minWidth){for(var t=0,e=0,i=this._minWidths.length;e<i;e++)t=Math.max(t,this._minWidths[e]);this._minWidth=t}return this._minWidth},ts.prototype.getAfterLineNumberForWhitespaceIndex=function(t){return t|=0,this._afterLineNumbers[t]},ts.prototype.getIdForWhitespaceIndex=function(t){return t|=0,this._ids[t]},ts.prototype.getHeightForWhitespaceIndex=function(t){return t|=0,this._heights[t]},ts.prototype.getWhitespaces=function(t){t|=0;for(var e=[],i=0;i<this._heights.length;i++)e.push({id:this._ids[i],afterLineNumber:this._afterLineNumbers[i],heightInLines:this._heights[i]/t});return e},ts);function ts(){this._heights=[],this._minWidths=[],this._ids=[],this._afterLineNumbers=[],this._ordinals=[],this._prefixSum=[],this._prefixSumValidIndex=-1,this._whitespaceId2Index={},this._lastWhitespaceId=0,this._minWidth=-1}var es=(is.prototype.setLineHeight=function(t){this._lineHeight=t},is.prototype.onFlushed=function(t){this._lineCount=t},is.prototype.insertWhitespace=function(t,e,i,n){return this._whitespaces.insertWhitespace(t,e,i,n)},is.prototype.changeWhitespace=function(t,e,i){return this._whitespaces.changeWhitespace(t,e,i)},is.prototype.removeWhitespace=function(t){return this._whitespaces.removeWhitespace(t)},is.prototype.onLinesDeleted=function(t,e){this._lineCount-=e-t+1,this._whitespaces.onLinesDeleted(t,e)},is.prototype.onLinesInserted=function(t,e){this._lineCount+=e-t+1,this._whitespaces.onLinesInserted(t,e)},is.prototype.getLinesTotalHeight=function(){return this._lineHeight*this._lineCount+this._whitespaces.getTotalHeight()},is.prototype.getVerticalOffsetForLineNumber=function(t){return(1<(t|=0)?this._lineHeight*(t-1):0)+this._whitespaces.getAccumulatedHeightBeforeLineNumber(t)},is.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(t){return this._whitespaces.getAccumulatedHeightBeforeLineNumber(t)},is.prototype.getWhitespaceMinWidth=function(){return this._whitespaces.getMinWidth()},is.prototype.isAfterLines=function(t){return this.getLinesTotalHeight()<t},is.prototype.getLineNumberAtOrAfterVerticalOffset=function(t){if((t|=0)<0)return 1;for(var e=0|this._lineCount,i=this._lineHeight,n=1,o=e;n<o;){var r=(n+o)/2|0,s=0|this.getVerticalOffsetForLineNumber(r);if(s+i<=t)n=1+r;else{if(s<=t)return r;o=r}}return e<n?e:n},is.prototype.getLinesViewportData=function(t,e){t|=0,e|=0;var i,n,o=this._lineHeight,r=0|this.getLineNumberAtOrAfterVerticalOffset(t),s=0|this.getVerticalOffsetForLineNumber(r),a=0|this._lineCount,l=0|this._whitespaces.getFirstWhitespaceIndexAfterLineNumber(r),u=0|this._whitespaces.getCount();i=-1===l?(l=u,n=a+1,0):(n=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(l),0|this._whitespaces.getHeightForWhitespaceIndex(l));var h=s,c=h,d=0;5e5<=s&&(d=5e5*Math.floor(s/5e5),c-=d=Math.floor(d/o)*o);for(var p=[],f=t+(e-t)/2,g=-1,m=r;m<=a;m++){for(-1===g&&(h<=f&&f<h+o||f<h)&&(g=m),h+=o,p[m-r]=c,c+=o;n===m;)c+=i,h+=i,u<=++l?n=a+1:(n=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(l),i=0|this._whitespaces.getHeightForWhitespaceIndex(l));if(e<=h){a=m;break}}-1===g&&(g=a);var v=0|this.getVerticalOffsetForLineNumber(a),y=r,_=a;return y<_&&s<t&&y++,y<_&&e<v+o&&_--,{bigNumbersDelta:d,startLineNumber:r,endLineNumber:a,relativeVerticalOffset:p,centeredLineNumber:g,completelyVisibleStartLineNumber:y,completelyVisibleEndLineNumber:_}},is.prototype.getVerticalOffsetForWhitespaceIndex=function(t){t|=0;var e=this._whitespaces.getAfterLineNumberForWhitespaceIndex(t);return(1<=e?this._lineHeight*e:0)+(0<t?this._whitespaces.getAccumulatedHeight(t-1):0)},is.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(t){t|=0;var e,i,n=0,o=this._whitespaces.getCount()-1;if(o<0)return-1;if(this.getVerticalOffsetForWhitespaceIndex(o)+this._whitespaces.getHeightForWhitespaceIndex(o)<=t)return-1;for(;n<o;)if(e=Math.floor((n+o)/2),(i=this.getVerticalOffsetForWhitespaceIndex(e))+this._whitespaces.getHeightForWhitespaceIndex(e)<=t)n=e+1;else{if(i<=t)return e;o=e}return n},is.prototype.getWhitespaceAtVerticalOffset=function(t){t|=0;var e=this.getWhitespaceIndexAtOrAfterVerticallOffset(t);if(e<0)return null;if(e>=this._whitespaces.getCount())return null;var i=this.getVerticalOffsetForWhitespaceIndex(e);if(t<i)return null;var n=this._whitespaces.getHeightForWhitespaceIndex(e);return{id:this._whitespaces.getIdForWhitespaceIndex(e),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(e),verticalOffset:i,height:n}},is.prototype.getWhitespaceViewportData=function(t,e){t|=0,e|=0;var i=this.getWhitespaceIndexAtOrAfterVerticallOffset(t),n=this._whitespaces.getCount()-1;if(i<0)return[];for(var o=[],r=i;r<=n;r++){var s=this.getVerticalOffsetForWhitespaceIndex(r),a=this._whitespaces.getHeightForWhitespaceIndex(r);if(e<=s)break;o.push({id:this._whitespaces.getIdForWhitespaceIndex(r),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:s,height:a})}return o},is.prototype.getWhitespaces=function(){return this._whitespaces.getWhitespaces(this._lineHeight)},is);function is(t,e){this._lineCount=t,this._lineHeight=e,this._whitespaces=new Qr}var ns,os,rs=i(54),ss=(ns=function(t,e){return(ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ns(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),as=(os=r.a,ss(ls,os),ls.prototype.dispose=function(){os.prototype.dispose.call(this)},ls.prototype.onHeightMaybeChanged=function(){this._updateHeight()},ls.prototype._configureSmoothScrollDuration=function(){this.scrollable.setSmoothScrollDuration(this._configuration.editor.viewInfo.smoothScrolling?125:0)},ls.prototype.onConfigurationChanged=function(t){t.lineHeight&&this._linesLayout.setLineHeight(this._configuration.editor.lineHeight),t.layoutInfo&&this.scrollable.setScrollDimensions({width:this._configuration.editor.layoutInfo.contentWidth,height:this._configuration.editor.layoutInfo.contentHeight}),t.viewInfo&&this._configureSmoothScrollDuration(),this._updateHeight()},ls.prototype.onFlushed=function(t){this._linesLayout.onFlushed(t)},ls.prototype.onLinesDeleted=function(t,e){this._linesLayout.onLinesDeleted(t,e)},ls.prototype.onLinesInserted=function(t,e){this._linesLayout.onLinesInserted(t,e)},ls.prototype._getHorizontalScrollbarHeight=function(t){return 2===this._configuration.editor.viewInfo.scrollbar.horizontal?0:t.width>=t.scrollWidth?0:this._configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize},ls.prototype._getTotalHeight=function(){var t=this.scrollable.getScrollDimensions(),e=this._linesLayout.getLinesTotalHeight();return this._configuration.editor.viewInfo.scrollBeyondLastLine?e+=t.height-this._configuration.editor.lineHeight:e+=this._getHorizontalScrollbarHeight(t),Math.max(t.height,e)},ls.prototype._updateHeight=function(){this.scrollable.setScrollDimensions({scrollHeight:this._getTotalHeight()})},ls.prototype.getCurrentViewport=function(){var t=this.scrollable.getScrollDimensions(),e=this.scrollable.getCurrentScrollPosition();return new rs.f(e.scrollTop,e.scrollLeft,t.width,t.height)},ls.prototype.getFutureViewport=function(){var t=this.scrollable.getScrollDimensions(),e=this.scrollable.getFutureScrollPosition();return new rs.f(e.scrollTop,e.scrollLeft,t.width,t.height)},ls.prototype._computeScrollWidth=function(t,e){if(this._configuration.editor.wrappingInfo.isViewportWrapping)return Math.max(t,e);var i=this._configuration.editor.viewInfo.scrollBeyondLastColumn*this._configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,n=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+i,e,n)},ls.prototype.onMaxLineWidthChanged=function(t){var e=this._computeScrollWidth(t,this.getCurrentViewport().width);this.scrollable.setScrollDimensions({scrollWidth:e}),this._updateHeight()},ls.prototype.saveState=function(){var t=this.scrollable.getFutureScrollPosition(),e=t.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e);return{scrollTop:e,scrollTopWithoutViewZones:e-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:t.scrollLeft}},ls.prototype.addWhitespace=function(t,e,i,n){return this._linesLayout.insertWhitespace(t,e,i,n)},ls.prototype.changeWhitespace=function(t,e,i){return this._linesLayout.changeWhitespace(t,e,i)},ls.prototype.removeWhitespace=function(t){return this._linesLayout.removeWhitespace(t)},ls.prototype.getVerticalOffsetForLineNumber=function(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)},ls.prototype.isAfterLines=function(t){return this._linesLayout.isAfterLines(t)},ls.prototype.getLineNumberAtVerticalOffset=function(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)},ls.prototype.getWhitespaceAtVerticalOffset=function(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)},ls.prototype.getLinesViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)},ls.prototype.getLinesViewportDataAtScrollTop=function(t){var e=this.scrollable.getScrollDimensions();return t+e.height>e.scrollHeight&&(t=e.scrollHeight-e.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+e.height)},ls.prototype.getWhitespaceViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)},ls.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},ls.prototype.getScrollWidth=function(){return this.scrollable.getScrollDimensions().scrollWidth},ls.prototype.getScrollHeight=function(){return this.scrollable.getScrollDimensions().scrollHeight},ls.prototype.getCurrentScrollLeft=function(){return this.scrollable.getCurrentScrollPosition().scrollLeft},ls.prototype.getCurrentScrollTop=function(){return this.scrollable.getCurrentScrollPosition().scrollTop},ls.prototype.validateScrollPosition=function(t){return this.scrollable.validateScrollPosition(t)},ls.prototype.setScrollPositionNow=function(t){this.scrollable.setScrollPositionNow(t)},ls.prototype.setScrollPositionSmooth=function(t){this.scrollable.setScrollPositionSmooth(t)},ls.prototype.deltaScrollNow=function(t,e){var i=this.scrollable.getCurrentScrollPosition();this.scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+t,scrollTop:i.scrollTop+e})},ls);function ls(t,e,i){var n=os.call(this)||this;return n._configuration=t,n._linesLayout=new es(e,n._configuration.editor.lineHeight),n.scrollable=n._register(new Jr.a(0,i)),n._configureSmoothScrollDuration(),n.scrollable.setScrollDimensions({width:t.editor.layoutInfo.contentWidth,height:t.editor.layoutInfo.contentHeight}),n.onDidScroll=n.scrollable.onScroll,n._updateHeight(),n}var us=i(98),hs=i(94),cs=i(152),ds=i(24),ps=function(t,e){this.outputLineIndex=t,this.outputOffset=e},fs=(gs.prototype.convertViewPositionToModelPosition=function(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)},gs.prototype.convertViewRangeToModelRange=function(t){var e=this._lines.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),i=this._lines.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);return new Nt.a(e.lineNumber,e.column,i.lineNumber,i.column)},gs.prototype.validateViewPosition=function(t,e){return this._lines.validateViewPosition(t.lineNumber,t.column,e)},gs.prototype.validateViewRange=function(t,e){var i=this._lines.validateViewPosition(t.startLineNumber,t.startColumn,e.getStartPosition()),n=this._lines.validateViewPosition(t.endLineNumber,t.endColumn,e.getEndPosition());return new Nt.a(i.lineNumber,i.column,n.lineNumber,n.column)},gs.prototype.convertModelPositionToViewPosition=function(t){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column)},gs.prototype.convertModelRangeToViewRange=function(t){var e=this._lines.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn),i=this._lines.convertModelPositionToViewPosition(t.endLineNumber,t.endColumn);return new Nt.a(e.lineNumber,e.column,i.lineNumber,i.column)},gs.prototype.modelPositionIsVisible=function(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)},gs);function gs(t){this._lines=t}var ms=(vs.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},vs.prototype.createCoordinatesConverter=function(){return new fs(this)},vs.prototype._ensureValidState=function(){if(this.model.getVersionId()!==this._validModelVersionId)throw new Error("ViewModel is out of sync with Model!");this.lines.length!==this.model.getLineCount()&&this._constructLines(!1)},vs.prototype._constructLines=function(t){var e=this;this.lines=[],t&&(this.hiddenAreasIds=[]);for(var i=this.model.getLinesContent(),n=i.length,o=new Uint32Array(n),r=this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)}).sort(Nt.a.compareRangesUsingStarts),s=1,a=0,l=-1,u=l+1<r.length?a+1:n+2,h=0;h<n;h++){var c=h+1;c===u&&(s=r[++l].startLineNumber,a=r[l].endLineNumber,u=l+1<r.length?a+1:n+2);var d=s<=c&&c<=a,p=xs(this.linePositionMapperFactory,i[h],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!d);o[h]=p.getViewLineCount(),this.lines[h]=p}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new cs.b(o)},vs.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)})},vs.prototype._reduceRanges=function(t){var e=this;if(0===t.length)return[];for(var i=t.map(function(t){return e.model.validateRange(t)}).sort(Nt.a.compareRangesUsingStarts),n=[],o=i[0].startLineNumber,r=i[0].endLineNumber,s=1,a=i.length;s<a;s++){var l=i[s];l.startLineNumber>r+1?(n.push(new Nt.a(o,1,r,1)),o=l.startLineNumber,r=l.endLineNumber):l.endLineNumber>r&&(r=l.endLineNumber)}return n.push(new Nt.a(o,1,r,1)),n},vs.prototype.setHiddenAreas=function(t){var e=this,i=this._reduceRanges(t),n=this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)}).sort(Nt.a.compareRangesUsingStarts);if(i.length===n.length){for(var o=!1,r=0;r<i.length;r++)if(!i[r].equalsRange(n[r])){o=!0;break}if(!o)return!1}var s=[];for(r=0;r<i.length;r++)s.push({range:i[r],options:ds.a.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,s);var a=i,l=1,u=0,h=-1,c=h+1<a.length?u+1:this.lines.length+2,d=!1;for(r=0;r<this.lines.length;r++){var p=r+1;p===c&&(l=a[++h].startLineNumber,u=a[h].endLineNumber,c=h+1<a.length?u+1:this.lines.length+2);var f=!1;if(l<=p&&p<=u?this.lines[r].isVisible()&&(this.lines[r]=this.lines[r].setVisible(!1),f=!0):(d=!0,this.lines[r].isVisible()||(this.lines[r]=this.lines[r].setVisible(!0),f=!0)),f){var g=this.lines[r].getViewLineCount();this.prefixSumComputer.changeValue(r,g)}}return d||this.setHiddenAreas([]),!0},vs.prototype.modelPositionIsVisible=function(t,e){return!(t<1||t>this.lines.length)&&this.lines[t-1].isVisible()},vs.prototype.setTabSize=function(t){return this.tabSize!==t&&(this.tabSize=t,this._constructLines(!1),!0)},vs.prototype.setWrappingSettings=function(t,e,i){return(this.wrappingIndent!==t||this.wrappingColumn!==e||this.columnsForFullWidthChar!==i)&&(this.wrappingIndent=t,this.wrappingColumn=e,this.columnsForFullWidthChar=i,this._constructLines(!1),!0)},vs.prototype.onModelFlushed=function(){this._constructLines(!0)},vs.prototype.onModelLinesDeleted=function(t,e,i){if(t<=this._validModelVersionId)return null;var n=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,o=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(e-1,i-e+1),this.prefixSumComputer.removeValues(e-1,i-e+1),new Ke(n,o)},vs.prototype.onModelLinesInserted=function(t,e,i,n){if(t<=this._validModelVersionId)return null;for(var o=this.getHiddenAreas(),r=!1,s=new It.a(e,1),a=0;a<o.length;a++)if(o[a].containsPosition(s)){r=!0;break}for(var l=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1,u=0,h=[],c=new Uint32Array(n.length),d=(a=0,n.length);a<d;a++){var p=xs(this.linePositionMapperFactory,n[a],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!r);h.push(p);var f=p.getViewLineCount();u+=f,c[a]=f}return this.lines=this.lines.slice(0,e-1).concat(h).concat(this.lines.slice(e-1)),this.prefixSumComputer.insertValues(e-1,c),new Ge(l,l+u-1)},vs.prototype.onModelLineChanged=function(t,e,i){if(t<=this._validModelVersionId)return[!1,null,null,null];var n=e-1,o=this.lines[n].getViewLineCount(),r=this.lines[n].isVisible(),s=xs(this.linePositionMapperFactory,i,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,r);this.lines[n]=s;var a=this.lines[n].getViewLineCount(),l=!1,u=0,h=-1,c=0,d=-1,p=0,f=-1;return a<o?(f=(p=1+(h=(u=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1)+a-1))+(o-a)-1,l=!0):o<a?(d=(c=1+(h=(u=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1)+o-1))+(a-o)-1,l=!0):h=(u=1===e?1:this.prefixSumComputer.getAccumulatedValue(e-2)+1)+a-1,this.prefixSumComputer.changeValue(n,a),[l,u<=h?new qe(u,h):null,c<=d?new Ge(c,d):null,p<=f?new Ke(p,f):null]},vs.prototype.acceptVersionId=function(t){this._validModelVersionId=t,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])},vs.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},vs.prototype._toValidViewLineNumber=function(t){if(t<1)return 1;var e=this.getViewLineCount();return e<t?e:t},vs.prototype.warmUpLookupCache=function(t,e){this.prefixSumComputer.warmUpCache(t-1,e-1)},vs.prototype.getActiveIndentGuide=function(t,e,i){this._ensureValidState(),t=this._toValidViewLineNumber(t),e=this._toValidViewLineNumber(e),i=this._toValidViewLineNumber(i);var n=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),s=this.model.getActiveIndentGuide(n.lineNumber,o.lineNumber,r.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}},vs.prototype.getViewLinesIndentGuides=function(t,e){this._ensureValidState(),t=this._toValidViewLineNumber(t),e=this._toValidViewLineNumber(e);for(var i=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),n=this.convertViewPositionToModelPosition(e,this.getViewLineMaxColumn(e)),o=[],r=[],s=[],a=i.lineNumber-1,l=n.lineNumber-1,u=null,h=a;h<=l;h++){var c=this.lines[h];if(c.isVisible()){var d=c.getViewLineNumberOfModelPosition(0,h===a?i.column:1),p=c.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(h+1)),f=0;1<(w=p-d+1)&&1===c.getViewLineMinColumn(this.model,h+1,p)&&(f=0===d?1:2),r.push(w),s.push(f),null===u&&(u=new It.a(h+1,0))}else null!==u&&(o=o.concat(this.model.getLinesIndentGuides(u.lineNumber,h)),u=null)}null!==u&&(o=o.concat(this.model.getLinesIndentGuides(u.lineNumber,n.lineNumber)),u=null);for(var g=e-t+1,m=new Array(g),v=0,y=0,_=o.length;y<_;y++){var b=o[y],w=Math.min(g-v,r[y]),C=void 0;C=2===(f=s[y])?0:1===f?1:w;for(var S=0;S<w;S++)S===C&&(b=0),m[v++]=b}return m},vs.prototype.getViewLineContent=function(t){this._ensureValidState(),t=this._toValidViewLineNumber(t);var e=this.prefixSumComputer.getIndexOf(t-1),i=e.index,n=e.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)},vs.prototype.getViewLineLength=function(t){this._ensureValidState(),t=this._toValidViewLineNumber(t);var e=this.prefixSumComputer.getIndexOf(t-1),i=e.index,n=e.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)},vs.prototype.getViewLineMinColumn=function(t){this._ensureValidState(),t=this._toValidViewLineNumber(t);var e=this.prefixSumComputer.getIndexOf(t-1),i=e.index,n=e.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)},vs.prototype.getViewLineMaxColumn=function(t){this._ensureValidState(),t=this._toValidViewLineNumber(t);var e=this.prefixSumComputer.getIndexOf(t-1),i=e.index,n=e.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)},vs.prototype.getViewLineData=function(t){this._ensureValidState(),t=this._toValidViewLineNumber(t);var e=this.prefixSumComputer.getIndexOf(t-1),i=e.index,n=e.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)},vs.prototype.getViewLinesData=function(t,e,i){this._ensureValidState(),t=this._toValidViewLineNumber(t),e=this._toValidViewLineNumber(e);for(var n=this.prefixSumComputer.getIndexOf(t-1),o=t,r=n.index,s=n.remainder,a=[],l=r,u=this.model.getLineCount();l<u;l++){var h=this.lines[l];if(h.isVisible()){var c=l===r?s:0,d=h.getViewLineCount()-c,p=!1;e<o+d&&(p=!0,d=e-o+1);var f=c+d;if(h.getViewLinesData(this.model,l+1,c,f,o-t,i,a),o+=d,p)break}}return a},vs.prototype.validateViewPosition=function(t,e,i){this._ensureValidState(),t=this._toValidViewLineNumber(t);var n=this.prefixSumComputer.getIndexOf(t-1),o=n.index,r=n.remainder,s=this.lines[o],a=s.getViewLineMinColumn(this.model,o+1,r),l=s.getViewLineMaxColumn(this.model,o+1,r);e<a&&(e=a),l<e&&(e=l);var u=s.getModelColumnOfViewPosition(r,e);return this.model.validatePosition(new It.a(o+1,u)).equals(i)?new It.a(t,e):this.convertModelPositionToViewPosition(i.lineNumber,i.column)},vs.prototype.convertViewPositionToModelPosition=function(t,e){this._ensureValidState(),t=this._toValidViewLineNumber(t);var i=this.prefixSumComputer.getIndexOf(t-1),n=i.index,o=i.remainder,r=this.lines[n].getModelColumnOfViewPosition(o,e);return this.model.validatePosition(new It.a(n+1,r))},vs.prototype.convertModelPositionToViewPosition=function(t,e){this._ensureValidState();for(var i=this.model.validatePosition(new It.a(t,e)),n=i.lineNumber,o=i.column,r=n-1,s=!1;0<r&&!this.lines[r].isVisible();)r--,s=!0;if(0===r&&!this.lines[r].isVisible())return new It.a(1,1);var a=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));return s?this.lines[r].getViewPositionOfModelPosition(a,this.model.getLineMaxColumn(r+1)):this.lines[n-1].getViewPositionOfModelPosition(a,o)},vs.prototype._getViewLineNumberForModelPosition=function(t,e){var i=t-1;if(this.lines[i].isVisible()){var n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,e)}for(;0<i&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;var o=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(o,this.model.getLineMaxColumn(i+1))},vs.prototype.getAllOverviewRulerDecorations=function(t,e,i){for(var n=this.model.getOverviewRulerDecorations(t,e),o=new Ds,r=0,s=n.length;r<s;r++){var a=n[r],l=a.options.overviewRuler,u=l?l.position:0;if(0!==u){var h=l.getColor(i),c=this._getViewLineNumberForModelPosition(a.range.startLineNumber,a.range.startColumn),d=this._getViewLineNumberForModelPosition(a.range.endLineNumber,a.range.endColumn);o.accept(h,c,d,u)}}return o.result},vs.prototype.getDecorationsInRange=function(t,e,i){var n=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),o=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);if(o.lineNumber-n.lineNumber<=t.endLineNumber-t.startLineNumber)return this.model.getDecorationsInRange(new Nt.a(n.lineNumber,1,o.lineNumber,o.column),e,i);for(var r=[],s=n.lineNumber-1,a=o.lineNumber-1,l=null,u=s;u<=a;u++)if(this.lines[u].isVisible())null===l&&(l=new It.a(u+1,u===s?n.column:1));else if(null!==l){var h=this.model.getLineMaxColumn(u);r=r.concat(this.model.getDecorationsInRange(new Nt.a(l.lineNumber,l.column,u,h),e,i)),l=null}null!==l&&(r=r.concat(this.model.getDecorationsInRange(new Nt.a(l.lineNumber,l.column,o.lineNumber,o.column),e,i)),l=null),r.sort(function(t,e){var i=Nt.a.compareRangesUsingStarts(t.range,e.range);return 0===i?t.id<e.id?-1:t.id>e.id?1:0:i});for(var c=[],d=0,p=null,f=0,g=r.length;f<g;f++){var m=r[f],v=m.id;p!==v&&(p=v,c[d++]=m)}return c},vs);function vs(t,e,i,n,o,r){this.model=t,this._validModelVersionId=-1,this.tabSize=i,this.wrappingColumn=n,this.columnsForFullWidthChar=o,this.wrappingIndent=r,this.linePositionMapperFactory=e,this._constructLines(!0)}var ys=(_s.prototype.isVisible=function(){return!0},_s.prototype.setVisible=function(t){return t?this:bs.INSTANCE},_s.prototype.getViewLineCount=function(){return 1},_s.prototype.getViewLineContent=function(t,e,i){return t.getLineContent(e)},_s.prototype.getViewLineLength=function(t,e,i){return t.getLineLength(e)},_s.prototype.getViewLineMinColumn=function(t,e,i){return t.getLineMinColumn(e)},_s.prototype.getViewLineMaxColumn=function(t,e,i){return t.getLineMaxColumn(e)},_s.prototype.getViewLineData=function(t,e,i){var n=t.getLineTokens(e),o=n.getLineContent();return new rs.c(o,!1,1,o.length+1,n.inflate())},_s.prototype.getViewLinesData=function(t,e,i,n,o,r,s){r[o]?s[o]=this.getViewLineData(t,e,0):s[o]=null},_s.prototype.getModelColumnOfViewPosition=function(t,e){return e},_s.prototype.getViewPositionOfModelPosition=function(t,e){return new It.a(t,e)},_s.prototype.getViewLineNumberOfModelPosition=function(t,e){return t},_s.INSTANCE=new _s,_s);function _s(){}var bs=(ws.prototype.isVisible=function(){return!1},ws.prototype.setVisible=function(t){return t?ys.INSTANCE:this},ws.prototype.getViewLineCount=function(){return 0},ws.prototype.getViewLineContent=function(t,e,i){throw new Error("Not supported")},ws.prototype.getViewLineLength=function(t,e,i){throw new Error("Not supported")},ws.prototype.getViewLineMinColumn=function(t,e,i){throw new Error("Not supported")},ws.prototype.getViewLineMaxColumn=function(t,e,i){throw new Error("Not supported")},ws.prototype.getViewLineData=function(t,e,i){throw new Error("Not supported")},ws.prototype.getViewLinesData=function(t,e,i,n,o,r,s){throw new Error("Not supported")},ws.prototype.getModelColumnOfViewPosition=function(t,e){throw new Error("Not supported")},ws.prototype.getViewPositionOfModelPosition=function(t,e){throw new Error("Not supported")},ws.prototype.getViewLineNumberOfModelPosition=function(t,e){throw new Error("Not supported")},ws.INSTANCE=new ws,ws);function ws(){}var Cs=(Ss.prototype.isVisible=function(){return this._isVisible},Ss.prototype.setVisible=function(t){return this._isVisible=t,this},Ss.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},Ss.prototype.getInputStartOffsetOfOutputLineIndex=function(t){return this.positionMapper.getInputOffsetOfOutputPosition(t,0)},Ss.prototype.getInputEndOffsetOfOutputLineIndex=function(t,e,i){return i+1===this.outputLineCount?t.getLineMaxColumn(e)-1:this.positionMapper.getInputOffsetOfOutputPosition(i+1,0)},Ss.prototype.getViewLineContent=function(t,e,i){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(t,e,i),r=t.getValueInRange({startLineNumber:e,startColumn:n+1,endLineNumber:e,endColumn:o+1});return 0<i&&(r=this.wrappedIndent+r),r},Ss.prototype.getViewLineLength=function(t,e,i){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(t,e,i)-n;return 0<i&&(o=this.wrappedIndent.length+o),o},Ss.prototype.getViewLineMinColumn=function(t,e,i){if(!this._isVisible)throw new Error("Not supported");return 0<i?this.wrappedIndentLength+1:1},Ss.prototype.getViewLineMaxColumn=function(t,e,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(t,e,i).length+1},Ss.prototype.getViewLineData=function(t,e,i){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(t,e,i),r=t.getValueInRange({startLineNumber:e,startColumn:n+1,endLineNumber:e,endColumn:o+1});0<i&&(r=this.wrappedIndent+r);var s=0<i?this.wrappedIndentLength+1:1,a=r.length+1,l=i+1<this.getViewLineCount(),u=0;0<i&&(u=this.wrappedIndentLength);var h=t.getLineTokens(e);return new rs.c(r,l,s,a,h.sliceAndInflate(n,o,u))},Ss.prototype.getViewLinesData=function(t,e,i,n,o,r,s){if(!this._isVisible)throw new Error("Not supported");for(var a=i;a<n;a++){var l=o+a-i;r[l]?s[l]=this.getViewLineData(t,e,a):s[l]=null}},Ss.prototype.getModelColumnOfViewPosition=function(t,e){if(!this._isVisible)throw new Error("Not supported");var i=e-1;return 0<t&&(i<this.wrappedIndentLength?i=0:i-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(t,i)+1},Ss.prototype.getViewPositionOfModelPosition=function(t,e){if(!this._isVisible)throw new Error("Not supported");var i=this.positionMapper.getOutputPositionOfInputOffset(e-1),n=i.outputLineIndex,o=i.outputOffset+1;return 0<n&&(o+=this.wrappedIndentLength),new It.a(t+n,o)},Ss.prototype.getViewLineNumberOfModelPosition=function(t,e){if(!this._isVisible)throw new Error("Not supported");return t+this.positionMapper.getOutputPositionOfInputOffset(e-1).outputLineIndex},Ss);function Ss(t,e){this.positionMapper=t,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=e}function xs(t,e,i,n,o,r,s){var a=t.createLineMapping(e,i,n,o,r);return null===a?s?ys.INSTANCE:bs.INSTANCE:new Cs(a,s)}var ks=(Os.prototype._validPosition=function(t){return this._lines.model.validatePosition(t)},Os.prototype._validRange=function(t){return this._lines.model.validateRange(t)},Os.prototype.convertViewPositionToModelPosition=function(t){return this._validPosition(t)},Os.prototype.convertViewRangeToModelRange=function(t){return this._validRange(t)},Os.prototype.validateViewPosition=function(t,e){return this._validPosition(e)},Os.prototype.validateViewRange=function(t,e){return this._validRange(e)},Os.prototype.convertModelPositionToViewPosition=function(t){return this._validPosition(t)},Os.prototype.convertModelRangeToViewRange=function(t){return this._validRange(t)},Os.prototype.modelPositionIsVisible=function(t){var e=this._lines.model.getLineCount();return!(t.lineNumber<1||t.lineNumber>e)},Os);function Os(t){this._lines=t}var Es=(Ls.prototype.dispose=function(){},Ls.prototype.createCoordinatesConverter=function(){return new ks(this)},Ls.prototype.getHiddenAreas=function(){return[]},Ls.prototype.setHiddenAreas=function(t){return!1},Ls.prototype.setTabSize=function(t){return!1},Ls.prototype.setWrappingSettings=function(t,e,i){return!1},Ls.prototype.onModelFlushed=function(){},Ls.prototype.onModelLinesDeleted=function(t,e,i){return new Ke(e,i)},Ls.prototype.onModelLinesInserted=function(t,e,i,n){return new Ge(e,i)},Ls.prototype.onModelLineChanged=function(t,e,i){return[!1,new qe(e,e),null,null]},Ls.prototype.acceptVersionId=function(t){},Ls.prototype.getViewLineCount=function(){return this.model.getLineCount()},Ls.prototype.warmUpLookupCache=function(t,e){},Ls.prototype.getActiveIndentGuide=function(t,e,i){return{startLineNumber:t,endLineNumber:t,indent:0}},Ls.prototype.getViewLinesIndentGuides=function(t,e){for(var i=e-t+1,n=new Array(i),o=0;o<i;o++)n[o]=0;return n},Ls.prototype.getViewLineContent=function(t){return this.model.getLineContent(t)},Ls.prototype.getViewLineLength=function(t){return this.model.getLineLength(t)},Ls.prototype.getViewLineMinColumn=function(t){return this.model.getLineMinColumn(t)},Ls.prototype.getViewLineMaxColumn=function(t){return this.model.getLineMaxColumn(t)},Ls.prototype.getViewLineData=function(t){var e=this.model.getLineTokens(t),i=e.getLineContent();return new rs.c(i,!1,1,i.length+1,e.inflate())},Ls.prototype.getViewLinesData=function(t,e,i){var n=this.model.getLineCount();t=Math.min(Math.max(1,t),n),e=Math.min(Math.max(1,e),n);for(var o=[],r=t;r<=e;r++){var s=r-t;i[s]||(o[s]=null),o[s]=this.getViewLineData(r)}return o},Ls.prototype.getAllOverviewRulerDecorations=function(t,e,i){for(var n=this.model.getOverviewRulerDecorations(t,e),o=new Ds,r=0,s=n.length;r<s;r++){var a=n[r],l=a.options.overviewRuler,u=l?l.position:0;if(0!==u){var h=l.getColor(i),c=a.range.startLineNumber,d=a.range.endLineNumber;o.accept(h,c,d,u)}}return o.result},Ls.prototype.getDecorationsInRange=function(t,e,i){return this.model.getDecorationsInRange(t,e,i)},Ls);function Ls(t){this.model=t}var Ds=(Is.prototype.accept=function(t,e,i,n){var o=this.result[t];if(o){var r=o[o.length-3],s=o[o.length-1];if(r===n&&e<=s+1)return void(s<i&&(o[o.length-1]=i));o.push(n,e,i)}else this.result[t]=[n,e,i]},Is);function Is(){this.result=Object.create(null)}var Ns,Ts,Ms=(Ns=function(t,e){return(Ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ns(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),As=(Ts=us.a,Ms(Ps,Ts),Ps.prototype.get=function(t){return 12352<=t&&t<=12543||13312<=t&&t<=19903||19968<=t&&t<=40959?4:Ts.prototype.get.call(this,t)},Ps);function Ps(t,e,i){for(var n=Ts.call(this,0)||this,o=0;o<t.length;o++)n.set(t.charCodeAt(o),1);for(o=0;o<e.length;o++)n.set(e.charCodeAt(o),2);for(o=0;o<i.length;o++)n.set(i.charCodeAt(o),3);return n}var Rs=(Fs.nextVisibleColumn=function(t,e,i,n){return t=+t,e=+e,n=+n,i?t+(e-t%e):t+n},Fs.prototype.createLineMapping=function(t,e,i,n,o){if(-1===i)return null;e=+e,i=+i,n=+n;var r=0,s="",a=-1;if(0!=(o=+o)&&-1!==(a=we.o(t))){s=t.substring(0,a);for(var l=0;l<a;l++)r=Fs.nextVisibleColumn(r,e,9===t.charCodeAt(l),1);var u=0;for(2===o?u=1:3===o&&(u=2),l=0;l<u;l++)s+="\t",r=Fs.nextVisibleColumn(r,e,!0,1);i<r+n&&(s="",r=0)}var h=this.classifier,c=0,d=[],p=0,f=0,g=-1,m=0,v=-1,y=0,_=t.length;for(l=0;l<_;l++){var b=t.charCodeAt(l),w=9===b,C=h.get(b);if(1===C&&(g=l,m=r),4===C&&0<l){var S=t.charCodeAt(l-1);1!==h.get(S)&&(g=l,m=r)}var x=1;if(we.t(b)&&(x=n),i<(f=Fs.nextVisibleColumn(f,e,w,x))&&0!==l){var k=void 0,O=void 0;O=-1!==g&&m<=i?(k=g,m):-1!==v&&y<=i?(k=v,y):(k=l,r),d[p++]=k-c,c=k,f=Fs.nextVisibleColumn(O,e,w,x),v=g=-1,y=m=0}if(-1!==g&&(m=Fs.nextVisibleColumn(m,e,w,x)),-1!==v&&(y=Fs.nextVisibleColumn(y,e,w,x)),2===C&&(0===o||a<=l)&&(g=l+1,m=r),4===C&&l<_-1){var E=t.charCodeAt(l+1);2!==h.get(E)&&(g=l+1,m=r)}3===C&&(v=l+1,y=r)}return 0===p?null:(d[p++]=_-c,new js(new cs.a(Object(hs.c)(d)),s))},Fs);function Fs(t,e,i){this.classifier=new As(t,e,i)}var js=(Bs.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},Bs.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},Bs.prototype.getInputOffsetOfOutputPosition=function(t,e){return 0===t?e:this._prefixSums.getAccumulatedValue(t-1)+e},Bs.prototype.getOutputPositionOfInputOffset=function(t){var e=this._prefixSums.getIndexOf(t);return new ps(e.index,e.remainder)},Bs);function Bs(t,e){this._prefixSums=t,this._wrappedLinesIndent=e}var Hs=(Ws.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},Ws.prototype.dispose=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},Ws.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},Ws.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},Ws.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},Ws.prototype._getOrCreateViewModelDecoration=function(t){var e=t.id,i=this._decorationsCache[e];if(!i){var n=t.range,o=t.options,r=void 0;if(o.isWholeLine){var s=this._coordinatesConverter.convertModelPositionToViewPosition(new It.a(n.startLineNumber,1)),a=this._coordinatesConverter.convertModelPositionToViewPosition(new It.a(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)));r=new Nt.a(s.lineNumber,s.column,a.lineNumber,a.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(n);i=new rs.e(r,o),this._decorationsCache[e]=i}return i},Ws.prototype.getDecorationsViewportData=function(t){var e=!0;return(e=(e=e&&null!==this._cachedModelDecorationsResolver)&&t.equalsRange(this._cachedModelDecorationsResolverViewRange))||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(t),this._cachedModelDecorationsResolverViewRange=t),this._cachedModelDecorationsResolver},Ws.prototype._getDecorationsViewportData=function(t){for(var e=this._linesCollection.getDecorationsInRange(t,this.editorId,this.configuration.editor.readOnly),i=t.startLineNumber,n=t.endLineNumber,o=[],r=0,s=[],a=i;a<=n;a++)s[a-i]=[];for(var l=0,u=e.length;l<u;l++){var h=e[l],c=h.options,d=this._getOrCreateViewModelDecoration(h),p=d.range;if(o[r++]=d,c.inlineClassName){var f=new rs.a(p,c.inlineClassName,c.inlineClassNameAffectsLetterSpacing?3:0),g=Math.max(i,p.startLineNumber),m=Math.min(n,p.endLineNumber);for(a=g;a<=m;a++)s[a-i].push(f)}c.beforeContentClassName&&i<=p.startLineNumber&&p.startLineNumber<=n&&(f=new rs.a(new Nt.a(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn),c.beforeContentClassName,1),s[p.startLineNumber-i].push(f)),c.afterContentClassName&&i<=p.endLineNumber&&p.endLineNumber<=n&&(f=new rs.a(new Nt.a(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn),c.afterContentClassName,2),s[p.endLineNumber-i].push(f))}return{decorations:o,inlineDecorations:s}},Ws);function Ws(t,e,i,n,o){this.editorId=t,this.model=e,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}var Vs,zs,Us=(Vs=function(t,e){return(Vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Vs(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),qs=(Us(Ks,zs=ei),Ks.prototype.dispose=function(){zs.prototype.dispose.call(this),this.decorations.dispose(),this.lines.dispose(),this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,null,1)},Ks.prototype.setHasFocus=function(t){this.hasFocus=t},Ks.prototype._onConfigurationChanged=function(t,e){var i=null;if(-1!==this.viewportStartLine){var n=new It.a(this.viewportStartLine,this.getLineMinColumn(this.viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(n)}var o=!1,r=this.configuration.editor;if(this.lines.setWrappingSettings(r.wrappingInfo.wrappingIndent,r.wrappingInfo.wrappingColumn,r.fontInfo.typicalFullwidthCharacterWidth/r.fontInfo.typicalHalfwidthCharacterWidth)&&(t.emit(new Ve),t.emit(new Ue),t.emit(new We),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(o=!0)),e.readOnly&&(this.decorations.reset(),t.emit(new We)),t.emit(new Be(e)),this.viewLayout.onConfigurationChanged(e),o&&i){var s=this.coordinatesConverter.convertModelPositionToViewPosition(i),a=this.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber);this.viewLayout.setScrollPositionNow({scrollTop:a+this.viewportStartLineDelta})}},Ks.prototype._registerModelEvents=function(){var v=this;this._register(this.model.onDidChangeRawContentFast(function(t){try{for(var e=v._beginEmit(),i=!1,n=!1,o=t.changes,r=t.versionId,s=0,a=o.length;s<a;s++){var l=o[s];switch(l.changeType){case 1:v.lines.onModelFlushed(),e.emit(new Ve),v.decorations.reset(),v.viewLayout.onFlushed(v.getLineCount()),i=!0;break;case 3:null!==(p=v.lines.onModelLinesDeleted(r,l.fromLineNumber,l.toLineNumber))&&(e.emit(p),v.viewLayout.onLinesDeleted(p.fromLineNumber,p.toLineNumber)),i=!0;break;case 4:null!==(d=v.lines.onModelLinesInserted(r,l.fromLineNumber,l.toLineNumber,l.detail))&&(e.emit(d),v.viewLayout.onLinesInserted(d.fromLineNumber,d.toLineNumber)),i=!0;break;case 2:var u=v.lines.onModelLineChanged(r,l.lineNumber,l.detail),h=u[0],c=u[1],d=u[2],p=u[3];n=h,c&&e.emit(c),d&&(e.emit(d),v.viewLayout.onLinesInserted(d.fromLineNumber,d.toLineNumber)),p&&(e.emit(p),v.viewLayout.onLinesDeleted(p.fromLineNumber,p.toLineNumber))}}v.lines.acceptVersionId(r),v.viewLayout.onHeightMaybeChanged(),!i&&n&&(e.emit(new Ue),e.emit(new We),v.decorations.onLineMappingChanged())}finally{v._endEmit()}if(v.viewportStartLine=-1,v.configuration.setMaxLineNumber(v.model.getLineCount()),!v.hasFocus&&2<=v.model.getAttachedEditorCount()&&v.viewportStartLineTrackedRange){var f=v.model._getTrackedRange(v.viewportStartLineTrackedRange);if(f){var g=v.coordinatesConverter.convertModelPositionToViewPosition(f.getStartPosition()),m=v.viewLayout.getVerticalOffsetForLineNumber(g.lineNumber);v.viewLayout.setScrollPositionNow({scrollTop:m+v.viewportStartLineDelta})}}})),this._register(this.model.onDidChangeTokens(function(t){for(var e=[],i=0,n=t.ranges.length;i<n;i++){var o=t.ranges[i],r=v.coordinatesConverter.convertModelPositionToViewPosition(new It.a(o.fromLineNumber,1)).lineNumber,s=v.coordinatesConverter.convertModelPositionToViewPosition(new It.a(o.toLineNumber,v.model.getLineMaxColumn(o.toLineNumber))).lineNumber;e[i]={fromLineNumber:r,toLineNumber:s}}try{v._beginEmit().emit(new Ze(e))}finally{v._endEmit()}})),this._register(this.model.onDidChangeLanguageConfiguration(function(t){try{v._beginEmit().emit(new ti)}finally{v._endEmit()}})),this._register(this.model.onDidChangeOptions(function(t){if(v.lines.setTabSize(v.model.getOptions().tabSize)){v.decorations.onLineMappingChanged(),v.viewLayout.onFlushed(v.getLineCount());try{var e=v._beginEmit();e.emit(new Ve),e.emit(new Ue),e.emit(new We)}finally{v._endEmit()}}})),this._register(this.model.onDidChangeDecorations(function(t){v.decorations.onModelDecorationsChanged();try{v._beginEmit().emit(new We)}finally{v._endEmit()}}))},Ks.prototype.setHiddenAreas=function(t){try{var e=this._beginEmit();this.lines.setHiddenAreas(t)&&(e.emit(new Ve),e.emit(new Ue),e.emit(new We),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._endEmit()}},Ks.prototype.getVisibleRanges=function(){var t=this.getCompletelyVisibleViewRange(),e=this.coordinatesConverter.convertViewRangeToModelRange(t),i=this.lines.getHiddenAreas();if(0===i.length)return[e];for(var n=[],o=0,r=e.startLineNumber,s=e.startColumn,a=e.endLineNumber,l=e.endColumn,u=0,h=i.length;u<h;u++){var c=i[u].startLineNumber,d=i[u].endLineNumber;d<r||a<c||(r<c&&(n[o++]=new Nt.a(r,s,c-1,this.model.getLineMaxColumn(c-1))),r=d+1,s=1)}return(r<a||r===a&&s<l)&&(n[o++]=new Nt.a(r,s,a,l)),n},Ks.prototype.getCompletelyVisibleViewRange=function(){var t=this.viewLayout.getLinesViewportData(),e=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new Nt.a(e,this.getLineMinColumn(e),i,this.getLineMaxColumn(i))},Ks.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(t){var e=this.viewLayout.getLinesViewportDataAtScrollTop(t),i=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new Nt.a(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))},Ks.prototype.saveState=function(){var t=this.viewLayout.saveState(),e=t.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(e),n=this.coordinatesConverter.convertViewPositionToModelPosition(new It.a(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-e;return{scrollLeft:t.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}},Ks.prototype.reduceRestoreState=function(t){if(void 0===t.firstPosition)return this._reduceRestoreStateCompatibility(t);var e=this.model.validatePosition(t.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(e),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:n}},Ks.prototype._reduceRestoreStateCompatibility=function(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}},Ks.prototype.getTabSize=function(){return this.model.getOptions().tabSize},Ks.prototype.getLineCount=function(){return this.lines.getViewLineCount()},Ks.prototype.setViewport=function(t,e,i){this.lines.warmUpLookupCache(t,e),this.viewportStartLine=t;var n=this.coordinatesConverter.convertViewPositionToModelPosition(new It.a(t,this.getLineMinColumn(t)));this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,new Nt.a(n.lineNumber,n.column,n.lineNumber,n.column),1);var o=this.viewLayout.getVerticalOffsetForLineNumber(t),r=this.viewLayout.getCurrentScrollTop();this.viewportStartLineDelta=r-o},Ks.prototype.getActiveIndentGuide=function(t,e,i){return this.lines.getActiveIndentGuide(t,e,i)},Ks.prototype.getLinesIndentGuides=function(t,e){return this.lines.getViewLinesIndentGuides(t,e)},Ks.prototype.getLineContent=function(t){return this.lines.getViewLineContent(t)},Ks.prototype.getLineLength=function(t){return this.lines.getViewLineLength(t)},Ks.prototype.getLineMinColumn=function(t){return this.lines.getViewLineMinColumn(t)},Ks.prototype.getLineMaxColumn=function(t){return this.lines.getViewLineMaxColumn(t)},Ks.prototype.getLineFirstNonWhitespaceColumn=function(t){var e=we.o(this.getLineContent(t));return-1===e?0:e+1},Ks.prototype.getLineLastNonWhitespaceColumn=function(t){var e=we.y(this.getLineContent(t));return-1===e?0:e+2},Ks.prototype.getDecorationsInViewport=function(t){return this.decorations.getDecorationsViewportData(t).decorations},Ks.prototype.getViewLineRenderingData=function(t,e){var i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this.lines.getViewLineData(e),s=this.decorations.getDecorationsViewportData(t).inlineDecorations[e-t.startLineNumber];return new rs.d(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,i,n,r.tokens,s,o)},Ks.prototype.getViewLineData=function(t){return this.lines.getViewLineData(t)},Ks.prototype.getMinimapLinesRenderingData=function(t,e,i){var n=this.lines.getViewLinesData(t,e,i);return new rs.b(this.getTabSize(),n)},Ks.prototype.getAllOverviewRulerDecorations=function(t){return this.lines.getAllOverviewRulerDecorations(this.editorId,this.configuration.editor.readOnly,t)},Ks.prototype.invalidateOverviewRulerColorCache=function(){for(var t=this.model.getOverviewRulerDecorations(),e=0,i=t.length;e<i;e++){var n=t[e].options.overviewRuler;n&&n.invalidateCachedColor()}},Ks.prototype.getValueInRange=function(t,e){var i=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(i,e)},Ks.prototype.getModelLineMaxColumn=function(t){return this.model.getLineMaxColumn(t)},Ks.prototype.validateModelPosition=function(t){return this.model.validatePosition(t)},Ks.prototype.validateModelRange=function(t){return this.model.validateRange(t)},Ks.prototype.deduceModelPositionRelativeToViewPosition=function(t,e,i){var n=this.coordinatesConverter.convertViewPositionToModelPosition(t);2===this.model.getEOL().length&&(e<0?e-=i:e+=i);var o=this.model.getOffsetAt(n)+e;return this.model.getPositionAt(o)},Ks.prototype.getEOL=function(){return this.model.getEOL()},Ks.prototype.getPlainTextToCopy=function(t,e,i){var n=this,o=i?"\r\n":this.model.getEOL();(t=t.slice(0)).sort(Nt.a.compareRangesUsingStarts);var r=t.filter(function(t){return!t.isEmpty()});if(0===r.length){if(!e)return"";for(var s=t.map(function(t){var e=new It.a(t.startLineNumber,1);return n.coordinatesConverter.convertViewPositionToModelPosition(e).lineNumber}),a="",l=0;l<s.length;l++)0<l&&s[l-1]===s[l]||(a+=this.model.getLineContent(s[l])+o);return a}var u=[];for(l=0;l<r.length;l++)u.push(this.getValueInRange(r[l],i?2:0));return 1===u.length?u[0]:u},Ks.prototype.getHTMLToCopy=function(t,e){if(1===this.model.getLanguageIdentifier().id)return null;if(1!==t.length)return null;var i=this.coordinatesConverter.convertViewRangeToModelRange(t[0]);if(i.isEmpty()){if(!e)return null;var n=i.startLineNumber;i=new Nt.a(n,this.model.getLineMinColumn(n),n,this.model.getLineMaxColumn(n))}var o=this.configuration.editor.fontInfo,r=this._getColorMap();return'<div style="color: '+r[1]+";background-color: "+r[2]+";font-family: "+o.fontFamily+";font-weight: "+o.fontWeight+";font-size: "+o.fontSize+"px;line-height: "+o.lineHeight+'px;white-space: pre;">'+this._getHTMLToCopy(i,r)+"</div>"},Ks.prototype._getHTMLToCopy=function(t,e){for(var i=t.startLineNumber,n=t.startColumn,o=t.endLineNumber,r=t.endColumn,s=this.getTabSize(),a="",l=i;l<=o;l++){var u=this.model.getLineTokens(l),h=u.getLineContent(),c=l===i?n-1:0,d=l===o?r-1:h.length;a+=""===h?"<br>":Object(Xr.a)(h,u.inflate(),e,c,d,s)}return a},Ks.prototype._getColorMap=function(){var t=Vn.w.getColorMap(),e=["#000000"];if(t)for(var i=1,n=t.length;i<n;i++)e[i]=Co.a.Format.CSS.formatHex(t[i]);return e},Ks);function Ks(t,e,i,n){var o=zs.call(this)||this;if(o.editorId=t,o.configuration=e,o.model=i,o.hasFocus=!1,o.viewportStartLine=-1,o.viewportStartLineTrackedRange=null,o.viewportStartLineDelta=0,o.model.isTooLargeForTokenization())o.lines=new Es(o.model);else{var r=o.configuration.editor,s=new Rs(r.wrappingInfo.wordWrapBreakBeforeCharacters,r.wrappingInfo.wordWrapBreakAfterCharacters,r.wrappingInfo.wordWrapBreakObtrusiveCharacters);o.lines=new ms(o.model,s,o.model.getOptions().tabSize,r.wrappingInfo.wrappingColumn,r.fontInfo.typicalFullwidthCharacterWidth/r.fontInfo.typicalHalfwidthCharacterWidth,r.wrappingInfo.wrappingIndent)}return o.coordinatesConverter=o.lines.createCoordinatesConverter(),o.viewLayout=o._register(new as(o.configuration,o.getLineCount(),n)),o._register(o.viewLayout.onDidScroll(function(t){try{o._beginEmit().emit(new $e(t))}finally{o._endEmit()}})),o.decorations=new Hs(o.editorId,o.model,o.configuration,o.lines,o.coordinatesConverter),o._registerModelEvents(),o._register(o.configuration.onDidChange(function(t){try{var e=o._beginEmit();o._onConfigurationChanged(e,t)}finally{o._endEmit()}})),o._register(zn.getInstance().onDidChange(function(){try{o._beginEmit().emit(new Je)}finally{o._endEmit()}})),o}var Gs=i(37),Ys=i(10),$s=i(18),Zs=i(118),Xs=i(44);i.d(e,"a",function(){return aa});var Js,Qs=(Js=function(t,e){return(Js=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Js(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),ta=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},ea=function(i,n){return function(t,e){n(t,e,i)}},ia=0,na="showUnused",oa=(ra.prototype.dispose=function(){Object(r.d)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},ra);function ra(t,e,i,n,o,r){this.model=t,this.viewModel=e,this.cursor=i,this.view=n,this.hasRealView=o,this.listenersToRemove=r}var sa,aa=(sa=r.a,Qs(la,sa),la.prototype._createConfiguration=function(t){return new a.a(t,this._domElement)},la.prototype.getId=function(){return this.getEditorType()+":"+this._id},la.prototype.getEditorType=function(){return Br.a.ICodeEditor},la.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var t=Object.keys(this._contributions),e=0,i=t.length;e<i;e++){var n=t[e];this._contributions[n].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),sa.prototype.dispose.call(this)},la.prototype.invokeWithinContext=function(t){return this._instantiationService.invokeFunction(t)},la.prototype.updateOptions=function(t){this._configuration.updateOptions(t)},la.prototype.getConfiguration=function(){return this._configuration.editor},la.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},la.prototype.getValue=function(t){if(void 0===t&&(t=null),!this._modelData)return"";var e=!(!t||!t.preserveBOM),i=0;return t&&t.lineEnding&&"\n"===t.lineEnding?i=1:t&&t.lineEnding&&"\r\n"===t.lineEnding&&(i=2),this._modelData.model.getValue(i,e)},la.prototype.setValue=function(t){this._modelData&&this._modelData.model.setValue(t)},la.prototype.getModel=function(){return this._modelData?this._modelData.model:null},la.prototype.setModel=function(t){if(void 0===t&&(t=null),!(null===this._modelData&&null===t||this._modelData&&this._modelData.model===t)){var e=this._detachModel();this._attachModel(t);var i={oldModelUrl:e?e.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(i),this._postDetachModelCleanup(e)}},la.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var t in this._decorationTypeSubtypes){var e=this._decorationTypeSubtypes[t];for(var i in e)this._removeDecorationType(t+"-"+i)}this._decorationTypeSubtypes={}}},la.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},la.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},la._getVerticalOffsetForPosition=function(t,e,i){var n=t.model.validatePosition({lineNumber:e,column:i}),o=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber)},la.prototype.getTopForLineNumber=function(t){return this._modelData?la._getVerticalOffsetForPosition(this._modelData,t,1):-1},la.prototype.getTopForPosition=function(t,e){return this._modelData?la._getVerticalOffsetForPosition(this._modelData,t,e):-1},la.prototype.setHiddenAreas=function(t){this._modelData&&this._modelData.viewModel.setHiddenAreas(t.map(function(t){return Nt.a.lift(t)}))},la.prototype.getVisibleColumnFromPosition=function(t){if(!this._modelData)return t.column;var e=this._modelData.model.validatePosition(t),i=this._modelData.model.getOptions().tabSize;return Nr.a.visibleColumnFromColumn(this._modelData.model.getLineContent(e.lineNumber),e.column,i)+1},la.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},la.prototype.setPosition=function(t){if(this._modelData){if(!It.a.isIPosition(t))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}},la.prototype._sendRevealRange=function(t,e,i,n){if(this._modelData){if(!Nt.a.isIRange(t))throw new Error("Invalid arguments");var o=this._modelData.model.validateRange(t),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.cursor.emitCursorRevealRange(r,e,i,n)}},la.prototype.revealLine=function(t,e){void 0===e&&(e=0),this._revealLine(t,0,e)},la.prototype.revealLineInCenter=function(t,e){void 0===e&&(e=0),this._revealLine(t,1,e)},la.prototype.revealLineInCenterIfOutsideViewport=function(t,e){void 0===e&&(e=0),this._revealLine(t,2,e)},la.prototype._revealLine=function(t,e,i){if("number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new Nt.a(t,1,t,1),e,!1,i)},la.prototype.revealPosition=function(t,e){void 0===e&&(e=0),this._revealPosition(t,0,!0,e)},la.prototype.revealPositionInCenter=function(t,e){void 0===e&&(e=0),this._revealPosition(t,1,!0,e)},la.prototype.revealPositionInCenterIfOutsideViewport=function(t,e){void 0===e&&(e=0),this._revealPosition(t,2,!0,e)},la.prototype._revealPosition=function(t,e,i,n){if(!It.a.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new Nt.a(t.lineNumber,t.column,t.lineNumber,t.column),e,i,n)},la.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},la.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},la.prototype.setSelection=function(t){var e=Yt.a.isISelection(t),i=Nt.a.isIRange(t);if(!e&&!i)throw new Error("Invalid arguments");if(e)this._setSelectionImpl(t);else if(i){var n={selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn};this._setSelectionImpl(n)}},la.prototype._setSelectionImpl=function(t){if(this._modelData){var e=new Yt.a(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.cursor.setSelections("api",[e])}},la.prototype.revealLines=function(t,e,i){void 0===i&&(i=0),this._revealLines(t,e,0,i)},la.prototype.revealLinesInCenter=function(t,e,i){void 0===i&&(i=0),this._revealLines(t,e,1,i)},la.prototype.revealLinesInCenterIfOutsideViewport=function(t,e,i){void 0===i&&(i=0),this._revealLines(t,e,2,i)},la.prototype._revealLines=function(t,e,i,n){if("number"!=typeof t||"number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new Nt.a(t,1,e,1),i,!1,n)},la.prototype.revealRange=function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===n&&(n=!0),this._revealRange(t,i?1:0,n,e)},la.prototype.revealRangeInCenter=function(t,e){void 0===e&&(e=0),this._revealRange(t,1,!0,e)},la.prototype.revealRangeInCenterIfOutsideViewport=function(t,e){void 0===e&&(e=0),this._revealRange(t,2,!0,e)},la.prototype.revealRangeAtTop=function(t,e){void 0===e&&(e=0),this._revealRange(t,3,!0,e)},la.prototype._revealRange=function(t,e,i,n){if(!Nt.a.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(Nt.a.lift(t),e,i,n)},la.prototype.setSelections=function(t,e){if(void 0===e&&(e="api"),this._modelData){if(!t||0===t.length)throw new Error("Invalid arguments");for(var i=0,n=t.length;i<n;i++)if(!Yt.a.isISelection(t[i]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(e,t)}},la.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},la.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},la.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},la.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},la.prototype.setScrollLeft=function(t){if(this._modelData){if("number"!=typeof t)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:t})}},la.prototype.setScrollTop=function(t){if(this._modelData){if("number"!=typeof t)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:t})}},la.prototype.setScrollPosition=function(t){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(t)},la.prototype.saveViewState=function(){if(!this._modelData)return null;for(var t={},e=Object.keys(this._contributions),i=0,n=e.length;i<n;i++){var o=e[i],r=this._contributions[o];"function"==typeof r.saveViewState&&(t[o]=r.saveViewState())}return{cursorState:this._modelData.cursor.saveState(),viewState:this._modelData.viewModel.saveState(),contributionsState:t}},la.prototype.restoreViewState=function(t){if(this._modelData&&this._modelData.hasRealView&&t&&t.cursorState&&t.viewState){var e=t.cursorState;Array.isArray(e)?this._modelData.cursor.restoreState(e):this._modelData.cursor.restoreState([e]);for(var i=t.contributionsState||{},n=Object.keys(this._contributions),o=0,r=n.length;o<r;o++){var s=n[o],a=this._contributions[s];"function"==typeof a.restoreViewState&&a.restoreViewState(i[s])}var l=this._modelData.viewModel.reduceRestoreState(t.viewState),u=this._modelData.viewModel.viewLayout.getLinesViewportDataAtScrollTop(l.scrollTop),h=this._modelData.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new It.a(u.startLineNumber,1)),c=this._modelData.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new It.a(u.endLineNumber,1));this._modelData.model.tokenizeViewport(h.lineNumber,c.lineNumber),this._modelData.view.restoreState(l)}},la.prototype.getContribution=function(t){return this._contributions[t]||null},la.prototype.getActions=function(){for(var t=[],e=Object.keys(this._actions),i=0,n=e.length;i<n;i++){var o=e[i];t.push(this._actions[o])}return t},la.prototype.getSupportedActions=function(){var t=this.getActions();return t=t.filter(function(t){return t.isSupported()})},la.prototype.getAction=function(t){return this._actions[t]||null},la.prototype.trigger=function(t,e,i){if(i=i||{},e===Br.b.Type){if(!this._modelData||"string"!=typeof i.text||0===i.text.length)return;return"keyboard"===t&&this._onWillType.fire(i.text),this._modelData.cursor.trigger(t,e,i),void("keyboard"===t&&this._onDidType.fire(i.text))}if(e!==Br.b.Paste){e===Br.b.CompositionStart&&this._onCompositionStart.fire(),e===Br.b.CompositionEnd&&this._onCompositionEnd.fire();var n=this.getAction(e);n?Promise.resolve(n.run()).then(null,g.e):this._modelData&&(this._triggerEditorCommand(t,e,i)||this._modelData.cursor.trigger(t,e,i))}else{if(!this._modelData||"string"!=typeof i.text||0===i.text.length)return;var o=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(t,e,i);var r=this._modelData.cursor.getSelection().getStartPosition();"keyboard"===t&&this._onDidPaste.fire(new Nt.a(o.lineNumber,o.column,r.lineNumber,r.column))}},la.prototype._triggerEditorCommand=function(t,e,i){var n=this,o=v.d.getEditorCommand(e);return!!o&&((i=i||{}).source=t,this._instantiationService.invokeFunction(function(t){Promise.resolve(o.runEditorCommand(t,n,i)).then(null,g.e)}),!0)},la.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},la.prototype.pushUndoStop=function(){return!!this._modelData&&!this._configuration.editor.readOnly&&(this._modelData.model.pushStackElement(),!0)},la.prototype.executeEdits=function(t,e,i){return!!this._modelData&&!this._configuration.editor.readOnly&&(this._modelData.model.pushEditOperations(this._modelData.cursor.getSelections(),e,function(){return i||null}),i&&this._modelData.cursor.setSelections(t,i),!0)},la.prototype.executeCommand=function(t,e){this._modelData&&this._modelData.cursor.trigger(t,Br.b.ExecuteCommand,e)},la.prototype.executeCommands=function(t,e){this._modelData&&this._modelData.cursor.trigger(t,Br.b.ExecuteCommands,e)},la.prototype.changeDecorations=function(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null},la.prototype.getLineDecorations=function(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,this._configuration.editor.readOnly):null},la.prototype.deltaDecorations=function(t,e){return this._modelData?0===t.length&&0===e.length?t:this._modelData.model.deltaDecorations(t,e,this._id):[]},la.prototype.removeDecorations=function(t){var e=this._decorationTypeKeysToIds[t];e&&this.deltaDecorations(e,[]),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]},la.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},la.prototype.createOverviewRuler=function(t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(t):null},la.prototype.getDomNode=function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null},la.prototype.delegateVerticalScrollbarMouseDown=function(t){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(t)},la.prototype.layout=function(t){this._configuration.observeReferenceElement(t),this.render()},la.prototype.focus=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()},la.prototype.hasTextFocus=function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()},la.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},la.prototype.addContentWidget=function(t){var e={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[t.getId()]=e,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(e)},la.prototype.layoutContentWidget=function(t){var e=t.getId();if(this._contentWidgets.hasOwnProperty(e)){var i=this._contentWidgets[e];i.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}},la.prototype.removeContentWidget=function(t){var e=t.getId();if(this._contentWidgets.hasOwnProperty(e)){var i=this._contentWidgets[e];delete this._contentWidgets[e],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}},la.prototype.addOverlayWidget=function(t){var e={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=e,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(e)},la.prototype.layoutOverlayWidget=function(t){var e=t.getId();if(this._overlayWidgets.hasOwnProperty(e)){var i=this._overlayWidgets[e];i.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}},la.prototype.removeOverlayWidget=function(t){var e=t.getId();if(this._overlayWidgets.hasOwnProperty(e)){var i=this._overlayWidgets[e];delete this._overlayWidgets[e],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}},la.prototype.changeViewZones=function(t){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(t)&&this._onDidChangeViewZones.fire()},la.prototype.getTargetAtClientPoint=function(t,e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(t,e):null},la.prototype.getScrolledVisiblePosition=function(t){if(!this._modelData||!this._modelData.hasRealView)return null;var e=this._modelData.model.validatePosition(t),i=this._configuration.editor.layoutInfo;return{top:la._getVerticalOffsetForPosition(this._modelData,e.lineNumber,e.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(e.lineNumber,e.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-this.getScrollLeft(),height:this._configuration.editor.lineHeight}},la.prototype.getOffsetForColumn=function(t,e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(t,e):-1},la.prototype.render=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,!1)},la.prototype.applyFontInfo=function(t){a.a.applyFontInfoSlow(t,this._configuration.editor.fontInfo)},la.prototype._attachModel=function(e){var s=this;if(e){var t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();var i=new qs(this._id,this._configuration,e,function(t){return b.N(t)});t.push(e.onDidChangeDecorations(function(t){return s._onDidChangeModelDecorations.fire(t)})),t.push(e.onDidChangeLanguage(function(t){s._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),s._onDidChangeModelLanguage.fire(t)})),t.push(e.onDidChangeLanguageConfiguration(function(t){return s._onDidChangeModelLanguageConfiguration.fire(t)})),t.push(e.onDidChangeContent(function(t){return s._onDidChangeModelContent.fire(t)})),t.push(e.onDidChangeOptions(function(t){return s._onDidChangeModelOptions.fire(t)})),t.push(e.onWillDispose(function(){return s.setModel(null)}));var n=new qr(this._configuration,e,i);t.push(n.onDidReachMaxCursorCount(function(){s._notificationService.warn(d.a("cursors.maximum","The number of cursors has been limited to {0}.",qr.MAX_CURSOR_COUNT))})),t.push(n.onDidAttemptReadOnlyEdit(function(){s._onDidAttemptReadOnlyEdit.fire(void 0)})),t.push(n.onDidChange(function(t){for(var e=[],i=0,n=t.selections.length;i<n;i++)e[i]=t.selections[i].getPosition();var o={position:e[0],secondaryPositions:e.slice(1),reason:t.reason,source:t.source};s._onDidChangeCursorPosition.fire(o);var r={selection:t.selections[0],secondarySelections:t.selections.slice(1),source:t.source,reason:t.reason};s._onDidChangeCursorSelection.fire(r)}));var o=this._createView(i,n),r=o[0],a=o[1];if(a){this._domElement.appendChild(r.domNode.domNode);for(var l=Object.keys(this._contentWidgets),u=0,h=l.length;u<h;u++){var c=l[u];r.addContentWidget(this._contentWidgets[c])}for(u=0,h=(l=Object.keys(this._overlayWidgets)).length;u<h;u++)c=l[u],r.addOverlayWidget(this._overlayWidgets[c]);r.render(!1,!0),r.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new oa(e,i,n,r,a,t)}else this._modelData=null},la.prototype._createView=function(t,i){var e,o=this;e=this.isSimpleWidget?{executeEditorCommand:function(t,e){t.runCoreEditorCommand(i,e)},paste:function(t,e,i,n){o.trigger(t,Br.b.Paste,{text:e,pasteOnNewLine:i,multicursorText:n})},type:function(t,e){o.trigger(t,Br.b.Type,{text:e})},replacePreviousChar:function(t,e,i){o.trigger(t,Br.b.ReplacePreviousChar,{text:e,replaceCharCnt:i})},compositionStart:function(t){o.trigger(t,Br.b.CompositionStart,void 0)},compositionEnd:function(t){o.trigger(t,Br.b.CompositionEnd,void 0)},cut:function(t){o.trigger(t,Br.b.Cut,void 0)}}:{executeEditorCommand:function(t,e){t.runCoreEditorCommand(i,e)},paste:function(t,e,i,n){o._commandService.executeCommand(Br.b.Paste,{text:e,pasteOnNewLine:i,multicursorText:n})},type:function(t,e){o._commandService.executeCommand(Br.b.Type,{text:e})},replacePreviousChar:function(t,e,i){o._commandService.executeCommand(Br.b.ReplacePreviousChar,{text:e,replaceCharCnt:i})},compositionStart:function(t){o._commandService.executeCommand(Br.b.CompositionStart,{})},compositionEnd:function(t){o._commandService.executeCommand(Br.b.CompositionEnd,{})},cut:function(t){o._commandService.executeCommand(Br.b.Cut,{})}};var n=new Er(t);return n.onDidGainFocus=function(){o._editorTextFocus.setValue(!0),o._editorWidgetFocus.setValue(!0)},n.onDidScroll=function(t){return o._onDidScrollChange.fire(t)},n.onDidLoseFocus=function(){return o._editorTextFocus.setValue(!1)},n.onContextMenu=function(t){return o._onContextMenu.fire(t)},n.onMouseDown=function(t){return o._onMouseDown.fire(t)},n.onMouseUp=function(t){return o._onMouseUp.fire(t)},n.onMouseDrag=function(t){return o._onMouseDrag.fire(t)},n.onMouseDrop=function(t){return o._onMouseDrop.fire(t)},n.onKeyUp=function(t){return o._onKeyUp.fire(t)},n.onMouseMove=function(t){return o._onMouseMove.fire(t)},n.onMouseLeave=function(t){return o._onMouseLeave.fire(t)},n.onKeyDown=function(t){return o._onKeyDown.fire(t)},[new wr(e,this._configuration,this._themeService,t,i,n),!0]},la.prototype._postDetachModelCleanup=function(t){t&&t.removeAllDecorationsWithOwnerId(this._id)},la.prototype._detachModel=function(){if(!this._modelData)return null;var t=this._modelData.model,e=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),e&&this._domElement.removeChild(e),t},la.prototype._removeDecorationType=function(t){this._codeEditorService.removeDecorationType(t)},la.prototype.getTelemetryData=function(){return this._telemetryData},la.prototype.hasModel=function(){return null!==this._modelData},la=ta([ea(3,$s.a),ea(4,s.a),ea(5,Gs.b),ea(6,Ys.e),ea(7,ut.c),ea(8,Xs.a)],la));function la(t,e,i,n,o,r,s,a,l){var u,h=sa.call(this)||this;h._onDidDispose=h._register(new m.a),h.onDidDispose=h._onDidDispose.event,h._onDidChangeModelContent=h._register(new m.a),h.onDidChangeModelContent=h._onDidChangeModelContent.event,h._onDidChangeModelLanguage=h._register(new m.a),h.onDidChangeModelLanguage=h._onDidChangeModelLanguage.event,h._onDidChangeModelLanguageConfiguration=h._register(new m.a),h.onDidChangeModelLanguageConfiguration=h._onDidChangeModelLanguageConfiguration.event,h._onDidChangeModelOptions=h._register(new m.a),h.onDidChangeModelOptions=h._onDidChangeModelOptions.event,h._onDidChangeModelDecorations=h._register(new m.a),h.onDidChangeModelDecorations=h._onDidChangeModelDecorations.event,h._onDidChangeConfiguration=h._register(new m.a),h.onDidChangeConfiguration=h._onDidChangeConfiguration.event,h._onDidChangeModel=h._register(new m.a),h.onDidChangeModel=h._onDidChangeModel.event,h._onDidChangeCursorPosition=h._register(new m.a),h.onDidChangeCursorPosition=h._onDidChangeCursorPosition.event,h._onDidChangeCursorSelection=h._register(new m.a),h.onDidChangeCursorSelection=h._onDidChangeCursorSelection.event,h._onDidAttemptReadOnlyEdit=h._register(new m.a),h.onDidAttemptReadOnlyEdit=h._onDidAttemptReadOnlyEdit.event,h._onDidLayoutChange=h._register(new m.a),h.onDidLayoutChange=h._onDidLayoutChange.event,h._editorTextFocus=h._register(new ha),h.onDidFocusEditorText=h._editorTextFocus.onDidChangeToTrue,h.onDidBlurEditorText=h._editorTextFocus.onDidChangeToFalse,h._editorWidgetFocus=h._register(new ha),h.onDidFocusEditorWidget=h._editorWidgetFocus.onDidChangeToTrue,h.onDidBlurEditorWidget=h._editorWidgetFocus.onDidChangeToFalse,h._onWillType=h._register(new m.a),h.onWillType=h._onWillType.event,h._onDidType=h._register(new m.a),h.onDidType=h._onDidType.event,h._onCompositionStart=h._register(new m.a),h.onCompositionStart=h._onCompositionStart.event,h._onCompositionEnd=h._register(new m.a),h.onCompositionEnd=h._onCompositionEnd.event,h._onDidPaste=h._register(new m.a),h.onDidPaste=h._onDidPaste.event,h._onMouseUp=h._register(new m.a),h.onMouseUp=h._onMouseUp.event,h._onMouseDown=h._register(new m.a),h.onMouseDown=h._onMouseDown.event,h._onMouseDrag=h._register(new m.a),h.onMouseDrag=h._onMouseDrag.event,h._onMouseDrop=h._register(new m.a),h.onMouseDrop=h._onMouseDrop.event,h._onContextMenu=h._register(new m.a),h.onContextMenu=h._onContextMenu.event,h._onMouseMove=h._register(new m.a),h.onMouseMove=h._onMouseMove.event,h._onMouseLeave=h._register(new m.a),h.onMouseLeave=h._onMouseLeave.event,h._onKeyUp=h._register(new m.a),h.onKeyUp=h._onKeyUp.event,h._onKeyDown=h._register(new m.a),h.onKeyDown=h._onKeyDown.event,h._onDidScrollChange=h._register(new m.a),h.onDidScrollChange=h._onDidScrollChange.event,h._onDidChangeViewZones=h._register(new m.a),h.onDidChangeViewZones=h._onDidChangeViewZones.event,h._domElement=t,h._id=++ia,h._decorationTypeKeysToIds={},h._decorationTypeSubtypes={},h.isSimpleWidget=i.isSimpleWidget||!1,h._telemetryData=i.telemetryData||null,e=e||{},h._configuration=h._register(h._createConfiguration(e)),h._register(h._configuration.onDidChange(function(t){h._onDidChangeConfiguration.fire(t),t.layoutInfo&&h._onDidLayoutChange.fire(h._configuration.editor.layoutInfo),h._configuration.editor.showUnused?h._domElement.classList.add(na):h._domElement.classList.remove(na)})),h._contextKeyService=h._register(s.createScoped(h._domElement)),h._notificationService=l,h._codeEditorService=o,h._commandService=r,h._themeService=a,h._register(new pa(h,h._contextKeyService)),h._register(new ma(h,h._contextKeyService)),h._instantiationService=n.createChild(new Zs.a([Ys.e,h._contextKeyService])),h._attachModel(null),h._contributions={},h._actions={},h._focusTracker=new _a(t),h._focusTracker.onChange(function(){h._editorWidgetFocus.setValue(h._focusTracker.hasFocus())}),h._contentWidgets={},h._overlayWidgets={};for(var c=0,d=(u=Array.isArray(i.contributions)?i.contributions:v.d.getEditorContributions()).length;c<d;c++){var p=u[c];try{var f=h._instantiationService.createInstance(p,h);h._contributions[f.getId()]=f}catch(t){Object(g.e)(t)}}return v.d.getEditorActions().forEach(function(e){var t=new $r.a(e.id,e.label,e.alias,e.precondition,function(){return h._instantiationService.invokeFunction(function(t){return Promise.resolve(e.runEditorCommand(t,h,null))})},h._contextKeyService);h._actions[t.id]=t}),h._codeEditorService.addCodeEditor(h),h}var ua,ha=(ua=r.a,Qs(ca,ua),ca.prototype.setValue=function(t){var e=t?2:1;this._value!==e&&(this._value=e,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())},ca);function ca(){var t=ua.call(this)||this;return t._onDidChangeToTrue=t._register(new m.a),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new m.a),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}var da,pa=(da=r.a,Qs(fa,da),fa.prototype._updateFromConfig=function(){var t=this._editor.getConfiguration();this._editorTabMovesFocus.set(t.tabFocusMode),this._editorReadonly.set(t.readOnly)},fa.prototype._updateFromSelection=function(){var t=this._editor.getSelections();t?(this._hasMultipleSelections.set(1<t.length),this._hasNonEmptySelection.set(t.some(function(t){return!t.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},fa.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},fa.prototype._updateFromModel=function(){var t=this._editor.getModel();this._canUndo.set(Boolean(t&&t.canUndo())),this._canRedo.set(Boolean(t&&t.canRedo()))},fa);function fa(t,e){var i=da.call(this)||this;return i._editor=t,e.createKey("editorId",t.getId()),i._editorFocus=Zr.a.focus.bindTo(e),i._textInputFocus=Zr.a.textInputFocus.bindTo(e),i._editorTextFocus=Zr.a.editorTextFocus.bindTo(e),i._editorTabMovesFocus=Zr.a.tabMovesFocus.bindTo(e),i._editorReadonly=Zr.a.readOnly.bindTo(e),i._hasMultipleSelections=Zr.a.hasMultipleSelections.bindTo(e),i._hasNonEmptySelection=Zr.a.hasNonEmptySelection.bindTo(e),i._canUndo=Zr.a.canUndo.bindTo(e),i._canRedo=Zr.a.canRedo.bindTo(e),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()})),i._register(i._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()})),i._register(i._editor.onDidFocusEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidFocusEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidChangeModel(function(){return i._updateFromModel()})),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromModel()})),i._updateFromConfig(),i._updateFromSelection(),i._updateFromFocus(),i._updateFromModel(),i}var ga,ma=(ga=r.a,Qs(va,ga),va.prototype.dispose=function(){ga.prototype.dispose.call(this)},va.prototype.reset=function(){this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()},va.prototype._update=function(){var t=this._editor.getModel();t?(this._langId.set(t.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(Vn.d.has(t)),this._hasCodeActionsProvider.set(Vn.a.has(t)),this._hasCodeLensProvider.set(Vn.b.has(t)),this._hasDefinitionProvider.set(Vn.e.has(t)),this._hasImplementationProvider.set(Vn.n.has(t)),this._hasTypeDefinitionProvider.set(Vn.x.has(t)),this._hasHoverProvider.set(Vn.m.has(t)),this._hasDocumentHighlightProvider.set(Vn.h.has(t)),this._hasDocumentSymbolProvider.set(Vn.j.has(t)),this._hasReferenceProvider.set(Vn.r.has(t)),this._hasRenameProvider.set(Vn.s.has(t)),this._hasSignatureHelpProvider.set(Vn.t.has(t)),this._hasDocumentFormattingProvider.set(Vn.f.has(t)||Vn.i.has(t)),this._hasDocumentSelectionFormattingProvider.set(Vn.i.has(t)),this._isInWalkThrough.set(t.uri.scheme===o.a.walkThroughSnippet)):this.reset()},va);function va(t,e){var i=ga.call(this)||this;i._editor=t,i._langId=Zr.a.languageId.bindTo(e),i._hasCompletionItemProvider=Zr.a.hasCompletionItemProvider.bindTo(e),i._hasCodeActionsProvider=Zr.a.hasCodeActionsProvider.bindTo(e),i._hasCodeLensProvider=Zr.a.hasCodeLensProvider.bindTo(e),i._hasDefinitionProvider=Zr.a.hasDefinitionProvider.bindTo(e),i._hasImplementationProvider=Zr.a.hasImplementationProvider.bindTo(e),i._hasTypeDefinitionProvider=Zr.a.hasTypeDefinitionProvider.bindTo(e),i._hasHoverProvider=Zr.a.hasHoverProvider.bindTo(e),i._hasDocumentHighlightProvider=Zr.a.hasDocumentHighlightProvider.bindTo(e),i._hasDocumentSymbolProvider=Zr.a.hasDocumentSymbolProvider.bindTo(e),i._hasReferenceProvider=Zr.a.hasReferenceProvider.bindTo(e),i._hasRenameProvider=Zr.a.hasRenameProvider.bindTo(e),i._hasDocumentFormattingProvider=Zr.a.hasDocumentFormattingProvider.bindTo(e),i._hasDocumentSelectionFormattingProvider=Zr.a.hasDocumentSelectionFormattingProvider.bindTo(e),i._hasSignatureHelpProvider=Zr.a.hasSignatureHelpProvider.bindTo(e),i._isInWalkThrough=Zr.a.isInEmbeddedEditor.bindTo(e);function n(){return i._update()}return i._register(t.onDidChangeModel(n)),i._register(t.onDidChangeModelLanguage(n)),i._register(Vn.d.onDidChange(n)),i._register(Vn.a.onDidChange(n)),i._register(Vn.b.onDidChange(n)),i._register(Vn.e.onDidChange(n)),i._register(Vn.n.onDidChange(n)),i._register(Vn.x.onDidChange(n)),i._register(Vn.m.onDidChange(n)),i._register(Vn.h.onDidChange(n)),i._register(Vn.j.onDidChange(n)),i._register(Vn.r.onDidChange(n)),i._register(Vn.s.onDidChange(n)),i._register(Vn.f.onDidChange(n)),i._register(Vn.i.onDidChange(n)),i._register(Vn.t.onDidChange(n)),n(),i}var ya,_a=(ya=r.a,Qs(ba,ya),ba.prototype.hasFocus=function(){return this._hasFocus},ba);function ba(t){var e=ya.call(this)||this;return e._onChange=e._register(new m.a),e.onChange=e._onChange.event,e._hasFocus=!1,e._domFocusTracker=e._register(b.Q(t)),e._register(e._domFocusTracker.onDidFocus(function(){e._hasFocus=!0,e._onChange.fire(void 0)})),e._register(e._domFocusTracker.onDidBlur(function(){e._hasFocus=!1,e._onChange.fire(void 0)})),e}var wa=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Ca=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Sa(t){return wa+encodeURIComponent(t.toString())+Ca}var xa=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ka=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Object(ut.e)(function(t,e){var i=t.getColor(Le.h);i&&e.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+i+"; }");var n=t.getColor(Le.i);n&&e.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+Sa(n)+'") repeat-x bottom left; }');var o=t.getColor(Le.v);o&&e.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+o+"; }");var r=t.getColor(Le.w);r&&e.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+Sa(r)+'") repeat-x bottom left; }');var s=t.getColor(Le.m);s&&e.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+s+"; }");var a=t.getColor(Le.n);a&&e.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+Sa(a)+'") repeat-x bottom left; }');var l=t.getColor(Le.j);l&&e.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+l+"; }");var u=t.getColor(Le.k);u&&e.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+function(t){return xa+encodeURIComponent(t.toString())+ka}(u)+'") no-repeat bottom left; }');var h=t.getColor(Le.u);h&&e.addRule("."+na+" .monaco-editor .squiggly-inline-unnecessary { opacity: "+h.rgba.a+"; will-change: opacity; }");var c=t.getColor(Le.t);c&&e.addRule("."+na+" .monaco-editor .squiggly-unnecessary { border-bottom: 2px dashed "+c+"; }")})},function(t,e,i){"use strict";i.r(e);var n=i(0),l=i(17),u=i(4),o=i(8),r=i(3),s=i(6),h=i(40),c=i(9),g=i(2),a=i(20),d=i(76),p=i(47),f=i(24),m=i(7),v=i(16),y=(_.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},_.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},_.prototype.getCount=function(){return this._decorations.length},_.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},_.prototype.getStartPosition=function(){return this._startPosition},_.prototype.setStartPosition=function(t){this._startPosition=t,this.setCurrentFindMatch(null)},_.prototype._getDecorationIndex=function(t){var e=this._decorations.indexOf(t);return 0<=e?e+1:1},_.prototype.getCurrentMatchesPosition=function(t){for(var e=this._editor.getModel().getDecorationsInRange(t),i=0,n=e.length;i<n;i++){var o=e[i],r=o.options;if(r===_._FIND_MATCH_DECORATION||r===_._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 1},_.prototype.setCurrentFindMatch=function(t){var o=this,r=null,e=0;if(t)for(var i=0,n=this._decorations.length;i<n;i++){var s=this._editor.getModel().getDecorationRange(this._decorations[i]);if(t.equalsRange(s)){r=this._decorations[i],e=i+1;break}}return null===this._highlightedDecorationId&&null===r||this._editor.changeDecorations(function(t){if(null!==o._highlightedDecorationId&&(t.changeDecorationOptions(o._highlightedDecorationId,_._FIND_MATCH_DECORATION),o._highlightedDecorationId=null),null!==r&&(o._highlightedDecorationId=r,t.changeDecorationOptions(o._highlightedDecorationId,_._CURRENT_FIND_MATCH_DECORATION)),null!==o._rangeHighlightDecorationId&&(t.removeDecoration(o._rangeHighlightDecorationId),o._rangeHighlightDecorationId=null),null!==r){var e=o._editor.getModel().getDecorationRange(r);if(e.startLineNumber!==e.endLineNumber&&1===e.endColumn){var i=e.endLineNumber-1,n=o._editor.getModel().getLineMaxColumn(i);e=new g.a(e.startLineNumber,e.startColumn,i,n)}o._rangeHighlightDecorationId=t.addDecoration(e,_._RANGE_HIGHLIGHT_DECORATION)}}),e},_.prototype.set=function(d,p){var f=this;this._editor.changeDecorations(function(t){var e=_._FIND_MATCH_DECORATION,i=[];if(1e3<d.length){e=_._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var n=f._editor.getModel().getLineCount(),o=f._editor.getLayoutInfo().height/n,r=Math.max(2,Math.ceil(3/o)),s=d[0].range.startLineNumber,a=d[0].range.endLineNumber,l=1,u=d.length;l<u;l++){var h=d[l].range;a+r>=h.startLineNumber?h.endLineNumber>a&&(a=h.endLineNumber):(i.push({range:new g.a(s,1,a,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),s=h.startLineNumber,a=h.endLineNumber)}i.push({range:new g.a(s,1,a,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}var c=new Array(d.length);for(l=0,u=d.length;l<u;l++)c[l]={range:d[l].range,options:e};f._decorations=t.deltaDecorations(f._decorations,c),f._overviewRulerApproximateDecorations=t.deltaDecorations(f._overviewRulerApproximateDecorations,i),f._rangeHighlightDecorationId&&(t.removeDecoration(f._rangeHighlightDecorationId),f._rangeHighlightDecorationId=null),f._findScopeDecorationId&&(t.removeDecoration(f._findScopeDecorationId),f._findScopeDecorationId=null),p&&(f._findScopeDecorationId=t.addDecoration(p,_._FIND_SCOPE_DECORATION))})},_.prototype.matchBeforePosition=function(t){if(0===this._decorations.length)return null;for(var e=this._decorations.length-1;0<=e;e--){var i=this._decorations[e],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.endLineNumber>t.lineNumber)){if(n.endLineNumber<t.lineNumber)return n;if(!(n.endColumn>t.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},_.prototype.matchAfterPosition=function(t){if(0===this._decorations.length)return null;for(var e=0,i=this._decorations.length;e<i;e++){var n=this._decorations[e],o=this._editor.getModel().getDecorationRange(n);if(o&&!(o.startLineNumber<t.lineNumber)){if(o.startLineNumber>t.lineNumber)return o;if(!(o.startColumn<t.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])},_.prototype._allDecorations=function(){var t=[];return t=(t=t.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&t.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t},_._CURRENT_FIND_MATCH_DECORATION=f.a.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(v.f)(m.pb),position:p.c.Center}}),_._FIND_MATCH_DECORATION=f.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(v.f)(m.pb),position:p.c.Center}}),_._FIND_MATCH_NO_OVERVIEW_DECORATION=f.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),_._FIND_MATCH_ONLY_OVERVIEW_DECORATION=f.a.register({stickiness:1,overviewRuler:{color:Object(v.f)(m.pb),position:p.c.Center}}),_._RANGE_HIGHLIGHT_DECORATION=f.a.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),_._FIND_SCOPE_DECORATION=f.a.register({className:"findScope",isWholeLine:!0}),_);function _(t){this._editor=t,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}var b=(w.prototype.getEditOperations=function(t,e){if(0<this._ranges.length){for(var i=[],n=0;n<this._ranges.length;n++)i.push({range:this._ranges[n],text:this._replaceStrings[n]});i.sort(function(t,e){return g.a.compareRangesUsingStarts(t.range,e.range)});var o=[],r=i[0];for(n=1;n<i.length;n++)r.range.endLineNumber===i[n].range.startLineNumber&&r.range.endColumn===i[n].range.startColumn?(r.range=r.range.plusRange(i[n].range),r.text=r.text+i[n].text):(o.push(r),r=i[n]);for(o.push(r),n=0;n<o.length;n++)e.addEditOperation(o[n].range,o[n].text)}this._trackedEditorSelectionId=e.trackSelection(this._editorSelection)},w.prototype.computeCursorState=function(t,e){return e.getTrackedSelection(this._trackedEditorSelectionId)},w);function w(t,e,i){this._editorSelection=t,this._ranges=e,this._replaceStrings=i}var C=function(t){this.staticValue=t,this.kind=0},S=function(t){this.pieces=t,this.kind=1},x=(k.fromStaticValue=function(t){return new k([O.staticValue(t)])},Object.defineProperty(k.prototype,"hasReplacementPatterns",{get:function(){return 1===this._state.kind},enumerable:!0,configurable:!0}),k.prototype.buildReplaceString=function(t){if(0===this._state.kind)return this._state.staticValue;for(var e="",i=0,n=this._state.pieces.length;i<n;i++){var o=this._state.pieces[i];null===o.staticValue?e+=k._substitute(o.matchIndex,t):e+=o.staticValue}return e},k._substitute=function(t,e){if(null===e)return"";if(0===t)return e[0];for(var i="";0<t;){if(t<e.length)return(e[t]||"")+i;i=String(t%10)+i,t=Math.floor(t/10)}return"$"+i},k);function k(t){t&&0!==t.length?1===t.length&&null!==t[0].staticValue?this._state=new C(t[0].staticValue):this._state=new S(t):this._state=new C("")}var O=(E.staticValue=function(t){return new E(t,-1)},E.matchIndex=function(t){return new E(null,t)},E);function E(t,e){this.staticValue=t,this.matchIndex=e}var L=(D.prototype.emitUnchanged=function(t){this._emitStatic(this._source.substring(this._lastCharIndex,t)),this._lastCharIndex=t},D.prototype.emitStatic=function(t,e){this._emitStatic(t),this._lastCharIndex=e},D.prototype._emitStatic=function(t){0!==t.length&&(this._currentStaticPiece+=t)},D.prototype.emitMatchIndex=function(t,e){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=O.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=O.matchIndex(t),this._lastCharIndex=e},D.prototype.finalize=function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=O.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new x(this._result)},D);function D(t){this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}var I=i(10),N=new I.f("findWidgetVisible",!1),T=new I.f("findInputFocussed",!1),M=new I.f("replaceInputFocussed",!1),A={primary:545,mac:{primary:2593}},P={primary:565,mac:{primary:2613}},R={primary:560,mac:{primary:2608}},F={primary:554,mac:{primary:2602}},j="actions.find",B="actions.findWithSelection",H="editor.action.nextMatchFindAction",W="editor.action.previousMatchFindAction",V="editor.action.nextSelectionMatchFindAction",z="editor.action.previousSelectionMatchFindAction",U="editor.action.startFindReplaceAction",q="closeFindWidget",K="toggleFindCaseSensitive",G="toggleFindWholeWord",Y="toggleFindRegex",$="toggleFindInSelection",Z="editor.action.replaceOne",X="editor.action.replaceAll",J="editor.action.selectAllMatches",Q=19999,tt=(et.prototype.dispose=function(){this._isDisposed=!0,Object(u.d)(this._startSearchingTimer),this._toDispose=Object(u.d)(this._toDispose)},et.prototype._onStateChanged=function(t){var e=this;this._isDisposed||this._editor.getModel()&&(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){t.searchScope?e.research(t.moveCursor,e._state.searchScope):e.research(t.moveCursor)},240)):t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))},et._getSearchRange=function(t,e){return e||t.getFullModelRange()},et.prototype.research=function(t,e){var i=null;null!==(i=void 0!==e?e:this._decorations.getFindScope())&&i.startLineNumber!==i.endLineNumber&&(i=1===i.endColumn?new g.a(i.startLineNumber,1,i.endLineNumber-1,this._editor.getModel().getLineMaxColumn(i.endLineNumber-1)):new g.a(i.startLineNumber,1,i.endLineNumber,this._editor.getModel().getLineMaxColumn(i.endLineNumber)));var n=this._findMatches(i,!1,Q);this._decorations.set(n,i),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),t&&this._moveToNextMatch(this._decorations.getStartPosition())},et.prototype._hasMatches=function(){return 0<this._state.matchesCount},et.prototype._cannotFind=function(){if(this._hasMatches())return!1;var t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t,0),!0},et.prototype._setCurrentFindMatch=function(t){var e=this._decorations.setCurrentFindMatch(t);this._state.changeMatchInfo(e,this._decorations.getCount(),t),this._editor.setSelection(t),this._editor.revealRangeInCenterIfOutsideViewport(t,0)},et.prototype._prevSearchPosition=function(t){var e=this._state.isRegex&&(0<=this._state.searchString.indexOf("^")||0<=this._state.searchString.indexOf("$")),i=t.lineNumber,n=t.column,o=this._editor.getModel();return e||1===n?(1===i?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new c.a(i,n)},et.prototype._moveToPrevMatch=function(t,e){if(void 0===e&&(e=!1),this._decorations.getCount()<Q){var i=this._decorations.matchBeforePosition(t);return i&&i.isEmpty()&&i.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),i=this._decorations.matchBeforePosition(t)),void(i&&this._setCurrentFindMatch(i))}if(!this._cannotFind()){var n=this._decorations.getFindScope(),o=et._getSearchRange(this._editor.getModel(),n);o.getEndPosition().isBefore(t)&&(t=o.getEndPosition()),t.isBefore(o.getStartPosition())&&(t=o.getEndPosition());var r=t.lineNumber,s=t.column,a=this._editor.getModel(),l=new c.a(r,s),u=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);if(u&&u.range.isEmpty()&&u.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),u=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1)),u)return e||o.containsRange(u.range)?void this._setCurrentFindMatch(u.range):this._moveToPrevMatch(u.range.getStartPosition(),!0)}},et.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},et.prototype._nextSearchPosition=function(t){var e=this._state.isRegex&&(0<=this._state.searchString.indexOf("^")||0<=this._state.searchString.indexOf("$")),i=t.lineNumber,n=t.column,o=this._editor.getModel();return e||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new c.a(i,n)},et.prototype._moveToNextMatch=function(t){if(this._decorations.getCount()<Q){var e=this._decorations.matchAfterPosition(t);return e&&e.isEmpty()&&e.getStartPosition().equals(t)&&(t=this._nextSearchPosition(t),e=this._decorations.matchAfterPosition(t)),void(e&&this._setCurrentFindMatch(e))}var i=this._getNextMatch(t,!1,!0);i&&this._setCurrentFindMatch(i.range)},et.prototype._getNextMatch=function(t,e,i,n){if(void 0===n&&(n=!1),this._cannotFind())return null;var o=this._decorations.getFindScope(),r=et._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(t)&&(t=r.getStartPosition()),t.isBefore(r.getStartPosition())&&(t=r.getStartPosition());var s=t.lineNumber,a=t.column,l=this._editor.getModel(),u=new c.a(s,a),h=l.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,e);return i&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(u)&&(u=this._nextSearchPosition(u),h=l.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,e)),h?n||r.containsRange(h.range)?h:this._getNextMatch(h.range.getEndPosition(),e,i,!0):null},et.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},et.prototype._getReplacePattern=function(){return this._state.isRegex?function(t){if(!t||0===t.length)return new x(null);for(var e=new L(t),i=0,n=t.length;i<n;i++){var o=t.charCodeAt(i);if(92!==o){if(36===o){if(n<=++i)break;if(36===(a=t.charCodeAt(i))){e.emitUnchanged(i-1),e.emitStatic("$",i+1);continue}if(48===a||38===a){e.emitUnchanged(i-1),e.emitMatchIndex(0,i+1);continue}if(49<=a&&a<=57){var r=a-48;if(i+1<n){var s=t.charCodeAt(i+1);if(48<=s&&s<=57){i++,r=10*r+(s-48),e.emitUnchanged(i-2),e.emitMatchIndex(r,i+1);continue}}e.emitUnchanged(i-1),e.emitMatchIndex(r,i+1);continue}}}else{if(n<=++i)break;var a;switch(a=t.charCodeAt(i)){case 92:e.emitUnchanged(i-1),e.emitStatic("\\",i+1);break;case 110:e.emitUnchanged(i-1),e.emitStatic("\n",i+1);break;case 116:e.emitUnchanged(i-1),e.emitStatic("\t",i+1)}}}return e.finalize()}(this._state.replaceString):x.fromStaticValue(this._state.replaceString)},et.prototype.replace=function(){if(this._hasMatches()){var t=this._getReplacePattern(),e=this._editor.getSelection(),i=this._getNextMatch(e.getStartPosition(),t.hasReplacementPatterns,!1);if(i)if(e.equalsRange(i.range)){var n=t.buildReplaceString(i.matches),o=new h.a(e,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new c.a(e.startLineNumber,e.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}},et.prototype._findMatches=function(t,e,i){var n=et._getSearchRange(this._editor.getModel(),t);return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,e,i)},et.prototype.replaceAll=function(){if(this._hasMatches()){var t=this._decorations.getFindScope();null===t&&this._state.matchesCount>=Q?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)}},et.prototype._largeReplaceAll=function(){var t=new d.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null).parseSearchRequest();if(t){var e=t.regex;if(!e.multiline){var i="m";e.ignoreCase&&(i+="i"),e.global&&(i+="g"),e=new RegExp(e.source,i)}var n,o=this._editor.getModel(),r=o.getValue(1),s=o.getFullModelRange(),a=this._getReplacePattern();n=a.hasReplacementPatterns?r.replace(e,function(){return a.buildReplaceString(arguments)}):r.replace(e,a.buildReplaceString(null));var l=new h.b(s,n,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}},et.prototype._regularReplaceAll=function(t){for(var e=this._getReplacePattern(),i=this._findMatches(t,e.hasReplacementPatterns,1073741824),n=[],o=0,r=i.length;o<r;o++)n[o]=e.buildReplaceString(i[o].matches);var s=new b(this._editor.getSelection(),i.map(function(t){return t.range}),n);this._executeEditorCommand("replaceAll",s)},et.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var t=this._decorations.getFindScope(),e=this._findMatches(t,!1,1073741824).map(function(t){return new a.a(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn)}),i=this._editor.getSelection(),n=0,o=e.length;n<o;n++)if(e[n].equalsRange(i)){e=[i].concat(e.slice(0,n)).concat(e.slice(n+1));break}this._editor.setSelections(e)}},et.prototype._executeEditorCommand=function(t,e){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(t,e),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},et);function et(t,e){var i=this;this._editor=t,this._state=e,this._toDispose=[],this._isDisposed=!1,this._startSearchingTimer=new l.e,this._decorations=new y(t),this._toDispose.push(this._decorations),this._updateDecorationsScheduler=new l.d(function(){return i.research(!1)},100),this._toDispose.push(this._updateDecorationsScheduler),this._toDispose.push(this._editor.onDidChangeCursorPosition(function(t){3!==t.reason&&5!==t.reason&&6!==t.reason||i._decorations.setStartPosition(i._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.push(this._editor.onDidChangeModelContent(function(t){i._ignoreModelContentChanged||(t.isFlush&&i._decorations.reset(),i._decorations.setStartPosition(i._editor.getPosition()),i._updateDecorationsScheduler.schedule())})),this._toDispose.push(this._state.onFindReplaceStateChange(function(t){return i._onStateChanged(t)})),this.research(!1,this._state.searchScope)}var it,nt,ot=i(1),rt=(i(276),i(60)),st=i(12),at=i(5),lt=i(27),ut=(it=function(t,e){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}it(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),ht={inputActiveOptionBorder:st.a.fromHex("#007ACC")},ct=(nt=rt.a,ut(dt,nt),Object.defineProperty(dt.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(dt.prototype,"onKeyDown",{get:function(){return this._onKeyDown.event},enumerable:!0,configurable:!0}),dt.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(dt.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()},enumerable:!0,configurable:!0}),dt.prototype.width=function(){return 22},dt.prototype.style=function(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),this.applyStyles()},dt.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent")},dt.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},dt.prototype.disable=function(){ot.J(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},dt);function dt(t){var e=nt.call(this)||this;return e._onChange=e._register(new at.a),e._onKeyDown=e._register(new at.a),e._opts=lt.c(t),lt.g(e._opts,ht,!1),e._checked=e._opts.isChecked,e.domNode=document.createElement("div"),e.domNode.title=e._opts.title,e.domNode.className="monaco-custom-checkbox "+e._opts.actionClassName+" "+(e._checked?"checked":"unchecked"),e.domNode.tabIndex=0,e.domNode.setAttribute("role","checkbox"),e.domNode.setAttribute("aria-checked",String(e._checked)),e.domNode.setAttribute("aria-label",e._opts.title),e.applyStyles(),e.onclick(e.domNode,function(t){e.checked=!e._checked,e._onChange.fire(!1),t.preventDefault()}),e.onkeydown(e.domNode,function(t){if(10===t.keyCode||3===t.keyCode)return e.checked=!e._checked,e._onChange.fire(!0),void t.preventDefault();e._onKeyDown.fire(t)}),e}i(277);var pt,ft,gt=(pt=function(t,e){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}pt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),mt=n.a("caseDescription","Match Case"),vt=n.a("wordsDescription","Match Whole Word"),yt=n.a("regexDescription","Use Regular Expression"),_t=(gt(bt,ft=ct),bt);function bt(t){return ft.call(this,{actionClassName:"monaco-case-sensitive",title:mt+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}var wt,Ct=(gt(St,wt=ct),St);function St(t){return wt.call(this,{actionClassName:"monaco-whole-word",title:vt+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}var xt,kt=(gt(Ot,xt=ct),Ot);function Ot(t){return xt.call(this,{actionClassName:"monaco-regex",title:yt+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}var Et,Lt,Dt=(Et=function(t,e){return(Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Et(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),It=(Lt=rt.a,Dt(Nt,Lt),Nt.prototype._keybindingLabelFor=function(t){var e=this._keybindingService.lookupKeybinding(t);return e?" ("+e.getLabel()+")":""},Nt.prototype.dispose=function(){this._editor.removeOverlayWidget(this),Lt.prototype.dispose.call(this)},Nt.prototype.getId=function(){return Nt.ID},Nt.prototype.getDomNode=function(){return this._domNode},Nt.prototype.getPosition=function(){return{preference:0}},Nt.prototype.highlightFindOptions=function(){this._revealTemporarily()},Nt.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},Nt.prototype._onMouseOut=function(){this._hideSoon.schedule()},Nt.prototype._onMouseOver=function(){this._hideSoon.cancel()},Nt.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},Nt.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},Nt.prototype._applyTheme=function(t){var e={inputActiveOptionBorder:t.getColor(m.J)};this.caseSensitive.style(e),this.wholeWords.style(e),this.regex.style(e)},Nt.ID="editor.contrib.findOptionsWidget",Nt);function Nt(t,e,i,n){var o=Lt.call(this)||this;o._hideSoon=o._register(new l.d(function(){return o._hide()},2e3)),o._isVisible=!1,o._editor=t,o._state=e,o._keybindingService=i,o._domNode=document.createElement("div"),o._domNode.className="findOptionsWidget",o._domNode.style.display="none",o._domNode.style.top="10px",o._domNode.setAttribute("role","presentation"),o._domNode.setAttribute("aria-hidden","true");var r=n.getTheme().getColor(m.J);return o.caseSensitive=o._register(new _t({appendTitle:o._keybindingLabelFor(K),isChecked:o._state.matchCase,inputActiveOptionBorder:r})),o._domNode.appendChild(o.caseSensitive.domNode),o._register(o.caseSensitive.onChange(function(){o._state.change({matchCase:o.caseSensitive.checked},!1)})),o.wholeWords=o._register(new Ct({appendTitle:o._keybindingLabelFor(G),isChecked:o._state.wholeWord,inputActiveOptionBorder:r})),o._domNode.appendChild(o.wholeWords.domNode),o._register(o.wholeWords.onChange(function(){o._state.change({wholeWord:o.wholeWords.checked},!1)})),o.regex=o._register(new kt({appendTitle:o._keybindingLabelFor(Y),isChecked:o._state.isRegex,inputActiveOptionBorder:r})),o._domNode.appendChild(o.regex.domNode),o._register(o.regex.onChange(function(){o._state.change({isRegex:o.regex.checked},!1)})),o._editor.addOverlayWidget(o),o._register(o._state.onFindReplaceStateChange(function(t){var e=!1;t.isRegex&&(o.regex.checked=o._state.isRegex,e=!0),t.wholeWord&&(o.wholeWords.checked=o._state.wholeWord,e=!0),t.matchCase&&(o.caseSensitive.checked=o._state.matchCase,e=!0),!o._state.isRevealed&&e&&o._revealTemporarily()})),o._register(ot.i(o._domNode,function(t){return o._onMouseOut()})),o._register(ot.h(o._domNode,"mouseover",function(t){return o._onMouseOver()})),o._applyTheme(n.getTheme()),o._register(n.onThemeChange(o._applyTheme.bind(o))),o}function Tt(t,e){return 1===t||2!==t&&e}Object(v.e)(function(t,e){var i=t.getColor(m.D);i&&e.addRule(".monaco-editor .findOptionsWidget { background-color: "+i+"; }");var n=t.getColor(m.Fb);n&&e.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+n+"; }");var o=t.getColor(m.e);o&&e.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+o+"; }")});var Mt=(Object.defineProperty(At.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"isRegex",{get:function(){return Tt(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"wholeWord",{get:function(){return Tt(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"matchCase",{get:function(){return Tt(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),Object.defineProperty(At.prototype,"onFindReplaceStateChange",{get:function(){return this._onFindReplaceStateChange.event},enumerable:!0,configurable:!0}),At.prototype.dispose=function(){},At.prototype.changeMatchInfo=function(t,e,i){var n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1;0===e&&(t=0),e<t&&(t=e),this._matchesPosition!==t&&(this._matchesPosition=t,o=n.matchesPosition=!0),this._matchesCount!==e&&(this._matchesCount=e,o=n.matchesCount=!0),void 0!==i&&(g.a.equalsRange(this._currentMatch,i)||(this._currentMatch=i,o=n.currentMatch=!0)),o&&this._onFindReplaceStateChange.fire(n)},At.prototype.change=function(t,e,i){void 0===i&&(i=!0);var n={moveCursor:e,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1,r=this.isRegex,s=this.wholeWord,a=this.matchCase;void 0!==t.searchString&&this._searchString!==t.searchString&&(this._searchString=t.searchString,o=n.searchString=!0),void 0!==t.replaceString&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,o=n.replaceString=!0),void 0!==t.isRevealed&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,o=n.isRevealed=!0),void 0!==t.isReplaceRevealed&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,o=n.isReplaceRevealed=!0),void 0!==t.isRegex&&(this._isRegex=t.isRegex),void 0!==t.wholeWord&&(this._wholeWord=t.wholeWord),void 0!==t.matchCase&&(this._matchCase=t.matchCase),void 0!==t.searchScope&&(g.a.equalsRange(this._searchScope,t.searchScope)||(this._searchScope=t.searchScope,o=n.searchScope=!0)),this._isRegexOverride=void 0!==t.isRegexOverride?t.isRegexOverride:0,this._wholeWordOverride=void 0!==t.wholeWordOverride?t.wholeWordOverride:0,this._matchCaseOverride=void 0!==t.matchCaseOverride?t.matchCaseOverride:0,r!==this.isRegex&&(o=!0,n.isRegex=!0),s!==this.wholeWord&&(o=!0,n.wholeWord=!0),a!==this.matchCase&&(o=!0,n.matchCase=!0),o&&this._onFindReplaceStateChange.fire(n)},At);function At(){this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._onFindReplaceStateChange=new at.a}i(278);var Pt,Rt,Ft=i(126),jt=i(13),Bt=i(14),Ht=i(157),Wt=(i(281),Pt=function(t,e){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Pt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Vt=n.a("defaultLabel","input"),zt=(Rt=rt.a,Wt(Ut,Rt),Ut.prototype.enable=function(){ot.G(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},Ut.prototype.disable=function(){ot.f(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},Ut.prototype.setFocusInputOnOptionClick=function(t){this.fixFocusOnOptionClickEnabled=t},Ut.prototype.setEnabled=function(t){t?this.enable():this.disable()},Ut.prototype.getValue=function(){return this.inputBox.value},Ut.prototype.setValue=function(t){this.inputBox.value!==t&&(this.inputBox.value=t)},Ut.prototype.style=function(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},Ut.prototype.applyStyles=function(){if(this.domNode){var t={inputActiveOptionBorder:this.inputActiveOptionBorder};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t);var e={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(e)}},Ut.prototype.select=function(){this.inputBox.select()},Ut.prototype.focus=function(){this.inputBox.focus()},Ut.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},Ut.prototype.setCaseSensitive=function(t){this.caseSensitive.checked=t,this.setInputWidth()},Ut.prototype.getWholeWords=function(){return this.wholeWords.checked},Ut.prototype.setWholeWords=function(t){this.wholeWords.checked=t,this.setInputWidth()},Ut.prototype.getRegex=function(){return this.regex.checked},Ut.prototype.setRegex=function(t){this.regex.checked=t,this.setInputWidth(),this.validate()},Ut.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},Ut.prototype.highlightFindOptions=function(){ot.G(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,ot.f(this.domNode,"highlight-"+this._lastHighlightFindOptions)},Ut.prototype.setInputWidth=function(){var t=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=t},Ut.prototype.buildDomNode=function(t,e,i,n){var o=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",ot.f(this.domNode,"monaco-findInput"),this.inputBox=this._register(new Ht.a(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:n})),this.regex=this._register(new kt({appendTitle:i,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder})),this._register(this.regex.onChange(function(t){o._onDidOptionChange.fire(t),!t&&o.fixFocusOnOptionClickEnabled&&o.inputBox.focus(),o.setInputWidth(),o.validate()})),this._register(this.regex.onKeyDown(function(t){o._onRegexKeyDown.fire(t)})),this.wholeWords=this._register(new Ct({appendTitle:e,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder})),this._register(this.wholeWords.onChange(function(t){o._onDidOptionChange.fire(t),!t&&o.fixFocusOnOptionClickEnabled&&o.inputBox.focus(),o.setInputWidth(),o.validate()})),this.caseSensitive=this._register(new _t({appendTitle:t,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder})),this._register(this.caseSensitive.onChange(function(t){o._onDidOptionChange.fire(t),!t&&o.fixFocusOnOptionClickEnabled&&o.inputBox.focus(),o.setInputWidth(),o.validate()})),this._register(this.caseSensitive.onKeyDown(function(t){o._onCaseSensitiveKeyDown.fire(t)}));var r=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,function(t){if(t.equals(15)||t.equals(17)||t.equals(9)){var e=r.indexOf(document.activeElement);if(0<=e){var i=void 0;t.equals(17)?i=(e+1)%r.length:t.equals(15)&&(i=0===e?r.length-1:e-1),t.equals(9)?r[e].blur():0<=i&&r[i].focus(),ot.c.stop(t,!0)}}}),this.setInputWidth();var s=document.createElement("div");s.className="controls",s.style.display=this._showOptionButtons?"block":"none",s.appendChild(this.caseSensitive.domNode),s.appendChild(this.wholeWords.domNode),s.appendChild(this.regex.domNode),this.domNode.appendChild(s)},Ut.prototype.validate=function(){this.inputBox.validate()},Ut.prototype.clearMessage=function(){this.inputBox.hideMessage()},Ut.prototype.dispose=function(){Rt.prototype.dispose.call(this)},Ut);function Ut(t,e,i,n){var o=Rt.call(this)||this;return o._showOptionButtons=i,o.fixFocusOnOptionClickEnabled=!0,o._onDidOptionChange=o._register(new at.a),o.onDidOptionChange=o._onDidOptionChange.event,o._onKeyDown=o._register(new at.a),o.onKeyDown=o._onKeyDown.event,o._onMouseDown=o._register(new at.a),o.onMouseDown=o._onMouseDown.event,o._onInput=o._register(new at.a),o._onKeyUp=o._register(new at.a),o._onCaseSensitiveKeyDown=o._register(new at.a),o.onCaseSensitiveKeyDown=o._onCaseSensitiveKeyDown.event,o._onRegexKeyDown=o._register(new at.a),o._lastHighlightFindOptions=0,o.contextViewProvider=e,o.width=n.width||100,o.placeholder=n.placeholder||"",o.validation=n.validation,o.label=n.label||Vt,o.inputActiveOptionBorder=n.inputActiveOptionBorder,o.inputBackground=n.inputBackground,o.inputForeground=n.inputForeground,o.inputBorder=n.inputBorder,o.inputValidationInfoBorder=n.inputValidationInfoBorder,o.inputValidationInfoBackground=n.inputValidationInfoBackground,o.inputValidationInfoForeground=n.inputValidationInfoForeground,o.inputValidationWarningBorder=n.inputValidationWarningBorder,o.inputValidationWarningBackground=n.inputValidationWarningBackground,o.inputValidationWarningForeground=n.inputValidationWarningForeground,o.inputValidationErrorBorder=n.inputValidationErrorBorder,o.inputValidationErrorBackground=n.inputValidationErrorBackground,o.inputValidationErrorForeground=n.inputValidationErrorForeground,o.regex=null,o.wholeWords=null,o.caseSensitive=null,o.domNode=null,o.inputBox=null,o.buildDomNode(n.appendCaseSensitiveLabel||"",n.appendWholeWordsLabel||"",n.appendRegexLabel||"",n.history),Boolean(t)&&t.appendChild(o.domNode),o.onkeydown(o.inputBox.inputElement,function(t){return o._onKeyDown.fire(t)}),o.onkeyup(o.inputBox.inputElement,function(t){return o._onKeyUp.fire(t)}),o.oninput(o.inputBox.inputElement,function(t){return o._onInput.fire()}),o.onmousedown(o.inputBox.inputElement,function(t){return o._onMouseDown.fire(t)}),o}function qt(t,e){return t.getContext(document.activeElement).getValue(e)}var Kt,Gt=i(85),Yt=(Kt=function(t,e){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Kt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),$t=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Zt=function(i,n){return function(t,e){n(t,e,i)}},Xt="historyNavigationWidget",Jt="historyNavigationEnabled";function Qt(t,e){var i=function(t,e){return t.createScoped(e.target)}(t,e);return function(t,e,i){new I.f(i,e).bindTo(t)}(i,e,Xt),{scopedContextKeyService:i,historyNavigationEnablement:new I.f(Jt,!0).bindTo(i)}}var te,ee=(te=Ht.a,Yt(ie,te),ie=$t([Zt(3,I.e)],ie));function ie(t,e,i,n){var o=te.call(this,t,e,i)||this;return o._register(Qt(n,{target:o.element,historyNavigator:o}).scopedContextKeyService),o}var ne,oe=(Yt(re,ne=zt),re=$t([Zt(3,I.e)],re));function re(t,e,i,n,o){void 0===o&&(o=!1);var r=ne.call(this,t,e,o,i)||this;return r._register(Qt(n,{target:r.inputBox.element,historyNavigator:r.inputBox}).scopedContextKeyService),r}Gt.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:I.d.and(new I.b(Xt),new I.c(Jt,!0)),primary:16,secondary:[528],handler:function(t,e){qt(t.get(I.e),Xt).historyNavigator.showPreviousValue()}}),Gt.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:new I.a([new I.b(Xt),new I.c(Jt,!0)]),primary:18,secondary:[530],handler:function(t,e){qt(t.get(I.e),Xt).historyNavigator.showNextValue()}});var se,ae,le=(se=function(t,e){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}se(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),ue=n.a("label.find","Find"),he=n.a("placeholder.find","Find"),ce=n.a("label.previousMatchButton","Previous match"),de=n.a("label.nextMatchButton","Next match"),pe=n.a("label.toggleSelectionFind","Find in selection"),fe=n.a("label.closeButton","Close"),ge=n.a("label.replace","Replace"),me=n.a("placeholder.replace","Replace"),ve=n.a("label.replaceButton","Replace"),ye=n.a("label.replaceAllButton","Replace All"),_e=n.a("label.toggleReplaceButton","Toggle Replace mode"),be=n.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Q),we=n.a("label.matchesLocation","{0} of {1}"),Ce=n.a("label.noResults","No Results"),Se=69,xe=17+(Se+3+1)+92+2,ke=function(t){this.afterLineNumber=t,this.heightInPx=34,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"},Oe=(ae=rt.a,le(Ee,ae),Ee.prototype.getId=function(){return Ee.ID},Ee.prototype.getDomNode=function(){return this._domNode},Ee.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},Ee.prototype._onStateChanged=function(t){if(t.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(t.replaceString&&(this._replaceInputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInputBox.width=this._findInput.inputBox.width,this._updateButtons()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),t.searchString||t.matchesCount||t.matchesPosition){var e=0<this._state.searchString.length&&0===this._state.matchesCount;ot.P(this._domNode,"no-results",e),this._updateMatchesCount(),this._updateButtons()}(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory()},Ee.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},Ee.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInputBox.addToHistory()},Ee.prototype._updateMatchesCount=function(){var t;if(this._matchesCount.style.minWidth=Se+"px",this._state.matchesCount>=Q?this._matchesCount.title=be:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),0<this._state.matchesCount){var e=String(this._state.matchesCount);this._state.matchesCount>=Q&&(e+="+");var i=String(this._state.matchesPosition);"0"===i&&(i="?"),t=o.p(we,i,e)}else t=Ce;this._matchesCount.appendChild(document.createTextNode(t)),Se=Math.max(Se,this._matchesCount.clientWidth)},Ee.prototype._updateToggleSelectionFindButton=function(){var t=this._codeEditor.getSelection(),e=!!t&&(t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn),i=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(i||e))},Ee.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInputBox.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var t=0<this._state.searchString.length,e=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&e),this._nextBtn.setEnabled(this._isVisible&&t&&e),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),ot.P(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var i=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&i)},Ee.prototype._reveal=function(){var t=this;if(!this._isVisible){this._isVisible=!0;var e=this._codeEditor.getSelection();e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn)&&this._codeEditor.getConfiguration().contribInfo.find.autoFindInSelection?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout(function(){ot.f(t._domNode,"visible"),t._domNode.setAttribute("aria-hidden","false")},0),setTimeout(function(){t._findInput.validate()},200),this._codeEditor.layoutOverlayWidget(this);var i=!0;if(this._codeEditor.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&e){var n=ot.v(this._codeEditor.getDomNode()),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),r=n.left+o.left;if(o.top<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(i=!1);var s=ot.x(this._domNode).left;s<r&&(i=!1);var a=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());s<n.left+a.left&&(i=!1)}}this._showViewZone(i)}},Ee.prototype._hide=function(t){var e=this;this._isVisible&&(this._isVisible=!1,this._updateButtons(),ot.G(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._codeEditor.changeViewZones(function(t){void 0!==e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0,e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()-e._viewZone.heightInPx))}))},Ee.prototype._layoutViewZone=function(){var e=this;this._isVisible&&void 0===this._viewZoneId&&this._codeEditor.changeViewZones(function(t){e._state.isReplaceRevealed?e._viewZone.heightInPx=64:e._viewZone.heightInPx=34,e._viewZoneId=t.addZone(e._viewZone),e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+e._viewZone.heightInPx)})},Ee.prototype._showViewZone=function(i){var n=this;void 0===i&&(i=!0),this._isVisible&&this._codeEditor.changeViewZones(function(t){var e=34;void 0!==n._viewZoneId?(e=n._state.isReplaceRevealed?(n._viewZone.heightInPx=64,30):(n._viewZone.heightInPx=34,-30),t.removeZone(n._viewZoneId)):n._viewZone.heightInPx=34,n._viewZoneId=t.addZone(n._viewZone),i&&n._codeEditor.setScrollTop(n._codeEditor.getScrollTop()+e)})},Ee.prototype._applyTheme=function(t){var e={inputActiveOptionBorder:t.getColor(m.J),inputBackground:t.getColor(m.K),inputForeground:t.getColor(m.M),inputBorder:t.getColor(m.L),inputValidationInfoBackground:t.getColor(m.Q),inputValidationInfoForeground:t.getColor(m.S),inputValidationInfoBorder:t.getColor(m.R),inputValidationWarningBackground:t.getColor(m.T),inputValidationWarningForeground:t.getColor(m.V),inputValidationWarningBorder:t.getColor(m.U),inputValidationErrorBackground:t.getColor(m.N),inputValidationErrorForeground:t.getColor(m.P),inputValidationErrorBorder:t.getColor(m.O)};this._findInput.style(e),this._replaceInputBox.style(e)},Ee.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible){var t=this._codeEditor.getConfiguration().layoutInfo.width,e=this._codeEditor.getConfiguration().layoutInfo.minimapWidth,i=!1,n=!1,o=!1;if(this._resized&&411<ot.z(this._domNode))return this._domNode.style.maxWidth=t-28-e-15+"px",void(this._replaceInputBox.inputElement.style.width=ot.z(this._findInput.inputBox.inputElement)+"px");if(t<=439+e&&(n=!0),t<=439+e-Se&&(o=!0),t+50<=439+e-Se&&(i=!0),ot.P(this._domNode,"collapsed-find-widget",i),ot.P(this._domNode,"narrow-find-widget",o),ot.P(this._domNode,"reduced-find-widget",n),o||i||(this._domNode.style.maxWidth=t-28-e-15+"px"),this._resized){var r=ot.z(this._findInput.inputBox.inputElement);0<r&&(this._replaceInputBox.inputElement.style.width=r+"px")}}},Ee.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},Ee.prototype.focusReplaceInput=function(){this._replaceInputBox.select(),this._replaceInputBox.focus()},Ee.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},Ee.prototype._updateSearchScope=function(){if(this._toggleSelectionFind.checked){var t=this._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));var e=this._state.currentMatch;t.startLineNumber!==t.endLineNumber&&(g.a.equalsRange(t,e)||this._state.change({searchScope:t},!0))}},Ee.prototype._onFindInputMouseDown=function(t){t.middleButton&&t.stopPropagation()},Ee.prototype._onFindInputKeyDown=function(t){return t.equals(3)?(this._codeEditor.getAction(H).run().then(null,jt.e),void t.preventDefault()):t.equals(1027)?(this._codeEditor.getAction(W).run().then(null,jt.e),void t.preventDefault()):t.equals(2)?(this._isReplaceVisible?this._replaceInputBox.focus():this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):void 0},Ee.prototype._onReplaceInputKeyDown=function(t){return t.equals(3)?(this._controller.replace(),void t.preventDefault()):t.equals(2051)?(this._controller.replaceAll(),void t.preventDefault()):t.equals(2)?(this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(1026)?(this._findInput.focus(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):void 0},Ee.prototype.getHorizontalSashTop=function(t){return 0},Ee.prototype.getHorizontalSashLeft=function(t){return 0},Ee.prototype.getHorizontalSashWidth=function(t){return 500},Ee.prototype._keybindingLabelFor=function(t){var e=this._keybindingService.lookupKeybinding(t);return e?" ("+e.getLabel()+")":""},Ee.prototype._buildFindPart=function(){var e=this;this._findInput=this._register(new oe(null,this._contextViewProvider,{width:221,label:ue,placeholder:he,appendCaseSensitiveLabel:this._keybindingLabelFor(K),appendWholeWordsLabel:this._keybindingLabelFor(G),appendRegexLabel:this._keybindingLabelFor(Y),validation:function(t){if(0===t.length)return null;if(!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(t){return{content:t.message}}}},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(t){return e._onFindInputKeyDown(t)})),this._register(this._findInput.inputBox.onDidChange(function(){e._ignoreChangeEvent||e._state.change({searchString:e._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInputBox.focus(),t.preventDefault())})),Bt.c&&this._register(this._findInput.onMouseDown(function(t){return e._onFindInputMouseDown(t)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Te({label:ce+this._keybindingLabelFor(W),className:"previous",onTrigger:function(){e._codeEditor.getAction(W).run().then(null,jt.e)}})),this._nextBtn=this._register(new Te({label:de+this._keybindingLabelFor(H),className:"next",onTrigger:function(){e._codeEditor.getAction(H).run().then(null,jt.e)}}));var t=document.createElement("div");return t.className="find-part",t.appendChild(this._findInput.domNode),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new De({parent:t,title:pe+this._keybindingLabelFor($),onChange:function(){if(e._toggleSelectionFind.checked){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||e._state.change({searchScope:t},!0)}else e._state.change({searchScope:null},!0)}})),this._closeBtn=this._register(new Te({label:fe+this._keybindingLabelFor(q),className:"close-fw",onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),t.appendChild(this._closeBtn.domNode),t},Ee.prototype._buildReplacePart=function(){var e=this,t=document.createElement("div");t.className="replace-input",t.style.width="221px",this._replaceInputBox=this._register(new ee(t,null,{ariaLabel:ge,placeholder:me,history:[]},this._contextKeyService)),this._register(ot.k(this._replaceInputBox.inputElement,"keydown",function(t){return e._onReplaceInputKeyDown(t)})),this._register(this._replaceInputBox.onDidChange(function(){e._state.change({replaceString:e._replaceInputBox.value},!1)})),this._replaceBtn=this._register(new Te({label:ve+this._keybindingLabelFor(Z),className:"replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new Te({label:ye+this._keybindingLabelFor(X),className:"replace-all",onTrigger:function(){e._controller.replaceAll()}}));var i=document.createElement("div");return i.className="replace-part",i.appendChild(t),i.appendChild(this._replaceBtn.domNode),i.appendChild(this._replaceAllBtn.domNode),i},Ee.prototype._buildDomNode=function(){var t=this,e=this._buildFindPart(),i=this._buildReplacePart();this._toggleReplaceBtn=this._register(new Te({label:_e,className:"toggle left",onTrigger:function(){t._state.change({isReplaceRevealed:!t._isReplaceVisible},!1),t._isReplaceVisible&&(t._replaceInputBox.width=t._findInput.inputBox.width),t._showViewZone()}})),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="411px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(i),this._buildSash()},Ee.prototype._buildSash=function(){var n=this;this._resizeSash=new Ft.a(this._domNode,this,{orientation:0}),this._resized=!1;var o=411;this._register(this._resizeSash.onDidStart(function(){o=ot.z(n._domNode)})),this._register(this._resizeSash.onDidChange(function(t){n._resized=!0;var e=o+t.startX-t.currentX;if(!(e<411)){var i=e-xe;(parseFloat(ot.s(n._domNode).maxWidth)||0)<e||(n._domNode.style.width=e+"px",n._isReplaceVisible&&(n._replaceInputBox.width=i))}}))},Ee.prototype.updateAccessibilitySupport=function(){var t=this._codeEditor.getConfiguration().accessibilitySupport;this._findInput.setFocusInputOnOptionClick(2!==t)},Ee.ID="editor.contrib.findWidget",Ee);function Ee(t,e,i,n,o,r,s){var a=ae.call(this)||this;return a._codeEditor=t,a._controller=e,a._state=i,a._contextViewProvider=n,a._keybindingService=o,a._contextKeyService=r,a._isVisible=!1,a._isReplaceVisible=!1,a._ignoreChangeEvent=!1,a._updateHistoryDelayer=new l.a(500),a._register(Object(u.f)(function(){return a._updateHistoryDelayer.cancel()})),a._register(a._state.onFindReplaceStateChange(function(t){return a._onStateChanged(t)})),a._buildDomNode(),a._updateButtons(),a._tryUpdateWidgetWidth(),a._register(a._codeEditor.onDidChangeConfiguration(function(t){t.readOnly&&(a._codeEditor.getConfiguration().readOnly&&a._state.change({isReplaceRevealed:!1},!1),a._updateButtons()),t.layoutInfo&&a._tryUpdateWidgetWidth(),t.accessibilitySupport&&a.updateAccessibilitySupport()})),a.updateAccessibilitySupport(),a._register(a._codeEditor.onDidChangeCursorSelection(function(){a._isVisible&&a._updateToggleSelectionFindButton()})),a._register(a._codeEditor.onDidFocusEditorWidget(function(){if(a._isVisible){var t=a._controller.getGlobalBufferTerm();t&&t!==a._state.searchString&&(a._state.change({searchString:t},!0),a._findInput.select())}})),a._findInputFocused=T.bindTo(r),a._findFocusTracker=a._register(ot.Q(a._findInput.inputBox.inputElement)),a._register(a._findFocusTracker.onDidFocus(function(){a._findInputFocused.set(!0),a._updateSearchScope()})),a._register(a._findFocusTracker.onDidBlur(function(){a._findInputFocused.set(!1)})),a._replaceInputFocused=M.bindTo(r),a._replaceFocusTracker=a._register(ot.Q(a._replaceInputBox.inputElement)),a._register(a._replaceFocusTracker.onDidFocus(function(){a._replaceInputFocused.set(!0),a._updateSearchScope()})),a._register(a._replaceFocusTracker.onDidBlur(function(){a._replaceInputFocused.set(!1)})),a._codeEditor.addOverlayWidget(a),a._viewZone=new ke(0),a._applyTheme(s.getTheme()),a._register(s.onThemeChange(a._applyTheme.bind(a))),a._register(a._codeEditor.onDidChangeModel(function(){a._isVisible&&void 0!==a._viewZoneId&&a._codeEditor.changeViewZones(function(t){t.removeZone(a._viewZoneId),a._viewZoneId=void 0})})),a._register(a._codeEditor.onDidScrollChange(function(t){t.scrollTopChanged?a._layoutViewZone():setTimeout(function(){a._layoutViewZone()},0)})),a}var Le,De=(Le=rt.a,le(Ie,Le),Object.defineProperty(Ie.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(t){this._checkbox.checked=t},enumerable:!0,configurable:!0}),Ie.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},Ie.prototype.disable=function(){this._checkbox.disabled=!0},Ie.prototype.setEnabled=function(t){t?(this.enable(),this.domNode.tabIndex=0):(this.disable(),this.domNode.tabIndex=-1)},Ie._COUNTER=0,Ie);function Ie(t){var e=Le.call(this)||this;return e._opts=t,e._domNode=document.createElement("div"),e._domNode.className="monaco-checkbox",e._domNode.title=e._opts.title,e._domNode.tabIndex=0,e._checkbox=document.createElement("input"),e._checkbox.type="checkbox",e._checkbox.className="checkbox",e._checkbox.id="checkbox-"+Ie._COUNTER++,e._checkbox.tabIndex=-1,e._label=document.createElement("label"),e._label.className="label",e._label.htmlFor=e._checkbox.id,e._label.tabIndex=-1,e._domNode.appendChild(e._checkbox),e._domNode.appendChild(e._label),e._opts.parent.appendChild(e._domNode),e.onchange(e._checkbox,function(){e._opts.onChange()}),e}var Ne,Te=(Ne=rt.a,le(Me,Ne),Object.defineProperty(Me.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Me.prototype.isEnabled=function(){return 0<=this._domNode.tabIndex},Me.prototype.focus=function(){this._domNode.focus()},Me.prototype.setEnabled=function(t){ot.P(this._domNode,"disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1},Me.prototype.setExpanded=function(t){this._domNode.setAttribute("aria-expanded",String(!!t))},Me.prototype.toggleClass=function(t,e){ot.P(this._domNode,t,e)},Me);function Me(t){var e=Ne.call(this)||this;return e._opts=t,e._domNode=document.createElement("div"),e._domNode.title=e._opts.label,e._domNode.tabIndex=0,e._domNode.className="button "+e._opts.className,e._domNode.setAttribute("role","button"),e._domNode.setAttribute("aria-label",e._opts.label),e.onclick(e._domNode,function(t){e._opts.onTrigger(),t.preventDefault()}),e.onkeydown(e._domNode,function(t){if(t.equals(10)||t.equals(3))return e._opts.onTrigger(),void t.preventDefault();e._opts.onKeyDown&&e._opts.onKeyDown(t)}),e}Object(v.e)(function(t,i){function e(t,e){e&&i.addRule(".monaco-editor "+t+" { background-color: "+e+"; }")}e(".findMatch",t.getColor(m.q)),e(".currentFindMatch",t.getColor(m.o)),e(".findScope",t.getColor(m.s)),e(".find-widget",t.getColor(m.D));var n=t.getColor(m.Fb);n&&i.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+n+"; }");var o=t.getColor(m.r);o&&i.addRule(".monaco-editor .findMatch { border: 1px "+("hc"===t.type?"dotted":"solid")+" "+o+"; box-sizing: border-box; }");var r=t.getColor(m.p);r&&i.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+r+"; padding: 1px; box-sizing: border-box; }");var s=t.getColor(m.t);s&&i.addRule(".monaco-editor .findScope { border: 1px "+("hc"===t.type?"dashed":"solid")+" "+s+"; }");var a=t.getColor(m.e);a&&i.addRule(".monaco-editor .find-widget { border: 2px solid "+a+"; }");var l=t.getColor(m.G);l&&i.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+l+"; }");var u=t.getColor(m.F);if(u)i.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+u+"; width: 3px !important; margin-left: -4px;}");else{var h=t.getColor(m.E);h&&i.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+h+"; width: 3px !important; margin-left: -4px;}")}var c=t.getColor(m.J);c&&i.addRule(".monaco-editor .find-widget .monaco-checkbox .checkbox:checked + .label { border: 1px solid "+c.toString()+"; }")});var Ae=i(31),Pe=i(170),Re=i(74),Fe=i(18),je=i(64),Be=i(92);i.d(e,"getSelectionSearchString",function(){return qe}),i.d(e,"CommonFindController",function(){return Ge}),i.d(e,"FindController",function(){return Ze}),i.d(e,"StartFindAction",function(){return Qe}),i.d(e,"StartFindWithSelectionAction",function(){return ii}),i.d(e,"MatchFindAction",function(){return ri}),i.d(e,"NextMatchFindAction",function(){return li}),i.d(e,"PreviousMatchFindAction",function(){return ci}),i.d(e,"SelectionMatchFindAction",function(){return fi}),i.d(e,"NextSelectionMatchFindAction",function(){return vi}),i.d(e,"PreviousSelectionMatchFindAction",function(){return bi}),i.d(e,"StartFindReplaceAction",function(){return Si});var He,We=(He=function(t,e){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}He(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Ve=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},ze=function(i,n){return function(t,e){n(t,e,i)}},Ue=524288;function qe(t){var e=t.getSelection();if(e.startLineNumber===e.endLineNumber)if(e.isEmpty()){var i=t.getModel().getWordAtPosition(e.getStartPosition());if(i)return i.word}else if(t.getModel().getValueLengthInRange(e)<Ue)return t.getModel().getValueInRange(e);return null}var Ke,Ge=(Ke=u.a,We(Ye,Ke),Ye.get=function(t){return t.getContribution(Ye.ID)},Ye.prototype.dispose=function(){this.disposeModel(),Ke.prototype.dispose.call(this)},Ye.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},Ye.prototype.getId=function(){return Ye.ID},Ye.prototype._onStateChanged=function(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)},Ye.prototype.saveQueryState=function(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1)},Ye.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex)},!1)},Ye.prototype.isFindInputFocused=function(){return T.getValue(this._contextKeyService)},Ye.prototype.getState=function(){return this._state},Ye.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},Ye.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},Ye.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},Ye.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},Ye.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else{var t=this._editor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||this._state.change({searchScope:t},!0)}},Ye.prototype.setSearchString=function(t){this._state.isRegex&&(t=o.n(t)),this._state.change({searchString:t},!1)},Ye.prototype.highlightFindOptions=function(){},Ye.prototype._start=function(t){if(this.disposeModel(),this._editor.getModel()){var e,i={isRevealed:!0};if(t.seedSearchStringFromSelection&&(e=qe(this._editor))&&(this._state.isRegex?i.searchString=o.n(e):i.searchString=e),!i.searchString&&t.seedSearchStringFromGlobalClipboard&&(e=this.getGlobalBufferTerm())&&(i.searchString=e),t.forceRevealReplace?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),t.updateSearchScope){var n=this._editor.getSelection();n.isEmpty()||(i.searchScope=n)}this._state.change(i,!1),this._model||(this._model=new tt(this._editor,this._state))}},Ye.prototype.start=function(t){this._start(t)},Ye.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},Ye.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},Ye.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},Ye.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},Ye.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},Ye.prototype.getGlobalBufferTerm=function(){return this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},Ye.prototype.setGlobalBufferTerm=function(t){this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)},Ye.ID="editor.contrib.findController",Ye=Ve([ze(1,I.e),ze(2,Be.a),ze(3,Pe.a)],Ye));function Ye(t,e,i,n){var o=Ke.call(this)||this;return o._editor=t,o._findWidgetVisible=N.bindTo(e),o._contextKeyService=e,o._storageService=i,o._clipboardService=n,o._updateHistoryDelayer=new l.a(500),o._state=o._register(new Mt),o.loadQueryState(),o._register(o._state.onFindReplaceStateChange(function(t){return o._onStateChanged(t)})),o._model=null,o._register(o._editor.onDidChangeModel(function(){var t=o._editor.getModel()&&o._state.isRevealed;o.disposeModel(),o._state.change({searchScope:null,matchCase:o._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:o._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:o._storageService.getBoolean("editor.isRegex",1,!1)},!1),t&&o._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})})),o}var $e,Ze=(We(Xe,$e=Ge),Xe.prototype._start=function(t){this._widget||this._createFindWidget(),!this._widget.getPosition()&&this._editor.getConfiguration().contribInfo.find.autoFindInSelection&&(t.updateSearchScope=!0),$e.prototype._start.call(this,t),2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput()},Xe.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},Xe.prototype._createFindWidget=function(){this._widget=this._register(new Oe(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService)),this._findOptionsWidget=this._register(new It(this._editor,this._state,this._keybindingService,this._themeService))},Xe=Ve([ze(1,Re.b),ze(2,I.e),ze(3,je.a),ze(4,v.c),ze(5,Be.a),ze(6,Object(Fe.d)(Pe.a))],Xe));function Xe(t,e,i,n,o,r,s){var a=$e.call(this,t,i,r,s)||this;return a._contextViewService=e,a._keybindingService=n,a._themeService=o,a}var Je,Qe=(Je=r.b,We(ti,Je),ti.prototype.run=function(t,e){var i=Ge.get(e);i&&i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:e.getConfiguration().contribInfo.find.globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},ti);function ti(){return Je.call(this,{id:j,label:n.a("startFindAction","Find"),alias:"Find",precondition:null,kbOpts:{kbExpr:null,primary:2084,weight:100},menubarOpts:{menuId:Ae.b.MenubarEditMenu,group:"3_find",title:n.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}var ei,ii=(ei=r.b,We(ni,ei),ni.prototype.run=function(t,e){var i=Ge.get(e);i&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1}),i.setGlobalBufferTerm(i.getState().searchString))},ni);function ni(){return ei.call(this,{id:B,label:n.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:null,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}var oi,ri=(oi=r.b,We(si,oi),si.prototype.run=function(t,e){var i=Ge.get(e);i&&!this._run(i)&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===i.getState().searchString.length&&e.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))},si);function si(){return null!==oi&&oi.apply(this,arguments)||this}var ai,li=(We(ui,ai=ri),ui.prototype._run=function(t){return t.moveToNextMatch()},ui);function ui(){return ai.call(this,{id:H,label:n.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:null,kbOpts:{kbExpr:s.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}var hi,ci=(We(di,hi=ri),di.prototype._run=function(t){return t.moveToPrevMatch()},di);function di(){return hi.call(this,{id:W,label:n.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:null,kbOpts:{kbExpr:s.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}var pi,fi=(pi=r.b,We(gi,pi),gi.prototype.run=function(t,e){var i=Ge.get(e);if(i){var n=qe(e);n&&i.setSearchString(n),this._run(i)||(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))}},gi);function gi(){return null!==pi&&pi.apply(this,arguments)||this}var mi,vi=(We(yi,mi=fi),yi.prototype._run=function(t){return t.moveToNextMatch()},yi);function yi(){return mi.call(this,{id:V,label:n.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:null,kbOpts:{kbExpr:s.a.focus,primary:2109,weight:100}})||this}var _i,bi=(We(wi,_i=fi),wi.prototype._run=function(t){return t.moveToPrevMatch()},wi);function wi(){return _i.call(this,{id:z,label:n.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:null,kbOpts:{kbExpr:s.a.focus,primary:3133,weight:100}})||this}var Ci,Si=(Ci=r.b,We(xi,Ci),xi.prototype.run=function(t,e){if(!e.getConfiguration().readOnly){var i=Ge.get(e),n=e.getSelection(),o=i.isFindInputFocused(),r=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&e.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&!o,s=o||r?2:1;i&&i.start({forceRevealReplace:!0,seedSearchStringFromSelection:r,seedSearchStringFromGlobalClipboard:e.getConfiguration().contribInfo.find.seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1})}},xi);function xi(){return Ci.call(this,{id:U,label:n.a("startReplace","Replace"),alias:"Replace",precondition:null,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menubarOpts:{menuId:Ae.b.MenubarEditMenu,group:"3_find",title:n.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}Object(r.h)(Ze),Object(r.f)(Qe),Object(r.f)(ii),Object(r.f)(li),Object(r.f)(ci),Object(r.f)(vi),Object(r.f)(bi),Object(r.f)(Si);var ki=r.c.bindToContribution(Ge.get);Object(r.g)(new ki({id:q,precondition:N,handler:function(t){return t.closeFindWidget()},kbOpts:{weight:105,kbExpr:s.a.focus,primary:9,secondary:[1033]}})),Object(r.g)(new ki({id:K,precondition:null,handler:function(t){return t.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:s.a.focus,primary:A.primary,mac:A.mac,win:A.win,linux:A.linux}})),Object(r.g)(new ki({id:G,precondition:null,handler:function(t){return t.toggleWholeWords()},kbOpts:{weight:105,kbExpr:s.a.focus,primary:P.primary,mac:P.mac,win:P.win,linux:P.linux}})),Object(r.g)(new ki({id:Y,precondition:null,handler:function(t){return t.toggleRegex()},kbOpts:{weight:105,kbExpr:s.a.focus,primary:R.primary,mac:R.mac,win:R.win,linux:R.linux}})),Object(r.g)(new ki({id:$,precondition:null,handler:function(t){return t.toggleSearchScope()},kbOpts:{weight:105,kbExpr:s.a.focus,primary:F.primary,mac:F.mac,win:F.win,linux:F.linux}})),Object(r.g)(new ki({id:Z,precondition:N,handler:function(t){return t.replace()},kbOpts:{weight:105,kbExpr:s.a.focus,primary:3094}})),Object(r.g)(new ki({id:X,precondition:N,handler:function(t){return t.replaceAll()},kbOpts:{weight:105,kbExpr:s.a.focus,primary:2563}})),Object(r.g)(new ki({id:J,precondition:N,handler:function(t){return t.selectAllMatches()},kbOpts:{weight:105,kbExpr:s.a.focus,primary:515}}))},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(36);function o(t){return!(!t||"function"!=typeof t.getEditorType)&&t.getEditorType()===n.a.ICodeEditor}},function(t,e,i){"use strict";var m,l=i(1),u=i(148),h=i(8),o=i(69);(function(t){var y={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:p,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:p,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:p,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function l(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||g.defaults,this.rules=y.normal,this.options.pedantic?this.rules=y.pedantic:this.options.gfm&&(this.options.tables?this.rules=y.tables:this.rules=y.gfm)}y._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,y.def=e(y.def).replace("label",y._label).replace("title",y._title).getRegex(),y.bullet=/(?:[*+-]|\d+\.)/,y.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,y.item=e(y.item,"gm").replace(/bull/g,y.bullet).getRegex(),y.list=e(y.list).replace(/bull/g,y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+y.def.source+")").getRegex(),y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",y._comment=/<!--(?!-?>)[\s\S]*?-->/,y.html=e(y.html,"i").replace("comment",y._comment).replace("tag",y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y.paragraph=e(y.paragraph).replace("hr",y.hr).replace("heading",y.heading).replace("lheading",y.lheading).replace("tag",y._tag).getRegex(),y.blockquote=e(y.blockquote).replace("paragraph",y.paragraph).getRegex(),y.normal=f({},y),y.gfm=f({},y.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),y.gfm.paragraph=e(y.paragraph).replace("(?!","(?!"+y.gfm.fences.source.replace("\\1","\\2")+"|"+y.list.source.replace("\\1","\\3")+"|").getRegex(),y.tables=f({},y.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),y.pedantic=f({},y.normal,{html:e("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),l.rules=y,l.lex=function(t,e){return new l(e).lex(t)},l.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},l.prototype.token=function(t,e){var i,n,o,r,s,a,l,u,h,c,d,p,f,g,m,v;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),1<o[0].length&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:b(o,"\n")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))&&(a={type:"table",header:_(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===a.align.length){for(t=t.substring(o[0].length),d=0;d<a.align.length;d++)/^ *-+: *$/.test(a.align[d])?a.align[d]="right":/^ *:-+: *$/.test(a.align[d])?a.align[d]="center":/^ *:-+ *$/.test(a.align[d])?a.align[d]="left":a.align[d]=null;for(d=0;d<a.cells.length;d++)a.cells[d]=_(a.cells[d],a.header.length);this.tokens.push(a)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),l={type:"list_start",ordered:g=1<(r=o[2]).length,start:g?+r:"",loose:!1},this.tokens.push(l),i=!(u=[]),f=(o=o[0].match(this.rules.item)).length,d=0;d<f;d++)c=(a=o[d]).length,~(a=a.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&d!==f-1&&(r===(s=y.bullet.exec(o[d+1])[0])||1<r.length&&1<s.length||(t=o.slice(d+1).join("\n")+t,d=f-1)),n=i||/\n\n(?!\s*$)/.test(a),d!==f-1&&(i="\n"===a.charAt(a.length-1),n=n||i),n&&(l.loose=!0),v=void 0,(m=/^\[[ xX]\] /.test(a))&&(v=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:m,checked:v,loose:n},u.push(h),this.tokens.push(h),this.token(a,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(f=u.length,d=0;d<f;d++)u[d].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),p=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[p]||(this.tokens.links[p]={href:o[2],title:o[3]});else if(e&&(o=this.rules.table.exec(t))&&(a={type:"table",header:_(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===a.align.length){for(t=t.substring(o[0].length),d=0;d<a.align.length;d++)/^ *-+: *$/.test(a.align[d])?a.align[d]="right":/^ *:-+: *$/.test(a.align[d])?a.align[d]="center":/^ *:-+ *$/.test(a.align[d])?a.align[d]="left":a.align[d]=null;for(d=0;d<a.cells.length;d++)a.cells[d]=_(a.cells[d].replace(/^ *\| *| *\| *$/g,""),a.header.length);this.tokens.push(a)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:p,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:p,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function u(t,e){if(this.options=e||g.defaults,this.links=t,this.rules=i.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function n(t){this.options=t||g.defaults}function o(){}function h(t){this.tokens=[],this.token=null,this.options=t||g.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function c(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function d(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function e(i,t){return i=i.source||i,t=t||"",{replace:function(t,e){return e=(e=e.source||e).replace(/(^|[^\[])\^/g,"$1"),i=i.replace(t,e),this},getRegex:function(){return new RegExp(i,t)}}}function r(t,e){return s[" "+t]||(/^[^:]+:\/*[^/]*$/.test(t)?s[" "+t]=t+"/":s[" "+t]=b(t,"/",!0)),t=s[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+e:t+e}i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=e(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=e(i.tag).replace("comment",y._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,i._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=e(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=e(i.reflink).replace("label",i._label).getRegex(),i.normal=f({},i),i.pedantic=f({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:e(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=f({},i.normal,{escape:e(i.escape).replace("])","~|])").getRegex(),url:e(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",i._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:e(i.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),i.breaks=f({},i.gfm,{br:e(i.br).replace("{2,}","*").getRegex(),text:e(i.gfm.text).replace("{2,}","*").getRegex()}),u.rules=i,u.output=function(t,e,i){return new u(e,i).output(t)},u.prototype.output=function(t){for(var e,i,n,o,r,s,a="";t;)if(r=this.rules.escape.exec(t))t=t.substring(r[0].length),a+=r[1];else if(r=this.rules.autolink.exec(t))t=t.substring(r[0].length),n="@"===r[2]?"mailto:"+(i=c(this.mangle(r[1]))):i=c(r[1]),a+=this.renderer.link(n,null,i);else if(this.inLink||!(r=this.rules.url.exec(t))){if(r=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),t=t.substring(r[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):c(r[0]):r[0];else if(r=this.rules.link.exec(t))t=t.substring(r[0].length),this.inLink=!0,n=r[2],o=this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n))?(n=e[1],e[3]):"":r[3]?r[3].slice(1,-1):"",n=n.trim().replace(/^<([\s\S]*)>$/,"$1"),a+=this.outputLink(r,{href:u.escapes(n),title:u.escapes(o)}),this.inLink=!1;else if((r=this.rules.reflink.exec(t))||(r=this.rules.nolink.exec(t))){if(t=t.substring(r[0].length),e=(r[2]||r[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){a+=r[0].charAt(0),t=r[0].substring(1)+t;continue}this.inLink=!0,a+=this.outputLink(r,e),this.inLink=!1}else if(r=this.rules.strong.exec(t))t=t.substring(r[0].length),a+=this.renderer.strong(this.output(r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.em.exec(t))t=t.substring(r[0].length),a+=this.renderer.em(this.output(r[6]||r[5]||r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.code.exec(t))t=t.substring(r[0].length),a+=this.renderer.codespan(c(r[2].trim(),!0));else if(r=this.rules.br.exec(t))t=t.substring(r[0].length),a+=this.renderer.br();else if(r=this.rules.del.exec(t))t=t.substring(r[0].length),a+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),a+=this.renderer.text(c(this.smartypants(r[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{for(;s=r[0],r[0]=this.rules._backpedal.exec(r[0])[0],s!==r[0];);t=t.substring(r[0].length),n="@"===r[2]?"mailto:"+(i=c(r[0])):(i=c(r[0]),"www."===r[1]?"http://"+i:i),a+=this.renderer.link(n,null,i)}return a},u.escapes=function(t){return t?t.replace(u.rules._escapes,"$1"):t},u.prototype.outputLink=function(t,e){var i=e.href,n=e.title?c(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(i,n,this.output(t[1])):this.renderer.image(i,n,c(t[1]))},u.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},u.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,i="",n=t.length,o=0;o<n;o++)e=t.charCodeAt(o),.5<Math.random()&&(e="x"+e.toString(16)),i+="&#"+e+";";return i},n.prototype.code=function(t,e,i){if(this.options.highlight){var n=this.options.highlight(t,e);null!=n&&n!==t&&(i=!0,t=n)}return e?'<pre><code class="'+this.options.langPrefix+c(e,!0)+'">'+(i?t:c(t,!0))+"</code></pre>\n":"<pre><code>"+(i?t:c(t,!0))+"</code></pre>"},n.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},n.prototype.html=function(t){return t},n.prototype.heading=function(t,e,i){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(t,e,i){var n=e?"ol":"ul";return"<"+n+(e&&1!==i?' start="'+i+'"':"")+">\n"+t+"</"+n+">\n"},n.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},n.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},n.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n"+(e=e&&"<tbody>"+e+"</tbody>")+"</table>\n"},n.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},n.prototype.tablecell=function(t,e){var i=e.header?"th":"td";return(e.align?"<"+i+' align="'+e.align+'">':"<"+i+">")+t+"</"+i+">\n"},n.prototype.strong=function(t){return"<strong>"+t+"</strong>"},n.prototype.em=function(t){return"<em>"+t+"</em>"},n.prototype.codespan=function(t){return"<code>"+t+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(t){return"<del>"+t+"</del>"},n.prototype.link=function(t,e,i){if(this.options.sanitize){try{var n=decodeURIComponent(d(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return i}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return i}this.options.baseUrl&&!a.test(t)&&(t=r(this.options.baseUrl,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(t){return i}var o='<a href="'+c(t)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+i+"</a>"},n.prototype.image=function(t,e,i){this.options.baseUrl&&!a.test(t)&&(t=r(this.options.baseUrl,t));var n='<img src="'+t+'" alt="'+i+'"';return e&&(n+=' title="'+e+'"'),n+=this.options.xhtml?"/>":">"},n.prototype.text=function(t){return t},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(t){return t},o.prototype.link=o.prototype.image=function(t,e,i){return""+i},o.prototype.br=function(){return""},h.parse=function(t,e){return new h(e).parse(t)},h.prototype.parse=function(t){this.inline=new u(t.links,this.options),this.inlineText=new u(t.links,f({},this.options,{renderer:new o})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},h.prototype.next=function(){return this.token=this.tokens.pop()},h.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},h.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},h.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,i,n,o="",r="";for(i="",t=0;t<this.token.header.length;t++)i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],i="",n=0;n<e.length;n++)i+=this.renderer.tablecell(this.inline.output(e[n]),{header:!1,align:this.token.align[n]});r+=this.renderer.tablerow(i)}return this.renderer.table(o,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,s,a);case"list_item_start":r="";var l=this.token.loose;for(this.token.task&&(r+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)r+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(r);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var s={},a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function p(){}function f(t){for(var e,i,n=1;n<arguments.length;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function _(t,e){var i=t.replace(/\|/g,function(t,e,i){for(var n=!1,o=e;0<=--o&&"\\"===i[o];)n=!n;return n?"|":" |"}).split(/ \|/),n=0;if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function b(t,e,i){if(0===t.length)return"";for(var n=0;n<t.length;){var o=t.charAt(t.length-n-1);if(o!==e||i){if(o===e||!i)break;n++}else n++}return t.substr(0,t.length-n)}function g(t,i,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof i){n||(n=i,i=null);var o,r,s=(i=f({},g.defaults,i||{})).highlight,e=0;try{o=l.lex(t,i)}catch(t){return n(t)}r=o.length;var a=function(e){if(e)return i.highlight=s,n(e);var t;try{t=h.parse(o,i)}catch(t){e=t}return i.highlight=s,e?n(e):n(null,t)};if(!s||s.length<3)return a();if(delete i.highlight,!r)return a();for(;e<o.length;e++)!function(i){"code"!==i.type?--r||a():s(i.text,i.lang,function(t,e){return t?a(t):null==e||e===i.text?--r||a():(i.text=e,i.escaped=!0,void(--r||a()))})}(o[e])}else try{return i=i&&f({},g.defaults,i),h.parse(l.lex(t,i),i)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(i||g.defaults).silent)return"<p>An error occurred:</p><pre>"+c(t.message+"",!0)+"</pre>";throw t}}p.exec=p,g.options=g.setOptions=function(t){return f(g.defaults,t),g},g.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new n,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},g.defaults=g.getDefaults(),g.Parser=h,g.parser=h.parse,g.Renderer=n,g.TextRenderer=o,g.Lexer=l,g.lexer=l.lex,g.InlineLexer=u,g.inlineLexer=u.output,m=g.parse=g}).call(void 0);m.Parser,m.parser;var c=m.Renderer,d=(m.TextRenderer,m.Lexer,m.lexer,m.InlineLexer,m.inlineLexer,m.parse),p=i(13);function f(t){var e=t.inline?"span":"div",i=document.createElement(e);return t.className&&(i.className=t.className),i}function n(t,e){void 0===e&&(e={});var i=f(e);return i.textContent=t,i}function r(t,e){void 0===e&&(e={});var i=f(e);return function e(t,i,n){var o;if(2===i.type)o=document.createTextNode(i.content||"");else if(3===i.type)o=document.createElement("b");else if(4===i.type)o=document.createElement("i");else if(5===i.type&&n){var r=document.createElement("a");r.href="#",n.disposeables.push(l.k(r,"click",function(t){n.callback(String(i.index),t)})),o=r}else 7===i.type?o=document.createElement("br"):1===i.type&&(o=t);o&&t!==o&&t.appendChild(o);o&&Array.isArray(i.children)&&i.children.forEach(function(t){e(o,t,n)})}(i,function(t){var e={type:1,children:[]},i=0,n=e,o=[],r=new g(t);for(;!r.eos();){var s=r.next(),a="\\"===s&&0!==v(r.peek());if(a&&(s=r.next()),a||0===v(s)||s!==r.peek())if("\n"===s)2===n.type&&(n=o.pop()),n.children.push({type:7});else if(2!==n.type){var l={type:2,content:s};n.children.push(l),o.push(n),n=l}else n.content+=s;else{r.advance(),2===n.type&&(n=o.pop());var u=v(s);if(n.type===u||5===n.type&&6===u)n=o.pop();else{var h={type:u,children:[]};5===u&&(h.index=i,i++),n.children.push(h),o.push(n),n=h}}}2===n.type&&(n=o.pop());o.length;return e}(t),e.actionHandler),i}function s(n,r){void 0===r&&(r={});var e,s=f(r),a=new Promise(function(t){return e=t}),t=new c;t.image=function(t,e,i){var n=[];if(t){var o=t.split("|").map(function(t){return t.trim()});t=o[0];var r=o[1];if(r){var s=/height=(\d+)/.exec(r),a=/width=(\d+)/.exec(r),l=s?s[1]:"",u=a?a[1]:"",h=isFinite(parseInt(u)),c=isFinite(parseInt(l));h&&n.push('width="'+u+'"'),c&&n.push('height="'+l+'"')}}var d=[];return t&&d.push('src="'+t+'"'),i&&d.push('alt="'+i+'"'),e&&d.push('title="'+e+'"'),n.length&&(d=d.concat(n)),"<img "+d.join(" ")+">"},t.link=function(t,e,i){return t===i&&(i=Object(o.d)(i)),e=Object(o.d)(e),!(t=Object(o.d)(t))||t.match(/^data:|javascript:/i)||t.match(/^command:/i)&&!n.isTrusted||t.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?i:'<a href="#" data-href="'+t+'" title="'+(e||t)+'">'+i+"</a>"},t.paragraph=function(t){return"<p>"+t+"</p>"},r.codeBlockRenderer&&(t.code=function(t,e){var i=r.codeBlockRenderer(e,t),n=u.b.nextId(),o=Promise.all([i,a]).then(function(t){var e=t[0],i=s.querySelector('div[data-code="'+n+'"]');i&&(i.innerHTML=e)}).catch(function(t){});return r.codeBlockRenderCallback&&o.then(r.codeBlockRenderCallback),'<div class="code" data-code="'+n+'">'+Object(h.m)(t)+"</div>"}),r.actionHandler&&r.actionHandler.disposeables.push(l.k(s,"click",function(t){var e=t.target;if("A"===e.tagName||(e=e.parentElement)&&"A"===e.tagName)try{var i=e.dataset.href;i&&r.actionHandler.callback(i,t)}catch(t){Object(p.e)(t)}finally{t.preventDefault()}}));var i={sanitize:!0,renderer:t};return s.innerHTML=d(n.value,i),e(),s}i.d(e,"c",function(){return n}),i.d(e,"a",function(){return r}),i.d(e,"b",function(){return s});var g=(a.prototype.eos=function(){return this.index>=this.source.length},a.prototype.next=function(){var t=this.peek();return this.advance(),t},a.prototype.peek=function(){return this.source[this.index]},a.prototype.advance=function(){this.index++},a);function a(t){this.source=t,this.index=0}function v(t){switch(t){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var v=(n.compare=function(t,e){return t.colorId===e.colorId?t.from===e.from?t.to-e.to:t.from-e.from:t.colorId-e.colorId},n);function n(t,e,i){this.from=0|t,this.to=0|e,this.colorId=0|i}var o=(r.compare=function(t,e){return t.color===e.color?t.startLineNumber===e.startLineNumber?t.endLineNumber-e.endLineNumber:t.startLineNumber-e.startLineNumber:t.color<e.color?-1:1},r.prototype.setColorZone=function(t){this._colorZone=t},r.prototype.getColorZones=function(){return this._colorZone},r);function r(t,e,i){this.startLineNumber=t,this.endLineNumber=e,this.color=i,this._colorZone=null}var s=(a.prototype.getId2Color=function(){return this._id2Color},a.prototype.setZones=function(t){this._zones=t,this._zones.sort(o.compare)},a.prototype.setLineHeight=function(t){return this._lineHeight!==t&&(this._lineHeight=t,this._colorZonesInvalid=!0)},a.prototype.setPixelRatio=function(t){this._pixelRatio=t,this._colorZonesInvalid=!0},a.prototype.getDOMWidth=function(){return this._domWidth},a.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},a.prototype.setDOMWidth=function(t){return this._domWidth!==t&&(this._domWidth=t,this._colorZonesInvalid=!0)},a.prototype.getDOMHeight=function(){return this._domHeight},a.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},a.prototype.setDOMHeight=function(t){return this._domHeight!==t&&(this._domHeight=t,this._colorZonesInvalid=!0)},a.prototype.getOuterHeight=function(){return this._outerHeight},a.prototype.setOuterHeight=function(t){return this._outerHeight!==t&&(this._outerHeight=t,this._colorZonesInvalid=!0)},a.prototype.resolveColorZones=function(){for(var t=this._colorZonesInvalid,e=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=i/Math.floor(this._outerHeight),o=Math.floor(4*this._pixelRatio/2),r=[],s=0,a=this._zones.length;s<a;s++){var l=this._zones[s];if(!t){var u=l.getColorZones();if(u){r.push(u);continue}}var h=Math.floor(n*this._getVerticalOffsetForLine(l.startLineNumber)),c=Math.floor(n*(this._getVerticalOffsetForLine(l.endLineNumber)+e)),d=Math.floor((h+c)/2),p=c-d;p<o&&(p=o),d-p<0&&(d=p),i<d+p&&(d=i-p);var f=l.color,g=this._color2Id[f];g||(g=++this._lastAssignedId,this._color2Id[f]=g,this._id2Color[g]=f);var m=new v(d-p,d+p,g);l.setColorZone(m),r.push(m)}return this._colorZonesInvalid=!1,r.sort(v.compare),r},a);function a(t){this._getVerticalOffsetForLine=t,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}},function(t,e,i){"use strict";var s=i(1),o=i(27),n=i(8);function a(t){return Object(n.m)(t)}i.d(e,"a",function(){return r});var r=(Object.defineProperty(l.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),l.prototype.set=function(t,e,i,n){void 0===e&&(e=[]),void 0===i&&(i=""),t=t||"",n&&(t=l.escapeNewLines(t,e)),this.didEverRender&&this.text===t&&this.title===i&&o.e(this.highlights,e)||(Array.isArray(e)||(e=[]),this.text=t,this.title=i,this.highlights=e,this.render())},l.prototype.render=function(){s.m(this.domNode);for(var t,e=[],i=0,n=0;n<this.highlights.length;n++)if((t=this.highlights[n]).end!==t.start){if(i<t.start){e.push("<span>");var o=this.text.substring(i,t.start);e.push(this.supportOcticons?a(o):o),e.push("</span>"),i=t.end}e.push('<span class="highlight">');var r=this.text.substring(t.start,t.end);e.push(this.supportOcticons?a(r):r),e.push("</span>"),i=t.end}i<this.text.length&&(e.push("<span>"),r=this.text.substring(i),e.push(this.supportOcticons?a(r):r),e.push("</span>")),this.domNode.innerHTML=e.join(""),this.domNode.title=this.title,this.didEverRender=!0},l.prototype.dispose=function(){this.text=null,this.highlights=null},l.escapeNewLines=function(t,r){var s=0,a=0;return t.replace(/\r\n|\r|\n/,function(t,e){a="\r\n"===t?-1:0,e+=s;for(var i=0,n=r;i<n.length;i++){var o=n[i];o.end<=e||(o.start>=e&&(o.start+=a),o.end>=e&&(o.end+=a))}return s+=a,"⏎"})},l);function l(t,e){this.supportOcticons=e,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",this.didEverRender=!1,t.appendChild(this.domNode)}},,function(t,e,i){"use strict";i.r(e),i.d(e,"conf",function(){return n}),i.d(e,"language",function(){return o});var n={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*#pragma\\s+region\\b"),end:new RegExp("^\\s*#pragma\\s+endregion\\b")}}},o={defaultToken:"",tokenPostfix:".cpp",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["abstract","amp","array","auto","bool","break","case","catch","char","class","const","constexpr","const_cast","continue","cpu","decltype","default","delegate","delete","do","double","dynamic_cast","each","else","enum","event","explicit","export","extern","false","final","finally","float","for","friend","gcnew","generic","goto","if","in","initonly","inline","int","interface","interior_ptr","internal","literal","long","mutable","namespace","new","noexcept","nullptr","__nullptr","operator","override","partial","pascal","pin_ptr","private","property","protected","public","ref","register","reinterpret_cast","restrict","return","safe_cast","sealed","short","signed","sizeof","static","static_assert","static_cast","struct","switch","template","this","thread_local","throw","tile_static","true","try","typedef","typeid","typename","union","unsigned","using","virtual","void","volatile","wchar_t","where","while","_asm","_based","_cdecl","_declspec","_fastcall","_if_exists","_if_not_exists","_inline","_multiple_inheritance","_pascal","_single_inheritance","_stdcall","_virtual_inheritance","_w64","__abstract","__alignof","__asm","__assume","__based","__box","__builtin_alignof","__cdecl","__clrcall","__declspec","__delegate","__event","__except","__fastcall","__finally","__forceinline","__gc","__hook","__identifier","__if_exists","__if_not_exists","__inline","__int128","__int16","__int32","__int64","__int8","__interface","__leave","__m128","__m128d","__m128i","__m256","__m256d","__m256i","__m64","__multiple_inheritance","__newslot","__nogc","__noop","__nounwind","__novtordisp","__pascal","__pin","__pragma","__property","__ptr32","__ptr64","__raise","__restrict","__resume","__sealed","__single_inheritance","__stdcall","__super","__thiscall","__try","__try_cast","__typeof","__unaligned","__unhook","__uuidof","__value","__virtual_inheritance","__w64","__wchar_t"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,integersuffix:/(ll|LL|u|U|l|L)?(ll|LL|u|U|l|L)?/,floatsuffix:/[fFlL]?/,encoding:/u|u8|U|L/,tokenizer:{root:[[/@encoding?R\"(?:([^ ()\\\t]*))\(/,{token:"string.raw.begin",next:"@raw.$1"}],[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/\[\[.*\]\]/,"annotation"],[/^\s*#include/,{token:"keyword.directive.include",next:"@include"}],[/^\s*#\s*\w+/,"keyword"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\d+[eE]([\-+]?\d+)?(@floatsuffix)/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?(@floatsuffix)/,"number.float"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F](@integersuffix)/,"number.hex"],[/0[0-7']*[0-7](@integersuffix)/,"number.octal"],[/0[bB][0-1']*[0-1](@integersuffix)/,"number.binary"],[/\d[\d']*\d(@integersuffix)/,"number"],[/\d(@integersuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@doccomment"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],doccomment:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],raw:[[/(.*)(\))(?:([^ ()\\\t]*))(\")/,{cases:{"$3==$S2":["string.raw","string.raw.end","string.raw.end",{token:"string.raw.end",next:"@pop"}],"@default":["string.raw","string.raw","string.raw","string.raw"]}}],[/.*/,"string.raw"]],include:[[/(\s*)(<)([^<>]*)(>)/,["","keyword.directive.include.begin","string.include.identifier",{token:"keyword.directive.include.end",next:"@pop"}]],[/(\s*)(")([^"]*)(")/,["","keyword.directive.include.begin","string.include.identifier",{token:"keyword.directive.include.end",next:"@pop"}]]]}}},function(t,e,i){"use strict";var n=i(58),a=i(43),o=i(237);function r(t,e){o.call(this);var i=t.find(".button-checkbox"),s=this;this.buttons=i,this.state=n.extend({},e),i.each(function(){var t=a(this),i=t.find("button"),n=t.find("input:checkbox"),o=i.data("bind"),r={on:{icon:"far fa-check-square"},off:{icon:"far fa-square"}};function e(t){void 0!==t&&n.prop("checked",t);var e=n.is(":checked");i.data("state",e?"on":"off"),i.find(".state-icon").removeClass().addClass("state-icon "+r[i.data("state")].icon),i.toggleClass("active",e),void 0===t&&s.set(o,e)}i.on("click",function(){n.prop("checked",!n.is(":checked")),n.triggerHandler("change")}),n.on("change",function(){e()}),e(s.state[o]),0===i.find(".state-icon").length&&i.prepend('<i class="state-icon '+r[i.data("state")].icon+'"></i> ')})}n.extend(r.prototype,o.prototype),r.prototype.get=function(){return n.clone(this.state)},r.prototype.set=function(t,e){this._change(function(){this.state[t]=e}.bind(this))},r.prototype.enableToggle=function(i,n){this.buttons.each(function(){var t=a(this),e=a(t.find("button"));e.data("bind")===i&&e.prop("disabled",!n)})},r.prototype._change=function(t){var e=this.get();t(),this.emit("change",e,this.get())},t.exports=r},function(t,e,i){"use strict";i.r(e),i.d(e,"ToggleTabFocusModeAction",function(){return h});var n,o,r=i(0),s=i(50),a=i(3),l=i(128),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=(o=a.b,u(c,o),c.prototype.run=function(t,e){var i=!l.b.getTabFocusMode();l.b.setTabFocusMode(i),i?Object(s.a)(r.a("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Object(s.a)(r.a("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))},c.ID="editor.action.toggleTabFocusMode",c);function c(){return o.call(this,{id:c.ID,label:r.a({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:null,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})||this}Object(a.f)(h)},function(t,e,i){"use strict";i.r(e),i.d(e,"DefinitionActionConfig",function(){return k}),i.d(e,"DefinitionAction",function(){return O}),i.d(e,"GoToDefinitionAction",function(){return I}),i.d(e,"OpenDefinitionToSideAction",function(){return M}),i.d(e,"PeekDefinitionAction",function(){return R}),i.d(e,"ImplementationAction",function(){return B}),i.d(e,"GoToImplementationAction",function(){return V}),i.d(e,"PeekImplementationAction",function(){return q}),i.d(e,"TypeDefinitionAction",function(){return Y}),i.d(e,"GoToTypeDefinitionAction",function(){return X}),i.d(e,"PeekTypeDefinitionAction",function(){return tt});var n,o,s=i(50),a=i(17),r=i(29),l=i(38),u=i(14),h=i(3),g=i(34),m=i(2),c=i(6),v=i(130),d=i(113),p=i(101),y=i(55),f=i(0),_=i(31),b=i(10),w=i(44),C=i(125),S=i(160),x=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),k=function(t,e,i,n){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!0),void 0===n&&(n=!0),this.openToSide=t,this.openInPeek=e,this.filterCurrent=i,this.showMessage=n},O=(o=h.b,x(E,o),E.prototype.run=function(t,h){var c=this,e=t.get(w.a),d=t.get(g.a),i=t.get(C.a),p=h.getModel(),f=h.getPosition(),n=this._getDeclarationsAtPosition(p,f,r.a.None).then(function(t){if(!p.isDisposed()&&h.getModel()===p){for(var e=-1,i=[],n=0;n<t.length;n++){var o=t[n];if(o&&o.range){var r=o.uri,s=o.range,a=i.push({uri:r,range:s});c._configuration.filterCurrent&&r.toString()===p.uri.toString()&&m.a.containsPosition(s,f)&&-1===e&&(e=a-1)}}if(0===i.length){if(c._configuration.showMessage){var l=p.getWordAtPosition(f);v.a.get(h).showMessage(c._getNoResultFoundMessage(l),f)}}else if(1===i.length&&-1!==e){var u=i[0];c._openReference(h,d,u,!1)}else c._onResult(d,h,new y.c(i))}},function(t){e.error(t)});return i.showWhile(n,250),n},E.prototype._getDeclarationsAtPosition=function(t,e,i){return Object(S.a)(t,e,i)},E.prototype._getNoResultFoundMessage=function(t){return t&&t.word?f.a("noResultWord","No definition found for '{0}'",t.word):f.a("generic.noResults","No definition found")},E.prototype._getMetaTitle=function(t){return 1<t.references.length&&f.a("meta.title"," – {0} definitions",t.references.length)},E.prototype._onResult=function(e,t,i){var n=this,o=i.getAriaMessage();if(Object(s.a)(o),this._configuration.openInPeek)this._openInPeek(e,t,i);else{var r=i.nearestReference(t.getModel().uri,t.getPosition());this._openReference(t,e,r,this._configuration.openToSide).then(function(t){t&&1<i.references.length?n._openInPeek(e,t,i):i.dispose()})}},E.prototype._openReference=function(t,e,i,n){return e.openCodeEditor({resource:i.uri,options:{selection:m.a.collapseToStart(i.range),revealIfOpened:!0,revealInCenterIfOutsideViewport:!0}},t,n)},E.prototype._openInPeek=function(e,i,n){var o=this,r=p.a.get(i);r?r.toggleWidget(i.getSelection(),Object(a.g)(function(t){return Promise.resolve(n)}),{getMetaTitle:function(t){return o._getMetaTitle(t)},onGoto:function(t){return r.closeWidget(),o._openReference(i,e,t,!1)}}):n.dispose()},E);function E(t,e){var i=o.call(this,e)||this;return i._configuration=t,i}var L,D=u.f?2118:70,I=(x(N,L=O),N.ID="editor.action.goToDeclaration",N);function N(){return L.call(this,new k,{id:N.ID,label:f.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:b.d.and(c.a.hasDefinitionProvider,c.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:c.a.editorTextFocus,primary:D,weight:100},menuOpts:{group:"navigation",order:1.1}})||this}var T,M=(x(A,T=O),A.ID="editor.action.openDeclarationToTheSide",A);function A(){return T.call(this,new k(!0),{id:A.ID,label:f.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:b.d.and(c.a.hasDefinitionProvider,c.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:c.a.editorTextFocus,primary:Object(l.a)(2089,D),weight:100}})||this}var P,R=(x(F,P=O),F);function F(){return P.call(this,new k(void 0,!0,!1),{id:"editor.action.previewDeclaration",label:f.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:b.d.and(c.a.hasDefinitionProvider,d.a.notInPeekEditor,c.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:c.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menuOpts:{group:"navigation",order:1.2}})||this}var j,B=(x(H,j=O),H.prototype._getDeclarationsAtPosition=function(t,e,i){return Object(S.b)(t,e,i)},H.prototype._getNoResultFoundMessage=function(t){return t&&t.word?f.a("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):f.a("goToImplementation.generic.noResults","No implementation found")},H.prototype._getMetaTitle=function(t){return 1<t.references.length&&f.a("meta.implementations.title"," – {0} implementations",t.references.length)},H);function H(){return null!==j&&j.apply(this,arguments)||this}var W,V=(x(z,W=B),z.ID="editor.action.goToImplementation",z);function z(){return W.call(this,new k,{id:z.ID,label:f.a("actions.goToImplementation.label","Go to Implementation"),alias:"Go to Implementation",precondition:b.d.and(c.a.hasImplementationProvider,c.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:c.a.editorTextFocus,primary:2118,weight:100}})||this}var U,q=(x(K,U=B),K.ID="editor.action.peekImplementation",K);function K(){return U.call(this,new k(!1,!0,!1),{id:K.ID,label:f.a("actions.peekImplementation.label","Peek Implementation"),alias:"Peek Implementation",precondition:b.d.and(c.a.hasImplementationProvider,c.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:c.a.editorTextFocus,primary:3142,weight:100}})||this}var G,Y=(x($,G=O),$.prototype._getDeclarationsAtPosition=function(t,e,i){return Object(S.c)(t,e,i)},$.prototype._getNoResultFoundMessage=function(t){return t&&t.word?f.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):f.a("goToTypeDefinition.generic.noResults","No type definition found")},$.prototype._getMetaTitle=function(t){return 1<t.references.length&&f.a("meta.typeDefinitions.title"," – {0} type definitions",t.references.length)},$);function $(){return null!==G&&G.apply(this,arguments)||this}var Z,X=(x(J,Z=Y),J.ID="editor.action.goToTypeDefinition",J);function J(){return Z.call(this,new k,{id:J.ID,label:f.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:b.d.and(c.a.hasTypeDefinitionProvider,c.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:c.a.editorTextFocus,primary:0,weight:100},menuOpts:{group:"navigation",order:1.4}})||this}var Q,tt=(x(et,Q=Y),et.ID="editor.action.peekTypeDefinition",et);function et(){return Q.call(this,new k(!1,!0,!1),{id:et.ID,label:f.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:b.d.and(c.a.hasTypeDefinitionProvider,c.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:c.a.editorTextFocus,primary:0,weight:100}})||this}Object(h.f)(I),Object(h.f)(M),Object(h.f)(R),Object(h.f)(V),Object(h.f)(q),Object(h.f)(X),Object(h.f)(tt),_.d.appendMenuItem(_.b.MenubarGoMenu,{group:"z_go_to",command:{id:"editor.action.goToDeclaration",title:f.a({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},order:4}),_.d.appendMenuItem(_.b.MenubarGoMenu,{group:"z_go_to",command:{id:"editor.action.goToTypeDefinition",title:f.a({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},order:5}),_.d.appendMenuItem(_.b.MenubarGoMenu,{group:"z_go_to",command:{id:"editor.action.goToImplementation",title:f.a({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementation")},order:6})},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var n=(o.prototype.nextId=function(){return this._prefix+ ++this._lastId},o);function o(t){this._prefix=t,this._lastId=0}var r=new n("id#")},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("IWorkspaceEditService")},function(t,e,i){"use strict";i.d(e,"a",function(){return m});var n,h,o=i(27),r=i(34),s=i(137),a=i(37),l=i(10),u=i(18),c=i(44),d=i(16),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},g=function(i,n){return function(t,e){n(t,e,i)}},m=(h=s.a,p(v,h),v.prototype.getParentEditor=function(){return this._parentEditor},v.prototype._onParentConfigurationChanged=function(t){h.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),h.prototype.updateOptions.call(this,this._overwriteOptions)},v.prototype.updateOptions=function(t){o.g(this._overwriteOptions,t,!0),h.prototype.updateOptions.call(this,this._overwriteOptions)},v=f([g(3,u.a),g(4,r.a),g(5,a.b),g(6,l.e),g(7,d.c),g(8,c.a)],v));function v(t,e,i,n,o,r,s,a,l){var u=h.call(this,t,i.getRawConfiguration(),{},n,o,r,s,a,l)||this;return u._parentEditor=i,u._overwriteOptions=e,h.prototype.updateOptions.call(u,u._overwriteOptions),u._register(i.onDidChangeConfiguration(function(t){return u._onParentConfigurationChanged(t)})),u}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n,o=i(8);n="undefined"!=typeof TextDecoder?function(t){return new r(t)}:function(t){return new a};var r=(s.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0},s.prototype.build=function(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()},s.prototype._buildBuffer=function(){if(0===this._bufferLength)return"";var t=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(t)},s.prototype._flushBuffer=function(){var t=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[t]:this._completedStrings[this._completedStrings.length]=t},s.prototype.write1=function(t){var e=this._capacity-this._bufferLength;e<=1&&(0!=e&&!o.u(t)||this._flushBuffer()),this._buffer[this._bufferLength++]=t},s.prototype.appendASCII=function(t){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=t},s.prototype.appendASCIIString=function(t){var e=t.length;if(this._bufferLength+e>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=t);for(var i=0;i<e;i++)this._buffer[this._bufferLength++]=t.charCodeAt(i)},s);function s(t){this._decoder=new TextDecoder("UTF-16LE"),this._capacity=0|t,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}var a=(l.prototype.reset=function(){this._pieces=[],this._piecesLen=0},l.prototype.build=function(){return this._pieces.join("")},l.prototype.write1=function(t){this._pieces[this._piecesLen++]=String.fromCharCode(t)},l.prototype.appendASCII=function(t){this._pieces[this._piecesLen++]=String.fromCharCode(t)},l.prototype.appendASCIIString=function(t){this._pieces[this._piecesLen++]=t},l);function l(){this._pieces=[],this._piecesLen=0}},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var r=i(94),s=function(t,e){this.index=t,this.remainder=e},n=(o.prototype.getCount=function(){return this.values.length},o.prototype.insertValues=function(t,e){t=Object(r.b)(t);var i=this.values,n=this.prefixSum,o=e.length;return 0!==o&&(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,t),0),this.values.set(i.subarray(t),t+o),this.values.set(e,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),0<=this.prefixSumValidIndex[0]&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},o.prototype.changeValue=function(t,e){return t=Object(r.b)(t),e=Object(r.b)(e),this.values[t]!==e&&(this.values[t]=e,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)},o.prototype.removeValues=function(t,e){t=Object(r.b)(t),e=Object(r.b)(e);var i=this.values,n=this.prefixSum;if(t>=i.length)return!1;var o=i.length-t;return o<=e&&(e=o),0!==e&&(this.values=new Uint32Array(i.length-e),this.values.set(i.subarray(0,t),0),this.values.set(i.subarray(t+e),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),0<=this.prefixSumValidIndex[0]&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},o.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},o.prototype.getAccumulatedValue=function(t){return t<0?0:(t=Object(r.b)(t),this._getAccumulatedValue(t))},o.prototype._getAccumulatedValue=function(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];var e=this.prefixSumValidIndex[0]+1;0===e&&(this.prefixSum[0]=this.values[0],e++),t>=this.values.length&&(t=this.values.length-1);for(var i=e;i<=t;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]},o.prototype.getIndexOf=function(t){t=Math.floor(t),this.getTotalValue();for(var e=0,i=this.values.length-1,n=0,o=0,r=0;e<=i;)if(n=e+(i-e)/2|0,t<(r=(o=this.prefixSum[n])-this.values[n]))i=n-1;else{if(!(o<=t))break;e=n+1}return new s(n,t-r)},o);function o(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}var a=(l.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},l.prototype.insertValues=function(t,e){this._actual.insertValues(t,e)&&this._bustCache()},l.prototype.changeValue=function(t,e){this._actual.changeValue(t,e)&&this._bustCache()},l.prototype.removeValues=function(t,e){this._actual.removeValues(t,e)&&this._bustCache()},l.prototype.getTotalValue=function(){return this._actual.getTotalValue()},l.prototype.getAccumulatedValue=function(t){return this._actual.getAccumulatedValue(t)},l.prototype.getIndexOf=function(t){if(t=Math.floor(t),null!==this._cache){var e=t-this._cacheAccumulatedValueStart;if(0<=e&&e<this._cache.length)return this._cache[e]}return this._actual.getIndexOf(t)},l.prototype.warmUpCache=function(t,e){for(var i=[],n=t;n<=e;n++)i[n-t]=this.getIndexOf(n);this._cache=i,this._cacheAccumulatedValueStart=t},l);function l(t){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new n(t),this._bustCache()}},function(t,e,i){"use strict";i.d(e,"a",function(){return c});i(305);var n,o=i(1),r=i(142),s=i(4),a=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=(Object.defineProperty(u.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"textContent",{set:function(t){this.disposed||t===this._textContent||(this._textContent=t,this._element.textContent=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"className",{set:function(t){this.disposed||t===this._className||(this._className=t,this._element.className=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"title",{set:function(t){this.disposed||t===this._title||(this._title=t,this._title?this._element.title=t:this._element.removeAttribute("title"))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"empty",{set:function(t){this.disposed||t===this._empty||(this._empty=t,this._element.style.marginLeft=t?"0":null)},enumerable:!0,configurable:!0}),u.prototype.dispose=function(){this.disposed=!0},u);function u(t){this._element=t}var h,c=(h=s.a,a(d,h),d.prototype.setValue=function(t,e,i){var n=["monaco-icon-label"];i&&(i.extraClasses&&n.push.apply(n,i.extraClasses),i.italic&&n.push("italic")),this.domNode.className=n.join(" "),this.domNode.title=i&&i.title?i.title:"",this.labelNode instanceof r.a?this.labelNode.set(t||"",i?i.matches:void 0,i&&i.title?i.title:void 0,i&&i.labelEscapeNewLines):this.labelNode.textContent=t||"",(e||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof r.a?(this.descriptionNode.set(e||"",i?i.descriptionMatches:void 0),i&&i.descriptionTitle?this.descriptionNode.element.title=i.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=e||"",this.descriptionNode.title=i&&i.descriptionTitle?i.descriptionTitle:"",this.descriptionNode.empty=!e))},d);function d(t,e){var i=h.call(this)||this;return i.domNode=i._register(new l(o.l(t,o.a(".monaco-icon-label")))),i.labelDescriptionContainer=i._register(new l(o.l(i.domNode.element,o.a(".monaco-icon-label-description-container")))),e&&e.supportHighlights?i.labelNode=i._register(new r.a(o.l(i.labelDescriptionContainer.element,o.a("a.label-name")),!e.donotSupportOcticons)):i.labelNode=i._register(new l(o.l(i.labelDescriptionContainer.element,o.a("a.label-name")))),e&&e.supportDescriptionHighlights?i.descriptionNodeFactory=function(){return i._register(new r.a(o.l(i.labelDescriptionContainer.element,o.a("span.label-description")),!e.donotSupportOcticons))}:i.descriptionNodeFactory=function(){return i._register(new l(o.l(i.labelDescriptionContainer.element,o.a("span.label-description"))))},i}},function(t,e,i){"use strict";i.d(e,"a",function(){return g});var n=i(140),o=i(80),r=i(82),s=i(30),a=i(13),l=i(171),u=i(18),h=i(5),c=i(4),d=i(11),p=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},f=function(i,n){return function(t,e){n(t,e,i)}},g=(m.prototype.getOptions=function(t){var o=this;return{codeBlockRenderer:function(t,i){var n=null;if(t)n=o._modeService.getModeIdForLanguageName(t);else{var e=o._editor.getModel();e&&(n=e.getLanguageIdentifier().language)}return o._modeService.triggerMode(n||""),Promise.resolve(!0).then(function(t){var e=d.w.getPromise(n||"");return e?e.then(function(t){return Object(l.b)(i,t)}):Object(l.b)(i,void 0)}).then(function(t){return'<span style="font-family: '+o._editor.getConfiguration().fontInfo.fontFamily+'">'+t+"</span>"})},codeBlockRenderCallback:function(){return o._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(t){var e;try{e=s.a.parse(t)}catch(t){}e&&o._openerService&&o._openerService.open(e).catch(a.e)},disposeables:t}}},m.prototype.render=function(t){var e=[];return{element:t?Object(n.b)(t,this.getOptions(e)):document.createElement("span"),dispose:function(){return Object(c.d)(e)}}},m=p([f(1,r.a),f(2,Object(u.d)(o.a))],m));function m(t,e,i){void 0===i&&(i=o.b),this._editor=t,this._modeService=e,this._openerService=i,this._onDidRenderCodeBlock=new h.a,this.onDidRenderCodeBlock=this._onDidRenderCodeBlock.event}},function(t,e,i){"use strict";i(311);var n=i(3),o=i(24),s=i(1),a=(i(312),i(0)),r=i(14),l=i(23),u=i(35),h=(c.prototype.getId=function(t,e){if(!e)return null;var i=this.modelProvider.getModel();return i===e?"__root__":i.dataSource.getId(e)},c.prototype.hasChildren=function(t,e){var i=this.modelProvider.getModel();return i&&i===e&&0<i.entries.length},c.prototype.getChildren=function(t,e){var i=this.modelProvider.getModel();return u.b.as(i===e?i.entries:[])},c.prototype.getParent=function(t,e){return u.b.as(null)},c);function c(t){this.modelProvider=Object(l.e)(t.getModel)?t:{getModel:function(){return t}}}var d=(p.prototype.getAriaLabel=function(t,e){var i=this.modelProvider.getModel();return i.accessibilityProvider&&i.accessibilityProvider.getAriaLabel(e)},p.prototype.getPosInSet=function(t,e){var i=this.modelProvider.getModel(),n=0;if(i.filter)for(var o=0,r=i.entries;o<r.length;o++){var s=r[o];if(i.filter.isVisible(s)&&n++,s===e)break}else n=i.entries.indexOf(e)+1;return String(n)},p.prototype.getSetSize=function(){var t=this.modelProvider.getModel(),e=0;if(t.filter)for(var i=0,n=t.entries;i<n.length;i++){var o=n[i];t.filter.isVisible(o)&&e++}else e=t.entries.length;return String(e)},p);function p(t){this.modelProvider=t}var f=(g.prototype.isVisible=function(t,e){var i=this.modelProvider.getModel();return!i.filter||i.filter.isVisible(e)},g);function g(t){this.modelProvider=t}var m=(v.prototype.updateStyles=function(t){this.styles=t},v.prototype.getHeight=function(t,e){return this.modelProvider.getModel().renderer.getHeight(e)},v.prototype.getTemplateId=function(t,e){return this.modelProvider.getModel().renderer.getTemplateId(e)},v.prototype.renderTemplate=function(t,e,i){return this.modelProvider.getModel().renderer.renderTemplate(e,i,this.styles)},v.prototype.renderElement=function(t,e,i,n){this.modelProvider.getModel().renderer.renderElement(e,i,n,this.styles)},v.prototype.disposeTemplate=function(t,e,i){this.modelProvider.getModel().renderer.disposeTemplate(e,i)},v);function v(t,e){this.modelProvider=t,this.styles=e}var y,_,b=i(157),w=i(185),C=(i(313),i(4)),S=i(12),x=i(27),k=i(17),O=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),E={progressBarBackground:S.a.fromHex("#0E70C0")},L=(_=C.a,O(D,_),D.prototype.create=function(t){this.element=document.createElement("div"),Object(s.f)(this.element,"monaco-progress-container"),t.appendChild(this.element),this.bit=document.createElement("div"),Object(s.f)(this.bit,"progress-bit"),this.element.appendChild(this.bit),this.applyStyles()},D.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",Object(s.H)(this.element,"active","infinite","discrete"),this.workedVal=0,this.totalWork=void 0},D.prototype.stop=function(){return this.doDone(!1)},D.prototype.doDone=function(t){var e=this;return Object(s.f)(this.element,"done"),Object(s.A)(this.element,"infinite")?this.bit.style.opacity="0":this.bit.style.width="inherit",t?setTimeout(function(){return e.off()},200):this.off(),this},D.prototype.hide=function(){Object(s.B)(this.element),this.showDelayedScheduler.cancel()},D.prototype.style=function(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()},D.prototype.applyStyles=function(){if(this.bit){var t=this.progressBarBackground?this.progressBarBackground.toString():null;this.bit.style.backgroundColor=t}},D);function D(t,e){var i=_.call(this)||this;return i.options=e||Object.create(null),Object(x.g)(i.options,E,!1),i.workedVal=0,i.progressBarBackground=i.options.progressBarBackground,i._register(i.showDelayedScheduler=new k.d(function(){return Object(s.O)(i.element)},0)),i.create(t),i}var I,N,T=i(51),M=i(108),A=i(39),P=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),R=(N=M.b,P(F,N),F.prototype.onContextMenu=function(t,e,i){return r.d?this.onLeftClick(t,e,i):N.prototype.onContextMenu.call(this,t,e,i)},F);function F(){return null!==N&&N.apply(this,arguments)||this}var j,B={background:S.a.fromHex("#1E1E1E"),foreground:S.a.fromHex("#CCCCCC"),pickerGroupForeground:S.a.fromHex("#0097FB"),pickerGroupBorder:S.a.fromHex("#3F3F46"),widgetShadow:S.a.fromHex("#000000"),progressBarBackground:S.a.fromHex("#0E70C0")},H=a.a("quickOpenAriaLabel","Quick picker. Type to narrow down results."),W=(j=C.a,P(V,j),V.prototype.getModel=function(){return this.model},V.prototype.create=function(){var r=this;this.element=document.createElement("div"),s.f(this.element,"monaco-quick-open-widget"),this.container.appendChild(this.element),this._register(s.h(this.element,s.d.CONTEXT_MENU,function(t){return s.c.stop(t,!0)})),this._register(s.h(this.element,s.d.FOCUS,function(t){return r.gainingFocus()},!0)),this._register(s.h(this.element,s.d.BLUR,function(t){return r.loosingFocus(t)},!0)),this._register(s.h(this.element,s.d.KEY_DOWN,function(t){var e=new T.a(t);if(9===e.keyCode)s.c.stop(t,!0),r.hide(2);else if(2===e.keyCode&&!e.altKey&&!e.ctrlKey&&!e.metaKey){var i=t.currentTarget.querySelectorAll("input, .monaco-tree, .monaco-tree-row.focused .action-label.icon");e.shiftKey&&e.target===i[0]?(s.c.stop(t,!0),i[i.length-1].focus()):e.shiftKey||e.target!==i[i.length-1]||(s.c.stop(t,!0),i[0].focus())}})),this.progressBar=this._register(new L(this.element,{progressBarBackground:this.styles.progressBarBackground})),this.progressBar.hide(),this.inputContainer=document.createElement("div"),s.f(this.inputContainer,"quick-open-input"),this.element.appendChild(this.inputContainer),this.inputBox=this._register(new b.b(this.inputContainer,null,{placeholder:this.options.inputPlaceHolder||"",ariaLabel:H,inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder})),this.inputElement=this.inputBox.inputElement,this.inputElement.setAttribute("role","combobox"),this.inputElement.setAttribute("aria-haspopup","false"),this.inputElement.setAttribute("aria-autocomplete","list"),this._register(s.h(this.inputBox.inputElement,s.d.INPUT,function(t){return r.onType()})),this._register(s.h(this.inputBox.inputElement,s.d.KEY_DOWN,function(t){var e=new T.a(t),i=r.shouldOpenInBackground(e);if(2!==e.keyCode)if(18===e.keyCode||16===e.keyCode||12===e.keyCode||11===e.keyCode)s.c.stop(t,!0),r.navigateInTree(e.keyCode,e.shiftKey),r.inputBox.inputElement.selectionStart===r.inputBox.inputElement.selectionEnd&&(r.inputBox.inputElement.selectionStart=r.inputBox.value.length);else if(3===e.keyCode||i){s.c.stop(t,!0);var n=r.tree.getFocus();n&&r.elementSelected(n,t,i?2:1)}})),this.resultCount=document.createElement("div"),s.f(this.resultCount,"quick-open-result-count"),this.resultCount.setAttribute("aria-live","polite"),this.resultCount.setAttribute("aria-atomic","true"),this.element.appendChild(this.resultCount),this.treeContainer=document.createElement("div"),s.f(this.treeContainer,"quick-open-tree"),this.element.appendChild(this.treeContainer);var t=this.options.treeCreator||function(t,e,i){return new w.a(t,e,i)};return this.tree=this._register(t(this.treeContainer,{dataSource:new h(this),controller:new R({clickBehavior:1,keyboardSupport:this.options.keyboardSupport}),renderer:this.renderer=new m(this,this.styles),filter:new f(this),accessibilityProvider:new d(this)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:3,horizontalScrollMode:2,ariaLabel:a.a("treeAriaLabel","Quick Picker"),keyboardSupport:this.options.keyboardSupport,preventRootFocus:!1})),this.treeElement=this.tree.getHTMLElement(),this._register(this.tree.onDidChangeFocus(function(t){r.elementFocused(t.focus,t)})),this._register(this.tree.onDidChangeSelection(function(t){if(t.selection&&0<t.selection.length){var e=t.payload&&t.payload.originalEvent instanceof A.b?t.payload.originalEvent:void 0,i=!!e&&r.shouldOpenInBackground(e);r.elementSelected(t.selection[0],t,i?2:1)}})),this._register(s.h(this.treeContainer,s.d.KEY_DOWN,function(t){var e=new T.a(t);r.quickNavigateConfiguration&&(18!==e.keyCode&&16!==e.keyCode&&12!==e.keyCode&&11!==e.keyCode||(s.c.stop(t,!0),r.navigateInTree(e.keyCode)))})),this._register(s.h(this.treeContainer,s.d.KEY_UP,function(t){var n=new T.a(t),o=n.keyCode;if(r.quickNavigateConfiguration){var e=r.quickNavigateConfiguration.keybindings;if(3===o||e.some(function(t){var e=t.getParts(),i=e[0];return!(e[1]||(i.shiftKey&&4===o?n.ctrlKey||n.altKey||n.metaKey:!(i.altKey&&6===o||i.ctrlKey&&5===o||i.metaKey&&57===o)))})){var i=r.tree.getFocus();i&&r.elementSelected(i,t)}}})),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),this._register(s.h(this.treeContainer,s.d.KEY_DOWN,function(t){var e=new T.a(t);r.quickNavigateConfiguration||18!==e.keyCode&&16!==e.keyCode&&12!==e.keyCode&&11!==e.keyCode||(s.c.stop(t,!0),r.navigateInTree(e.keyCode,e.shiftKey),r.treeElement.focus())})),this.element},V.prototype.style=function(t){this.styles=t,this.applyStyles()},V.prototype.applyStyles=function(){if(this.element){var t=this.styles.foreground?this.styles.foreground.toString():null,e=this.styles.background?this.styles.background.toString():null,i=this.styles.borderColor?this.styles.borderColor.toString():null,n=this.styles.widgetShadow?this.styles.widgetShadow.toString():null;this.element.style.color=t,this.element.style.backgroundColor=e,this.element.style.borderColor=i,this.element.style.borderWidth=i?"1px":null,this.element.style.borderStyle=i?"solid":null,this.element.style.boxShadow=n?"0 5px 8px "+n:null}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&!this.options.treeCreator&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},V.prototype.shouldOpenInBackground=function(t){if(t instanceof T.a){if(17!==t.keyCode)return!1;if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return!1;var e=this.inputBox.inputElement;return e.selectionEnd===this.inputBox.value.length&&e.selectionStart===e.selectionEnd}return t.middleButton},V.prototype.onType=function(){var t=this.inputBox.value;this.helpText&&(t?s.B(this.helpText):s.O(this.helpText)),this.callbacks.onType(t)},V.prototype.navigateInTree=function(t,e){var i=this.tree.getInput(),n=i?i.entries:[],o=this.tree.getFocus();switch(t){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:e?this.tree.focusPrevious():this.tree.focusNext()}var r=this.tree.getFocus();1<n.length&&o===r&&(16===t||2===t&&e?this.tree.focusLast():18!==t&&(2!==t||e)||this.tree.focusFirst()),(r=this.tree.getFocus())&&this.tree.reveal(r)},V.prototype.elementFocused=function(t,e){if(t&&this.isVisible()){this.inputElement.setAttribute("aria-activedescendant",this.treeElement.getAttribute("aria-activedescendant"));var i={event:e,keymods:this.extractKeyMods(e),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(t,0,i)}},V.prototype.elementSelected=function(t,e,i){var n=!0;if(this.isVisible()){var o=i||1,r={event:e,keymods:this.extractKeyMods(e),quickNavigateConfiguration:this.quickNavigateConfiguration};n=this.model.runner.run(t,o,r)}n&&this.hide(0)},V.prototype.extractKeyMods=function(t){return{ctrlCmd:t&&(t.ctrlKey||t.metaKey||t.payload&&t.payload.originalEvent&&(t.payload.originalEvent.ctrlKey||t.payload.originalEvent.metaKey)),alt:t&&(t.altKey||t.payload&&t.payload.originalEvent&&t.payload.originalEvent.altKey)}},V.prototype.show=function(t,e){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=e?e.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(s.B(this.inputContainer),s.O(this.element),this.tree.domFocus()):(s.O(this.inputContainer),s.O(this.element),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||l.h(t)?s.B(this.helpText):s.O(this.helpText)),l.h(t)?this.doShowWithPrefix(t):(e.value&&this.restoreLastInput(e.value),this.doShowWithInput(t,e&&e.autoFocus?e.autoFocus:{})),e&&e.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(e.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},V.prototype.restoreLastInput=function(t){this.inputBox.value=t,this.inputBox.select(),this.callbacks.onType(t)},V.prototype.doShowWithPrefix=function(t){this.inputBox.value=t,this.callbacks.onType(t)},V.prototype.doShowWithInput=function(t,e){this.setInput(t,e)},V.prototype.setInputAndLayout=function(e,i){var n=this;this.treeContainer.style.height=this.getHeight(e)+"px",this.tree.setInput(null).then(function(){return n.model=e,n.inputElement.setAttribute("aria-haspopup",String(e&&e.entries&&0<e.entries.length)),n.tree.setInput(e)}).then(function(){n.tree.layout();var t=e?e.entries.filter(function(t){return n.isElementVisible(e,t)}):[];n.updateResultCount(t.length),t.length&&n.autoFocus(e,t,i)})},V.prototype.isElementVisible=function(t,e){return!t.filter||t.filter.isVisible(e)},V.prototype.autoFocus=function(t,e,i){if(void 0===i&&(i={}),i.autoFocusPrefixMatch){for(var n=void 0,o=void 0,r=i.autoFocusPrefixMatch,s=r.toLowerCase(),a=0;a<e.length;a++){var l=e[a],u=t.dataSource.getLabel(l);if(n||0!==u.indexOf(r)?o||0!==u.toLowerCase().indexOf(s)||(o=l):n=l,n&&o)break}var h=n||o;if(h)return this.tree.setFocus(h),void this.tree.reveal(h,.5)}i.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus())):"number"==typeof i.autoFocusIndex?e.length>i.autoFocusIndex&&(this.tree.focusNth(i.autoFocusIndex),this.tree.reveal(this.tree.getFocus())):i.autoFocusSecondEntry?1<e.length&&this.tree.focusNth(1):i.autoFocusLastEntry&&1<e.length&&this.tree.focusLast()},V.prototype.getHeight=function(e){var i=this,t=e.renderer;if(!e){var n=t.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*n:0}var o,r=0;this.layoutDimensions&&this.layoutDimensions.height&&(o=.4*(this.layoutDimensions.height-50)),(!o||V.MAX_ITEMS_HEIGHT<o)&&(o=V.MAX_ITEMS_HEIGHT);for(var s=e.entries.filter(function(t){return i.isElementVisible(e,t)}),a=this.options.maxItemsToShow||s.length,l=0;l<a&&l<s.length;l++){var u=t.getHeight(s[l]);if(!(r+u<=o))break;r+=u}return r},V.prototype.updateResultCount=function(t){this.resultCount.textContent=a.a({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results",t)},V.prototype.hide=function(t){this.isVisible()&&(this.visible=!1,s.B(this.element),this.element.blur(),this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style.height=(this.options.minItemsToShow?22*this.options.minItemsToShow:0)+"px",this.progressBar.stop().hide(),this.tree.isDOMFocused()?this.tree.domBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),0===t?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(t))},V.prototype.setInput=function(t,e,i){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(t,e),this.inputBox&&this.inputBox.setAriaLabel(i||H))},V.prototype.onInputChanging=function(){var t=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),s.f(this.element,"content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){s.G(t.element,"content-changing")},500)},V.prototype.getInput=function(){return this.tree.getInput()},V.prototype.isVisible=function(){return this.visible},V.prototype.layout=function(t){this.layoutDimensions=t;var e=Math.min(.62*this.layoutDimensions.width,V.MAX_WIDTH);this.element&&(this.element.style.width=e+"px",this.element.style.marginLeft="-"+e/2+"px",this.inputContainer.style.width=e-12+"px")},V.prototype.gainingFocus=function(){this.isLoosingFocus=!1},V.prototype.loosingFocus=function(t){var e=this;if(this.isVisible()){var i=t.relatedTarget;!this.quickNavigateConfiguration&&s.C(i,this.element)||(this.isLoosingFocus=!0,setTimeout(function(){e.isLoosingFocus&&!e.isDisposed&&(e.callbacks.onFocusLost&&e.callbacks.onFocusLost()||e.hide(1))},0))}},V.prototype.dispose=function(){j.prototype.dispose.call(this),this.isDisposed=!0},V.MAX_WIDTH=600,V.MAX_ITEMS_HEIGHT=440,V);function V(t,e,i){var n=j.call(this)||this;return n.isDisposed=!1,n.container=t,n.callbacks=e,n.options=i,n.styles=i||Object.create(null),Object(x.g)(n.styles,B,!1),n.model=null,n}var z=i(7),U=i(104),q=(K.prototype.create=function(t,e,i,n){this.domNode=document.createElement("div"),this.quickOpenWidget=new W(this.domNode,{onOk:t,onCancel:e,onType:i},{inputPlaceHolder:null,inputAriaLabel:n.inputAriaLabel,keyboardSupport:!0}),this.styler=Object(U.d)(this.quickOpenWidget,this.themeService,{pickerGroupForeground:z.I}),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)},K.prototype.setInput=function(t,e){this.quickOpenWidget.setInput(t,e)},K.prototype.getId=function(){return K.ID},K.prototype.getDomNode=function(){return this.domNode},K.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose(),this.styler.dispose()},K.prototype.show=function(t){this.visible=!0;var e=this.codeEditor.getLayoutInfo();e&&this.quickOpenWidget.layout(new s.b(e.width,e.height)),this.quickOpenWidget.show(t),this.codeEditor.layoutOverlayWidget(this)},K.prototype.getPosition=function(){return this.visible?{preference:2}:null},K.ID="editor.contrib.quickOpenEditorWidget",K);function K(t,e,i,n,o,r){this.codeEditor=t,this.themeService=r,this.create(e,i,n,o)}var G=i(16);i.d(e,"a",function(){return et});var Y,$=(Y=function(t,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Z=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},X=function(i,n){return function(t,e){n(t,e,i)}},J=(Q.get=function(t){return t.getContribution(Q.ID)},Q.prototype.getId=function(){return Q.ID},Q.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},Q.prototype.run=function(e){var i=this;function t(t){i.clearDecorations(),t&&i.lastKnownEditorSelection&&(i.editor.setSelection(i.lastKnownEditorSelection),i.editor.revealRangeInCenterIfOutsideViewport(i.lastKnownEditorSelection,0)),i.lastKnownEditorSelection=null,document.activeElement!==document.body&&t||i.editor.focus()}this.widget&&(this.widget.destroy(),this.widget=null),this.widget=new q(this.editor,function(){return t(!1)},function(){return t(!0)},function(t){i.widget.setInput(e.getModel(t),e.getAutoFocus(t))},{inputAriaLabel:e.inputAriaLabel},this.themeService),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),this.widget.show("")},Q.prototype.decorateLine=function(t,e){var i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId),this.rangeHighlightDecorationId=null);var n=[{range:t,options:Q._RANGE_HIGHLIGHT_DECORATION}],o=e.deltaDecorations(i,n);this.rangeHighlightDecorationId=o[0]},Q.prototype.clearDecorations=function(){this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this.rangeHighlightDecorationId=null)},Q.ID="editor.controller.quickOpenController",Q._RANGE_HIGHLIGHT_DECORATION=o.a.register({className:"rangeHighlight",isWholeLine:!0}),Q=Z([X(1,G.c)],Q));function Q(t,e){this.themeService=e,this.editor=t}var tt,et=(tt=n.b,$(it,tt),it.prototype.getController=function(t){return J.get(t)},it.prototype._show=function(t,e){t.run({inputAriaLabel:this._inputAriaLabel,getModel:function(t){return e.getModel(t)},getAutoFocus:function(t){return e.getAutoFocus(t)}})},it);function it(t,e){var i=tt.call(this,e)||this;return i._inputAriaLabel=t,i}Object(n.h)(J)},function(t,e,i){"use strict";var I=(n.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},n.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},n);function n(t,e,i,n){this.originalStart=t,this.originalLength=e,this.modifiedStart=i,this.modifiedLength=n}function o(e){return{getLength:function(){return e.length},getElementAtIndex:function(t){return e.charCodeAt(t)}}}function r(t,e,i){return new u(o(t),o(e)).ComputeDiff(i)}i.d(e,"b",function(){return r}),i.d(e,"a",function(){return u});var d=(s.Assert=function(t,e){if(!t)throw new Error(e)},s);function s(){}var D=(a.Copy=function(t,e,i,n,o){for(var r=0;r<o;r++)i[n+r]=t[e+r]},a);function a(){}var N=(l.prototype.MarkNextChange=function(){(0<this.m_originalCount||0<this.m_modifiedCount)&&this.m_changes.push(new I(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},l.prototype.AddOriginalElement=function(t,e){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,e),this.m_originalCount++},l.prototype.AddModifiedElement=function(t,e){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,e),this.m_modifiedCount++},l.prototype.getChanges=function(){return(0<this.m_originalCount||0<this.m_modifiedCount)&&this.MarkNextChange(),this.m_changes},l.prototype.getReverseChanges=function(){return(0<this.m_originalCount||0<this.m_modifiedCount)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},l);function l(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}var u=(h.prototype.ElementsAreEqual=function(t,e){return this.OriginalSequence.getElementAtIndex(t)===this.ModifiedSequence.getElementAtIndex(e)},h.prototype.OriginalElementsAreEqual=function(t,e){return this.OriginalSequence.getElementAtIndex(t)===this.OriginalSequence.getElementAtIndex(e)},h.prototype.ModifiedElementsAreEqual=function(t,e){return this.ModifiedSequence.getElementAtIndex(t)===this.ModifiedSequence.getElementAtIndex(e)},h.prototype.ComputeDiff=function(t){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,t)},h.prototype._ComputeDiff=function(t,e,i,n,o){var r=this.ComputeDiffRecursive(t,e,i,n,[!1]);return o?this.PrettifyChanges(r):r},h.prototype.ComputeDiffRecursive=function(t,e,i,n,o){for(o[0]=!1;t<=e&&i<=n&&this.ElementsAreEqual(t,i);)t++,i++;for(;t<=e&&i<=n&&this.ElementsAreEqual(e,n);)e--,n--;if(e<t||n<i)return i<=n?(d.Assert(t===e+1,"originalStart should only be one more than originalEnd"),[new I(t,0,i,n-i+1)]):t<=e?(d.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),[new I(t,e-t+1,i,0)]):(d.Assert(t===e+1,"originalStart should only be one more than originalEnd"),d.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),[]);var r=[0],s=[0],a=this.ComputeRecursionPoint(t,e,i,n,r,s,o),l=r[0],u=s[0];if(null!==a)return a;if(o[0])return[new I(t,e-t+1,i,n-i+1)];var h=this.ComputeDiffRecursive(t,l,i,u,o),c=[];return c=o[0]?[new I(l+1,e-(l+1)+1,u+1,n-(u+1)+1)]:this.ComputeDiffRecursive(l+1,e,u+1,n,o),this.ConcatenateChanges(h,c)},h.prototype.WALKTRACE=function(t,e,i,n,o,r,s,a,l,u,h,c,d,p,f,g,m,v){for(var y,_,b=null,w=new N,C=e,S=i,x=d[0]-g[0]-n,k=Number.MIN_VALUE,O=this.m_forwardHistory.length-1;x=(_=x+t)===C||_<S&&l[_-1]<l[_+1]?(p=(h=l[_+1])-x-n,h<k&&w.MarkNextChange(),k=h,w.AddModifiedElement(h+1,p),_+1-t):(p=(h=l[_-1]+1)-x-n,h<k&&w.MarkNextChange(),k=h-1,w.AddOriginalElement(h,p+1),_-1-t),0<=O&&(t=(l=this.m_forwardHistory[O])[0],C=1,S=l.length-1),-1<=--O;);if(y=w.getReverseChanges(),v[0]){var E=d[0]+1,L=g[0]+1;if(null!==y&&0<y.length){var D=y[y.length-1];E=Math.max(E,D.getOriginalEnd()),L=Math.max(L,D.getModifiedEnd())}b=[new I(E,c-E+1,L,f-L+1)]}else{for(w=new N,C=r,S=s,x=d[0]-g[0]-a,k=Number.MAX_VALUE,O=m?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;x=(_=x+o)===C||_<S&&u[_-1]>=u[_+1]?(p=(h=u[_+1]-1)-x-a,k<h&&w.MarkNextChange(),k=h+1,w.AddOriginalElement(h+1,p+1),_+1-o):(p=(h=u[_-1])-x-a,k<h&&w.MarkNextChange(),k=h,w.AddModifiedElement(h+1,p+1),_-1-o),0<=O&&(o=(u=this.m_reverseHistory[O])[0],C=1,S=u.length-1),-1<=--O;);b=w.getChanges()}return this.ConcatenateChanges(y,b)},h.prototype.ComputeRecursionPoint=function(t,e,i,n,o,r,s){var a,l=0,u=0,h=0,c=0,d=0,p=0;t--,i--,r[o[0]=0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var f,g,m=e-t+(n-i),v=1+m,y=new Array(v),_=new Array(v),b=n-i,w=e-t,C=t-i,S=e-n,x=(w-b)%2==0;for(y[b]=t,_[w]=e,s[0]=!1,a=1;a<=m/2+1;a++){var k=0,O=0;for(h=this.ClipDiagonalBound(b-a,a,b,v),c=this.ClipDiagonalBound(b+a,a,b,v),f=h;f<=c;f+=2){for(u=(l=f===h||f<c&&y[f-1]<y[f+1]?y[f+1]:y[f-1]+1)-(f-b)-C,g=l;l<e&&u<n&&this.ElementsAreEqual(l+1,u+1);)l++,u++;if(k+O<(y[f]=l)+u&&(k=l,O=u),!x&&Math.abs(f-w)<=a-1&&l>=_[f])return o[0]=l,r[0]=u,g<=_[f]&&a<=1448?this.WALKTRACE(b,h,c,C,w,d,p,S,y,_,l,e,o,u,n,r,x,s):null}var E=(k-t+(O-i)-a)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(k,this.OriginalSequence,E))return s[0]=!0,o[0]=k,r[0]=O,0<E&&a<=1448?this.WALKTRACE(b,h,c,C,w,d,p,S,y,_,l,e,o,u,n,r,x,s):[new I(++t,e-t+1,++i,n-i+1)];for(d=this.ClipDiagonalBound(w-a,a,w,v),p=this.ClipDiagonalBound(w+a,a,w,v),f=d;f<=p;f+=2){for(u=(l=f===d||f<p&&_[f-1]>=_[f+1]?_[f+1]-1:_[f-1])-(f-w)-S,g=l;t<l&&i<u&&this.ElementsAreEqual(l,u);)l--,u--;if(_[f]=l,x&&Math.abs(f-b)<=a&&l<=y[f])return o[0]=l,r[0]=u,g>=y[f]&&a<=1448?this.WALKTRACE(b,h,c,C,w,d,p,S,y,_,l,e,o,u,n,r,x,s):null}if(a<=1447){var L=new Array(c-h+2);L[0]=b-h+1,D.Copy(y,h,L,1,c-h+1),this.m_forwardHistory.push(L),(L=new Array(p-d+2))[0]=w-d+1,D.Copy(_,d,L,1,p-d+1),this.m_reverseHistory.push(L)}}return this.WALKTRACE(b,h,c,C,w,d,p,S,y,_,l,e,o,u,n,r,x,s)},h.prototype.PrettifyChanges=function(t){for(var e=0;e<t.length;e++){for(var i=t[e],n=e<t.length-1?t[e+1].originalStart:this.OriginalSequence.getLength(),o=e<t.length-1?t[e+1].modifiedStart:this.ModifiedSequence.getLength(),r=0<i.originalLength,s=0<i.modifiedLength;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!s||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));)i.originalStart++,i.modifiedStart++;var a=[null];e<t.length-1&&this.ChangesOverlap(t[e],t[e+1],a)&&(t[e]=a[0],t.splice(e+1,1),e--)}for(e=t.length-1;0<=e;e--){if(i=t[e],(o=n=0)<e){var l=t[e-1];0<l.originalLength&&(n=l.originalStart+l.originalLength),0<l.modifiedLength&&(o=l.modifiedStart+l.modifiedLength)}r=0<i.originalLength,s=0<i.modifiedLength;for(var u=0,h=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength),c=1;;c++){var d=i.originalStart-c,p=i.modifiedStart-c;if(d<n||p<o)break;if(r&&!this.OriginalElementsAreEqual(d,d+i.originalLength))break;if(s&&!this.ModifiedElementsAreEqual(p,p+i.modifiedLength))break;var f=this._boundaryScore(d,i.originalLength,p,i.modifiedLength);h<f&&(h=f,u=c)}i.originalStart-=u,i.modifiedStart-=u}return t},h.prototype._OriginalIsBoundary=function(t){if(t<=0||t>=this.OriginalSequence.getLength()-1)return!0;var e=this.OriginalSequence.getElementAtIndex(t);return"string"==typeof e&&/^\s*$/.test(e)},h.prototype._OriginalRegionIsBoundary=function(t,e){if(this._OriginalIsBoundary(t)||this._OriginalIsBoundary(t-1))return!0;if(0<e){var i=t+e;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1},h.prototype._ModifiedIsBoundary=function(t){if(t<=0||t>=this.ModifiedSequence.getLength()-1)return!0;var e=this.ModifiedSequence.getElementAtIndex(t);return"string"==typeof e&&/^\s*$/.test(e)},h.prototype._ModifiedRegionIsBoundary=function(t,e){if(this._ModifiedIsBoundary(t)||this._ModifiedIsBoundary(t-1))return!0;if(0<e){var i=t+e;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1},h.prototype._boundaryScore=function(t,e,i,n){return(this._OriginalRegionIsBoundary(t,e)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)},h.prototype.ConcatenateChanges=function(t,e){var i=[];if(0===t.length||0===e.length)return 0<e.length?e:t;if(this.ChangesOverlap(t[t.length-1],e[0],i)){var n=new Array(t.length+e.length-1);return D.Copy(t,0,n,0,t.length-1),n[t.length-1]=i[0],D.Copy(e,1,n,t.length,e.length-1),n}return n=new Array(t.length+e.length),D.Copy(t,0,n,0,t.length),D.Copy(e,0,n,t.length,e.length),n},h.prototype.ChangesOverlap=function(t,e,i){if(d.Assert(t.originalStart<=e.originalStart,"Left change is not less than or equal to right change"),d.Assert(t.modifiedStart<=e.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=e.originalStart||t.modifiedStart+t.modifiedLength>=e.modifiedStart){var n=t.originalStart,o=t.originalLength,r=t.modifiedStart,s=t.modifiedLength;return t.originalStart+t.originalLength>=e.originalStart&&(o=e.originalStart+e.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=e.modifiedStart&&(s=e.modifiedStart+e.modifiedLength-t.modifiedStart),i[0]=new I(n,o,r,s),!0}return i[0]=null,!1},h.prototype.ClipDiagonalBound=function(t,e,i,n){if(0<=t&&t<n)return t;var o=e%2==0;return t<0?o==(i%2==0)?0:1:o==((n-i-1)%2==0)?n-1:n-2},h);function h(t,e,i){void 0===i&&(i=null),this.OriginalSequence=t,this.ModifiedSequence=e,this.ContinueProcessingPredicate=i,this.m_forwardHistory=[],this.m_reverseHistory=[]}},function(t,e,i){"use strict";i(280);var o=i(0),s=i(22),a=i(1),l=i(140),r=i(50),u=i(75),h=i(5),n=i(60),c=i(12),d=i(27),p=i(83),f=(g.prototype.add=function(t){this._history.delete(t),this._history.add(t),this._onChange()},g.prototype.next=function(){return this._navigator.next()},g.prototype.previous=function(){return this._navigator.previous()},g.prototype.current=function(){return this._navigator.current()},g.prototype.parent=function(){return null},g.prototype.first=function(){return this._navigator.first()},g.prototype.last=function(){return this._navigator.last()},g.prototype.has=function(t){return this._history.has(t)},g.prototype._onChange=function(){this._reduceToLimit(),this._navigator=new p.b(this._elements,0,this._elements.length,this._elements.length)},g.prototype._reduceToLimit=function(){var t=this._elements;t.length>this._limit&&this._initialize(t.slice(t.length-this._limit))},g.prototype._initialize=function(t){this._history=new Set;for(var e=0,i=t;e<i.length;e++){var n=i[e];this._history.add(n)}},Object.defineProperty(g.prototype,"_elements",{get:function(){var e=[];return this._history.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),g);function g(t,e){void 0===t&&(t=[]),void 0===e&&(e=10),this._initialize(t),this._limit=e,this._onChange()}i.d(e,"b",function(){return w}),i.d(e,"a",function(){return x});var m,v,y=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=a.a,b={inputBackground:c.a.fromHex("#3C3C3C"),inputForeground:c.a.fromHex("#CCCCCC"),inputValidationInfoBorder:c.a.fromHex("#55AAFF"),inputValidationInfoBackground:c.a.fromHex("#063B49"),inputValidationWarningBorder:c.a.fromHex("#B89500"),inputValidationWarningBackground:c.a.fromHex("#352A05"),inputValidationErrorBorder:c.a.fromHex("#BE1100"),inputValidationErrorBackground:c.a.fromHex("#5A1D1D")},w=(v=n.a,y(C,v),C.prototype.onBlur=function(){this._hideMessage()},C.prototype.onFocus=function(){this._showMessage()},C.prototype.setPlaceHolder=function(t){this.input&&(this.input.setAttribute("placeholder",t),this.input.title=t)},C.prototype.setAriaLabel=function(t){this.ariaLabel=t,this.input&&(t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label"))},Object.defineProperty(C.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.input.value},set:function(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())},enumerable:!0,configurable:!0}),C.prototype.focus=function(){this.input.focus()},C.prototype.blur=function(){this.input.blur()},C.prototype.hasFocus=function(){return document.activeElement===this.input},C.prototype.select=function(t){void 0===t&&(t=null),this.input.select(),t&&this.input.setSelectionRange(t.start,t.end)},C.prototype.enable=function(){this.input.removeAttribute("disabled")},C.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},C.prototype.setEnabled=function(t){t?this.enable():this.disable()},Object.defineProperty(C.prototype,"width",{get:function(){return a.z(this.input)},set:function(t){this.input.style.width=t+"px"},enumerable:!0,configurable:!0}),C.prototype.showMessage=function(t,e){this.message=t,a.G(this.element,"idle"),a.G(this.element,"info"),a.G(this.element,"warning"),a.G(this.element,"error"),a.f(this.element,this.classForType(t.type));var i,n=this.stylesForType(this.message.type);this.element.style.border=n.border?"1px solid "+n.border:null,i=3===t.type?o.a("alertErrorMessage","Error: {0}",t.content):2===t.type?o.a("alertWarningMessage","Warning: {0}",t.content):o.a("alertInfoMessage","Info: {0}",t.content),r.a(i),(this.hasFocus()||e)&&this._showMessage()},C.prototype.hideMessage=function(){this.message=null,a.G(this.element,"info"),a.G(this.element,"warning"),a.G(this.element,"error"),a.f(this.element,"idle"),this._hideMessage(),this.applyStyles()},C.prototype.validate=function(){var t=null;return this.validation&&((t=this.validation(this.value))?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!t},C.prototype.stylesForType=function(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}},C.prototype.classForType=function(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}},C.prototype._showMessage=function(){var o=this;if(this.contextViewProvider&&this.message){var r,s=function(){return r.style.width=a.z(o.element)+"px"};this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return o.element},anchorAlignment:1,render:function(t){r=a.l(t,_(".monaco-inputbox-container")),s();var e={inline:!0,className:"monaco-inputbox-message"},i=o.message.formatContent?Object(l.a)(o.message.content,e):Object(l.c)(o.message.content,e);a.f(i,o.classForType(o.message.type));var n=o.stylesForType(o.message.type);return i.style.backgroundColor=n.background?n.background.toString():null,i.style.color=n.foreground?n.foreground.toString():null,i.style.border=n.border?"1px solid "+n.border:null,a.l(r,i),null},layout:s})}},C.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},C.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),"open"===this.state&&this.contextViewProvider.layout()},C.prototype.updateMirror=function(){if(this.mirror){var t=this.value||this.placeholder,e=10===t.charCodeAt(t.length-1)?" ":"";this.mirror.textContent=t+e,this.layout()}},C.prototype.style=function(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()},C.prototype.applyStyles=function(){if(this.element){var t=this.inputBackground?this.inputBackground.toString():null,e=this.inputForeground?this.inputForeground.toString():null,i=this.inputBorder?this.inputBorder.toString():null;this.element.style.backgroundColor=t,this.element.style.color=e,this.input.style.backgroundColor=t,this.input.style.color=e,this.element.style.borderWidth=i?"1px":null,this.element.style.borderStyle=i?"solid":null,this.element.style.borderColor=i}},C.prototype.layout=function(){if(this.mirror){var t=this.cachedHeight;this.cachedHeight=a.y(this.mirror),t!==this.cachedHeight&&(this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedHeight))}},C.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.state=null,this.actionbar=null,v.prototype.dispose.call(this)},C);function C(t,e,i){var n=v.call(this)||this;n.state="idle",n._onDidChange=n._register(new h.a),n.onDidChange=n._onDidChange.event,n._onDidHeightChange=n._register(new h.a),n.contextViewProvider=e,n.options=i||Object.create(null),Object(d.g)(n.options,b,!1),n.message=null,n.cachedHeight=null,n.placeholder=n.options.placeholder||"",n.ariaLabel=n.options.ariaLabel||"",n.inputBackground=n.options.inputBackground,n.inputForeground=n.options.inputForeground,n.inputBorder=n.options.inputBorder,n.inputValidationInfoBorder=n.options.inputValidationInfoBorder,n.inputValidationInfoBackground=n.options.inputValidationInfoBackground,n.inputValidationInfoForeground=n.options.inputValidationInfoForeground,n.inputValidationWarningBorder=n.options.inputValidationWarningBorder,n.inputValidationWarningBackground=n.options.inputValidationWarningBackground,n.inputValidationWarningForeground=n.options.inputValidationWarningForeground,n.inputValidationErrorBorder=n.options.inputValidationErrorBorder,n.inputValidationErrorBackground=n.options.inputValidationErrorBackground,n.inputValidationErrorForeground=n.options.inputValidationErrorForeground,n.options.validationOptions&&(n.validation=n.options.validationOptions.validation),n.element=a.l(t,_(".monaco-inputbox.idle"));var o=n.options.flexibleHeight?"textarea":"input",r=a.l(n.element,_(".wrapper"));return n.input=a.l(r,_(o+".input")),n.input.setAttribute("autocorrect","off"),n.input.setAttribute("autocapitalize","off"),n.input.setAttribute("spellcheck","false"),n.onfocus(n.input,function(){return a.f(n.element,"synthetic-focus")}),n.onblur(n.input,function(){return a.G(n.element,"synthetic-focus")}),n.options.flexibleHeight?n.mirror=a.l(r,_("div.mirror")):(n.input.type=n.options.type||"text",n.input.setAttribute("wrap","off")),n.ariaLabel&&n.input.setAttribute("aria-label",n.ariaLabel),n.placeholder&&n.setPlaceHolder(n.placeholder),n.oninput(n.input,function(){return n.onValueChange()}),n.onblur(n.input,function(){return n.onBlur()}),n.onfocus(n.input,function(){return n.onFocus()}),n.placeholder&&s.k&&n.onclick(n.input,function(t){a.c.stop(t,!0),n.input.focus()}),setTimeout(function(){n.input&&n.updateMirror()},0),n.options.actions&&(n.actionbar=n._register(new u.a(n.element)),n.actionbar.push(n.options.actions,{icon:!0,label:!1})),n.applyStyles(),n}var S,x=(y(k,S=w),k.prototype.addToHistory=function(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)},k.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var t=this.getNextValue();(t=t&&(t===this.value?this.getNextValue():t))&&(this.value=t,r.c(this.value))},k.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var t=this.getPreviousValue();(t=t&&(t===this.value?this.getPreviousValue():t))&&(this.value=t,r.c(this.value))},k.prototype.getCurrentValue=function(){var t=this.history.current();return t||(t=this.history.last(),this.history.next()),t},k.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()},k.prototype.getNextValue=function(){return this.history.next()||this.history.last()},k);function k(t,e,i){var n=S.call(this,t,e,i)||this;return n.history=new f(i.history,100),n}},function(t,e,i){"use strict";i.d(e,"a",function(){return u}),i.d(e,"b",function(){return d});var n,o,f=i(22),h=i(1),r=i(17),s=i(5),a=i(4),g=i(14),c=i(8),m=i(90),v=i(20),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u={forceCopyWithSyntaxHighlighting:!1},d=(o=a.a,l(p,o),p.prototype.dispose=function(){o.prototype.dispose.call(this)},p.prototype.focusTextArea=function(){this._setHasFocus(!0)},p.prototype.isFocused=function(){return this._hasFocus},p.prototype._setHasFocus=function(t){this._hasFocus!==t&&(this._hasFocus=t,this._hasFocus&&(f.g?this._setAndWriteTextAreaState("focusgain",m.b.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},p.prototype._setAndWriteTextAreaState=function(t,e){this._hasFocus||(e=e.collapseSelection()),e.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=e},p.prototype.writeScreenReaderContent=function(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))},p.prototype._ensureClipboardGetsEditorSelection=function(t){var e=this._host.getPlainTextToCopy();if(y.canUseTextData(t)){var i=null;f.e()&&(e.length<65536||u.forceCopyWithSyntaxHighlighting)&&(i=this._host.getHTMLToCopy()),y.setTextData(t,e,i)}else this._setAndWriteTextAreaState("copy or cut",m.b.selectedText(e))},p);function p(t,e){var d=o.call(this)||this;d._onFocus=d._register(new s.a),d.onFocus=d._onFocus.event,d._onBlur=d._register(new s.a),d.onBlur=d._onBlur.event,d._onKeyDown=d._register(new s.a),d.onKeyDown=d._onKeyDown.event,d._onKeyUp=d._register(new s.a),d.onKeyUp=d._onKeyUp.event,d._onCut=d._register(new s.a),d.onCut=d._onCut.event,d._onPaste=d._register(new s.a),d.onPaste=d._onPaste.event,d._onType=d._register(new s.a),d.onType=d._onType.event,d._onCompositionStart=d._register(new s.a),d.onCompositionStart=d._onCompositionStart.event,d._onCompositionUpdate=d._register(new s.a),d.onCompositionUpdate=d._onCompositionUpdate.event,d._onCompositionEnd=d._register(new s.a),d.onCompositionEnd=d._onCompositionEnd.event,d._onSelectionChangeRequest=d._register(new s.a),d.onSelectionChangeRequest=d._onSelectionChangeRequest.event,d._host=t,d._textArea=d._register(new w(e)),d._lastTextAreaEvent=0,d._asyncTriggerCut=d._register(new r.d(function(){return d._onCut.fire()},0)),d._textAreaState=m.b.EMPTY,d.writeScreenReaderContent("ctor"),d._hasFocus=!1,d._isDoingComposition=!1,d._nextCommand=0,d._register(h.k(e.domNode,"keydown",function(t){!d._isDoingComposition||109!==t.keyCode&&1!==t.keyCode||t.stopPropagation(),t.equals(9)&&t.preventDefault(),d._onKeyDown.fire(t)})),d._register(h.k(e.domNode,"keyup",function(t){d._onKeyUp.fire(t)})),d._register(h.h(e.domNode,"compositionstart",function(t){d._lastTextAreaEvent=1,d._isDoingComposition||(d._isDoingComposition=!0,f.h||d._setAndWriteTextAreaState("compositionstart",m.b.EMPTY),d._onCompositionStart.fire())}));function a(t,e){var i=d._textAreaState,n=m.b.readFromTextArea(d._textArea);return[n,m.b.deduceInput(i,n,t,e)]}function l(t){var e=d._textAreaState,i=m.b.selectedText(t);return[i,{text:i.value,replaceCharCnt:e.selectionEnd-e.selectionStart}]}function u(t){return!(!f.h||"ja"!==t)||!(!f.k||0!==t.indexOf("zh-Han"))}d._register(h.h(e.domNode,"compositionupdate",function(t){if(d._lastTextAreaEvent=2,u(t.locale)){var e=a(!1,!1),i=e[0],n=e[1];return d._textAreaState=i,d._onType.fire(n),void d._onCompositionUpdate.fire(t)}var o=l(t.data),r=o[0],s=o[1];d._textAreaState=r,d._onType.fire(s),d._onCompositionUpdate.fire(t)})),d._register(h.h(e.domNode,"compositionend",function(t){if(d._lastTextAreaEvent=3,u(t.locale)){var e=a(!1,!1),i=e[0],n=e[1];d._textAreaState=i,d._onType.fire(n)}else{var o=l(t.data);i=o[0],n=o[1];d._textAreaState=i,d._onType.fire(n)}(f.h||f.f)&&(d._textAreaState=m.b.readFromTextArea(d._textArea)),d._isDoingComposition&&(d._isDoingComposition=!1,d._onCompositionEnd.fire())})),d._register(h.h(e.domNode,"input",function(){var t=8===d._lastTextAreaEvent;if(d._lastTextAreaEvent=4,d._textArea.setIgnoreSelectionChangeTime("received input event"),!d._isDoingComposition){var e=a(g.d,t&&g.d),i=e[0],n=e[1];0===n.replaceCharCnt&&1===n.text.length&&c.u(n.text.charCodeAt(0))||(d._textAreaState=i,0===d._nextCommand?""!==n.text&&d._onType.fire(n):(""!==n.text&&d._onPaste.fire({text:n.text}),d._nextCommand=0))}})),d._register(h.h(e.domNode,"cut",function(t){d._lastTextAreaEvent=5,d._textArea.setIgnoreSelectionChangeTime("received cut event"),d._ensureClipboardGetsEditorSelection(t),d._asyncTriggerCut.schedule()})),d._register(h.h(e.domNode,"copy",function(t){d._lastTextAreaEvent=6,d._ensureClipboardGetsEditorSelection(t)})),d._register(h.h(e.domNode,"paste",function(t){if(d._lastTextAreaEvent=7,d._textArea.setIgnoreSelectionChangeTime("received paste event"),y.canUseTextData(t)){var e=y.getTextData(t);""!==e&&d._onPaste.fire({text:e})}else d._textArea.getSelectionStart()!==d._textArea.getSelectionEnd()&&d._setAndWriteTextAreaState("paste",m.b.EMPTY),d._nextCommand=1})),d._register(h.h(e.domNode,"focus",function(){d._lastTextAreaEvent=8,d._setHasFocus(!0)})),d._register(h.h(e.domNode,"blur",function(){d._lastTextAreaEvent=9,d._setHasFocus(!1)}));var p=0;return d._register(h.h(document,"selectionchange",function(t){if(d._hasFocus&&!d._isDoingComposition&&f.f&&g.g){var e=Date.now(),i=e-p;if(p=e,!(i<5)){var n=e-d._textArea.getIgnoreSelectionChangeTime();if(d._textArea.resetSelectionChangeTime(),!(n<100)&&d._textAreaState.selectionStartPosition&&d._textAreaState.selectionEndPosition){var o=d._textArea.getValue();if(d._textAreaState.value===o){var r=d._textArea.getSelectionStart(),s=d._textArea.getSelectionEnd();if(d._textAreaState.selectionStart!==r||d._textAreaState.selectionEnd!==s){var a=d._textAreaState.deduceEditorPosition(r),l=d._host.deduceModelPosition(a[0],a[1],a[2]),u=d._textAreaState.deduceEditorPosition(s),h=d._host.deduceModelPosition(u[0],u[1],u[2]),c=new v.a(l.lineNumber,l.column,h.lineNumber,h.column);d._onSelectionChangeRequest.fire(c)}}}}}})),d}var y=(_.canUseTextData=function(t){return!!t.clipboardData||!!window.clipboardData},_.getTextData=function(t){if(t.clipboardData)return t.preventDefault(),t.clipboardData.getData("text/plain");if(window.clipboardData)return t.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},_.setTextData=function(t,e,i){if(t.clipboardData)return t.clipboardData.setData("text/plain",e),null!==i&&t.clipboardData.setData("text/html",i),void t.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",e),void t.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},_);function _(){}var b,w=(b=a.a,l(C,b),C.prototype.setIgnoreSelectionChangeTime=function(t){this._ignoreSelectionChangeTime=Date.now()},C.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},C.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},C.prototype.getValue=function(){return this._actual.domNode.value},C.prototype.setValue=function(t,e){var i=this._actual.domNode;i.value!==e&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=e)},C.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},C.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},C.prototype.setSelectionRange=function(t,e,i){var n=this._actual.domNode,o=document.activeElement===n,r=n.selectionStart,s=n.selectionEnd;if(o&&r===e&&s===i)f.j&&window.parent!==window&&n.focus();else{if(o)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(e,i),void(f.j&&window.parent!==window&&n.focus());try{var a=h.M(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(e,i),h.K(n,a)}catch(t){}}},C);function C(t){var e=b.call(this)||this;return e._actual=t,e._ignoreSelectionChangeTime=0,e}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("label")},function(t,e,i){"use strict";i.d(e,"a",function(){return u}),i.d(e,"b",function(){return h}),i.d(e,"c",function(){return c});var r=i(21),n=i(29),s=i(13),o=i(3),a=i(11);function l(e,i,t,n){var o=t.ordered(e).map(function(t){return Promise.resolve(n(t,e,i)).then(void 0,function(t){return Object(s.f)(t),null})});return Promise.all(o).then(r.i).then(r.c)}function u(t,e,n){return l(t,e,a.e,function(t,e,i){return t.provideDefinition(e,i,n)})}function h(t,e,n){return l(t,e,a.n,function(t,e,i){return t.provideImplementation(e,i,n)})}function c(t,e,n){return l(t,e,a.x,function(t,e,i){return t.provideTypeDefinition(e,i,n)})}Object(o.e)("_executeDefinitionProvider",function(t,e){return u(t,e,n.a.None)}),Object(o.e)("_executeImplementationProvider",function(t,e){return h(t,e,n.a.None)}),Object(o.e)("_executeTypeDefinitionProvider",function(t,e){return c(t,e,n.a.None)})},function(t,e,i){"use strict";i.d(e,"a",function(){return O}),i.d(e,"b",function(){return E});var n,p=i(2),f=i(88),g=i(107),m=i(32),o=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=(Object.defineProperty(s.prototype,"range",{get:function(){return new p.a(this.start.lineNumber,this.start.column,this.end.lineNumber,this.end.column)},enumerable:!0,configurable:!0}),s);function s(){}var a,l=(o(u,a=r),Object.defineProperty(u.prototype,"hasChildren",{get:function(){return this.children&&0<this.children.length},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isEmpty",{get:function(){return!this.hasChildren&&!this.parent},enumerable:!0,configurable:!0}),u.prototype.append=function(t){return!!t&&((t.parent=this).children||(this.children=[]),t instanceof u?t.children&&this.children.push.apply(this.children,t.children):this.children.push(t),!0)},u);function u(){return null!==a&&a.apply(this,arguments)||this}var h,c=(o(d,h=r),d);function d(){var t=h.call(this)||this;return t.elements=new l,t.elements.parent=t}var v=function(t,e,i){this.range=t,this.bracket=e,this.bracketType=i};function y(t){var e=new r;return e.start=t.range.getStartPosition(),e.end=t.range.getEndPosition(),e}var _=function(t,e,i){this.lineNumber=i,this.lineText=t.getLineContent(),this.startOffset=t.getStartOffset(e),this.endOffset=t.getEndOffset(e),this.type=t.getStandardTokenType(e),this.languageId=t.getLanguageId(e)},b=(w.prototype._advance=function(){for(this._lineTokens&&(this._tokenIndex++,this._tokenIndex>=this._lineTokens.getCount()&&(this._lineTokens=null));this._lineNumber<this._lineCount&&!this._lineTokens;)this._lineNumber++,this._model.forceTokenization(this._lineNumber),this._lineTokens=this._model.getLineTokens(this._lineNumber),(this._tokenIndex=0)===this._lineTokens.getLineContent().length&&(this._lineTokens=null)},w.prototype.next=function(){if(!this._lineTokens)return null;if(this._model.getVersionId()!==this._versionId)return null;var t=new _(this._lineTokens,this._tokenIndex,this._lineNumber);return this._advance(),t},w);function w(t){this._model=t,this._lineCount=this._model.getLineCount(),this._versionId=this._model.getVersionId(),this._lineNumber=0,this._tokenIndex=0,this._lineTokens=null,this._advance()}var C=(S.prototype.next=function(){if(0<this._nextBuff.length)return this._nextBuff.shift();var t=this._rawTokenScanner.next();if(!t)return null;var e=t.lineNumber,i=t.lineText,n=t.type,o=t.startOffset,r=t.endOffset;this._cachedLanguageId!==t.languageId&&(this._cachedLanguageId=t.languageId,this._cachedLanguageBrackets=m.a.getBracketsSupport(this._cachedLanguageId));var s,a=this._cachedLanguageBrackets;if(!a||Object(f.b)(n))return new v(new p.a(e,o+1,e,r+1),0,null);do{if(s=g.a.findNextBracketInToken(a.forwardRegex,e,i,o,r)){var l=s.startColumn-1,u=s.endColumn-1;o<l&&this._nextBuff.push(new v(new p.a(e,o+1,e,1+l),0,null));var h=i.substring(l,u);h=h.toLowerCase();var c=a.textIsBracket[h],d=a.textIsOpenBracket[h];this._nextBuff.push(new v(new p.a(e,1+l,e,1+u),d?1:-1,c.languageIdentifier.language+";"+c.open+";"+c.close)),o=u}}while(s);return o<r&&this._nextBuff.push(new v(new p.a(e,o+1,e,r+1),0,null)),this._nextBuff.shift()||null},S);function S(t){this._rawTokenScanner=new b(t),this._nextBuff=[],this._cachedLanguageBrackets=null,this._cachedLanguageId=-1}var x=(k.prototype.build=function(){for(var t=new l;t.append(this._line()||this._any()););return t},k.prototype._accept=function(t){var e=this._stack.pop()||this._scanner.next();if(!e)return!1;var i=t(e);return i?this._currentToken=e:this._stack.push(e),i},k.prototype._peek=function(e){var i=!1;return this._accept(function(t){return i=e(t),!1}),i},k.prototype._line=function(){var e,t=new l;for(this._peek(function(t){return e=t.range.startLineNumber,!1});this._peek(function(t){return t.range.startLineNumber===e})&&t.append(this._token()||this._block()););return t.children&&0!==t.children.length?1===t.children.length?t.children[0]:t:null},k.prototype._token=function(){return this._accept(function(t){return 0===t.bracket})?y(this._currentToken):null},k.prototype._block=function(){var e;if(!this._accept(function(t){return e=t.bracketType,1===t.bracket}))return null;var t=new c;for(t.open=y(this._currentToken);t.elements.append(this._line()););if(this._accept(function(t){return-1===t.bracket&&t.bracketType===e}))return t.close=y(this._currentToken),t;var i=new l;return i.append(t.open),i.append(t.elements),i},k.prototype._any=function(){return this._accept(function(t){return!0})?y(this._currentToken):null},k);function k(t){this._stack=[],this._scanner=new C(t)}function O(t){return new x(t).build()}function E(t,e){if(t instanceof l&&t.isEmpty)return null;if(!p.a.containsPosition(t.range,e))return null;var i=null;if(t instanceof l){if(t.hasChildren)for(var n=0,o=t.children.length;n<o&&!i;n++)i=E(t.children[n],e)}else t instanceof c&&(i=E(t.elements,e)||E(t.open,e)||E(t.close,e));return i||t}},function(t,e,i){"use strict";var n=i(58),o=i(43);function r(){this.yesHandler=null,this.noHandler=null,this.prefixMessage="";var t=o("#yes-no");t.find("button.yes").click(n.bind(function(){this.yesHandler&&this.yesHandler()},this)),t.find("button.no").click(n.bind(function(){this.noHandler&&this.noHandler()},this))}r.prototype.alert=function(t,e,i){var n=o("#alert");n.find(".modal-title").html(t),n.find(".modal-body").html(e),n.modal(),i&&(n.off("hidden.bs.modal"),n.on("hidden.bs.modal",i))},r.prototype.ask=function(t,e,i){var n=o("#yes-no");return this.yesHandler=i?i.yes:function(){},this.noHandler=i?i.no:function(){},n.find(".modal-title").html(t),n.find(".modal-body").html(e),i.yesHtml&&n.find(".modal-footer .yes").html(i.yesHtml),i.yesClass&&n.find(".modal-footer .yes").addClass(i.yesClass),i.noHtml&&n.find(".modal-footer .no").html(i.noHtml),i.noClass&&n.find(".modal-footer .no").addClass(i.noClass),i.onClose&&(n.off("hidden.bs.modal"),n.on("hidden.bs.modal",i.onClose)),n.modal()},r.prototype.notify=function(t,e){var i=o("#notifications");if(i){var n=o('<div class="alert notification" tabindex="-1" role="dialog"><button type="button" class="close" style="float: left;margin-right: 5px;" data-dismiss="alert">&times;</button><span id="msg">'+this.prefixMessage+t+"</span></div>");(e=e||{}).collapseSimilar=!("collapseSimilar"in e)||e.collapseSimilar,e.autoDismiss=!("autoDismiss"in e)||e.autoDismiss,e.dismissTime=e.dismissTime?Math.max(1e3,e.dismissTime):5e3,e.group&&(e.collapseSimilar&&i.find('[data-group="'+e.group+'"]').remove(),n.attr("data-group",e.group)),e.alertClass&&n.addClass(e.alertClass),e.autoDismiss&&setTimeout(function(){n.fadeOut("slow",function(){n.remove()})},e.dismissTime),i.append(n)}},t.exports=r},function(t,e,i){"use strict";var n=i(102).localStoragePrefix||"";t.exports={set:function(t,e){try{return window.localStorage.setItem(n+t,e),!0}catch(t){}return!1},get:function(t,e){var i;try{i=window.localStorage.getItem(n+t)}catch(t){return e}return null===i?e:i},remove:function(t){try{window.localStorage.removeItem(n+t)}catch(t){}}}},function(t,e,i){"use strict";var n=i(59);var o={defaultToken:"invalid",escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,registers:/%?\b(r[0-9]+[dbw]?|([er]?([abcd][xhl]|cs|fs|ds|ss|sp|bp|ip|sil?|dil?))|[xyz]mm[0-9]+|sp|fp|lr)\b/,intelOperators:/PTR|(D|Q|[XYZ]MM)?WORD/,tokenizer:{root:[[/^<.*>$/,{token:"annotation"}],[/^[.a-zA-Z0-9_$?@].*:/,{token:"type.identifier"}],[/^\s*[|][^|]*[|]/,{token:"type.identifier"}],[/^\s*[.a-zA-Z0-9_$|]*\s*(PROC|ENDP|DB|DD)/,{token:"type.identifier"}],[/^[.a-zA-Z0-9_$?@][^=]*=/,{token:"type.identifier"}],[/[.a-zA-Z_][.a-zA-Z_0-9]*/,{token:"keyword",next:"@rest"}],[/[(){}]/,{token:"operator",next:"@rest"}],{include:"@whitespace"}],rest:[[/^.*$/,{token:"@rematch",next:"@pop"}],[/@registers/,"variable.predefined"],[/@intelOperators/,"annotation"],[/[{}<>()[\]]/,"@brackets"],[/[|][^|]*[|]*/,"type.identifier"],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/([$]|0[xX])[0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/#-?\d+/,"number"],[/[-+,*/!:&{}()]/,"operator"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"],[/%?[.?_$a-zA-Z@][.?_$a-zA-Z0-9@]*/,"type.identifier"],{include:"@whitespace"}],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/[#;\\@].*$/,"comment"]]}};n.languages.register({id:"asm"}),n.languages.setMonarchTokensProvider("asm",o),t.exports=o},function(t,e,i){"use strict";i.r(e);var n={};i.r(n),i.d(n,"FunctionToString",function(){return Pt}),i.d(n,"InboundFilters",function(){return jt});var o={};i.r(o),i.d(o,"GlobalHandlers",function(){return ie}),i.d(o,"TryCatch",function(){return Yt}),i.d(o,"Breadcrumbs",function(){return Qt}),i.d(o,"LinkedErrors",function(){return oe}),i.d(o,"UserAgent",function(){return ae});var r={};i.r(r),i.d(r,"BaseTransport",function(){return yt}),i.d(r,"FetchTransport",function(){return Ct}),i.d(r,"XHRTransport",function(){return kt});var h,s,a,l,u,c,p=i(25);(s=h=h||{}).Fatal="fatal",s.Error="error",s.Warning="warning",s.Log="log",s.Info="info",s.Debug="debug",s.Critical="critical",(a=h=h||{}).fromString=function(t){switch(t){case"debug":return a.Debug;case"info":return a.Info;case"warn":case"warning":return a.Warning;case"error":return a.Error;case"fatal":return a.Fatal;case"critical":return a.Critical;case"log":default:return a.Log}},(u=l=l||{}).Unknown="unknown",u.Skipped="skipped",u.Success="success",u.RateLimit="rate_limit",u.Invalid="invalid",u.Failed="failed",(c=l=l||{}).fromHttpCode=function(t){return 200<=t&&t<300?c.Success:429===t?c.RateLimit:400<=t&&t<500?c.Invalid:500<=t?c.Failed:c.Unknown};var d=i(187),f=i(405);function g(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=Object(f.b)();if(n&&n[t])return n[t].apply(n,p.d(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function m(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return g("captureException",t,{originalException:t,syntheticException:e})}function v(t,e){var i;try{throw new Error(t)}catch(t){i=t}return g("captureMessage",t,e,{originalException:t,syntheticException:i})}function y(t){return g("captureEvent",t)}function _(t){g("configureScope",t)}function b(t){g("addBreadcrumb",t)}function w(t,e){g("setContext",t,e)}function C(t){g("setExtras",t)}function S(t){g("setTags",t)}function x(t,e){g("setExtra",t,e)}function k(t,e){g("setTag",t,e)}function O(t){g("setUser",t)}function E(t){g("withScope",t)}var L=i(245),D=i(119),I=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i]);return t});var N,T=(N=Error,p.b(M,N),M);function M(t){var e=this.constructor,i=N.call(this,t)||this;return i.message=t,i.name=e.prototype.constructor.name,I(i,e.prototype),i}var A=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,P="Invalid Dsn",R=(F.prototype.toString=function(t){void 0===t&&(t=!1);var e=this.host,i=this.path,n=this.pass,o=this.port,r=this.projectId;return this.protocol+"://"+this.user+(t&&n?":"+n:"")+"@"+e+(o?":"+o:"")+"/"+(i?i+"/":i)+r},F.prototype._fromString=function(t){var e=A.exec(t);if(!e)throw new T(P);var i=p.c(e.slice(1),6),n=i[0],o=i[1],r=i[2],s=void 0===r?"":r,a=i[3],l=i[4],u=void 0===l?"":l,h="",c=i[5],d=c.split("/");1<d.length&&(h=d.slice(0,-1).join("/"),c=d.pop()),this._fromComponents({host:a,pass:s,path:h,projectId:c,port:u,protocol:n,user:o})},F.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},F.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach(function(t){if(!e[t])throw new T(P)}),"http"!==this.protocol&&"https"!==this.protocol)throw new T(P);if(this.port&&isNaN(parseInt(this.port,10)))throw new T(P)},F);function F(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}var j=(B.prototype.getDsn=function(){return this._dsnObject},B.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},B.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(D.e)(t)},B.prototype._getBaseUrl=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",i=t.port?":"+t.port:"";return e+"//"+t.host+i},B.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},B.prototype.getRequestHeaders=function(t,e){var i=this._dsnObject,n=["Sentry sentry_version=7"];return n.push("sentry_timestamp="+(new Date).getTime()),n.push("sentry_client="+t+"/"+e),n.push("sentry_key="+i.user),i.pass&&n.push("sentry_secret="+i.pass),{"Content-Type":"application/json","X-Sentry-Auth":n.join(", ")}},B.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,i=this._getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",n=[];for(var o in n.push("dsn="+e.toString()),t)if("user"===o){if(!t.user)continue;t.user.name&&n.push("name="+encodeURIComponent(t.user.name)),t.user.email&&n.push("email="+encodeURIComponent(t.user.email))}else n.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return n.length?i+"?"+n.join("&"):i},B);function B(t){this.dsn=t,this._dsnObject=new R(t)}var H=i(232),W=i(84),V=i(174),z=i(231),U=i(66),q=[];function K(t){var e={};return function(t){var e=t.defaultIntegrations&&p.d(t.defaultIntegrations)||[],i=t.integrations,n=[];if(Array.isArray(i)){var o=i.map(function(t){return t.name}),r=[];e.forEach(function(t){-1===o.indexOf(t.name)&&-1===r.indexOf(t.name)&&(n.push(t),r.push(t.name))}),i.forEach(function(t){-1===r.indexOf(t.name)&&(n.push(t),r.push(t.name))})}else{if("function"!=typeof i)return p.d(e);n=i(e),n=Array.isArray(n)?n:[n]}return n}(t).forEach(function(t){!function(t){-1===q.indexOf(t.name)&&(t.setupOnce(d.b,f.b),q.push(t.name),H.a.log("Integration installed: "+t.name))}(e[t.name]=t)}),e}var G=(Y.prototype.captureException=function(t,e,i){var n=this,o=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then(function(t){return n._processEvent(t,e,i)}).then(function(t){o=t&&t.event_id,n._processing=!1}).then(null,function(t){H.a.error(t),n._processing=!1}),o},Y.prototype.captureMessage=function(t,e,i,n){var o=this,r=i&&i.event_id;return this._processing=!0,(Object(W.h)(t)?this._getBackend().eventFromMessage(""+t,e,i):this._getBackend().eventFromException(t,i)).then(function(t){return o._processEvent(t,i,n)}).then(function(t){r=t&&t.event_id,o._processing=!1}).then(null,function(t){H.a.error(t),o._processing=!1}),r},Y.prototype.captureEvent=function(t,e,i){var n=this,o=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,i).then(function(t){o=t&&t.event_id,n._processing=!1}).then(null,function(t){H.a.error(t),n._processing=!1}),o},Y.prototype.getDsn=function(){return this._dsn},Y.prototype.getOptions=function(){return this._options},Y.prototype.flush=function(t){var i=this;return this._isClientProcessing(t).then(function(e){return clearInterval(e.interval),i._getBackend().getTransport().close(t).then(function(t){return e.ready&&t})})},Y.prototype.close=function(t){var e=this;return this.flush(t).then(function(t){return e.getOptions().enabled=!1,t})},Y.prototype.getIntegrations=function(){return this._integrations||{}},Y.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return H.a.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},Y.prototype._isClientProcessing=function(n){var o=this;return new V.a(function(t){var e=0,i=0;clearInterval(i),i=setInterval(function(){o._processing?(e+=1,n&&n<=e&&t({interval:i,ready:!1})):t({interval:i,ready:!0})},1)})},Y.prototype._getBackend=function(){return this._backend},Y.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},Y.prototype._prepareEvent=function(t,e,i){var n=this.getOptions(),o=n.environment,r=n.release,s=n.dist,a=n.maxValueLength,l=void 0===a?250:a,u=p.a({},t);void 0===u.environment&&void 0!==o&&(u.environment=o),void 0===u.release&&void 0!==r&&(u.release=r),void 0===u.dist&&void 0!==s&&(u.dist=s),u.message&&(u.message=Object(z.c)(u.message,l));var h=u.exception&&u.exception.values&&u.exception.values[0];h&&h.value&&(h.value=Object(z.c)(h.value,l));var c=u.request;c&&c.url&&(c.url=Object(z.c)(c.url,l)),void 0===u.event_id&&(u.event_id=Object(U.k)()),this._addIntegrations(u.sdk);var d=V.a.resolve(u);return e&&(d=e.applyToEvent(u,i)),d},Y.prototype._addIntegrations=function(t){var e=Object.keys(this._integrations);t&&0<e.length&&(t.integrations=e)},Y.prototype._processEvent=function(t,r,e){var s=this,i=this.getOptions(),a=i.beforeSend,n=i.sampleRate;return this._isEnabled()?"number"==typeof n&&Math.random()>n?V.a.reject("This event has been sampled, will not send event."):new V.a(function(n,o){s._prepareEvent(t,e,r).then(function(t){if(null!==t){var e=t;try{if(r&&r.data&&!0===r.data.__sentry__||!a)return s._getBackend().sendEvent(e),void n(e);var i=a(t,r);if(void 0===i)H.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(W.l)(i))s._handleAsyncBeforeSend(i,n,o);else{if(null===(e=i))return H.a.log("`beforeSend` returned `null`, will not send event."),void n(null);s._getBackend().sendEvent(e),n(e)}}catch(t){s.captureException(t,{data:{__sentry__:!0},originalException:t}),o("`beforeSend` threw an error, will not send event.")}}else o("An event processor returned null, will not send event.")}).then(null,function(){o("`beforeSend` threw an error, will not send event.")})}):V.a.reject("SDK not enabled, will not send event.")},Y.prototype._handleAsyncBeforeSend=function(t,e,i){var n=this;t.then(function(t){null!==t?(n._getBackend().sendEvent(t),e(t)):i("`beforeSend` returned `null`, will not send event.")}).then(null,function(t){i("beforeSend rejected with "+t)})},Y);function Y(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),(this._options=e).dsn&&(this._dsn=new R(e.dsn)),this._isEnabled()&&(this._integrations=K(this._options))}var $=(Z.prototype.sendEvent=function(t){return V.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:l.Skipped})},Z.prototype.close=function(t){return V.a.resolve(!0)},Z);function Z(){}var X=(J.prototype._setupTransport=function(){return new $},J.prototype.eventFromException=function(t,e){throw new T("Backend has to implement `eventFromException` method")},J.prototype.eventFromMessage=function(t,e,i){throw new T("Backend has to implement `eventFromMessage` method")},J.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(t){H.a.error("Error while sending event: "+t)})},J.prototype.getTransport=function(){return this._transport},J);function J(t){this._options=t,this._options.dsn||H.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}function Q(){if(!("fetch"in Object(U.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function tt(){if(!Q())return!1;function t(t){return-1!==t.toString().indexOf("native")}var e=Object(U.f)(),i=null,n=e.document;if(n){var o=n.createElement("iframe");o.hidden=!0;try{n.head.appendChild(o),o.contentWindow&&o.contentWindow.fetch&&(i=t(o.contentWindow.fetch)),n.head.removeChild(o)}catch(t){H.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}}return null===i&&(i=t(e.fetch)),i}var et="?",it=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,ot=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,rt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,st=/\((\S*)(?::(\d+))(?::(\d+))\)/;function at(t){var e=null,i=t&&t.framesToPop;try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,i=t.stacktrace,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,r=i.split("\n"),s=[],a=0;a<r.length;a+=2){var l=null;(e=n.exec(r[a]))?l={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=o.exec(r[a]))&&(l={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),l&&(!l.func&&l.line&&(l.func=et),s.push(l))}return s.length?{message:ut(t),name:t.name,stack:s}:null}(t))return lt(e,i)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,i,n,o=[],r=t.stack.split("\n"),s=0;s<r.length;++s){if(i=it.exec(r[s])){var a=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(e=st.exec(i[2]))&&(i[2]=e[1],i[3]=e[2],i[4]=e[3]),n={url:i[2],func:i[1]||et,args:a?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=ot.exec(r[s]))n={url:i[2],func:i[1]||et,args:[],line:+i[3],column:i[4]?+i[4]:null};else{if(!(i=nt.exec(r[s])))continue;i[3]&&-1<i[3].indexOf(" > eval")&&(e=rt.exec(i[3]))?(i[1]=i[1]||"eval",i[3]=e[1],i[4]=e[2],i[5]=""):0!==s||i[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),n={url:i[3],func:i[1]||et,args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null}}!n.func&&n.line&&(n.func=et),o.push(n)}return o.length?{message:ut(t),name:t.name,stack:o}:null}(t))return lt(e,i)}catch(t){}return{message:ut(t),name:t&&t.name,stack:[],failed:!0}}function lt(e,t){try{return p.a({},e,{stack:e.stack.slice(t)})}catch(t){return e}}function ut(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}var ht=50;function ct(t){var e=pt(t.stack),i={type:t.name,value:t.message};return e&&e.length&&(i.stacktrace={frames:e}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function dt(t){return{exception:{values:[ct(t)]}}}function pt(t){if(!t||!t.length)return[];var e=t,i=e[0].func||"",n=e[e.length-1].func||"";return-1===i.indexOf("captureMessage")&&-1===i.indexOf("captureException")||(e=e.slice(1)),-1!==n.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).slice(0,ht).reverse()}function ft(t,e,i){var n;if(void 0===i&&(i={}),Object(W.e)(t)&&t.error)return n=dt(at(t=t.error));if(Object(W.a)(t)||Object(W.b)(t)){var o=t,r=o.name||(Object(W.a)(o)?"DOMError":"DOMException"),s=o.message?r+": "+o.message:r;return n=gt(s,e,i),Object(U.b)(n,s),n}return Object(W.d)(t)?n=dt(at(t)):(Object(W.g)(t)||Object(W.f)(t)?n=function(t,e,i){var n={exception:{values:[{type:Object(W.f)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:"Non-Error "+(i?"promise rejection":"exception")+" captured with keys: "+Object(D.a)(t)}]},extra:{__serialized__:Object(D.d)(t)}};if(e){var o=pt(at(e).stack);n.stacktrace={frames:o}}return n}(t,e,i.rejection):(n=gt(t,e,i),Object(U.b)(n,""+t,void 0)),Object(U.a)(n,{synthetic:!0}),n)}function gt(t,e,i){void 0===i&&(i={});var n={message:t};if(i.attachStacktrace&&e){var o=pt(at(e).stack);n.stacktrace={frames:o}}return n}var mt=(vt.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},vt.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then(function(){return e.remove(t)}).then(null,function(){return e.remove(t).then(null,function(){})}),t):V.a.reject(new T("Not adding Promise due to buffer limit reached."))},vt.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},vt.prototype.length=function(){return this._buffer.length},vt.prototype.drain=function(i){var n=this;return new V.a(function(t){var e=setTimeout(function(){i&&0<i&&t(!1)},i);V.a.all(n._buffer).then(function(){clearTimeout(e),t(!0)}).then(null,function(){t(!0)})})},vt);function vt(t){this._limit=t,this._buffer=[]}var yt=(_t.prototype.sendEvent=function(t){throw new T("Transport Class has to implement `sendEvent` method")},_t.prototype.close=function(t){return this._buffer.drain(t)},_t);function _t(t){this.options=t,this._buffer=new mt(30),this.url=new j(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}var bt,wt=Object(U.f)(),Ct=(bt=yt,p.b(St,bt),St.prototype.sendEvent=function(t){var e={body:JSON.stringify(t),method:"POST",referrerPolicy:function(){if(!Q())return 0;try{return new Request("_",{referrerPolicy:"origin"}),1}catch(t){return 0}}()?"origin":""};return this._buffer.add(wt.fetch(this.url,e).then(function(t){return{status:l.fromHttpCode(t.status)}}))},St);function St(){return null!==bt&&bt.apply(this,arguments)||this}var xt,kt=(xt=yt,p.b(Ot,xt),Ot.prototype.sendEvent=function(n){var o=this;return this._buffer.add(new V.a(function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200===i.status&&t({status:l.fromHttpCode(i.status)}),e(i))},i.open("POST",o.url),i.send(JSON.stringify(n))}))},Ot);function Ot(){return null!==xt&&xt.apply(this,arguments)||this}var Et,Lt=(Et=X,p.b(Dt,Et),Dt.prototype._setupTransport=function(){if(!this._options.dsn)return Et.prototype._setupTransport.call(this);var t=p.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):Q()?new Ct(t):new kt(t)},Dt.prototype.eventFromException=function(t,e){var i=ft(t,e&&e.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(U.a)(i,{handled:!0,type:"generic"}),i.level=h.Error,e&&e.event_id&&(i.event_id=e.event_id),V.a.resolve(i)},Dt.prototype.eventFromMessage=function(t,e,i){void 0===e&&(e=h.Info);var n=gt(t,i&&i.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return n.level=e,i&&i.event_id&&(n.event_id=i.event_id),V.a.resolve(n)},Dt);function Dt(){return null!==Et&&Et.apply(this,arguments)||this}var It,Nt,Tt="sentry.javascript.browser",Mt=(It=G,p.b(At,It),At.prototype._prepareEvent=function(t,e,i){return t.platform=t.platform||"javascript",t.sdk=p.a({},t.sdk,{name:Tt,packages:p.d(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.7.1"}]),version:"5.7.1"}),It.prototype._prepareEvent.call(this,t,e,i)},At.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=Object(U.f)().document;if(e)if(this._isEnabled()){var i=t.dsn||this.getDsn();if(t.eventId)if(i){var n=e.createElement("script");n.async=!0,n.src=new j(i).getReportDialogEndpoint(t),t.onLoad&&(n.onload=t.onLoad),(e.head||e.body).appendChild(n)}else H.a.error("Missing `Dsn` option in showReportDialog call");else H.a.error("Missing `eventId` option in showReportDialog call")}else H.a.error("Trying to call showReportDialog with Sentry Client is disabled")},At);function At(t){return void 0===t&&(t={}),It.call(this,Lt,t)||this}var Pt=(Rt.prototype.setupOnce=function(){Nt=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.__sentry__?this.__sentry_original__:this;return Nt.apply(i,t)}},Rt.id="FunctionToString",Rt);function Rt(){this.name=Rt.id}var Ft=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],jt=(Bt.prototype.setupOnce=function(){Object(d.b)(function(t){var e=Object(f.b)();if(!e)return t;var i=e.getIntegration(Bt);if(i){var n=e.getClient(),o=n?n.getOptions():{},r=i._mergeOptions(o);if(i._shouldDropEvent(t,r))return null}return t})},Bt.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(H.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(U.e)(t)),!0):this._isIgnoredError(t,e)?(H.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(U.e)(t)),!0):this._isBlacklistedUrl(t,e)?(H.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(U.e)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isWhitelistedUrl(t,e)&&(H.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(U.e)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},Bt.prototype._isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return"SentryError"===t.exception.values[0].type}catch(t){return!1}},Bt.prototype._isIgnoredError=function(t,i){return void 0===i&&(i={}),!(!i.ignoreErrors||!i.ignoreErrors.length)&&this._getPossibleEventMessages(t).some(function(e){return i.ignoreErrors.some(function(t){return Object(z.a)(e,t)})})},Bt.prototype._isBlacklistedUrl=function(t,e){if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var i=this._getEventFilterUrl(t);return!!i&&e.blacklistUrls.some(function(t){return Object(z.a)(i,t)})},Bt.prototype._isWhitelistedUrl=function(t,e){if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var i=this._getEventFilterUrl(t);return!i||e.whitelistUrls.some(function(t){return Object(z.a)(i,t)})},Bt.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:p.d(this._options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:p.d(this._options.ignoreErrors||[],t.ignoreErrors||[],Ft),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:p.d(this._options.whitelistUrls||[],t.whitelistUrls||[])}},Bt.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values[0],i=t.type,n=t.value;return[""+n,i+": "+n]}catch(t){return H.a.error("Cannot extract message for event "+Object(U.e)(e)),[]}return[]},Bt.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t[t.length-1].filename}if(e.exception){var i=e.exception.values[0].stacktrace.frames;return i[i.length-1].filename}return null}catch(t){return H.a.error("Cannot extract url for event "+Object(U.e)(e)),null}},Bt.id="InboundFilters",Bt);function Bt(t){void 0===t&&(t={}),this._options=t,this.name=Bt.id}var Ht,Wt,Vt=0;function zt(){return 0<Vt}function Ut(e,n,o){if(void 0===n&&(n={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}function t(){o&&"function"==typeof o&&o.apply(this,arguments);var i=Array.prototype.slice.call(arguments);try{var t=i.map(function(t){return Ut(t,n)});return e.handleEvent?e.handleEvent.apply(this,t):e.apply(this,t)}catch(e){throw Vt+=1,setTimeout(function(){Vt-=1}),E(function(t){t.addEventProcessor(function(t){var e=p.a({},t);return n.mechanism&&(Object(U.b)(e,void 0,void 0),Object(U.a)(e,n.mechanism)),e.extra=p.a({},e.extra,{arguments:Object(D.c)(i,3)}),e}),m(e)}),e}}try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}catch(t){}e.prototype=e.prototype||{},t.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:t}),Object.defineProperties(t,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(t,"name").configurable&&Object.defineProperty(t,"name",{get:function(){return e.name}})}catch(t){}return t}var qt=0;function Kt(i,n){return void 0===n&&(n=!1),function(t){if(Ht=void 0,t&&Wt!==t){Wt=t;var e=function(){var e;try{e=t.target?Object(U.h)(t.target):Object(U.h)(t)}catch(t){e="<unknown>"}0!==e.length&&Object(f.b)().addBreadcrumb({category:"ui."+i,message:e},{event:t,name:i})};qt&&clearTimeout(qt),n?qt=setTimeout(e):e()}}}function Gt(){return function(t){var e;try{e=t.target}catch(t){return}var i=e&&e.tagName;i&&("INPUT"===i||"TEXTAREA"===i||e.isContentEditable)&&(Ht||Kt("input")(t),clearTimeout(Ht),Ht=setTimeout(function(){Ht=void 0},1e3))}}var Yt=($t.prototype._wrapTimeFunction=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0];return t[0]=Ut(i,{mechanism:{data:{function:Zt(n)},handled:!0,type:"instrument"}}),n.apply(this,t)}},$t.prototype._wrapRAF=function(e){return function(t){return e(Ut(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Zt(e)},handled:!0,type:"instrument"}}))}},$t.prototype._wrapEventTarget=function(o){var t=Object(U.f)(),e=t[o]&&t[o].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(D.b)(e,"addEventListener",function(n){return function(t,e,i){try{"function"==typeof e.handleEvent&&(e.handleEvent=Ut(e.handleEvent.bind(e),{mechanism:{data:{function:"handleEvent",handler:Zt(e),target:o},handled:!0,type:"instrument"}}))}catch(t){}return n.call(this,t,Ut(e,{mechanism:{data:{function:"addEventListener",handler:Zt(e),target:o},handled:!0,type:"instrument"}}),i)}}),Object(D.b)(e,"removeEventListener",function(o){return function(t,e,i){var n=e;try{n=n&&(n.__sentry_wrapped__||n)}catch(t){}return o.call(this,t,n,i)}}))},$t.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var t=Object(U.f)();Object(D.b)(t,"setTimeout",this._wrapTimeFunction.bind(this)),Object(D.b)(t,"setInterval",this._wrapTimeFunction.bind(this)),Object(D.b)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},$t.id="TryCatch",$t);function $t(){this._ignoreOnError=0,this.name=$t.id}function Zt(t){try{return t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}var Xt,Jt=Object(U.f)(),Qt=(te.prototype._instrumentConsole=function(){"console"in Jt&&["debug","info","warn","error","log","assert"].forEach(function(o){o in Jt.console&&Object(D.b)(Jt.console,o,function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i={category:"console",data:{extra:{arguments:Object(D.c)(t,3)},logger:"console"},level:h.fromString(o),message:Object(z.b)(t," ")};"assert"===o?!1===t[0]&&(i.message="Assertion failed: "+(Object(z.b)(t.slice(1)," ")||"console.assert"),i.data.extra.arguments=Object(D.c)(t.slice(1),3),te.addBreadcrumb(i,{input:t,level:o})):te.addBreadcrumb(i,{input:t,level:o}),n&&Function.prototype.apply.call(n,Jt.console,t)}})})},te.prototype._instrumentDOM=function(){"document"in Jt&&(Jt.document.addEventListener("click",Kt("click"),!1),Jt.document.addEventListener("keypress",Gt(),!1),["EventTarget","Node"].forEach(function(t){var e=Jt[t]&&Jt[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(D.b)(e,"addEventListener",function(n){return function(t,e,i){return e&&e.handleEvent?("click"===t&&Object(D.b)(e,"handleEvent",function(e){return function(t){return Kt("click")(t),e.call(this,t)}}),"keypress"===t&&Object(D.b)(e,"handleEvent",function(e){return function(t){return Gt()(t),e.call(this,t)}})):("click"===t&&Kt("click",!0)(this),"keypress"===t&&Gt()(this)),n.call(this,t,e,i)}}),Object(D.b)(e,"removeEventListener",function(o){return function(t,e,i){var n=e;try{n=n&&(n.__sentry_wrapped__||n)}catch(t){}return o.call(this,t,n,i)}}))}))},te.prototype._instrumentFetch=function(){tt()&&Object(D.b)(Jt,"fetch",function(u){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i,n=e[0],o="GET";"string"==typeof n?i=n:"Request"in Jt&&n instanceof Request?(i=n.url,n.method&&(o=n.method)):i=String(n),e[1]&&e[1].method&&(o=e[1].method);var r=Object(f.b)().getClient(),s=r&&r.getDsn();if(s){var a=new j(s).getStoreEndpoint();if(a&&-1!==i.indexOf(a))return"POST"===o&&e[1]&&e[1].body&&ee(e[1].body),u.apply(Jt,e)}var l={method:Object(W.j)(o)?o.toUpperCase():o,url:i};return u.apply(Jt,e).then(function(t){return l.status_code=t.status,te.addBreadcrumb({category:"fetch",data:l,type:"http"},{input:e,response:t}),t}).then(null,function(t){throw te.addBreadcrumb({category:"fetch",data:l,level:h.Error,type:"http"},{error:t,input:e}),t})}})},te.prototype._instrumentHistory=function(){var n=this;if(function(){var t=Object(U.f)(),e=t.chrome,i=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!i&&n}()){var o=function(t,e){var i=Object(U.j)(Jt.location.href),n=Object(U.j)(e),o=Object(U.j)(t);o.path||(o=i),Xt=e,i.protocol===n.protocol&&i.host===n.host&&(e=n.relative),i.protocol===o.protocol&&i.host===o.host&&(t=o.relative),te.addBreadcrumb({category:"navigation",data:{from:t,to:e}})},r=Jt.onpopstate;Jt.onpopstate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Jt.location.href;if(o(Xt,i),r)return r.apply(n,t)},Object(D.b)(Jt.history,"pushState",t),Object(D.b)(Jt.history,"replaceState",t)}function t(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=2<t.length?t[2]:void 0;return i&&o(Xt,String(i)),n.apply(this,t)}}},te.prototype._instrumentXHR=function(){if("XMLHttpRequest"in Jt){var t=XMLHttpRequest.prototype;Object(D.b)(t,"open",function(s){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[1];this.__sentry_xhr__={method:Object(W.j)(t[0])?t[0].toUpperCase():t[0],url:t[1]};var n=Object(f.b)().getClient(),o=n&&n.getDsn();if(o){var r=new j(o).getStoreEndpoint();Object(W.j)(i)&&r&&-1!==i.indexOf(r)&&(this.__sentry_own_request__=!0)}return s.apply(this,t)}}),Object(D.b)(t,"send",function(o){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this;function n(){if(4===i.readyState){if(i.__sentry_own_request__)return;try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(t){}te.addBreadcrumb({category:"xhr",data:i.__sentry_xhr__,type:"http"},{xhr:i})}}return i.__sentry_own_request__&&ee(t[0]),["onload","onerror","onprogress"].forEach(function(t){!function(e,t){e in t&&"function"==typeof t[e]&&Object(D.b)(t,e,function(t){return Ut(t,{mechanism:{data:{function:e,handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}})})}(t,i)}),"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?Object(D.b)(i,"onreadystatechange",function(t){return Ut(t,{mechanism:{data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}},n)}):i.onreadystatechange=n,o.apply(this,t)}})}},te.addBreadcrumb=function(t,e){Object(f.b)().getIntegration(te)&&Object(f.b)().addBreadcrumb(t,e)},te.prototype.setupOnce=function(){this._options.console&&this._instrumentConsole(),this._options.dom&&this._instrumentDOM(),this._options.xhr&&this._instrumentXHR(),this._options.fetch&&this._instrumentFetch(),this._options.history&&this._instrumentHistory()},te.id="Breadcrumbs",te);function te(t){this.name=te.id,this._options=p.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}function ee(t){try{var e=JSON.parse(t);Qt.addBreadcrumb({category:"sentry",event_id:e.event_id,level:e.level||h.fromString("error"),message:Object(U.e)(e)},{event:e})}catch(t){H.a.error("Error while adding sentry type breadcrumb")}}var ie=(ne.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(H.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(H.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},ne.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var h=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(t,e,i,n,o){var r=Object(f.b)(),s=r.getIntegration(ne),a=o&&!0===o.__sentry_own_request__;if(!s||zt()||a)return!!h._oldOnErrorHandler&&h._oldOnErrorHandler.apply(this,arguments);var l=r.getClient(),u=Object(W.h)(o)?h._eventFromIncompleteOnError(t,e,i,n):h._enhanceEventWithInitialFrame(ft(o,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!1}),e,i,n);return Object(U.a)(u,{handled:!1,type:"onerror"}),r.captureEvent(u,{originalException:o}),!!h._oldOnErrorHandler&&h._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},ne.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var a=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(t){var e=t;try{e=t&&"reason"in t?t.reason:t}catch(t){}var i=Object(f.b)(),n=i.getIntegration(ne),o=e&&!0===e.__sentry_own_request__;if(!n||zt()||o)return!!a._oldOnUnhandledRejectionHandler&&a._oldOnUnhandledRejectionHandler.apply(this,arguments);var r=i.getClient(),s=Object(W.h)(e)?a._eventFromIncompleteRejection(e):ft(e,void 0,{attachStacktrace:r&&r.getOptions().attachStacktrace,rejection:!0});return s.level=h.Error,Object(U.a)(s,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(s,{originalException:e}),!!a._oldOnUnhandledRejectionHandler&&a._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},ne.prototype._eventFromIncompleteOnError=function(t,e,i,n){var o,r=Object(W.e)(t)?t.message:t;if(Object(W.j)(r)){var s=r.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(o=s[1],r=s[2])}var a={exception:{values:[{type:o||"Error",value:r}]}};return this._enhanceEventWithInitialFrame(a,e,i,n)},ne.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},ne.prototype._enhanceEventWithInitialFrame=function(t,e,i,n){return t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[],0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:n,filename:e||Object(U.g)(),function:"?",in_app:!0,lineno:i}),t},ne.id="GlobalHandlers",ne);function ne(t){this.name=ne.id,this._global=Object(U.f)(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=p.a({onerror:!0,onunhandledrejection:!0},t)}var oe=(re.prototype.setupOnce=function(){Object(d.b)(function(t,e){var i=Object(f.b)().getIntegration(re);return i?i._handler(t,e):t})},re.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&e.originalException instanceof Error))return t;var i=this._walkErrorTree(e.originalException,this._key);return t.exception.values=p.d(i,t.exception.values),t},re.prototype._walkErrorTree=function(t,e,i){if(void 0===i&&(i=[]),!(t[e]instanceof Error)||i.length+1>=this._limit)return i;var n=ct(at(t[e]));return this._walkErrorTree(t[e],e,p.d([n],i))},re.id="LinkedErrors",re);function re(t){void 0===t&&(t={}),this.name=re.id,this._key=t.key||"cause",this._limit=t.limit||5}var se=Object(U.f)(),ae=(le.prototype.setupOnce=function(){Object(d.b)(function(t){if(Object(f.b)().getIntegration(le)){if(!se.navigator||!se.location)return t;var e=t.request||{};return e.url=e.url||se.location.href,e.headers=e.headers||{},e.headers["User-Agent"]=se.navigator.userAgent,p.a({},t,{request:e})}return t})},le.id="UserAgent",le);function le(){this.name=le.id}var ue=[new n.InboundFilters,new n.FunctionToString,new Yt,new Qt,new ie,new oe,new ae];function he(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=ue),void 0===t.release){var e=Object(U.f)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}!function(t,e){!0===e.debug&&H.a.enable(),Object(f.b)().bindClient(new t(e))}(Mt,t)}function ce(t){void 0===t&&(t={}),t.eventId||(t.eventId=Object(f.b)().lastEventId());var e=Object(f.b)().getClient();e&&e.showReportDialog(t)}function de(){return Object(f.b)().lastEventId()}function pe(){}function fe(t){t()}function ge(t){var e=Object(f.b)().getClient();return e?e.flush(t):V.a.reject(!1)}function me(t){var e=Object(f.b)().getClient();return e?e.close(t):V.a.reject(!1)}function ve(t){return Ut(t)()}i.d(e,"Integrations",function(){return be}),i.d(e,"Severity",function(){return h}),i.d(e,"Status",function(){return l}),i.d(e,"addGlobalEventProcessor",function(){return d.b}),i.d(e,"addBreadcrumb",function(){return b}),i.d(e,"captureException",function(){return m}),i.d(e,"captureEvent",function(){return y}),i.d(e,"captureMessage",function(){return v}),i.d(e,"configureScope",function(){return _}),i.d(e,"getHubFromCarrier",function(){return f.c}),i.d(e,"getCurrentHub",function(){return f.b}),i.d(e,"Hub",function(){return f.a}),i.d(e,"Scope",function(){return d.a}),i.d(e,"setContext",function(){return w}),i.d(e,"setExtra",function(){return x}),i.d(e,"setExtras",function(){return C}),i.d(e,"setTag",function(){return k}),i.d(e,"setTags",function(){return S}),i.d(e,"setUser",function(){return O}),i.d(e,"Span",function(){return L.a}),i.d(e,"withScope",function(){return E}),i.d(e,"BrowserClient",function(){return Mt}),i.d(e,"defaultIntegrations",function(){return ue}),i.d(e,"forceLoad",function(){return pe}),i.d(e,"init",function(){return he}),i.d(e,"lastEventId",function(){return de}),i.d(e,"onLoad",function(){return fe}),i.d(e,"showReportDialog",function(){return ce}),i.d(e,"flush",function(){return ge}),i.d(e,"close",function(){return me}),i.d(e,"wrap",function(){return ve}),i.d(e,"SDK_NAME",function(){return Tt}),i.d(e,"SDK_VERSION",function(){return"5.7.1"}),i.d(e,"Transports",function(){return r});var ye={},_e=Object(U.f)();_e.Sentry&&_e.Sentry.Integrations&&(ye=_e.Sentry.Integrations);var be=p.a({},ye,n,o)},function(t,e,i){"use strict";i.r(e);var n=i(17),f=i(12),o=i(13);function g(t,e){switch(void 0===e&&(e=0),typeof t){case"object":return null===t?r(349,e):Array.isArray(t)?function(t,e){return e=r(104579,e),t.reduce(function(t,e){return g(e,t)},e)}(t,e):function(i,t){return t=r(181387,t),Object.keys(i).sort().reduce(function(t,e){return t=s(e,t),g(i[e],t)},t)}(t,e);case"string":return s(t,e);case"boolean":return function(t,e){return r(t?433:863,e)}(t,e);case"number":return r(t,e);case"undefined":return r(0,937);default:return r(0,617)}}function r(t,e){return(e<<5)-e+t|0}function s(t,e){e=r(149417,e);for(var i=0,n=t.length;i<n;i++)e=r(t.charCodeAt(i),e);return e}var a=i(4),l=i(3),u=i(34),h=i(2),c=i(24),d=i(11),p=i(168),m=i(48);i.d(e,"ColorDetector",function(){return _});var v=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},y=function(i,n){return function(t,e){n(t,e,i)}},_=(b.prototype.isEnabled=function(){var t=this._editor.getModel();if(!t)return!1;var e=t.getLanguageIdentifier(),i=this._configurationService.getValue(e.language);if(i){var n=i.colorDecorators;if(n&&void 0!==n.enable&&!n.enable)return n.enable}return this._editor.getConfiguration().contribInfo.colorDecorators},b.prototype.getId=function(){return b.ID},b.get=function(t){return t.getContribution(this.ID)},b.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),this._globalToDispose=Object(a.d)(this._globalToDispose)},b.prototype.onModelChanged=function(){var e=this;if(this.stop(),this._isEnabled){var t=this._editor.getModel();t&&d.c.has(t)&&(this._localToDispose.push(this._editor.onDidChangeModelContent(function(t){e._timeoutTimer||(e._timeoutTimer=new n.e,e._timeoutTimer.cancelAndSet(function(){e._timeoutTimer=null,e.beginCompute()},b.RECOMPUTE_TIME))})),this.beginCompute())}},b.prototype.beginCompute=function(){var i=this;this._computePromise=Object(n.g)(function(t){var e=i._editor.getModel();return e?Object(p.b)(e,t):Promise.resolve([])}),this._computePromise.then(function(t){i.updateDecorations(t),i.updateColorDecorators(t),i._computePromise=null},o.e)},b.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose=Object(a.d)(this._localToDispose)},b.prototype.updateDecorations=function(i){var n=this,t=i.map(function(t){return{range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:c.a.EMPTY}});this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach(function(t,e){return n._colorDatas.set(t,i[e])})},b.prototype.updateColorDecorators=function(t){for(var e=[],i={},n=0;n<t.length&&e.length<500;n++){var o=t[n].colorInfo.color,r=o.red,s=o.green,a=o.blue,l=o.alpha,u=new f.c(Math.round(255*r),Math.round(255*s),Math.round(255*a),l),h=g(u).toString(16),c="rgba("+u.r+", "+u.g+", "+u.b+", "+u.a+")",d="colorBox-"+h;this._decorationsTypes[d]||i[d]||this._codeEditorService.registerDecorationType(d,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:c},dark:{before:{border:"solid 0.1em #eee"}}}),i[d]=!0,e.push({range:{startLineNumber:t[n].colorInfo.range.startLineNumber,startColumn:t[n].colorInfo.range.startColumn,endLineNumber:t[n].colorInfo.range.endLineNumber,endColumn:t[n].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(d,!0)})}for(var p in this._decorationsTypes)i[p]||this._codeEditorService.removeDecorationType(p);this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,e)},b.prototype.removeAllDecorations=function(){for(var t in this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes)this._codeEditorService.removeDecorationType(t)},b.prototype.getColorData=function(t){var e=this,i=this._editor.getModel();if(!i)return null;var n=i.getDecorationsInRange(h.a.fromPositions(t,t)).filter(function(t){return e._colorDatas.has(t.id)});return 0===n.length?null:this._colorDatas.get(n[0].id)},b.ID="editor.contrib.colorDetector",b.RECOMPUTE_TIME=1e3,b=v([y(1,u.a),y(2,m.a)],b));function b(t,e,i){var n=this;this._editor=t,this._codeEditorService=e,this._configurationService=i,this._globalToDispose=[],this._localToDispose=[],this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes={},this._globalToDispose.push(t.onDidChangeModel(function(t){n._isEnabled=n.isEnabled(),n.onModelChanged()})),this._globalToDispose.push(t.onDidChangeModelLanguage(function(t){return n.onModelChanged()})),this._globalToDispose.push(d.c.onDidChange(function(t){return n.onModelChanged()})),this._globalToDispose.push(t.onDidChangeConfiguration(function(t){var e=n._isEnabled;n._isEnabled=n.isEnabled(),e!==n._isEnabled&&(n._isEnabled?n.onModelChanged():n.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}Object(l.h)(_)},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=!1,o=null;function r(t){if(!t.parent||t.parent===t)return null;try{var e=t.location,i=t.parent.location;if(e.protocol!==i.protocol||e.hostname!==i.hostname||e.port!==i.port)return n=!0,null}catch(t){return n=!0,null}return t.parent}function s(t,e){for(var i,n=t.document.getElementsByTagName("iframe"),o=0,r=n.length;o<r;o++)if((i=n[o]).contentWindow===e)return i;return null}var a=(l.getSameOriginWindowChain=function(){if(!o){o=[];for(var t,e=window;(t=r(e))?o.push({window:e,iframeElement:s(t,e)}):o.push({window:e,iframeElement:null}),e=t;);}return o.slice(0)},l.hasDifferentOriginAncestor=function(){return o||this.getSameOriginWindowChain(),n},l.getPositionOfChildWindowRelativeToAncestorWindow=function(t,e){if(!e||t===e)return{top:0,left:0};for(var i=0,n=0,o=this.getSameOriginWindowChain(),r=0;r<o.length;r++){var s=o[r];if(s.window===e)break;if(!s.iframeElement)break;var a=s.iframeElement.getBoundingClientRect();i+=a.top,n+=a.left}return{top:i,left:n}},l);function l(){}},function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r});var p=i(29),f=i(13),g=i(30),n=i(3),m=i(2),v=i(11),y=i(56);function o(t,e){var r=[],i=v.c.ordered(t).reverse().map(function(o){return Promise.resolve(o.provideDocumentColors(t,e)).then(function(t){if(Array.isArray(t))for(var e=0,i=t;e<i.length;e++){var n=i[e];r.push({colorInfo:n,provider:o})}})});return Promise.all(i).then(function(){return r})}function r(t,e,i,n){return Promise.resolve(i.provideColorPresentations(t,e,n))}Object(n.j)("_executeDocumentColorProvider",function(t,e){var i=e.resource;if(!(i instanceof g.a))throw Object(f.b)();var n=t.get(y.a).getModel(i);if(!n)throw Object(f.b)();var o=[],r=v.c.ordered(n).reverse().map(function(t){return Promise.resolve(t.provideDocumentColors(n,p.a.None)).then(function(t){if(Array.isArray(t))for(var e=0,i=t;e<i.length;e++){var n=i[e];o.push({range:n.range,color:[n.color.red,n.color.green,n.color.blue,n.color.alpha]})}})});return Promise.all(r).then(function(){return o})}),Object(n.j)("_executeColorPresentationProvider",function(t,e){var i=e.resource,n=e.color,o=e.range;if(!(i instanceof g.a&&Array.isArray(n)&&4===n.length&&m.a.isIRange(o)))throw Object(f.b)();var r=n[0],s=n[1],a=n[2],l=n[3],u=t.get(y.a).getModel(i);if(!u)throw Object(f.b)();var h={range:o,color:{red:r,green:s,blue:a,alpha:l}},c=[],d=v.c.ordered(u).reverse().map(function(t){return Promise.resolve(t.provideColorPresentations(u,h,p.a.None)).then(function(t){Array.isArray(t)&&c.push.apply(c,t)})});return Promise.all(d).then(function(){return c})})},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var y=i(8),_=i(40),b=i(15),w=i(63),C=i(2),n=(o.deleteRight=function(t,e,i,n){for(var o=[],r=3!==t,s=0,a=n.length;s<a;s++){var l=n[s],u=l;if(u.isEmpty()){var h=l.getPosition(),c=w.a.right(e,i,h.lineNumber,h.column);u=new C.a(c.lineNumber,c.column,h.lineNumber,h.column)}u.isEmpty()?o[s]=null:(u.startLineNumber!==u.endLineNumber&&(r=!0),o[s]=new _.a(u,""))}return[r,o]},o._isAutoClosingPairDelete=function(t,e,i){if("never"===t.autoClosingBrackets&&"never"===t.autoClosingQuotes)return!1;for(var n=0,o=i.length;n<o;n++){var r=i[n],s=r.getPosition();if(!r.isEmpty())return!1;var a=e.getLineContent(s.lineNumber),l=a[s.column-2];if(!t.autoClosingPairsOpen.hasOwnProperty(l))return!1;if(Object(b.g)(l)){if("never"===t.autoClosingQuotes)return!1}else if("never"===t.autoClosingBrackets)return!1;if(a[s.column-1]!==t.autoClosingPairsOpen[l])return!1}return!0},o._runAutoClosingPairDelete=function(t,e,i){for(var n=[],o=0,r=i.length;o<r;o++){var s=i[o].getPosition(),a=new C.a(s.lineNumber,s.column-1,s.lineNumber,s.column+1);n[o]=new _.a(a,"")}return[!0,n]},o.deleteLeft=function(t,e,i,n){if(this._isAutoClosingPairDelete(e,i,n))return this._runAutoClosingPairDelete(e,i,n);for(var o=[],r=2!==t,s=0,a=n.length;s<a;s++){var l=n[s],u=l;if(u.isEmpty()){var h=l.getPosition();if(e.useTabStops&&1<h.column){var c=i.getLineContent(h.lineNumber),d=y.o(c),p=-1===d?c.length+1:d+1;if(h.column<=p){var f=b.a.visibleColumnFromColumn2(e,i,h),g=b.a.prevTabStop(f,e.tabSize),m=b.a.columnFromVisibleColumn2(e,i,h.lineNumber,g);u=new C.a(h.lineNumber,m,h.lineNumber,h.column)}else u=new C.a(h.lineNumber,h.column-1,h.lineNumber,h.column)}else{var v=w.a.left(e,i,h.lineNumber,h.column);u=new C.a(v.lineNumber,v.column,h.lineNumber,h.column)}}u.isEmpty()?o[s]=null:(u.startLineNumber!==u.endLineNumber&&(r=!0),o[s]=new _.a(u,""))}return[r,o]},o.cut=function(t,e,i){for(var n=[],o=0,r=i.length;o<r;o++){var s=i[o];if(s.isEmpty())if(t.emptySelectionClipboard){var a=s.getPosition(),l=void 0,u=void 0,h=void 0,c=void 0;c=a.lineNumber<e.getLineCount()?(l=a.lineNumber,u=1,h=a.lineNumber+1,1):(u=1<a.lineNumber?(l=a.lineNumber-1,e.getLineMaxColumn(a.lineNumber-1)):(l=a.lineNumber,1),h=a.lineNumber,e.getLineMaxColumn(a.lineNumber));var d=new C.a(l,u,h,c);d.isEmpty()?n[o]=null:n[o]=new _.a(d,"")}else n[o]=null;else n[o]=new _.a(s,"")}return new b.e(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},o);function o(){}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(18),o=Object(n.c)("clipboardService")},function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return s});var g=i(8),m=i(86),n=i(62),o={getInitialState:function(){return n.c},tokenize2:function(t,e,i){return Object(n.e)(0,t,e,i)}};function r(t,e){return void 0===e&&(e=o),function(t,e){for(var i='<div class="monaco-tokenized-source">',n=t.split(/\r\n|\r|\n/),o=e.getInitialState(),r=0,s=n.length;r<s;r++){var a=n[r];0<r&&(i+="<br/>");var l=e.tokenize2(a,o,0);m.a.convertToEndOffset(l.tokens,a.length);for(var u=new m.a(l.tokens,a).inflate(),h=0,c=0,d=u.getCount();c<d;c++){var p=u.getClassName(c),f=u.getEndOffset(c);i+='<span class="'+p+'">'+g.m(a.substring(h,f))+"</span>",h=f}o=l.endState}return i+="</div>"}(t,e||o)}function s(t,e,i,n,o,r){for(var s="<div>",a=n,l=0,u=0,h=e.getCount();u<h;u++){var c=e.getEndOffset(u);if(!(c<=n)){for(var d="";a<c&&a<o;a++){var p=t.charCodeAt(a);switch(p){case 9:var f=r-(a+l)%r;for(l+=f-1;0<f;)d+="&nbsp;",f--;break;case 60:d+="&lt;";break;case 62:d+="&gt;";break;case 38:d+="&amp;";break;case 0:d+="&#00;";break;case 65279:case 8232:d+="�";break;case 13:d+="&#8203";break;default:d+=String.fromCharCode(p)}}if(s+='<span style="'+e.getInlineStyle(u,i)+'">'+d+"</span>",o<c||o<=a)break}}return s+="</div>"}},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return o});var l=i(30),u=i(41),h=i(8),c=i(49),d=i(14),p=i(93);function n(t,e,i){if("string"==typeof t&&(t=l.a.file(t)),i){var n=i.getWorkspaceFolder(t);if(n){var o=1<i.getWorkspace().folders.length,r=void 0;if(r=Object(p.d)(n.uri,t,!d.c)?"":Object(u.g)(Object(h.z)(t.path.substr(n.uri.path.length),u.h),!0),o){var s=n&&n.name?n.name:Object(u.a)(n.uri.fsPath);r=r?s+" • "+r:s}return r}}if(t.scheme!==c.a.file&&t.scheme!==c.a.untitled)return t.with({query:null,fragment:null}).toString(!0);if(f(t.fsPath))return Object(u.g)(g(t.fsPath),!0);var a=Object(u.g)(t.fsPath,!0);return!d.g&&e&&(a=function(t,e){if(d.g||!t||!e)return t;var i=m.original===e?m.normalized:void 0;i||(i=""+Object(h.D)(e,u.h)+u.h,m={original:e,normalized:i});(d.c?Object(h.F)(t,i):Object(h.G)(t,i))&&(t="~/"+t.substr(i.length));return t}(a,e.userHome)),a}function o(t){if(t){"string"==typeof t&&(t=l.a.file(t));var e=Object(u.a)(t.path)||(t.scheme===c.a.file?t.fsPath:t.path);return f(e)?g(e):e}}function f(t){return!(!d.g||!t||":"!==t[1])}function g(t){return f(t)?t.charAt(0).toUpperCase()+t.slice(1):t}var m=Object.create(null)},function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"a",function(){return a});var n=i(0),o=(r.prototype.toLabel=function(t,e,i,n,o){return null===t||null===e?null:function(t,e,i,n,o){var r=l(t,e,o);return null!==i&&null!==n&&(r+=" ",r+=l(i,n,o)),r}(t,e,i,n,this.modifierLabels[o])},r);function r(t,e,i){void 0===i&&(i=e),this.modifierLabels=[null],this.modifierLabels[2]=t,this.modifierLabels[1]=e,this.modifierLabels[3]=i}var s=new o({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:n.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:n.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:n.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:n.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),a=new o({ctrlKey:n.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:n.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:n.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function l(t,e,i){if(null===e)return"";var n=[];return t.ctrlKey&&n.push(i.ctrlKey),t.shiftKey&&n.push(i.shiftKey),t.altKey&&n.push(i.altKey),t.metaKey&&n.push(i.metaKey),n.push(e),n.join(i.separator)}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n,o,r=i(84);(o=n=n||{}).PENDING="PENDING",o.RESOLVED="RESOLVED",o.REJECTED="REJECTED";var s=(a.prototype.toString=function(){return"[object SyncPromise]"},a.resolve=function(e){return new a(function(t){t(e)})},a.reject=function(i){return new a(function(t,e){e(i)})},a.all=function(t){return new a(function(i,n){if(Array.isArray(t))if(0!==t.length){var o=t.length,r=[];t.forEach(function(t,e){a.resolve(t).then(function(t){r[e]=t,0==(o-=1)&&i(r)}).then(null,n)})}else i([]);else n(new TypeError("Promise.all requires an array as input."))})},a.prototype.then=function(n,o){var t=this;return new a(function(e,i){t._attachHandler({onfulfilled:function(t){if(n)try{return void e(n(t))}catch(t){return void i(t)}else e(t)},onrejected:function(t){if(o)try{return void e(o(t))}catch(t){return void i(t)}else i(t)}})})},a.prototype.catch=function(t){return this.then(function(t){return t},t)},a.prototype.finally=function(o){var r=this;return new a(function(t,e){var i,n;return r.then(function(t){n=!1,i=t,o&&o()},function(t){n=!0,i=t,o&&o()}).then(function(){n?e(i):t(i)})})},a);function a(t){var i=this;this._state=n.PENDING,this._handlers=[],this._resolve=function(t){i._setResult(n.RESOLVED,t)},this._reject=function(t){i._setResult(n.REJECTED,t)},this._setResult=function(t,e){i._state===n.PENDING&&(Object(r.l)(e)?e.then(i._resolve,i._reject):(i._state=t,i._value=e,i._executeHandlers()))},this._attachHandler=function(t){i._handlers=i._handlers.concat(t),i._executeHandlers()},this._executeHandlers=function(){i._state!==n.PENDING&&(i._state===n.REJECTED?i._handlers.forEach(function(t){t.onrejected&&t.onrejected(i._value)}):i._handlers.forEach(function(t){t.onfulfilled&&t.onfulfilled(i._value)}),i._handlers=[])};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}},,function(t,e,i){"use strict";var s=i(58),a=[{name:"rainbow",desc:"Rainbow 1",count:12,themes:["default"]},{name:"rainbow2",desc:"Rainbow 2",count:12,themes:["default"]},{name:"earth",desc:"Earth tones (colourblind safe)",count:9,themes:["default"]},{name:"green-blue",desc:"Greens and blues (colourblind safe)",count:4,themes:["default"]},{name:"gray-shade",desc:"Gray shades",count:4,themes:["dark"]}];t.exports={applyColours:function(t,e,i,n){var o=s.findWhere(a,{name:i});o=o||a[0];var r=s.map(e,function(t,e){return e=parseInt(e)+1,{range:new monaco.Range(e,1,e,1),options:{isWholeLine:!0,className:"line-linkage "+o.name+"-"+t%o.count}}});return t.deltaDecorations(n,r)},schemes:a}},function(t,e,i){(function(F,j){t.exports=function(){"use strict";function u(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,e=void 0,o=void 0,s=function(t,e){d[n]=t,d[n+1]=e,2===(n+=2)&&(o?o(p):f())};var t="undefined"!=typeof window?window:void 0,r=t||{},a=r.MutationObserver||r.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==F&&"[object process]"==={}.toString.call(F),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var t=setTimeout;return function(){return t(p,1)}}var d=new Array(1e3);function p(){for(var t=0;t<n;t+=2){var e=d[t],i=d[t+1];e(i),d[t]=void 0,d[t+1]=void 0}n=0}var f=void 0;function g(t,e){var i=this,n=new this.constructor(y);void 0===n[v]&&A(n);var o=i._state;if(o){var r=arguments[o-1];s(function(){return T(o,n,r,i._result)})}else I(i,n,t,e);return n}function m(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(y);return O(e,t),e}f=l?function(){return F.nextTick(p)}:a?function(){var t=0,e=new a(p),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():h?function(){var t=new MessageChannel;return t.port1.onmessage=p,function(){return t.port2.postMessage(0)}}():void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0===(e=t.runOnLoop||t.runOnContext)?c():function(){e(p)}}catch(t){return c()}}():c();var v=Math.random().toString(36).substring(2);function y(){}var _=void 0,b=1,w=2,C={error:null};function S(t){try{return t.then}catch(t){return C.error=t,C}}function x(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}function k(t,e,i){e.constructor===t.constructor&&i===g&&e.constructor.resolve===m?function(e,t){t._state===b?L(e,t._result):t._state===w?D(e,t._result):I(t,void 0,function(t){return O(e,t)},function(t){return D(e,t)})}(t,e):i===C?(D(t,C.error),C.error=null):void 0===i?L(t,e):u(i)?function(t,n,o){s(function(e){var i=!1,t=x(o,n,function(t){i||(i=!0,n!==t?O(e,t):L(e,t))},function(t){i||(i=!0,D(e,t))},e._label);!i&&t&&(i=!0,D(e,t))},t)}(t,e,i):L(t,e)}function O(t,e){t===e?D(t,new TypeError("You cannot resolve a promise with itself")):!function(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}(e)?L(t,e):k(t,e,S(e))}function E(t){t._onerror&&t._onerror(t._result),N(t)}function L(t,e){t._state===_&&(t._result=e,t._state=b,0!==t._subscribers.length&&s(N,t))}function D(t,e){t._state===_&&(t._state=w,t._result=e,s(E,t))}function I(t,e,i,n){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+b]=i,o[r+w]=n,0===r&&t._state&&s(N,t)}function N(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,o=void 0,r=t._result,s=0;s<e.length;s+=3)n=e[s],o=e[s+i],n?T(i,n,o,r):o(r);t._subscribers.length=0}}function T(t,e,i,n){var o=u(i),r=void 0,s=void 0,a=void 0,l=void 0;if(o){if((r=function(t,e){try{return t(e)}catch(t){return C.error=t,C}}(i,n))===C?(l=!0,s=r.error,r.error=null):a=!0,e===r)return void D(e,new TypeError("A promises callback cannot return that same promise."))}else r=n,a=!0;e._state!==_||(o&&a?O(e,r):l?D(e,s):t===b?L(e,r):t===w&&D(e,r))}var M=0;function A(t){t[v]=M++,t._state=void 0,t._result=void 0,t._subscribers=[]}var P=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(y),this.promise[v]||A(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&L(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===m){var o=S(e);if(o===g&&e._state!==_)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(i===R){var r=new i(y);k(r,e,o),this._willSettleAt(r,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},t.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===_&&(this._remaining--,t===w?D(n,i):this._result[e]=i),0===this._remaining&&L(n,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;I(t,void 0,function(t){return i._settledAt(b,e,t)},function(t){return i._settledAt(w,e,t)})},t}();var R=function(){function e(t){this[v]=M++,this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){O(e,t)},function(t){D(e,t)})}catch(t){D(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var i=this.constructor;return u(e)?this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return R.prototype.then=g,R.all=function(t){return new P(this,t).promise},R.race=function(o){var r=this;return i(o)?new r(function(t,e){for(var i=o.length,n=0;n<i;n++)r.resolve(o[n]).then(t,e)}):new r(function(t,e){return e(new TypeError("You must pass an array to race."))})},R.resolve=m,R.reject=function(t){var e=new this(y);return D(e,t),e},R._setScheduler=function(t){o=t},R._setAsap=function(t){s=t},R._asap=s,R.polyfill=function(){var t=void 0;if(void 0!==j)t=j;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=R},R.Promise=R}()}).call(this,i(134),i(133))},function(t,e,i){"use strict";t.exports=function(i){var s=[];return s.toString=function(){return this.map(function(t){var e=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(r).concat([o]).join("\n")}return[i].join("\n")}(t,i);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},s.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var o=this[n][0];null!=o&&(i[o]=!0)}for(n=0;n<t.length;n++){var r=t[n];null!=r[0]&&i[r[0]]||(e&&!r[2]?r[2]=e:e&&(r[2]="("+r[2]+") and ("+e+")"),s.push(r))}},s}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(83),s=function(t){this.element=t},o=(r.prototype.isEmpty=function(){return!this._first},r.prototype.unshift=function(t){return this.insert(t,!1)},r.prototype.push=function(t){return this.insert(t,!0)},r.prototype.insert=function(t,e){var i=this,n=new s(t);if(this._first)if(e){var o=this._last;((this._last=n).prev=o).next=n}else{var r=this._first;((this._first=n).next=r).prev=n}else this._first=n,this._last=n;return function(){for(var t=i._first;t instanceof s;){if(t===n){if(t.prev&&t.next){var e=t.prev;e.next=t.next,t.next.prev=e}else t.prev||t.next?t.next?t.prev||(i._first=i._first.next,i._first.prev=void 0):(i._last=i._last.prev,i._last.next=void 0):(i._first=void 0,i._last=void 0);break}t=t.next}}},r.prototype.iterator=function(){var t,e=this._first;return{next:function(){return e?(t?t.value=e.element:t={done:!1,value:e.element},e=e.next,t):n.c}}},r);function r(){}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var h=i(21),p=i(8),c=i(41),n=i(72),d=i(17),f="**",g="/",m="[/\\\\]",v="[^/\\\\]",s=/\//g;function y(t){switch(t){case 0:return"";case 1:return v+"*?";default:return"(?:"+m+"|"+v+"+"+m+"|"+m+v+"+)*?"}}function _(t,e){if(!t)return[];for(var i,n=[],o=!1,r=!1,s="",a=0;a<t.length;a++){switch(i=t[a]){case e:if(o||r)break;n.push(s),s="";continue;case"{":o=!0;break;case"}":o=!1;break;case"[":r=!0;break;case"]":r=!1}s+=i}return s&&n.push(s),n}var a=/^\*\*\/\*\.[\w\.-]+$/,l=/^\*\*\/([\w\.-]+)\/?$/,u=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,b=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,w=/^\*\*((\/[\w\.-]+)+)\/?$/,C=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,S=new n.a(1e4),o=function(){return!1},x=function(){return null};function k(t,e){if(!t)return x;var i,n,o=(i=(i="string"!=typeof t?t.pattern:t).trim())+"_"+!!e.trimForExclusions,r=S.get(o);if(r)return O(r,t);if(a.test(i)){var s=i.substr(4);r=function(t,e){return t&&p.k(t,s)?i:null}}else r=(n=l.exec(E(i,e)))?function(i,n){function t(t,e){return t?e?e===i?n:null:t===i||p.k(t,o)||p.k(t,r)?n:null:null}var o="/"+i,r="\\"+i,e=[i];return t.basenames=e,t.patterns=[n],t.allBasenames=e,t}(n[1],i):(e.trimForExclusions?b:u).test(i)?function(o,e){var r=D(o.slice(1,-1).split(",").map(function(t){return k(t,e)}).filter(function(t){return t!==x}),o),t=r.length;if(!t)return x;if(1===t)return r[0];function i(t,e){for(var i=0,n=r.length;i<n;i++)if(r[i](t,e))return o;return null}var n=h.g(r,function(t){return!!t.allBasenames});n&&(i.allBasenames=n.allBasenames);var s=r.reduce(function(t,e){return e.allPaths?t.concat(e.allPaths):t},[]);s.length&&(i.allPaths=s);return i}(i,e):(n=w.exec(E(i,e)))?L(n[1].substr(1),i,!0):(n=C.exec(E(i,e)))?L(n[1],i,!1):function(i){try{var n=new RegExp("^"+function u(t){if(!t)return"";var h="",c=_(t,g);if(c.every(function(t){return t===f}))h=".*";else{var d=!1;c.forEach(function(t,e){if(t!==f){for(var i,n=!1,o="",r=!1,s="",a=0;a<t.length;a++)if("}"!==(i=t[a])&&n)o+=i;else if(!r||"]"===i&&s)switch(i){case"{":n=!0;continue;case"[":r=!0;continue;case"}":var l="(?:"+_(o,",").map(function(t){return u(t)}).join("|")+")";h+=l,n=!1,o="";break;case"]":h+="["+s+"]",r=!1,s="";break;case"?":h+=v;continue;case"*":h+=y(1);continue;default:h+=p.n(i)}else s+="-"===i?i:"^"!==i&&"!"!==i||s?i===g?"":p.n(i):"^";e<c.length-1&&(c[e+1]!==f||e+2<c.length)&&(h+=m),d=!1}else d||(h+=y(2),d=!0)})}return h}(i)+"$");return function(t,e){return n.lastIndex=0,t&&n.test(t)?i:null}}catch(t){return x}}(i);return S.set(o,r),O(r,t)}function O(i,n){return"string"==typeof n?i:function(t,e){return c.d(t,n.base)?i(n.pathToRelative(n.base,t),e):null}}function E(t,e){return e.trimForExclusions&&p.k(t,"/**")?t.substr(0,t.length-2):t}function L(t,i,e){var n=c.f!==c.h?t.replace(s,c.f):t,o=c.f+n,r=e?function(t,e){return t&&(t===n||p.k(t,o))?i:null}:function(t,e){return t&&t===n?i:null};return r.allPaths=[(e?"*/":"./")+t],r}function r(t,e,i){return!(!t||!e)&&function(t,e){void 0===e&&(e={});if(!t)return o;if("string"==typeof t||function(t){var e=t;return e&&"string"==typeof e.base&&"string"==typeof e.pattern&&"function"==typeof e.pathToRelative}(t)){var i=k(t,e);if(i===x)return o;var n=function(t,e){return!!i(t,e)};return i.allBasenames&&(n.allBasenames=i.allBasenames),i.allPaths&&(n.allPaths=i.allPaths),n}return function(e,i){var l=D(Object.getOwnPropertyNames(e).map(function(t){return function(r,t,e){if(!1===t)return x;var s=k(r,e);if(s===x)return x;if("boolean"==typeof t)return s;if(t){var a=t.when;if("string"==typeof a){var i=function(t,e,i,n){if(!n||!s(t,e))return null;var o=n(a.replace("$(basename)",i));return Object(d.i)(o)?o.then(function(t){return t?r:null}):o?r:null};return i.requiresSiblings=!0,i}}return s}(t,e[t],i)}).filter(function(t){return t!==x})),t=l.length;if(!t)return x;if(!l.some(function(t){return!!t.requiresSiblings})){if(1===t)return l[0];var n=function(t,e){for(var i=0,n=l.length;i<n;i++){var o=l[i](t,e);if(o)return o}return null},o=h.g(l,function(t){return!!t.allBasenames});o&&(n.allBasenames=o.allBasenames);var r=l.reduce(function(t,e){return e.allPaths?t.concat(e.allPaths):t},[]);return r.length&&(n.allPaths=r),n}function s(t,e,i){for(var n=void 0,o=0,r=l.length;o<r;o++){var s=l[o];s.requiresSiblings&&i&&(e=e||c.a(t),n=n||e.substr(0,e.length-c.c(t).length));var a=s(t,e,n,i);if(a)return a}return null}var a=h.g(l,function(t){return!!t.allBasenames});a&&(s.allBasenames=a.allBasenames);var u=l.reduce(function(t,e){return e.allPaths?t.concat(e.allPaths):t},[]);u.length&&(s.allPaths=u);return s}(t,e)}(t)(e,void 0,i)}function D(t,e){var i=t.filter(function(t){return!!t.basenames});if(i.length<2)return t;var r,s=i.reduce(function(t,e){var i=e.basenames;return i?t.concat(i):t},[]);if(e){r=[];for(var n=0,o=s.length;n<o;n++)r.push(e)}else r=i.reduce(function(t,e){var i=e.patterns;return i?t.concat(i):t},[]);function a(t,e){if(!t)return null;if(!e){var i=void 0;for(i=t.length;0<i;i--){var n=t.charCodeAt(i-1);if(47===n||92===n)break}e=t.substr(i)}var o=s.indexOf(e);return-1!==o?r[o]:null}a.basenames=s,a.patterns=r,a.allBasenames=s;var l=t.filter(function(t){return!t.basenames});return l.push(a),l}},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n,o=i(5),r=i(4),s=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=(l.prototype.equals=function(t){return this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop},l.prototype.withScrollDimensions=function(t){return new l(void 0!==t.width?t.width:this.width,void 0!==t.scrollWidth?t.scrollWidth:this.scrollWidth,this.scrollLeft,void 0!==t.height?t.height:this.height,void 0!==t.scrollHeight?t.scrollHeight:this.scrollHeight,this.scrollTop)},l.prototype.withScrollPosition=function(t){return new l(this.width,this.scrollWidth,void 0!==t.scrollLeft?t.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,void 0!==t.scrollTop?t.scrollTop:this.scrollTop)},l.prototype.createScrollEvent=function(t){var e=this.width!==t.width,i=this.scrollWidth!==t.scrollWidth,n=this.scrollLeft!==t.scrollLeft,o=this.height!==t.height,r=this.scrollHeight!==t.scrollHeight,s=this.scrollTop!==t.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:e,scrollWidthChanged:i,scrollLeftChanged:n,heightChanged:o,scrollHeightChanged:r,scrollTopChanged:s}},l);function l(t,e,i,n,o,r){(t|=0)<0&&(t=0),(e|=0)<(i|=0)+t&&(i=e-t),i<0&&(i=0),(n|=0)<0&&(n=0),(o|=0)<(r|=0)+n&&(r=o-n),r<0&&(r=0),this.width=t,this.scrollWidth=e,this.scrollLeft=i,this.height=n,this.scrollHeight=o,this.scrollTop=r}var u,h=(u=r.a,s(c,u),c.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),u.prototype.dispose.call(this)},c.prototype.setSmoothScrollDuration=function(t){this._smoothScrollDuration=t},c.prototype.validateScrollPosition=function(t){return this._state.withScrollPosition(t)},c.prototype.getScrollDimensions=function(){return this._state},c.prototype.setScrollDimensions=function(t){var e=this._state.withScrollDimensions(t);this._setState(e),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)},c.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state},c.prototype.getCurrentScrollPosition=function(){return this._state},c.prototype.setScrollPositionNow=function(t){var e=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(e)},c.prototype.setScrollPositionSmooth=function(t){var e=this;if(0===this._smoothScrollDuration)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:void 0===t.scrollLeft?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:void 0===t.scrollTop?this._smoothScrolling.to.scrollTop:t.scrollTop};var i=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;var n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=n}else i=this._state.withScrollPosition(t),this._smoothScrolling=f.start(this._state,i,this._smoothScrollDuration);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){e._smoothScrolling&&(e._smoothScrolling.animationFrameDisposable=null,e._performSmoothScrolling())})},c.prototype._performSmoothScrolling=function(){var t=this;if(this._smoothScrolling){var e=this._smoothScrolling.tick(),i=this._state.withScrollPosition(e);if(this._setState(i),e.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){t._smoothScrolling&&(t._smoothScrolling.animationFrameDisposable=null,t._performSmoothScrolling())})}},c.prototype._setState=function(t){var e=this._state;e.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(e)))},c);function c(t,e){var i=u.call(this)||this;return i._onScroll=i._register(new o.a),i.onScroll=i._onScroll.event,i._smoothScrollDuration=t,i._scheduleAtNextAnimationFrame=e,i._state=new a(0,0,0,0,0,0),i._smoothScrolling=null,i}var d=function(t,e,i){this.scrollLeft=t,this.scrollTop=e,this.isDone=i};function p(e,t){var i=t-e;return function(t){return e+i*function(t){return 1-function(t){return Math.pow(t,3)}(1-t)}(t)}}var f=(g.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)},g.prototype._initAnimation=function(t,e,i){if(2.5*i<Math.abs(t-e)){var n=void 0,o=void 0;return o=t<e?(n=t+.75*i,e-.75*i):(n=t-.75*i,e+.75*i),function(e,i,n){return function(t){return t<n?e(t/n):i((t-n)/(1-n))}}(p(t,n),p(o,e),.33)}return p(t,e)},g.prototype.dispose=function(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)},g.prototype.acceptScrollDimensions=function(t){this.to=t.withScrollPosition(this.to),this._initAnimations()},g.prototype.tick=function(){return this._tick(Date.now())},g.prototype._tick=function(t){var e=(t-this._startTime)/this.duration;if(e<1){var i=this.scrollLeft(e),n=this.scrollTop(e);return new d(i,n,!1)}return new d(this.to.scrollLeft,this.to.scrollTop,!0)},g.prototype.combine=function(t,e,i){return g.start(t,e,i)},g.start=function(t,e,i){return i+=10,new g(t,e,Date.now()-10,i)},g);function g(t,e,i,n){this.from=t,this.to=e,this.duration=n,this._startTime=i,this.animationFrameDisposable=null,this._initAnimations()}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=(o.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},o.prototype.run=function(){if(!this.isSupported())return Promise.resolve(void 0);var t=this._run();return t||Promise.resolve(void 0)},o);function o(t,e,i,n,o,r){this.id=t,this.label=e,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=r}},function(t,e,i){"use strict";i.d(e,"a",function(){return _});i(303);var n=i(1),s=i(126),o=i(12),r=i(148),a=i(4),l=i(27),u=i(2),h=i(24),c=new o.a(new o.c(0,122,204)),d={showArrow:!0,showFrame:!0,className:"",frameColor:c,arrowColor:c,keepEditorSelection:!1},g=(p.prototype.onDomNodeTop=function(t){this._onDomNodeTop(t)},p.prototype.onComputedHeight=function(t){this._onComputedHeight(t)},p);function p(t,e,i,n,o,r){this.domNode=t,this.afterLineNumber=e,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=r}var m=(f.prototype.getId=function(){return this._id},f.prototype.getDomNode=function(){return this._domNode},f.prototype.getPosition=function(){return null},f);function f(t,e){this._id=t,this._domNode=e}var v=(y.prototype.dispose=function(){this.hide(),n.F(this._ruleName)},Object.defineProperty(y.prototype,"color",{set:function(t){this._color!==t&&(this._color=t,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"height",{set:function(t){this._height!==t&&(this._height=t,this._updateStyle())},enumerable:!0,configurable:!0}),y.prototype._updateStyle=function(){n.F(this._ruleName),n.o(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},y.prototype.show=function(t){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:u.a.fromPositions(t),options:{className:this._ruleName,stickiness:1}}])},y.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},y._IdGenerator=new r.a(".arrow-decoration-"),y);function y(t){this._editor=t,this._ruleName=y._IdGenerator.nextId(),this._decorations=[]}var _=(b.prototype.dispose=function(){var e=this;Object(a.d)(this._disposables),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(t){e._viewZone&&t.removeZone(e._viewZone.id),e._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[]},b.prototype.create=function(){n.f(this.domNode,"zone-widget"),this.options.className&&n.f(this.domNode,this.options.className),this.container=document.createElement("div"),n.f(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new v(this.editor),this._disposables.push(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},b.prototype.style=function(t){t.frameColor&&(this.options.frameColor=t.frameColor),t.arrowColor&&(this.options.arrowColor=t.arrowColor),this._applyStyles()},b.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var t=this.options.frameColor.toString();this.container.style.borderTopColor=t,this.container.style.borderBottomColor=t}if(this._arrow&&this.options.arrowColor){var e=this.options.arrowColor.toString();this._arrow.color=e}},b.prototype._getWidth=function(t){return t.width-t.minimapWidth-t.verticalScrollbarWidth},b.prototype._getLeft=function(t){return 0<t.minimapWidth&&0===t.minimapLeft?t.minimapWidth:0},b.prototype._onViewZoneTop=function(t){this.domNode.style.top=t+"px"},b.prototype._onViewZoneHeight=function(t){this.domNode.style.height=t+"px";var e=t-this._decoratingElementsHeight();this.container.style.height=e+"px";var i=this.editor.getLayoutInfo();this._doLayout(e,this._getWidth(i)),this._resizeSash.layout()},Object.defineProperty(b.prototype,"position",{get:function(){var t=this._positionMarkerId[0];if(t){var e=this.editor.getModel();if(e){var i=e.getDecorationRange(t);if(i)return i.getStartPosition()}}},enumerable:!0,configurable:!0}),b.prototype.show=function(t,e){var i=u.a.isIRange(t)?t:new u.a(t.lineNumber,t.column,t.lineNumber,t.column);this._isShowing=!0,this._showImpl(i,e),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:h.a.EMPTY}])},b.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones(function(t){e._viewZone&&t.removeZone(e._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},b.prototype._decoratingElementsHeight=function(){var t=this.editor.getConfiguration().lineHeight,e=0;return this.options.showArrow&&(e+=2*Math.round(t/3)),this.options.showFrame&&(e+=2*Math.round(t/9)),e},b.prototype._showImpl=function(t,e){var i=this,n={lineNumber:t.startLineNumber,column:t.startColumn},o=this.editor.getLayoutInfo(),r=this._getWidth(o);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(o)+"px";var s=document.createElement("div");s.style.overflow="hidden";var a=this.editor.getConfiguration().lineHeight,l=this.editor.getLayoutInfo().height/a*.8;l<=e&&(e=l);var u=0,h=0;if(this.options.showArrow&&(u=Math.round(a/3),this._arrow.height=u,this._arrow.show(n)),this.options.showFrame&&(h=Math.round(a/9)),this.editor.changeViewZones(function(t){i._viewZone&&t.removeZone(i._viewZone.id),i._overlayWidget&&(i.editor.removeOverlayWidget(i._overlayWidget),i._overlayWidget=null),i.domNode.style.top="-1000px",i._viewZone=new g(s,n.lineNumber,n.column,e,function(t){return i._onViewZoneTop(t)},function(t){return i._onViewZoneHeight(t)}),i._viewZone.id=t.addZone(i._viewZone),i._overlayWidget=new m("vs.editor.contrib.zoneWidget"+i._viewZone.id,i.domNode),i.editor.addOverlayWidget(i._overlayWidget)}),this.options.showFrame){var c=this.options.frameWidth?this.options.frameWidth:h;this.container.style.borderTopWidth=c+"px",this.container.style.borderBottomWidth=c+"px"}var d=e*a-this._decoratingElementsHeight();this.container.style.top=u+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden",this._doLayout(d,r),this.options.keepEditorSelection||this.editor.setSelection(t);var p=this.editor.getModel();if(p){var f=Math.min(p.getLineCount(),Math.max(1,t.endLineNumber+1));this.revealLine(f)}},b.prototype.revealLine=function(t){this.editor.revealLine(t,0)},b.prototype.setCssClass=function(t,e){e&&this.container.classList.remove(e),n.f(this.container,t)},b.prototype._onWidth=function(t){},b.prototype._doLayout=function(t,e){},b.prototype._relayout=function(e){var i=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(function(t){i._viewZone&&(i._viewZone.heightInLines=e,t.layoutZone(i._viewZone.id))})},b.prototype._initSash=function(){var o,r=this;this._resizeSash=new s.a(this.domNode,this,{orientation:1}),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.push(this._resizeSash.onDidStart(function(t){r._viewZone&&(o={startY:t.startY,heightInLines:r._viewZone.heightInLines})})),this._disposables.push(this._resizeSash.onDidEnd(function(){o=void 0})),this._disposables.push(this._resizeSash.onDidChange(function(t){if(o){var e=(t.currentY-o.startY)/r.editor.getConfiguration().lineHeight,i=e<0?Math.ceil(e):Math.floor(e),n=o.heightInLines+i;5<n&&n<35&&r._relayout(n)}}))},b.prototype.getHorizontalSashLeft=function(){return 0},b.prototype.getHorizontalSashTop=function(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2},b.prototype.getHorizontalSashWidth=function(){var t=this.editor.getLayoutInfo();return t.width-t.minimapWidth},b);function b(t,e){void 0===e&&(e={});var i=this;this._positionMarkerId=[],this._disposables=[],this._isShowing=!1,this.editor=t,this.options=l.c(e),l.g(this.options,d,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.push(this.editor.onDidLayoutChange(function(t){var e=i._getWidth(t);i.domNode.style.width=e+"px",i.domNode.style.left=i._getLeft(t)+"px",i._onWidth(e)}))}},function(t,e,i){"use strict";i.d(e,"a",function(){return m});i(238);var n,o=i(22),r=i(4),s=i(5),a=i(14),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function u(t,e){return!!t[e]}var h=function(t,e){this.target=t.target,this.hasTriggerModifier=u(t.event,e.triggerModifier),this.hasSideBySideModifier=u(t.event,e.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.k||t.event.detail<=1},c=function(t,e){this.keyCodeIsTriggerKey=t.keyCode===e.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===e.triggerSideBySideKey,this.hasTriggerModifier=u(t,e.triggerModifier)},d=(p.prototype.equals=function(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier},p);function p(t,e,i,n){this.triggerKey=t,this.triggerModifier=e,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}function f(t){return"altKey"===t?a.d?new d(57,"metaKey",6,"altKey"):new d(5,"ctrlKey",6,"altKey"):a.d?new d(6,"altKey",57,"metaKey"):new d(6,"altKey",5,"ctrlKey")}var g,m=(g=r.a,l(v,g),v.prototype.onDidChangeCursorSelection=function(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this.resetHandler()},v.prototype.onEditorMouseMove=function(t){this.lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])},v.prototype.onEditorMouseDown=function(t){this.hasTriggerKeyOnMouseDown=t.hasTriggerModifier},v.prototype.onEditorMouseUp=function(t){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(t)},v.prototype.onEditorKeyDown=function(t){this.lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()},v.prototype.onEditorKeyUp=function(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()},v.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},v);function v(t){var i=g.call(this)||this;return i._onMouseMoveOrRelevantKeyDown=i._register(new s.a),i.onMouseMoveOrRelevantKeyDown=i._onMouseMoveOrRelevantKeyDown.event,i._onExecute=i._register(new s.a),i.onExecute=i._onExecute.event,i._onCancel=i._register(new s.a),i.onCancel=i._onCancel.event,i._editor=t,i._opts=f(i._editor.getConfiguration().multiCursorModifier),i.lastMouseMoveEvent=null,i.hasTriggerKeyOnMouseDown=!1,i._register(i._editor.onDidChangeConfiguration(function(t){if(t.multiCursorModifier){var e=f(i._editor.getConfiguration().multiCursorModifier);if(i._opts.equals(e))return;i._opts=e,i.lastMouseMoveEvent=null,i.hasTriggerKeyOnMouseDown=!1,i._onCancel.fire()}})),i._register(i._editor.onMouseMove(function(t){return i.onEditorMouseMove(new h(t,i._opts))})),i._register(i._editor.onMouseDown(function(t){return i.onEditorMouseDown(new h(t,i._opts))})),i._register(i._editor.onMouseUp(function(t){return i.onEditorMouseUp(new h(t,i._opts))})),i._register(i._editor.onKeyDown(function(t){return i.onEditorKeyDown(new c(t,i._opts))})),i._register(i._editor.onKeyUp(function(t){return i.onEditorKeyUp(new c(t,i._opts))})),i._register(i._editor.onMouseDrag(function(){return i.resetHandler()})),i._register(i._editor.onDidChangeCursorSelection(function(t){return i.onDidChangeCursorSelection(t)})),i._register(i._editor.onDidChangeModel(function(t){return i.resetHandler()})),i._register(i._editor.onDidChangeModelContent(function(){return i.resetHandler()})),i._register(i._editor.onDidScrollChange(function(t){(t.scrollTopChanged||t.scrollLeftChanged)&&i.resetHandler()})),i}},function(t,e,i){"use strict";i(307);var n,r=i(108),o=i(120),s=i(13),d=i(4),h=i(35),a=i(5),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=(Object.defineProperty(c.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),c.prototype.dispose=function(){this._onDispose&&(this._onDispose.fire(),this._onDispose.dispose(),this._onDispose=null)},c);function c(t){this._onDispose=new a.a,this.onDispose=this._onDispose.event,this._item=t}var p=(f.prototype.isLocked=function(t){return!!this.locks[t.id]},f.prototype.run=function(n,o){var r=this,i=this.getLock(n);return i?new h.b(function(t,e){Object(a.k)(i.onDispose)(function(){return r.run(n,o).then(t,e)})}):new h.b(function(t,e){if(n.isDisposed())return e(new Error("Item is disposed."));var i=r.locks[n.id]=new u(n);return o().then(function(t){return delete r.locks[n.id],i.dispose(),t}).then(t,e)})},f.prototype.getLock=function(t){var e;for(e in this.locks){var i=this.locks[e];if(t.intersects(i.item))return i}return null},f);function f(){this.locks=Object.create({})}var g=(m.prototype.register=function(t){o.a(!this.isRegistered(t.id),"item already registered: "+t.id);var e=Object(d.c)([this._onDidRevealItem.add(t.onDidReveal),this._onExpandItem.add(t.onExpand),this._onDidExpandItem.add(t.onDidExpand),this._onCollapseItem.add(t.onCollapse),this._onDidCollapseItem.add(t.onDidCollapse),this._onDidAddTraitItem.add(t.onDidAddTrait),this._onDidRemoveTraitItem.add(t.onDidRemoveTrait),this._onDidRefreshItem.add(t.onDidRefresh),this._onRefreshItemChildren.add(t.onRefreshChildren),this._onDidRefreshItemChildren.add(t.onDidRefreshChildren),this._onDidDisposeItem.add(t.onDidDispose)]);this.items[t.id]={item:t,disposable:e}},m.prototype.deregister=function(t){o.a(this.isRegistered(t.id),"item not registered: "+t.id),this.items[t.id].disposable.dispose(),delete this.items[t.id]},m.prototype.isRegistered=function(t){return this.items.hasOwnProperty(t)},m.prototype.getItem=function(t){var e=this.items[t];return e?e.item:null},m.prototype.dispose=function(){this.items=null,this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._isDisposed=!0},m.prototype.isDisposed=function(){return this._isDisposed},m);function m(){this._isDisposed=!1,this._onDidRevealItem=new a.d,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new a.d,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new a.d,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new a.d,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new a.d,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new a.d,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new a.d,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new a.d,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new a.d,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new a.d,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new a.d,this.onDidDisposeItem=this._onDidDisposeItem.event,this.items={}}var v=(y.prototype.getElement=function(){return this.element},y.prototype.hasChildren=function(){return this.doesHaveChildren},y.prototype.getDepth=function(){return this.depth},y.prototype.isVisible=function(){return this.visible},y.prototype.setVisible=function(t){this.visible=t},y.prototype.isExpanded=function(){return this.expanded},y.prototype._setExpanded=function(t){this.expanded=t},y.prototype.reveal=function(t){void 0===t&&(t=null);var e={item:this,relativeTop:t};this._onDidReveal.fire(e)},y.prototype.expand=function(){var e=this;return this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this)?h.b.as(!1):this.lock.run(this,function(){if(e.isExpanded()||!e.doesHaveChildren)return h.b.as(!1);var t={item:e};return e._onExpand.fire(t),(e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):h.b.as(null)).then(function(){return e._setExpanded(!0),e._onDidExpand.fire(t),!0})}).then(function(t){return!e.isDisposed()&&(e.context.options.autoExpandSingleChildren&&t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):t)})},y.prototype.collapse=function(t){var e=this;if(void 0===t&&(t=!1),t){var i=h.b.as(null);return this.forEachChild(function(t){i=i.then(function(){return t.collapse(!0)})}),i.then(function(){return e.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?h.b.as(!1):this.lock.run(this,function(){var t={item:e};return e._onCollapse.fire(t),e._setExpanded(!1),e._onDidCollapse.fire(t),h.b.as(!0)})},y.prototype.addTrait=function(t){var e={item:this,trait:t};this.traits[t]=!0,this._onDidAddTrait.fire(e)},y.prototype.removeTrait=function(t){var e={item:this,trait:t};delete this.traits[t],this._onDidRemoveTrait.fire(e)},y.prototype.hasTrait=function(t){return this.traits[t]||!1},y.prototype.getAllTraits=function(){var t,e=[];for(t in this.traits)this.traits.hasOwnProperty(t)&&this.traits[t]&&e.push(t);return e},y.prototype.getHeight=function(){return this.height},y.prototype.refreshChildren=function(l,e,t){var u=this;if(void 0===e&&(e=!1),void 0===t&&(t=!1),!t&&!this.isExpanded()){var i=function(t){t.needsChildrenRefresh=!0,t.forEachChild(i)};return i(this),h.b.as(this)}function n(){var t={item:u,isNested:e};return u._onRefreshChildren.fire(t),(u.doesHaveChildren?u.context.dataSource.getChildren(u.context.tree,u.element):h.b.as([])).then(function(t){if(u.isDisposed()||u.registry.isDisposed())return h.b.as(null);if(!Array.isArray(t))return h.b.wrapError(new Error("Please return an array of children."));t=t?t.slice(0):[],t=u.sort(t);for(var e={};null!==u.firstChild;)e[u.firstChild.id]=u.firstChild,u.removeChild(u.firstChild);for(var i=0,n=t.length;i<n;i++){var o=t[i],r=u.context.dataSource.getId(u.context.tree,o),s=e[r]||new y(r,u.registry,u.context,u.lock,o);s.element=o,l&&(s.needsChildrenRefresh=l),delete e[r],u.addChild(s)}for(var a in e)e.hasOwnProperty(a)&&e[a].dispose();return l?h.a.join(u.mapEachChild(function(t){return t.doRefresh(l,!0)})):h.a.join(u.mapEachChild(function(t){return t.isExpanded()&&t.needsChildrenRefresh?t.doRefresh(l,!0):(t.updateVisibility(),h.b.as(null))}))}).then(null,s.e).then(function(){return u._onDidRefreshChildren.fire(t)})}return this.needsChildrenRefresh=!1,e?n():this.lock.run(this,n)},y.prototype.doRefresh=function(t,e){return void 0===e&&(e=!1),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.updateVisibility(),this._onDidRefresh.fire(this),this.refreshChildren(t,e)},y.prototype.updateVisibility=function(){this.setVisible(this._isVisible())},y.prototype.refresh=function(t){return this.doRefresh(t)},y.prototype.getNavigator=function(){return new C(this)},y.prototype.intersects=function(t){return this.isAncestorOf(t)||t.isAncestorOf(this)},y.prototype.isAncestorOf=function(t){for(;t;){if(t.id===this.id)return!0;t=t.parent}return!1},y.prototype.addChild=function(t,e){void 0===e&&(e=this.lastChild);var i=null===this.firstChild,n=null===e,o=e===this.lastChild;i?(this.firstChild=this.lastChild=t,t.next=t.previous=null):n?((this.firstChild.previous=t).next=this.firstChild,t.previous=null,this.firstChild=t):o?((this.lastChild.next=t).next=null,t.previous=this.lastChild,this.lastChild=t):(t.previous=e,t.next=e.next,e.next.previous=t,e.next=t),t.parent=this,t.depth=this.depth+1},y.prototype.removeChild=function(t){var e=this.firstChild===t,i=this.lastChild===t;e&&i?this.firstChild=this.lastChild=null:e?(t.next.previous=null,this.firstChild=t.next):i?(t.previous.next=null,this.lastChild=t.previous):(t.next.previous=t.previous,t.previous.next=t.next),t.parent=null,t.depth=null},y.prototype.forEachChild=function(t){for(var e,i=this.firstChild;i;)e=i.next,t(i),i=e},y.prototype.mapEachChild=function(e){var i=[];return this.forEachChild(function(t){i.push(e(t))}),i},y.prototype.sort=function(t){var i=this;return this.context.sorter?t.sort(function(t,e){return i.context.sorter.compare(i.context.tree,t,e)}):t},y.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},y.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},y.prototype.isDisposed=function(){return this._isDisposed},y.prototype.dispose=function(){this.forEachChild(function(t){return t.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this._onDidDispose.fire(this),this.registry.deregister(this),this._onDidCreate.dispose(),this._onDidReveal.dispose(),this._onExpand.dispose(),this._onDidExpand.dispose(),this._onCollapse.dispose(),this._onDidCollapse.dispose(),this._onDidAddTrait.dispose(),this._onDidRemoveTrait.dispose(),this._onDidRefresh.dispose(),this._onRefreshChildren.dispose(),this._onDidRefreshChildren.dispose(),this._onDidDispose.dispose(),this._isDisposed=!0},y);function y(t,e,i,n,o){this._onDidCreate=new a.a,this._onDidReveal=new a.a,this.onDidReveal=this._onDidReveal.event,this._onExpand=new a.a,this.onExpand=this._onExpand.event,this._onDidExpand=new a.a,this.onDidExpand=this._onDidExpand.event,this._onCollapse=new a.a,this.onCollapse=this._onCollapse.event,this._onDidCollapse=new a.a,this.onDidCollapse=this._onDidCollapse.event,this._onDidAddTrait=new a.a,this.onDidAddTrait=this._onDidAddTrait.event,this._onDidRemoveTrait=new a.a,this.onDidRemoveTrait=this._onDidRemoveTrait.event,this._onDidRefresh=new a.a,this.onDidRefresh=this._onDidRefresh.event,this._onRefreshChildren=new a.a,this.onRefreshChildren=this._onRefreshChildren.event,this._onDidRefreshChildren=new a.a,this.onDidRefreshChildren=this._onDidRefreshChildren.event,this._onDidDispose=new a.a,this.onDidDispose=this._onDidDispose.event,this.registry=e,this.context=i,this.lock=n,this.element=o,this.id=t,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.traits={},this.depth=0,this.expanded=this.context.dataSource.shouldAutoexpand&&this.context.dataSource.shouldAutoexpand(this.context.tree,o),this._onDidCreate.fire(this),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}var _,b=(l(w,_=v),w.prototype.isVisible=function(){return!1},w.prototype.setVisible=function(t){},w.prototype.isExpanded=function(){return!0},w.prototype._setExpanded=function(t){},w.prototype._getHeight=function(){return 0},w.prototype._isVisible=function(){return!1},w);function w(t,e,i,n,o){return _.call(this,t,e,i,n,o)||this}var C=(S.lastDescendantOf=function(t){return t?t instanceof b?S.lastDescendantOf(t.lastChild):t.isVisible()?t.isExpanded()&&null!==t.lastChild?S.lastDescendantOf(t.lastChild):t:S.lastDescendantOf(t.previous):null},S.prototype.current=function(){return this.item||null},S.prototype.next=function(){if(this.item)do{if((this.item instanceof b||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}}while(this.item&&!this.item.isVisible());return this.item||null},S.prototype.previous=function(){if(this.item)do{var t=S.lastDescendantOf(this.item.previous);t?this.item=t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},S.prototype.parent=function(){if(this.item){var t=this.item.parent;t&&t!==this.start&&t.isVisible()?this.item=t:this.item=null}return this.item||null},S.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},S.prototype.last=function(){return S.lastDescendantOf(this.start)},S);function S(t,e){void 0===e&&(e=!0),this.item=t,this.start=e?t:null}var x=(k.prototype.setInput=function(t){var i=this,e={item:this.input};this._onSetInput.fire(e),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new p,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new g,this._onDidRevealItem.input=this.registry.onDidRevealItem,this._onExpandItem.input=this.registry.onExpandItem,this._onDidExpandItem.input=this.registry.onDidExpandItem,this._onCollapseItem.input=this.registry.onCollapseItem,this._onDidCollapseItem.input=this.registry.onDidCollapseItem,this._onDidAddTraitItem.input=this.registry.onDidAddTraitItem,this._onDidRemoveTraitItem.input=this.registry.onDidRemoveTraitItem,this._onDidRefreshItem.input=this.registry.onDidRefreshItem,this._onRefreshItemChildren.input=this.registry.onRefreshItemChildren,this._onDidRefreshItemChildren.input=this.registry.onDidRefreshItemChildren,this._onDidDisposeItem.input=this.registry.onDidDisposeItem,this.registryDisposable=this.registry.onDidDisposeItem(function(e){return e.getAllTraits().forEach(function(t){return delete i.traitsToItems[t][e.id]})});var n=this.context.dataSource.getId(this.context.tree,t);return this.input=new b(n,this.registry,this.context,this.lock,t),e={item:this.input},this._onDidSetInput.fire(e),this.refresh(this.input)},k.prototype.getInput=function(){return this.input?this.input.getElement():null},k.prototype.refresh=function(t,e){var i=this;void 0===t&&(t=null),void 0===e&&(e=!0);var n=this.getItem(t);if(!n)return h.b.as(null);var o={item:n,recursive:e};return this._onRefresh.fire(o),n.refresh(e).then(function(){i._onDidRefresh.fire(o)})},k.prototype.expand=function(t){var e=this.getItem(t);return e?e.expand():h.b.as(!1)},k.prototype.collapse=function(t,e){void 0===e&&(e=!1);var i=this.getItem(t);return i?i.collapse(e):h.b.as(!1)},k.prototype.toggleExpansion=function(t,e){return void 0===e&&(e=!1),this.isExpanded(t)?this.collapse(t,e):this.expand(t)},k.prototype.isExpanded=function(t){var e=this.getItem(t);return!!e&&e.isExpanded()},k.prototype.reveal=function(e,i){var n=this;return void 0===i&&(i=null),this.resolveUnknownParentChain(e).then(function(t){var e=h.b.as(null);return t.forEach(function(t){e=e.then(function(){return n.expand(t)})}),e}).then(function(){var t=n.getItem(e);if(t)return t.reveal(i)})},k.prototype.resolveUnknownParentChain=function(t){var i=this;return this.context.dataSource.getParent(this.context.tree,t).then(function(e){return e?i.resolveUnknownParentChain(e).then(function(t){return t.push(e),t}):h.b.as([])})},k.prototype.setHighlight=function(t,e){this.setTraits("highlighted",t?[t]:[]);var i={highlight:this.getHighlight(),payload:e};this._onDidHighlight.fire(i)},k.prototype.getHighlight=function(t){var e=this.getElementsWithTrait("highlighted",t);return 0===e.length?null:e[0]},k.prototype.setSelection=function(t,e){this.setTraits("selected",t);var i={selection:this.getSelection(),payload:e};this._onDidSelect.fire(i)},k.prototype.getSelection=function(t){return this.getElementsWithTrait("selected",t)},k.prototype.setFocus=function(t,e){this.setTraits("focused",t?[t]:[]);var i={focus:this.getFocus(),payload:e};this._onDidFocus.fire(i)},k.prototype.getFocus=function(t){var e=this.getElementsWithTrait("focused",t);return 0===e.length?null:e[0]},k.prototype.focusNext=function(t,e){void 0===t&&(t=1);for(var i,n=this.getFocus()||this.input,o=this.getNavigator(n,!1),r=0;r<t&&(i=o.next());r++)n=i;this.setFocus(n,e)},k.prototype.focusPrevious=function(t,e){void 0===t&&(t=1);for(var i,n=this.getFocus()||this.input,o=this.getNavigator(n,!1),r=0;r<t&&(i=o.previous());r++)n=i;this.setFocus(n,e)},k.prototype.focusParent=function(t){var e=this.getFocus()||this.input,i=this.getNavigator(e,!1).parent();i&&this.setFocus(i,t)},k.prototype.focusFirstChild=function(t){var e=this.getItem(this.getFocus()||this.input),i=this.getNavigator(e,!1),n=i.next();i.parent()===e&&this.setFocus(n,t)},k.prototype.focusFirst=function(t,e){this.focusNth(0,t,e)},k.prototype.focusNth=function(t,e,i){for(var n=this.getParent(i),o=this.getNavigator(n),r=o.first(),s=0;s<t;s++)r=o.next();r&&this.setFocus(r,e)},k.prototype.focusLast=function(t,e){var i,n=this.getParent(e);(i=e?n.lastChild:this.getNavigator(n).last())&&this.setFocus(i,t)},k.prototype.getParent=function(t){if(t){var e=this.getItem(t);if(e&&e.parent)return e.parent}return this.getItem(this.input)},k.prototype.getNavigator=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),new C(this.getItem(t),e)},k.prototype.getItem=function(t){return void 0===t&&(t=null),null===t?this.input:t instanceof v?t:"string"==typeof t?this.registry.getItem(t):this.registry.getItem(this.context.dataSource.getId(this.context.tree,t))},k.prototype.removeTraits=function(t,e){var i,n,o=this.traitsToItems[t]||{};if(0===e.length){for(n in o)o.hasOwnProperty(n)&&(i=o[n]).removeTrait(t);delete this.traitsToItems[t]}else for(var r=0,s=e.length;r<s;r++)(i=this.getItem(e[r]))&&(i.removeTrait(t),delete o[i.id])},k.prototype.setTraits=function(t,e){if(0===e.length)this.removeTraits(t,e);else{for(var i,n={},o=0,r=e.length;o<r;o++)(i=this.getItem(e[o]))&&(n[i.id]=i);var s,a=this.traitsToItems[t]||{},l=[];for(s in a)a.hasOwnProperty(s)&&(n.hasOwnProperty(s)?delete n[s]:l.push(a[s]));for(o=0,r=l.length;o<r;o++)(i=l[o]).removeTrait(t),delete a[i.id];for(s in n)n.hasOwnProperty(s)&&((i=n[s]).addTrait(t),a[s]=i);this.traitsToItems[t]=a}},k.prototype.getElementsWithTrait=function(t,e){var i,n=[],o=this.traitsToItems[t]||{};for(i in o)o.hasOwnProperty(i)&&(o[i].isVisible()||e)&&n.push(o[i].getElement());return n},k.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),this._onSetInput.dispose(),this._onDidSetInput.dispose(),this._onRefresh.dispose(),this._onDidRefresh.dispose(),this._onDidHighlight.dispose(),this._onDidSelect.dispose(),this._onDidFocus.dispose(),this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._onDidDisposeItem.dispose()},k);function k(t){this._onSetInput=new a.a,this.onSetInput=this._onSetInput.event,this._onDidSetInput=new a.a,this.onDidSetInput=this._onDidSetInput.event,this._onRefresh=new a.a,this.onRefresh=this._onRefresh.event,this._onDidRefresh=new a.a,this.onDidRefresh=this._onDidRefresh.event,this._onDidHighlight=new a.a,this.onDidHighlight=this._onDidHighlight.event,this._onDidSelect=new a.a,this.onDidSelect=this._onDidSelect.event,this._onDidFocus=new a.a,this.onDidFocus=this._onDidFocus.event,this._onDidRevealItem=new a.e,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new a.e,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new a.e,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new a.e,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new a.e,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new a.e,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new a.e,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new a.e,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new a.e,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new a.e,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new a.e,this.context=t,this.input=null,this.traitsToItems={}}var O=i(14),E=i(22),L=i(1),D=i(156),I=i(65),N=i(8),T=i(39),M=i(51),A=(P.prototype.update=function(t){},P);function P(t){this.elements=t}var R=(F.prototype.update=function(t){},F);function F(t){this.elements=t}var j=(B.prototype.update=function(t){t.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,t.dataTransfer.types)),t.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,t.dataTransfer.files),this.files=this.files.filter(function(t){return t.size||t.type}))},B);function B(){this.types=[],this.files=[]}var H=i(83),W=i(79),V=(z.prototype.getContentHeight=function(){var t=this.heightMap[this.heightMap.length-1];return t?t.top+t.height:0},z.prototype.onInsertItems=function(t,e){var i,n,o,r,s;void 0===e&&(e=null);var a=0;if(null===e)s=o=0;else{if(o=this.indexes[e]+1,!(n=this.heightMap[o-1]))return void console.error("view item doesnt exist");s=n.top+n.height}for(var l=this.heightMap.splice.bind(this.heightMap,o,0),u=[];i=t.next();)(n=this.createViewItem(i)).top=s+a,this.indexes[i.id]=o++,u.push(n),a+=n.height;for(l.apply(this.heightMap,u),r=o;r<this.heightMap.length;r++)(n=this.heightMap[r]).top+=a,this.indexes[n.model.id]=r;for(r=u.length-1;0<=r;r--)this.onInsertItem(u[r]);for(r=this.heightMap.length-1;o<=r;r--)this.onRefreshItem(this.heightMap[r]);return a},z.prototype.onInsertItem=function(t){},z.prototype.onRemoveItems=function(t){for(var e,i,n,o=null,r=0;e=t.next();){if(n=this.indexes[e],!(i=this.heightMap[n]))return void console.error("view item doesnt exist");r-=i.height,delete this.indexes[e],this.onRemoveItem(i),null===o&&(o=n)}if(0!==r)for(this.heightMap.splice(o,n-o+1),n=o;n<this.heightMap.length;n++)(i=this.heightMap[n]).top+=r,this.indexes[i.model.id]=n,this.onRefreshItem(i)},z.prototype.onRemoveItem=function(t){},z.prototype.onRefreshItemSet=function(t){var i=this,e=t.sort(function(t,e){return i.indexes[t.id]-i.indexes[e.id]});this.onRefreshItems(new H.a(e))},z.prototype.onRefreshItems=function(t){for(var e,i,n,o,r=null,s=0;e=t.next();){for(o=this.indexes[e.id];0!==s&&null!==r&&r<o;r++)(i=this.heightMap[r]).top+=s,this.onRefreshItem(i);i=this.heightMap[o],n=e.getHeight(),i.top+=s,s+=n-i.height,i.height=n,this.onRefreshItem(i,!0),r=o+1}if(0!==s&&null!==r)for(;r<this.heightMap.length;r++)(i=this.heightMap[r]).top+=s,this.onRefreshItem(i)},z.prototype.onRefreshItem=function(t,e){void 0===e&&(e=!1)},z.prototype.indexAt=function(t){for(var e,i,n=0,o=this.heightMap.length;n<o;)if(e=Math.floor((n+o)/2),t<(i=this.heightMap[e]).top)o=e;else{if(!(t>=i.top+i.height))return e;if(n===e)break;n=e}return this.heightMap.length},z.prototype.indexAfter=function(t){return Math.min(this.indexAt(t)+1,this.heightMap.length)},z.prototype.itemAtIndex=function(t){return this.heightMap[t]},z.prototype.itemAfter=function(t){return this.heightMap[this.indexes[t.model.id]+1]||null},z.prototype.createViewItem=function(t){throw new Error("not implemented")},z.prototype.dispose=function(){this.heightMap=null,this.indexes=null},z);function z(){this.heightMap=[],this.indexes={}}var U,q=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),K=(G.prototype.preventDefault=function(){},G.prototype.stopPropagation=function(){},Object.defineProperty(G.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),G);function G(t,e,i){this._posx=t,this._posy=e,this._target=i}var Y,$=(q(Z,Y=K),Z.prototype.preventDefault=function(){this.originalEvent.preventDefault()},Z.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},Z);function Z(t){var e=Y.call(this,t.posx,t.posy,t.target)||this;return e.originalEvent=t,e}var X,J=(q(Q,X=K),Q.prototype.preventDefault=function(){this.originalEvent.preventDefault()},Q.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},Q);function Q(t,e,i){var n=X.call(this,t,e,i.target)||this;return n.originalEvent=i,n}var tt,et="ResourceURLs",it=i(17),nt=(tt=function(t,e){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});var ot=(rt.prototype.alloc=function(t){var e=this.cache(t).pop();if(!e){var i=document.createElement("div");i.className="content";var n=document.createElement("div");n.appendChild(i);var o=null;try{o=this.context.renderer.renderTemplate(this.context.tree,t,i)}catch(t){console.error("Tree usage error: exception while rendering template"),console.error(t)}e={element:n,templateId:t,templateData:o}}return e},rt.prototype.release=function(t,e){!function(t){try{t.parentElement.removeChild(t)}catch(t){}}(e.element),this.cache(t).push(e)},rt.prototype.cache=function(t){return this._cache[t]||(this._cache[t]=[])},rt.prototype.garbageCollect=function(){var i=this;this._cache&&Object.keys(this._cache).forEach(function(e){i._cache[e].forEach(function(t){i.context.renderer.disposeTemplate(i.context.tree,e,t.templateData),t.element=null,t.templateData=null}),delete i._cache[e]})},rt.prototype.dispose=function(){this.garbageCollect(),this._cache=null,this.context=null},rt);function rt(t){this.context=t,this._cache={"":[]}}var st=(Object.defineProperty(at.prototype,"expanded",{set:function(t){t?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(at.prototype,"loading",{set:function(t){t?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(at.prototype,"draggable",{get:function(){return this._draggable},set:function(t){this._draggable=t,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(at.prototype,"dropTarget",{set:function(t){t?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(at.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(at.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),at.prototype.addClass=function(t){this._styles[t]=!0,this.render(!0)},at.prototype.removeClass=function(t){delete this._styles[t],this.render(!0)},at.prototype.render=function(t){var e=this;if(void 0===t&&(t=!1),this.model&&this.element){var i=["monaco-tree-row"];i.push.apply(i,Object.keys(this._styles)),this.model.hasChildren()&&i.push("has-children"),this.element.className=i.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var n=this.context.accessibilityProvider,o=n.getAriaLabel(this.context.tree,this.model.getElement());if(o&&this.element.setAttribute("aria-label",o),n.getPosInSet&&n.getSetSize&&(this.element.setAttribute("aria-setsize",n.getSetSize()),this.element.setAttribute("aria-posinset",n.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait("focused")){var r=N.E(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",r)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(!!this._styles.expanded)):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var s=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());if(s!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),s?(this.uri=s,this.draggable=!0,this.unbindDragStart=L.h(this.element,"dragstart",function(t){e.onDragStart(t)})):this.uri=null),!t&&this.element){var a=window.getComputedStyle(this.element),l=parseFloat(a.paddingLeft);this.context.horizontalScrolling&&(this.element.style.width="fit-content");try{this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}catch(t){console.error("Tree usage error: exception while rendering element"),console.error(t)}this.context.horizontalScrolling&&(this.width=L.u(this.element)+l,this.element.style.width="")}}},at.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[dt.BINDING]=this),!this.element.parentElement){if(null===t)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch(t){console.warn("Failed to locate previous tree element"),e.appendChild(this.element)}this.render()}},at.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),this.uri=null,this.element[dt.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},at.prototype.dispose=function(){this.row=null,this.model=null},at);function at(t,e){var i=this;this.width=0,this.context=t,this.model=e,this.id=this.model.id,this.row=null,this.top=0,this.height=e.getHeight(),this._styles={},e.getAllTraits().forEach(function(t){return i._styles[t]=!0}),e.isExpanded()&&this.addClass("expanded")}var lt,ut=(nt(ht,lt=st),ht.prototype.render=function(){if(this.model&&this.element){var t=["monaco-tree-wrapper"];t.push.apply(t,Object.keys(this._styles)),this.model.hasChildren()&&t.push("has-children"),this.element.className=t.join(" ")}},ht.prototype.insertInDOM=function(t,e){},ht.prototype.removeFromDOM=function(){},ht);function ht(t,e,i){var n=lt.call(this,t,e)||this;return n.row={element:i,templateData:null,templateId:null},n}var ct,dt=(nt(pt,ct=V),Object.defineProperty(pt.prototype,"onDOMFocus",{get:function(){return this._onDOMFocus.event},enumerable:!0,configurable:!0}),pt.prototype.applyStyles=function(t){this.treeStyler.style(t)},pt.prototype.createViewItem=function(t){return new st(this.context,t)},pt.prototype.getHTMLElement=function(){return this.domNode},pt.prototype.focus=function(){this.domNode.focus()},pt.prototype.isFocused=function(){return document.activeElement===this.domNode},pt.prototype.blur=function(){this.domNode.blur()},pt.prototype.setupMSGesture=function(){var t=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return t.msGesture.target=t.wrapper},100))},pt.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},pt.prototype.layout=function(t,e){this.isTreeVisible()&&(this.viewHeight=t||L.t(this.wrapper),this.scrollHeight=this.getContentHeight(),this.horizontalScrolling&&(this.viewWidth=e||L.u(this.wrapper)))},pt.prototype.render=function(t,e,i,n,o){var r,s,a=t,l=t+e,u=this.lastRenderTop+this.lastRenderHeight;for(r=this.indexAfter(l)-1,s=this.indexAt(Math.max(u,a));s<=r;r--)this.insertItemInDOM(this.itemAtIndex(r));for(r=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(l))-1,s=this.indexAt(a);s<=r;r--)this.insertItemInDOM(this.itemAtIndex(r));for(r=this.indexAt(this.lastRenderTop),s=Math.min(this.indexAt(a),this.indexAfter(u));r<s;r++)this.removeItemFromDOM(this.itemAtIndex(r));for(r=Math.max(this.indexAfter(l),this.indexAt(this.lastRenderTop)),s=this.indexAfter(u);r<s;r++)this.removeItemFromDOM(this.itemAtIndex(r));var h=this.itemAtIndex(this.indexAt(a));h&&(this.rowsContainer.style.top=h.top-a+"px"),this.horizontalScrolling&&(this.rowsContainer.style.left=-i+"px",this.rowsContainer.style.width=Math.max(o,n)+"px"),this.lastRenderTop=a,this.lastRenderHeight=l-a},pt.prototype.setModel=function(t){this.releaseModel(),this.model=t,this.model.onRefresh(this.onRefreshing,this,this.modelListeners),this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners),this.model.onSetInput(this.onClearingInput,this,this.modelListeners),this.model.onDidSetInput(this.onSetInput,this,this.modelListeners),this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners),this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners),this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners),this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners),this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners),this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners),this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners),this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners),this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners),this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)},pt.prototype.onRefreshing=function(){this.isRefreshing=!0},pt.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},pt.prototype.onRowsChanged=function(t){void 0===t&&(t=this.scrollTop),this.isRefreshing||(this.scrollTop=t,this.updateScrollWidth())},pt.prototype.updateScrollWidth=function(){var o=this;this.horizontalScrolling&&this.contentWidthUpdateDelayer.trigger(function(){for(var t=0,e=0,i=Object.keys(o.items);e<i.length;e++){var n=i[e];t=Math.max(t,o.items[n].width)}o.scrollWidth=t+10})},pt.prototype.focusNextPage=function(t){var e=this,i=this.indexAt(this.scrollTop+this.viewHeight);i=0===i?0:i-1;var n=this.itemAtIndex(i).model.getElement();if(this.model.getFocus()!==n)this.model.setFocus(n,t);else{var o=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==o&&setTimeout(function(){e.focusNextPage(t)},0)}},pt.prototype.focusPreviousPage=function(t){var e,i=this;e=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var n=this.itemAtIndex(e).model.getElement();if(this.model.getFocus()!==n)this.model.setFocus(n,t);else{var o=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==o&&setTimeout(function(){i.focusPreviousPage(t)},0)}},Object.defineProperty(pt.prototype,"viewHeight",{get:function(){return this.scrollableElement.getScrollDimensions().height},set:function(t){this.scrollableElement.setScrollDimensions({height:t})},enumerable:!0,configurable:!0}),Object.defineProperty(pt.prototype,"scrollHeight",{set:function(t){this.scrollableElement.setScrollDimensions({scrollHeight:t})},enumerable:!0,configurable:!0}),Object.defineProperty(pt.prototype,"viewWidth",{get:function(){return this.scrollableElement.getScrollDimensions().width},set:function(t){this.scrollableElement.setScrollDimensions({width:t})},enumerable:!0,configurable:!0}),Object.defineProperty(pt.prototype,"scrollWidth",{set:function(t){this.scrollableElement.setScrollDimensions({scrollWidth:t})},enumerable:!0,configurable:!0}),Object.defineProperty(pt.prototype,"scrollTop",{get:function(){return this.scrollableElement.getScrollPosition().scrollTop},set:function(t){this.scrollableElement.setScrollDimensions({scrollHeight:this.getContentHeight()}),this.scrollableElement.setScrollPosition({scrollTop:t})},enumerable:!0,configurable:!0}),pt.prototype.onClearingInput=function(t){var e=t.item;e&&(this.onRemoveItems(new H.d(e.getNavigator(),function(t){return t&&t.id})),this.onRowsChanged())},pt.prototype.onSetInput=function(t){this.context.cache.garbageCollect(),this.inputItem=new ut(this.context,t.item,this.wrapper)},pt.prototype.onItemChildrenRefreshing=function(t){var e=t.item,i=this.items[e.id];if(i&&this.context.options.showLoading&&(i.loadingTimer=setTimeout(function(){i.loadingTimer=0,i.loading=!0},pt.LOADING_DECORATION_DELAY)),!t.isNested){for(var n,o=[],r=e.getNavigator();n=r.next();)o.push(n.id);this.refreshingPreviousChildrenIds[e.id]=o}},pt.prototype.onItemChildrenRefreshed=function(t){var n=this,e=t.item,i=this.items[e.id];if(i&&(i.loadingTimer&&(clearTimeout(i.loadingTimer),i.loadingTimer=0),i.loading=!1),!t.isNested){for(var o,r=this.refreshingPreviousChildrenIds[e.id],s=[],a=e.getNavigator();o=a.next();)s.push(o);var l=1e3<Math.abs(r.length-s.length),u=void 0,h=void 0;if(l||(h=(u=new D.a({getLength:function(){return r.length},getElementAtIndex:function(t){return r[t]}},{getLength:function(){return s.length},getElementAtIndex:function(t){return s[t].id}},null).ComputeDiff(!1)).some(function(t){if(0<t.modifiedLength)for(var e=t.modifiedStart,i=t.modifiedStart+t.modifiedLength;e<i;e++)if(n.items.hasOwnProperty(s[e].id))return!0;return!1})),!l&&!h&&u.length<50)for(var c=0,d=u.length;c<d;c++){var p=u[c];if(0<p.originalLength&&this.onRemoveItems(new H.a(r,p.originalStart,p.originalStart+p.originalLength)),0<p.modifiedLength){var f=s[p.modifiedStart-1]||e;f=0<f.getDepth()?f:null,this.onInsertItems(new H.a(s,p.modifiedStart,p.modifiedStart+p.modifiedLength),f?f.id:null)}}else(l||u.length)&&(this.onRemoveItems(new H.a(r)),this.onInsertItems(new H.a(s),0<e.getDepth()?e.id:null));(l||u.length)&&this.onRowsChanged()}},pt.prototype.onItemRefresh=function(t){this.onItemsRefresh([t])},pt.prototype.onItemsRefresh=function(t){var e=this;this.onRefreshItemSet(t.filter(function(t){return e.items.hasOwnProperty(t.id)})),this.onRowsChanged()},pt.prototype.onItemExpanding=function(t){var e=this.items[t.item.id];e&&(e.expanded=!0)},pt.prototype.onItemExpanded=function(t){var e=t.item,i=this.items[e.id];if(i){i.expanded=!0;var n=this.onInsertItems(e.getNavigator(),e.id),o=this.scrollTop;i.top+i.height<=this.scrollTop&&(o+=n),this.onRowsChanged(o)}},pt.prototype.onItemCollapsing=function(t){var e=t.item,i=this.items[e.id];i&&(i.expanded=!1,this.onRemoveItems(new H.d(e.getNavigator(),function(t){return t&&t.id})),this.onRowsChanged())},pt.prototype.onItemReveal=function(t){var e=t.item,i=t.relativeTop,n=this.items[e.id];if(n)if(null!==i){i=1<(i=i<0?0:i)?1:i;var o=n.height-this.viewHeight;this.scrollTop=o*i+n.top}else{var r=n.top+n.height,s=this.scrollTop+this.viewHeight;n.top<this.scrollTop?this.scrollTop=n.top:s<=r&&(this.scrollTop=r-this.viewHeight)}},pt.prototype.onItemAddTrait=function(t){var e=t.item,i=t.trait,n=this.items[e.id];n&&n.addClass(i),"highlighted"===i&&(L.f(this.domNode,i),n&&(this.highlightedItemWasDraggable=!!n.draggable,n.draggable&&(n.draggable=!1)))},pt.prototype.onItemRemoveTrait=function(t){var e=t.item,i=t.trait,n=this.items[e.id];n&&n.removeClass(i),"highlighted"===i&&(L.G(this.domNode,i),this.highlightedItemWasDraggable&&(n.draggable=!0),this.highlightedItemWasDraggable=!1)},pt.prototype.onModelFocusChange=function(){var t=this.model&&this.model.getFocus();L.P(this.domNode,"no-focused-item",!t),t?this.domNode.setAttribute("aria-activedescendant",N.E(this.context.dataSource.getId(this.context.tree,t))):this.domNode.removeAttribute("aria-activedescendant")},pt.prototype.onInsertItem=function(e){var i=this;e.onDragStart=function(t){i.onDragStart(e,t)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},pt.prototype.onRefreshItem=function(t,e){void 0===e&&(e=!1),t.needsRender=t.needsRender||e,this.refreshViewItem(t)},pt.prototype.onRemoveItem=function(t){this.removeItemFromDOM(t),t.dispose(),delete this.items[t.id]},pt.prototype.refreshViewItem=function(t){t.render(),this.shouldBeRendered(t)?this.insertItemInDOM(t):this.removeItemFromDOM(t)},pt.prototype.onClick=function(t){if(!this.lastPointerType||"mouse"===this.lastPointerType){var e=new T.b(t),i=this.getItemAround(e.target);i&&(E.k&&Date.now()-this.lastClickTimeStamp<300&&(e.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,i.model.getElement(),e))}},pt.prototype.onMouseMiddleClick=function(t){if(this.context.controller.onMouseMiddleClick){var e=new T.b(t),i=this.getItemAround(e.target);i&&this.context.controller.onMouseMiddleClick(this.context.tree,i.model.getElement(),e)}},pt.prototype.onMouseDown=function(t){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var e=new T.b(t);if(!(e.ctrlKey&&O.e&&O.d)){var i=this.getItemAround(e.target);i&&this.context.controller.onMouseDown(this.context.tree,i.model.getElement(),e)}}},pt.prototype.onMouseUp=function(t){if(this.context.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var e=new T.b(t);if(!(e.ctrlKey&&O.e&&O.d)){var i=this.getItemAround(e.target);i&&this.context.controller.onMouseUp(this.context.tree,i.model.getElement(),e)}}},pt.prototype.onTap=function(t){var e=this.getItemAround(t.initialTarget);e&&this.context.controller.onTap(this.context.tree,e.model.getElement(),t)},pt.prototype.onTouchChange=function(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY},pt.prototype.onContextMenu=function(t){var e,i;if(t instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var n,o=new M.a(t);if(i=this.model.getFocus()){var r=this.context.dataSource.getId(this.context.tree,i),s=this.items[r];n=L.v(s.element)}else i=this.model.getInput(),n=L.v(this.inputItem.element);e=new J(n.left+n.width,n.top,o)}else{var a=new T.b(t),l=this.getItemAround(a.target);if(!l)return;i=l.model.getElement(),e=new $(a)}this.context.controller.onContextMenu(this.context.tree,i,e)},pt.prototype.onKeyDown=function(t){var e=new M.a(t);this.didJustPressContextMenuKey=58===e.keyCode||e.shiftKey&&68===e.keyCode,e.target&&e.target.tagName&&"input"===e.target.tagName.toLowerCase()||(this.didJustPressContextMenuKey&&(e.preventDefault(),e.stopPropagation()),this.context.controller.onKeyDown(this.context.tree,e))},pt.prototype.onKeyUp=function(t){this.didJustPressContextMenuKey&&this.onContextMenu(t),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new M.a(t))},pt.prototype.onDragStart=function(t,e){if(!this.model.getHighlight()){var i,n=t.model.getElement(),o=this.model.getSelection();if(i=-1<o.indexOf(n)?o:[n],e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setData(et,JSON.stringify([t.uri])),e.dataTransfer.setDragImage){var r=void 0;r=this.context.dnd.getDragLabel?this.context.dnd.getDragLabel(this.context.tree,i):String(i.length);var s=document.createElement("div");s.className="monaco-tree-drag-image",s.textContent=r,document.body.appendChild(s),e.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragAndDropData=new A(i),pt.currentExternalDragAndDropData=new R(i),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new T.a(e))}},pt.prototype.setupDragAndDropScrollInterval=function(){var n=this,o=L.x(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==n.dragAndDropMouseY){var t=n.dragAndDropMouseY-o,e=0,i=n.viewHeight-35;t<35?e=Math.max(-14,.2*(t-35)):i<t&&(e=Math.min(14,.2*(t-i))),n.scrollTop+=e}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){n.cancelDragAndDropScrollInterval(),n.dragAndDropScrollTimeout=null},1e3))},pt.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},pt.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},pt.prototype.onDragOver=function(t){var e,i=this,n=new T.a(t),o=this.getItemAround(n.target);if(!o||0===n.posx&&0===n.posy&&n.browserEvent.type===L.d.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(t){return t.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=n.posy,!this.currentDragAndDropData)if(pt.currentExternalDragAndDropData)this.currentDragAndDropData=pt.currentExternalDragAndDropData;else{if(!n.dataTransfer.types)return!1;this.currentDragAndDropData=new j}this.currentDragAndDropData.update(n);var r,s=o.model;do{if(e=s?s.getElement():this.model.getInput(),!(r=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,e,n))||1!==r.bubble)break;s=s&&s.parent}while(s);if(!s)return this.currentDropElement=null,!1;var a=r&&r.accept;a?(this.currentDropElement=s.getElement(),n.preventDefault(),n.dataTransfer.dropEffect=0===r.effect?"copy":"move"):this.currentDropElement=null;var l=s.id===this.inputItem.id?this.inputItem:this.items[s.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==l||!function(t,e){return!t&&!e||t&&e&&t.accept===e.accept&&t.bubble===e.bubble&&t.effect===e.effect}(this.currentDropElementReaction,r))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(t){return t.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.currentDropTarget=l,this.currentDropElementReaction=r,a)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),0===r.bubble)for(var u,h=s.getNavigator();u=h.next();)(o=this.items[u.id])&&(o.dropTarget=!0,this.currentDropTargets.push(o));if(r.autoExpand){var c=Object(it.j)(500);this.currentDropDisposable=d.f(function(){return c.cancel()}),c.then(function(){return i.context.tree.expand(i.currentDropElement)}).then(function(){return i.shouldInvalidateDropReaction=!0})}}return!0},pt.prototype.onDrop=function(t){if(this.currentDropElement){var e=new T.a(t);e.preventDefault(),this.currentDragAndDropData.update(e),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,e),this.onDragEnd(t)}this.cancelDragAndDropScrollInterval()},pt.prototype.onDragEnd=function(t){this.currentDropTarget&&(this.currentDropTargets.forEach(function(t){return t.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropDisposable.dispose(),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,pt.currentExternalDragAndDropData=null,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},pt.prototype.onFocus=function(){this.context.options.alwaysFocused||L.f(this.domNode,"focused"),this._onDOMFocus.fire()},pt.prototype.onBlur=function(){this.context.options.alwaysFocused||L.G(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},pt.prototype.onMsPointerDown=function(t){if(this.msGesture){var e=t.pointerType;e!==(t.MSPOINTER_TYPE_MOUSE||"mouse")?e===(t.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",t.stopPropagation(),t.preventDefault(),this.msGesture.addPointer(t.pointerId)):this.lastPointerType="mouse"}},pt.prototype.onThrottledMsGestureChange=function(t){this.scrollTop-=t.translationY},pt.prototype.onMsGestureTap=function(t){t.initialTarget=document.elementFromPoint(t.clientX,t.clientY),this.onTap(t)},pt.prototype.insertItemInDOM=function(t){var e=null,i=this.itemAfter(t);i&&i.element&&(e=i.element),t.insertInDOM(this.rowsContainer,e)},pt.prototype.removeItemFromDOM=function(t){t&&t.removeFromDOM()},pt.prototype.shouldBeRendered=function(t){return t.top<this.lastRenderTop+this.lastRenderHeight&&t.top+t.height>this.lastRenderTop},pt.prototype.getItemAround=function(t){var e=this.inputItem;do{if(t[pt.BINDING]&&(e=t[pt.BINDING]),t===this.wrapper||t===this.domNode)return e;if(t===this.scrollableElement.getDomNode()||t===document.body)return null}while(t=t.parentElement)},pt.prototype.releaseModel=function(){this.model&&(this.modelListeners=d.d(this.modelListeners),this.model=null)},pt.prototype.dispose=function(){var e=this;this.scrollableElement.dispose(),this.releaseModel(),this.modelListeners=null,this.viewListeners=d.d(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.items&&(Object.keys(this.items).forEach(function(t){return e.items[t].removeFromDOM()}),this.items=null),this.context.cache&&(this.context.cache.dispose(),this.context.cache=null),ct.prototype.dispose.call(this)},pt.BINDING="monaco-tree-row",pt.LOADING_DECORATION_DELAY=800,pt.counter=0,pt.currentExternalDragAndDropData=null,pt);function pt(t,e){var i=ct.call(this)||this;i.lastClickTimeStamp=0,i.contentWidthUpdateDelayer=new it.a(50),i.isRefreshing=!1,i.refreshingPreviousChildrenIds={},i.currentDropDisposable=d.a.None,i._onDOMFocus=new a.a,i._onDOMBlur=new a.a,i._onDidScroll=new a.a,pt.counter++,i.instance=pt.counter;var n=void 0===t.options.horizontalScrollMode?2:t.options.horizontalScrollMode;i.horizontalScrolling=2!==n,i.context={dataSource:t.dataSource,renderer:t.renderer,controller:t.controller,dnd:t.dnd,filter:t.filter,sorter:t.sorter,tree:t.tree,accessibilityProvider:t.accessibilityProvider,options:t.options,cache:new ot(t),horizontalScrolling:i.horizontalScrolling},i.modelListeners=[],i.viewListeners=[],i.model=null,i.items={},i.domNode=document.createElement("div"),i.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+i.instance,i.domNode.tabIndex=t.options.preventRootFocus?-1:0,i.styleElement=L.p(i.domNode),i.treeStyler=t.styler,i.treeStyler||(i.treeStyler=new r.e(i.styleElement,"monaco-tree-instance-"+i.instance)),i.domNode.setAttribute("role","tree"),i.context.options.ariaLabel&&i.domNode.setAttribute("aria-label",i.context.options.ariaLabel),i.context.options.alwaysFocused&&L.f(i.domNode,"focused"),i.context.options.paddingOnRow||L.f(i.domNode,"no-row-padding"),i.wrapper=document.createElement("div"),i.wrapper.className="monaco-tree-wrapper",i.scrollableElement=new W.b(i.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:n,vertical:void 0!==t.options.verticalScrollMode?t.options.verticalScrollMode:1,useShadows:t.options.useShadows}),i.scrollableElement.onScroll(function(t){i.render(t.scrollTop,t.height,t.scrollLeft,t.width,t.scrollWidth),i._onDidScroll.fire()}),E.k?(i.wrapper.style.msTouchAction="none",i.wrapper.style.msContentZooming="none"):I.b.addTarget(i.wrapper),i.rowsContainer=document.createElement("div"),i.rowsContainer.className="monaco-tree-rows",t.options.showTwistie&&(i.rowsContainer.className+=" show-twisties");var o=L.Q(i.domNode);return i.viewListeners.push(o.onDidFocus(function(){return i.onFocus()})),i.viewListeners.push(o.onDidBlur(function(){return i.onBlur()})),i.viewListeners.push(o),i.viewListeners.push(L.h(i.domNode,"keydown",function(t){return i.onKeyDown(t)})),i.viewListeners.push(L.h(i.domNode,"keyup",function(t){return i.onKeyUp(t)})),i.viewListeners.push(L.h(i.domNode,"mousedown",function(t){return i.onMouseDown(t)})),i.viewListeners.push(L.h(i.domNode,"mouseup",function(t){return i.onMouseUp(t)})),i.viewListeners.push(L.h(i.wrapper,"auxclick",function(t){t&&1===t.button&&i.onMouseMiddleClick(t)})),i.viewListeners.push(L.h(i.wrapper,"click",function(t){return i.onClick(t)})),i.viewListeners.push(L.h(i.domNode,"contextmenu",function(t){return i.onContextMenu(t)})),i.viewListeners.push(L.h(i.wrapper,I.a.Tap,function(t){return i.onTap(t)})),i.viewListeners.push(L.h(i.wrapper,I.a.Change,function(t){return i.onTouchChange(t)})),E.k&&(i.viewListeners.push(L.h(i.wrapper,"MSPointerDown",function(t){return i.onMsPointerDown(t)})),i.viewListeners.push(L.h(i.wrapper,"MSGestureTap",function(t){return i.onMsGestureTap(t)})),i.viewListeners.push(L.j(i.wrapper,"MSGestureChange",function(t){return i.onThrottledMsGestureChange(t)},function(t,e){e.stopPropagation(),e.preventDefault();var i={translationY:e.translationY,translationX:e.translationX};return t&&(i.translationY+=t.translationY,i.translationX+=t.translationX),i}))),i.viewListeners.push(L.h(window,"dragover",function(t){return i.onDragOver(t)})),i.viewListeners.push(L.h(i.wrapper,"drop",function(t){return i.onDrop(t)})),i.viewListeners.push(L.h(window,"dragend",function(t){return i.onDragEnd(t)})),i.viewListeners.push(L.h(window,"dragleave",function(t){return i.onDragOver(t)})),i.wrapper.appendChild(i.rowsContainer),i.domNode.appendChild(i.scrollableElement.getDomNode()),e.appendChild(i.domNode),i.lastRenderTop=0,i.lastRenderHeight=0,i.didJustPressContextMenuKey=!1,i.currentDropTarget=null,i.currentDropTargets=[],i.shouldInvalidateDropReaction=!1,i.dragAndDropScrollInterval=null,i.dragAndDropScrollTimeout=null,i.onHiddenScrollTop=null,i.onRowsChanged(),i.layout(),i.setupMSGesture(),i.applyStyles(t.options),i}var ft=i(12),gt=i(27);i.d(e,"a",function(){return yt});var mt=function(t,e,i){if(void 0===i&&(i={}),this.tree=t,this.configuration=e,this.options=i,!e.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=e.dataSource,this.renderer=e.renderer,this.controller=e.controller||new r.b({clickBehavior:1,keyboardSupport:"boolean"!=typeof i.keyboardSupport||i.keyboardSupport}),this.dnd=e.dnd||new r.c,this.filter=e.filter||new r.d,this.sorter=e.sorter||null,this.accessibilityProvider=e.accessibilityProvider||new r.a,this.styler=e.styler||null},vt={listFocusBackground:ft.a.fromHex("#073655"),listActiveSelectionBackground:ft.a.fromHex("#0E639C"),listActiveSelectionForeground:ft.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:ft.a.fromHex("#094771"),listFocusAndSelectionForeground:ft.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:ft.a.fromHex("#3F3F46"),listHoverBackground:ft.a.fromHex("#2A2D2E"),listDropBackground:ft.a.fromHex("#383B3D")},yt=(_t.prototype.style=function(t){this.view.applyStyles(t)},Object.defineProperty(_t.prototype,"onDidFocus",{get:function(){return this.view&&this.view.onDOMFocus},enumerable:!0,configurable:!0}),_t.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},_t.prototype.layout=function(t,e){this.view.layout(t,e)},_t.prototype.domFocus=function(){this.view.focus()},_t.prototype.isDOMFocused=function(){return this.view.isFocused()},_t.prototype.domBlur=function(){this.view.blur()},_t.prototype.setInput=function(t){return this.model.setInput(t)},_t.prototype.getInput=function(){return this.model.getInput()},_t.prototype.refresh=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),this.model.refresh(t,e)},_t.prototype.expand=function(t){return this.model.expand(t)},_t.prototype.collapse=function(t,e){return void 0===e&&(e=!1),this.model.collapse(t,e)},_t.prototype.toggleExpansion=function(t,e){return void 0===e&&(e=!1),this.model.toggleExpansion(t,e)},_t.prototype.isExpanded=function(t){return this.model.isExpanded(t)},_t.prototype.reveal=function(t,e){return void 0===e&&(e=null),this.model.reveal(t,e)},_t.prototype.getHighlight=function(){return this.model.getHighlight()},_t.prototype.clearHighlight=function(t){this.model.setHighlight(null,t)},_t.prototype.setSelection=function(t,e){this.model.setSelection(t,e)},_t.prototype.getSelection=function(){return this.model.getSelection()},_t.prototype.clearSelection=function(t){this.model.setSelection([],t)},_t.prototype.setFocus=function(t,e){this.model.setFocus(t,e)},_t.prototype.getFocus=function(){return this.model.getFocus()},_t.prototype.focusNext=function(t,e){this.model.focusNext(t,e)},_t.prototype.focusPrevious=function(t,e){this.model.focusPrevious(t,e)},_t.prototype.focusParent=function(t){this.model.focusParent(t)},_t.prototype.focusFirstChild=function(t){this.model.focusFirstChild(t)},_t.prototype.focusFirst=function(t,e){this.model.focusFirst(t,e)},_t.prototype.focusNth=function(t,e){this.model.focusNth(t,e)},_t.prototype.focusLast=function(t,e){this.model.focusLast(t,e)},_t.prototype.focusNextPage=function(t){this.view.focusNextPage(t)},_t.prototype.focusPreviousPage=function(t){this.view.focusPreviousPage(t)},_t.prototype.clearFocus=function(t){this.model.setFocus(null,t)},_t.prototype.dispose=function(){this._onDispose.fire(),null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),this._onDidChangeFocus.dispose(),this._onDidChangeSelection.dispose(),this._onHighlightChange.dispose(),this._onDidExpandItem.dispose(),this._onDidCollapseItem.dispose(),this._onDispose.dispose()},_t);function _t(t,e,i){void 0===i&&(i={}),this._onDidChangeFocus=new a.e,this.onDidChangeFocus=this._onDidChangeFocus.event,this._onDidChangeSelection=new a.e,this.onDidChangeSelection=this._onDidChangeSelection.event,this._onHighlightChange=new a.e,this._onDidExpandItem=new a.e,this._onDidCollapseItem=new a.e,this._onDispose=new a.a,this.onDidDispose=this._onDispose.event,this.container=t,Object(gt.g)(i,vt,!1),i.twistiePixels="number"==typeof i.twistiePixels?i.twistiePixels:32,i.showTwistie=!1!==i.showTwistie,i.indentPixels="number"==typeof i.indentPixels?i.indentPixels:12,i.alwaysFocused=!0===i.alwaysFocused,i.useShadows=!1!==i.useShadows,i.paddingOnRow=!1!==i.paddingOnRow,i.showLoading=!1!==i.showLoading,this.context=new mt(this,e,i),this.model=new x(this.context),this.view=new dt(this.context,this.container),this.view.setModel(this.model),this._onDidChangeFocus.input=this.model.onDidFocus,this._onDidChangeSelection.input=this.model.onDidSelect,this._onHighlightChange.input=this.model.onDidHighlight,this._onDidExpandItem.input=this.model.onDidExpandItem,this._onDidCollapseItem.input=this.model.onDidCollapseItem}},function(t,e,i){"use strict";var s=i(1),r=(i(304),i(8)),n=i(12),o=i(27),a={badgeBackground:n.a.fromHex("#4D4D4D"),badgeForeground:n.a.fromHex("#FFFFFF")},l=(u.prototype.setCount=function(t){this.count=t,this.render()},u.prototype.setTitleFormat=function(t){this.titleFormat=t,this.render()},u.prototype.render=function(){this.element.textContent=Object(r.p)(this.countFormat,this.count),this.element.title=Object(r.p)(this.titleFormat,this.count),this.applyStyles()},u.prototype.style=function(t){this.badgeBackground=t.badgeBackground,this.badgeForeground=t.badgeForeground,this.badgeBorder=t.badgeBorder,this.applyStyles()},u.prototype.applyStyles=function(){if(this.element){var t=this.badgeBackground?this.badgeBackground.toString():null,e=this.badgeForeground?this.badgeForeground.toString():null,i=this.badgeBorder?this.badgeBorder.toString():null;this.element.style.backgroundColor=t,this.element.style.color=e,this.element.style.borderWidth=i?"1px":null,this.element.style.borderStyle=i?"solid":null,this.element.style.borderColor=i}},u);function u(t,e){this.options=e||Object.create(null),Object(o.g)(this.options,a,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Object(s.l)(t,Object(s.a)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}var h=i(153),c=i(126),d=i(13),p=i(5),f=i(172),g=i(4),m=i(49),v=i(93),y=(i(306),i(150)),_=i(2),b=i(24),w=i(117),C=i(0),S=i(10),x=i(18),k=i(159),O=i(131),E=i(7),L=i(104),D=i(16),I=i(113),N=i(55);i.d(e,"b",function(){return it}),i.d(e,"a",function(){return nt});var T,M=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),A=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},P=function(i,n){return function(t,e){n(t,e,i)}},R=function(r,s,a,l){return new(a=a||Promise)(function(t,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function n(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,n)}o((l=l.apply(r,s||[])).next())})},F=function(i,n){var o,r,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(s=2&e[0]?r.return:e[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,e[1])).done)return s;switch(r=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],r=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},j=(B.prototype.dispose=function(){this._callOnModelChange=Object(g.d)(this._callOnModelChange),this._callOnDispose=Object(g.d)(this._callOnDispose),this.removeDecorations()},B.prototype._onModelChanged=function(){this._callOnModelChange=Object(g.d)(this._callOnModelChange);var t=this._editor.getModel();if(t)for(var e=0,i=this._model.groups;e<i.length;e++){var n=i[e];if(n.uri.toString()===t.uri.toString())return void this._addDecorations(n)}},B.prototype._addDecorations=function(t){var e=this;this._callOnModelChange.push(this._editor.getModel().onDidChangeDecorations(function(t){return e._onDecorationChanged()}));for(var i=[],n=[],o=0,r=t.children.length;o<r;o++){var s=t.children[o];this._decorationIgnoreSet.has(s.id)||(i.push({range:s.range,options:B.DecorationOptions}),n.push(o))}var a=this._editor.deltaDecorations([],i);for(o=0;o<a.length;o++)this._decorations.set(a[o],t.children[n[o]])},B.prototype._onDecorationChanged=function(){var o=this,r=[];this._decorations.forEach(function(t,e){var i=o._editor.getModel().getDecorationRange(e);if(i){var n=!1;_.a.equalsRange(i,t.range)||(_.a.spansMultipleLines(i)?n=!0:t.range.endColumn-t.range.startColumn!=i.endColumn-i.startColumn&&(n=!0),n?(o._decorationIgnoreSet.add(t.id),r.push(e)):t.range=i)}});for(var t=0,e=r.length;t<e;t++)this._decorations.delete(r[t]);this._editor.deltaDecorations(r,[])},B.prototype.removeDecorations=function(){var i=[];this._decorations.forEach(function(t,e){i.push(e)}),this._editor.deltaDecorations(i,[]),this._decorations.clear()},B.DecorationOptions=b.a.register({stickiness:1,className:"reference-decoration"}),B);function B(t,e){var i=this;this._editor=t,this._model=e,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=[],this._callOnModelChange=[],this._callOnDispose.push(this._editor.onDidChangeModel(function(){return i._onModelChanged()})),this._onModelChanged()}var H=(W.prototype.getId=function(t,e){return e instanceof N.c?"root":e instanceof N.a?e.id:e instanceof N.b?e.id:void 0},W.prototype.hasChildren=function(t,e){return e instanceof N.c||e instanceof N.a&&!e.failure},W.prototype.getChildren=function(e,i){return i instanceof N.c?Promise.resolve(i.groups):i instanceof N.a?i.resolve(this._textModelResolverService).then(function(t){return i.failure?e.refresh(i).then(function(){return t.children}):t.children}):Promise.resolve([])},W.prototype.getParent=function(t,e){var i=null;return e instanceof N.a?i=e.parent:e instanceof N.b&&(i=e.parent),Promise.resolve(i)},W=A([P(0,w.a)],W));function W(t){this._textModelResolverService=t}var V,z=(V=O.d,M(U,V),U.prototype.onTap=function(t,e,i){if(e instanceof N.a)return i.preventDefault(),i.stopPropagation(),this._expandCollapse(t,e);var n=V.prototype.onTap.call(this,t,e,i);return this._onDidFocus.fire(e),n},U.prototype.onMouseDown=function(t,e,i){var n=2===i.detail;if(i.leftButton){if(e instanceof N.a&&(this.openOnSingleClick||n||this.isClickOnTwistie(i)))return i.preventDefault(),i.stopPropagation(),this._expandCollapse(t,e);var o=V.prototype.onClick.call(this,t,e,i);return(i.ctrlKey||i.metaKey||i.altKey)&&(n||this.openOnSingleClick)?this._onDidOpenToSide.fire(e):n?this._onDidSelect.fire(e):this.openOnSingleClick&&this._onDidFocus.fire(e),o}return!1},U.prototype.onClick=function(t,e,i){return!i.leftButton&&V.prototype.onClick.call(this,t,e,i)},U.prototype._expandCollapse=function(t,e){return t.isExpanded(e)?t.collapse(e).then(null,d.e):t.expand(e).then(null,d.e),!0},U.prototype.onEscape=function(t,e){return!1},U.prototype.dispose=function(){this._onDidFocus.dispose(),this._onDidSelect.dispose(),this._onDidOpenToSide.dispose()},U);function U(){var t=null!==V&&V.apply(this,arguments)||this;return t._onDidFocus=new p.a,t.onDidFocus=t._onDidFocus.event,t._onDidSelect=new p.a,t.onDidSelect=t._onDidSelect.event,t._onDidOpenToSide=new p.a,t.onDidOpenToSide=t._onDidOpenToSide.event,t}var q=(K.prototype.set=function(t){var e=Object(v.c)(t.uri);this.file.setValue(Object(f.a)(t.uri),e?this._uriLabel.getUriLabel(e,{relative:!0}):void 0,{title:this._uriLabel.getUriLabel(t.uri)});var i=t.children.length;this.badge.setCount(i),t.failure?this.badge.setTitleFormat(C.a("referencesFailre","Failed to resolve file.")):1<i?this.badge.setTitleFormat(C.a("referencesCount","{0} references",i)):this.badge.setTitleFormat(C.a("referenceCount","{0} reference",i))},K=A([P(1,k.a),P(2,D.c)],K));function K(t,e,i){var n=this;this._uriLabel=e;var o=document.createElement("div");s.f(o,"reference-file"),t.appendChild(o),this.file=new h.a(o),this.badge=new l(s.l(o,s.a(".count")));var r=Object(L.a)(this.badge,i);this.dispose=function(){n.file.dispose(),r.dispose()}}var G=(Y.prototype.set=function(t){var e=t.parent.preview.preview(t.range),i=e.before,n=e.inside,o=e.after;this.before.innerHTML=r.m(i),this.inside.innerHTML=r.m(n),this.after.innerHTML=r.m(o)},Y);function Y(t){var e=document.createElement("div");this.before=document.createElement("span"),this.inside=document.createElement("span"),this.after=document.createElement("span"),s.f(this.inside,"referenceMatch"),s.f(e,"reference"),e.appendChild(this.before),e.appendChild(this.inside),e.appendChild(this.after),t.appendChild(e)}var $=(Z.prototype.getHeight=function(t,e){return 23},Z.prototype.getTemplateId=function(t,e){if(e instanceof N.a)return Z._ids.FileReferences;if(e instanceof N.b)return Z._ids.OneReference;throw e},Z.prototype.renderTemplate=function(t,e,i){if(e===Z._ids.FileReferences)return new q(i,this._uriLabel,this._themeService);if(e===Z._ids.OneReference)return new G(i);throw e},Z.prototype.renderElement=function(t,e,i,n){if(e instanceof N.a)n.set(e);else{if(!(e instanceof N.b))throw i;n.set(e)}},Z.prototype.disposeTemplate=function(t,e,i){i instanceof q&&i.dispose()},Z._ids={FileReferences:"FileReferences",OneReference:"OneReference"},Z=A([P(0,D.c),P(1,k.a)],Z));function Z(t,e){this._themeService=t,this._uriLabel=e}var X=(J.prototype.getAriaLabel=function(t,e){return e instanceof N.a?e.getAriaMessage():e instanceof N.b?e.getAriaMessage():void 0},J);function J(){}var Q=(tt.prototype.dispose=function(){this._sash.dispose(),this._onDidChangePercentages.dispose(),Object(g.d)(this._disposables)},Object.defineProperty(tt.prototype,"onDidChangePercentages",{get:function(){return this._onDidChangePercentages.event},enumerable:!0,configurable:!0}),Object.defineProperty(tt.prototype,"width",{set:function(t){this._width=t,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(tt.prototype,"height",{set:function(t){this._height=t,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(tt.prototype,"percentages",{get:function(){var t=100*this._ratio;return[t+"%",100-t+"%"]},enumerable:!0,configurable:!0}),Object.defineProperty(tt.prototype,"ratio",{get:function(){return this._ratio},enumerable:!0,configurable:!0}),tt);function tt(t,e){var i,n=this;this._disposables=[],this._onDidChangePercentages=new p.a,this._ratio=e,this._sash=new c.a(t,{getVerticalSashLeft:function(){return n._width*n._ratio},getVerticalSashHeight:function(){return n._height}}),this._disposables.push(this._sash.onDidStart(function(t){i=t.startX-n._width*n.ratio})),this._disposables.push(this._sash.onDidChange(function(t){var e=t.currentX-i;20<e&&20+e<n._width&&(n._ratio=e/n._width,n._sash.layout(),n._onDidChangePercentages.fire(n))}))}var et,it=new S.f("referenceSearchTreeFocused",!0),nt=(et=I.b,M(ot,et),ot.prototype._applyTheme=function(t){var e=t.getColor(lt)||n.a.transparent;this.style({arrowColor:e,frameColor:e,headerBackgroundColor:t.getColor(rt)||n.a.transparent,primaryHeadingColor:t.getColor(st),secondaryHeadingColor:t.getColor(at)})},ot.prototype.dispose=function(){this.setModel(null),this._callOnDispose=Object(g.d)(this._callOnDispose),Object(g.d)(this._preview,this._previewNotAvailableMessage,this._tree,this._sash,this._previewModelReference),et.prototype.dispose.call(this)},Object.defineProperty(ot.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:!0,configurable:!0}),ot.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),et.prototype.show.call(this,t,this.layoutData.heightInLines||18)},ot.prototype.focus=function(){this._tree.domFocus()},ot.prototype._onTitleClick=function(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})},ot.prototype._fillBody=function(t){var n=this;this.setCssClass("reference-zone-widget"),this._messageContainer=s.l(t,s.a("div.messages")),s.B(this._messageContainer),this._previewContainer=s.l(t,s.a("div.preview.inline")),this._preview=this._instantiationService.createInstance(y.a,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),s.B(this._previewContainer),this._previewNotAvailableMessage=b.b.createFromString(C.a("missingPreviewMessage","no preview available")),this._sash=new Q(t,this.layoutData.ratio||.8),this._sash.onDidChangePercentages(function(){var t=n._sash.percentages,e=t[0],i=t[1];n._previewContainer.style.width=e,n._treeContainer.style.width=i,n._preview.layout(),n._tree.layout(),n.layoutData.ratio=n._sash.ratio}),this._treeContainer=s.l(t,s.a("div.ref-tree.inline"));var e=this._instantiationService.createInstance(z,{keyboardSupport:this._defaultTreeKeyboardSupport,clickBehavior:1});this._callOnDispose.push(e);var i={dataSource:this._instantiationService.createInstance(H),renderer:this._instantiationService.createInstance($),controller:e,accessibilityProvider:new X},o={twistiePixels:20,ariaLabel:C.a("treeAriaLabel","References")};function r(t,e){t instanceof N.b&&("show"===e&&n._revealReference(t,!1),n._onDidSelectReference.fire({element:t,kind:e,source:"tree"}))}this._tree=this._instantiationService.createInstance(O.c,this._treeContainer,i,o),it.bindTo(this._tree.contextKeyService),this._disposables.push(this._tree.onDidChangeFocus(function(t){t&&t.payload&&"keyboard"===t.payload.origin&&r(t.focus,"show")})),this._disposables.push(this._tree.onDidChangeSelection(function(t){t&&t.payload&&"keyboard"===t.payload.origin&&r(t.selection[0],"goto")})),this._disposables.push(e.onDidFocus(function(t){return r(t,"show")})),this._disposables.push(e.onDidSelect(function(t){return r(t,"goto")})),this._disposables.push(e.onDidOpenToSide(function(t){return r(t,"side")})),s.B(this._treeContainer)},ot.prototype._doLayoutBody=function(t,e){et.prototype._doLayoutBody.call(this,t,e);var i=t+"px";this._sash.height=t,this._sash.width=e;var n=this._sash.percentages,o=n[0],r=n[1];this._previewContainer.style.height=i,this._previewContainer.style.width=o,this._treeContainer.style.height=i,this._treeContainer.style.width=r,this._tree.layout(t),this._preview.layout(),this.layoutData={heightInLines:this._viewZone.heightInLines,ratio:this._sash.ratio}},ot.prototype._onWidth=function(t){this._sash.width=t,this._preview.layout()},ot.prototype.setSelection=function(t){var e=this;return this._revealReference(t,!0).then(function(){e._model&&(e._tree.setSelection([t]),e._tree.setFocus(t))})},ot.prototype.setModel=function(t){if(this._disposeOnNewModel=Object(g.d)(this._disposeOnNewModel),this._model=t,this._model)return this._onNewModel()},ot.prototype._onNewModel=function(){var n=this;if(this._model.empty)return this.setTitle(""),this._messageContainer.innerHTML=C.a("noResults","No results"),s.O(this._messageContainer),Promise.resolve(void 0);s.B(this._messageContainer),this._decorationsManager=new j(this._preview,this._model),this._disposeOnNewModel.push(this._decorationsManager),this._disposeOnNewModel.push(this._model.onDidChangeReferenceRange(function(t){return n._tree.refresh(t)})),this._disposeOnNewModel.push(this._preview.onMouseDown(function(t){var e=t.event,i=t.target;2===e.detail&&n._onDidSelectReference.fire({element:{uri:n._getFocusedReference().uri,range:i.range},kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"editor"})})),s.f(this.container,"results-loaded"),s.O(this._treeContainer),s.O(this._previewContainer),this._preview.layout(),this._tree.layout(),this.focus();var t=1===this._model.groups.length?this._model.groups[0]:this._model;return this._tree.setInput(t)},ot.prototype._getFocusedReference=function(){var t=this._tree.getFocus();return t instanceof N.b?t:t instanceof N.a&&0<t.children.length?t.children[0]:void 0},ot.prototype._revealReference=function(s,i){return R(this,void 0,void 0,function(){var e,r=this;return F(this,function(t){switch(t.label){case 0:return s.uri.scheme!==m.a.inMemory?this.setTitle(Object(v.b)(s.uri),this._uriLabel.getUriLabel(Object(v.c)(s.uri))):this.setTitle(C.a("peekView.alternateTitle","References")),e=this._textModelResolverService.createModelReference(s.uri),i?[4,this._tree.reveal(s.parent)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,Promise.all([e,this._tree.reveal(s)]).then(function(t){var e=t[0];if(r._model){Object(g.d)(r._previewModelReference);var i=e.object;if(i){r._previewModelReference=e;var n=r._preview.getModel()===i.textEditorModel;r._preview.setModel(i.textEditorModel);var o=_.a.lift(s.range).collapseToStart();r._preview.setSelection(o),r._preview.revealRangeInCenter(o,n?0:1)}else r._preview.setModel(r._previewNotAvailableMessage),e.dispose()}else e.dispose()},d.e)]}})})},ot=A([P(3,D.c),P(4,w.a),P(5,x.a),P(6,k.a)],ot));function ot(t,e,i,n,o,r,s){var a=et.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return a._defaultTreeKeyboardSupport=e,a.layoutData=i,a._textModelResolverService=o,a._instantiationService=r,a._uriLabel=s,a._disposeOnNewModel=[],a._callOnDispose=[],a._onDidSelectReference=new p.a,a._applyTheme(n.getTheme()),a._callOnDispose.push(n.onThemeChange(a._applyTheme.bind(a))),a.create(),a}var rt=Object(E.ub)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},C.a("peekViewTitleBackground","Background color of the peek view title area.")),st=Object(E.ub)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},C.a("peekViewTitleForeground","Color of the peek view title.")),at=Object(E.ub)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},C.a("peekViewTitleInfoForeground","Color of the peek view title info.")),lt=Object(E.ub)("peekView.border",{dark:"#007acc",light:"#007acc",hc:E.e},C.a("peekViewBorder","Color of the peek view borders and arrow.")),ut=Object(E.ub)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:n.a.black},C.a("peekViewResultsBackground","Background color of the peek view result list.")),ht=Object(E.ub)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:n.a.white},C.a("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),ct=Object(E.ub)("peekViewResult.fileForeground",{dark:n.a.white,light:"#1E1E1E",hc:n.a.white},C.a("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),dt=Object(E.ub)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},C.a("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),pt=Object(E.ub)("peekViewResult.selectionForeground",{dark:n.a.white,light:"#6C6C6C",hc:n.a.white},C.a("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),ft=Object(E.ub)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:n.a.black},C.a("peekViewEditorBackground","Background color of the peek view editor.")),gt=Object(E.ub)("peekViewEditorGutter.background",{dark:ft,light:ft,hc:ft},C.a("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),mt=Object(E.ub)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},C.a("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),vt=Object(E.ub)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},C.a("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),yt=Object(E.ub)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:E.b},C.a("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));Object(D.e)(function(t,e){var i=t.getColor(mt);i&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { background-color: "+i+"; }");var n=t.getColor(vt);n&&e.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+n+"; }");var o=t.getColor(yt);o&&e.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+o+"; box-sizing: border-box; }");var r=t.getColor(E.b);r&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { border: 1px dotted "+r+"; box-sizing: border-box; }");var s=t.getColor(ut);s&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+s+"; }");var a=t.getColor(ht);a&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+a+"; }");var l=t.getColor(ct);l&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+l+"; }");var u=t.getColor(dt);u&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+u+"; }");var h=t.getColor(pt);h&&e.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+h+" !important; }");var c=t.getColor(ft);c&&e.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+c+";}");var d=t.getColor(gt);d&&e.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+d+";}")})},function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return d});var u=i(25),n=i(174),h=i(84),o=i(119),r=i(66),s=i(245),a=(l.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},l.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},l.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout(function(){e._scopeListeners.forEach(function(t){t(e)}),e._notifyingListeners=!1}))},l.prototype._notifyEventProcessors=function(o,r,s,a){var l=this;return void 0===a&&(a=0),new n.a(function(e,t){var i=o[a];if(null===r||"function"!=typeof i)e(r);else{var n=i(u.a({},r),s);Object(h.l)(n)?n.then(function(t){return l._notifyEventProcessors(o,t,s,a+1).then(e)}).then(null,t):l._notifyEventProcessors(o,n,s,a+1).then(e).then(null,t)}})},l.prototype.setUser=function(t){return this._user=Object(o.c)(t),this._notifyScopeListeners(),this},l.prototype.setTags=function(t){return this._tags=u.a({},this._tags,Object(o.c)(t)),this._notifyScopeListeners(),this},l.prototype.setTag=function(t,e){var i;return this._tags=u.a({},this._tags,((i={})[t]=Object(o.c)(e),i)),this._notifyScopeListeners(),this},l.prototype.setExtras=function(t){return this._extra=u.a({},this._extra,Object(o.c)(t)),this._notifyScopeListeners(),this},l.prototype.setExtra=function(t,e){var i;return this._extra=u.a({},this._extra,((i={})[t]=Object(o.c)(e),i)),this._notifyScopeListeners(),this},l.prototype.setFingerprint=function(t){return this._fingerprint=Object(o.c)(t),this._notifyScopeListeners(),this},l.prototype.setLevel=function(t){return this._level=Object(o.c)(t),this._notifyScopeListeners(),this},l.prototype.setTransaction=function(t){return this._transaction=t,this._notifyScopeListeners(),this},l.prototype.setContext=function(t,e){return this._context[t]=e?Object(o.c)(e):void 0,this._notifyScopeListeners(),this},l.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},l.prototype.startSpan=function(t){var e=new s.a;return e.setParent(t),this.setSpan(e),e},l.prototype.getSpan=function(){return this._span},l.clone=function(t){var e=new l;return t&&(e._breadcrumbs=u.d(t._breadcrumbs),e._tags=u.a({},t._tags),e._extra=u.a({},t._extra),e._context=u.a({},t._context),e._user=t._user,e._level=t._level,e._span=t._span,e._transaction=t._transaction,e._fingerprint=t._fingerprint,e._eventProcessors=u.d(t._eventProcessors)),e},l.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},l.prototype.addBreadcrumb=function(t,e){var i=(new Date).getTime()/1e3,n=u.a({timestamp:i},t);return this._breadcrumbs=void 0!==e&&0<=e?u.d(this._breadcrumbs,[Object(o.c)(n)]).slice(-e):u.d(this._breadcrumbs,[Object(o.c)(n)]),this._notifyScopeListeners(),this},l.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},l.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},l.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=u.a({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=u.a({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=u.a({},this._user,t.user)),this._context&&Object.keys(this._context).length&&(t.contexts=u.a({},this._context,t.contexts)),this._level&&(t.level=this._level),this._transaction&&(t.transaction=this._transaction),this._span&&(t.contexts=t.contexts||{},t.contexts.trace=this._span),this._applyFingerprint(t),t.breadcrumbs=u.d(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=0<t.breadcrumbs.length?t.breadcrumbs:void 0,this._notifyEventProcessors(u.d(c(),this._eventProcessors),t,e)},l);function l(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}function c(){var t=Object(r.f)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function d(t){c().push(t)}},function(t,e,i){"use strict";i.r(e);i(267);var n,o,h=i(0),r=i(22),s=i(1),a=i(26),c=i(140),l=i(50),u=i(60),d=i(4),p=i(14),f=i(8),g=i(30),m=i(3),v=i(6),y=i(146),_=i(10),b=i(18),w=i(64),C=i(80),S=i(7),x=i(16),k=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),O=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},E=function(i,n){return function(t,e){n(t,e,i)}},L=new _.f("accessibilityHelpWidgetVisible",!1),D=(o=d.a,k(I,o),I.get=function(t){return t.getContribution(I.ID)},I.prototype.getId=function(){return I.ID},I.prototype.show=function(){this._widget.show()},I.prototype.hide=function(){this._widget.hide()},I.ID="editor.contrib.accessibilityHelpController",I=O([E(1,b.a)],I));function I(t,e){var i=o.call(this)||this;return i._editor=t,i._widget=i._register(e.createInstance(F,i._editor)),i}var N=h.a("noSelection","No selection"),T=h.a("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),M=h.a("singleSelection","Line {0}, Column {1}"),A=h.a("multiSelectionRange","{0} selections ({1} characters selected)"),P=h.a("multiSelection","{0} selections");var R,F=(R=u.a,k(j,R),j.prototype.dispose=function(){this._editor.removeOverlayWidget(this),R.prototype.dispose.call(this)},j.prototype.getId=function(){return j.ID},j.prototype.getDomNode=function(){return this._domNode.domNode},j.prototype.getPosition=function(){return{preference:null}},j.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())},j.prototype._descriptionForCommand=function(t,e,i){var n=this._keybindingService.lookupKeybinding(t);return n?f.p(e,n.getAriaLabel()):f.p(i,t)},j.prototype._buildContent=function(){var t=this._editor.getConfiguration(),e=this._editor.getSelections(),i=0;if(e){var n=this._editor.getModel();n&&e.forEach(function(t){i+=n.getValueLengthInRange(t)})}var o=function(t,e){return t&&0!==t.length?1===t.length?e?f.p(T,t[0].positionLineNumber,t[0].positionColumn,e):f.p(M,t[0].positionLineNumber,t[0].positionColumn):e?f.p(A,t.length,e):0<t.length?f.p(P,t.length):null:N}(e,i);t.wrappingInfo.inDiffEditor?t.readOnly?o+=h.a("readonlyDiffEditor"," in a read-only pane of a diff editor."):o+=h.a("editableDiffEditor"," in a pane of a diff editor."):t.readOnly?o+=h.a("readonlyEditor"," in a read-only code editor"):o+=h.a("editableEditor"," in a code editor");var r=p.d?h.a("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."):h.a("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now.");switch(t.accessibilitySupport){case 0:o+="\n\n - "+r;break;case 2:o+="\n\n - "+h.a("auto_on","The editor is configured to be optimized for usage with a Screen Reader.");break;case 1:o+="\n\n - "+h.a("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),o+=" "+r}var s=h.a("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),a=h.a("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),l=h.a("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),u=h.a("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding.");t.tabFocusMode?o+="\n\n - "+this._descriptionForCommand(y.ToggleTabFocusModeAction.ID,s,a):o+="\n\n - "+this._descriptionForCommand(y.ToggleTabFocusModeAction.ID,l,u),o+="\n\n - "+(p.d?h.a("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."):h.a("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility.")),o+="\n\n"+h.a("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),this._contentDomNode.domNode.appendChild(Object(c.a)(o)),this._contentDomNode.domNode.setAttribute("aria-label",o)},j.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,s.m(this._contentDomNode.domNode),this._editor.focus())},j.prototype._layout=function(){var t=this._editor.getLayoutInfo(),e=Math.max(5,Math.min(j.WIDTH,t.width-40)),i=Math.max(5,Math.min(j.HEIGHT,t.height-40));this._domNode.setWidth(e),this._domNode.setHeight(i);var n=Math.round((t.height-i)/2);this._domNode.setTop(n);var o=Math.round((t.width-e)/2);this._domNode.setLeft(o)},j.ID="editor.contrib.accessibilityHelpWidget",j.WIDTH=500,j.HEIGHT=300,j=O([E(1,_.e),E(2,w.a),E(3,C.a)],j));function j(t,e,i,n){var o=R.call(this)||this;return o._contextKeyService=e,o._keybindingService=i,o._openerService=n,o._editor=t,o._isVisibleKey=L.bindTo(o._contextKeyService),o._domNode=Object(a.b)(document.createElement("div")),o._domNode.setClassName("accessibilityHelpWidget"),o._domNode.setDisplay("none"),o._domNode.setAttribute("role","dialog"),o._domNode.setAttribute("aria-hidden","true"),o._contentDomNode=Object(a.b)(document.createElement("div")),o._contentDomNode.setAttribute("role","document"),o._domNode.appendChild(o._contentDomNode),o._isVisible=!1,o._register(o._editor.onDidLayoutChange(function(){o._isVisible&&o._layout()})),o._register(s.k(o._contentDomNode.domNode,"keydown",function(t){if(o._isVisible&&(t.equals(2083)&&(Object(l.a)(h.a("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'.")),o._editor.updateOptions({accessibilitySupport:"on"}),s.m(o._contentDomNode.domNode),o._buildContent(),o._contentDomNode.domNode.focus(),t.preventDefault(),t.stopPropagation()),t.equals(2086))){Object(l.a)(h.a("openingDocs","Now opening the Editor Accessibility documentation page."));var e=o._editor.getRawConfiguration().accessibilityHelpUrl;void 0===e&&(e="https://go.microsoft.com/fwlink/?linkid=852450"),o._openerService.open(g.a.parse(e)),t.preventDefault(),t.stopPropagation()}})),o.onblur(o._contentDomNode.domNode,function(){o.hide()}),o._editor.addOverlayWidget(o),o}var B,H=(B=m.b,k(W,B),W.prototype.run=function(t,e){var i=D.get(e);i&&i.show()},W);function W(){return B.call(this,{id:"editor.action.showAccessibilityHelp",label:h.a("ShowAccessibilityHelpAction","Show Accessibility Help"),alias:"Show Accessibility Help",precondition:null,kbOpts:{kbExpr:v.a.focus,primary:r.k?2107:571,weight:100}})||this}Object(m.h)(D),Object(m.f)(H);var V=m.c.bindToContribution(D.get);Object(m.g)(new V({id:"closeAccessibilityHelp",precondition:L,handler:function(t){return t.hide()},kbOpts:{weight:200,kbExpr:v.a.focus,primary:9,secondary:[1033]}})),Object(x.e)(function(t,e){var i=t.getColor(S.D);i&&e.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+i+"; }");var n=t.getColor(S.Fb);n&&e.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+n+"; }");var o=t.getColor(S.e);o&&e.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+o+"; }")})},function(t,e,i){"use strict";i.r(e),i.d(e,"BracketMatchingController",function(){return O});i(269);var n,o,r=i(0),s=i(17),a=i(4),l=i(3),g=i(9),u=i(20),h=i(6),c=i(47),d=i(24),p=i(28),f=i(7),m=i(16),v=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=Object(f.ub)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},r.a("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),_=(o=l.b,v(b,o),b.prototype.run=function(t,e){var i=O.get(e);i&&i.jumpToBracket()},b);function b(){return o.call(this,{id:"editor.action.jumpToBracket",label:r.a("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:null,kbOpts:{kbExpr:h.a.editorTextFocus,primary:3160,weight:100}})||this}var w,C=(w=l.b,v(S,w),S.prototype.run=function(t,e){var i=O.get(e);i&&i.selectToBracket()},S);function S(){return w.call(this,{id:"editor.action.selectToBracket",label:r.a("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:null})||this}var x,k=function(t,e){this.position=t,this.brackets=e},O=(x=a.a,v(E,x),E.get=function(t){return t.getContribution(E.ID)},E.prototype.getId=function(){return E.ID},E.prototype.jumpToBracket=function(){if(this._editor.hasModel()){var r=this._editor.getModel(),t=this._editor.getSelections().map(function(t){var e=t.getStartPosition(),i=r.matchBracket(e),n=null;if(i)i[0].containsPosition(e)?n=i[1].getStartPosition():i[1].containsPosition(e)&&(n=i[0].getStartPosition());else{var o=r.findNextBracket(e);o&&o.range&&(n=o.range.getStartPosition())}return n?new u.a(n.lineNumber,n.column,n.lineNumber,n.column):new u.a(e.lineNumber,e.column,e.lineNumber,e.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}},E.prototype.selectToBracket=function(){if(this._editor.hasModel()){var s=this._editor.getModel(),a=[];this._editor.getSelections().forEach(function(t){var e=t.getStartPosition(),i=s.matchBracket(e),n=null,o=null;if(!i){var r=s.findNextBracket(e);r&&r.range&&(i=s.matchBracket(r.range.getStartPosition()))}i&&(o=i[0].startLineNumber===i[1].startLineNumber?(n=i[1].startColumn<i[0].startColumn?i[1].getStartPosition():i[0].getStartPosition(),i[1].startColumn<i[0].startColumn?i[0].getEndPosition():i[1].getEndPosition()):(n=i[1].startLineNumber<i[0].startLineNumber?i[1].getStartPosition():i[0].getStartPosition(),i[1].startLineNumber<i[0].startLineNumber?i[0].getEndPosition():i[1].getEndPosition())),n&&o&&a.push(new u.a(n.lineNumber,n.column,o.lineNumber,o.column))}),0<a.length&&(this._editor.setSelections(a),this._editor.revealRange(a[0]))}},E.prototype._updateBrackets=function(){if(this._matchBrackets){this._recomputeBrackets();for(var t=[],e=0,i=0,n=this._lastBracketsData.length;i<n;i++){var o=this._lastBracketsData[i].brackets;o&&(t[e++]={range:o[0],options:E._DECORATION_OPTIONS},t[e++]={range:o[1],options:E._DECORATION_OPTIONS})}this._decorations=this._editor.deltaDecorations(this._decorations,t)}},E.prototype._recomputeBrackets=function(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);var t=this._editor.getModel(),e=t.getVersionId(),i=[];this._lastVersionId===e&&(i=this._lastBracketsData);for(var n=this._editor.getSelections(),o=[],r=0,s=0,a=n.length;s<a;s++){var l=n[s];l.isEmpty()&&(o[r++]=l.getStartPosition())}1<o.length&&o.sort(g.a.compare);var u=[],h=0,c=0,d=i.length;for(s=0,a=o.length;s<a;s++){for(var p=o[s];c<d&&i[c].position.isBefore(p);)c++;if(c<d&&i[c].position.equals(p))u[h++]=i[c];else{var f=t.matchBracket(p);u[h++]=new k(p,f)}}this._lastBracketsData=u,this._lastVersionId=e},E.ID="editor.contrib.bracketMatchingController",E._DECORATION_OPTIONS=d.a.register({stickiness:1,className:"bracket-match",overviewRuler:{color:Object(m.f)(y),position:c.c.Center}}),E);function E(t){var e=x.call(this)||this;return e._editor=t,e._lastBracketsData=[],e._lastVersionId=0,e._decorations=[],e._updateBracketsSoon=e._register(new s.d(function(){return e._updateBrackets()},50)),e._matchBrackets=e._editor.getConfiguration().contribInfo.matchBrackets,e._updateBracketsSoon.schedule(),e._register(t.onDidChangeCursorPosition(function(t){e._matchBrackets&&e._updateBracketsSoon.schedule()})),e._register(t.onDidChangeModelContent(function(t){e._updateBracketsSoon.schedule()})),e._register(t.onDidChangeModel(function(t){e._lastBracketsData=[],e._decorations=[],e._updateBracketsSoon.schedule()})),e._register(t.onDidChangeModelLanguageConfiguration(function(t){e._lastBracketsData=[],e._updateBracketsSoon.schedule()})),e._register(t.onDidChangeConfiguration(function(t){e._matchBrackets=e._editor.getConfiguration().contribInfo.matchBrackets,!e._matchBrackets&&0<e._decorations.length&&(e._decorations=e._editor.deltaDecorations(e._decorations,[])),e._updateBracketsSoon.schedule()})),e}Object(l.h)(O),Object(l.f)(C),Object(l.f)(_),Object(m.e)(function(t,e){var i=t.getColor(p.c);i&&e.addRule(".monaco-editor .bracket-match { background-color: "+i+"; }");var n=t.getColor(p.d);n&&e.addRule(".monaco-editor .bracket-match { border: 1px solid "+n+"; }")})},function(t,e,i){"use strict";i.r(e);i(270);var n,o,r=i(0),s=i(22),a=i(14),l=i(158),u=i(3),h=i(34),c=i(6),d=i(31),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f="9_cutcopypaste",g=a.e||document.queryCommandSupported("cut"),m=a.e||document.queryCommandSupported("copy"),v=m&&!s.h,y=a.e||!s.f&&document.queryCommandSupported("paste"),_=(o=u.b,p(b,o),b.prototype.runCommand=function(t,e){var i=t.get(h.a).getFocusedCodeEditor();i&&i.hasTextFocus()?i.trigger("keyboard",this.id,e):document.execCommand(this.browserCommand)},b.prototype.run=function(t,e){e.focus(),document.execCommand(this.browserCommand)},b);function b(t,e){var i=o.call(this,e)||this;return i.browserCommand=t,i}var w,C=(p(S,w=_),S.prototype.run=function(t,e){e.hasModel()&&(!e.getConfiguration().emptySelectionClipboard&&e.getSelection().isEmpty()||w.prototype.run.call(this,t,e))},S);function S(){var t={kbExpr:c.a.textInputFocus,primary:2102,win:{primary:2102,secondary:[1044]},weight:100};return a.e||(t=null),w.call(this,"cut",{id:"editor.action.clipboardCutAction",label:r.a("actions.clipboard.cutLabel","Cut"),alias:"Cut",precondition:c.a.writable,kbOpts:t,menuOpts:{group:f,order:1},menubarOpts:{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:r.a({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1}})||this}var x,k=(p(O,x=_),O.prototype.run=function(t,e){e.hasModel()&&(!e.getConfiguration().emptySelectionClipboard&&e.getSelection().isEmpty()||x.prototype.run.call(this,t,e))},O);function O(){var t={kbExpr:c.a.textInputFocus,primary:2081,win:{primary:2081,secondary:[2067]},weight:100};return a.e||(t=null),x.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:r.a("actions.clipboard.copyLabel","Copy"),alias:"Copy",precondition:null,kbOpts:t,menuOpts:{group:f,order:2},menubarOpts:{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:r.a({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2}})||this}var E,L=(p(D,E=_),D);function D(){var t={kbExpr:c.a.textInputFocus,primary:2100,win:{primary:2100,secondary:[1043]},weight:100};return a.e||(t=null),E.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:r.a("actions.clipboard.pasteLabel","Paste"),alias:"Paste",precondition:c.a.writable,kbOpts:t,menuOpts:{group:f,order:3},menubarOpts:{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:r.a({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3}})||this}var I,N=(p(T,I=_),T.prototype.run=function(t,e){e.hasModel()&&(!e.getConfiguration().emptySelectionClipboard&&e.getSelection().isEmpty()||(l.a.forceCopyWithSyntaxHighlighting=!0,I.prototype.run.call(this,t,e),l.a.forceCopyWithSyntaxHighlighting=!1))},T);function T(){return I.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:r.a("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:null,kbOpts:{kbExpr:c.a.textInputFocus,primary:0,weight:100}})||this}g&&Object(u.f)(C),m&&Object(u.f)(k),y&&Object(u.f)(L),v&&Object(u.f)(N)},function(t,e,i){"use strict";i.r(e),i.d(e,"ContextMenuController",function(){return v});var n,o=i(0),l=i(1),u=i(75),r=i(4),s=i(3),a=i(6),h=i(31),c=i(10),d=i(74),p=i(64),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},m=function(i,n){return function(t,e){n(t,e,i)}},v=(y.get=function(t){return t.getContribution(y.ID)},y.prototype._onContextMenu=function(t){if(!this._editor.getConfiguration().contribInfo.contextmenu)return this._editor.focus(),void(t.target.position&&!this._editor.getSelection().containsPosition(t.target.position)&&this._editor.setPosition(t.target.position));var e;12!==t.target.type&&(t.event.preventDefault(),6!==t.target.type&&7!==t.target.type&&1!==t.target.type||(this._editor.focus(),t.target.position&&!this._editor.getSelection().containsPosition(t.target.position)&&this._editor.setPosition(t.target.position),1!==t.target.type&&(e={x:t.event.posx-1,width:2,y:t.event.posy-1,height:2}),this.showContextMenu(e)))},y.prototype.showContextMenu=function(t){if(this._editor.getConfiguration().contribInfo.contextmenu)if(this._contextMenuService){var e=this._getMenuActions();0<e.length&&this._doShowContextMenu(e,t)}else this._editor.focus()},y.prototype._getMenuActions=function(){var t=[],e=this._menuService.createMenu(h.b.EditorContext,this._contextKeyService),i=e.getActions({arg:this._editor.getModel().uri});e.dispose();for(var n=0,o=i;n<o.length;n++){var r=o[n][1];t.push.apply(t,r),t.push(new u.d)}return t.pop(),t},y.prototype._doShowContextMenu=function(t,e){var n=this;void 0===e&&(e=null);var i=this._editor.getConfiguration().contribInfo.hover;if(this._editor.updateOptions({hover:{enabled:!1}}),!e){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),r=l.v(this._editor.getDomNode()),s=r.left+o.left,a=r.top+o.top+o.height;e={x:s,y:a}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return e},getActions:function(){return Promise.resolve(t)},getActionItem:function(t){var e=n._keybindingFor(t);if(e)return new u.b(t,t,{label:!0,keybinding:e.getLabel(),isMenu:!0});var i=t;return"function"==typeof i.getActionItem?i.getActionItem():new u.b(t,t,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(t){return n._keybindingFor(t)},onHide:function(t){n._contextMenuIsBeingShownCount--,n._editor.focus(),n._editor.updateOptions({hover:i})}})},y.prototype._keybindingFor=function(t){return this._keybindingService.lookupKeybinding(t.id)},y.prototype.getId=function(){return y.ID},y.prototype.dispose=function(){0<this._contextMenuIsBeingShownCount&&this._contextViewService.hideContextView(),this._toDispose=Object(r.d)(this._toDispose)},y.ID="editor.contrib.contextmenu",y=g([m(1,d.a),m(2,d.b),m(3,c.e),m(4,p.a),m(5,h.a)],y));function y(t,e,i,n,o,r){var s=this;this._contextMenuService=e,this._contextViewService=i,this._contextKeyService=n,this._keybindingService=o,this._menuService=r,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._editor=t,this._toDispose.push(this._editor.onContextMenu(function(t){return s._onContextMenu(t)})),this._toDispose.push(this._editor.onDidScrollChange(function(t){0<s._contextMenuIsBeingShownCount&&s._contextViewService.hideContextView()})),this._toDispose.push(this._editor.onKeyDown(function(t){58===t.keyCode&&(t.preventDefault(),t.stopPropagation(),s.showContextMenu())}))}var _,b=(_=s.b,f(w,_),w.prototype.run=function(t,e){v.get(e).showContextMenu()},w);function w(){return _.call(this,{id:"editor.action.showContextMenu",label:o.a("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:null,kbOpts:{kbExpr:a.a.textInputFocus,primary:1092,weight:100}})||this}Object(s.h)(v),Object(s.f)(b)},function(t,e,i){"use strict";i.r(e),i.d(e,"CursorUndoController",function(){return d}),i.d(e,"CursorUndo",function(){return g});var n,o=i(0),r=i(4),s=i(3),a=i(6),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=(h.prototype.equals=function(t){var e=this.selections.length;if(e!==t.selections.length)return!1;for(var i=0;i<e;i++)if(!this.selections[i].equalsSelection(t.selections[i]))return!1;return!0},h);function h(t){this.selections=t}var c,d=(c=r.a,l(p,c),p.get=function(t){return t.getContribution(p.ID)},p.prototype._readState=function(){return this._editor.hasModel()?new u(this._editor.getSelections()):null},p.prototype.getId=function(){return p.ID},p.prototype.cursorUndo=function(){if(this._editor.hasModel())for(var t=new u(this._editor.getSelections());0<this._undoStack.length;){var e=this._undoStack.pop();if(!e.equals(t))return this._isCursorUndo=!0,this._editor.setSelections(e.selections),this._editor.revealRangeInCenterIfOutsideViewport(e.selections[0],0),void(this._isCursorUndo=!1)}},p.ID="editor.contrib.cursorUndoController",p);function p(t){var e=c.call(this)||this;return e._editor=t,e._isCursorUndo=!1,e._undoStack=[],e._prevState=e._readState(),e._register(t.onDidChangeModel(function(t){e._undoStack=[],e._prevState=null})),e._register(t.onDidChangeModelContent(function(t){e._undoStack=[],e._prevState=null})),e._register(t.onDidChangeCursorSelection(function(t){!e._isCursorUndo&&e._prevState&&(e._undoStack.push(e._prevState),50<e._undoStack.length&&e._undoStack.shift()),e._prevState=e._readState()})),e}var f,g=(f=s.b,l(m,f),m.prototype.run=function(t,e,i){d.get(e).cursorUndo()},m);function m(){return f.call(this,{id:"cursorUndo",label:o.a("cursor.undo","Soft Undo"),alias:"Soft Undo",precondition:null,kbOpts:{kbExpr:a.a.textInputFocus,primary:2099,weight:100}})||this}Object(s.h)(d),Object(s.f)(g)},function(t,e,i){"use strict";i.r(e);var n,o,r=i(0),s=i(3),a=i(99),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=(o=s.b,l(h,o),h.prototype.run=function(t,e){a.a.setZoomLevel(a.a.getZoomLevel()+1)},h);function h(){return o.call(this,{id:"editor.action.fontZoomIn",label:r.a("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:null})||this}var c,d=(c=s.b,l(p,c),p.prototype.run=function(t,e){a.a.setZoomLevel(a.a.getZoomLevel()-1)},p);function p(){return c.call(this,{id:"editor.action.fontZoomOut",label:r.a("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:null})||this}var f,g=(f=s.b,l(m,f),m.prototype.run=function(t,e){a.a.setZoomLevel(0)},m);function m(){return f.call(this,{id:"editor.action.fontZoomReset",label:r.a("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:null})||this}Object(s.f)(u),Object(s.f)(d),Object(s.f)(g)},function(t,e,i){"use strict";i.r(e);i(238);var n=i(0),o=i(17),r=i(13),u=i(69),s=i(82),h=i(2),a=i(11),l=i(3),c=i(160),d=i(4),p=i(117),f=i(16),g=i(7),m=i(91),v=i(147),y=i(184),_=i(9),b=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},w=function(i,n){return function(t,e){n(t,e,i)}},C=(S.prototype.startFindDefinition=function(e,t){var s=this;if(!this.isEnabled(e,t))return this.currentWordUnderMouse=null,void this.removeDecorations();var a=e.target.position,l=a?this.editor.getModel().getWordAtPosition(a):null;if(!l)return this.currentWordUnderMouse=null,void this.removeDecorations();if(!this.currentWordUnderMouse||this.currentWordUnderMouse.startColumn!==l.startColumn||this.currentWordUnderMouse.endColumn!==l.endColumn||this.currentWordUnderMouse.word!==l.word){this.currentWordUnderMouse=l;var i=new m.a(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(o.g)(function(t){return s.findDefinition(e.target,t)}),this.previousPromise.then(function(t){if(t&&t.length&&i.validate(s.editor))if(1<t.length)s.addDecoration(new h.a(a.lineNumber,l.startColumn,a.lineNumber,l.endColumn),(new u.a).appendText(n.a("multipleResults","Click to show {0} definitions.",t.length)));else{var r=t[0];if(!r.uri)return;s.textModelResolverService.createModelReference(r.uri).then(function(t){if(t.object&&t.object.textEditorModel){var e=t.object.textEditorModel,i=r.range.startLineNumber;if(i<1||i>e.getLineCount())t.dispose();else{var n,o=s.getPreviewValue(e,i);n=r.origin?h.a.lift(r.origin):new h.a(a.lineNumber,l.startColumn,a.lineNumber,l.endColumn),s.addDecoration(n,(new u.a).appendCodeblock(s.modeService.getModeIdByFilepathOrFirstLine(e.uri.fsPath),o)),t.dispose()}}else t.dispose()})}else s.removeDecorations()}).then(void 0,r.e)}},S.prototype.getPreviewValue=function(t,e){var i=this.getPreviewRangeBasedOnBrackets(t,e);return i.endLineNumber-i.startLineNumber>=S.MAX_SOURCE_PREVIEW_LINES&&(i=this.getPreviewRangeBasedOnIndentation(t,e)),this.stripIndentationFromPreviewRange(t,e,i)},S.prototype.stripIndentationFromPreviewRange=function(t,e,i){for(var n=t.getLineFirstNonWhitespaceColumn(e),o=e+1;o<i.endLineNumber;o++){var r=t.getLineFirstNonWhitespaceColumn(o);n=Math.min(n,r)}return t.getValueInRange(i).replace(new RegExp("^\\s{"+(n-1)+"}","gm"),"").trim()},S.prototype.getPreviewRangeBasedOnIndentation=function(t,e){for(var i=t.getLineFirstNonWhitespaceColumn(e),n=Math.min(t.getLineCount(),e+S.MAX_SOURCE_PREVIEW_LINES),o=e+1;o<n&&i!==t.getLineFirstNonWhitespaceColumn(o);o++);return new h.a(e,1,o+1,1)},S.prototype.getPreviewRangeBasedOnBrackets=function(t,e){for(var i=Math.min(t.getLineCount(),e+S.MAX_SOURCE_PREVIEW_LINES),n=[],o=!0,r=t.findNextBracket(new _.a(e,1));null!==r;){if(0===n.length)n.push(r);else{var s=n[n.length-1];if(s.open===r.open&&s.isOpen&&!r.isOpen?n.pop():n.push(r),0===n.length){if(!o)return new h.a(e,1,r.range.endLineNumber+1,1);o=!1}}var a=t.getLineMaxColumn(e),l=r.range.endLineNumber,u=r.range.endColumn;if(a===r.range.endColumn&&(l++,u=1),i<l)return new h.a(e,1,i+1,1);r=t.findNextBracket(new _.a(l,u))}return new h.a(e,1,i+1,1)},S.prototype.addDecoration=function(t,e){var i={range:t,options:{inlineClassName:"goto-definition-link",hoverMessage:e}};this.decorations=this.editor.deltaDecorations(this.decorations,[i])},S.prototype.removeDecorations=function(){0<this.decorations.length&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},S.prototype.isEnabled=function(t,e){return this.editor.getModel()&&t.isNoneOrSingleMouseDown&&6===t.target.type&&(t.hasTriggerModifier||e&&e.keyCodeIsTriggerKey)&&a.e.has(this.editor.getModel())},S.prototype.findDefinition=function(t,e){var i=this.editor.getModel();return i?Object(c.a)(i,t.position,e):Promise.resolve(null)},S.prototype.gotoDefinition=function(t,e){var i=this;this.editor.setPosition(t.position);var n=new v.DefinitionAction(new v.DefinitionActionConfig(e,!1,!0,!1),{alias:void 0,label:void 0,id:void 0,precondition:void 0});return this.editor.invokeWithinContext(function(t){return n.run(t,i.editor)})},S.prototype.getId=function(){return S.ID},S.prototype.dispose=function(){this.toUnhook=Object(d.d)(this.toUnhook)},S.ID="editor.contrib.gotodefinitionwithmouse",S.MAX_SOURCE_PREVIEW_LINES=8,S=b([w(1,p.a),w(2,s.a)],S));function S(t,e,i){var n=this;this.textModelResolverService=e,this.modeService=i,this.toUnhook=[],this.decorations=[],this.editor=t,this.previousPromise=null;var o=new y.a(t);this.toUnhook.push(o),this.toUnhook.push(o.onMouseMoveOrRelevantKeyDown(function(t){var e=t[0],i=t[1];n.startFindDefinition(e,i)})),this.toUnhook.push(o.onExecute(function(t){n.isEnabled(t)&&n.gotoDefinition(t.target,t.hasSideBySideModifier).then(function(){n.removeDecorations()},function(t){n.removeDecorations(),Object(r.e)(t)})})),this.toUnhook.push(o.onCancel(function(){n.removeDecorations(),n.currentWordUnderMouse=null}))}Object(l.h)(C),Object(f.e)(function(t,e){var i=t.getColor(g.m);i&&e.addRule(".monaco-editor .goto-definition-link { color: "+i+" !important; }")})},function(t,e,i){"use strict";i.r(e),i.d(e,"GotoLineEntry",function(){return f}),i.d(e,"GotoLineAction",function(){return v});i(309);var n,o,r=i(0),s=i(122),a=i(139),l=i(3),u=i(9),h=i(2),c=i(6),d=i(155),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=(o=s.a,p(g,o),g.prototype._parseInput=function(t){var e,i,n=t.split(",").map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)});e=0===n.length?new u.a(-1,-1):1===n.length?new u.a(n[0],1):new u.a(n[0],n[1]);var o=(i=Object(a.a)(this.editor)?this.editor.getModel():this.editor.getModel().modified).validatePosition(e).equals(e);return{position:e,isValid:o,label:o?e.column&&1<e.column?r.a("gotoLineLabelValidLineAndColumn","Go to line {0} and character {1}",e.lineNumber,e.column):r.a("gotoLineLabelValidLine","Go to line {0}",e.lineNumber,e.column):e.lineNumber<1||e.lineNumber>i.getLineCount()?r.a("gotoLineLabelEmptyWithLineLimit","Type a line number between 1 and {0} to navigate to",i.getLineCount()):r.a("gotoLineLabelEmptyWithLineAndColumnLimit","Type a character between 1 and {0} to navigate to",i.getLineMaxColumn(e.lineNumber))}},g.prototype.getLabel=function(){return this._parseResult.label},g.prototype.getAriaLabel=function(){return r.a("gotoLineAriaLabel","Go to line {0}",this._parseResult.label)},g.prototype.run=function(t,e){return 1===t?this.runOpen():this.runPreview()},g.prototype.runOpen=function(){if(!this._parseResult.isValid)return!1;var t=this.toSelection();return this.editor.setSelection(t),this.editor.revealRangeInCenter(t,0),this.editor.focus(),!0},g.prototype.runPreview=function(){if(!this._parseResult.isValid)return this.decorator.clearDecorations(),!1;var t=this.toSelection();return this.editor.revealRangeInCenter(t,0),this.decorator.decorateLine(t,this.editor),!1},g.prototype.toSelection=function(){return new h.a(this._parseResult.position.lineNumber,this._parseResult.position.column,this._parseResult.position.lineNumber,this._parseResult.position.column)},g);function g(t,e,i){var n=o.call(this)||this;return n.editor=e,n.decorator=i,n._parseResult=n._parseInput(t),n}var m,v=(m=d.a,p(y,m),y.prototype.run=function(t,e){var i=this;this._show(this.getController(e),{getModel:function(t){return new s.c([new f(t,e,i.getController(e))])},getAutoFocus:function(t){return{autoFocusFirstEntry:0<t.length}}})},y);function y(){return m.call(this,r.a("gotoLineActionInput","Type a line number, followed by an optional colon and a character number to navigate to"),{id:"editor.action.gotoLine",label:r.a("GotoLineAction.label","Go to Line..."),alias:"Go to Line...",precondition:null,kbOpts:{kbExpr:c.a.focus,primary:2085,mac:{primary:293},weight:100}})||this}Object(l.f)(v)},function(t,e,i){"use strict";i.r(e);i(316);var n,o,r=i(0),d=i(12),s=i(4),p=i(8),a=i(3),l=i(11),u=i(62),h=i(82),c=i(105),f=i(7),g=i(16),m=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),v=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},y=function(i,n){return function(t,e){n(t,e,i)}},_=(o=s.a,m(b,o),b.get=function(t){return t.getContribution(b.ID)},b.prototype.getId=function(){return b.ID},b.prototype.dispose=function(){this.stop(),o.prototype.dispose.call(this)},b.prototype.launch=function(){this._widget||this._editor.hasModel()&&(this._widget=new k(this._editor,this._modeService))},b.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},b.ID="editor.contrib.inspectTokens",b=v([y(1,c.a),y(2,h.a)],b));function b(t,e,i){var n=o.call(this)||this;return n._editor=t,n._modeService=i,n._widget=null,n._register(n._editor.onDidChangeModel(function(t){return n.stop()})),n._register(n._editor.onDidChangeModelLanguage(function(t){return n.stop()})),n._register(l.w.onDidChange(function(t){return n.stop()})),n}var w,C=(w=a.b,m(S,w),S.prototype.run=function(t,e){var i=_.get(e);i&&i.launch()},S);function S(){return w.call(this,{id:"editor.action.inspectTokens",label:r.a("inspectTokens","Developer: Inspect Tokens"),alias:"Developer: Inspect Tokens",precondition:null})||this}var x,k=(x=s.a,m(O,x),O.prototype.dispose=function(){this._editor.removeContentWidget(this),x.prototype.dispose.call(this)},O.prototype.getId=function(){return O._ID},O.prototype._compute=function(t){for(var e=this._getTokensAtLine(t.lineNumber),i=0,n=e.tokens1.length-1;0<=n;n--){var o=e.tokens1[n];if(t.column-1>=o.offset){i=n;break}}var r=0;for(n=e.tokens2.length>>>1;0<=n;n--)if(t.column-1>=e.tokens2[n<<1]){r=n;break}var s="",a=this._model.getLineContent(t.lineNumber),l="";if(i<e.tokens1.length){var u=e.tokens1[i].offset,h=i+1<e.tokens1.length?e.tokens1[i+1].offset:a.length;l=a.substring(u,h)}s+='<h2 class="tm-token">'+function(t){for(var e="",i=0,n=t.length;i<n;i++){var o=t.charCodeAt(i);switch(o){case 9:e+="&rarr;";break;case 32:e+="&middot;";break;case 60:e+="&lt;";break;case 62:e+="&gt;";break;case 38:e+="&amp;";break;default:e+=String.fromCharCode(o)}}return e}(l)+'<span class="tm-token-length">('+l.length+" "+(1===l.length?"char":"chars")+")</span></h2>",s+='<hr class="tokens-inspect-separator" style="clear:both"/>';var c=this._decodeMetadata(e.tokens2[1+(r<<1)]);s+='<table class="tm-metadata-table"><tbody>',s+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+Object(p.m)(c.languageIdentifier.language)+"</td>",s+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(c.tokenType)+"</td>",s+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(c.fontStyle)+"</td>",s+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+d.a.Format.CSS.formatHex(c.foreground)+"</td>",s+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+d.a.Format.CSS.formatHex(c.background)+"</td>",s+="</tbody></table>",s+='<hr class="tokens-inspect-separator"/>',i<e.tokens1.length&&(s+='<span class="tm-token-type">'+Object(p.m)(e.tokens1[i].type)+"</span>"),this._domNode.innerHTML=s,this._editor.layoutContentWidget(this)},O.prototype._decodeMetadata=function(t){var e=l.w.getColorMap(),i=l.v.getLanguageId(t),n=l.v.getTokenType(t),o=l.v.getFontStyle(t),r=l.v.getForeground(t),s=l.v.getBackground(t);return{languageIdentifier:this._modeService.getLanguageIdentifier(i),tokenType:n,fontStyle:o,foreground:e[r],background:e[s]}},O.prototype._tokenTypeToString=function(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"},O.prototype._fontStyleToString=function(t){var e="";return 1&t&&(e+="italic "),2&t&&(e+="bold "),4&t&&(e+="underline "),0===e.length&&(e="---"),e},O.prototype._getTokensAtLine=function(t){var e=this._getStateBeforeLine(t),i=this._tokenizationSupport.tokenize(this._model.getLineContent(t),e,0),n=this._tokenizationSupport.tokenize2(this._model.getLineContent(t),e,0);return{startState:e,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}},O.prototype._getStateBeforeLine=function(t){for(var e=this._tokenizationSupport.getInitialState(),i=1;i<t;i++)e=this._tokenizationSupport.tokenize(this._model.getLineContent(i),e,0).endState;return e},O.prototype.getDomNode=function(){return this._domNode},O.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[2,1]}},O._ID="editor.contrib.inspectTokensWidget",O);function O(t,e){var i=x.call(this)||this;return i.allowEditorOverflow=!0,i._editor=t,i._modeService=e,i._model=i._editor.getModel(),i._domNode=document.createElement("div"),i._domNode.className="tokens-inspect-widget",i._tokenizationSupport=function(n){var t=l.w.get(n.language);return t||{getInitialState:function(){return u.c},tokenize:function(t,e,i){return Object(u.d)(n.language,t,e,i)},tokenize2:function(t,e,i){return Object(u.e)(n.id,t,e,i)}}}(i._model.getLanguageIdentifier()),i._compute(i._editor.getPosition()),i._register(i._editor.onDidChangeCursorPosition(function(t){return i._compute(i._editor.getPosition())})),i._editor.addContentWidget(i),i}Object(a.h)(_),Object(a.f)(C),Object(g.e)(function(t,e){var i=t.getColor(f.w);if(i){var n=t.type===g.b?2:1;e.addRule(".monaco-editor .tokens-inspect-widget { border: "+n+"px solid "+i+"; }"),e.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+i+"; }")}var o=t.getColor(f.v);o&&e.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+o+"; }")})},function(t,e,i){"use strict";i.r(e),i.d(e,"IPadShowKeyboard",function(){return a});i(317);var n=i(22),o=i(1),r=i(4),s=i(3),a=(l.prototype.update=function(){var t=!this.editor.getConfiguration().readOnly;!this.widget&&t?this.widget=new u(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)},l.prototype.getId=function(){return l.ID},l.prototype.dispose=function(){this.toDispose=Object(r.d)(this.toDispose),this.widget&&(this.widget.dispose(),this.widget=null)},l.ID="editor.contrib.iPadShowKeyboard",l);function l(t){var e=this;this.editor=t,this.toDispose=[],n.l&&(this.toDispose.push(t.onDidChangeConfiguration(function(){return e.update()})),this.update())}var u=(h.prototype.dispose=function(){this.editor.removeOverlayWidget(this),this._toDispose=Object(r.d)(this._toDispose)},h.prototype.getId=function(){return h.ID},h.prototype.getDomNode=function(){return this._domNode},h.prototype.getPosition=function(){return{preference:1}},h.ID="editor.contrib.ShowKeyboardWidget",h);function h(t){var e=this;this.editor=t,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._toDispose=[],this._toDispose.push(o.h(this._domNode,"touchstart",function(t){e.editor.focus()})),this._toDispose.push(o.h(this._domNode,"focus",function(t){e.editor.focus()})),this.editor.addOverlayWidget(this)}Object(s.h)(a)},function(t,e,i){"use strict";i.r(e),i.d(e,"InsertCursorAbove",function(){return C}),i.d(e,"InsertCursorBelow",function(){return k}),i.d(e,"MultiCursorSessionResult",function(){return I}),i.d(e,"MultiCursorSession",function(){return N}),i.d(e,"MultiCursorSelectionController",function(){return A}),i.d(e,"MultiCursorSelectionControllerAction",function(){return F}),i.d(e,"AddSelectionToNextFindMatchAction",function(){return H}),i.d(e,"AddSelectionToPreviousFindMatchAction",function(){return z}),i.d(e,"MoveSelectionToNextFindMatchAction",function(){return K}),i.d(e,"MoveSelectionToPreviousFindMatchAction",function(){return $}),i.d(e,"SelectHighlightsAction",function(){return J}),i.d(e,"CompatChangeAll",function(){return et}),i.d(e,"SelectionHighlighter",function(){return st});var n,o,r=i(0),s=i(17),a=i(38),l=i(4),u=i(3),h=i(67),p=i(2),c=i(20),d=i(6),f=i(47),g=i(24),m=i(11),v=i(138),y=i(31),_=i(7),b=i(16),w=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),C=(o=u.b,w(S,o),S.prototype.run=function(t,e,i){var n=i&&!0===i.logicalLine,o=e._getCursors(),r=o.context;r.config.readOnly||(r.model.pushStackElement(),o.setStates(i.source,3,h.b.addCursorUp(r,o.getAll(),n)),o.reveal(!0,1,0))},S);function S(){return o.call(this,{id:"editor.action.insertCursorAbove",label:r.a("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:null,kbOpts:{kbExpr:d.a.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menubarOpts:{menuId:y.b.MenubarSelectionMenu,group:"3_multi",title:r.a({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})||this}var x,k=(x=u.b,w(O,x),O.prototype.run=function(t,e,i){var n=i&&!0===i.logicalLine,o=e._getCursors(),r=o.context;r.config.readOnly||(r.model.pushStackElement(),o.setStates(i.source,3,h.b.addCursorDown(r,o.getAll(),n)),o.reveal(!0,2,0))},O);function O(){return x.call(this,{id:"editor.action.insertCursorBelow",label:r.a("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:null,kbOpts:{kbExpr:d.a.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menubarOpts:{menuId:y.b.MenubarSelectionMenu,group:"3_multi",title:r.a({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})||this}var E,L=(E=u.b,w(D,E),D.prototype.getCursorsForSelection=function(t,e,i){if(!t.isEmpty()){for(var n=t.startLineNumber;n<t.endLineNumber;n++){var o=e.getLineMaxColumn(n);i.push(new c.a(n,o,n,o))}1<t.endColumn&&i.push(new c.a(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}},D.prototype.run=function(t,e){var i=this,n=e.getModel(),o=e.getSelections(),r=[];o.forEach(function(t){return i.getCursorsForSelection(t,n,r)}),0<r.length&&e.setSelections(r)},D);function D(){return E.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:r.a("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:null,kbOpts:{kbExpr:d.a.editorTextFocus,primary:1575,weight:100},menubarOpts:{menuId:y.b.MenubarSelectionMenu,group:"3_multi",title:r.a({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})||this}var I=function(t,e,i){this.selections=t,this.revealRange=e,this.revealScrollType=i},N=(T.create=function(t,e){var i=e.getState();if(!t.hasTextFocus()&&i.isRevealed&&0<i.searchString.length)return new T(t,e,!1,i.searchString,i.wholeWord,i.matchCase,null);var n,o,r=!1,s=t.getSelections();o=1===s.length&&s[0].isEmpty()?n=r=!0:(n=i.wholeWord,i.matchCase);var a,l=t.getSelection(),u=null;if(l.isEmpty()){var h=t.getModel().getWordAtPosition(l.getStartPosition());if(!h)return null;a=h.word,u=new c.a(l.startLineNumber,h.startColumn,l.startLineNumber,h.endColumn)}else a=t.getModel().getValueInRange(l).replace(/\r\n/g,"\n");return new T(t,e,r,a,n,o,u)},T.prototype.addSelectionToNextFindMatch=function(){var t=this._getNextMatch();if(!t)return null;var e=this._editor.getSelections();return new I(e.concat(t),t,0)},T.prototype.moveSelectionToNextFindMatch=function(){var t=this._getNextMatch();if(!t)return null;var e=this._editor.getSelections();return new I(e.slice(0,e.length-1).concat(t),t,0)},T.prototype._getNextMatch=function(){if(this.currentMatch){var t=this.currentMatch;return this.currentMatch=null,t}this.findController.highlightFindOptions();var e=this._editor.getSelections(),i=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,i.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return n?new c.a(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null},T.prototype.addSelectionToPreviousFindMatch=function(){var t=this._getPreviousMatch();if(!t)return null;var e=this._editor.getSelections();return new I(e.concat(t),t,0)},T.prototype.moveSelectionToPreviousFindMatch=function(){var t=this._getPreviousMatch();if(!t)return null;var e=this._editor.getSelections();return new I(e.slice(0,e.length-1).concat(t),t,0)},T.prototype._getPreviousMatch=function(){if(this.currentMatch){var t=this.currentMatch;return this.currentMatch=null,t}this.findController.highlightFindOptions();var e=this._editor.getSelections(),i=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,i.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return n?new c.a(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null},T.prototype.selectAll=function(){return this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1,1073741824)},T);function T(t,e,i,n,o,r,s){this._editor=t,this.findController=e,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=r,this.currentMatch=s}var M,A=(M=l.a,w(P,M),P.get=function(t){return t.getContribution(P.ID)},P.prototype.dispose=function(){this._endSession(),M.prototype.dispose.call(this)},P.prototype.getId=function(){return P.ID},P.prototype._beginSessionIfNeeded=function(t){var e=this;if(!this._session){var i=N.create(this._editor,t);if(!i)return;this._session=i;var n={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(n.wholeWordOverride=1,n.matchCaseOverride=1,n.isRegexOverride=2),t.getState().change(n,!1),this._sessionDispose=[this._editor.onDidChangeCursorSelection(function(t){e._ignoreSelectionChange||e._endSession()}),this._editor.onDidBlurEditorText(function(){e._endSession()}),t.getState().onFindReplaceStateChange(function(t){(t.matchCase||t.wholeWord)&&e._endSession()})]}},P.prototype._endSession=function(){this._sessionDispose=Object(l.d)(this._sessionDispose),this._session&&this._session.isDisconnectedFromFindController&&this._session.findController.getState().change({wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0},!1),this._session=null},P.prototype._setSelections=function(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1},P.prototype._expandEmptyToWord=function(t,e){if(!e.isEmpty())return e;var i=t.getWordAtPosition(e.getStartPosition());return i?new c.a(e.startLineNumber,i.startColumn,e.startLineNumber,i.endColumn):e},P.prototype._applySessionResult=function(t){t&&(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))},P.prototype.getSession=function(t){return this._session},P.prototype.addSelectionToNextFindMatch=function(t){if(!this._session){var e=this._editor.getSelections();if(1<e.length){var i=t.getState().matchCase;if(!lt(this._editor.getModel(),e,i)){for(var n=this._editor.getModel(),o=[],r=0,s=e.length;r<s;r++)o[r]=this._expandEmptyToWord(n,e[r]);return void this._editor.setSelections(o)}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())},P.prototype.addSelectionToPreviousFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())},P.prototype.moveSelectionToNextFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())},P.prototype.moveSelectionToPreviousFindMatch=function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())},P.prototype.selectAll=function(t){var e=null,i=t.getState();if(i.isRevealed&&0<i.searchString.length&&i.isRegex)e=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1,1073741824);else{if(this._beginSessionIfNeeded(t),!this._session)return;e=this._session.selectAll()}if(0<e.length){for(var n=this._editor.getSelection(),o=0,r=e.length;o<r;o++){var s=e[o];if(s.range.intersectRanges(n)){e[o]=e[0],e[0]=s;break}}this._setSelections(e.map(function(t){return new c.a(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn)}))}},P.ID="editor.contrib.multiCursorController",P);function P(t){var e=M.call(this)||this;return e._editor=t,e._ignoreSelectionChange=!1,e._session=null,e._sessionDispose=[],e}var R,F=(R=u.b,w(j,R),j.prototype.run=function(t,e){var i=A.get(e);if(i){var n=v.CommonFindController.get(e);if(!n)return null;this._run(i,n)}},j);function j(){return null!==R&&R.apply(this,arguments)||this}var B,H=(w(W,B=F),W.prototype._run=function(t,e){t.addSelectionToNextFindMatch(e)},W);function W(){return B.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:r.a("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:d.a.focus,primary:2082,weight:100},menubarOpts:{menuId:y.b.MenubarSelectionMenu,group:"3_multi",title:r.a({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})||this}var V,z=(w(U,V=F),U.prototype._run=function(t,e){t.addSelectionToPreviousFindMatch(e)},U);function U(){return V.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:r.a("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:null,menubarOpts:{menuId:y.b.MenubarSelectionMenu,group:"3_multi",title:r.a({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})||this}var q,K=(w(G,q=F),G.prototype._run=function(t,e){t.moveSelectionToNextFindMatch(e)},G);function G(){return q.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:r.a("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:d.a.focus,primary:Object(a.a)(2089,2082),weight:100}})||this}var Y,$=(w(Z,Y=F),Z.prototype._run=function(t,e){t.moveSelectionToPreviousFindMatch(e)},Z);function Z(){return Y.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:r.a("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:null})||this}var X,J=(w(Q,X=F),Q.prototype._run=function(t,e){t.selectAll(e)},Q);function Q(){return X.call(this,{id:"editor.action.selectHighlights",label:r.a("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:null,kbOpts:{kbExpr:d.a.focus,primary:3114,weight:100},menubarOpts:{menuId:y.b.MenubarSelectionMenu,group:"3_multi",title:r.a({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})||this}var tt,et=(w(it,tt=F),it.prototype._run=function(t,e){t.selectAll(e)},it);function it(){return tt.call(this,{id:"editor.action.changeAll",label:r.a("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:d.a.writable,kbOpts:{kbExpr:d.a.editorTextFocus,primary:2108,weight:100},menuOpts:{group:"1_modification",order:1.2}})||this}var nt=(ot.softEquals=function(t,e){return!t&&!e||!(!t||!e)&&t.searchText===e.searchText&&t.matchCase===e.matchCase&&t.wordSeparators===e.wordSeparators},ot);function ot(t,e,i){this.searchText=t,this.matchCase=e,this.wordSeparators=i}var rt,st=(rt=l.a,w(at,rt),at.prototype.getId=function(){return at.ID},at.prototype._update=function(){this._setState(at._createState(this._isEnabled,this.editor))},at._createState=function(t,e){if(!t)return null;if(!e.getModel())return null;var i=e.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;var n=A.get(e);if(!n)return null;var o=v.CommonFindController.get(e);if(!o)return null;var r=n.getSession(o);if(!r){var s=e.getSelections();if(1<s.length){var a=o.getState().matchCase;if(!lt(e.getModel(),s,a))return null}r=N.create(e,o)}if(!r)return null;if(r.currentMatch)return null;if(/^[ \t]+$/.test(r.searchText))return null;if(200<r.searchText.length)return null;var l=o.getState(),u=l.matchCase;if(l.isRevealed){var h=l.searchString;u||(h=h.toLowerCase());var c=r.searchText;if(u||(c=c.toLowerCase()),h===c&&r.matchCase===l.matchCase&&r.wholeWord===l.wholeWord&&!l.isRegex)return null}return new nt(r.searchText,r.matchCase,r.wholeWord?e.getConfiguration().wordSeparators:null)},at.prototype._setState=function(t){if(nt.softEquals(this.state,t))this.state=t;else if(this.state=t,this.state){var e=this.editor.getModel();if(!e.isTooLargeForTokenization()){var i=m.h.has(e),n=e.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(function(t){return t.range});n.sort(p.a.compareRangesUsingStarts);var o=this.editor.getSelections();o.sort(p.a.compareRangesUsingStarts);for(var r=[],s=0,a=0,l=n.length,u=o.length;s<l;){var h=n[s];if(u<=a)r.push(h),s++;else{var c=p.a.compareRangesUsingStarts(h,o[a]);c<0?(!o[a].isEmpty()&&p.a.areIntersecting(h,o[a])||r.push(h),s++):(0<c||s++,a++)}}var d=r.map(function(t){return{range:t,options:i?at._SELECTION_HIGHLIGHT:at._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,d)}}else this.decorations=this.editor.deltaDecorations(this.decorations,[])},at.prototype.dispose=function(){this._setState(null),rt.prototype.dispose.call(this)},at.ID="editor.contrib.selectionHighlighter",at._SELECTION_HIGHLIGHT_OVERVIEW=g.a.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(b.f)(_.qb),position:f.c.Center}}),at._SELECTION_HIGHLIGHT=g.a.register({stickiness:1,className:"selectionHighlight"}),at);function at(e){var i=rt.call(this)||this;return i.editor=e,i._isEnabled=e.getConfiguration().contribInfo.selectionHighlight,i.decorations=[],i.updateSoon=i._register(new s.d(function(){return i._update()},300)),i.state=null,i._register(e.onDidChangeConfiguration(function(t){i._isEnabled=e.getConfiguration().contribInfo.selectionHighlight})),i._register(e.onDidChangeCursorSelection(function(t){i._isEnabled&&(t.selection.isEmpty()?3===t.reason?(i.state&&i._setState(null),i.updateSoon.schedule()):i._setState(null):i._update())})),i._register(e.onDidChangeModel(function(t){i._setState(null)})),i._register(v.CommonFindController.get(e).getState().onFindReplaceStateChange(function(t){i._update()})),i}function lt(t,e,i){for(var n=ut(t,e[0],!i),o=1,r=e.length;o<r;o++){var s=e[o];if(s.isEmpty())return!1;if(n!==ut(t,s,!i))return!1}return!0}function ut(t,e,i){var n=t.getValueInRange(e);return i?n.toLowerCase():n}Object(u.h)(A),Object(u.h)(st),Object(u.f)(C),Object(u.f)(k),Object(u.f)(L),Object(u.f)(H),Object(u.f)(z),Object(u.f)(K),Object(u.f)($),Object(u.f)(J),Object(u.f)(et)},function(t,e,i){"use strict";i.r(e),i.d(e,"EditorActionCommandEntry",function(){return g}),i.d(e,"QuickCommandAction",function(){return y});var n,r,o=i(0),s=i(22),a=i(13),u=i(111),l=i(122),h=i(3),c=i(6),d=i(155),p=i(64),f=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=(r=l.b,f(m,r),m.prototype.getLabel=function(){return this.action.label},m.prototype.getAriaLabel=function(){return o.a("ariaLabelEntry","{0}, commands",this.getLabel())},m.prototype.getGroupLabel=function(){return this.key},m.prototype.run=function(t,e){var i=this;return 1===t&&(setTimeout(function(){i.editor.focus();try{(i.action.run()||Promise.resolve()).then(null,a.e)}catch(t){Object(a.e)(t)}},50),!0)},m);function m(t,e,i,n){var o=r.call(this)||this;return o.key=t,o.setHighlights(e),o.action=i,o.editor=n,o}var v,y=(v=d.a,f(_,v),_.prototype.run=function(t,e){var i=this,n=t.get(p.a);this._show(this.getController(e),{getModel:function(t){return new l.c(i._editorActionsToEntries(n,e,t))},getAutoFocus:function(t){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:t}}})},_.prototype._sort=function(t,e){var i=t.getLabel().toLowerCase(),n=e.getLabel().toLowerCase();return i.localeCompare(n)},_.prototype._editorActionsToEntries=function(t,e,i){for(var n=e.getSupportedActions(),o=[],r=0;r<n.length;r++){var s=n[r],a=t.lookupKeybinding(s.id);if(s.label){var l=Object(u.e)(i,s.label);l&&o.push(new g(a?a.getLabel():"",l,s,e))}}return o=o.sort(this._sort)},_);function _(){return v.call(this,o.a("quickCommandActionInput","Type the name of an action you want to execute"),{id:"editor.action.quickCommand",label:o.a("QuickCommandAction.label","Command Palette"),alias:"Command Palette",precondition:null,kbOpts:{kbExpr:c.a.focus,primary:s.k?571:59,weight:100},menuOpts:{group:"z_commands",order:1}})||this}Object(h.f)(y)},function(t,e,i){"use strict";i.r(e),i.d(e,"defaultReferenceSearchOptions",function(){return L}),i.d(e,"ReferenceController",function(){return D}),i.d(e,"ReferenceAction",function(){return T}),i.d(e,"provideReferences",function(){return R});var n,o=i(0),r=i(10),s=i(85),a=i(9),l=i(3),u=i(11),h=i(2),c=i(113),d=i(101),p=i(55),f=i(17),g=i(13),m=i(6),v=i(150),y=i(139),_=i(131),b=i(186),w=i(37),C=i(30),S=i(34),x=i(29),k=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),O=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},E=function(i,n){return function(t,e){n(t,e,i)}},L={getMetaTitle:function(t){return 1<t.references.length&&o.a("meta.titleReference"," – {0} references",t.references.length)}},D=(I.prototype.dispose=function(){},I.prototype.getId=function(){return I.ID},I.ID="editor.contrib.referenceController",I=O([E(1,r.e)],I));function I(t,e){t instanceof v.a&&c.a.inPeekEditor.bindTo(e)}var N,T=(N=l.b,k(M,N),M.prototype.run=function(t,e){var i=d.a.get(e);if(i){var n=e.getSelection(),o=e.getModel(),r=Object(f.g)(function(t){return R(o,n.getStartPosition(),t).then(function(t){return new p.c(t)})});i.toggleWidget(n,r,L)}},M);function M(){return N.call(this,{id:"editor.action.referenceSearch.trigger",label:o.a("references.action.label","Find All References"),alias:"Find All References",precondition:r.d.and(m.a.hasReferenceProvider,c.a.notInPeekEditor,m.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:m.a.editorTextFocus,primary:1094,weight:100},menuOpts:{group:"navigation",order:1.5}})||this}Object(l.h)(D),Object(l.f)(T);function A(t,e){P(t,function(t){return t.closeWidget()})}function P(t,e){var i=Object(c.c)(t);if(i){var n=d.a.get(i);n&&e(n)}}function R(e,i,n){var t=u.r.ordered(e).map(function(t){return Promise.resolve(t.provideReferences(e,i,{includeDeclaration:!0},n)).then(function(t){if(Array.isArray(t))return t},function(t){Object(g.f)(t)})});return Promise.all(t).then(function(t){for(var e=[],i=0,n=t;i<n.length;i++){var o=n[i];o&&e.push.apply(e,o)}return e})}w.a.registerCommand({id:"editor.action.findReferences",handler:function(t,e,o){if(!(e instanceof C.a))throw new Error("illegal argument, uri");if(!o)throw new Error("illegal argument, position");var i=t.get(S.a);return i.openCodeEditor({resource:e},i.getFocusedCodeEditor()).then(function(e){if(Object(y.a)(e)){var t=d.a.get(e);if(t){var i=Object(f.g)(function(t){return R(e.getModel(),a.a.lift(o),t).then(function(t){return new p.c(t)})}),n=new h.a(o.lineNumber,o.column,o.lineNumber,o.column);return Promise.resolve(t.toggleWidget(n,i,L))}}})}}),w.a.registerCommand({id:"editor.action.showReferences",handler:function(t,e,i,n){if(!(e instanceof C.a))throw new Error("illegal argument, uri expected");if(!n)throw new Error("missing references");var o=t.get(S.a);return o.openCodeEditor({resource:e},o.getFocusedCodeEditor()).then(function(t){if(Object(y.a)(t)){var e=d.a.get(t);if(e)return Promise.resolve(e.toggleWidget(new h.a(i.lineNumber,i.column,i.lineNumber,i.column),Object(f.g)(function(t){return Promise.resolve(new p.c(n))}),L)).then(function(){return!0})}})},description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:C.a},{name:"position",description:"The position at which to show",constraint:a.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}}),s.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:250,primary:62,when:d.b,handler:function(t){P(t,function(t){t.goToNextOrPreviousReference(!0)})}}),s.a.registerCommandAndKeybindingRule({id:"goToNextReferenceFromEmbeddedEditor",weight:150,primary:62,when:c.a.inPeekEditor,handler:function(t){P(t,function(t){t.goToNextOrPreviousReference(!0)})}}),s.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:250,primary:1086,when:d.b,handler:function(t){P(t,function(t){t.goToNextOrPreviousReference(!1)})}}),s.a.registerCommandAndKeybindingRule({id:"goToPreviousReferenceFromEmbeddedEditor",weight:150,primary:1086,when:c.a.inPeekEditor,handler:function(t){P(t,function(t){t.goToNextOrPreviousReference(!1)})}}),s.a.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:r.d.and(d.b,r.d.not("config.editor.stablePeek")),handler:A}),s.a.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:-1,primary:9,secondary:[1033],when:r.d.and(c.a.inPeekEditor,r.d.not("config.editor.stablePeek")),handler:A}),s.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:r.d.and(d.b,b.b),handler:function(t,e){var i=t.get(_.a),n=i.lastFocusedList&&i.lastFocusedList.getFocus();n instanceof p.b&&P(t,function(t){return t.openReference(n,!0)})}}),Object(l.e)("_executeReferenceProvider",function(t,e){return R(t,e,x.a.None)})},function(t,e,i){"use strict";i.r(e),i.d(e,"StandaloneReferencesController",function(){return m});var n,a,o=i(3),r=i(34),s=i(101),l=i(48),u=i(10),h=i(18),c=i(44),d=i(92),p=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},g=function(i,n){return function(t,e){n(t,e,i)}},m=(a=s.a,p(v,a),v=f([g(1,u.e),g(2,r.a),g(3,c.a),g(4,h.a),g(5,d.a),g(6,l.a)],v));function v(t,e,i,n,o,r,s){return a.call(this,!0,t,e,i,n,o,r,s)||this}Object(o.h)(m)},function(t,e,i){"use strict";i.r(e);var n,o,r=i(0),s=i(3),a=i(105),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=(o=s.b,l(h,o),h.prototype.run=function(t,e){var i=t.get(a.a);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getTheme().themeName,i.setTheme("hc-black"))},h);function h(){var t=o.call(this,{id:"editor.action.toggleHighContrast",label:r.a("toggleHighContrast","Toggle High Contrast Theme"),alias:"Toggle High Contrast Theme",precondition:null})||this;return t._originalThemeName=null,t}Object(s.f)(u)},function(t,e,i){"use strict";i.r(e);var n,o,r=i(0),s=i(8),a=i(3),m=i(40),l=i(9),v=i(2),u=i(6),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=(o=a.b,h(d,o),d.prototype.positionLeftOf=function(t,e){var i=t.column,n=t.lineNumber;return i>e.getLineMinColumn(n)?Object(s.v)(e.getLineContent(n).charCodeAt(i-2))?i-=2:i-=1:1<n&&(n-=1,i=e.getLineMaxColumn(n)),new l.a(n,i)},d.prototype.positionRightOf=function(t,e){var i=t.column,n=t.lineNumber;return i<e.getLineMaxColumn(n)?Object(s.u)(e.getLineContent(n).charCodeAt(i-1))?i+=2:i+=1:n<e.getLineCount()&&(n+=1,i=0),new l.a(n,i)},d.prototype.run=function(t,e){if(e.hasModel()){for(var i=e.getModel(),n=[],o=0,r=e.getSelections();o<r.length;o++){var s=r[o];if(s.isEmpty()){var a=s.startLineNumber,l=s.startColumn,u=i.getLineMaxColumn(a);if(1!==a||1!==l&&(2!==l||2!==u)){var h=l===u?s.getPosition():this.positionRightOf(s.getPosition(),i),c=this.positionLeftOf(h,i),d=this.positionLeftOf(c,i),p=i.getValueInRange(v.a.fromPositions(d,c)),f=i.getValueInRange(v.a.fromPositions(c,h)),g=v.a.fromPositions(d,h);n.push(new m.a(g,f+p))}}}0<n.length&&(e.pushUndoStop(),e.executeCommands(this.id,n),e.pushUndoStop())}},d);function d(){return o.call(this,{id:"editor.action.transposeLetters",label:r.a("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:u.a.writable,kbOpts:{kbExpr:u.a.textInputFocus,primary:0,mac:{primary:306},weight:100}})||this}Object(a.f)(c)},function(t,e,i){"use strict";i.r(e),i.d(e,"editorWordHighlight",function(){return C}),i.d(e,"editorWordHighlightStrong",function(){return S}),i.d(e,"editorWordHighlightBorder",function(){return x}),i.d(e,"editorWordHighlightStrongBorder",function(){return k}),i.d(e,"overviewRulerWordHighlightForeground",function(){return O}),i.d(e,"overviewRulerWordHighlightStrongForeground",function(){return E}),i.d(e,"ctxHasWordHighlights",function(){return L}),i.d(e,"getOccurrencesAtPosition",function(){return D});var n,o=i(0),r=i(21),s=i(17),a=i(29),l=i(13),u=i(4),h=i(3),c=i(2),d=i(6),p=i(47),f=i(24),g=i(11),m=i(10),v=i(7),y=i(16),_=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),b=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},w=function(i,n){return function(t,e){n(t,e,i)}},C=Object(v.ub)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},o.a("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque to not hide underlying decorations."),!0),S=Object(v.ub)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},o.a("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque to not hide underlying decorations."),!0),x=Object(v.ub)("editor.wordHighlightBorder",{light:null,dark:null,hc:v.b},o.a("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),k=Object(v.ub)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:v.b},o.a("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),O=Object(v.ub)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},o.a("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque to not hide underlying decorations."),!0),E=Object(v.ub)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},o.a("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque to not hide underlying decorations."),!0),L=new m.f("hasWordHighlights",!1);function D(e,i,n){var t=g.h.ordered(e);return Object(s.h)(t.map(function(t){return function(){return Promise.resolve(t.provideDocumentHighlights(e,i,n)).then(void 0,l.f)}}),function(t){return!r.k(t)})}var I=(N.prototype._getCurrentWordRange=function(t,e){var i=t.getWordAtPosition(e.getPosition());return i?new c.a(e.startLineNumber,i.startColumn,e.startLineNumber,i.endColumn):null},N.prototype.isValid=function(t,e,i){for(var n=e.startLineNumber,o=e.startColumn,r=e.endColumn,s=this._getCurrentWordRange(t,e),a=Boolean(this._wordRange&&this._wordRange.equalsRange(s)),l=0,u=i.length;!a&&l<u;l++){var h=t.getDecorationRange(i[l]);h&&h.startLineNumber===n&&h.startColumn<=o&&h.endColumn>=r&&(a=!0)}return a},N.prototype.cancel=function(){this.result.cancel()},N);function N(e,i,n){var o=this;this._wordRange=this._getCurrentWordRange(e,i),this.result=Object(s.g)(function(t){return o._compute(e,i,n,t)})}var T,M=(_(A,T=I),A.prototype._compute=function(t,e,i,n){return D(t,e.getPosition(),n)},A);function A(){return null!==T&&T.apply(this,arguments)||this}var P,R=(_(F,P=I),F.prototype._compute=function(e,i,n,t){return Object(s.j)(250,t).then(function(){if(!i.isEmpty())return[];var t=e.getWordAtPosition(i.getPosition());return t?e.findMatches(t.word,!0,!1,!0,n,!1).map(function(t){return{range:t.range,kind:g.g.Text}}):[]})},F.prototype.isValid=function(t,e,i){var n=e.isEmpty();return this._selectionIsEmpty===n&&P.prototype.isValid.call(this,t,e,i)},F);function F(t,e,i){var n=P.call(this,t,e,i)||this;return n._selectionIsEmpty=e.isEmpty(),n}Object(h.e)("_executeDocumentHighlights",function(t,e){return D(t,e,a.a.None)});var j=(B.prototype.hasDecorations=function(){return 0<this._decorationIds.length},B.prototype.restore=function(){this.occurrencesHighlight&&this._run()},B.prototype._getSortedHighlights=function(){var e=this;return r.c(this._decorationIds.map(function(t){return e.model.getDecorationRange(t)}).sort(c.a.compareRangesUsingStarts))},B.prototype.moveNext=function(){var e=this,t=this._getSortedHighlights(),i=t[(r.h(t,function(t){return t.containsPosition(e.editor.getPosition())})+1)%t.length];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i)}finally{this._ignorePositionChangeEvent=!1}},B.prototype.moveBack=function(){var e=this,t=this._getSortedHighlights(),i=t[(r.h(t,function(t){return t.containsPosition(e.editor.getPosition())})-1+t.length)%t.length];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i)}finally{this._ignorePositionChangeEvent=!1}},B.prototype._removeDecorations=function(){0<this._decorationIds.length&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))},B.prototype._stopAll=function(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},B.prototype._onPositionChanged=function(t){this.occurrencesHighlight&&3===t.reason?this._run():this._stopAll()},B.prototype._run=function(){var e=this,t=this.editor.getSelection();if(t.startLineNumber===t.endLineNumber){var i=t.startLineNumber,n=t.startColumn,o=t.endColumn,r=this.model.getWordAtPosition({lineNumber:i,column:n});if(!r||r.startColumn>n||r.endColumn<o)this._stopAll();else{var s=this.workerRequest&&this.workerRequest.isValid(this.model,t,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var a=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function(t,e,i){return g.h.has(t)?new M(t,e,i):new R(t,e,i)}(this.model,this.editor.getSelection(),this.editor.getConfiguration().wordSeparators),this.workerRequest.result.then(function(t){a===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=t||[],e._beginRenderDecorations())},l.e)}}}else this._stopAll()},B.prototype._beginRenderDecorations=function(){var t=this,e=(new Date).getTime(),i=this.lastCursorPositionChangeTime+250;i<=e?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){t.renderDecorations()},i-e)},B.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var t=[],e=0,i=this.workerRequestValue.length;e<i;e++){var n=this.workerRequestValue[e];t.push({range:n.range,options:B._getDecorationOptions(n.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,t),this._hasWordHighlights.set(this.hasDecorations())},B._getDecorationOptions=function(t){return t===g.g.Write?this._WRITE_OPTIONS:t===g.g.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},B.prototype.dispose=function(){this._stopAll(),this.toUnhook=Object(u.d)(this.toUnhook)},B._WRITE_OPTIONS=f.a.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Object(y.f)(E),position:p.c.Center}}),B._TEXT_OPTIONS=f.a.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(y.f)(v.qb),position:p.c.Center}}),B._REGULAR_OPTIONS=f.a.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:Object(y.f)(O),position:p.c.Center}}),B);function B(t,e){var i=this;this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=t,this._hasWordHighlights=L.bindTo(e),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getConfiguration().contribInfo.occurrencesHighlight,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(t.onDidChangeCursorPosition(function(t){i._ignorePositionChangeEvent||i.occurrencesHighlight&&i._onPositionChanged(t)})),this.toUnhook.push(t.onDidChangeModelContent(function(t){i._stopAll()})),this.toUnhook.push(t.onDidChangeConfiguration(function(t){var e=i.editor.getConfiguration().contribInfo.occurrencesHighlight;i.occurrencesHighlight!==e&&(i.occurrencesHighlight=e,i._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}var H,W=(H=u.a,_(V,H),V.get=function(t){return t.getContribution(V.ID)},V.prototype.getId=function(){return V.ID},V.prototype.saveViewState=function(){return!(!this.wordHighligher||!this.wordHighligher.hasDecorations())},V.prototype.moveNext=function(){this.wordHighligher&&this.wordHighligher.moveNext()},V.prototype.moveBack=function(){this.wordHighligher&&this.wordHighligher.moveBack()},V.prototype.restoreViewState=function(t){this.wordHighligher&&t&&this.wordHighligher.restore()},V.prototype.dispose=function(){this.wordHighligher&&(this.wordHighligher.dispose(),this.wordHighligher=null),H.prototype.dispose.call(this)},V.ID="editor.contrib.wordHighlighter",V=b([w(1,m.e)],V));function V(t,e){function i(){t.hasModel()&&(n.wordHighligher=new j(t,e))}var n=H.call(this)||this;return n._register(t.onDidChangeModel(function(t){n.wordHighligher&&(n.wordHighligher.dispose(),n.wordHighligher=null),i()})),i(),n}var z,U=(z=h.b,_(q,z),q.prototype.run=function(t,e){var i=W.get(e);i&&(this._isNext?i.moveNext():i.moveBack())},q);function q(t,e){var i=z.call(this,e)||this;return i._isNext=t,i}var K,G=(_(Y,K=U),Y);function Y(){return K.call(this,!0,{id:"editor.action.wordHighlight.next",label:o.a("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:L,kbOpts:{kbExpr:d.a.editorTextFocus,primary:65,weight:100}})||this}var $,Z=(_(X,$=U),X);function X(){return $.call(this,!1,{id:"editor.action.wordHighlight.prev",label:o.a("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:L,kbOpts:{kbExpr:d.a.editorTextFocus,primary:1089,weight:100}})||this}var J,Q=(J=h.b,_(tt,J),tt.prototype.run=function(t,e,i){var n=W.get(e);n&&n.restoreViewState(!0)},tt);function tt(){return J.call(this,{id:"editor.action.wordHighlight.trigger",label:o.a("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:L.toNegated(),kbOpts:{kbExpr:d.a.editorTextFocus,primary:0,weight:100}})||this}Object(h.h)(W),Object(h.f)(G),Object(h.f)(Z),Object(h.f)(Q),Object(y.e)(function(t,e){var i=t.getColor(v.B);i&&(e.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+i+"; }"),e.addRule(".monaco-editor .selectionHighlight { background-color: "+i.transparent(.5)+"; }"));var n=t.getColor(C);n&&e.addRule(".monaco-editor .wordHighlight { background-color: "+n+"; }");var o=t.getColor(S);o&&e.addRule(".monaco-editor .wordHighlightStrong { background-color: "+o+"; }");var r=t.getColor(v.C);r&&e.addRule(".monaco-editor .selectionHighlight { border: 1px "+("hc"===t.type?"dotted":"solid")+" "+r+"; box-sizing: border-box; }");var s=t.getColor(x);s&&e.addRule(".monaco-editor .wordHighlight { border: 1px "+("hc"===t.type?"dashed":"solid")+" "+s+"; box-sizing: border-box; }");var a=t.getColor(k);a&&e.addRule(".monaco-editor .wordHighlightStrong { border: 1px "+("hc"===t.type?"dashed":"solid")+" "+a+"; box-sizing: border-box; }")})},function(t,e,i){"use strict";i.r(e),i.d(e,"DeleteWordPartLeft",function(){return d}),i.d(e,"DeleteWordPartRight",function(){return g}),i.d(e,"WordPartLeftCommand",function(){return y}),i.d(e,"CursorWordPartLeft",function(){return w}),i.d(e,"CursorWordPartLeftSelect",function(){return x}),i.d(e,"WordPartRightCommand",function(){return E}),i.d(e,"CursorWordPartRight",function(){return I}),i.d(e,"CursorWordPartRightSelect",function(){return M});var n,o,r=i(3),l=i(109),u=i(2),s=i(6),a=i(127),h=i(37),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=(o=a.DeleteWordCommand,c(p,o),p.prototype._delete=function(t,e,i,n,o){var r=l.b.deleteWordPartLeft(t,e,i,n);return r||new u.a(1,1,1,1)},p);function p(){return o.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:s.a.writable,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:769},weight:100}})||this}var f,g=(f=a.DeleteWordCommand,c(m,f),m.prototype._delete=function(t,e,i,n,o){var r=l.b.deleteWordPartRight(t,e,i,n);if(r)return r;var s=e.getLineCount(),a=e.getLineMaxColumn(s);return new u.a(s,a,s,a)},m);function m(){return f.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:s.a.writable,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:788},weight:100}})||this}var v,y=(v=a.MoveWordCommand,c(_,v),_.prototype._move=function(t,e,i,n){return l.b.moveWordPartLeft(t,e,i)},_);function _(){return null!==v&&v.apply(this,arguments)||this}var b,w=(c(C,b=y),C);function C(){return b.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:null,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:783},weight:100}})||this}h.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var S,x=(c(k,S=y),k);function k(){return S.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:null,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:1807},weight:100}})||this}h.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var O,E=(O=a.MoveWordCommand,c(L,O),L.prototype._move=function(t,e,i,n){return l.b.moveWordPartRight(t,e,i)},L);function L(){return null!==O&&O.apply(this,arguments)||this}var D,I=(c(N,D=E),N);function N(){return D.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:null,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:785},weight:100}})||this}var T,M=(c(A,T=E),A);function A(){return T.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:null,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:1809},weight:100}})||this}Object(r.g)(new d),Object(r.g)(new g),Object(r.g)(new w),Object(r.g)(new x),Object(r.g)(new I),Object(r.g)(new M)},function(t,e,i){"use strict";i.r(e);var n=i(19),o="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return o.Promise.wrap(Promise.resolve().then(i.bind(null,144)))}}),Object(n.a)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return o.Promise.wrap(Promise.resolve().then(i.bind(null,144)))}})},function(t,e,i){"use strict";i.r(e);var n=i(19),o="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return o.Promise.wrap(i.e(12).then(i.bind(null,398)))}})},function(t,e,i){"use strict";i.r(e);var n=i(19),o="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return o.Promise.wrap(i.e(36).then(i.bind(null,399)))}})},function(t,e,i){"use strict";i.r(e);var n=i(19),o="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return o.Promise.wrap(i.e(44).then(i.bind(null,400)))}})},function(t,e,i){"use strict";var n=i(102),a=i(58),l=i(43);function o(t,e,i,n,o){this.dropdownButton=i;var r=!1;e?(this.currentCompilerId=e.id,r=e.libs):this.currentCompilerId="_default_",this.currentLangId=t,this.initButtons(),this.domRoot=null,this.onChangeCallback=o,this.availableLibs={},this.updateAvailableLibs(r),a.each(n.libs,a.bind(function(t){this.markLibrary(t.name,t.ver,!0)},this))}o.prototype.initButtons=function(){this.noLibsPanel=l("#libs-dropdown .no-libs"),this.libsEntry=l("#libs-entry .input-group")},o.prototype.initLangDefaultLibs=function(){var t=n.defaultLibs[this.currentLangId];t&&a.each(t.split(":"),a.bind(function(t){var e=t.split(".");if(2===e.length){var i=e[0],n=e[1];this.markLibrary(i,n,!0)}},this))},o.prototype.updateAvailableLibs=function(t){this.availableLibs[this.currentLangId]||(this.availableLibs[this.currentLangId]={}),this.availableLibs[this.currentLangId][this.currentCompilerId]||("_default_"===this.currentCompilerId?this.availableLibs[this.currentLangId][this.currentCompilerId]=l.extend(!0,{},n.libs[this.currentLangId]):this.availableLibs[this.currentLangId][this.currentCompilerId]=l.extend(!0,{},t)),this.initLangDefaultLibs(),this.updateLibsDropdown()},o.prototype.setNewLangId=function(t,e,i){var n=this.listUsedLibs();this.currentLangId=t,this.currentCompilerId=e||"_default_",this.domRoot=null,this.updateAvailableLibs(i),a.forEach(n,a.bind(function(t,e){this.markLibrary(e,t,!0)},this))},o.prototype.lazyDropdownLoad=function(){if(0===a.keys(this.availableLibs[this.currentLangId][this.currentCompilerId]).length)return this.noLibsPanel;if(null!==this.domRoot)return this.domRoot;var e=null,i=0,t=a.keys(this.availableLibs[this.currentLangId][this.currentCompilerId]).sort(),n=Math.ceil(t.length/3);this.domRoot=l("<div></div>");function r(t){((null===e||n<=i)&&(e=l("<div></div>").addClass("card"),o.append(e),i=0),e).append(t),i++}var o=l("<div></div>").addClass("card-columns"),s=this.listUsedLibs();return a.each(t,a.bind(function(i){var e=this.availableLibs[this.currentLangId][this.currentCompilerId][i],t=this.libsEntry.clone(),n=t.find(".input-group-prepend label").text(e.name).prop("title",e.description||"").prop("for",i),o=t.find("select").prop("id",i).append(l("<option>",{value:"-",text:"-"}));a.each(e.versions,a.bind(function(t,e){o.append(l("<option>",{value:e,text:t.version,selected:s[i]&&s[i]===e}))},this)),n.toggleClass("bg-success text-white","-"!==o.val()),o.on("change",a.bind(function(){var t=o.val();n.toggleClass("bg-success text-white","-"!==t),a.each(e.versions,a.bind(function(t,e){this.markLibrary(i,e,!1)},this)),"-"!==t&&this.markLibrary(i,t,!0),this.onChangeCallback()},this)),r(t)},this)),this.domRoot.append(o),this.domRoot},o.prototype.updateLibsDropdown=function(){this.dropdownButton.popover("dispose"),this.dropdownButton.popover({container:"body",content:a.bind(this.lazyDropdownLoad,this),html:!0,placement:"bottom",trigger:"click",template:'<div class="popover libs-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'})},o.prototype.markLibrary=function(t,e,i){this.availableLibs[this.currentLangId]&&this.availableLibs[this.currentLangId][this.currentCompilerId]&&this.availableLibs[this.currentLangId][this.currentCompilerId][t]&&this.availableLibs[this.currentLangId][this.currentCompilerId][t].versions[e]&&(this.availableLibs[this.currentLangId][this.currentCompilerId][t].versions[e].used=i)},o.prototype.get=function(){return a.map(this.listUsedLibs(),function(t,e){return{name:e,ver:t}})},o.prototype.listUsedLibs=function(){var o={};return a.each(this.availableLibs[this.currentLangId][this.currentCompilerId],function(i,n){a.each(i.versions,function(t,e){i.versions[e].used&&(o[n]=e)})}),o},o.prototype.getLibsInUse=function(){var r=[];return a.each(this.availableLibs[this.currentLangId][this.currentCompilerId],function(n,o){a.each(n.versions,function(t,e){if(n.versions[e].used){var i=Object.assign({libId:o,versionId:e},n.versions[e]);r.push(i)}})}),r},t.exports={Widget:o}},function(t,e,i){"use strict";var n,o=i(58),r={fg:"#FFF",bg:"#000",newline:!1,escapeXML:!1,stream:!1,colors:(n={0:"#000",1:"#A00",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"},s(0,5).forEach(function(i){s(0,5).forEach(function(e){s(0,5).forEach(function(t){return function(t,e,i,n){var o=0<t?40*t+55:0,r=0<e?40*e+55:0,s=0<i?40*i+55:0;n[16+36*t+6*e+i]=function(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(a(t[i]));return"#"+e.join("")}([o,r,s])}(i,e,t,n)})})}),s(0,23).forEach(function(t){var e=t+232,i=a(10*t+8);n[e]="#"+i+i+i}),n)};function a(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return e}function l(t,e,i,n){var o;return"text"===e?o=function(t,e){if(e.escapeXML)return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t}(i,n):"display"===e?o=function(t,e,i){var n;e=parseInt(e,10);var o={"-1":function(){return"<br/>"},0:function(){return t.length&&u(t)},1:function(){return c(t,"b")},2:function(){return d(t,"opacity:0.6")},3:function(){return c(t,"i")},4:function(){return c(t,"u")},8:function(){return d(t,"display:none")},9:function(){return c(t,"strike")},22:function(){return g(t,"b")},23:function(){return g(t,"i")},24:function(){return g(t,"u")},39:function(){return p(t,i.fg)},49:function(){return f(t,i.bg)}};o[e]?n=o[e]():4<e&&e<7?n=c(t,"blink"):29<e&&e<38?n=p(t,i.colors[e-30]):39<e&&e<48?n=f(t,i.colors[e-40]):89<e&&e<98?n=p(t,i.colors[e-90+8]):99<e&&e<108&&(n=f(t,i.colors[e-100+8]));return n}(t,i,n):"xterm256"===e&&(o=p(t,n.colors[i])),o}function u(t){var e=t.slice(0);return t.length=0,e.reverse().map(function(t){return"</"+t+">"}).join("")}function s(t,e){for(var i=[],n=t;n<=e;n++)i.push(n);return i}function h(t){var e=null;return 0===(t=parseInt(t,10))?e="all":1===t?e="bold":2<t&&t<5?e="underline":4<t&&t<7?e="blink":8===t?e="hide":9===t?e="strike":29<t&&t<38||39===t||89<t&&t<98?e="foreground-color":(39<t&&t<48||49===t||99<t&&t<108)&&(e="background-color"),e}function c(t,e,i){return i=i||"",t.push(e),["<"+e,i?' style="'+i+'"':void 0,">"].join("")}function d(t,e){return c(t,"span",e)}function p(t,e){return c(t,"span","color:"+e)}function f(t,e){return c(t,"span","background-color:"+e)}function g(t,e){var i;if(t.slice(-1)[0]===e&&(i=t.pop()),i)return"</"+e+">"}function m(t,e,o){var r=!1,i=3;function n(){return""}var s=[{pattern:/^\x08+/,sub:n},{pattern:/^\x1b\[[012]?K/,sub:n},{pattern:/^\x1b\[38;5;(\d+)m/,sub:function(t,e){return o("xterm256",e),""}},{pattern:/^\n/,sub:function(t){return e.newline?o("display",-1):o("text",t),""}},{pattern:/^\x1b\[((?:\d{1,3};?)+|)m/,sub:function(t,e){r=!0,0===e.trim().length&&(e="0");for(var i=0,n=(e=e.replace(/;+$/,"").split(";")).length;i<n;i++)o("display",e[i]);return""}},{pattern:/^\x1b\[?[\d;]{0,3}/,sub:n},{pattern:/^([^\x1b\x08\n]+)/,sub:function(t){return o("text",t),""}}];var a,l=[],u=t.length;t:for(;0<u;){for(var h=0,c=0,d=s.length;c<d;h=++c)if(a=s[h],i<h&&r||(r=!1,t=t.replace(a.pattern,a.sub)),t.length!==u){u=t.length;continue t}if(t.length===u)break;l.push(0),u=t.length}return l}function v(t,e,i){return"text"!==e&&(t=t.filter(function(e){return function(t){return(null===e||t.category!==e)&&"all"!==e}}(h(i)))).push({token:e,data:i,category:h(i)}),t}function y(t){(t=t||{}).colors&&(t.colors=o.extend(r.colors,t.colors)),this.opts=o.extend({},r,t),this.stack=[],this.stickyStack=[]}y.prototype={toHtml:function(t){var n=this;t="string"==typeof t?[t]:t;var o=this.stack,r=this.opts,s=[];return this.stickyStack.forEach(function(t){var e=l(o,t.token,t.data,r);e&&s.push(e)}),m(t.join(""),r,function(t,e){var i=l(o,t,e,r);i&&s.push(i),r.stream&&(n.stickyStack=v(n.stickyStack,t,e))}),o.length&&s.push(u(o)),s.join("")}},t.exports=y},function(t,e,i){"use strict";i.r(e);var n,o=i(50),f=i(21),g=i(13),c=i(4),r=i(3),m=i(53),v=i(2),a=i(36),s=i(6),y=i(116),_=i(114),u=i(72),l=i(92),h=i(11),d=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},b=function(i,n){return function(t,e){n(t,e,i)}},w=(C.prototype.select=function(t,e,i){if(0===i.length)return 0;for(var n=i[0].score,o=1;o<i.length;o++){var r=i[o],s=r.score,a=r.suggestion;if(s!==n)break;if(a.preselect)return o}return 0},C);function C(){}var S,x=(d(k,S=w),k.prototype.memorize=function(t,e,i){},k.prototype.toJSON=function(){},k.prototype.fromJSON=function(){},k);function k(){return null!==S&&S.apply(this,arguments)||this}var O,E=(d(L,O=w),L.prototype.memorize=function(t,e,i){var n=i.suggestion.label,o=t.getLanguageIdentifier().language+"/"+n;this._cache.set(o,{touch:this._seq++,type:i.suggestion.kind,insertText:i.suggestion.insertText})},L.prototype.select=function(t,e,i){if(0!==t.getWordUntilPosition(e).word.length)return O.prototype.select.call(this,t,e,i);var n=t.getLineContent(e.lineNumber).substr(e.column-10,e.column-1);if(/\s$/.test(n))return O.prototype.select.call(this,t,e,i);for(var o=-1,r=-1,s=0;s<i.length;s++){var a=i[s].suggestion,l=t.getLanguageIdentifier().language+"/"+a.label,u=this._cache.get(l);u&&u.touch>r&&u.type===a.kind&&u.insertText===a.insertText&&(r=u.touch,o=s)}return-1===o?O.prototype.select.call(this,t,e,i):o},L.prototype.toJSON=function(){var i=[];return this._cache.forEach(function(t,e){i.push([e,t])}),i},L.prototype.fromJSON=function(t){this._cache.clear();for(var e=0,i=t;e<i.length;e++){var n=i[e],o=n[0],r=n[1];r.touch=0,r.type="number"==typeof r.type?r.type:Object(h.y)(r.type),this._cache.set(o,r)}this._seq=this._cache.size},L);function L(){var t=null!==O&&O.apply(this,arguments)||this;return t._cache=new u.a(300,.66),t._seq=0,t}var D,I=(d(N,D=w),N.prototype.memorize=function(t,e,i){var n=t.getWordUntilPosition(e).word,o=t.getLanguageIdentifier().language+"/"+n;this._trie.set(o,{type:i.suggestion.kind,insertText:i.suggestion.insertText,touch:this._seq++})},N.prototype.select=function(t,e,i){var n=t.getWordUntilPosition(e).word;if(!n)return D.prototype.select.call(this,t,e,i);var o=t.getLanguageIdentifier().language+"/"+n,r=this._trie.get(o);if(r=r||this._trie.findSubstr(o))for(var s=0;s<i.length;s++){var a=i[s].suggestion,l=a.kind,u=a.insertText;if(l===r.type&&u===r.insertText)return s}return D.prototype.select.call(this,t,e,i)},N.prototype.toJSON=function(){var i=[];return this._trie.forEach(function(t,e){return i.push([e,t])}),i.sort(function(t,e){return-(t[1].touch-e[1].touch)}).forEach(function(t,e){return t[1].touch=e}),i.slice(0,200)},N.prototype.fromJSON=function(t){if(this._trie.clear(),0<t.length){this._seq=t[0][1].touch+1;for(var e=0,i=t;e<i.length;e++){var n=i[e],o=n[0],r=n[1];r.type="number"==typeof r.type?r.type:Object(h.y)(r.type),this._trie.set(o,r)}}},N);function N(){var t=null!==D&&D.apply(this,arguments)||this;return t._trie=u.c.forStrings(),t._seq=0,t}var T,M=(T=c.a,d(A,T),A.prototype._setMode=function(t){if(this._mode!==t){this._mode=t,this._strategy="recentlyUsedByPrefix"===t?new I:"recentlyUsed"===t?new E:new x;try{var e=this._storageService.get(this._storagePrefix+"/"+this._mode,1);e&&this._strategy.fromJSON(JSON.parse(e))}catch(t){}}},A.prototype.memorize=function(t,e,i){this._strategy.memorize(t,e,i)},A.prototype.select=function(t,e,i){return this._strategy.select(t,e,i)},A.prototype._saveState=function(){var t=JSON.stringify(this._strategy);this._storageService.store(this._storagePrefix+"/"+this._mode,t,1)},A=p([b(1,l.a)],A));function A(e,t){var i=T.call(this)||this;return i._storageService=t,i._storagePrefix="suggest/memories",i._setMode(e.getConfiguration().contribInfo.suggestSelection),i._register(e.onDidChangeConfiguration(function(t){return t.contribInfo&&i._setMode(e.getConfiguration().contribInfo.suggestSelection)})),i._register(t.onWillSaveState(function(){return i._saveState()})),i}var P=i(0),R=i(37),F=i(10),j=i(18),B=i(42),H=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},W=function(i,n){return function(t,e){n(t,e,i)}},V=(z.prototype.dispose=function(){this.reset()},z.prototype.reset=function(){this._ckOtherSuggestions.reset(),Object(c.d)(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},z.prototype.set=function(t,e){var i=this,n=t.model,o=t.index;0!==n.items.length&&z._moveIndex(!0,n,o)!==o?(this._acceptNext=e,this._model=n,this._index=o,this._listener=this._editor.onDidChangeCursorPosition(function(){i._ignore||i.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()},z._moveIndex=function(t,e,i){for(var n=i;(n=(n+e.items.length+(t?1:-1))%e.items.length)!==i&&e.items[n].suggestion.additionalTextEdits;);return n},z.prototype.next=function(){this._move(!0)},z.prototype.prev=function(){this._move(!1)},z.prototype._move=function(t){if(this._model)try{this._ignore=!0,this._index=z._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},z.OtherSuggestions=new F.f("hasOtherSuggestions",!1),z=H([W(1,F.e)],z));function z(t,e){this._editor=t,this._ckOtherSuggestions=z.OtherSuggestions.bindTo(e)}var U=i(17),q=i(5),K=i(20),G=i(111),Y=i(33),$=(Z.prototype.dispose=function(){for(var t=new Set,e=0,i=this._items;e<i.length;e++){var n=i[e].container;t.has(n)||(t.add(n),Object(c.e)(n)&&n.dispose())}},Object.defineProperty(Z.prototype,"lineContext",{get:function(){return this._lineContext},set:function(t){this._lineContext.leadingLineContent===t.leadingLineContent&&this._lineContext.characterCountDelta===t.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<t.characterCountDelta&&this._filteredItems?2:1,this._lineContext=t)},enumerable:!0,configurable:!0}),Object.defineProperty(Z.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(Z.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),Z.prototype.adopt=function(t){for(var e=new Array,i=0;i<this._items.length;)t.has(this._items[i].support)?i++:(e.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,e},Object.defineProperty(Z.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),Z.prototype._ensureCachedState=function(){0!==this._refilterKind&&this._createCachedState()},Z.prototype._createCachedState=function(){this._isIncomplete=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var t=this._lineContext,e=t.leadingLineContent,i=t.characterCountDelta,n="",o="",r=1===this._refilterKind?this._items:this._filteredItems,s=[],a=!this._options.filterGraceful||2e3<r.length?G.c:G.d,l=0;l<r.length;l++){var u=r[l],h=u.suggestion,c=u.container;Object(B.b)(h),c.incomplete&&this._isIncomplete.add(u.support);var d=u.position.column-h.range.startColumn,p=d+i-(u.position.column-this._column);if(n.length!==p&&(o=(n=0==p?"":e.slice(-p)).toLowerCase()),u.word=n,0==p)u.score=-100,u.matches=void 0;else{for(var f=0;f<d;){var g=n.charCodeAt(f);if(32!==g&&9!==g)break;f+=1}if(p<=f)u.score=-100,u.matches=[];else if("string"==typeof h.filterText){if(!(m=a(n,o,f,h.filterText,h._filterTextLow,0,!1)))continue;u.score=m[0],u.matches=(Object(G.c)(n,o,0,h.label,h._labelLow,0,!0)||Object(G.a)(n,h.label))[1]}else{var m;if(!(m=a(n,o,f,h.label,h._labelLow,0,!1)))continue;u.score=m[0],u.matches=m[1]}}switch(u.idx=l,u.distance=this._wordDistance.distance(u.position,h),s.push(u),this._stats.suggestionCount++,h.kind){case 25:this._stats.snippetCount++;break;case 18:this._stats.textCount++}}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0},Z._compareCompletionItems=function(t,e){return t.score>e.score?-1:t.score<e.score?1:t.distance<e.distance?-1:t.distance>e.distance?1:t.idx<e.idx?-1:t.idx>e.idx?1:0},Z._compareCompletionItemsSnippetsDown=function(t,e){if(t.suggestion.kind!==e.suggestion.kind){if(25===t.suggestion.kind)return 1;if(25===e.suggestion.kind)return-1}return Z._compareCompletionItems(t,e)},Z._compareCompletionItemsSnippetsUp=function(t,e){if(t.suggestion.kind!==e.suggestion.kind){if(25===t.suggestion.kind)return-1;if(25===e.suggestion.kind)return 1}return Z._compareCompletionItems(t,e)},Z);function Z(t,e,i,n,o){void 0===o&&(o=Y.a.contribInfo.suggest),this._snippetCompareFn=Z._compareCompletionItems,this._items=t,this._column=e,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,"top"===o.snippets?this._snippetCompareFn=Z._compareCompletionItemsSnippetsUp:"bottom"===o.snippets&&(this._snippetCompareFn=Z._compareCompletionItemsSnippetsDown)}var X,J,Q=i(29),tt=i(161),et=(X=function(t,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),it=(nt.create=function(t,c){if(!c.getConfiguration().contribInfo.suggest.localityBonus)return Promise.resolve(nt.None);if(!c.hasModel())return Promise.resolve(nt.None);var e=c.getModel(),d=c.getPosition();if(!t.canComputeWordRanges(e.uri))return Promise.resolve(nt.None);for(var i=tt.b(tt.a(e),d),p=[];i&&(i.range.isEmpty()||p.push(i.range),!(100<=i.end.lineNumber-i.start.lineNumber));)i=i.parent;return p.reverse(),0===p.length?Promise.resolve(nt.None):t.computeWordRanges(e.uri,p[0]).then(function(h){return et(t,e=nt),t.prototype.distance=function(t,e){if(!h||!d.equals(c.getPosition()))return 0;if(17===e.kind)return 2<<20;var i=e.label,n=h[i];if(Object(f.k)(n))return 2<<20;for(var o=Object(f.b)(n,v.a.fromPositions(t),v.a.compareRangesUsingStarts),r=0<=o?n[o]:n[Math.max(0,~o-1)],s=p.length,a=0,l=p;a<l.length;a++){var u=l[a];if(!v.a.containsRange(u,r))break;s-=1}return s},new t;function t(){return null!==e&&e.apply(this,arguments)||this}var e})},nt.None=(et(ot,J=nt),ot.prototype.distance=function(){return 0},new ot),nt);function nt(){}function ot(){return null!==J&&J.apply(this,arguments)||this}var rt=(st.shouldAutoTrigger=function(t){var e=t.getModel();if(!e)return!1;var i=t.getPosition();e.tokenizeIfCheap(i.lineNumber);var n=e.getWordAtPosition(i);return!!n&&n.endColumn===i.column&&!!isNaN(Number(n.word))},st);function st(t,e,i,n){this.leadingLineContent=t.getLineContent(e.lineNumber).substr(0,e.column-1),this.leadingWord=t.getWordUntilPosition(e),this.lineNumber=e.lineNumber,this.column=e.column,this.auto=i,this.shy=n}var at=(lt.prototype.dispose=function(){Object(c.d)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerCharacterListener,this._triggerQuickSuggest,this._triggerRefilter]),this._toDispose=Object(c.d)(this._toDispose),Object(c.d)(this._completionModel),this.cancel()},lt.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},lt.prototype._updateTriggerCharacters=function(){var o=this;if(Object(c.d)(this._triggerCharacterListener),!this._editor.getConfiguration().readOnly&&this._editor.getModel()&&this._editor.getConfiguration().contribInfo.suggestOnTriggerCharacters){for(var r=Object.create(null),t=0,e=h.d.all(this._editor.getModel());t<e.length;t++){var i=e[t];if(!Object(f.k)(i.triggerCharacters))for(var n=0,s=i.triggerCharacters;n<s.length;n++){var a=s[n],l=r[a];l||(l=r[a]=new Set).add(Object(B.c)()),l.add(i)}}this._triggerCharacterListener=this._editor.onDidType(function(t){var e=t.charAt(t.length-1),i=r[e];if(i){var n=o._completionModel?o._completionModel.adopt(i):void 0;o.trigger({auto:!0,triggerCharacter:e},Boolean(o._completionModel),Object(u.e)(i),n)}})}},Object.defineProperty(lt.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),lt.prototype.cancel=function(t){void 0===t&&(t=!1),this._triggerRefilter.cancel(),this._triggerQuickSuggest&&this._triggerQuickSuggest.cancel(),this._requestToken&&this._requestToken.cancel(),this._state=0,Object(c.d)(this._completionModel),this._completionModel=null,this._context=null,this._onDidCancel.fire({retrigger:t})},lt.prototype._updateActiveSuggestSession=function(){0!==this._state&&(h.d.has(this._editor.getModel())?this.trigger({auto:2===this._state},!0):this.cancel())},lt.prototype._onCursorChange=function(t){var r=this,e=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!t.selection.isEmpty()||0!==t.reason||"keyboard"!==t.source&&"deleteLeft"!==t.source)0!==this._state&&this.cancel();else if(h.d.has(this._editor.getModel())&&this._editor.getModel()&&0===this._state){if(!1===this._editor.getConfiguration().contribInfo.quickSuggestions)return;if(!e.containsRange(this._currentSelection)&&!e.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getConfiguration().contribInfo.suggest.snippetsPreventQuickSuggestions&&y.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(function(){if(rt.shouldAutoTrigger(r._editor)){var t=r._editor.getModel(),e=r._editor.getPosition();if(t){var i=r._editor.getConfiguration().contribInfo.quickSuggestions;if(!1!==i){if(!0===i);else{t.tokenizeIfCheap(e.lineNumber);var n=t.getLineTokens(e.lineNumber),o=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(e.column-1-1,0)));if(!(i.other&&0===o||i.comments&&1===o||i.strings&&2===o))return}r.trigger({auto:!0})}}}},this._quickSuggestDelay)}},lt.prototype._refilterCompletionItems=function(){var i=this;if(0!==this._state){var n=this._editor.getModel();n&&this._triggerRefilter.cancelAndSet(function(){var t=i._editor.getPosition(),e=new rt(n,t,2===i._state,!1);i._onNewContext(e)},25)}},lt.prototype.trigger=function(s,t,e,a){var l=this;void 0===t&&(t=!1);var i=this._editor.getModel();if(i){var n,u=s.auto,o=new rt(i,this._editor.getPosition(),u,s.shy);this.cancel(t),this._state=u?2:1,this._onDidTrigger.fire({auto:u,shy:s.shy}),this._context=o,n=s.triggerCharacter?{triggerKind:1,triggerCharacter:s.triggerCharacter}:e&&e.length?{triggerKind:2}:{triggerKind:0},this._requestToken=new Q.b;var r=it.create(this._editorWorker,this._editor),h=Object(B.e)(i,this._editor.getPosition(),this._editor.getConfiguration().contribInfo.suggest.snippets,e,n,this._requestToken.token);Promise.all([h,r]).then(function(t){var e=t[0],i=t[1];if(l._requestToken.dispose(),0!==l._state){var n=l._editor.getModel();if(n){if(!Object(f.k)(a)){var o=Object(B.d)(l._editor.getConfiguration().contribInfo.suggest.snippets);e=e.concat(a).sort(o)}var r=new rt(n,l._editor.getPosition(),u,s.shy);Object(c.d)(l._completionModel),l._completionModel=new $(e,l._context.column,{leadingLineContent:r.leadingLineContent,characterCountDelta:l._context?r.column-l._context.column:0},i,l._editor.getConfiguration().contribInfo.suggest),l._onNewContext(r)}}}).catch(g.e)}},lt.prototype._onNewContext=function(t){if(this._context)if(t.lineNumber===this._context.lineNumber){if(t.leadingWord.startColumn<this._context.leadingWord.startColumn)this.cancel();else if(t.column<this._context.column)t.leadingWord.word?this.trigger({auto:this._context.auto},!0):this.cancel();else if(this._completionModel)if(t.column>this._context.column&&0<this._completionModel.incomplete.size&&0!==t.leadingWord.word.length){var e=this._completionModel.incomplete,i=this._completionModel.adopt(e);this.trigger({auto:2===this._state},!0,Object(u.e)(e),i)}else{var n=this._completionModel.lineContext,o=!1;if(this._completionModel.lineContext={leadingLineContent:t.leadingLineContent,characterCountDelta:t.column-this._context.column},0===this._completionModel.items.length){if(rt.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<t.leadingWord.startColumn)return void this.trigger({auto:this._context.auto},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=n,(o=0<this._completionModel.items.length)&&0===t.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:o})}}else this.cancel()},lt);function lt(t,e){var i=this;this._editor=t,this._editorWorker=e,this._toDispose=[],this._triggerQuickSuggest=new U.e,this._triggerRefilter=new U.e,this._state=0,this._onDidCancel=new q.a,this._onDidTrigger=new q.a,this._onDidSuggest=new q.a,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._completionModel=null,this._context=null,this._currentSelection=this._editor.getSelection()||new K.a(1,1,1,1),this._toDispose.push(this._editor.onDidChangeModel(function(){i._updateTriggerCharacters(),i.cancel()})),this._toDispose.push(this._editor.onDidChangeModelLanguage(function(){i._updateTriggerCharacters(),i.cancel()})),this._toDispose.push(this._editor.onDidChangeConfiguration(function(){i._updateTriggerCharacters(),i._updateQuickSuggest()})),this._toDispose.push(h.d.onDidChange(function(){i._updateTriggerCharacters(),i._updateActiveSuggestSession()})),this._toDispose.push(this._editor.onDidChangeCursorSelection(function(t){i._onCursorChange(t)}));var n=!1;this._toDispose.push(this._editor.onCompositionStart(function(){n=!0})),this._toDispose.push(this._editor.onCompositionEnd(function(){n=!1,i._refilterCompletionItems()})),this._toDispose.push(this._editor.onDidChangeModelContent(function(){n||i._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}i(323);var ut=i(8),ht=i(1),ct=(i(324),i(23)),dt=i(95),pt=i(14),ft=i(65),gt=i(51),mt=i(45),vt=i(27),yt=i(79),_t=i(96);function bt(t,e){for(var i=[],n=0,o=e;n<o.length;n++){var r=o[n];if(!(t.start>=r.range.end)){if(t.end<r.range.start)break;var s=_t.a.intersect(t,r.range);_t.a.isEmpty(s)||i.push({range:s,size:r.size})}}return i}function wt(t,e){return{start:t.start+e,end:t.end+e}}function Ct(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(t){for(var e=[],i=null,n=0,o=t;n<o.length;n++){var r=o[n],s=r.range.start,a=r.range.end,l=r.size;i&&l===i.size?i.range.end=a:(i={range:{start:s,end:a},size:l},e.push(i))}return e}(t.reduce(function(t,e){return t.concat(e)},[]))}var St=(xt.prototype.splice=function(i,t,e){void 0===e&&(e=[]);var n=e.length-t,o=bt({start:0,end:i},this.groups),r=bt({start:i+t,end:Number.POSITIVE_INFINITY},this.groups).map(function(t){return{range:wt(t.range,n),size:t.size}}),s=e.map(function(t,e){return{range:{start:i+e,end:i+e+1},size:t.size}});this.groups=Ct(o,s,r),this._size=this.groups.reduce(function(t,e){return t+e.size*(e.range.end-e.range.start)},0)},Object.defineProperty(xt.prototype,"count",{get:function(){var t=this.groups.length;return t?this.groups[t-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(xt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),xt.prototype.indexAt=function(t){if(t<0)return-1;for(var e=0,i=0,n=0,o=this.groups;n<o.length;n++){var r=o[n],s=r.range.end-r.range.start,a=i+s*r.size;if(t<a)return e+Math.floor((t-i)/r.size);e+=s,i=a}return e},xt.prototype.indexAfter=function(t){return Math.min(this.indexAt(t)+1,this.count)},xt.prototype.positionAt=function(t){if(t<0)return-1;for(var e=0,i=0,n=0,o=this.groups;n<o.length;n++){var r=o[n],s=r.range.end-r.range.start,a=i+s;if(t<a)return e+(t-i)*r.size;e+=s*r.size,i=a}return-1},xt.prototype.dispose=function(){this.groups=null},xt);function xt(){this.groups=[],this._size=0}var kt=(Ot.prototype.alloc=function(t){var e=this.getTemplateCache(t).pop();if(!e){var i=Object(ht.a)(".monaco-list-row");e={domNode:i,templateId:t,templateData:this.renderers.get(t).renderTemplate(i)}}return e},Ot.prototype.release=function(t){t&&this.releaseRow(t)},Ot.prototype.releaseRow=function(t){var e=t.domNode,i=t.templateId;e&&(Object(ht.G)(e,"scrolling"),function(t){try{t.parentElement&&t.parentElement.removeChild(t)}catch(t){}}(e)),this.getTemplateCache(i).push(t)},Ot.prototype.getTemplateCache=function(t){var e=this.cache.get(t);return e||(e=[],this.cache.set(t,e)),e},Ot.prototype.garbageCollect=function(){var r=this;this.renderers&&(this.cache.forEach(function(t,e){for(var i=0,n=t;i<n.length;i++){var o=n[i];r.renderers.get(e).disposeTemplate(o.templateData),o.domNode=null,o.templateData=null}}),this.cache.clear())},Ot.prototype.dispose=function(){this.garbageCollect(),this.cache.clear(),this.renderers=null},Ot);function Ot(t){this.renderers=t,this.cache=new Map}var Et=i(22),Lt=i(39),Dt=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s};var It={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0},Nt=(Object.defineProperty(Tt.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Tt.prototype.splice=function(t,e,i){if(void 0===i&&(i=[]),this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(t,e,i)}finally{this.splicing=!1}},Tt.prototype._splice=function(t,e,i){var n,o=this;void 0===i&&(i=[]);for(var r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:t,end:t+e},a=_t.a.intersect(r,s),l=a.start;l<a.end;l++)this.removeItemFromDOM(l);var u,h={start:t+e,end:this.items.length},c=_t.a.intersect(h,r),d=_t.a.relativeComplement(h,r),p=i.map(function(t){return{id:String(o.itemId++),element:t,size:o.virtualDelegate.getHeight(t),templateId:o.virtualDelegate.getTemplateId(t),row:null}});u=0===t&&e>=this.items.length?(this.rangeMap=new St,this.rangeMap.splice(0,0,p),this.items=p,[]):(this.rangeMap.splice(t,e,p),(n=this.items).splice.apply(n,[t,e].concat(p)));var f=i.length-e,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),m=wt(c,f),v=_t.a.intersect(g,m);for(l=v.start;l<v.end;l++)this.updateItemInDOM(this.items[l],l);for(var y=_t.a.relativeComplement(m,g),_=0;_<y.length;_++){var b=y[_];for(l=b.start;l<b.end;l++)this.removeItemFromDOM(l)}var w=d.map(function(t){return wt(t,f)}),C=[{start:t,end:t+i.length}].concat(w).map(function(t){return _t.a.intersect(g,t)}),S=this.getNextToLastElement(C);for(_=0;_<C.length;_++){var x=C[_];for(l=x.start;l<x.end;l++)this.insertItemInDOM(l,S)}return this.scrollHeight=this.getContentHeight(),this.rowsContainer.style.height=this.scrollHeight+"px",this.didRequestScrollableElementUpdate||(ht.N(function(){o.scrollableElement.setScrollDimensions({scrollHeight:o.scrollHeight}),o.didRequestScrollableElementUpdate=!1}),this.didRequestScrollableElementUpdate=!0),u.map(function(t){return t.element})},Object.defineProperty(Tt.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(Tt.prototype,"renderHeight",{get:function(){return this.scrollableElement.getScrollDimensions().height},enumerable:!0,configurable:!0}),Tt.prototype.element=function(t){return this.items[t].element},Tt.prototype.domElement=function(t){var e=this.items[t].row;return e&&e.domNode},Tt.prototype.elementHeight=function(t){return this.items[t].size},Tt.prototype.elementTop=function(t){return this.rangeMap.positionAt(t)},Tt.prototype.indexAt=function(t){return this.rangeMap.indexAt(t)},Tt.prototype.indexAfter=function(t){return this.rangeMap.indexAfter(t)},Tt.prototype.layout=function(t){this.scrollableElement.setScrollDimensions({height:t||ht.t(this._domNode)})},Tt.prototype.render=function(t,e){for(var i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),n=this.getRenderRange(t,e),o=_t.a.relativeComplement(n,i),r=_t.a.relativeComplement(i,n),s=this.getNextToLastElement(o),a=0,l=o;a<l.length;a++)for(var u=(d=l[a]).start;u<d.end;u++)this.insertItemInDOM(u,s);for(var h=0,c=r;h<c.length;h++){var d;for(u=(d=c[h]).start;u<d.end;u++)this.removeItemFromDOM(u)}if(Et.j||0!==Et.d()||pt.g)this.rowsContainer.style.top="-"+t+"px";else{var p="translate3d(0px, -"+t+"px, 0px)";this.rowsContainer.style.transform=p,this.rowsContainer.style.webkitTransform=p}this.lastRenderTop=t,this.lastRenderHeight=e},Tt.prototype.insertItemInDOM=function(t,e){var i=this.items[t];i.row||(i.row=this.cache.alloc(i.templateId)),i.row.domNode.parentElement||(e?this.rowsContainer.insertBefore(i.row.domNode,e):this.rowsContainer.appendChild(i.row.domNode)),i.row.domNode.style.height=i.size+"px",this.setRowLineHeight&&(i.row.domNode.style.lineHeight=i.size+"px"),this.updateItemInDOM(i,t),this.renderers.get(i.templateId).renderElement(i.element,t,i.row.templateData)},Tt.prototype.updateItemInDOM=function(t,e){t.row.domNode.style.top=this.elementTop(e)+"px",t.row.domNode.setAttribute("data-index",""+e),t.row.domNode.setAttribute("data-last-element",e===this.length-1?"true":"false"),t.row.domNode.setAttribute("aria-setsize",""+this.length),t.row.domNode.setAttribute("aria-posinset",""+(e+1))},Tt.prototype.removeItemFromDOM=function(t){var e=this.items[t],i=this.renderers.get(e.templateId);i.disposeElement&&i.disposeElement(e.element,t,e.row.templateData),this.cache.release(e.row),e.row=null},Tt.prototype.getContentHeight=function(){return this.rangeMap.size},Tt.prototype.getScrollTop=function(){return this.scrollableElement.getScrollPosition().scrollTop},Tt.prototype.setScrollTop=function(t){this.scrollableElement.setScrollPosition({scrollTop:t})},Object.defineProperty(Tt.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(t){this.setScrollTop(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Tt.prototype,"onMouseClick",{get:function(){var e=this;return Object(q.i)(Object(q.j)(Object(mt.a)(this.domNode,"click"),function(t){return e.toMouseEvent(t)}),function(t){return 0<=t.index})},enumerable:!0,configurable:!0}),Object.defineProperty(Tt.prototype,"onMouseDblClick",{get:function(){var e=this;return Object(q.i)(Object(q.j)(Object(mt.a)(this.domNode,"dblclick"),function(t){return e.toMouseEvent(t)}),function(t){return 0<=t.index})},enumerable:!0,configurable:!0}),Object.defineProperty(Tt.prototype,"onMouseDown",{get:function(){var e=this;return Object(q.i)(Object(q.j)(Object(mt.a)(this.domNode,"mousedown"),function(t){return e.toMouseEvent(t)}),function(t){return 0<=t.index})},enumerable:!0,configurable:!0}),Object.defineProperty(Tt.prototype,"onContextMenu",{get:function(){var e=this;return Object(q.i)(Object(q.j)(Object(mt.a)(this.domNode,"contextmenu"),function(t){return e.toMouseEvent(t)}),function(t){return 0<=t.index})},enumerable:!0,configurable:!0}),Object.defineProperty(Tt.prototype,"onTouchStart",{get:function(){var e=this;return Object(q.i)(Object(q.j)(Object(mt.a)(this.domNode,"touchstart"),function(t){return e.toTouchEvent(t)}),function(t){return 0<=t.index})},enumerable:!0,configurable:!0}),Object.defineProperty(Tt.prototype,"onTap",{get:function(){var e=this;return Object(q.i)(Object(q.j)(Object(mt.a)(this.rowsContainer,ft.a.Tap),function(t){return e.toGestureEvent(t)}),function(t){return 0<=t.index})},enumerable:!0,configurable:!0}),Tt.prototype.toMouseEvent=function(t){var e=this.getItemIndexFromEventTarget(t.target),i=e<0?void 0:this.items[e];return{browserEvent:t,index:e,element:i&&i.element}},Tt.prototype.toTouchEvent=function(t){var e=this.getItemIndexFromEventTarget(t.target),i=e<0?void 0:this.items[e];return{browserEvent:t,index:e,element:i&&i.element}},Tt.prototype.toGestureEvent=function(t){var e=this.getItemIndexFromEventTarget(t.initialTarget),i=e<0?void 0:this.items[e];return{browserEvent:t,index:e,element:i&&i.element}},Tt.prototype.onScroll=function(e){try{this.render(e.scrollTop,e.height)}catch(t){throw console.log("Got bad scroll event:",e),t}},Tt.prototype.onTouchChange=function(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY},Tt.prototype.onDragOver=function(t){this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=t.posy},Tt.prototype.setupDragAndDropScrollInterval=function(){var n=this,o=ht.x(this._domNode).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==n.dragAndDropMouseY){var t=n.dragAndDropMouseY-o,e=0,i=n.renderHeight-35;t<35?e=Math.max(-14,.2*(t-35)):i<t&&(e=Math.min(14,.2*(t-i))),n.scrollTop+=e}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){n.cancelDragAndDropScrollInterval(),n.dragAndDropScrollTimeout=null},1e3))},Tt.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},Tt.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},Tt.prototype.getItemIndexFromEventTarget=function(t){for(;t instanceof HTMLElement&&t!==this.rowsContainer;){var e=t,i=e.getAttribute("data-index");if(i){var n=Number(i);if(!isNaN(n))return n}t=e.parentElement}return-1},Tt.prototype.getRenderRange=function(t,e){return{start:this.rangeMap.indexAt(t),end:this.rangeMap.indexAfter(t+e-1)}},Tt.prototype.getNextToLastElement=function(t){var e=t[t.length-1];if(!e)return null;var i=this.items[e.end];return i&&i.row?i.row.domNode:null},Tt.prototype.dispose=function(){if(this.items){for(var t=0,e=this.items;t<e.length;t++){var i=e[t];i.row&&(this.renderers.get(i.row.templateId).disposeTemplate(i.row.templateData),i.row=null)}this.items=null}this._domNode&&this._domNode.parentElement&&(this._domNode.parentNode.removeChild(this._domNode),this._domNode=null),this.disposables=Object(c.d)(this.disposables)},Dt([dt.a],Tt.prototype,"onMouseClick",null),Dt([dt.a],Tt.prototype,"onMouseDblClick",null),Dt([dt.a],Tt.prototype,"onMouseDown",null),Dt([dt.a],Tt.prototype,"onContextMenu",null),Dt([dt.a],Tt.prototype,"onTouchStart",null),Dt([dt.a],Tt.prototype,"onTap",null),Tt);function Tt(t,e,i,n){void 0===n&&(n=It),this.virtualDelegate=e,this.renderers=new Map,this.didRequestScrollableElementUpdate=!1,this.splicing=!1,this.items=[],this.itemId=0,this.rangeMap=new St;for(var o=0,r=i;o<r.length;o++){var s=r[o];this.renderers.set(s.templateId,s)}this.cache=new kt(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this._domNode=document.createElement("div"),this._domNode.className="monaco-list",this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",ft.b.addTarget(this.rowsContainer),this.scrollableElement=new yt.b(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:Object(vt.f)(n,function(t){return t.verticalScrollMode},It.verticalScrollMode),useShadows:Object(vt.f)(n,function(t){return t.useShadows},It.useShadows)}),this._domNode.appendChild(this.scrollableElement.getDomNode()),t.appendChild(this._domNode),this.disposables=[this.rangeMap,this.gesture,this.scrollableElement,this.cache],this.scrollableElement.onScroll(this.onScroll,this,this.disposables),Object(mt.a)(this.rowsContainer,ft.a.Change)(this.onTouchChange,this,this.disposables),Object(mt.a)(this.scrollableElement.getDomNode(),"scroll")(function(t){return t.target.scrollTop=0},null,this.disposables),Object(q.j)(Object(mt.a)(this.rowsContainer,"dragover"),function(t){return new Lt.a(t)})(this.onDragOver,this,this.disposables),this.setRowLineHeight=Object(vt.f)(n,function(t){return t.setRowLineHeight},It.setRowLineHeight),this.layout()}var Mt=i(12),At=(Pt.prototype.splice=function(e,i,n){this.spliceables.forEach(function(t){return t.splice(e,i,n)})},Pt);function Pt(t){this.spliceables=t}var Rt,Ft=(Rt=function(t,e){return(Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Rt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),jt=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Bt=(Object.defineProperty(Ht.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),Ht.prototype.renderTemplate=function(t){return t},Ht.prototype.renderElement=function(t,e,i){var n=Object(f.h)(this.renderedElements,function(t){return t.templateData===i});if(0<=n){var o=this.renderedElements[n];this.trait.unrender(i),o.index=e}else o={index:e,templateData:i},this.renderedElements.push(o);this.trait.renderIndex(e,i)},Ht.prototype.disposeElement=function(){},Ht.prototype.splice=function(t,e,i){for(var n=[],o=0;o<this.renderedElements.length;o++){var r=this.renderedElements[o];r.index<t?n.push(r):r.index>=t+e&&n.push({index:r.index+i-e,templateData:r.templateData})}this.renderedElements=n},Ht.prototype.renderIndexes=function(t){for(var e=0,i=this.renderedElements;e<i.length;e++){var n=i[e],o=n.index,r=n.templateData;-1<t.indexOf(o)&&this.trait.renderIndex(o,r)}},Ht.prototype.disposeTemplate=function(e){var t=Object(f.h)(this.renderedElements,function(t){return t.templateData===e});t<0||this.renderedElements.splice(t,1)},Ht);function Ht(t){this.trait=t,this.renderedElements=[]}var Wt=(Object.defineProperty(Vt.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(Vt.prototype,"renderer",{get:function(){return new Bt(this)},enumerable:!0,configurable:!0}),Vt.prototype.splice=function(i,t,e){var n=e.length-t,o=i+t,r=this.indexes.filter(function(t){return t<i}).concat(e.map(function(t,e){return t?e+i:-1}).filter(function(t){return-1!==t}),this.indexes.filter(function(t){return o<=t}).map(function(t){return t+n}));this.renderer.splice(i,t,e.length),this.set(r)},Vt.prototype.renderIndex=function(t,e){ht.P(e,this._trait,this.contains(t))},Vt.prototype.unrender=function(t){ht.G(t,this._trait)},Vt.prototype.set=function(t,e){var i=this.indexes,n=le(i,this.indexes=t);return this.renderer.renderIndexes(n),this._onChange.fire({indexes:t,browserEvent:e}),i},Vt.prototype.get=function(){return this.indexes},Vt.prototype.contains=function(e){return this.indexes.some(function(t){return t===e})},Vt.prototype.dispose=function(){this.indexes=null,this._onChange=Object(c.d)(this._onChange)},jt([dt.a],Vt.prototype,"renderer",null),Vt);function Vt(t){this._trait=t,this._onChange=new q.a,this.indexes=[]}var zt,Ut=(Ft(qt,zt=Wt),qt.prototype.renderIndex=function(t,e){zt.prototype.renderIndex.call(this,t,e),e.setAttribute("role","treeitem"),e.setAttribute("id",this.getDomId(t)),this.contains(t)?e.setAttribute("aria-selected","true"):e.removeAttribute("aria-selected")},qt);function qt(t){var e=zt.call(this,"focused")||this;return e.getDomId=t,e}var Kt=(Gt.prototype.splice=function(t,e,i){var n=this;if(!this.getId)return this.trait.splice(t,e,i.map(function(t){return!1}));var o=this.trait.get().map(function(t){return n.getId(n.view.element(t))}),r=i.map(function(t){return-1<o.indexOf(n.getId(t))});this.trait.splice(t,e,r)},Gt);function Gt(t,e,i){this.trait=t,this.view=e,this.getId=i}function Yt(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName}var $t=(Zt.prototype.onEnter=function(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection(this.list.getFocus(),t.browserEvent),this.openController.shouldOpen(t.browserEvent)&&this.list.open(this.list.getFocus(),t.browserEvent)},Zt.prototype.onUpArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusPrevious(1,!1,t.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},Zt.prototype.onDownArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusNext(1,!1,t.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},Zt.prototype.onPageUpArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusPreviousPage(t.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},Zt.prototype.onPageDownArrow=function(t){t.preventDefault(),t.stopPropagation(),this.list.focusNextPage(t.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},Zt.prototype.onCtrlA=function(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection(Object(f.m)(this.list.length),t.browserEvent),this.view.domNode.focus()},Zt.prototype.onEscape=function(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection([],t.browserEvent),this.view.domNode.focus()},Zt.prototype.dispose=function(){this.disposables=Object(c.d)(this.disposables)},Zt);function Zt(t,e,i){this.list=t,this.view=e;var n=!(!1===i.multipleSelectionSupport);this.disposables=[],this.openController=i.openController||ee;var o=Object(q.g)(Object(mt.a)(e.domNode,"keydown")).filter(function(t){return!Yt(t.target)}).map(function(t){return new gt.a(t)});o.filter(function(t){return 3===t.keyCode}).on(this.onEnter,this,this.disposables),o.filter(function(t){return 16===t.keyCode}).on(this.onUpArrow,this,this.disposables),o.filter(function(t){return 18===t.keyCode}).on(this.onDownArrow,this,this.disposables),o.filter(function(t){return 11===t.keyCode}).on(this.onPageUpArrow,this,this.disposables),o.filter(function(t){return 12===t.keyCode}).on(this.onPageDownArrow,this,this.disposables),o.filter(function(t){return 9===t.keyCode}).on(this.onEscape,this,this.disposables),n&&o.filter(function(t){return(pt.d?t.metaKey:t.ctrlKey)&&31===t.keyCode}).on(this.onCtrlA,this,this.disposables)}var Xt=(Jt.prototype.onTab=function(t){if(t.target===this.view.domNode){var e=this.list.getFocus();if(0!==e.length){var i=this.view.domElement(e[0]).querySelector("[tabIndex]");if(i&&i instanceof HTMLElement&&-1!==i.tabIndex){var n=window.getComputedStyle(i);"hidden"!==n.visibility&&"none"!==n.display&&(t.preventDefault(),t.stopPropagation(),i.focus())}}}},Jt.prototype.dispose=function(){this.disposables=Object(c.d)(this.disposables)},Jt);function Jt(t,e){this.list=t,this.view=e,this.disposables=[],this.disposables=[],Object(q.g)(Object(mt.a)(e.domNode,"keydown")).filter(function(t){return!Yt(t.target)}).map(function(t){return new gt.a(t)}).filter(function(t){return!(2!==t.keyCode||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)}).on(this.onTab,this,this.disposables)}function Qt(t){return t instanceof MouseEvent&&2===t.button}var te={isSelectionSingleChangeEvent:function(t){return pt.d?t.browserEvent.metaKey:t.browserEvent.ctrlKey},isSelectionRangeChangeEvent:function(t){return t.browserEvent.shiftKey}},ee={shouldOpen:function(t){return!(t instanceof MouseEvent)||!Qt(t)}},ie=(Object.defineProperty(ne.prototype,"onContextMenu",{get:function(){var i=this,t=Object(q.g)(Object(mt.a)(this.view.domNode,"keydown")).map(function(t){return new gt.a(t)}).filter(function(t){return i.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode}).filter(function(t){return t.preventDefault(),t.stopPropagation(),!1}).map(function(t){var e=i.list.getFocus()[0];return{index:e,element:i.view.element(e),anchor:i.view.domElement(e),browserEvent:t.browserEvent}}).event,e=Object(q.g)(Object(mt.a)(this.view.domNode,"keyup")).filter(function(){var t=i.didJustPressContextMenuKey;return i.didJustPressContextMenuKey=!1,t}).filter(function(){return 0<i.list.getFocus().length}).map(function(t){var e=i.list.getFocus()[0];return{index:e,element:i.view.element(e),anchor:i.view.domElement(e),browserEvent:t}}).filter(function(t){return!!t.anchor}).event,n=Object(q.g)(this.view.onContextMenu).filter(function(){return!i.didJustPressContextMenuKey}).map(function(t){var e=t.element,i=t.index,n=t.browserEvent;return{element:e,index:i,anchor:{x:n.clientX+1,y:n.clientY},browserEvent:n}}).event;return Object(q.f)(t,e,n)},enumerable:!0,configurable:!0}),ne.prototype.isSelectionSingleChangeEvent=function(t){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(t):pt.d?t.browserEvent.metaKey:t.browserEvent.ctrlKey},ne.prototype.isSelectionRangeChangeEvent=function(t){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(t):t.browserEvent.shiftKey},ne.prototype.isSelectionChangeEvent=function(t){return this.isSelectionSingleChangeEvent(t)||this.isSelectionRangeChangeEvent(t)},ne.prototype.onMouseDown=function(t){!1===this.options.focusOnMouseDown?(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation()):document.activeElement!==t.browserEvent.target&&this.view.domNode.focus();var e=this.list.getFocus()[0],i=this.list.getSelection();if(e=void 0===e?i[0]:e,this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(t))return this.changeSelection(t,e);var n=t.index;if(i.every(function(t){return t!==n})&&this.list.setFocus([n],t.browserEvent),this.multipleSelectionSupport&&this.isSelectionChangeEvent(t))return this.changeSelection(t,e);this.options.selectOnMouseDown&&!Qt(t.browserEvent)&&(this.list.setSelection([n],t.browserEvent),this.openController.shouldOpen(t.browserEvent)&&this.list.open([n],t.browserEvent))},ne.prototype.onPointer=function(t){if(!(this.multipleSelectionSupport&&this.isSelectionChangeEvent(t)||this.options.selectOnMouseDown)){var e=this.list.getFocus();this.list.setSelection(e,t.browserEvent),this.openController.shouldOpen(t.browserEvent)&&this.list.open(e,t.browserEvent)}},ne.prototype.onDoubleClick=function(t){if(!this.multipleSelectionSupport||!this.isSelectionChangeEvent(t)){var e=this.list.getFocus();this.list.setSelection(e,t.browserEvent),this.list.pin(e)}},ne.prototype.changeSelection=function(t,e){var i=t.index;if(this.isSelectionRangeChangeEvent(t)&&void 0!==e){var n=Math.min(e,i),o=Math.max(e,i),r=Object(f.m)(n,o+1),s=function(t,e){var i=t.indexOf(e);if(-1===i)return[];for(var n=[],o=i-1;0<=o&&t[o]===e-(i-o);)n.push(t[o--]);for(n.reverse(),o=i;o<t.length&&t[o]===e+(o-i);)n.push(t[o++]);return n}(le(l=this.list.getSelection(),[e]),e);if(0===s.length)return;var a=le(r,function(t,e){for(var i=[],n=0,o=0;n<t.length||o<e.length;)if(n>=t.length)i.push(e[o++]);else if(o>=e.length)i.push(t[n++]);else{if(t[n]===e[o]){n++,o++;continue}t[n]<e[o]?i.push(t[n++]):o++}return i}(l,s));this.list.setSelection(a,t.browserEvent)}else if(this.isSelectionSingleChangeEvent(t)){var l;a=(l=this.list.getSelection()).filter(function(t){return t!==i}),l.length===a.length?this.list.setSelection(a.concat([i]),t.browserEvent):this.list.setSelection(a,t.browserEvent)}},ne.prototype.dispose=function(){this.disposables=Object(c.d)(this.disposables)},jt([dt.a],ne.prototype,"onContextMenu",null),ne);function ne(t,e,i){void 0===i&&(i={}),this.list=t,this.view=e,this.options=i,this.didJustPressContextMenuKey=!1,this.disposables=[],this.multipleSelectionSupport=!(!1===i.multipleSelectionSupport),this.multipleSelectionSupport&&(this.multipleSelectionController=i.multipleSelectionController||te),this.openController=i.openController||ee,e.onMouseDown(this.onMouseDown,this,this.disposables),e.onMouseClick(this.onPointer,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),e.onTap(this.onPointer,this,this.disposables),ft.b.addTarget(e.domNode)}var oe=(re.prototype.style=function(t){var e=this.selectorSuffix?"."+this.selectorSuffix:"",i=[];t.listFocusBackground&&(i.push(".monaco-list"+e+":focus .monaco-list-row.focused { background-color: "+t.listFocusBackground+"; }"),i.push(".monaco-list"+e+":focus .monaco-list-row.focused:hover { background-color: "+t.listFocusBackground+"; }")),t.listFocusForeground&&i.push(".monaco-list"+e+":focus .monaco-list-row.focused { color: "+t.listFocusForeground+"; }"),t.listActiveSelectionBackground&&(i.push(".monaco-list"+e+":focus .monaco-list-row.selected { background-color: "+t.listActiveSelectionBackground+"; }"),i.push(".monaco-list"+e+":focus .monaco-list-row.selected:hover { background-color: "+t.listActiveSelectionBackground+"; }")),t.listActiveSelectionForeground&&i.push(".monaco-list"+e+":focus .monaco-list-row.selected { color: "+t.listActiveSelectionForeground+"; }"),t.listFocusAndSelectionBackground&&i.push(".monaco-list"+e+":focus .monaco-list-row.selected.focused { background-color: "+t.listFocusAndSelectionBackground+"; }"),t.listFocusAndSelectionForeground&&i.push(".monaco-list"+e+":focus .monaco-list-row.selected.focused { color: "+t.listFocusAndSelectionForeground+"; }"),t.listInactiveFocusBackground&&(i.push(".monaco-list"+e+" .monaco-list-row.focused { background-color:  "+t.listInactiveFocusBackground+"; }"),i.push(".monaco-list"+e+" .monaco-list-row.focused:hover { background-color:  "+t.listInactiveFocusBackground+"; }")),t.listInactiveSelectionBackground&&(i.push(".monaco-list"+e+" .monaco-list-row.selected { background-color:  "+t.listInactiveSelectionBackground+"; }"),i.push(".monaco-list"+e+" .monaco-list-row.selected:hover { background-color:  "+t.listInactiveSelectionBackground+"; }")),t.listInactiveSelectionForeground&&i.push(".monaco-list"+e+" .monaco-list-row.selected { color: "+t.listInactiveSelectionForeground+"; }"),t.listHoverBackground&&i.push(".monaco-list"+e+" .monaco-list-row:hover { background-color:  "+t.listHoverBackground+"; }"),t.listHoverForeground&&i.push(".monaco-list"+e+" .monaco-list-row:hover { color:  "+t.listHoverForeground+"; }"),t.listSelectionOutline&&i.push(".monaco-list"+e+" .monaco-list-row.selected { outline: 1px dotted "+t.listSelectionOutline+"; outline-offset: -1px; }"),t.listFocusOutline&&i.push(".monaco-list"+e+":focus .monaco-list-row.focused { outline: 1px solid "+t.listFocusOutline+"; outline-offset: -1px; }"),t.listInactiveFocusOutline&&i.push(".monaco-list"+e+" .monaco-list-row.focused { outline: 1px dotted "+t.listInactiveFocusOutline+"; outline-offset: -1px; }"),t.listHoverOutline&&i.push(".monaco-list"+e+" .monaco-list-row:hover { outline: 1px dashed "+t.listHoverOutline+"; outline-offset: -1px; }");var n=i.join("\n");n!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=n)},re);function re(t,e){this.styleElement=t,this.selectorSuffix=e}var se={listFocusBackground:Mt.a.fromHex("#073655"),listActiveSelectionBackground:Mt.a.fromHex("#0E639C"),listActiveSelectionForeground:Mt.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:Mt.a.fromHex("#094771"),listFocusAndSelectionForeground:Mt.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:Mt.a.fromHex("#3F3F46"),listHoverBackground:Mt.a.fromHex("#2A2D2E"),listDropBackground:Mt.a.fromHex("#383B3D")},ae={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0};function le(t,e){for(var i=[],n=0,o=0;n<t.length||o<e.length;)if(n>=t.length)i.push(e[o++]);else if(o>=e.length)i.push(t[n++]);else{if(t[n]===e[o]){i.push(t[n]),n++,o++;continue}t[n]<e[o]?i.push(t[n++]):i.push(e[o++])}return i}function ue(t,e){return t-e}var he=(Object.defineProperty(ce.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),ce.prototype.renderTemplate=function(e){return this.renderers.map(function(t){return t.renderTemplate(e)})},ce.prototype.renderElement=function(t,e,i){for(var n=0,o=0,r=this.renderers;o<r.length;o++)r[o].renderElement(t,e,i[n++])},ce.prototype.disposeElement=function(t,e,i){for(var n=0,o=0,r=this.renderers;o<r.length;o++)r[o].disposeElement(t,e,i[n++])},ce.prototype.disposeTemplate=function(t){for(var e=0,i=0,n=this.renderers;i<n.length;i++)n[i].disposeTemplate(t[e++])},ce);function ce(t,e){this._templateId=t,this.renderers=e}var de=(pe.prototype.renderTemplate=function(t){return t},pe.prototype.renderElement=function(t,e,i){var n=this.accessibilityProvider.getAriaLabel(t);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label")},pe.prototype.disposeElement=function(t,e,i){},pe.prototype.disposeTemplate=function(t){},pe);function pe(t){this.accessibilityProvider=t,this.templateId="a18n"}var fe=(Object.defineProperty(ge.prototype,"onFocusChange",{get:function(){var e=this;return Object(q.j)(this.eventBufferer.wrapEvent(this.focus.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"onSelectionChange",{get:function(){var e=this;return Object(q.j)(this.eventBufferer.wrapEvent(this.selection.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"onKeyDown",{get:function(){return Object(mt.a)(this.view.domNode,"keydown")},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"onDidDispose",{get:function(){return this._onDidDispose.event},enumerable:!0,configurable:!0}),ge.prototype.splice=function(t,e,i){var n=this;if(void 0===i&&(i=[]),t<0||t>this.view.length)throw new Error("Invalid start index: "+t);if(e<0)throw new Error("Invalid delete count: "+e);0===e&&0===i.length||this.eventBufferer.bufferEvents(function(){return n.spliceable.splice(t,e,i)})},Object.defineProperty(ge.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"contentHeight",{get:function(){return this.view.getContentHeight()},enumerable:!0,configurable:!0}),ge.prototype.layout=function(t){this.view.layout(t)},ge.prototype.setSelection=function(t,e){for(var i=0,n=t;i<n.length;i++){var o=n[i];if(o<0||o>=this.length)throw new Error("Invalid index "+o)}t=t.sort(ue),this.selection.set(t,e)},ge.prototype.getSelection=function(){return this.selection.get()},ge.prototype.setFocus=function(t,e){for(var i=0,n=t;i<n.length;i++){var o=n[i];if(o<0||o>=this.length)throw new Error("Invalid index "+o)}t=t.sort(ue),this.focus.set(t,e)},ge.prototype.focusNext=function(t,e,i){if(void 0===t&&(t=1),void 0===e&&(e=!1),0!==this.length){var n=this.focus.get(),o=0<n.length?n[0]+t:0;this.setFocus(e?[o%this.length]:[Math.min(o,this.length-1)],i)}},ge.prototype.focusPrevious=function(t,e,i){if(void 0===t&&(t=1),void 0===e&&(e=!1),0!==this.length){var n=this.focus.get(),o=0<n.length?n[0]-t:0;e&&o<0&&(o=(this.length+o%this.length)%this.length),this.setFocus([Math.max(o,0)],i)}},ge.prototype.focusNextPage=function(t){var e=this,i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;var n=this.view.element(i);if(this.getFocusedElements()[0]!==n)this.setFocus([i],t);else{var o=this.view.getScrollTop();this.view.setScrollTop(o+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==o&&setTimeout(function(){return e.focusNextPage(t)},0)}},ge.prototype.focusPreviousPage=function(t){var e,i=this,n=this.view.getScrollTop();e=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);var o=this.view.element(e);if(this.getFocusedElements()[0]!==o)this.setFocus([e],t);else{var r=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==r&&setTimeout(function(){return i.focusPreviousPage(t)},0)}},ge.prototype.focusLast=function(t){0!==this.length&&this.setFocus([this.length-1],t)},ge.prototype.focusFirst=function(t){0!==this.length&&this.setFocus([0],t)},ge.prototype.getFocus=function(){return this.focus.get()},ge.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map(function(t){return e.view.element(t)})},ge.prototype.reveal=function(t,e){if(t<0||t>=this.length)throw new Error("Invalid index "+t);var i=this.view.getScrollTop(),n=this.view.elementTop(t),o=this.view.elementHeight(t);if(Object(ct.f)(e)){var r=o-this.view.renderHeight;this.view.setScrollTop(r*function(t,e,i){return Math.min(Math.max(t,e),i)}(e,0,1)+n)}else{var s=n+o,a=i+this.view.renderHeight;n<i?this.view.setScrollTop(n):a<=s&&this.view.setScrollTop(s-this.view.renderHeight)}},ge.prototype.getElementDomId=function(t){return this.idPrefix+"_"+t},ge.prototype.getHTMLElement=function(){return this.view.domNode},ge.prototype.open=function(t,e){for(var i=this,n=0,o=t;n<o.length;n++){var r=o[n];if(r<0||r>=this.length)throw new Error("Invalid index "+r)}this._onOpen.fire({indexes:t,elements:t.map(function(t){return i.view.element(t)}),browserEvent:e})},ge.prototype.pin=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];if(n<0||n>=this.length)throw new Error("Invalid index "+n)}this._onPin.fire(t)},ge.prototype.style=function(t){this.styleController.style(t)},ge.prototype.toListEvent=function(t){var e=this,i=t.indexes,n=t.browserEvent;return{indexes:i,elements:i.map(function(t){return e.view.element(t)}),browserEvent:n}},ge.prototype._onFocusChange=function(){var t=this.focus.get();0<t.length?this.view.domNode.setAttribute("aria-activedescendant",this.getElementDomId(t[0])):this.view.domNode.removeAttribute("aria-activedescendant"),this.view.domNode.setAttribute("role","tree"),ht.P(this.view.domNode,"element-focused",0<t.length)},ge.prototype._onSelectionChange=function(){var t=this.selection.get();ht.P(this.view.domNode,"selection-none",0===t.length),ht.P(this.view.domNode,"selection-single",1===t.length),ht.P(this.view.domNode,"selection-multiple",1<t.length)},ge.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables=Object(c.d)(this.disposables),this._onOpen.dispose(),this._onPin.dispose(),this._onDidDispose.dispose()},ge.InstanceCount=0,jt([dt.a],ge.prototype,"onFocusChange",null),jt([dt.a],ge.prototype,"onSelectionChange",null),ge);function ge(t,e,i,n){void 0===n&&(n=ae);var o=this;this.idPrefix="list_id_"+ ++ge.InstanceCount,this.eventBufferer=new q.c,this.onContextMenu=q.b.None,this._onOpen=new q.a,this._onPin=new q.a,this._onDidDispose=new q.a,this.focus=new Ut(function(t){return o.getElementDomId(t)}),this.selection=new Wt("selected"),Object(vt.g)(n,se,!1);var r=[this.focus.renderer,this.selection.renderer];if(n.accessibilityProvider&&r.push(new de(n.accessibilityProvider)),i=i.map(function(t){return new he(t.templateId,r.concat([t]))}),this.view=new Nt(t,e,i,n),this.view.domNode.setAttribute("role","tree"),ht.f(this.view.domNode,this.idPrefix),this.view.domNode.tabIndex=0,this.styleElement=ht.p(this.view.domNode),this.styleController=n.styleController,this.styleController||(this.styleController=new oe(this.styleElement,this.idPrefix)),this.spliceable=new At([new Kt(this.focus,this.view,n.identityProvider),new Kt(this.selection,this.view,n.identityProvider),this.view]),this.disposables=[this.focus,this.selection,this.view,this._onDidDispose],this.onDidFocus=Object(q.j)(Object(mt.a)(this.view.domNode,"focus",!0),function(){return null}),this.onDidBlur=Object(q.j)(Object(mt.a)(this.view.domNode,"blur",!0),function(){return null}),this.disposables.push(new Xt(this,this.view)),"boolean"!=typeof n.keyboardSupport||n.keyboardSupport){var s=new $t(this,this.view,n);this.disposables.push(s)}"boolean"==typeof n.mouseSupport&&!n.mouseSupport||(this.mouseController=new ie(this,this.view,n),this.disposables.push(this.mouseController),this.onContextMenu=this.mouseController.onContextMenu),this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),n.ariaLabel&&this.view.domNode.setAttribute("aria-label",Object(P.a)("aria list","{0}. Use the navigation keys to navigate.",n.ariaLabel)),this.style(n)}var me,ve,ye=i(64),_e=i(97),be=i(104),we=i(16),Ce=i(7),Se=i(154),xe=i(82),ke=i(80),Oe=i(153),Ee=i(49),Le=i(93),De=i(112);function Ie(t,e,i,n){var o=n===me.ROOT_FOLDER?["rootfolder-icon"]:n===me.FOLDER?["folder-icon"]:["file-icon"];if(i){var r,s=void 0;if(i.scheme===Ee.a.data)s=r=Le.a.parseMetaData(i).get(Le.a.META_DATA_LABEL);else r=Ne(Object(Le.b)(i).toLowerCase()),s=i.path.toLowerCase();if(n===me.FOLDER)o.push(r+"-name-folder-icon");else{if(r){o.push(r+"-name-file-icon");for(var a=r.split("."),l=1;l<a.length;l++)o.push(a.slice(l).join(".")+"-ext-file-icon");o.push("ext-file-icon")}var u=function(t,e){var i=null;if(e){var n=t.getModel(e);if(n){var o=n.getLanguageIdentifier().language;o&&o!==De.c&&(i=o)}}return i}(t,i);(u=u||e.getModeIdByFilepathOrFirstLine(s))&&o.push(Ne(u)+"-lang-file-icon")}}return o}function Ne(t){return t.replace(/\s/g,"\\$&")}(ve=me=me||{})[ve.FILE=0]="FILE",ve[ve.FOLDER=1]="FOLDER",ve[ve.ROOT_FOLDER=2]="ROOT_FOLDER";var Te=i(56),Me=i(30),Ae=function(){return(Ae=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pe=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Re=function(i,n){return function(t,e){n(t,e,i)}},Fe=Object(Ce.ub)("editorSuggestWidget.background",{dark:Ce.D,light:Ce.D,hc:Ce.D},P.a("editorSuggestWidgetBackground","Background color of the suggest widget.")),je=Object(Ce.ub)("editorSuggestWidget.border",{dark:Ce.E,light:Ce.E,hc:Ce.E},P.a("editorSuggestWidgetBorder","Border color of the suggest widget.")),Be=Object(Ce.ub)("editorSuggestWidget.foreground",{dark:Ce.u,light:Ce.u,hc:Ce.u},P.a("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),He=Object(Ce.ub)("editorSuggestWidget.selectedBackground",{dark:Ce.Z,light:Ce.Z,hc:Ce.Z},P.a("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),We=Object(Ce.ub)("editorSuggestWidget.highlightForeground",{dark:Ce.bb,light:Ce.bb,hc:Ce.bb},P.a("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Ve=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function ze(t){return t&&t.match(Ve)?t:null}function Ue(t){if(!t)return!1;var e=t.suggestion;return!!e.documentation||e.detail&&e.detail!==e.label}var qe=(Object.defineProperty(Ke.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),Ke.prototype.renderTemplate=function(t){var a=this,l=Object.create(null);l.disposables=[],l.root=t,Object(ht.f)(l.root,"show-file-icons"),l.icon=Object(ht.l)(t,Object(ht.a)(".icon")),l.colorspan=Object(ht.l)(l.icon,Object(ht.a)("span.colorspan"));var e=Object(ht.l)(t,Object(ht.a)(".contents")),u=Object(ht.l)(e,Object(ht.a)(".main"));function i(){var t=a.editor.getConfiguration(),e=t.fontInfo.fontFamily,i=t.contribInfo.suggestFontSize||t.fontInfo.fontSize,n=t.contribInfo.suggestLineHeight||t.fontInfo.lineHeight,o=t.fontInfo.fontWeight,r=i+"px",s=n+"px";l.root.style.fontSize=r,l.root.style.fontWeight=o,u.style.fontFamily=e,u.style.lineHeight=s,l.icon.style.height=s,l.icon.style.width=s,l.readMore.style.height=s,l.readMore.style.width=s}return l.iconLabel=new Oe.a(u,{supportHighlights:!0}),l.disposables.push(l.iconLabel),l.typeLabel=Object(ht.l)(u,Object(ht.a)("span.type-label")),l.readMore=Object(ht.l)(u,Object(ht.a)("span.readMore")),l.readMore.title=P.a("readMore","Read More...{0}",this.triggerKeybindingLabel),i(),Object(q.g)(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(t){return t.fontInfo||t.contribInfo}).on(i,null,l.disposables),l},Ke.prototype.renderElement=function(t,e,i){var n=this,o=i,r=t.suggestion;o.icon.className="icon "+Object(h.z)(r.kind);var s,a={labelEscapeNewLines:!(o.colorspan.style.backgroundColor=""),matches:Object(G.b)(t.matches)};19===r.kind&&(s=ze(r.label)||"string"==typeof r.documentation&&ze(r.documentation))?(o.icon.className="icon customcolor",o.colorspan.style.backgroundColor=s):20===r.kind&&this._themeService.getIconTheme().hasFileIcons?(o.icon.className="icon hide",a.extraClasses=[].concat(Ie(this._modelService,this._modeService,Me.a.from({scheme:"fake",path:r.label}),me.FILE),Ie(this._modelService,this._modeService,Me.a.from({scheme:"fake",path:r.detail}),me.FILE))):23===r.kind&&this._themeService.getIconTheme().hasFolderIcons?(o.icon.className="icon hide",a.extraClasses=[].concat(Ie(this._modelService,this._modeService,Me.a.from({scheme:"fake",path:r.label}),me.FOLDER),Ie(this._modelService,this._modeService,Me.a.from({scheme:"fake",path:r.detail}),me.FOLDER))):(o.icon.className="icon hide",a.extraClasses=["suggest-icon "+Object(h.z)(r.kind)]),o.iconLabel.setValue(r.label,void 0,a),o.typeLabel.textContent=(r.detail||"").replace(/\n.*$/m,""),Ue(t)?(Object(ht.O)(o.readMore),o.readMore.onmousedown=function(t){t.stopPropagation(),t.preventDefault()},o.readMore.onclick=function(t){t.stopPropagation(),t.preventDefault(),n.widget.toggleDetails()}):(Object(ht.B)(o.readMore),o.readMore.onmousedown=null,o.readMore.onclick=null)},Ke.prototype.disposeElement=function(){},Ke.prototype.disposeTemplate=function(t){t.disposables=Object(c.d)(t.disposables)},Ke=Pe([Re(3,Te.a),Re(4,xe.a),Re(5,we.c)],Ke));function Ke(t,e,i,n,o,r){this.widget=t,this.editor=e,this.triggerKeybindingLabel=i,this._modelService=n,this._modeService=o,this._themeService=r}var Ge=(Object.defineProperty(Ye.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),Ye.prototype.render=function(t){var e=this;if(this.renderDisposeable=Object(c.d)(this.renderDisposeable),!t||!Ue(t))return this.type.textContent="",this.docs.textContent="",Object(ht.f)(this.el,"no-docs"),void(this.ariaLabel=null);if(Object(ht.G)(this.el,"no-docs"),"string"==typeof t.suggestion.documentation)Object(ht.G)(this.docs,"markdown-docs"),this.docs.textContent=t.suggestion.documentation;else{Object(ht.f)(this.docs,"markdown-docs"),this.docs.innerHTML="";var i=this.markdownRenderer.render(t.suggestion.documentation);this.renderDisposeable=i,this.docs.appendChild(i.element)}t.suggestion.detail?(this.type.innerText=t.suggestion.detail,Object(ht.O)(this.type)):(this.type.innerText="",Object(ht.B)(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.close.onmousedown=function(t){t.preventDefault(),t.stopPropagation()},this.close.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),this.ariaLabel=ut.p("{0}{1}",t.suggestion.detail||"",t.suggestion.documentation?"string"==typeof t.suggestion.documentation?t.suggestion.documentation:t.suggestion.documentation.value:"")},Ye.prototype.getAriaLabel=function(){return this.ariaLabel},Ye.prototype.scrollDown=function(t){void 0===t&&(t=8),this.body.scrollTop+=t},Ye.prototype.scrollUp=function(t){void 0===t&&(t=8),this.body.scrollTop-=t},Ye.prototype.scrollTop=function(){this.body.scrollTop=0},Ye.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},Ye.prototype.pageDown=function(){this.scrollDown(80)},Ye.prototype.pageUp=function(){this.scrollUp(80)},Ye.prototype.setBorderWidth=function(t){this.borderWidth=t},Ye.prototype.configureFont=function(){var t=this.editor.getConfiguration(),e=t.fontInfo.fontFamily,i=t.contribInfo.suggestFontSize||t.fontInfo.fontSize,n=t.contribInfo.suggestLineHeight||t.fontInfo.lineHeight,o=t.fontInfo.fontWeight,r=i+"px",s=n+"px";this.el.style.fontSize=r,this.el.style.fontWeight=o,this.type.style.fontFamily=e,this.close.style.height=s,this.close.style.width=s},Ye.prototype.dispose=function(){this.disposables=Object(c.d)(this.disposables),this.renderDisposeable=Object(c.d)(this.renderDisposeable)},Ye);function Ye(t,e,i,n,o){var r=this;this.widget=e,this.editor=i,this.markdownRenderer=n,this.triggerKeybindingLabel=o,this.borderWidth=1,this.disposables=[],this.el=Object(ht.l)(t,Object(ht.a)(".details")),this.disposables.push(Object(c.f)(function(){return t.removeChild(r.el)})),this.body=Object(ht.a)(".body"),this.scrollbar=new yt.a(this.body,{}),Object(ht.l)(this.el,this.scrollbar.getDomNode()),this.disposables.push(this.scrollbar),this.header=Object(ht.l)(this.body,Object(ht.a)(".header")),this.close=Object(ht.l)(this.header,Object(ht.a)("span.close")),this.close.title=P.a("readLess","Read less...{0}",this.triggerKeybindingLabel),this.type=Object(ht.l)(this.header,Object(ht.a)("p.type")),this.docs=Object(ht.l)(this.body,Object(ht.a)("p.docs")),this.ariaLabel=null,this.configureFont(),Object(q.g)(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(t){return t.fontInfo}).on(this.configureFont,this,this.disposables),n.onDidRenderCodeBlock(function(){return r.scrollbar.scanDomNode()},this,this.disposables)}var $e=(Ze.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},Ze.prototype.onEditorLayoutChange=function(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()},Ze.prototype.onListSelection=function(t){var e=this;if(t.elements.length){var i=t.elements[0],n=t.indexes[0];i.resolve(Q.a.None).then(function(){e.onDidSelectEmitter.fire({item:i,index:n,model:e.completionModel}),Object(o.a)(P.a("suggestionAriaAccepted","{0}, accepted",i.suggestion.label)),e.editor.focus()})}},Ze.prototype._getSuggestionAriaAlertLabel=function(t){var e=25===t.suggestion.kind;return Ue(t)?this.expandDocsSettingFromStorage()?e?P.a("ariaCurrentSnippeSuggestionReadDetails","{0}, snippet suggestion. Reading details. {1}",t.suggestion.label,this.details.getAriaLabel()):P.a("ariaCurrenttSuggestionReadDetails","{0}, suggestion. Reading details. {1}",t.suggestion.label,this.details.getAriaLabel()):e?P.a("ariaCurrentSnippetSuggestionWithDetails","{0}, snippet suggestion, has details",t.suggestion.label):P.a("ariaCurrentSuggestionWithDetails","{0}, suggestion, has details",t.suggestion.label):e?P.a("ariaCurrentSnippetSuggestion","{0}, snippet suggestion",t.suggestion.label):P.a("ariaCurrentSuggestion","{0}, suggestion",t.suggestion.label)},Ze.prototype._ariaAlert=function(t){this._lastAriaAlertLabel!==t&&(this._lastAriaAlertLabel=t,this._lastAriaAlertLabel&&Object(o.a)(this._lastAriaAlertLabel))},Ze.prototype.onThemeChange=function(t){var e=t.getColor(Fe);e&&(this.listElement.style.backgroundColor=e.toString(),this.details.element.style.backgroundColor=e.toString(),this.messageElement.style.backgroundColor=e.toString());var i=t.getColor(je);i&&(this.listElement.style.borderColor=i.toString(),this.details.element.style.borderColor=i.toString(),this.messageElement.style.borderColor=i.toString(),this.detailsBorderColor=i.toString());var n=t.getColor(Ce.H);n&&(this.detailsFocusBorderColor=n.toString()),this.details.setBorderWidth("hc"===t.type?2:1)},Ze.prototype.onListFocus=function(t){var e=this;if(!this.ignoreFocusEvents){if(!t.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this._ariaAlert(null);var i=t.elements[0],n=t.indexes[0];this.firstFocusInCurrentList=!this.focusedItem,i!==this.focusedItem&&(this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=i,this.list.reveal(n),this.currentSuggestionDetails=Object(U.g)(function(t){return i.resolve(t)}),this.currentSuggestionDetails.then(function(){e.list.length<n||(e.ignoreFocusEvents=!0,e.list.splice(n,1,[i]),e.list.setFocus([n]),e.ignoreFocusEvents=!1,e.expandDocsSettingFromStorage()?e.showDetails():Object(ht.G)(e.element,"docs-side"),e._ariaAlert(e._getSuggestionAriaAlertLabel(i)))}).catch(g.e).then(function(){e.focusedItem===i&&(e.currentSuggestionDetails=null)})),this.onDidFocusEmitter.fire({item:i,index:n,model:this.completionModel})}},Ze.prototype.setState=function(t){if(this.element){var e=this.state!==t;switch(this.state=t,Object(ht.P)(this.element,"frozen",4===t),t){case 0:Object(ht.B)(this.messageElement,this.details.element,this.listElement),this.hide(),this.listHeight=0,e&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=Ze.LOADING_MESSAGE,Object(ht.B)(this.listElement,this.details.element),Object(ht.O)(this.messageElement),Object(ht.G)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=Ze.NO_SUGGESTIONS_MESSAGE,Object(ht.B)(this.listElement,this.details.element),Object(ht.O)(this.messageElement),Object(ht.G)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:case 4:Object(ht.B)(this.messageElement),Object(ht.O)(this.listElement),this.show();break;case 5:Object(ht.B)(this.messageElement),Object(ht.O)(this.details.element,this.listElement),this.show(),this._ariaAlert(this.details.getAriaLabel())}}},Ze.prototype.showTriggered=function(t,e){var i=this;0===this.state&&(this.isAuto=!!t,this.isAuto||(this.loadingTimeout=setTimeout(function(){i.loadingTimeout=null,i.setState(1)},e)))},Ze.prototype.showSuggestions=function(t,e,i,n){if(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==t&&(this.completionModel=t),i&&2!==this.state&&0!==this.state)this.setState(4);else{var o=this.completionModel.items.length,r=0===o;if(this.suggestWidgetMultipleSuggestions.set(1<o),r)n?this.setState(0):this.setState(2),this.completionModel=null;else{if(3!==this.state){var s=this.completionModel.stats;s.wasAutomaticallyTriggered=!!n,this.telemetryService.publicLog("suggestWidget",Ae({},s,this.editor.getTelemetryData()))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),i?this.setState(4):this.setState(3),this.list.reveal(e,e),this.list.setFocus([e]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}},Ze.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},Ze.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},Ze.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},Ze.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},Ze.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},Ze.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},Ze.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},Ze.prototype.toggleDetailsFocus=function(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog("suggestWidget:toggleDetailsFocus",this.editor.getTelemetryData())},Ze.prototype.toggleDetails=function(){if(Ue(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),Object(ht.B)(this.details.element),Object(ht.G)(this.element,"docs-side"),Object(ht.G)(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog("suggestWidget:collapseDetails",this.editor.getTelemetryData());else{if(3!==this.state&&5!==this.state&&4!==this.state)return;this.updateExpandDocsSetting(!0),this.showDetails(),this._ariaAlert(this.details.getAriaLabel()),this.telemetryService.publicLog("suggestWidget:expandDetails",this.editor.getTelemetryData())}},Ze.prototype.showDetails=function(){this.expandSideOrBelow(),Object(ht.O)(this.details.element),this.details.render(this.list.getFocusedElements()[0]),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},Ze.prototype.show=function(){var t=this,e=this.updateListHeight();e!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=e),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet(function(){Object(ht.f)(t.element,"visible"),t.onDidShowEmitter.fire(t)},100)},Ze.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),Object(ht.G)(this.element,"visible")},Ze.prototype.hideWidget=function(){clearTimeout(this.loadingTimeout),this.setState(0),this.onDidHideEmitter.fire(this)},Ze.prototype.getPosition=function(){return 0===this.state?null:{position:this.editor.getPosition(),preference:[2,1]}},Ze.prototype.getDomNode=function(){return this.element},Ze.prototype.getId=function(){return Ze.ID},Ze.prototype.updateListHeight=function(){var t=0;if(2===this.state||1===this.state)t=this.unfocusedHeight;else{var e=this.list.contentHeight/this.unfocusedHeight;t=Math.min(e,12)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=t+"px",this.list.layout(t),t},Ze.prototype.adjustDocsPosition=function(){var t=this.editor.getConfiguration().fontInfo.lineHeight,e=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),i=Object(ht.v)(this.editor.getDomNode()),n=i.left+e.left,o=i.top+e.top+e.height,r=Object(ht.v)(this.element),s=r.left,a=r.top;s<n-this.listWidth?Object(ht.f)(this.element,"list-right"):Object(ht.G)(this.element,"list-right"),Object(ht.A)(this.element,"docs-side")&&a<o-t&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")},Ze.prototype.expandSideOrBelow=function(){if(!Ue(this.focusedItem)&&this.firstFocusInCurrentList)return Object(ht.G)(this.element,"docs-side"),void Object(ht.G)(this.element,"docs-below");var t=this.element.style.maxWidth.match(/(\d+)px/);!t||Number(t[1])<this.maxWidgetWidth?(Object(ht.f)(this.element,"docs-below"),Object(ht.G)(this.element,"docs-side")):Ue(this.focusedItem)&&(Object(ht.f)(this.element,"docs-side"),Object(ht.G)(this.element,"docs-below"))},Object.defineProperty(Ze.prototype,"maxWidgetHeight",{get:function(){return 12*this.unfocusedHeight},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.prototype,"unfocusedHeight",{get:function(){var t=this.editor.getConfiguration();return t.contribInfo.suggestLineHeight||t.fontInfo.lineHeight},enumerable:!0,configurable:!0}),Ze.prototype.getHeight=function(t){return this.unfocusedHeight},Ze.prototype.getTemplateId=function(t){return"suggestion"},Ze.prototype.expandDocsSettingFromStorage=function(){return this.storageServiceAvailable?this.storageService.getBoolean("expandSuggestionDocs",0,!1):this.expandSuggestionDocs},Ze.prototype.updateExpandDocsSetting=function(t){this.storageServiceAvailable?this.storageService.store("expandSuggestionDocs",t,0):this.expandSuggestionDocs=t},Ze.prototype.dispose=function(){this.state=null,this.currentSuggestionDetails=null,this.focusedItem=null,this.element=null,this.messageElement=null,this.listElement=null,this.details.dispose(),this.details=null,this.list.dispose(),this.list=null,this.toDispose=Object(c.d)(this.toDispose),this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.editorBlurTimeout.dispose(),this.showTimeout.dispose()},Ze.ID="editor.widget.suggestWidget",Ze.LOADING_MESSAGE=P.a("suggestWidget.loading","Loading..."),Ze.NO_SUGGESTIONS_MESSAGE=P.a("suggestWidget.noSuggestions","No suggestions."),Ze=Pe([Re(1,_e.a),Re(2,F.e),Re(3,we.c),Re(4,l.a),Re(5,ye.a),Re(6,xe.a),Re(7,ke.a),Re(8,j.a)],Ze));function Ze(t,e,i,n,o,r,s,a,l){var u=this;this.editor=t,this.telemetryService=e,this.allowEditorOverflow=!0,this.ignoreFocusEvents=!1,this.editorBlurTimeout=new U.e,this.showTimeout=new U.e,this.onDidSelectEmitter=new q.a,this.onDidFocusEmitter=new q.a,this.onDidHideEmitter=new q.a,this.onDidShowEmitter=new q.a,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.storageServiceAvailable=!0,this.expandSuggestionDocs=!1,this.firstFocusInCurrentList=!1;var h=r.lookupKeybinding("editor.action.triggerSuggest"),c=h?" ("+h.getLabel()+")":"",d=new Se.a(t,s,a);this.isAuto=!1,this.focusedItem=null,this.storageService=o,this.storageService.store("___suggest___",!0,0),this.storageService.get("___suggest___",0)||(this.storageServiceAvailable=!1),this.storageService.remove("___suggest___",0),this.element=Object(ht.a)(".editor-widget.suggest-widget"),this.editor.getConfiguration().contribInfo.iconsInSuggestions||Object(ht.f)(this.element,"no-icons"),this.messageElement=Object(ht.l)(this.element,Object(ht.a)(".message")),this.listElement=Object(ht.l)(this.element,Object(ht.a)(".tree")),this.details=new Ge(this.element,this,this.editor,d,c);var p=l.createInstance(qe,this,this.editor,c);this.list=new fe(this.listElement,this,[p],{useShadows:!1,selectOnMouseDown:!0,focusOnMouseDown:!1,openController:{shouldOpen:function(){return!1}}}),this.toDispose=[Object(be.b)(this.list,n,{listInactiveFocusBackground:He,listInactiveFocusOutline:Ce.b}),n.onThemeChange(function(t){return u.onThemeChange(t)}),t.onDidLayoutChange(function(){return u.onEditorLayoutChange()}),this.list.onSelectionChange(function(t){return u.onListSelection(t)}),this.list.onFocusChange(function(t){return u.onListFocus(t)}),this.editor.onDidChangeCursorSelection(function(){return u.onCursorSelectionChanged()})],this.suggestWidgetVisible=B.a.Visible.bindTo(i),this.suggestWidgetMultipleSuggestions=B.a.MultipleSuggestions.bindTo(i),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(n.getTheme())}Object(we.e)(function(t,e){var i=t.getColor(We);i&&e.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+i+"; }");var n=t.getColor(Be);n&&e.addRule(".monaco-editor .suggest-widget { color: "+n+"; }");var o=t.getColor(Ce.Eb);o&&e.addRule(".monaco-editor .suggest-widget a { color: "+o+"; }");var r=t.getColor(Ce.Db);r&&e.addRule(".monaco-editor .suggest-widget code { background-color: "+r+"; }")});var Xe=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Je=function(i,n){return function(t,e){n(t,e,i)}},Qe=(ti.prototype.dispose=function(){Object(c.d)(this._confListener,this._selectionListener),this._ckAtEnd.reset()},ti.prototype._update=function(){var n=this,t="on"===this._editor.getConfiguration().contribInfo.tabCompletion;if(this._enabled!==t)if(this._enabled=t,this._enabled){var e=function(){if(n._editor.hasModel()){var t=n._editor.getModel(),e=n._editor.getSelection(),i=t.getWordAtPosition(e.getStartPosition());i?n._ckAtEnd.set(i.endColumn===e.getStartPosition().column):n._ckAtEnd.set(!1)}else n._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)},ti.AtEnd=new F.f("atEndOfWord",!1),ti=Xe([Je(1,F.e)],ti));function ti(t,e){var i=this;this._editor=t,this._ckAtEnd=ti.AtEnd.bindTo(e),this._editor.onDidChangeConfiguration(function(t){return t.contribInfo&&i._update()}),this._update()}var ei=i(81);i.d(e,"SuggestController",function(){return li}),i.d(e,"TriggerSuggestAction",function(){return ci});var ii,ni=(ii=function(t,e){return(ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ii(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),oi=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},ri=function(i,n){return function(t,e){n(t,e,i)}},si=(ai.prototype._onItem=function(t){if(t&&!Object(f.k)(t.item.suggestion.commitCharacters)){this._activeItem=t,this._activeAcceptCharacters.clear();for(var e=0,i=t.item.suggestion.commitCharacters;e<i.length;e++){var n=i[e];0<n.length&&this._activeAcceptCharacters.add(n[0])}}else this.reset()},ai.prototype.reset=function(){this._activeItem=void 0},ai.prototype.dispose=function(){Object(c.d)(this._disposables)},ai);function ai(i,t,n){var o=this;this._disposables=[],this._activeAcceptCharacters=new Set,this._disposables.push(t.onDidShow(function(){return o._onItem(t.getFocusedItem())})),this._disposables.push(t.onDidFocus(this._onItem,this)),this._disposables.push(t.onDidHide(this.reset,this)),this._disposables.push(i.onWillType(function(t){if(o._activeItem){var e=t[t.length-1];o._activeAcceptCharacters.has(e)&&i.getConfiguration().contribInfo.acceptSuggestionOnCommitCharacter&&n(o._activeItem)}}))}var li=(ui.get=function(t){return t.getContribution(ui.ID)},ui.prototype._createSuggestWidget=function(){var s=this;this._widget=this._instantiationService.createInstance($e,this._editor),this._toDispose.push(this._widget.onDidSelect(function(t){return s._onDidSelectItem(t,!1,!0)},this));var e=new si(this._editor,this._widget,function(t){return s._onDidSelectItem(t,!1,!0)});this._toDispose.push(e,this._model.onDidSuggest(function(t){0===t.completionModel.items.length&&e.reset()}));var a=B.a.MakesTextEdit.bindTo(this._contextKeyService);this._toDispose.push(this._widget.onDidFocus(function(t){var e=t.item,i=s._editor.getPosition(),n=e.suggestion.range.startColumn,o=i.column,r=!0;"smart"!==s._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter||2!==s._model.state||e.suggestion.command||e.suggestion.additionalTextEdits||4&e.suggestion.insertTextRules||o-n!==e.suggestion.insertText.length||(r=s._editor.getModel().getValueInRange({startLineNumber:i.lineNumber,startColumn:n,endLineNumber:i.lineNumber,endColumn:o})!==e.suggestion.insertText),a.set(r)})),this._toDispose.push({dispose:function(){a.reset()}})},ui.prototype.getId=function(){return ui.ID},ui.prototype.dispose=function(){this._toDispose=Object(c.d)(this._toDispose),this._widget&&(this._widget.dispose(),this._widget=null),this._model&&(this._model.dispose(),this._model=null)},ui.prototype._onDidSelectItem=function(t,e,i){var n,o=this;if(!t||!t.item)return this._alternatives.getValue().reset(),void this._model.cancel();var r=this._editor.getModel(),s=r.getAlternativeVersionId(),a=t.item,l=a.suggestion,u=a.position,h=this._editor.getPosition().column-u.column;i&&this._editor.pushUndoStop(),Array.isArray(l.additionalTextEdits)&&this._editor.executeEdits("suggestController.additionalTextEdits",l.additionalTextEdits.map(function(t){return m.a.replace(v.a.lift(t.range),t.text)})),this._memory.getValue().memorize(r,this._editor.getPosition(),t.item);var c=l.insertText;4&l.insertTextRules||(c=_.c.escape(c));var d=u.column-l.range.startColumn,p=l.range.endColumn-u.column;y.SnippetController2.get(this._editor).insert(c,d+h,p,!1,!1,!(1&l.insertTextRules)),i&&this._editor.pushUndoStop(),l.command?l.command.id===ci.id?this._model.trigger({auto:!0},!0):((n=this._commandService).executeCommand.apply(n,[l.command.id].concat(l.command.arguments)).then(void 0,g.e),this._model.cancel()):this._model.cancel(),e&&this._alternatives.getValue().set(t,function(t){for(;r.canUndo();){s!==r.getAlternativeVersionId()&&r.undo(),o._onDidSelectItem(t,!1,!1);break}}),this._alertCompletionItem(t.item)},ui.prototype._alertCompletionItem=function(t){var e=t.suggestion,i=P.a("arai.alert.snippet","Accepting '{0}' did insert the following text: {1}",e.label,e.insertText);Object(o.a)(i)},ui.prototype.triggerSuggest=function(t){this._model.trigger({auto:!1},!1,t),this._editor.revealLine(this._editor.getPosition().lineNumber,0),this._editor.focus()},ui.prototype.triggerSuggestAndAcceptBest=function(t){function r(){e.equals(s._editor.getPosition())&&s._editor.trigger("suggest",a.b.Type,{text:t})}var s=this,e=this._editor.getPosition();Object(q.k)(this._model.onDidTrigger)(function(t){var o=[];Object(q.f)(s._model.onDidTrigger,s._model.onDidCancel)(function(){Object(c.d)(o),r()},void 0,o),s._model.onDidSuggest(function(t){var e=t.completionModel;if(Object(c.d)(o),0!==e.items.length){var i=s._memory.getValue().select(s._editor.getModel(),s._editor.getPosition(),e.items),n=e.items[i];!function(t){if(4&t.suggestion.insertTextRules||t.suggestion.additionalTextEdits)return 1;var e=s._editor.getPosition(),i=t.suggestion.range.startColumn,n=e.column;return n-i!==t.suggestion.insertText.length||s._editor.getModel().getValueInRange({startLineNumber:e.lineNumber,startColumn:i,endLineNumber:e.lineNumber,endColumn:n})!==t.suggestion.insertText}(n)?r():(s._editor.pushUndoStop(),s._onDidSelectItem({index:i,item:n,model:e},!0,!1))}else r()},void 0,o)}),this._model.trigger({auto:!1,shy:!0}),this._editor.revealLine(e.lineNumber,0),this._editor.focus()},ui.prototype.acceptSelectedSuggestion=function(t){if(this._widget){var e=this._widget.getFocusedItem();this._onDidSelectItem(e,t,!0)}},ui.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},ui.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},ui.prototype.cancelSuggestWidget=function(){this._widget&&(this._model.cancel(),this._widget.hideWidget())},ui.prototype.selectNextSuggestion=function(){this._widget&&this._widget.selectNext()},ui.prototype.selectNextPageSuggestion=function(){this._widget&&this._widget.selectNextPage()},ui.prototype.selectLastSuggestion=function(){this._widget&&this._widget.selectLast()},ui.prototype.selectPrevSuggestion=function(){this._widget&&this._widget.selectPrevious()},ui.prototype.selectPrevPageSuggestion=function(){this._widget&&this._widget.selectPreviousPage()},ui.prototype.selectFirstSuggestion=function(){this._widget&&this._widget.selectFirst()},ui.prototype.toggleSuggestionDetails=function(){this._widget&&this._widget.toggleDetails()},ui.prototype.toggleSuggestionFocus=function(){this._widget&&this._widget.toggleDetailsFocus()},ui.ID="editor.contrib.suggestController",ui=oi([ri(1,ei.a),ri(2,R.b),ri(3,F.e),ri(4,j.a)],ui));function ui(t,e,i,n,o){var r=this;this._editor=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._toDispose=[],this._sticky=!1,this._model=new at(this._editor,e),this._memory=new U.b(function(){var t=o.createInstance(M,r._editor);return r._toDispose.push(t),t}),this._alternatives=new U.b(function(){var t=new V(r._editor,r._contextKeyService);return r._toDispose.push(t),t}),this._toDispose.push(o.createInstance(Qe,t)),this._toDispose.push(this._model.onDidTrigger(function(t){r._widget||r._createSuggestWidget(),r._widget.showTriggered(t.auto,t.shy?250:50)})),this._toDispose.push(this._model.onDidSuggest(function(t){if(!t.shy){var e=r._memory.getValue().select(r._editor.getModel(),r._editor.getPosition(),t.completionModel.items);r._widget.showSuggestions(t.completionModel,e,t.isFrozen,t.auto)}})),this._toDispose.push(this._model.onDidCancel(function(t){r._widget&&!t.retrigger&&r._widget.hideWidget()})),this._toDispose.push(this._editor.onDidBlurEditorText(function(){r._sticky||r._model.cancel()}));function s(){var t=r._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter;a.set("on"===t||"smart"===t)}var a=B.a.AcceptSuggestionsOnEnter.bindTo(n);this._toDispose.push(this._editor.onDidChangeConfiguration(function(t){return s()})),s()}var hi,ci=(hi=r.b,ni(di,hi),di.prototype.run=function(t,e){var i=li.get(e);i&&i.triggerSuggest()},di.id="editor.action.triggerSuggest",di);function di(){return hi.call(this,{id:di.id,label:P.a("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:F.d.and(s.a.writable,s.a.hasCompletionItemProvider),kbOpts:{kbExpr:s.a.textInputFocus,primary:2058,mac:{primary:266},weight:100}})||this}Object(r.h)(li),Object(r.f)(ci);var pi=r.c.bindToContribution(li.get);Object(r.g)(new pi({id:"acceptSelectedSuggestion",precondition:B.a.Visible,handler:function(t){return t.acceptSelectedSuggestion(!0)},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:2}})),Object(r.g)(new pi({id:"acceptSelectedSuggestionOnEnter",precondition:B.a.Visible,handler:function(t){return t.acceptSelectedSuggestion(!1)},kbOpts:{weight:190,kbExpr:F.d.and(s.a.textInputFocus,B.a.AcceptSuggestionsOnEnter,B.a.MakesTextEdit),primary:3}})),Object(r.g)(new pi({id:"hideSuggestWidget",precondition:B.a.Visible,handler:function(t){return t.cancelSuggestWidget()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:9,secondary:[1033]}})),Object(r.g)(new pi({id:"selectNextSuggestion",precondition:F.d.and(B.a.Visible,B.a.MultipleSuggestions),handler:function(t){return t.selectNextSuggestion()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(r.g)(new pi({id:"selectNextPageSuggestion",precondition:F.d.and(B.a.Visible,B.a.MultipleSuggestions),handler:function(t){return t.selectNextPageSuggestion()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:12,secondary:[2060]}})),Object(r.g)(new pi({id:"selectLastSuggestion",precondition:F.d.and(B.a.Visible,B.a.MultipleSuggestions),handler:function(t){return t.selectLastSuggestion()}})),Object(r.g)(new pi({id:"selectPrevSuggestion",precondition:F.d.and(B.a.Visible,B.a.MultipleSuggestions),handler:function(t){return t.selectPrevSuggestion()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(r.g)(new pi({id:"selectPrevPageSuggestion",precondition:F.d.and(B.a.Visible,B.a.MultipleSuggestions),handler:function(t){return t.selectPrevPageSuggestion()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:11,secondary:[2059]}})),Object(r.g)(new pi({id:"selectFirstSuggestion",precondition:F.d.and(B.a.Visible,B.a.MultipleSuggestions),handler:function(t){return t.selectFirstSuggestion()}})),Object(r.g)(new pi({id:"toggleSuggestionDetails",precondition:B.a.Visible,handler:function(t){return t.toggleSuggestionDetails()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:2058,mac:{primary:266}}})),Object(r.g)(new pi({id:"toggleSuggestionFocus",precondition:B.a.Visible,handler:function(t){return t.toggleSuggestionFocus()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:2570,mac:{primary:778}}})),Object(r.g)(new pi({id:"insertBestCompletion",precondition:F.d.and(F.d.equals("config.editor.tabCompletion","on"),Qe.AtEnd,B.a.Visible.toNegated(),V.OtherSuggestions.toNegated(),y.SnippetController2.InSnippetMode.toNegated()),handler:function(t){return t.triggerSuggestAndAcceptBest("\t")},kbOpts:{weight:190,primary:2}})),Object(r.g)(new pi({id:"insertNextSuggestion",precondition:F.d.and(F.d.equals("config.editor.tabCompletion","on"),V.OtherSuggestions,B.a.Visible.toNegated(),y.SnippetController2.InSnippetMode.toNegated()),handler:function(t){return t.acceptNextSuggestion()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:2}})),Object(r.g)(new pi({id:"insertPrevSuggestion",precondition:F.d.and(F.d.equals("config.editor.tabCompletion","on"),V.OtherSuggestions,B.a.Visible.toNegated(),y.SnippetController2.InSnippetMode.toNegated()),handler:function(t){return t.acceptPrevSuggestion()},kbOpts:{weight:190,kbExpr:s.a.textInputFocus,primary:1026}}))},function(t,e,i){"use strict";i.r(e);i(282);var n=i(0),o=i(23),r=i(8),s=i(17),a=i(38),l=i(4),u=i(3),h=i(5),c=16777215,d=(p.prototype.ensureParentIndices=function(){var t,e,i,n=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var o=[],r=0,s=this._startIndexes.length;r<s;r++){var a=this._startIndexes[r],l=this._endIndexes[r];if(c<a||c<l)throw new Error("startLineNumber or endLineNumber must not exceed "+c);for(;0<o.length&&(t=a,e=l,i=o[o.length-1],!(n.getStartLineNumber(i)<=t&&n.getEndLineNumber(i)>=e));)o.pop();var u=0<o.length?o[o.length-1]:-1;o.push(r),this._startIndexes[r]=a+((255&u)<<24),this._endIndexes[r]=l+((65280&u)<<16)}}},Object.defineProperty(p.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),p.prototype.getStartLineNumber=function(t){return this._startIndexes[t]&c},p.prototype.getEndLineNumber=function(t){return this._endIndexes[t]&c},p.prototype.getType=function(t){return this._types?this._types[t]:void 0},p.prototype.hasTypes=function(){return!!this._types},p.prototype.isCollapsed=function(t){var e=t/32|0,i=t%32;return 0!=(this._collapseStates[e]&1<<i)},p.prototype.setCollapsed=function(t,e){var i=t/32|0,n=t%32,o=this._collapseStates[i];this._collapseStates[i]=e?o|1<<n:o&~(1<<n)},p.prototype.toRegion=function(t){return new f(this,t)},p.prototype.getParentIndex=function(t){this.ensureParentIndices();var e=((4278190080&this._startIndexes[t])>>>24)+((4278190080&this._endIndexes[t])>>>16);return 65535==e?-1:e},p.prototype.contains=function(t,e){return this.getStartLineNumber(t)<=e&&this.getEndLineNumber(t)>=e},p.prototype.findIndex=function(t){var e=0,i=this._startIndexes.length;if(0===i)return-1;for(;e<i;){var n=Math.floor((e+i)/2);t<this.getStartLineNumber(n)?i=n:e=n+1}return e-1},p.prototype.findRange=function(t){var e=this.findIndex(t);if(0<=e){if(t<=this.getEndLineNumber(e))return e;for(e=this.getParentIndex(e);-1!==e;){if(this.contains(e,t))return e;e=this.getParentIndex(e)}}return-1},p.prototype.toString=function(){for(var t=[],e=0;e<this.length;e++)t[e]="["+(this.isCollapsed(e)?"+":"-")+"] "+this.getStartLineNumber(e)+"/"+this.getEndLineNumber(e);return t.join(", ")},p);function p(t,e,i){if(t.length!==e.length||65535<t.length)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=t,this._endIndexes=e,this._collapseStates=new Uint32Array(Math.ceil(t.length/32)),this._types=i}var f=(Object.defineProperty(g.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),g.prototype.containedBy=function(t){return t.startLineNumber<=this.startLineNumber&&t.endLineNumber>=this.endLineNumber},g.prototype.containsLine=function(t){return this.startLineNumber<=t&&t<=this.endLineNumber},g);function g(t,e){this.ranges=t,this.index=e}var m=(Object.defineProperty(v.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),v.prototype.toggleCollapseState=function(s){var a=this;if(s.length){var l={};this._decorationProvider.changeDecorations(function(t){for(var e=0,i=s;e<i.length;e++){var n=i[e].regionIndex,o=a._editorDecorationIds[n];if(o&&!l[o]){l[o]=!0;var r=!a._regions.isCollapsed(n);a._regions.setCollapsed(n,r),t.changeDecorationOptions(o,a._decorationProvider.getDecorationOption(r))}}}),this._updateEventEmitter.fire({model:this,collapseStateChanged:s})}},v.prototype.update=function(r,s){var a=this;void 0===s&&(s=[]);for(var l=[],t=function(t,e){var i=r.getStartLineNumber(t);e&&function(t,e){for(var i=0,n=s;i<n.length;i++){var o=n[i];if(t<o&&o<=e)return!0}return!1}(i,r.getEndLineNumber(t))&&(e=!1),r.setCollapsed(t,e);var n=a._textModel.getLineMaxColumn(i),o={startLineNumber:i,startColumn:n,endLineNumber:i,endColumn:n};l.push({range:o,options:a._decorationProvider.getDecorationOption(e)})},e=0,i=function(){for(;e<a._regions.length;){var t=a._regions.isCollapsed(e);if(e++,t)return e-1}return-1},n=0,o=i();-1!==o&&n<r.length;){var u=this._textModel.getDecorationRange(this._editorDecorationIds[o]);if(u){var h=u.startLineNumber;if(this._textModel.getLineMaxColumn(h)===u.startColumn)for(;n<r.length;){var c=r.getStartLineNumber(n);if(!(c<=h))break;t(n,h===c),n++}}o=i()}for(;n<r.length;)t(n,!1),n++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,l),this._regions=r,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},v.prototype.getMemento=function(){for(var t=[],e=0;e<this._regions.length;e++)if(this._regions.isCollapsed(e)){var i=this._textModel.getDecorationRange(this._editorDecorationIds[e]);if(i){var n=i.startLineNumber,o=i.endLineNumber+this._regions.getEndLineNumber(e)-this._regions.getStartLineNumber(e);t.push({startLineNumber:n,endLineNumber:o})}}if(0<t.length)return t},v.prototype.applyMemento=function(t){if(Array.isArray(t)){for(var e=[],i=0,n=t;i<n.length;i++){var o=n[i],r=this.getRegionAtLine(o.startLineNumber);r&&!r.isCollapsed&&e.push(r)}this.toggleCollapseState(e)}},v.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},v.prototype.getAllRegionsAtLine=function(t,e){var i=[];if(this._regions)for(var n=this._regions.findRange(t),o=1;0<=n;){var r=this._regions.toRegion(n);e&&!e(r,o)||i.push(r),o++,n=r.parentIndex}return i},v.prototype.getRegionAtLine=function(t){if(this._regions){var e=this._regions.findRange(t);if(0<=e)return this._regions.toRegion(e)}return null},v.prototype.getRegionsInside=function(t,e){var i=[],n=t?t.regionIndex+1:0,o=t?t.endLineNumber:Number.MAX_VALUE;if(e&&2===e.length)for(var r=[],s=n,a=this._regions.length;s<a;s++){var l=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;for(;0<r.length&&!l.containedBy(r[r.length-1]);)r.pop();r.push(l),e(l,r.length)&&i.push(l)}else for(s=n,a=this._regions.length;s<a&&(l=this._regions.toRegion(s),this._regions.getStartLineNumber(s)<o);s++)e&&!e(l)||i.push(l);return i},v);function v(t,e){this._updateEventEmitter=new h.a,this._textModel=t,this._decorationProvider=e,this._regions=new d(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}function y(t,i,n,e){void 0===n&&(n=Number.MAX_VALUE);var o=[];if(e&&0<e.length)for(var r=0,s=e;r<s.length;r++){var a=s[r],l=t.getRegionAtLine(a);if(l&&(l.isCollapsed!==i&&o.push(l),1<n)){var u=t.getRegionsInside(l,function(t,e){return t.isCollapsed!==i&&e<n});o.push.apply(o,u)}}else{u=t.getRegionsInside(null,function(t,e){return t.isCollapsed!==i&&e<n});o.push.apply(o,u)}t.toggleCollapseState(o)}function _(t,i,n,e){for(var o=[],r=0,s=e;r<s.length;r++){var a=s[r],l=t.getAllRegionsAtLine(a,function(t,e){return t.isCollapsed!==i&&e<=n});o.push.apply(o,l)}t.toggleCollapseState(o)}function b(t,e,i){for(var n=t.textModel,o=t.regions,r=[],s=o.length-1;0<=s;s--)if(i!==o.isCollapsed(s)){var a=o.getStartLineNumber(s);e.test(n.getLineContent(a))&&r.push(o.toRegion(s))}t.toggleCollapseState(r)}function w(t,e,i){for(var n=t.regions,o=[],r=n.length-1;0<=r;r--)i!==n.isCollapsed(r)&&e===n.getType(r)&&o.push(n.toRegion(r));t.toggleCollapseState(o)}var C=i(24),S=(x.prototype.getDecorationOption=function(t){return t?x.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?x.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:x.EXPANDED_VISUAL_DECORATION},x.prototype.deltaDecorations=function(t,e){return this.editor.deltaDecorations(t,e)},x.prototype.changeDecorations=function(t){return this.editor.changeDecorations(t)},x.COLLAPSED_VISUAL_DECORATION=C.a.register({stickiness:1,afterContentClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"}),x.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=C.a.register({stickiness:1,linesDecorationsClassName:"folding"}),x.EXPANDED_VISUAL_DECORATION=C.a.register({stickiness:1,linesDecorationsClassName:"folding alwaysShowFoldIcons"}),x);function x(t){this.editor=t,this.autoHideFoldingControls=!0}var k=i(6),O=i(2),E=i(21),L=(Object.defineProperty(D.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),D.prototype.updateHiddenRanges=function(){for(var t=!1,e=[],i=0,n=0,o=Number.MAX_VALUE,r=-1,s=this._foldingModel.regions;i<s.length;i++)if(s.isCollapsed(i)){var a=s.getStartLineNumber(i)+1,l=s.getEndLineNumber(i);o<=a&&l<=r||(!t&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===a&&this._hiddenRanges[n].endLineNumber===l?(e.push(this._hiddenRanges[n]),n++):(t=!0,e.push(new O.a(a,1,l,1))),o=a,r=l)}(t||n<this._hiddenRanges.length)&&this.applyHiddenRanges(e)},D.prototype.applyMemento=function(t){if(!Array.isArray(t)||0===t.length)return!1;for(var e=[],i=0,n=t;i<n.length;i++){var o=n[i];if(!o.startLineNumber||!o.endLineNumber)return!1;e.push(new O.a(o.startLineNumber+1,1,o.endLineNumber,1))}return this.applyHiddenRanges(e),!0},D.prototype.getMemento=function(){return this._hiddenRanges.map(function(t){return{startLineNumber:t.startLineNumber-1,endLineNumber:t.endLineNumber}})},D.prototype.applyHiddenRanges=function(t){this._hiddenRanges=t,this._updateEventEmitter.fire(t)},D.prototype.hasRanges=function(){return 0<this._hiddenRanges.length},D.prototype.isHidden=function(t){return null!==I(this._hiddenRanges,t)},D.prototype.adjustSelections=function(t){for(var e=this,i=!1,n=this._foldingModel.textModel,o=null,r=function(t){return o&&function(t,e){return t>=e.startLineNumber&&t<=e.endLineNumber}(t,o)||(o=I(e._hiddenRanges,t)),o?o.startLineNumber-1:null},s=0,a=t.length;s<a;s++){var l=t[s],u=r(l.startLineNumber);u&&(l=l.setStartPosition(u,n.getLineMaxColumn(u)),i=!0);var h=r(l.endLineNumber);h&&(l=l.setEndPosition(h,n.getLineMaxColumn(h)),i=!0),t[s]=l}return i},D.prototype.dispose=function(){0<this.hiddenRanges.length&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},D);function D(t){var e=this;this._updateEventEmitter=new h.a,this._foldingModel=t,this._foldingModelListener=t.onDidChange(function(t){return e.updateHiddenRanges()}),this._hiddenRanges=[],t.regions.length&&this.updateHiddenRanges()}function I(t,e){var i=Object(E.f)(t,function(t){return e<t.startLineNumber})-1;return 0<=i&&t[i].endLineNumber>=e?t[i]:null}var N=i(32),T=(M.prototype.dispose=function(){},M.prototype.compute=function(t){var e=N.a.getFoldingRules(this.editorModel.getLanguageIdentifier().id),i=e&&!!e.offSide,n=e&&e.markers;return Promise.resolve(function(t,e,i,n){void 0===n&&(n=5e3);var o=t.getOptions().tabSize,r=new A(n),s=void 0;i&&(s=new RegExp("("+i.start.source+")|(?:"+i.end.source+")"));var a=[];a.push({indent:-1,line:t.getLineCount()+1,marker:!1});for(var l=t.getLineCount();0<l;l--){var u=t.getLineContent(l),h=C.b.computeIndentLevel(u,o),c=a[a.length-1];if(-1!==h){var d=void 0;if(s&&(d=u.match(s))){if(!d[1]){a.push({indent:-2,line:l,marker:!0});continue}for(var p=a.length-1;0<p&&!a[p].marker;)p--;if(0<p){a.length=p+1,c=a[p],r.insertFirst(l,c.line,h),c.marker=!1,c.indent=h,c.line=l;continue}}if(c.indent>h){for(;a.pop(),(c=a[a.length-1]).indent>h;);var f=c.line-1;1<=f-l&&r.insertFirst(l,f,h)}c.indent===h?c.line=l:a.push({indent:h,line:l,marker:!1})}else e&&!c.marker&&(c.line=l)}return r.toIndentRanges(t)}(this.editorModel,i,n))},M);function M(t){this.editorModel=t,this.id="indent"}var A=(P.prototype.insertFirst=function(t,e,i){if(!(c<t||c<e)){var n=this._length;this._startIndexes[n]=t,this._endIndexes[n]=e,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}},P.prototype.toIndentRanges=function(t){if(this._length<=this._foldingRangesLimit){for(var e=new Uint32Array(this._length),i=new Uint32Array(this._length),n=this._length-1,o=0;0<=n;n--,o++)e[o]=this._startIndexes[n],i[o]=this._endIndexes[n];return new d(e,i)}var r=0,s=this._indentOccurrences.length;for(n=0;n<this._indentOccurrences.length;n++){var a=this._indentOccurrences[n];if(a){if(a+r>this._foldingRangesLimit){s=n;break}r+=a}}var l=t.getOptions().tabSize;for(e=new Uint32Array(this._foldingRangesLimit),i=new Uint32Array(this._foldingRangesLimit),n=this._length-1,o=0;0<=n;n--){var u=this._startIndexes[n],h=t.getLineContent(u),c=C.b.computeIndentLevel(h,l);(c<s||c===s&&r++<this._foldingRangesLimit)&&(e[o]=u,i[o]=this._endIndexes[n],o++)}return new d(e,i)},P);function P(t){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=t}var R=i(11),F=i(13),j={},B=(H.prototype.compute=function(t){var e=this;return function(t,s,a){var l=null,e=t.map(function(t,r){return Promise.resolve(t.provideFoldingRanges(s,j,a)).then(function(t){if(!a.isCancellationRequested&&Array.isArray(t)){Array.isArray(l)||(l=[]);for(var e=s.getLineCount(),i=0,n=t;i<n.length;i++){var o=n[i];0<o.start&&o.end>o.start&&o.end<=e&&l.push({start:o.start,end:o.end,rank:r,kind:o.kind})}}},F.f)});return Promise.all(e).then(function(t){return l})}(this.providers,this.editorModel,t).then(function(t){return t?z(t,e.limit):null})},H.prototype.dispose=function(){},H);function H(t,e,i){void 0===i&&(i=5e3),this.editorModel=t,this.providers=e,this.limit=i,this.id="syntax"}var W=(V.prototype.add=function(t,e,i,n){if(!(c<t||c<e)){var o=this._length;this._startIndexes[o]=t,this._endIndexes[o]=e,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}},V.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),e=new Uint32Array(this._length),i=0;i<this._length;i++)t[i]=this._startIndexes[i],e[i]=this._endIndexes[i];return new d(t,e,this._types)}var n=0,o=this._nestingLevelCounts.length;for(i=0;i<this._nestingLevelCounts.length;i++){var r=this._nestingLevelCounts[i];if(r){if(r+n>this._foldingRangesLimit){o=i;break}n+=r}}t=new Uint32Array(this._foldingRangesLimit),e=new Uint32Array(this._foldingRangesLimit);for(var s=[],a=i=0;i<this._length;i++){var l=this._nestingLevels[i];(l<o||l===o&&n++<this._foldingRangesLimit)&&(t[a]=this._startIndexes[i],e[a]=this._endIndexes[i],s[a]=this._types[i],a++)}return new d(t,e,s)},V);function V(t){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}function z(t,e){for(var i=t.sort(function(t,e){var i=t.start-e.start;return 0===i&&(i=t.rank-e.rank),i}),n=new W(e),o=void 0,r=[],s=0,a=i;s<a.length;s++){var l=a[s];if(o){if(l.start>o.start)if(l.end<=o.end)r.push(o),o=l,n.add(l.start,l.end,l.kind&&l.kind.value,r.length);else{if(l.start>o.end){for(;(o=r.pop())&&l.start>o.end;);o&&r.push(o),o=l}n.add(l.start,l.end,l.kind&&l.kind.value,r.length)}}else o=l,n.add(l.start,l.end,l.kind&&l.kind.value,r.length)}return n.toIndentRanges()}var U=(q.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)},q.prototype.compute=function(t){var e=[];if(this.decorationIds)for(var i=0,n=this.decorationIds;i<n.length;i++){var o=n[i],r=this.editorModel.getDecorationRange(o);r&&e.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return Promise.resolve(z(e,Number.MAX_VALUE))},q);function q(e,t,i,n){if(this.editorModel=e,this.id="init",t.length){this.decorationIds=e.deltaDecorations([],t.map(function(t){return{range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{stickiness:1}}})),this.timeout=setTimeout(i,n)}}i.d(e,"ID",function(){return Y}),i.d(e,"FoldingController",function(){return $});var K,G=(K=function(t,e){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Y="editor.contrib.folding",$=(Z.get=function(t){return t.getContribution(Y)},Z.prototype.getId=function(){return Y},Z.prototype.dispose=function(){this.globalToDispose=Object(l.d)(this.globalToDispose)},Z.prototype.saveViewState=function(){var t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){var e=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:e,lineCount:t.getLineCount(),provider:i}}},Z.prototype.restoreViewState=function(t){var e=this.editor.getModel();if(e&&this._isEnabled&&!e.isTooLargeForTokenization()&&this.hiddenRangeModel&&t&&t.collapsedRegions&&t.lineCount===e.getLineCount()){"syntax"!==t.provider&&"init"!==t.provider||(this.foldingStateMemento=t);var i=t.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){var n=this.getFoldingModel();n&&n.then(function(t){t&&t.applyMemento(i)}).then(void 0,F.e)}}},Z.prototype.onModelChanged=function(){var e=this;this.localToDispose=Object(l.d)(this.localToDispose);var t=this.editor.getModel();this._isEnabled&&t&&!t.isTooLargeForTokenization()&&(this.foldingModel=new m(t,this.foldingDecorationProvider),this.localToDispose.push(this.foldingModel),this.hiddenRangeModel=new L(this.foldingModel),this.localToDispose.push(this.hiddenRangeModel),this.localToDispose.push(this.hiddenRangeModel.onDidChange(function(t){return e.onHiddenRangesChanges(t)})),this.updateScheduler=new s.a(200),this.cursorChangedScheduler=new s.d(function(){return e.revealCursor()},200),this.localToDispose.push(this.cursorChangedScheduler),this.localToDispose.push(this.editor.onDidChangeModelLanguageConfiguration(function(){return e.onModelContentChanged()})),this.localToDispose.push(this.editor.onDidChangeModelContent(function(){return e.onModelContentChanged()})),this.localToDispose.push(this.editor.onDidChangeCursorPosition(function(){return e.onCursorPositionChanged()})),this.localToDispose.push(this.editor.onMouseDown(function(t){return e.onEditorMouseDown(t)})),this.localToDispose.push(this.editor.onMouseUp(function(t){return e.onEditorMouseUp(t)})),this.localToDispose.push({dispose:function(){e.foldingRegionPromise&&(e.foldingRegionPromise.cancel(),e.foldingRegionPromise=null),e.updateScheduler&&e.updateScheduler.cancel(),e.updateScheduler=null,e.foldingModel=null,e.foldingModelPromise=null,e.hiddenRangeModel=null,e.cursorChangedScheduler=null,e.foldingStateMemento=null,e.rangeProvider&&e.rangeProvider.dispose(),e.rangeProvider=null}}),this.onModelContentChanged())},Z.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},Z.prototype.getRangeProvider=function(t){var e=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new T(t),this._useFoldingProviders&&this.foldingModel){var i=R.l.ordered(this.foldingModel.textModel);if(0===i.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new U(t,this.foldingStateMemento.collapsedRegions,function(){e.foldingStateMemento=null,e.onFoldingStrategyChanged()},3e4);0<i.length&&(this.rangeProvider=new B(t,i))}return this.foldingStateMemento=null,this.rangeProvider},Z.prototype.getFoldingModel=function(){return this.foldingModelPromise},Z.prototype.onModelContentChanged=function(){var r=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(function(){var n=r.foldingModel;if(!n)return null;var o=r.foldingRegionPromise=Object(s.g)(function(t){return r.getRangeProvider(n.textModel).compute(t)});return o.then(function(t){if(t&&o===r.foldingRegionPromise){var e=r.editor.getSelections(),i=e?e.map(function(t){return t.startLineNumber}):[];n.update(t,i)}return n})}))},Z.prototype.onHiddenRangesChanges=function(t){if(this.hiddenRangeModel&&t.length){var e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(t)},Z.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},Z.prototype.revealCursor=function(){var s=this,t=this.getFoldingModel();t&&t.then(function(i){if(i){var t=s.editor.getSelections();if(t&&0<t.length){for(var n=[],e=function(t){var e=t.selectionStartLineNumber;s.hiddenRangeModel&&s.hiddenRangeModel.isHidden(e)&&n.push.apply(n,i.getAllRegionsAtLine(e,function(t){return t.isCollapsed&&e>t.startLineNumber}))},o=0,r=t;o<r.length;o++)e(r[o]);n.length&&(i.toggleCollapseState(n),s.reveal(t[0].getPosition()))}}}).then(void 0,F.e)},Z.prototype.onEditorMouseDown=function(t){if(this.mouseDownInfo=null,this.hiddenRangeModel&&t.target&&t.target.range&&(t.event.leftButton||t.event.middleButton)){var e=t.target.range,i=!1;switch(t.target.type){case 4:var n=t.target.detail,o=t.target.element.offsetLeft;if(n.offsetX-o<5)return;i=!0;break;case 7:if(this.hiddenRangeModel.hasRanges()&&!t.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){var r=this.editor.getModel();if(r&&e.startColumn===r.getLineMaxColumn(e.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:e.startLineNumber,iconClicked:i}}},Z.prototype.onEditorMouseUp=function(o){var r=this,t=this.getFoldingModel();if(t&&this.mouseDownInfo&&o.target){var s=this.mouseDownInfo.lineNumber,a=this.mouseDownInfo.iconClicked,e=o.target.range;if(e&&e.startLineNumber===s){if(a){if(4!==o.target.type)return}else{var i=this.editor.getModel();if(!i||e.startColumn!==i.getLineMaxColumn(s))return}t.then(function(t){if(t){var e=t.getRegionAtLine(s);if(e&&e.startLineNumber===s){var i=e.isCollapsed;if(a||i){var n=[e];(o.event.middleButton||o.event.shiftKey)&&n.push.apply(n,t.getRegionsInside(e,function(t){return t.isCollapsed===i})),t.toggleCollapseState(n),r.reveal({lineNumber:s,column:1})}}}}).then(void 0,F.e)}}},Z.prototype.reveal=function(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)},Z);function Z(t){var o=this;this.editor=t,this._isEnabled=this.editor.getConfiguration().contribInfo.folding,this._autoHideFoldingControls="mouseover"===this.editor.getConfiguration().contribInfo.showFoldingControls,this._useFoldingProviders="indentation"!==this.editor.getConfiguration().contribInfo.foldingStrategy,this.globalToDispose=[],this.localToDispose=[],this.foldingDecorationProvider=new S(t),this.foldingDecorationProvider.autoHideFoldingControls=this._autoHideFoldingControls,this.globalToDispose.push(this.editor.onDidChangeModel(function(){return o.onModelChanged()})),this.globalToDispose.push(R.l.onDidChange(function(){return o.onFoldingStrategyChanged()})),this.globalToDispose.push(this.editor.onDidChangeConfiguration(function(t){if(t.contribInfo){var e=o._isEnabled;o._isEnabled=o.editor.getConfiguration().contribInfo.folding,e!==o._isEnabled&&o.onModelChanged();var i=o._autoHideFoldingControls;o._autoHideFoldingControls="mouseover"===o.editor.getConfiguration().contribInfo.showFoldingControls,i!==o._autoHideFoldingControls&&(o.foldingDecorationProvider.autoHideFoldingControls=o._autoHideFoldingControls,o.onModelContentChanged());var n=o._useFoldingProviders;o._useFoldingProviders="indentation"!==o.editor.getConfiguration().contribInfo.foldingStrategy,n!==o._useFoldingProviders&&o.onFoldingStrategyChanged()}})),this.globalToDispose.push({dispose:function(){return Object(l.d)(o.localToDispose)}}),this.onModelChanged()}var X,J=(X=u.b,G(Q,X),Q.prototype.runEditorCommand=function(t,i,n){var o=this,r=$.get(i);if(r){var e=r.getFoldingModel();return e?(this.reportTelemetry(t,i),e.then(function(t){if(t){o.invoke(r,t,i,n);var e=i.getSelection();e&&r.reveal(e.getStartPosition())}})):void 0}},Q.prototype.getSelectedLines=function(t){var e=t.getSelections();return e?e.map(function(t){return t.startLineNumber}):[]},Q.prototype.getLineNumbers=function(t,e){return t&&t.selectionLines?t.selectionLines.map(function(t){return t+1}):this.getSelectedLines(e)},Q.prototype.run=function(t,e){},Q);function Q(){return null!==X&&X.apply(this,arguments)||this}function tt(t){if(!o.i(t)){if(!o.g(t))return!1;var e=t;if(!o.i(e.levels)&&!o.f(e.levels))return!1;if(!o.i(e.direction)&&!o.h(e.direction))return!1;if(!(o.i(e.selectionLines)||o.b(e.selectionLines)&&e.selectionLines.every(o.f)))return!1}return!0}var et,it=(G(nt,et=J),nt.prototype.invoke=function(t,e,i,n){var o=n&&n.levels||1,r=this.getLineNumbers(n,i);n&&"up"===n.direction?_(e,!1,o,r):y(e,!1,o,r)},nt);function nt(){return et.call(this,{id:"editor.unfold",label:n.a("unfoldAction.label","Unfold"),alias:"Unfold",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:tt}]}})||this}var ot,rt=(G(st,ot=J),st.prototype.invoke=function(t,e,i,n){y(e,!1,Number.MAX_VALUE,this.getSelectedLines(i))},st);function st(){return ot.call(this,{id:"editor.unfoldRecursively",label:n.a("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:Object(a.a)(2089,2137),weight:100}})||this}var at,lt=(G(ut,at=J),ut.prototype.invoke=function(t,e,i,n){var o=n&&n.levels||1,r=this.getLineNumbers(n,i);n&&"up"===n.direction?_(e,!0,o,r):y(e,!0,o,r)},ut);function ut(){return at.call(this,{id:"editor.fold",label:n.a("foldAction.label","Fold"),alias:"Fold",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold. Defaults to 1.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:tt}]}})||this}var ht,ct=(G(dt,ht=J),dt.prototype.invoke=function(t,e,i){var n=this.getSelectedLines(i);y(e,!0,Number.MAX_VALUE,n)},dt);function dt(){return ht.call(this,{id:"editor.foldRecursively",label:n.a("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:Object(a.a)(2089,2135),weight:100}})||this}var pt,ft=(G(gt,pt=J),gt.prototype.invoke=function(t,e,i){if(e.regions.hasTypes())w(e,R.k.Comment.value,!0);else{var n=i.getModel();if(!n)return;var o=N.a.getComments(n.getLanguageIdentifier().id);o&&o.blockCommentStartToken&&b(e,new RegExp("^\\s*"+Object(r.n)(o.blockCommentStartToken)),!0)}},gt);function gt(){return pt.call(this,{id:"editor.foldAllBlockComments",label:n.a("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:Object(a.a)(2089,2133),weight:100}})||this}var mt,vt=(G(yt,mt=J),yt.prototype.invoke=function(t,e,i){if(e.regions.hasTypes())w(e,R.k.Region.value,!0);else{var n=i.getModel();if(!n)return;var o=N.a.getFoldingRules(n.getLanguageIdentifier().id);o&&o.markers&&o.markers.start&&b(e,new RegExp(o.markers.start),!0)}},yt);function yt(){return mt.call(this,{id:"editor.foldAllMarkerRegions",label:n.a("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:Object(a.a)(2089,2077),weight:100}})||this}var _t,bt=(G(wt,_t=J),wt.prototype.invoke=function(t,e,i){if(e.regions.hasTypes())w(e,R.k.Region.value,!1);else{var n=i.getModel();if(!n)return;var o=N.a.getFoldingRules(n.getLanguageIdentifier().id);o&&o.markers&&o.markers.start&&b(e,new RegExp(o.markers.start),!1)}},wt);function wt(){return _t.call(this,{id:"editor.unfoldAllMarkerRegions",label:n.a("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:Object(a.a)(2089,2078),weight:100}})||this}var Ct,St=(G(xt,Ct=J),xt.prototype.invoke=function(t,e,i){y(e,!0)},xt);function xt(){return Ct.call(this,{id:"editor.foldAll",label:n.a("foldAllAction.label","Fold All"),alias:"Fold All",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:Object(a.a)(2089,2069),weight:100}})||this}var kt,Ot=(G(Et,kt=J),Et.prototype.invoke=function(t,e,i){y(e,!1)},Et);function Et(){return kt.call(this,{id:"editor.unfoldAll",label:n.a("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:Object(a.a)(2089,2088),weight:100}})||this}var Lt,Dt=(G(It,Lt=J),It.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(It.ID_PREFIX.length))},It.prototype.invoke=function(t,e,i){!function(t,i,n,o){var e=t.getRegionsInside(null,function(e,t){return t===i&&e.isCollapsed!==n&&!o.some(function(t){return e.containsLine(t)})});t.toggleCollapseState(e)}(e,this.getFoldingLevel(),!0,this.getSelectedLines(i))},It.ID_PREFIX="editor.foldLevel",It.ID=function(t){return It.ID_PREFIX+t},It);function It(){return null!==Lt&&Lt.apply(this,arguments)||this}Object(u.h)($),Object(u.f)(it),Object(u.f)(rt),Object(u.f)(lt),Object(u.f)(ct),Object(u.f)(St),Object(u.f)(Ot),Object(u.f)(ft),Object(u.f)(vt),Object(u.f)(bt);for(var Nt=1;Nt<=7;Nt++)Object(u.i)(new Dt({id:Dt.ID(Nt),label:n.a("foldLevelAction.label","Fold Level {0}",Nt),alias:"Fold Level "+Nt,precondition:null,kbOpts:{kbExpr:k.a.editorTextFocus,primary:Object(a.a)(2089,2048|21+Nt),weight:100}}))},function(t,e,i){"use strict";i.r(e);i(314);var n=i(0),o=i(38),b=i(4),r=i(14),s=i(3),w=i(2),a=i(6),l=i(82),u=i(1),C=i(29),S=i(12),x=i(69),h=i(9),c=i(24),d=i(11),k=i(168),f=i(166),p=i(5),O=(Object.defineProperty(g.prototype,"color",{get:function(){return this._color},set:function(t){this._color.equals(t)||(this._color=t,this._onDidChangeColor.fire(t))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(t){this._colorPresentations=t,this.presentationIndex>t.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:!0,configurable:!0}),g.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)},g.prototype.guessColorPresentation=function(t,e){for(var i=0;i<this.colorPresentations.length;i++)if(e===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}},g.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)},g);function g(t,e,i){this.presentationIndex=i,this._onColorFlushed=new p.a,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new p.a,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new p.a,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=t,this._color=t,this._colorPresentations=e}i(315);var m,v,y=i(22),_=i(73),E=i(60),L=i(7),D=i(16),I=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),N=u.a,T=(v=b.a,I(M,v),M.prototype.onDidChangeColor=function(t){this.pickedColorNode.style.backgroundColor=S.a.Format.CSS.format(t),u.P(this.pickedColorNode,"light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()},M.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""},M);function M(t,e,i){var n=v.call(this)||this;n.model=e,n.domNode=N(".colorpicker-header"),u.l(t,n.domNode),n.pickedColorNode=u.l(n.domNode,N(".picked-color"));var o=u.l(n.domNode,N(".original-color"));return o.style.backgroundColor=S.a.Format.CSS.format(n.model.originalColor),n.backgroundColor=i.getTheme().getColor(L.v)||S.a.white,n._register(Object(D.e)(function(t,e){n.backgroundColor=t.getColor(L.v)||S.a.white})),n._register(u.h(n.pickedColorNode,u.d.CLICK,function(){return n.model.selectNextColorPresentation()})),n._register(u.h(o,u.d.CLICK,function(){n.model.color=n.model.originalColor,n.model.flushColor()})),n._register(e.onDidChangeColor(n.onDidChangeColor,n)),n._register(e.onDidChangePresentation(n.onDidChangePresentation,n)),n.pickedColorNode.style.backgroundColor=S.a.Format.CSS.format(e.color),u.P(n.pickedColorNode,"light",e.color.rgba.a<.5?n.backgroundColor.isLighter():e.color.isLighter()),n}var A,P=(A=b.a,I(R,A),R.prototype.flushColor=function(){this.model.flushColor()},R.prototype.onDidSaturationValueChange=function(t){var e=t.s,i=t.v,n=this.model.color.hsva;this.model.color=new S.a(new S.b(n.h,e,i,n.a))},R.prototype.onDidOpacityChange=function(t){var e=this.model.color.hsva;this.model.color=new S.a(new S.b(e.h,e.s,e.v,t))},R.prototype.onDidHueChange=function(t){var e=this.model.color.hsva,i=360*(1-t);this.model.color=new S.a(new S.b(360==i?0:i,e.s,e.v,e.a))},R.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},R);function R(t,e,i){var n=A.call(this)||this;return n.model=e,n.pixelRatio=i,n.domNode=N(".colorpicker-body"),u.l(t,n.domNode),n.saturationBox=new j(n.domNode,n.model,n.pixelRatio),n._register(n.saturationBox),n._register(n.saturationBox.onDidChange(n.onDidSaturationValueChange,n)),n._register(n.saturationBox.onColorFlushed(n.flushColor,n)),n.opacityStrip=new U(n.domNode,n.model),n._register(n.opacityStrip),n._register(n.opacityStrip.onDidChange(n.onDidOpacityChange,n)),n._register(n.opacityStrip.onColorFlushed(n.flushColor,n)),n.hueStrip=new G(n.domNode,n.model),n._register(n.hueStrip),n._register(n.hueStrip.onDidChange(n.onDidHueChange,n)),n._register(n.hueStrip.onColorFlushed(n.flushColor,n)),n}var F,j=(F=b.a,I(B,F),B.prototype.onMouseDown=function(t){var e=this;this.monitor=this._register(new _.a);var i=u.v(this.domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(_.b,function(t){return e.onDidChangePosition(t.posx-i.left,t.posy-i.top)},function(){return null});var n=u.h(document,u.d.MOUSE_UP,function(){e._onColorFlushed.fire(),n.dispose(),e.monitor.stopMonitoring(!0),e.monitor=null},!0)},B.prototype.onDidChangePosition=function(t,e){var i=Math.max(0,Math.min(1,t/this.width)),n=Math.max(0,Math.min(1,1-e/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})},B.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var t=this.model.color.hsva;this.paintSelection(t.s,t.v)},B.prototype.paint=function(){var t=this.model.color.hsva,e=new S.a(new S.b(t.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");var o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=S.a.Format.CSS.format(e),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()},B.prototype.paintSelection=function(t,e){this.selection.style.left=t*this.width+"px",this.selection.style.top=this.height-e*this.height+"px"},B.prototype.onDidChangeColor=function(){this.monitor&&this.monitor.isMonitoring()||this.paint()},B);function B(t,e,i){var n=F.call(this)||this;return n.model=e,n.pixelRatio=i,n._onDidChange=new p.a,n.onDidChange=n._onDidChange.event,n._onColorFlushed=new p.a,n.onColorFlushed=n._onColorFlushed.event,n.domNode=N(".saturation-wrap"),u.l(t,n.domNode),n.canvas=document.createElement("canvas"),n.canvas.className="saturation-box",u.l(n.domNode,n.canvas),n.selection=N(".saturation-selection"),u.l(n.domNode,n.selection),n.layout(),n._register(u.h(n.domNode,u.d.MOUSE_DOWN,function(t){return n.onMouseDown(t)})),n._register(n.model.onDidChangeColor(n.onDidChangeColor,n)),n.monitor=null,n}var H,W=(H=b.a,I(V,H),V.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var t=this.getValue(this.model.color);this.updateSliderPosition(t)},V.prototype.onMouseDown=function(t){var e=this,i=this._register(new _.a),n=u.v(this.domNode);u.f(this.domNode,"grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),i.startMonitoring(_.b,function(t){return e.onDidChangeTop(t.posy-n.top)},function(){return null});var o=u.h(document,u.d.MOUSE_UP,function(){e._onColorFlushed.fire(),o.dispose(),i.stopMonitoring(!0),u.G(e.domNode,"grabbing")},!0)},V.prototype.onDidChangeTop=function(t){var e=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(e),this._onDidChange.fire(e)},V.prototype.updateSliderPosition=function(t){this.slider.style.top=(1-t)*this.height+"px"},V);function V(t,e){var i=H.call(this)||this;return i.model=e,i._onDidChange=new p.a,i.onDidChange=i._onDidChange.event,i._onColorFlushed=new p.a,i.onColorFlushed=i._onColorFlushed.event,i.domNode=u.l(t,N(".strip")),i.overlay=u.l(i.domNode,N(".overlay")),i.slider=u.l(i.domNode,N(".slider")),i.slider.style.top="0px",i._register(u.h(i.domNode,u.d.MOUSE_DOWN,function(t){return i.onMouseDown(t)})),i.layout(),i}var z,U=(I(q,z=W),q.prototype.onDidChangeColor=function(t){var e=t.rgba,i=e.r,n=e.g,o=e.b,r=new S.a(new S.c(i,n,o,1)),s=new S.a(new S.c(i,n,o,0));this.overlay.style.background="linear-gradient(to bottom, "+r+" 0%, "+s+" 100%)"},q.prototype.getValue=function(t){return t.hsva.a},q);function q(t,e){var i=z.call(this,t,e)||this;return u.f(i.domNode,"opacity-strip"),i._register(e.onDidChangeColor(i.onDidChangeColor,i)),i.onDidChangeColor(i.model.color),i}var K,G=(I(Y,K=W),Y.prototype.getValue=function(t){return 1-t.hsva.h/360},Y);function Y(t,e){var i=K.call(this,t,e)||this;return u.f(i.domNode,"hue-strip"),i}var $,Z=($=E.a,I(X,$),X.prototype.layout=function(){this.body.layout()},X);function X(t,e,i,n){var o=$.call(this)||this;o.model=e,o.pixelRatio=i,o._register(Object(y.p)(function(){return o.layout()}));var r=N(".colorpicker-widget");t.appendChild(r);var s=new T(r,o.model,n);return o.body=new P(r,o.model,o.pixelRatio),o._register(s),o._register(o.body),o}var J=i(21),Q=i(13);function tt(e,i,n){var t=d.m.ordered(e).map(function(t){return Promise.resolve(t.provideHover(e,i,n)).then(function(t){return t&&function(t){var e=void 0!==t.range,i=void 0!==t.contents&&t.contents&&0<t.contents.length;return e&&i}(t)?t:void 0},function(t){Object(Q.f)(t)})});return Promise.all(t).then(J.c)}Object(s.e)("_executeHoverProvider",function(t,e){return tt(t,e,C.a.None)});var et=i(17),it=(nt.prototype.setHoverTime=function(t){this._hoverTime=t},nt.prototype._firstWaitTime=function(){return this._hoverTime/2},nt.prototype._secondWaitTime=function(){return this._hoverTime/2},nt.prototype._loadingMessageTime=function(){return 3*this._hoverTime},nt.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(et.g)(function(t){return e._computer.computeAsync(t)}),this._asyncComputationPromise.then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)},function(t){return e._onError(t)})):this._asyncComputationPromiseDone=!0},nt.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},nt.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},nt.prototype._withAsyncResult=function(t){t&&this._computer.onResult(t,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},nt.prototype._onComplete=function(t){this._completeCallback&&this._completeCallback(t)},nt.prototype._onError=function(t){this._errorCallback?this._errorCallback(t):Object(Q.e)(t)},nt.prototype._onProgress=function(t){this._progressCallback&&this._progressCallback(t)},nt.prototype.start=function(t){if(0===t)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}},nt.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},nt.HOVER_TIME=300,nt);function nt(t,e,i,n){var o=this;this._computer=t,this._state=0,this._hoverTime=nt.HOVER_TIME,this._firstWaitScheduler=new et.d(function(){return o._triggerAsyncComputation()},0),this._secondWaitScheduler=new et.d(function(){return o._triggerSyncComputation()},0),this._loadingMessageScheduler=new et.d(function(){return o._showLoadingMessage()},0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=e,this._errorCallback=i,this._progressCallback=n}var ot,rt,st=i(79),at=(ot=function(t,e){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ot(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),lt=(rt=E.a,at(ut,rt),Object.defineProperty(ut.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){this._isVisible=t,Object(u.P)(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),ut.prototype.getId=function(){return this._id},ut.prototype.getDomNode=function(){return this._containerDomNode},ut.prototype.showAt=function(t,e,i){this._showAtPosition=t,this._showAtRange=e,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),(this._stoleFocus=i)&&this._containerDomNode.focus()},ut.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},ut.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},ut.prototype.dispose=function(){this._editor.removeContentWidget(this),this.disposables=Object(b.d)(this.disposables),rt.prototype.dispose.call(this)},ut.prototype.updateFont=function(){var e=this;Array.prototype.slice.call(this._domNode.getElementsByClassName("code")).forEach(function(t){return e._editor.applyFontInfo(t)})},ut.prototype.updateContents=function(t){this._domNode.textContent="",this._domNode.appendChild(t),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},ut.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},ut.prototype.updateMaxHeight=function(){var t=Math.max(this._editor.getLayoutInfo().height/4,250),e=this._editor.getConfiguration().fontInfo,i=e.fontSize,n=e.lineHeight;this._domNode.style.fontSize=i+"px",this._domNode.style.lineHeight=n+"px",this._domNode.style.maxHeight=t+"px"},ut);function ut(t,e){var i=rt.call(this)||this;return i.disposables=[],i.allowEditorOverflow=!0,i._id=t,i._editor=e,i._isVisible=!1,i._containerDomNode=document.createElement("div"),i._containerDomNode.className="monaco-editor-hover hidden",i._containerDomNode.tabIndex=0,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover-content",i.scrollbar=new st.a(i._domNode,{}),i.disposables.push(i.scrollbar),i._containerDomNode.appendChild(i.scrollbar.getDomNode()),i.onkeydown(i._containerDomNode,function(t){t.equals(9)&&i.hide()}),i._register(i._editor.onDidChangeConfiguration(function(t){t.fontInfo&&i.updateFont()})),i._editor.onDidLayoutChange(function(t){return i.updateMaxHeight()}),i.updateMaxHeight(),i._editor.addContentWidget(i),i._showAtPosition=null,i._showAtRange=null,i}var ht,ct=(ht=E.a,at(dt,ht),Object.defineProperty(dt.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){this._isVisible=t,Object(u.P)(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),dt.prototype.getId=function(){return this._id},dt.prototype.getDomNode=function(){return this._domNode},dt.prototype.showAt=function(t){this._showAtLineNumber=t,this.isVisible||(this.isVisible=!0);var e=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(this._showAtLineNumber),n=this._editor.getScrollTop(),o=this._editor.getConfiguration().lineHeight,r=i-n-(this._domNode.clientHeight-o)/2;this._domNode.style.left=e.glyphMarginLeft+e.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(r),0)+"px"},dt.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},dt.prototype.getPosition=function(){return null},dt.prototype.dispose=function(){this._editor.removeOverlayWidget(this),ht.prototype.dispose.call(this)},dt.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),i=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));t.concat(i).forEach(function(t){return e._editor.applyFontInfo(t)})},dt.prototype.updateContents=function(t){this._domNode.textContent="",this._domNode.appendChild(t),this.updateFont()},dt);function dt(t,e){var i=ht.call(this)||this;return i._id=t,i._editor=e,i._isVisible=!1,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover hidden",i._domNode.setAttribute("aria-hidden","true"),i._domNode.setAttribute("role","presentation"),i._showAtLineNumber=-1,i._register(i._editor.onDidChangeConfiguration(function(t){t.fontInfo&&i.updateFont()})),i._editor.addOverlayWidget(i),i}var pt,ft=(pt=function(t,e){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}pt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),gt=u.a,mt=function(t,e,i){this.range=t,this.color=e,this.provider=i},vt=(yt.prototype.setRange=function(t){this._range=t,this._result=[]},yt.prototype.clearResult=function(){this._result=[]},yt.prototype.computeAsync=function(t){var e=this._editor.getModel();return d.m.has(e)?tt(e,new h.a(this._range.startLineNumber,this._range.startColumn),t):Promise.resolve(null)},yt.prototype.computeSync=function(){var u=this,h=this._range.startLineNumber;if(h>this._editor.getModel().getLineCount())return[];var c=f.ColorDetector.get(this._editor),d=this._editor.getModel().getLineMaxColumn(h),t=this._editor.getLineDecorations(h),p=!1;return t.map(function(t){var e=t.range.startLineNumber===h?t.range.startColumn:1,i=t.range.endLineNumber===h?t.range.endColumn:d;if(e>u._range.startColumn||u._range.endColumn>i)return null;var n=new w.a(u._range.startLineNumber,e,u._range.startLineNumber,i),o=c.getColorData(t.range.getStartPosition());if(!p&&o){p=!0;var r=o.colorInfo,s=r.color,a=r.range;return new mt(a,s,o.provider)}if(Object(x.b)(t.options.hoverMessage))return null;var l=void 0;return t.options.hoverMessage&&(l=Array.isArray(t.options.hoverMessage)?t.options.hoverMessage.slice():[t.options.hoverMessage]),{contents:l,range:n}}).filter(function(t){return!!t})},yt.prototype.onResult=function(t,e){this._result=e?t.concat(this._result.sort(function(t,e){return t instanceof mt?-1:e instanceof mt?1:0})):this._result.concat(t)},yt.prototype.getResult=function(){return this._result.slice(0)},yt.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},yt.prototype._getLoadingMessage=function(){return{range:this._range,contents:[(new x.a).appendText(n.a("modesContentHover.loading","Loading..."))]}},yt);function yt(t){this._editor=t,this._range=null}var _t,bt=(ft(wt,_t=lt),wt.prototype.dispose=function(){this.renderDisposable.dispose(),this.renderDisposable=b.a.None,this._hoverOperation.cancel(),_t.prototype.dispose.call(this)},wt.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},wt.prototype.startShowingAt=function(t,e,i){if(!this._lastRange||!this._lastRange.equalsRange(t)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition.lineNumber!==t.startLineNumber)this.hide();else{for(var n=[],o=0,r=this._messages.length;o<r;o++){var s=this._messages[o],a=s.range;a.startColumn<=t.startColumn&&a.endColumn>=t.endColumn&&n.push(s)}if(0<n.length){if(function(t,e){if(!t&&e||t&&!e||t.length!==e.length)return 0;for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n instanceof mt)return 0;if(o instanceof mt)return 0;if(!Object(x.c)(n.contents,o.contents))return 0}return 1}(n,this._messages))return;this._renderMessages(t,n)}else this.hide()}this._lastRange=t,this._computer.setRange(t),this._shouldFocus=i,this._hoverOperation.start(e)}},wt.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),_t.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.dispose(),this.renderDisposable=b.a.None,this._colorPicker=null},wt.prototype.isColorPickerVisible=function(){return!!this._colorPicker},wt.prototype._withResult=function(t,e){this._messages=t,this._lastRange&&0<this._messages.length?this._renderMessages(this._lastRange,this._messages):e&&this.hide()},wt.prototype._renderMessages=function(t,e){var p=this;this.renderDisposable.dispose(),this._colorPicker=null;var f,g=Number.MAX_VALUE,m=w.a.lift(e[0].range),v=document.createDocumentFragment(),y=!0,_=!1;e.forEach(function(s){if(s.range)if(g=Math.min(g,s.range.startColumn),m=w.a.plusRange(m,s.range),s instanceof mt){_=!0;var t=s.color,e=t.red,i=t.green,n=t.blue,o=t.alpha,r=new S.c(255*e,255*i,255*n,o),a=new S.a(r),l=p._editor.getModel(),u=new w.a(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn),h={range:s.range,color:s.color},c=new O(a,[],0),d=new Z(v,c,p._editor.getConfiguration().pixelRatio,p._themeService);Object(k.a)(l,h,s.provider,C.a.None).then(function(t){c.colorPresentations=t;var e=p._editor.getModel().getValueInRange(s.range);function i(){var t,e;e=c.presentation.textEdit?(t=[c.presentation.textEdit],(e=new w.a(c.presentation.textEdit.range.startLineNumber,c.presentation.textEdit.range.startColumn,c.presentation.textEdit.range.endLineNumber,c.presentation.textEdit.range.endColumn)).setEndPosition(e.endLineNumber,e.startColumn+c.presentation.textEdit.text.length)):(t=[{identifier:null,range:u,text:c.presentation.label,forceMoveMarkers:!1}],u.setEndPosition(u.endLineNumber,u.startColumn+c.presentation.label.length)),p._editor.pushUndoStop(),p._editor.executeEdits("colorpicker",t),c.presentation.additionalTextEdits&&(t=c.presentation.additionalTextEdits.slice(),p._editor.executeEdits("colorpicker",t),p.hide()),p._editor.pushUndoStop(),u=e}function n(t){return Object(k.a)(l,{range:u,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},s.provider,C.a.None).then(function(t){c.colorPresentations=t})}c.guessColorPresentation(a,e);var o=c.onColorFlushed(function(t){n(t).then(i)}),r=c.onDidChangeColor(n);p._colorPicker=d,p.showAt(u.getStartPosition(),u,p._shouldFocus),p.updateContents(v),p._colorPicker.layout(),p.renderDisposable=Object(b.c)([o,r,d,f])})}else s.contents.filter(function(t){return!Object(x.b)(t)}).forEach(function(t){var e=p._markdownRenderer.render(t);f=e,v.appendChild(gt("div.hover-row",null,e.element)),y=!1})}),_||y||(this.showAt(new h.a(t.startLineNumber,g),m,this._shouldFocus),this.updateContents(v)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:m,options:wt._DECORATION_OPTIONS}]),this._isChangingDecorations=!1},wt.ID="editor.contrib.modesContentHoverWidget",wt._DECORATION_OPTIONS=c.a.register({className:"hoverHighlight"}),wt);function wt(t,e,i){var n=_t.call(this,wt.ID,t)||this;return n._themeService=i,n.renderDisposable=b.a.None,n._computer=new vt(n._editor),n._highlightDecorations=[],n._isChangingDecorations=!1,n._markdownRenderer=e,n._register(e.onDidRenderCodeBlock(n.onContentsChange,n)),n._hoverOperation=new it(n._computer,function(t){return n._withResult(t,!0)},null,function(t){return n._withResult(t,!1)}),n._register(u.k(n.getDomNode(),u.d.FOCUS,function(){n._colorPicker&&u.f(n.getDomNode(),"colorpicker-hover")})),n._register(u.k(n.getDomNode(),u.d.BLUR,function(){u.G(n.getDomNode(),"colorpicker-hover")})),n._register(t.onDidChangeConfiguration(function(t){n._hoverOperation.setHoverTime(n._editor.getConfiguration().contribInfo.hover.delay)})),n}var Ct,St=(Ct=function(t,e){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ct(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),xt=(kt.prototype.setLineNumber=function(t){this._lineNumber=t,this._result=[]},kt.prototype.clearResult=function(){this._result=[]},kt.prototype.computeSync=function(){function t(t){return{value:t}}var e=this._editor.getLineDecorations(this._lineNumber),i=[];if(!e)return i;for(var n=0,o=e.length;n<o;n++){var r=e[n];if(r.options.glyphMarginClassName){var s=r.options.glyphMarginHoverMessage;s&&!Object(x.b)(s)&&(Array.isArray(s)?i=i.concat(s.map(t)):i.push(t(s)))}}return i},kt.prototype.onResult=function(t,e){this._result=this._result.concat(t)},kt.prototype.getResult=function(){return this._result},kt.prototype.getResultWithLoadingMessage=function(){return this.getResult()},kt);function kt(t){this._editor=t,this._lineNumber=-1}var Ot,Et=(St(Lt,Ot=ct),Lt.prototype.dispose=function(){this._renderDisposeables=Object(b.d)(this._renderDisposeables),this._hoverOperation.cancel(),Ot.prototype.dispose.call(this)},Lt.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},Lt.prototype.startShowingAt=function(t){this._lastLineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=t,this._computer.setLineNumber(t),this._hoverOperation.start(0))},Lt.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),Ot.prototype.hide.call(this)},Lt.prototype._withResult=function(t){this._messages=t,0<this._messages.length?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},Lt.prototype._renderMessages=function(t,e){var i=this;Object(b.d)(this._renderDisposeables),this._renderDisposeables=[];var n=document.createDocumentFragment();e.forEach(function(t){var e=i._markdownRenderer.render(t.value);i._renderDisposeables.push(e),n.appendChild(Object(u.a)("div.hover-row",void 0,e.element))}),this.updateContents(n),this.showAt(t)},Lt.ID="editor.contrib.modesGlyphHoverWidget",Lt);function Lt(t,e){var i=Ot.call(this,Lt.ID,t)||this;return i._lastLineNumber=-1,i._markdownRenderer=e,i._computer=new xt(i._editor),i._hoverOperation=new it(i._computer,function(t){return i._withResult(t)},void 0,function(t){return i._withResult(t)}),i}var Dt=i(154),It=i(80);i.d(e,"ModesHoverController",function(){return Pt});var Nt,Tt=(Nt=function(t,e){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Nt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Mt=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},At=function(i,n){return function(t,e){n(t,e,i)}},Pt=(Object.defineProperty(Rt.prototype,"contentWidget",{get:function(){return this._contentWidget||this._createHoverWidget(),this._contentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(Rt.prototype,"glyphWidget",{get:function(){return this._glyphWidget||this._createHoverWidget(),this._glyphWidget},enumerable:!0,configurable:!0}),Rt.get=function(t){return t.getContribution(Rt.ID)},Rt.prototype._hookEvents=function(){function t(){return e._hideWidgets()}var e=this,i=this._editor.getConfiguration().contribInfo.hover;this._isHoverEnabled=i.enabled,this._isHoverSticky=i.sticky,this._isHoverEnabled?(this._toUnhook.push(this._editor.onMouseDown(function(t){return e._onEditorMouseDown(t)})),this._toUnhook.push(this._editor.onMouseUp(function(t){return e._onEditorMouseUp(t)})),this._toUnhook.push(this._editor.onMouseMove(function(t){return e._onEditorMouseMove(t)})),this._toUnhook.push(this._editor.onKeyDown(function(t){return e._onKeyDown(t)})),this._toUnhook.push(this._editor.onDidChangeModelDecorations(function(){return e._onModelDecorationsChanged()}))):this._toUnhook.push(this._editor.onMouseMove(t)),this._toUnhook.push(this._editor.onMouseLeave(t)),this._toUnhook.push(this._editor.onDidChangeModel(t)),this._toUnhook.push(this._editor.onDidScrollChange(function(t){return e._onEditorScrollChanged(t)}))},Rt.prototype._unhookEvents=function(){this._toUnhook=Object(b.d)(this._toUnhook)},Rt.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},Rt.prototype._onEditorScrollChanged=function(t){(t.scrollTopChanged||t.scrollLeftChanged)&&this._hideWidgets()},Rt.prototype._onEditorMouseDown=function(t){this._isMouseDown=!0;var e=t.target.type;9!==e||t.target.detail!==bt.ID?12===e&&t.target.detail===Et.ID||(12!==e&&t.target.detail!==Et.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0},Rt.prototype._onEditorMouseUp=function(t){this._isMouseDown=!1},Rt.prototype._onEditorMouseMove=function(t){var e=t.target.type,i=r.d?t.event.metaKey:t.event.ctrlKey;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())&&(!this._isHoverSticky||9!==e||t.target.detail!==bt.ID||i)&&(!this._isHoverSticky||12!==e||t.target.detail!==Et.ID||i)){if(7===e){var n=this._editor.getConfiguration().fontInfo.typicalHalfwidthCharacterWidth/2,o=t.target.detail;o&&!o.isAfterLines&&"number"==typeof o.horizontalDistanceToText&&o.horizontalDistanceToText<n&&(e=6)}6===e?(this.glyphWidget.hide(),this._isHoverEnabled&&this.contentWidget.startShowingAt(t.target.range,0,!1)):2===e?(this.contentWidget.hide(),this._isHoverEnabled&&this.glyphWidget.startShowingAt(t.target.position.lineNumber)):this._hideWidgets()}},Rt.prototype._onKeyDown=function(t){5!==t.keyCode&&6!==t.keyCode&&57!==t.keyCode&&4!==t.keyCode&&this._hideWidgets()},Rt.prototype._hideWidgets=function(){!this._contentWidget||this._isMouseDown&&this._hoverClicked&&this._contentWidget.isColorPickerVisible()||(this._glyphWidget.hide(),this._contentWidget.hide())},Rt.prototype._createHoverWidget=function(){var t=new Dt.a(this._editor,this._modeService,this._openerService);this._contentWidget=new bt(this._editor,t,this._themeService),this._glyphWidget=new Et(this._editor,t)},Rt.prototype.showContentHover=function(t,e,i){this.contentWidget.startShowingAt(t,e,i)},Rt.prototype.getId=function(){return Rt.ID},Rt.prototype.dispose=function(){this._unhookEvents(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},Rt.ID="editor.contrib.hover",Rt=Mt([At(1,It.a),At(2,l.a),At(3,D.c)],Rt));function Rt(t,e,i,n){var o=this;this._editor=t,this._openerService=e,this._modeService=i,this._themeService=n,this._toUnhook=[],this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(t){t.contribInfo&&(o._hideWidgets(),o._unhookEvents(),o._hookEvents())})}var Ft,jt=(Ft=s.b,Tt(Bt,Ft),Bt.prototype.run=function(t,e){var i=Pt.get(e);if(i){var n=e.getPosition(),o=new w.a(n.lineNumber,n.column,n.lineNumber,n.column);i.showContentHover(o,1,!0)}},Bt);function Bt(){return Ft.call(this,{id:"editor.action.showHover",label:n.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:null,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(o.a)(2089,2087),weight:100}})||this}Object(s.h)(Pt),Object(s.f)(jt),Object(D.e)(function(t,e){var i=t.getColor(L.x);i&&e.addRule(".monaco-editor .hoverHighlight { background-color: "+i+"; }");var n=t.getColor(L.v);n&&e.addRule(".monaco-editor .monaco-editor-hover { background-color: "+n+"; }");var o=t.getColor(L.w);o&&(e.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+o+"; }"),e.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+o.transparent(.5)+"; }"));var r=t.getColor(L.Eb);r&&e.addRule(".monaco-editor .monaco-editor-hover a { color: "+r+"; }");var s=t.getColor(L.Db);s&&e.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+s+"; }")})},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i(38),r=i(71),s=i(3),d=i(40),x=i(8),L=i(53),D=i(2),a=(l.prototype.getEditOperations=function(t,e){for(var i=function(t,e){e.sort(function(t,e){return t.lineNumber===e.lineNumber?t.column-e.column:t.lineNumber-e.lineNumber});for(var i=e.length-2;0<=i;i--)e[i].lineNumber===e[i+1].lineNumber&&e.splice(i,1);for(var n=[],o=0,r=0,s=e.length,a=1,l=t.getLineCount();a<=l;a++){var u=t.getLineContent(a),h=u.length+1,c=0;if(!(r<s&&e[r].lineNumber===a&&(c=e[r].column,r++,c===h))&&0!==u.length){var d=x.y(u),p=0;if(-1===d)p=1;else{if(d===u.length-1)continue;p=d+2}p=Math.max(c,p),n[o++]=L.a.delete(new D.a(a,p,a,h))}}return n}(t,this.cursors),n=0,o=i.length;n<o;n++){var r=i[n];e.addEditOperation(r.range,r.text)}this.selectionId=e.trackSelection(this.selection)},l.prototype.computeCursorState=function(t,e){return e.getTrackedSelection(this.selectionId)},l);function l(t,e){this.selection=t,this.cursors=e}var u=i(89),h=i(9),I=i(20),c=i(6),p=(f.prototype.getEditOperations=function(t,e){var i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));for(var n=[],o=i.startLineNumber;o<=i.endLineNumber;o++)n.push(t.getLineContent(o));var r=n.join("\n");""===r&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?e.addEditOperation(new D.a(i.startLineNumber,1,i.startLineNumber,1),r+"\n"):e.addEditOperation(new D.a(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber),i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),"\n"+r),this._selectionId=e.trackSelection(i),this._selectionDirection=this._selection.getDirection()},f.prototype.computeCursorState=function(t,e){var i=e.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var n=i.startLineNumber,o=i.startColumn,r=i.endLineNumber,s=i.endColumn;0!==this._startLineNumberDelta&&(n+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(r+=this._endLineNumberDelta,s=1),i=I.a.createWithDirection(n,o,r,s,this._selectionDirection)}return i},f);function f(t,e){this._selection=t,this._isCopyingDown=e}var g=(m.prototype.getEditOperations=function(t,e){if(1!==t.getLineCount()||1!==t.getLineMaxColumn(1)){var i=this.startLineNumber,n=this.endLineNumber,o=1,r=t.getLineMaxColumn(n);n<t.getLineCount()?(n+=1,r=1):1<i&&(i-=1,o=t.getLineMaxColumn(i)),e.addTrackedEditOperation(new D.a(i,o,n,r),null)}},m.prototype.computeCursorState=function(t,e){var i=e.getInverseEditOperations()[0].range;return new I.a(i.endLineNumber,this.restoreCursorToColumn,i.endLineNumber,this.restoreCursorToColumn)},m);function m(t,e,i){this.startLineNumber=t,this.endLineNumber=e,this.restoreCursorToColumn=i}var v=i(123),y=i(46),k=i(32);function O(t,e){for(var i=0,n=0;n<t.length;n++)"\t"===t.charAt(n)?i+=e:i++;return i}function E(t,e,i){t=t<0?0:t;var n="";if(!i){var o=Math.floor(t/e);t%=e;for(var r=0;r<o;r++)n+="\t"}for(r=0;r<t;r++)n+=" ";return n}var _=(b.prototype.getEditOperations=function(i,t){var e=i.getLineCount();if((!this._isMovingDown||this._selection.endLineNumber!==e)&&(this._isMovingDown||1!==this._selection.startLineNumber)){this._moveEndPositionDown=!1;var n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,i.getLineMaxColumn(n.endLineNumber-1)));var o=i.getOptions().tabSize,r=i.getOptions().insertSpaces,s=this.buildIndentConverter(o),a={getLineTokens:function(t){return i.getLineTokens(t)},getLanguageIdentifier:function(){return i.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,e){return i.getLanguageIdAtPosition(t,e)},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===i.getLineMaxColumn(n.startLineNumber)){var l=n.startLineNumber,u=this._isMovingDown?l+1:l-1;1===i.getLineMaxColumn(u)?t.addEditOperation(new D.a(1,1,1,1),null):(t.addEditOperation(new D.a(l,1,l,1),i.getLineContent(u)),t.addEditOperation(new D.a(u,1,u,i.getLineMaxColumn(u)),null)),n=new I.a(u,1,u,1)}else{var h,c=void 0;if(this._isMovingDown){h=n.endLineNumber+1,c=i.getLineContent(h),t.addEditOperation(new D.a(h-1,i.getLineMaxColumn(h-1),h,i.getLineMaxColumn(h)),null);var d=c;if(this.shouldAutoIndent(i,n)){var p=this.matchEnterRule(i,s,o,h,n.startLineNumber-1);if(null!==p){var f=E(w=p+O(m=x.q(i.getLineContent(h)),o),o,r);d=f+this.trimLeft(c)}else{a.getLineContent=function(t){return t===n.startLineNumber?i.getLineContent(h):i.getLineContent(t)};var g=k.a.getGoodIndentForLine(a,i.getLanguageIdAtPosition(h,1),n.startLineNumber,s);if(null!==g){var m=x.q(i.getLineContent(h));(w=O(g,o))!==(C=O(m,o))&&(f=E(w,o,r),d=f+this.trimLeft(c))}}if(t.addEditOperation(new D.a(n.startLineNumber,1,n.startLineNumber,1),d+"\n"),null!==(_=this.matchEnterRule(i,s,o,n.startLineNumber,n.startLineNumber,d)))0!==_&&this.getIndentEditsOfMovingBlock(i,t,n,o,r,_);else{a.getLineContent=function(t){return t===n.startLineNumber?d:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?i.getLineContent(t-1):i.getLineContent(t)};var v=k.a.getGoodIndentForLine(a,i.getLanguageIdAtPosition(h,1),n.startLineNumber+1,s);if(null!==v&&(m=x.q(i.getLineContent(n.startLineNumber)),(w=O(v,o))!==(C=O(m,o)))){var y=w-C;this.getIndentEditsOfMovingBlock(i,t,n,o,r,y)}}}else t.addEditOperation(new D.a(n.startLineNumber,1,n.startLineNumber,1),d+"\n")}else{var _;if(h=n.startLineNumber-1,c=i.getLineContent(h),t.addEditOperation(new D.a(h,1,h+1,1),null),t.addEditOperation(new D.a(n.endLineNumber,i.getLineMaxColumn(n.endLineNumber),n.endLineNumber,i.getLineMaxColumn(n.endLineNumber)),"\n"+c),this.shouldAutoIndent(i,n))if(a.getLineContent=function(t){return t===h?i.getLineContent(n.startLineNumber):i.getLineContent(t)},null!==(_=this.matchEnterRule(i,s,o,n.startLineNumber,n.startLineNumber-2)))0!==_&&this.getIndentEditsOfMovingBlock(i,t,n,o,r,_);else{var b=k.a.getGoodIndentForLine(a,i.getLanguageIdAtPosition(n.startLineNumber,1),h,s);if(null!==b){var w,C,S=x.q(i.getLineContent(n.startLineNumber));(w=O(b,o))!==(C=O(S,o))&&(y=w-C,this.getIndentEditsOfMovingBlock(i,t,n,o,r,y))}}}}this._selectionId=t.trackSelection(n)}},b.prototype.buildIndentConverter=function(o){return{shiftIndent:function(t){for(var e=v.a.shiftIndentCount(t,t.length+1,o),i="",n=0;n<e;n++)i+="\t";return i},unshiftIndent:function(t){for(var e=v.a.unshiftIndentCount(t,t.length+1,o),i="",n=0;n<e;n++)i+="\t";return i}}},b.prototype.matchEnterRule=function(t,e,i,n,o,r){for(var s=o;1<=s;){var a=void 0;if(a=s===o&&void 0!==r?r:t.getLineContent(s),0<=x.y(a))break;s--}if(s<1||n>t.getLineCount())return null;var l=t.getLineMaxColumn(s),u=k.a.getEnterAction(t,new D.a(s,l,s,l));if(u){var h=u.indentation,c=u.enterAction;c.indentAction===y.a.None?h=u.indentation+c.appendText:c.indentAction===y.a.Indent?h=u.indentation+c.appendText:c.indentAction===y.a.IndentOutdent?h=u.indentation:c.indentAction===y.a.Outdent&&(h=e.unshiftIndent(u.indentation)+c.appendText);var d=t.getLineContent(n);if(0<=this.trimLeft(d).indexOf(this.trimLeft(h))){var p=x.q(t.getLineContent(n)),f=x.q(h),g=k.a.getIndentMetadata(t,n);return null!==g&&2&g&&(f=e.unshiftIndent(f)),O(f,i)-O(p,i)}}return null},b.prototype.trimLeft=function(t){return t.replace(/^\s+/,"")},b.prototype.shouldAutoIndent=function(t,e){if(!this._autoIndent)return!1;if(!t.isCheapToTokenize(e.startLineNumber))return!1;var i=t.getLanguageIdAtPosition(e.startLineNumber,1);return i===t.getLanguageIdAtPosition(e.endLineNumber,1)&&null!==k.a.getIndentRulesSupport(i)},b.prototype.getIndentEditsOfMovingBlock=function(t,e,i,n,o,r){for(var s=i.startLineNumber;s<=i.endLineNumber;s++){var a=t.getLineContent(s),l=x.q(a),u=E(O(l,n)+r,n,o);u!==l&&(e.addEditOperation(new D.a(s,1,s,l.length+1),u),s===i.endLineNumber&&i.endColumn<=l.length+1&&""===u&&(this._moveEndLineSelectionShrink=!0))}},b.prototype.computeCursorState=function(t,e){var i=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i},b);function b(t,e,i){this._selection=t,this._isMovingDown=e,this._autoIndent=i,this._moveEndLineSelectionShrink=!1}var w=(C.prototype.getEditOperations=function(t,e){var i=function(t,e,i){var n=S(t,e,i);return n?L.a.replace(new D.a(n.startLineNumber,1,n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}(t,this.selection,this.descending);i&&e.addEditOperation(i.range,i.text),this.selectionId=e.trackSelection(this.selection)},C.prototype.computeCursorState=function(t,e){return e.getTrackedSelection(this.selectionId)},C.canRun=function(t,e,i){var n=S(t,e,i);if(!n)return!1;for(var o=0,r=n.before.length;o<r;o++)if(n.before[o]!==n.after[o])return!0;return!1},C);function C(t,e){this.selection=t,this.descending=e}function S(t,e,i){var n=e.startLineNumber,o=e.endLineNumber;if(1===e.endColumn&&o--,o<=n)return null;for(var r=[],s=n;s<=o;s++)r.push(t.getLineContent(s));var a=r.slice(0);return a.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}),!0===i&&(a=a.reverse()),{startLineNumber:n,endLineNumber:o,before:r,after:a}}var N=i(31);i.d(e,"AbstractSortLinesAction",function(){return Q}),i.d(e,"SortLinesAscendingAction",function(){return it}),i.d(e,"SortLinesDescendingAction",function(){return rt}),i.d(e,"TrimTrailingWhitespaceAction",function(){return lt}),i.d(e,"IndentLinesAction",function(){return ft}),i.d(e,"InsertLineBeforeAction",function(){return bt}),i.d(e,"InsertLineAfterAction",function(){return St}),i.d(e,"AbstractDeleteAllToBoundaryAction",function(){return Ot}),i.d(e,"DeleteAllLeftAction",function(){return Dt}),i.d(e,"DeleteAllRightAction",function(){return Tt}),i.d(e,"JoinLinesAction",function(){return Pt}),i.d(e,"TransposeAction",function(){return jt}),i.d(e,"AbstractCaseAction",function(){return Wt}),i.d(e,"UpperCaseAction",function(){return Ut}),i.d(e,"LowerCaseAction",function(){return Gt});var T,M,A=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),P=(M=s.b,A(R,M),R.prototype.run=function(t,e){for(var i=[],n=e.getSelections()||[],o=0;o<n.length;o++)i.push(new p(n[o],this.down));e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()},R);function R(t,e){var i=M.call(this,e)||this;return i.down=t,i}var F,j=(A(B,F=P),B);function B(){return F.call(this,!1,{id:"editor.action.copyLinesUpAction",label:n.a("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menubarOpts:{menuId:N.b.MenubarSelectionMenu,group:"2_line",title:n.a({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}var H,W=(A(V,H=P),V);function V(){return H.call(this,!0,{id:"editor.action.copyLinesDownAction",label:n.a("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menubarOpts:{menuId:N.b.MenubarSelectionMenu,group:"2_line",title:n.a({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}var z,U=(z=s.b,A(q,z),q.prototype.run=function(t,e){for(var i=[],n=e.getSelections()||[],o=e.getConfiguration().autoIndent,r=0;r<n.length;r++)i.push(new _(n[r],this.down,o));e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()},q);function q(t,e){var i=z.call(this,e)||this;return i.down=t,i}var K,G=(A(Y,K=U),Y);function Y(){return K.call(this,!1,{id:"editor.action.moveLinesUpAction",label:n.a("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:528,linux:{primary:528},weight:100},menubarOpts:{menuId:N.b.MenubarSelectionMenu,group:"2_line",title:n.a({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}var $,Z=(A(X,$=U),X);function X(){return $.call(this,!0,{id:"editor.action.moveLinesDownAction",label:n.a("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:530,linux:{primary:530},weight:100},menubarOpts:{menuId:N.b.MenubarSelectionMenu,group:"2_line",title:n.a({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}var J,Q=(J=s.b,A(tt,J),tt.prototype.run=function(t,e){for(var i=e.getSelections()||[],n=0,o=i.length;n<o;n++){var r=i[n];if(!w.canRun(e.getModel(),r,this.descending))return}var s=[];for(n=0,o=i.length;n<o;n++)s[n]=new w(i[n],this.descending);e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()},tt);function tt(t,e){var i=J.call(this,e)||this;return i.descending=t,i}var et,it=(A(nt,et=Q),nt);function nt(){return et.call(this,!1,{id:"editor.action.sortLinesAscending",label:n.a("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:c.a.writable})||this}var ot,rt=(A(st,ot=Q),st);function st(){return ot.call(this,!0,{id:"editor.action.sortLinesDescending",label:n.a("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:c.a.writable})||this}var at,lt=(at=s.b,A(ut,at),ut.prototype.run=function(t,e,i){var n=[];"auto-save"===i.reason&&(n=(e.getSelections()||[]).map(function(t){return new h.a(t.positionLineNumber,t.positionColumn)}));var o=new a(e.getSelection(),n);e.pushUndoStop(),e.executeCommands(this.id,[o]),e.pushUndoStop()},ut.ID="editor.action.trimTrailingWhitespace",ut);function ut(){return at.call(this,{id:ut.ID,label:n.a("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:Object(o.a)(2089,2102),weight:100}})||this}var ht,ct=(ht=s.b,A(dt,ht),dt.prototype.run=function(t,e){var i=this._getLinesToRemove(e).map(function(t){return new g(t.startLineNumber,t.endLineNumber,t.positionColumn)});e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()},dt.prototype._getLinesToRemove=function(t){var e=t.getSelections().map(function(t){var e=t.endLineNumber;return t.startLineNumber<t.endLineNumber&&1===t.endColumn&&(e-=1),{startLineNumber:t.startLineNumber,endLineNumber:e,positionColumn:t.positionColumn}});e.sort(function(t,e){return t.startLineNumber-e.startLineNumber});for(var i=[],n=e[0],o=1;o<e.length;o++)n.endLineNumber+1===e[o].startLineNumber?n.endLineNumber=e[o].endLineNumber:(i.push(n),n=e[o]);return i.push(n),i},dt);function dt(){return ht.call(this,{id:"editor.action.deleteLines",label:n.a("lines.delete","Delete Line"),alias:"Delete Line",precondition:c.a.writable,kbOpts:{kbExpr:c.a.textInputFocus,primary:3113,weight:100}})||this}var pt,ft=(pt=s.b,A(gt,pt),gt.prototype.run=function(t,e){var i=e._getCursors();i&&(e.pushUndoStop(),e.executeCommands(this.id,u.TypeOperations.indent(i.context.config,e.getModel(),e.getSelections())),e.pushUndoStop())},gt);function gt(){return pt.call(this,{id:"editor.action.indentLines",label:n.a("lines.indent","Indent Line"),alias:"Indent Line",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:2137,weight:100}})||this}var mt,vt=(mt=s.b,A(yt,mt),yt.prototype.run=function(t,e){r.CoreEditingCommands.Outdent.runEditorCommand(null,e,null)},yt);function yt(){return mt.call(this,{id:"editor.action.outdentLines",label:n.a("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:2135,weight:100}})||this}var _t,bt=(_t=s.b,A(wt,_t),wt.prototype.run=function(t,e){var i=e._getCursors();i&&(e.pushUndoStop(),e.executeCommands(this.id,u.TypeOperations.lineInsertBefore(i.context.config,e.getModel(),e.getSelections())))},wt);function wt(){return _t.call(this,{id:"editor.action.insertLineBefore",label:n.a("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:3075,weight:100}})||this}var Ct,St=(Ct=s.b,A(xt,Ct),xt.prototype.run=function(t,e){var i=e._getCursors();i&&(e.pushUndoStop(),e.executeCommands(this.id,u.TypeOperations.lineInsertAfter(i.context.config,e.getModel(),e.getSelections())))},xt);function xt(){return Ct.call(this,{id:"editor.action.insertLineAfter",label:n.a("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:2051,weight:100}})||this}var kt,Ot=(kt=s.b,A(Et,kt),Et.prototype.run=function(t,e){for(var i=e.getSelection(),n=this._getRangesToDelete(e),o=[],r=0,s=n.length-1;r<s;r++){var a=n[r],l=n[r+1];null===D.a.intersectRanges(a,l)?o.push(a):n[r+1]=D.a.plusRange(a,l)}o.push(n[n.length-1]);var u=this._getEndCursorState(i,o),h=o.map(function(t){return L.a.replace(t,"")});e.pushUndoStop(),e.executeEdits(this.id,h,u),e.pushUndoStop()},Et);function Et(){return null!==kt&&kt.apply(this,arguments)||this}var Lt,Dt=(A(It,Lt=Ot),It.prototype._getEndCursorState=function(n,t){var o,r=[],s=0;return t.forEach(function(t){var e;if(1===t.endColumn&&0<s){var i=t.startLineNumber-s;e=new I.a(i,t.startColumn,i,t.startColumn)}else e=new I.a(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);s+=t.endLineNumber-t.startLineNumber,t.intersectRanges(n)?o=e:r.push(e)}),o&&r.unshift(o),r},It.prototype._getRangesToDelete=function(t){var e=t.getSelections(),n=t.getModel();return e.sort(D.a.compareRangesUsingStarts),e=e.map(function(t){if(t.isEmpty()){if(1!==t.startColumn)return new D.a(t.startLineNumber,1,t.startLineNumber,t.startColumn);var e=Math.max(1,t.startLineNumber-1),i=1===t.startLineNumber?1:n.getLineContent(e).length+1;return new D.a(e,i,t.startLineNumber,1)}return t})},It);function It(){return Lt.call(this,{id:"deleteAllLeft",label:n.a("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:c.a.writable,kbOpts:{kbExpr:c.a.textInputFocus,primary:0,mac:{primary:2049},weight:100}})||this}var Nt,Tt=(A(Mt,Nt=Ot),Mt.prototype._getEndCursorState=function(t,e){for(var i,n=[],o=0,r=e.length;o<r;o++){var s=e[o],a=new I.a(s.startLineNumber-0,s.startColumn,s.startLineNumber-0,s.startColumn);s.intersectRanges(t)?i=a:n.push(a)}return i&&n.unshift(i),n},Mt.prototype._getRangesToDelete=function(t){var i=t.getModel(),e=t.getSelections().map(function(t){if(t.isEmpty()){var e=i.getLineMaxColumn(t.startLineNumber);return t.startColumn===e?new D.a(t.startLineNumber,t.startColumn,t.startLineNumber+1,1):new D.a(t.startLineNumber,t.startColumn,t.startLineNumber,e)}return t});return e.sort(D.a.compareRangesUsingStarts),e},Mt);function Mt(){return Nt.call(this,{id:"deleteAllRight",label:n.a("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:c.a.writable,kbOpts:{kbExpr:c.a.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})||this}var At,Pt=(At=s.b,A(Rt,At),Rt.prototype.run=function(t,e){var i=e.getSelections(),n=e.getSelection();i.sort(D.a.compareRangesUsingStarts);var o=[],r=i.reduce(function(t,e){return t.isEmpty()?t.endLineNumber===e.startLineNumber?(n.equalsSelection(t)&&(n=e),e):e.startLineNumber>t.endLineNumber+1?(o.push(t),e):new I.a(t.startLineNumber,t.startColumn,e.endLineNumber,e.endColumn):e.startLineNumber>t.endLineNumber?(o.push(t),e):new I.a(t.startLineNumber,t.startColumn,e.endLineNumber,e.endColumn)});o.push(r);for(var s=e.getModel(),a=[],l=[],u=n,h=0,c=0,d=o.length;c<d;c++){var p=o[c],f=p.startLineNumber,g=0,m=void 0,v=void 0,y=s.getLineContent(p.endLineNumber).length-p.endColumn;if(p.isEmpty()||p.startLineNumber===p.endLineNumber){var _=p.getStartPosition();v=_.lineNumber<s.getLineCount()?(m=f+1,s.getLineMaxColumn(m)):(m=_.lineNumber,s.getLineMaxColumn(_.lineNumber))}else m=p.endLineNumber,v=s.getLineMaxColumn(m);for(var b=s.getLineContent(f),w=f+1;w<=m;w++){var C=s.getLineContent(w),S=s.getLineFirstNonWhitespaceColumn(w);if(1<=S){var x=!0;""===b&&(x=!1),!x||" "!==b.charAt(b.length-1)&&"\t"!==b.charAt(b.length-1)||(x=!1,b=b.replace(/[\s\uFEFF\xA0]+$/g," "));var k=C.substr(S-1);b+=(x?" ":"")+k,g=x?k.length+1:k.length}else g=0}var O=new D.a(f,1,m,v);if(!O.isEmpty()){var E=void 0;E=p.isEmpty()?(a.push(L.a.replace(O,b)),new I.a(O.startLineNumber-h,b.length-g+1,f-h,b.length-g+1)):p.startLineNumber===p.endLineNumber?(a.push(L.a.replace(O,b)),new I.a(p.startLineNumber-h,p.startColumn,p.endLineNumber-h,p.endColumn)):(a.push(L.a.replace(O,b)),new I.a(p.startLineNumber-h,p.startColumn,p.startLineNumber-h,b.length-y)),null!==D.a.intersectRanges(O,n)?u=E:l.push(E)}h+=O.endLineNumber-O.startLineNumber}l.unshift(u),e.pushUndoStop(),e.executeEdits(this.id,a,l),e.pushUndoStop()},Rt);function Rt(){return At.call(this,{id:"editor.action.joinLines",label:n.a("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}var Ft,jt=(Ft=s.b,A(Bt,Ft),Bt.prototype.run=function(t,e){for(var i=e.getSelections(),n=e.getModel(),o=[],r=0,s=i.length;r<s;r++){var a=i[r];if(a.isEmpty()){var l=a.getStartPosition(),u=n.getLineMaxColumn(l.lineNumber);if(l.column>=u){if(l.lineNumber===n.getLineCount())continue;var h=new D.a(l.lineNumber,Math.max(1,l.column-1),l.lineNumber+1,1),c=n.getValueInRange(h).split("").reverse().join("");o.push(new d.a(new I.a(l.lineNumber,Math.max(1,l.column-1),l.lineNumber+1,1),c))}else h=new D.a(l.lineNumber,Math.max(1,l.column-1),l.lineNumber,l.column+1),c=n.getValueInRange(h).split("").reverse().join(""),o.push(new d.b(h,c,new I.a(l.lineNumber,l.column+1,l.lineNumber,l.column+1)))}}e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()},Bt);function Bt(){return Ft.call(this,{id:"editor.action.transpose",label:n.a("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:c.a.writable})||this}var Ht,Wt=(Ht=s.b,A(Vt,Ht),Vt.prototype.run=function(t,e){for(var i=e.getSelections(),n=e.getModel(),o=[],r=0,s=i.length;r<s;r++){var a=i[r];if(a.isEmpty()){var l=a.getStartPosition(),u=n.getWordAtPosition(l);if(!u)continue;var h=new D.a(l.lineNumber,u.startColumn,l.lineNumber,u.endColumn),c=n.getValueInRange(h);o.push(new d.b(h,this._modifyText(c),new I.a(l.lineNumber,l.column,l.lineNumber,l.column)))}else c=n.getValueInRange(a),o.push(new d.b(a,this._modifyText(c),a))}e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()},Vt);function Vt(){return null!==Ht&&Ht.apply(this,arguments)||this}var zt,Ut=(A(qt,zt=Wt),qt.prototype._modifyText=function(t){return t.toLocaleUpperCase()},qt);function qt(){return zt.call(this,{id:"editor.action.transformToUppercase",label:n.a("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:c.a.writable})||this}var Kt,Gt=(A(Yt,Kt=Wt),Yt.prototype._modifyText=function(t){return t.toLocaleLowerCase()},Yt);function Yt(){return Kt.call(this,{id:"editor.action.transformToLowercase",label:n.a("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:c.a.writable})||this}Object(s.f)(j),Object(s.f)(W),Object(s.f)(G),Object(s.f)(Z),Object(s.f)(it),Object(s.f)(rt),Object(s.f)(lt),Object(s.f)(ct),Object(s.f)(ft),Object(s.f)(vt),Object(s.f)(bt),Object(s.f)(St),Object(s.f)(Dt),Object(s.f)(Tt),Object(s.f)(Pt),Object(s.f)(jt),Object(s.f)(Ut),Object(s.f)(Gt)},function(t,e,i){"use strict";i.r(e);var n=i(3),o=i(4),r=i(8),s=i(149),a=i(6),l=i(130),u=i(0),h=i(37),c=i(10),d=i(74),p=i(64),f=i(52),g=i(125),m=i(17),v=i(5),y=i(2),_=i(11),b=i(21),w=i(29),C=i(13),S=i(30),x=i(56),k=(O.prototype.contains=function(t){return this.value===t||Object(r.F)(t,this.value+O.sep)},O.sep=".",O.Empty=new O(""),O.Refactor=new O("refactor"),O.Source=new O("source"),O.SourceOrganizeImports=new O("source.organizeImports"),O);function O(t){this.value=t}function E(e,i,n,o){void 0===o&&(o=w.a.None);var r={only:n&&n.filter&&n.filter.kind?n.filter.kind.value:void 0,trigger:n&&"manual"===n.type?2:1},t=_.a.all(e).filter(function(t){return!t.providedCodeActionKinds||t.providedCodeActionKinds.some(function(t){return L(n&&n.filter,t)})}).map(function(t){return Promise.resolve(t.provideCodeActions(e,i,r,o)).then(function(t){return Array.isArray(t)?t.filter(function(t){return function(t,e){return e&&L(t,e.kind)}(n&&n.filter,t)}):[]},function(t){if(Object(C.d)(t))throw t;return Object(C.f)(t),[]})});return Promise.all(t).then(b.i).then(function(t){return Object(b.l)(t,D)})}function L(t,e){return!(t&&t.kind&&(!e||!t.kind.contains(e)))&&!(e&&k.Source.contains(e)&&(!t||!t.includeSourceActions))}function D(t,e){var i=!Object(b.k)(t.diagnostics),n=!Object(b.k)(e.diagnostics);return i?n?t.diagnostics[0].message.localeCompare(e.diagnostics[0].message):-1:n?1:0}Object(n.j)("_executeCodeActionProvider",function(t,e){var i=e.resource,n=e.range;if(!(i instanceof S.a&&y.a.isIRange(n)))throw Object(C.b)();var o=t.get(x.a).getModel(i);if(!o)throw Object(C.b)();return E(o,o.validateRange(n),{type:"manual",filter:{includeSourceActions:!0}})});var I=new c.f("supportedCodeAction",""),N=(T.prototype.dispose=function(){this._disposables=Object(o.d)(this._disposables),this._autoTriggerTimer.cancel()},T.prototype.trigger=function(t){var e=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);return this._createEventAndSignalChange(t,e)},T.prototype._onMarkerChanges=function(t){var e=this,i=this._editor.getModel();i&&t.some(function(t){return t.toString()===i.uri.toString()})&&this._autoTriggerTimer.cancelAndSet(function(){e.trigger({type:"auto"})},this._delay)},T.prototype._onCursorChange=function(){var t=this;this._autoTriggerTimer.cancelAndSet(function(){t.trigger({type:"auto"})},this._delay)},T.prototype._getRangeOfMarker=function(t){var e=this._editor.getModel();if(e)for(var i=0,n=this._markerService.read({resource:e.uri});i<n.length;i++){var o=n[i];if(y.a.intersectRanges(o,t))return y.a.lift(o)}},T.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(t){var e=this._editor.getModel(),i=this._editor.getSelection();if(e&&i&&i.isEmpty()&&(!t.filter||!t.filter.includeSourceActions)){var n=i.getPosition(),o=n.lineNumber,r=n.column,s=e.getLineContent(o);if(0===s.length)return;if(1===r){if(/\s/.test(s[0]))return}else if(r===e.getLineMaxColumn(o)){if(/\s/.test(s[s.length-1]))return}else if(/\s/.test(s[r-2])&&/\s/.test(s[r-1]))return}return i||void 0},T.prototype._createEventAndSignalChange=function(e,i){if(i){var n=this._editor.getModel();if(!n)return this._signalChange({trigger:e,rangeOrSelection:void 0,position:void 0,actions:void 0}),Promise.resolve(void 0);var t=this._getRangeOfMarker(i),o=t?t.getStartPosition():i.getStartPosition(),r=Object(m.g)(function(t){return E(n,i,e,t)});return this._progressService&&"manual"===e.type&&this._progressService.showWhile(r,250),this._signalChange({trigger:e,rangeOrSelection:i,position:o,actions:r}),r}return this._signalChange({trigger:e,rangeOrSelection:void 0,position:void 0,actions:void 0}),Promise.resolve(void 0)},T);function T(t,e,i,n,o){void 0===n&&(n=250);var r=this;this._editor=t,this._markerService=e,this._signalChange=i,this._delay=n,this._progressService=o,this._disposables=[],this._autoTriggerTimer=new m.e,this._disposables.push(this._markerService.onMarkerChanged(function(t){return r._onMarkerChanges(t)}),this._editor.onDidChangeCursorPosition(function(){return r._onCursorChange()}))}var M=(A.prototype.dispose=function(){this._disposables=Object(o.d)(this._disposables),Object(o.d)(this._codeActionOracle)},Object.defineProperty(A.prototype,"onDidChangeFixes",{get:function(){return this._onDidChangeFixes.event},enumerable:!0,configurable:!0}),A.prototype._update=function(){var e=this;this._codeActionOracle&&(this._codeActionOracle.dispose(),this._codeActionOracle=void 0,this._onDidChangeFixes.fire(void 0));var t=this._editor.getModel();if(t&&_.a.has(t)&&!this._editor.getConfiguration().readOnly){for(var i=[],n=0,o=_.a.all(t);n<o.length;n++){var r=o[n];Array.isArray(r.providedCodeActionKinds)&&i.push.apply(i,r.providedCodeActionKinds)}this._supportedCodeActions.set(i.join(" ")),this._codeActionOracle=new N(this._editor,this._markerService,function(t){return e._onDidChangeFixes.fire(t)},void 0,this._progressService),this._codeActionOracle.trigger({type:"auto"})}else this._supportedCodeActions.reset()},A.prototype.trigger=function(t){return this._codeActionOracle?this._codeActionOracle.trigger(t):Promise.resolve(void 0)},A);function A(t,e,i,n){var o=this;this._progressService=n,this._onDidChangeFixes=new v.a,this._disposables=[],this._editor=t,this._markerService=e,this._supportedCodeActions=I.bindTo(i),this._disposables.push(this._editor.onDidChangeModel(function(){return o._update()})),this._disposables.push(this._editor.onDidChangeModelLanguage(function(){return o._update()})),this._disposables.push(_.a.onDidChange(this._update,this)),this._update()}var P=i(1),R=i(77),F=i(9),j=(B.prototype.show=function(t,e){var i=this,n=t?t.then(function(t){return t.map(function(t){return new R.a(t.command?t.command.id:t.title,t.title,void 0,!0,function(){return Object(m.f)(i._onApplyCodeAction(t),function(){return i._onDidExecuteCodeAction.fire(void 0)})})})}).then(function(t){return i._editor.getDomNode()?t:Promise.reject(Object(C.a)())}):Promise.resolve([]);this._contextMenuService.showContextMenu({getAnchor:function(){return F.a.isIPosition(e)&&(e=i._toCoords(e)),e},getActions:function(){return n},onHide:function(){i._visible=!1,i._editor.focus()},autoSelectFirstItem:!0})},Object.defineProperty(B.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),B.prototype._toCoords=function(t){this._editor.revealPosition(t,1),this._editor.render();var e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),i=Object(P.v)(this._editor.getDomNode());return{x:i.left+e.left,y:i.top+e.top+e.height}},B);function B(t,e,i){this._editor=t,this._contextMenuService=e,this._onApplyCodeAction=i,this._onDidExecuteCodeAction=new v.a,this.onDidExecuteCodeAction=this._onDidExecuteCodeAction.event}var H=i(73),W=(i(272),i(24)),V=(z.prototype.dispose=function(){Object(o.d)(this._disposables),this._editor.removeContentWidget(this)},z.prototype.getId=function(){return"LightBulbWidget"},z.prototype.getDomNode=function(){return this._domNode},z.prototype.getPosition=function(){return this._position},Object.defineProperty(z.prototype,"model",{get:function(){return this._model},set:function(t){var e=this;!t||this._position&&(!t.position||this._position.position&&this._position.position.lineNumber!==t.position.lineNumber)?this.hide():this._futureFixes&&this._futureFixes.cancel(),this._futureFixes=new w.b;var i=this._futureFixes.token;if(this._model=t,this._model&&this._model.actions){var n=this._model.rangeOrSelection;this._model.actions.then(function(t){!i.isCancellationRequested&&t&&0<t.length?!n||n.isEmpty()&&t.every(function(t){return!(!t.kind||!k.Refactor.contains(t.kind))})?e.hide():e._show():e.hide()}).catch(function(){e.hide()})}},enumerable:!0,configurable:!0}),Object.defineProperty(z.prototype,"title",{get:function(){return this._domNode.title},set:function(t){this._domNode.title=t},enumerable:!0,configurable:!0}),z.prototype._show=function(){var e=this,t=this._editor.getConfiguration();if(t.contribInfo.lightbulbEnabled&&this._model&&this._model.position){var i=this._model.position,n=i.lineNumber,o=i.column,r=this._editor.getModel();if(r){var s=r.getOptions().tabSize,a=r.getLineContent(n),l=W.b.computeIndentLevel(a,s),u=function(t){return 2<t&&e._editor.getTopForLineNumber(t)===e._editor.getTopForLineNumber(t-1)},h=n;if(!(22<t.fontInfo.spaceWidth*l))if(1<n&&!u(n-1))h-=1;else if(u(n+1)){if(o*t.fontInfo.spaceWidth<22)return void this.hide()}else h+=1;this._position={position:{lineNumber:h,column:1},preference:z._posPref},this._editor.layoutContentWidget(this)}}},z.prototype.hide=function(){this._position=null,this._model=null,this._futureFixes.cancel(),this._editor.layoutContentWidget(this)},z._posPref=[0],z);function z(t){var s=this;this._disposables=[],this._onClick=new v.a,this.onClick=this._onClick.event,this._futureFixes=new w.b,this._domNode=document.createElement("div"),this._domNode.className="lightbulb-glyph",this._editor=t,this._editor.addContentWidget(this),this._disposables.push(this._editor.onDidChangeModel(function(t){return s._futureFixes.cancel()})),this._disposables.push(this._editor.onDidChangeModelLanguage(function(t){return s._futureFixes.cancel()})),this._disposables.push(this._editor.onDidChangeModelContent(function(t){var e=s._editor.getModel();s.model&&s.model.position&&e&&!(s.model.position.lineNumber>=e.getLineCount())||s._futureFixes.cancel()})),this._disposables.push(P.k(this._domNode,"click",function(t){s._editor.focus();var e=P.v(s._domNode),i=e.top,n=e.height,o=s._editor.getConfiguration().lineHeight,r=Math.floor(o/3);s._position&&s._model&&s._model.position&&null!==s._position.position&&s._position.position.lineNumber<s._model.position.lineNumber&&(r+=o),s._onClick.fire({x:t.posx,y:i+n+r})})),this._disposables.push(P.h(this._domNode,"mouseenter",function(t){if(1==(1&t.buttons)){s.hide();var e=new H.a;e.startMonitoring(H.b,function(){},function(){e.dispose()})}})),this._disposables.push(this._editor.onDidChangeConfiguration(function(t){t.contribInfo&&!s._editor.getConfiguration().contribInfo.lightbulbEnabled&&s.hide()}))}var U,q=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),K=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},G=function(i,n){return function(t,e){n(t,e,i)}},Y=function(r,s,a,l){return new(a=a||Promise)(function(t,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function n(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,n)}o((l=l.apply(r,s||[])).next())})},$=function(i,n){var o,r,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(s=2&e[0]?r.return:e[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,e[1])).done)return s;switch(r=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],r=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};function Z(t){return c.d.regex(I.keys()[0],new RegExp("(\\s|^)"+Object(r.n)(t.value)+"\\b"))}var X=(J.get=function(t){return t.getContribution(J.ID)},J.prototype.dispose=function(){this._model.dispose(),Object(o.d)(this._disposables)},J.prototype._onCodeActionsEvent=function(e){var i=this;this._activeRequest&&(this._activeRequest.cancel(),this._activeRequest=void 0),e&&e.actions&&(this._activeRequest=e.actions),e&&e.actions&&e.trigger.filter&&e.trigger.filter.kind?e.actions.then(function(t){2===e.trigger.autoApply||1===e.trigger.autoApply&&1===t.length?i._onApplyCodeAction(t[0]):i._codeActionContextMenu.show(e.actions,e.position)}).catch(C.e):e&&"manual"===e.trigger.type?this._codeActionContextMenu.show(e.actions,e.position):e&&e.actions?this._codeActionContextMenu.isVisible?this._codeActionContextMenu.show(e.actions,e.position):this._lightBulbWidget.model=e:this._lightBulbWidget.hide()},J.prototype.getId=function(){return J.ID},J.prototype._handleLightBulbSelect=function(t){this._lightBulbWidget.model&&this._lightBulbWidget.model.actions&&this._codeActionContextMenu.show(this._lightBulbWidget.model.actions,t)},J.prototype.triggerFromEditorSelection=function(t,e){return this._model.trigger({type:"manual",filter:t,autoApply:e})},J.prototype._updateLightBulbTitle=function(){var t,e=this._keybindingService.lookupKeybinding(et.Id);t=e?u.a("quickFixWithKb","Show Fixes ({0})",e.getLabel()):u.a("quickFix","Show Fixes"),this._lightBulbWidget.title=t},J.prototype._onApplyCodeAction=function(t){return function(e,i,n,o){return Y(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.edit?[4,i.apply(e.edit,{editor:o})]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.command?[4,n.executeCommand.apply(n,[e.command.id].concat(e.command.arguments))]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}})})}(t,this._bulkEditService,this._commandService,this._editor)},J.ID="editor.contrib.quickFixController",J=K([G(1,f.a),G(2,c.e),G(3,g.a),G(4,d.a),G(5,h.b),G(6,p.a),G(7,s.a)],J));function J(t,e,i,n,o,r,s,a){var l=this;this._commandService=r,this._keybindingService=s,this._bulkEditService=a,this._disposables=[],this._editor=t,this._model=new M(this._editor,e,i,n),this._codeActionContextMenu=new j(t,o,function(t){return l._onApplyCodeAction(t)}),this._lightBulbWidget=new V(t),this._updateLightBulbTitle(),this._disposables.push(this._codeActionContextMenu.onDidExecuteCodeAction(function(t){return l._model.trigger({type:"auto",filter:{}})}),this._lightBulbWidget.onClick(this._handleLightBulbSelect,this),this._model.onDidChangeFixes(function(t){return l._onCodeActionsEvent(t)}),this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitle,this))}function Q(e,i,t,n){var o=X.get(e);if(o){var r=e.getPosition();o.triggerFromEditorSelection(t,n).then(function(t){t&&t.length||l.a.get(e).showMessage(i,r)})}}var tt,et=(tt=n.b,q(it,tt),it.prototype.run=function(t,e){return Q(e,u.a("editor.action.quickFix.noneMessage","No code actions available"))},it.Id="editor.action.quickFix",it);function it(){return tt.call(this,{id:it.Id,label:u.a("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix",precondition:c.d.and(a.a.writable,a.a.hasCodeActionsProvider),kbOpts:{kbExpr:a.a.editorTextFocus,primary:2132,weight:100}})||this}var nt=(ot.fromUser=function(t){return t&&"object"==typeof t?new ot(ot.getKindFromUser(t),ot.getApplyFromUser(t)):new ot(k.Empty,1)},ot.getApplyFromUser=function(t){switch("string"==typeof t.apply?t.apply.toLowerCase():""){case"first":return 2;case"never":return 3;case"ifsingle":default:return 1}},ot.getKindFromUser=function(t){return"string"==typeof t.kind?new k(t.kind):k.Empty},ot);function ot(t,e){this.kind=t,this.apply=e}var rt,st=(rt=n.c,q(at,rt),at.prototype.runEditorCommand=function(t,e,i){var n=nt.fromUser(i);return Q(e,u.a("editor.action.quickFix.noneMessage","No code actions available"),{kind:n.kind,includeSourceActions:!0},n.apply)},at.Id="editor.action.codeAction",at);function at(){return rt.call(this,{id:at.Id,precondition:c.d.and(a.a.writable,a.a.hasCodeActionsProvider)})||this}var lt,ut=(lt=n.b,q(ht,lt),ht.prototype.run=function(t,e){return Q(e,u.a("editor.action.refactor.noneMessage","No refactorings available"),{kind:k.Refactor},3)},ht.Id="editor.action.refactor",ht);function ht(){return lt.call(this,{id:ht.Id,label:u.a("refactor.label","Refactor..."),alias:"Refactor",precondition:c.d.and(a.a.writable,a.a.hasCodeActionsProvider),kbOpts:{kbExpr:a.a.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},menuOpts:{group:"1_modification",order:2,when:c.d.and(a.a.writable,Z(k.Refactor))}})||this}var ct,dt=(ct=n.b,q(pt,ct),pt.prototype.run=function(t,e){return Q(e,u.a("editor.action.source.noneMessage","No source actions available"),{kind:k.Source,includeSourceActions:!0},3)},pt.Id="editor.action.sourceAction",pt);function pt(){return ct.call(this,{id:pt.Id,label:u.a("source.label","Source Action..."),alias:"Source Action",precondition:c.d.and(a.a.writable,a.a.hasCodeActionsProvider),menuOpts:{group:"1_modification",order:2.1,when:c.d.and(a.a.writable,Z(k.Source))}})||this}var ft,gt=(ft=n.b,q(mt,ft),mt.prototype.run=function(t,e){return Q(e,u.a("editor.action.organize.noneMessage","No organize imports action available"),{kind:k.SourceOrganizeImports,includeSourceActions:!0},1)},mt.Id="editor.action.organizeImports",mt);function mt(){return ft.call(this,{id:mt.Id,label:u.a("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:c.d.and(a.a.writable,Z(k.SourceOrganizeImports)),kbOpts:{kbExpr:a.a.editorTextFocus,primary:1581,weight:100}})||this}Object(n.h)(X),Object(n.f)(et),Object(n.f)(ut),Object(n.f)(dt),Object(n.f)(gt),Object(n.g)(new st)},function(t,e,i){"use strict";i.r(e);var a=i(17),l=i(13),u=i(4),h=i(91),n=i(3),c=i(11),s=i(21),d=i(29),o=i(30),p=i(56);function f(t,e){var r=[],i=c.b.ordered(t),n=i.map(function(o){return Promise.resolve(o.provideCodeLenses(t,e)).then(function(t){if(Array.isArray(t))for(var e=0,i=t;e<i.length;e++){var n=i[e];r.push({symbol:n,provider:o})}}).catch(l.f)});return Promise.all(n).then(function(){return Object(s.l)(r,function(t,e){return t.symbol.range.startLineNumber<e.symbol.range.startLineNumber?-1:t.symbol.range.startLineNumber>e.symbol.range.startLineNumber?1:i.indexOf(t.provider)<i.indexOf(e.provider)?-1:i.indexOf(t.provider)>i.indexOf(e.provider)?1:t.symbol.range.startColumn<e.symbol.range.startColumn?-1:t.symbol.range.startColumn>e.symbol.range.startColumn?1:0})})}Object(n.j)("_executeCodeLensProvider",function(t,e){var i=e.resource,r=e.itemResolveCount;if(!(i instanceof o.a))throw Object(l.b)();var s=t.get(p.a).getModel(i);if(!s)throw Object(l.b)();var a=[];return f(s,d.a.None).then(function(t){for(var i=[],e=function(e){void 0===r||Boolean(e.symbol.command)?a.push(e.symbol):0<r--&&e.provider.resolveCodeLens&&i.push(Promise.resolve(e.provider.resolveCodeLens(s,e.symbol,d.a.None)).then(function(t){return a.push(t||e.symbol)}))},n=0,o=t;n<o.length;n++){e(o[n])}return Promise.all(i)}).then(function(){return a})});i(273);var g=i(1),m=i(8),v=i(2),y=i(24),r=i(28),_=i(7),b=i(16),w=(C.prototype.onComputedHeight=function(t){void 0===this._lastHeight?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())},C);function C(t,e){this.afterLineNumber=t,this._onHeight=e,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}var S=(x.prototype.dispose=function(){Object(u.d)(this._disposables)},x.prototype._updateHeight=function(){var t=this._editor.getConfiguration(),e=t.fontInfo,i=t.lineHeight;this._domNode.style.height=Math.round(1.1*i)+"px",this._domNode.style.lineHeight=i+"px",this._domNode.style.fontSize=Math.round(.9*e.fontSize)+"px",this._domNode.innerHTML="&nbsp;"},x.prototype.updateVisibility=function(){this.isVisible()&&(g.G(this._domNode,"invisible-cl"),g.f(this._domNode,"fadein"))},x.prototype.withCommands=function(t){if(this._commands=Object.create(null),t=Object(s.c)(t),Object(s.k)(t))this._domNode.innerHTML="no commands";else{for(var e=[],i=0;i<t.length;i++){var n=t[i].command,o=Object(m.m)(n.title),r=void 0;n.id?(r=Object(m.p)("<a id={0}>{1}</a>",i,o),this._commands[i]=n):r=Object(m.p)("<span>{0}</span>",o),e.push(r)}this._domNode.innerHTML=e.join("<span>&nbsp;|&nbsp;</span>"),this._editor.layoutContentWidget(this)}},x.prototype.getId=function(){return this._id},x.prototype.getDomNode=function(){return this._domNode},x.prototype.setSymbolRange=function(t){var e=t.startLineNumber,i=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:i},preference:[1]}},x.prototype.getPosition=function(){return this._widgetPosition},x.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},x._idPool=0,x);function x(n,t,o,r){var s=this;this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._disposables=[],this._commands=Object.create(null),this._id="codeLensWidget"+ ++x._idPool,this._editor=n,this.setSymbolRange(t),this._domNode=document.createElement("span"),this._domNode.innerHTML="&nbsp;",g.f(this._domNode,"codelens-decoration"),g.f(this._domNode,"invisible-cl"),this._updateHeight(),this._disposables.push(this._editor.onDidChangeConfiguration(function(t){return t.fontInfo&&s._updateHeight()})),this._disposables.push(g.h(this._domNode,"click",function(t){var e=t.target;if("A"===e.tagName&&e.id){var i=s._commands[e.id];i&&(n.focus(),o.executeCommand.apply(o,[i.id].concat(i.arguments)).then(void 0,function(t){r.error(t)}))}})),this.updateVisibility()}var k=(O.prototype.addDecoration=function(t,e){this._addDecorations.push(t),this._addDecorationsCallbacks.push(e)},O.prototype.removeDecoration=function(t){this._removeDecorations.push(t)},O.prototype.commit=function(t){for(var e=t.deltaDecorations(this._removeDecorations,this._addDecorations),i=0,n=e.length;i<n;i++)this._addDecorationsCallbacks[i](e[i])},O);function O(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}var E=(L.prototype.dispose=function(t,e){for(;this._decorationIds.length;)t.removeDecoration(this._decorationIds.pop());e&&e.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget),this._contentWidget.dispose()},L.prototype.isValid=function(){var o=this;return this._decorationIds.some(function(t,e){var i=o._editor.getModel().getDecorationRange(t),n=o._data[e].symbol;return i&&v.a.isEmpty(n.range)===i.isEmpty()})},L.prototype.updateCodeLensSymbols=function(t,i){for(var n=this;this._decorationIds.length;)i.removeDecoration(this._decorationIds.pop());this._data=t,this._decorationIds=new Array(this._data.length),this._data.forEach(function(t,e){i.addDecoration({range:t.symbol.range,options:y.a.EMPTY},function(t){return n._decorationIds[e]=t})})},L.prototype.computeIfNecessary=function(t){if(this._contentWidget.updateVisibility(),!this._contentWidget.isVisible())return null;for(var e=0;e<this._decorationIds.length;e++)this._data[e].symbol.range=t.getDecorationRange(this._decorationIds[e]);return this._data},L.prototype.updateCommands=function(t){this._contentWidget.withCommands(t)},L.prototype.getLineNumber=function(){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1},L.prototype.update=function(t){if(this.isValid()){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);this._viewZone.afterLineNumber=e.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(e),this._editor.layoutContentWidget(this._contentWidget)}},L);function L(t,e,i,n,o,r,s){var a,l=this;this._editor=e,this._data=t,this._decorationIds=new Array(this._data.length),this._data.forEach(function(t,e){i.addDecoration({range:t.symbol.range,options:y.a.EMPTY},function(t){return l._decorationIds[e]=t}),a=a?v.a.plusRange(a,t.symbol.range):v.a.lift(t.symbol.range)}),this._contentWidget=new S(e,a,o,r),this._viewZone=new w(a.startLineNumber-1,s),this._viewZoneId=n.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget)}Object(b.e)(function(t,e){var i=t.getColor(r.e);i&&e.addRule(".monaco-editor .codelens-decoration { color: "+i+"; }");var n=t.getColor(_.m);n&&e.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+n+" !important; }")});var D=i(37),I=i(44);i.d(e,"CodeLensContribution",function(){return M});var N=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},T=function(i,n){return function(t,e){n(t,e,i)}},M=(A.prototype.dispose=function(){this._localDispose(),this._globalToDispose=Object(u.d)(this._globalToDispose)},A.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=null),this._localToDispose=Object(u.d)(this._localToDispose)},A.prototype.getId=function(){return A.ID},A.prototype._onModelChange=function(){var r=this;this._localDispose();var i=this._editor.getModel();if(i&&this._isEnabled&&c.b.has(i)){for(var t=0,e=c.b.all(i);t<e.length;t++){var n=e[t];if("function"==typeof n.onDidChange){var o=n.onDidChange(function(){return s.schedule()});this._localToDispose.push(o)}}this._detectVisibleLenses=new a.d(function(){r._onViewportChanged()},500);var s=new a.d(function(){var e=++r._modelChangeCounter;r._currentFindCodeLensSymbolsPromise&&r._currentFindCodeLensSymbolsPromise.cancel(),r._currentFindCodeLensSymbolsPromise=Object(a.g)(function(t){return f(i,t)}),r._currentFindCodeLensSymbolsPromise.then(function(t){e===r._modelChangeCounter&&(r._renderCodeLensSymbols(t),r._detectVisibleLenses.schedule())},l.e)},250);this._localToDispose.push(s),this._localToDispose.push(this._detectVisibleLenses),this._localToDispose.push(this._editor.onDidChangeModelContent(function(t){r._editor.changeDecorations(function(t){r._editor.changeViewZones(function(e){var i=[],n=-1;r._lenses.forEach(function(t){t.isValid()&&n!==t.getLineNumber()?(t.update(e),n=t.getLineNumber()):i.push(t)});var o=new k;i.forEach(function(t){t.dispose(o,e),r._lenses.splice(r._lenses.indexOf(t),1)}),o.commit(t)})}),r._detectVisibleLenses.schedule(),s.schedule()})),this._localToDispose.push(this._editor.onDidScrollChange(function(t){t.scrollTopChanged&&0<r._lenses.length&&r._detectVisibleLenses.schedule()})),this._localToDispose.push(this._editor.onDidLayoutChange(function(t){r._detectVisibleLenses.schedule()})),this._localToDispose.push(Object(u.f)(function(){if(r._editor.getModel()){var t=h.b.capture(r._editor);r._editor.changeDecorations(function(e){r._editor.changeViewZones(function(t){r._disposeAllLenses(e,t)})}),t.restore(r._editor)}else r._disposeAllLenses(null,null)})),s.schedule()}},A.prototype._disposeAllLenses=function(t,e){var i=new k;this._lenses.forEach(function(t){return t.dispose(i,e)}),t&&i.commit(t),this._lenses=[]},A.prototype._renderCodeLensSymbols=function(t){var a=this;if(this._editor.getModel()){for(var e,i=this._editor.getModel().getLineCount(),l=[],n=0,o=t;n<o.length;n++){var r=o[n],s=r.symbol.range.startLineNumber;s<1||i<s||(e&&e[e.length-1].symbol.range.startLineNumber===s?e.push(r):(e=[r],l.push(e)))}var u=h.b.capture(this._editor);this._editor.changeDecorations(function(s){a._editor.changeViewZones(function(t){for(var e=0,i=0,n=new k;i<l.length&&e<a._lenses.length;){var o=l[i][0].symbol.range.startLineNumber,r=a._lenses[e].getLineNumber();r<o?(a._lenses[e].dispose(n,t),a._lenses.splice(e,1)):r===o?(a._lenses[e].updateCodeLensSymbols(l[i],n),i++,e++):(a._lenses.splice(e,0,new E(l[i],a._editor,n,t,a._commandService,a._notificationService,function(){return a._detectVisibleLenses.schedule()})),e++,i++)}for(;e<a._lenses.length;)a._lenses[e].dispose(n,t),a._lenses.splice(e,1);for(;i<l.length;)a._lenses.push(new E(l[i],a._editor,n,t,a._commandService,a._notificationService,function(){return a._detectVisibleLenses.schedule()})),i++;n.commit(s)})}),u.restore(this._editor)}},A.prototype._onViewportChanged=function(){var e=this;this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=null);var r=this._editor.getModel();if(r){var i=[],s=[];this._lenses.forEach(function(t){var e=t.computeIfNecessary(r);e&&(i.push(e),s.push(t))}),0!==i.length&&(this._currentResolveCodeLensSymbolsPromise=Object(a.g)(function(o){var t=i.map(function(t,e){var i=new Array(t.length),n=t.map(function(t,e){return"function"==typeof t.provider.resolveCodeLens?Promise.resolve(t.provider.resolveCodeLens(r,t.symbol,o)).then(function(t){i[e]=t}):(i[e]=t.symbol,Promise.resolve(void 0))});return Promise.all(n).then(function(){s[e].updateCommands(i)})});return Promise.all(t)}),this._currentResolveCodeLensSymbolsPromise.then(function(){e._currentResolveCodeLensSymbolsPromise=null}).catch(function(t){e._currentResolveCodeLensSymbolsPromise=null,Object(l.e)(t)}))}},A.ID="css.editor.codeLens",A=N([T(1,D.b),T(2,I.a)],A));function A(t,e,i){var n=this;this._editor=t,this._commandService=e,this._notificationService=i,this._isEnabled=this._editor.getConfiguration().contribInfo.codeLens,this._globalToDispose=[],this._localToDispose=[],this._lenses=[],this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter=0,this._globalToDispose.push(this._editor.onDidChangeModel(function(){return n._onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeModelLanguage(function(){return n._onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeConfiguration(function(t){var e=n._isEnabled;n._isEnabled=n._editor.getConfiguration().contribInfo.codeLens,e!==n._isEnabled&&n._onModelChange()})),this._globalToDispose.push(c.b.onDidChange(this._onModelChange,this)),this._onModelChange()}Object(n.h)(M)},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i(38),r=i(3),s=i(6),a=i(53),l=i(9),v=i(2),u=i(20),c=i(32),p=(y._haystackHasNeedleAtOffset=function(t,e,i){if(i<0)return!1;var n=e.length;if(t.length<i+n)return!1;for(var o=0;o<n;o++){var r=t.charCodeAt(i+o),s=e.charCodeAt(o);if(r!==s&&!(65<=r&&r<=90&&r+32===s||65<=s&&s<=90&&s+32===r))return!1}return!0},y.prototype._createOperationsForBlockComment=function(t,e,i,n,o){var r,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,u=t.endColumn,h=n.getLineContent(s),c=n.getLineContent(l),d=h.lastIndexOf(e,a-1+e.length),p=c.indexOf(i,u-1-i.length);if(-1!==d&&-1!==p)if(s===l)0<=h.substring(d+e.length,p).indexOf(i)&&(p=d=-1);else{var f=h.substring(d+e.length),g=c.substring(0,p);(0<=f.indexOf(i)||0<=g.indexOf(i))&&(p=d=-1)}-1!==d&&-1!==p?(d+e.length<h.length&&32===h.charCodeAt(d+e.length)&&(e+=" "),0<p&&32===c.charCodeAt(p-1)&&(i=" "+i,p-=1),r=y._createRemoveBlockCommentOperations(new v.a(s,d+e.length+1,l,p+1),e,i)):(r=y._createAddBlockCommentOperations(t,e,i),this._usedEndToken=1===r.length?i:null);for(var m=0;m<r.length;m++)o.addTrackedEditOperation(r[m].range,r[m].text)},y._createRemoveBlockCommentOperations=function(t,e,i){var n=[];return v.a.isEmpty(t)?n.push(a.a.delete(new v.a(t.startLineNumber,t.startColumn-e.length,t.endLineNumber,t.endColumn+i.length))):(n.push(a.a.delete(new v.a(t.startLineNumber,t.startColumn-e.length,t.startLineNumber,t.startColumn))),n.push(a.a.delete(new v.a(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn+i.length)))),n},y._createAddBlockCommentOperations=function(t,e,i){var n=[];return v.a.isEmpty(t)?n.push(a.a.replace(new v.a(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),e+"  "+i)):(n.push(a.a.insert(new l.a(t.startLineNumber,t.startColumn),e+" ")),n.push(a.a.insert(new l.a(t.endLineNumber,t.endColumn)," "+i))),n},y.prototype.getEditOperations=function(t,e){var i=this._selection.startLineNumber,n=this._selection.startColumn;t.tokenizeIfCheap(i);var o=t.getLanguageIdAtPosition(i,n),r=c.a.getComments(o);r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,t,e)},y.prototype.computeCursorState=function(t,e){var i=e.getInverseEditOperations();if(2===i.length){var n=i[0],o=i[1];return new u.a(n.range.endLineNumber,n.range.endColumn,o.range.startLineNumber,o.range.startColumn)}var r=i[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new u.a(r.endLineNumber,r.endColumn+s,r.endLineNumber,r.endColumn+s)},y);function y(t){this._selection=t,this._usedEndToken=null}var f=i(8),h=(g._gatherPreflightCommentStrings=function(t,e,i){t.tokenizeIfCheap(e);var n=t.getLanguageIdAtPosition(e,1),o=c.a.getComments(n),r=o?o.lineCommentToken:null;if(!r)return null;for(var s=[],a=0,l=i-e+1;a<l;a++)s[a]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return s},g._analyzeLines=function(t,e,i,n){var o,r=!0;o=0===t||1!==t;for(var s=0,a=i.length;s<a;s++){var l=i[s],u=n+s,h=e.getLineContent(u),c=f.o(h);if(-1!==c){if(r=!1,l.ignore=!1,l.commentStrOffset=c,o&&!p._haystackHasNeedleAtOffset(h,l.commentStr,c)&&(0===t?o=!1:1===t||(l.ignore=!0)),o){var d=c+l.commentStrLength;d<h.length&&32===h.charCodeAt(d)&&(l.commentStrLength+=1)}}else l.ignore=!0,l.commentStrOffset=h.length}if(0===t&&r)for(o=!1,s=0,a=i.length;s<a;s++)i[s].ignore=!1;return{supported:!0,shouldRemoveComments:o,lines:i}},g._gatherPreflightData=function(t,e,i,n){var o=g._gatherPreflightCommentStrings(e,i,n);return null===o?{supported:!1}:g._analyzeLines(t,e,o,i)},g.prototype._executeLineComments=function(t,e,i,n){var o;o=i.shouldRemoveComments?g._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(g._normalizeInsertionPoint(t,i.lines,n.startLineNumber,this._tabSize),g._createAddLineCommentsOperations(i.lines,n.startLineNumber));for(var r=new l.a(n.positionLineNumber,n.positionColumn),s=0,a=o.length;s<a;s++)e.addEditOperation(o[s].range,o[s].text),o[s].range.isEmpty()&&o[s].range.getStartPosition().equals(r)&&t.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(o[s].text||"").length);this._selectionId=e.trackSelection(n)},g.prototype._attemptRemoveBlockComment=function(t,e,i,n){var o=e.startLineNumber,r=e.endLineNumber,s=n.length+Math.max(t.getLineFirstNonWhitespaceColumn(e.startLineNumber),e.startColumn),a=t.getLineContent(o).lastIndexOf(i,s-1),l=t.getLineContent(r).indexOf(n,e.endColumn-1-i.length);return-1!==a&&-1===l&&(l=t.getLineContent(o).indexOf(n,a+i.length),r=o),-1===a&&-1!==l&&(a=t.getLineContent(r).lastIndexOf(i,l),o=r),!e.isEmpty()||-1!==a&&-1!==l||-1!==(a=t.getLineContent(o).indexOf(i))&&(l=t.getLineContent(o).indexOf(n,a+i.length)),-1!==a&&32===t.getLineContent(o).charCodeAt(a+i.length)&&(i+=" "),-1!==l&&32===t.getLineContent(r).charCodeAt(l-1)&&(n=" "+n,l-=1),-1!==a&&-1!==l?p._createRemoveBlockCommentOperations(new v.a(o,a+i.length+1,r,l+1),i,n):null},g.prototype._executeBlockComment=function(t,e,i){t.tokenizeIfCheap(i.startLineNumber);var n=t.getLanguageIdAtPosition(i.startLineNumber,1),o=c.a.getComments(n);if(o&&o.blockCommentStartToken&&o.blockCommentEndToken){var r=o.blockCommentStartToken,s=o.blockCommentEndToken,a=this._attemptRemoveBlockComment(t,i,r,s);if(!a){if(i.isEmpty()){var l=t.getLineContent(i.startLineNumber),u=f.o(l);-1===u&&(u=l.length),a=p._createAddBlockCommentOperations(new v.a(i.startLineNumber,u+1,i.startLineNumber,l.length+1),r,s)}else a=p._createAddBlockCommentOperations(new v.a(i.startLineNumber,t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),r,s);1===a.length&&(this._deltaColumn=r.length+1)}this._selectionId=e.trackSelection(i);for(var h=0;h<a.length;h++)e.addEditOperation(a[h].range,a[h].text)}},g.prototype.getEditOperations=function(t,e){var i=this._selection;this._moveEndPositionDown=!1,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));var n=g._gatherPreflightData(this._type,t,i.startLineNumber,i.endLineNumber);return n.supported?this._executeLineComments(t,e,n,i):this._executeBlockComment(t,e,i)},g.prototype.computeCursorState=function(t,e){var i=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new u.a(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)},g._createRemoveLineCommentsOperations=function(t,e){for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n];r.ignore||i.push(a.a.delete(new v.a(e+n,r.commentStrOffset+1,e+n,r.commentStrOffset+r.commentStrLength+1)))}return i},g._createAddLineCommentsOperations=function(t,e){for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n];r.ignore||i.push(a.a.insert(new l.a(e+n,r.commentStrOffset+1),r.commentStr+" "))}return i},g.nextVisibleColumn=function(t,e,i,n){return i?t+(e-t%e):t+n},g._normalizeInsertionPoint=function(t,e,i,n){for(var o,r,s=Number.MAX_VALUE,a=0,l=e.length;a<l;a++)if(!e[a].ignore){for(var u=t.getLineContent(i+a),h=0,c=0,d=e[a].commentStrOffset;h<s&&c<d;c++)h=g.nextVisibleColumn(h,n,9===u.charCodeAt(c),1);h<s&&(s=h)}for(s=Math.floor(s/n)*n,a=0,l=e.length;a<l;a++)if(!e[a].ignore){for(u=t.getLineContent(i+a),o=h=0,r=e[a].commentStrOffset;h<s&&o<r;o++)h=g.nextVisibleColumn(h,n,9===u.charCodeAt(o),1);e[a].commentStrOffset=s<h?o-1:o}},g);function g(t,e,i){this._selection=t,this._tabSize=e,this._type=i,this._deltaColumn=0}var d,m,_=i(31),b=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),w=(m=r.b,b(C,m),C.prototype.run=function(t,e){if(e.hasModel()){for(var i=e.getModel(),n=[],o=e.getSelections(),r=i.getOptions(),s=0;s<o.length;s++)n.push(new h(o[s],r.tabSize,this._type));e.pushUndoStop(),e.executeCommands(this.id,n),e.pushUndoStop()}},C);function C(t,e){var i=m.call(this,e)||this;return i._type=t,i}var S,x=(b(k,S=w),k);function k(){return S.call(this,0,{id:"editor.action.commentLine",label:n.a("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:s.a.writable,kbOpts:{kbExpr:s.a.editorTextFocus,primary:2133,weight:100},menubarOpts:{menuId:_.b.MenubarEditMenu,group:"5_insert",title:n.a({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})||this}var O,E=(b(L,O=w),L);function L(){return O.call(this,1,{id:"editor.action.addCommentLine",label:n.a("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:s.a.writable,kbOpts:{kbExpr:s.a.editorTextFocus,primary:Object(o.a)(2089,2081),weight:100}})||this}var D,I=(b(N,D=w),N);function N(){return D.call(this,2,{id:"editor.action.removeCommentLine",label:n.a("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:s.a.writable,kbOpts:{kbExpr:s.a.editorTextFocus,primary:Object(o.a)(2089,2099),weight:100}})||this}var T,M=(T=r.b,b(A,T),A.prototype.run=function(t,e){if(e.hasModel()){for(var i=[],n=e.getSelections(),o=0;o<n.length;o++)i.push(new p(n[o]));e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()}},A);function A(){return T.call(this,{id:"editor.action.blockComment",label:n.a("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:s.a.writable,kbOpts:{kbExpr:s.a.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menubarOpts:{menuId:_.b.MenubarEditMenu,group:"5_insert",title:n.a({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})||this}Object(r.f)(x),Object(r.f)(E),Object(r.f)(I),Object(r.f)(M)},function(t,e,i){"use strict";i.r(e);var n,o,r=i(0),a=i(21),s=i(38),l=i(4),u=i(10),h=i(3),c=i(11),d=i(13),p=i(30),f=i(2),g=i(56),m=i(17),v=i(29),y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=(o=Error,y(b,o),b.Name="NOPRO",b);function b(t){var e=o.call(this)||this;return e.name=b.Name,e.message=t,e}function w(e,i,n,o){var t=c.i.ordered(e);return 0===t.length?Promise.reject(new _):Object(m.h)(t.map(function(t){return function(){return Promise.resolve(t.provideDocumentRangeFormattingEdits(e,i,n,o)).then(void 0,d.f)}}),function(t){return!Object(a.k)(t)})}function C(e,i,n){var t=c.f.ordered(e);return 0===t.length?w(e,e.getFullModelRange(),i,n):Object(m.h)(t.map(function(t){return function(){return Promise.resolve(t.provideDocumentFormattingEdits(e,i,n)).then(void 0,d.f)}}),function(t){return!Object(a.k)(t)})}function S(t,e,i,n){var o=c.q.ordered(t)[0];return o?o.autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(o.provideOnTypeFormattingEdits(t,e,i,n,v.a.None)).then(function(t){return t},d.f):Promise.resolve(void 0)}Object(h.j)("_executeFormatRangeProvider",function(t,e){var i=e.resource,n=e.range,o=e.options;if(!(i instanceof p.a&&f.a.isIRange(n)))throw Object(d.b)();var r=t.get(g.a).getModel(i);if(!r)throw Object(d.b)("resource");return w(r,f.a.lift(n),o,v.a.None)}),Object(h.j)("_executeFormatDocumentProvider",function(t,e){var i=e.resource,n=e.options;if(!(i instanceof p.a))throw Object(d.b)("resource");var o=t.get(g.a).getModel(i);if(!o)throw Object(d.b)("resource");return C(o,n,v.a.None)}),Object(h.e)("_executeFormatOnTypeProvider",function(t,e,i){var n=i.ch,o=i.options;if("string"!=typeof n)throw Object(d.b)("ch");return S(t,e,n,o)});var x=i(53),k=(O._handleEolEdits=function(t,e){for(var i=void 0,n=[],o=0,r=e;o<r.length;o++){var s=r[o];"number"==typeof s.eol&&(i=s.eol),s.range&&"string"==typeof s.text&&n.push(s)}return"number"==typeof i&&t.getModel().pushEOL(i),n},O._isFullModelReplaceEdit=function(t,e){var i=t.getModel(),n=i.validateRange(e.range);return i.getFullModelRange().equalsRange(n)},O.execute=function(t,e){t.pushUndoStop();var i=O._handleEolEdits(t,e);1===i.length&&O._isFullModelReplaceEdit(t,i[0])?t.executeEdits("formatEditsCommand",i.map(function(t){return x.a.replace(f.a.lift(t.range),t.text)})):t.executeEdits("formatEditsCommand",i.map(function(t){return x.a.replaceMove(f.a.lift(t.range),t.text)})),t.pushUndoStop()},O);function O(){}var E=i(37),L=i(34),D=i(81),I=i(98),N=i(50),T=i(91),M=i(6),A=i(44);i.d(e,"AbstractFormatAction",function(){return q}),i.d(e,"FormatDocumentAction",function(){return Y}),i.d(e,"FormatSelectionAction",function(){return X});var P,R=(P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),F=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},j=function(i,n){return function(t,e){n(t,e,i)}};function B(t){if((t=t.filter(function(t){return t.range})).length){for(var e=t[0].range,i=1;i<t.length;i++)e=f.a.plusRange(e,t[i].range);var n=e.startLineNumber,o=e.endLineNumber;n===o?1===t.length?Object(N.a)(r.a("hint11","Made 1 formatting edit on line {0}",n)):Object(N.a)(r.a("hintn1","Made {0} formatting edits on line {1}",t.length,n)):1===t.length?Object(N.a)(r.a("hint1n","Made 1 formatting edit between lines {0} and {1}",n,o)):Object(N.a)(r.a("hintnn","Made {0} formatting edits between lines {1} and {2}",t.length,n,o))}}var H=(W.prototype.update=function(){var i=this;if(this.callOnModel=Object(l.d)(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnType&&this.editor.getModel()){var t=this.editor.getModel(),e=c.q.ordered(t)[0];if(e&&e.autoFormatTriggerCharacters){for(var n=new I.b,o=0,r=e.autoFormatTriggerCharacters;o<r.length;o++){var s=r[o];n.add(s.charCodeAt(0))}this.callOnModel.push(this.editor.onDidType(function(t){var e=t.charCodeAt(t.length-1);n.has(e)&&i.trigger(String.fromCharCode(e))}))}}},W.prototype.trigger=function(t){var e=this;if(!(1<this.editor.getSelections().length)){var i=this.editor.getModel(),n=this.editor.getPosition(),o=!1,r=this.editor.onDidChangeModelContent(function(t){if(t.isFlush)return o=!0,void r.dispose();for(var e=0,i=t.changes.length;e<i;e++)if(t.changes[e].range.endLineNumber<=n.lineNumber)return o=!0,void r.dispose()}),s=i.getOptions();S(i,n,t,{tabSize:s.tabSize,insertSpaces:s.insertSpaces}).then(function(t){return e.workerService.computeMoreMinimalEdits(i.uri,t)}).then(function(t){r.dispose(),o||Object(a.k)(t)||(k.execute(e.editor,t),B(t))},function(t){throw r.dispose(),t})}},W.prototype.getId=function(){return W.ID},W.prototype.dispose=function(){this.callOnDispose=Object(l.d)(this.callOnDispose),this.callOnModel=Object(l.d)(this.callOnModel)},W.ID="editor.contrib.autoFormat",W=F([j(1,D.a)],W));function W(t,e){var i=this;this.editor=t,this.workerService=e,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(t.onDidChangeConfiguration(function(){return i.update()})),this.callOnDispose.push(t.onDidChangeModel(function(){return i.update()})),this.callOnDispose.push(t.onDidChangeModelLanguage(function(){return i.update()})),this.callOnDispose.push(c.q.onDidChange(this.update,this))}var V=(z.prototype.update=function(){var e=this;if(this.callOnModel=Object(l.d)(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.getModel()){var t=this.editor.getModel(),i=c.i.ordered(t)[0];i&&i.provideDocumentRangeFormattingEdits&&this.callOnModel.push(this.editor.onDidPaste(function(t){e.trigger(t)}))}},z.prototype.trigger=function(t){var e=this;if(!(1<this.editor.getSelections().length)){var i=this.editor.getModel(),n=i.getOptions(),o=n.tabSize,r=n.insertSpaces,s=new T.a(this.editor,5);w(i,t,{tabSize:o,insertSpaces:r},v.a.None).then(function(t){return e.workerService.computeMoreMinimalEdits(i.uri,t)}).then(function(t){s.validate(e.editor)&&!Object(a.k)(t)&&(k.execute(e.editor,t),B(t))})}},z.prototype.getId=function(){return z.ID},z.prototype.dispose=function(){this.callOnDispose=Object(l.d)(this.callOnDispose),this.callOnModel=Object(l.d)(this.callOnModel)},z.ID="editor.contrib.formatOnPaste",z=F([j(1,D.a)],z));function z(t,e){var i=this;this.editor=t,this.workerService=e,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(t.onDidChangeConfiguration(function(){return i.update()})),this.callOnDispose.push(t.onDidChangeModel(function(){return i.update()})),this.callOnDispose.push(t.onDidChangeModelLanguage(function(){return i.update()})),this.callOnDispose.push(c.i.onDidChange(this.update,this))}var U,q=(U=h.b,R(K,U),K.prototype.run=function(t,e){var i=this,n=t.get(D.a),o=t.get(A.a),r=this._getFormattingEdits(e,v.a.None);if(!r)return Promise.resolve(void 0);var s=new T.a(e,5);return r.then(function(t){return n.computeMoreMinimalEdits(e.getModel().uri,t)}).then(function(t){s.validate(e)&&!Object(a.k)(t)&&(k.execute(e,t),B(t),e.focus(),e.revealPositionInCenterIfOutsideViewport(e.getPosition(),1))},function(t){if(!(t instanceof Error&&t.name===_.Name))throw t;i._notifyNoProviderError(o,e.getModel().getLanguageIdentifier().language)})},K.prototype._notifyNoProviderError=function(t,e){t.info(r.a("no.provider","There is no formatter for '{0}'-files installed.",e))},K);function K(){return null!==U&&U.apply(this,arguments)||this}var G,Y=(R($,G=q),$.prototype._getFormattingEdits=function(t,e){var i=t.getModel(),n=i.getOptions();return C(i,{tabSize:n.tabSize,insertSpaces:n.insertSpaces},e)},$.prototype._notifyNoProviderError=function(t,e){t.info(r.a("no.documentprovider","There is no document formatter for '{0}'-files installed.",e))},$);function $(){return G.call(this,{id:"editor.action.formatDocument",label:r.a("formatDocument.label","Format Document"),alias:"Format Document",precondition:M.a.writable,kbOpts:{kbExpr:M.a.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},menuOpts:{when:M.a.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}var Z,X=(R(J,Z=q),J.prototype._getFormattingEdits=function(t,e){var i=t.getModel(),n=t.getSelection();if(n.isEmpty()){var o=i.getLineMaxColumn(n.startLineNumber);n=(n=n.setStartPosition(n.startLineNumber,1)).setEndPosition(n.endLineNumber,o)}var r=i.getOptions();return w(i,n,{tabSize:r.tabSize,insertSpaces:r.insertSpaces},e)},J.prototype._notifyNoProviderError=function(t,e){t.info(r.a("no.selectionprovider","There is no selection formatter for '{0}'-files installed.",e))},J);function J(){return Z.call(this,{id:"editor.action.formatSelection",label:r.a("formatSelection.label","Format Selection"),alias:"Format Code",precondition:u.d.and(M.a.writable),kbOpts:{kbExpr:M.a.editorTextFocus,primary:Object(s.a)(2089,2084),weight:100},menuOpts:{when:u.d.and(M.a.hasDocumentSelectionFormattingProvider,M.a.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}Object(h.h)(H),Object(h.h)(V),Object(h.f)(Y),Object(h.f)(X),E.a.registerCommand("editor.action.format",function(t){var e,i=t.get(L.a).getFocusedCodeEditor();if(i)return(R(n,e=q),n.prototype._getFormattingEdits=function(t,e){var i=t.getModel(),n=t.getSelection(),o=i.getOptions(),r=o.tabSize,s=o.insertSpaces;return n.isEmpty()?C(i,{tabSize:r,insertSpaces:s},e):w(i,n,{tabSize:r,insertSpaces:s},e)},new n).run(t,i);function n(){return e.call(this,{})||this}})},function(t,e,i){"use strict";i.r(e);var h=i(0),c=i(4),n=i(18),o=i(6),r=i(10),s=i(3),d=(i(319),i(1)),p=i(50),u=i(11),a=i(17),l=i(13),f=i(5),g=i(45),m=i(29),v={Visible:new r.f("parameterHintsVisible",!1),MultipleSignatures:new r.f("parameterHintsMultipleSignatures",!1)};function y(e,i,n,o){var t=u.t.ordered(e);return Object(a.h)(t.map(function(t){return function(){return Promise.resolve(t.provideSignatureHelp(e,i,o,n)).catch(l.f)}}))}Object(s.e)("_executeSignatureHelpProvider",function(t,e){return y(t,e,{triggerReason:u.u.Invoke,isRetrigger:!1},m.a.None)});var _,b,w=i(79),C=i(98),S=i(16),x=i(7),k=i(80),O=i(82),E=i(154),L=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),D=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},I=function(i,n){return function(t,e){n(t,e,i)}},N=d.a,T=(b=c.a,L(M,b),M.prototype.cancel=function(t){void 0===t&&(t=!1),this.active=!1,this.pending=!1,this.triggerContext=void 0,this.throttledDelayer.cancel(),t||this._onCancel.fire(void 0),this.provideSignatureHelpRequest&&(this.provideSignatureHelpRequest.cancel(),this.provideSignatureHelpRequest=void 0)},M.prototype.trigger=function(t,e){if(u.t.has(this.editor.getModel())){var i=this.isTriggered;return this.cancel(!0),this.triggerContext={triggerReason:t.triggerReason,triggerCharacter:t.triggerCharacter,isRetrigger:i},this.throttledDelayer.schedule(e)}},M.prototype.doTrigger=function(){var i=this;this.provideSignatureHelpRequest&&this.provideSignatureHelpRequest.cancel(),this.pending=!0;var e=this.triggerContext||{triggerReason:u.u.Invoke,isRetrigger:!1};this.triggerContext=void 0,this.provideSignatureHelpRequest=Object(a.g)(function(t){return y(i.editor.getModel(),i.editor.getPosition(),e,t)}),this.provideSignatureHelpRequest.then(function(t){if(i.pending=!1,!t||!t.signatures||0===t.signatures.length)return i.cancel(),i._onCancel.fire(void 0),!1;i.active=!0;var e={hints:t};return i._onHint.fire(e),!0}).catch(function(t){i.pending=!1,Object(l.e)(t)})},Object.defineProperty(M.prototype,"isTriggered",{get:function(){return this.active||this.pending||this.throttledDelayer.isScheduled()},enumerable:!0,configurable:!0}),M.prototype.onModelChanged=function(){this.cancel(),this.triggerChars=new C.b,this.retriggerChars=new C.b;var t=this.editor.getModel();if(t)for(var e=0,i=u.t.ordered(t);e<i.length;e++){var n=i[e];if(Array.isArray(n.signatureHelpTriggerCharacters))for(var o=0,r=n.signatureHelpTriggerCharacters;o<r.length;o++){var s=r[o];this.triggerChars.add(s.charCodeAt(0)),this.retriggerChars.add(s.charCodeAt(0))}if(Array.isArray(n.signatureHelpRetriggerCharacters))for(var a=0,l=n.signatureHelpRetriggerCharacters;a<l.length;a++)s=l[a],this.retriggerChars.add(s.charCodeAt(0))}},M.prototype.onDidType=function(t){if(this.enabled){var e=t.length-1,i=t.charCodeAt(e);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerReason:u.u.TriggerCharacter,triggerCharacter:t.charAt(e)})}},M.prototype.onCursorChange=function(t){"mouse"===t.source?this.cancel():this.isTriggered&&this.trigger({triggerReason:u.u.ContentChange})},M.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerReason:u.u.ContentChange})},M.prototype.onEditorConfigurationChange=function(){this.enabled=this.editor.getConfiguration().contribInfo.parameterHints.enabled,this.enabled||this.cancel()},M.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=Object(c.d)(this.triggerCharactersListeners),b.prototype.dispose.call(this)},M.DEFAULT_DELAY=120,M);function M(t,e){void 0===e&&(e=M.DEFAULT_DELAY);var i=b.call(this)||this;return i._onHint=i._register(new f.a),i.onHint=i._onHint.event,i._onCancel=i._register(new f.a),i.onCancel=i._onCancel.event,i.active=!1,i.pending=!1,i.triggerChars=new C.b,i.retriggerChars=new C.b,i.editor=t,i.enabled=!1,i.triggerCharactersListeners=[],i.throttledDelayer=new a.d(function(){return i.doTrigger()},e),i._register(i.editor.onDidChangeConfiguration(function(){return i.onEditorConfigurationChange()})),i._register(i.editor.onDidChangeModel(function(t){return i.onModelChanged()})),i._register(i.editor.onDidChangeModelLanguage(function(t){return i.onModelChanged()})),i._register(i.editor.onDidChangeCursorSelection(function(t){return i.onCursorChange(t)})),i._register(i.editor.onDidChangeModelContent(function(t){return i.onModelContentChange()})),i._register(u.t.onDidChange(i.onModelChanged,i)),i._register(i.editor.onDidType(function(t){return i.onDidType(t)})),i.onEditorConfigurationChange(),i.onModelChanged(),i}var A=(P.prototype.createParamaterHintDOMNodes=function(){var e=this;this.element=N(".editor-widget.parameter-hints-widget");var t=d.l(this.element,N(".wrapper")),i=d.l(t,N(".buttons")),n=d.l(i,N(".button.previous")),o=d.l(i,N(".button.next"));Object(g.b)(Object(g.a)(n,"click"))(this.previous,this,this.disposables),Object(g.b)(Object(g.a)(o,"click"))(this.next,this,this.disposables),this.overloads=d.l(t,N(".overloads"));var r=N(".body");function s(){var t=e.editor.getConfiguration().fontInfo;e.element.style.fontSize=t.fontSize+"px"}this.scrollbar=new w.a(r,{}),this.disposables.push(this.scrollbar),t.appendChild(this.scrollbar.getDomNode()),this.signature=d.l(r,N(".signature")),this.docs=d.l(r,N(".docs")),this.currentSignature=0,this.editor.addContentWidget(this),this.hide(),this.element.style.userSelect="text",this.disposables.push(this.editor.onDidChangeCursorSelection(function(t){e.visible&&e.editor.layoutContentWidget(e)})),s(),Object(f.g)(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(t){return t.fontInfo}).on(s,null,this.disposables),this.disposables.push(this.editor.onDidLayoutChange(function(t){return e.updateMaxHeight()})),this.updateMaxHeight()},P.prototype.show=function(){var t=this;this.model&&!this.visible&&(this.element||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(function(){return d.f(t.element,"visible")},100),this.editor.layoutContentWidget(this))},P.prototype.hide=function(){this.model&&this.visible&&(this.element||this.createParamaterHintDOMNodes(),this.keyVisible.reset(),this.visible=!1,this.hints=null,this.announcedLabel=null,d.G(this.element,"visible"),this.editor.layoutContentWidget(this))},P.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null},P.prototype.render=function(){var t=1<this.hints.signatures.length;d.P(this.element,"multiple",t),this.keyMultipleSignatures.set(t),this.signature.innerHTML="",this.docs.innerHTML="";var e=this.hints.signatures[this.currentSignature];if(e){var i=d.l(this.signature,N(".code")),n=0<e.parameters.length,o=this.editor.getConfiguration().fontInfo;i.style.fontSize=o.fontSize+"px",i.style.fontFamily=o.fontFamily,n?this.renderParameters(i,e,this.hints.activeParameter):d.l(i,N("span")).textContent=e.label,Object(c.d)(this.renderDisposeables),this.renderDisposeables=[];var r=e.parameters[this.hints.activeParameter];if(r&&r.documentation){var s=N("span.documentation");if("string"==typeof r.documentation)s.textContent=r.documentation;else{var a=this.markdownRenderer.render(r.documentation);d.f(a.element,"markdown-docs"),this.renderDisposeables.push(a),s.appendChild(a.element)}d.l(this.docs,N("p",null,s))}d.P(this.signature,"has-docs",!!e.documentation),"string"==typeof e.documentation?d.l(this.docs,N("p",null,e.documentation)):(a=this.markdownRenderer.render(e.documentation),d.f(a.element,"markdown-docs"),this.renderDisposeables.push(a),d.l(this.docs,a.element));var l=String(this.currentSignature+1);if(this.hints.signatures.length<10&&(l+="/"+this.hints.signatures.length),this.overloads.textContent=l,r){var u=this.getParameterLabel(e,this.hints.activeParameter);this.announcedLabel!==u&&(p.a(h.a("hint","{0}, hint",u)),this.announcedLabel=u)}this.editor.layoutContentWidget(this),this.scrollbar.scanDomNode()}},P.prototype.renderParameters=function(t,e,i){var n=this.getParameterLabelOffsets(e,i),o=n[0],r=n[1],s=document.createElement("span");s.textContent=e.label.substring(0,o);var a=document.createElement("span");a.textContent=e.label.substring(o,r),a.className="parameter active";var l=document.createElement("span");l.textContent=e.label.substring(r),d.l(t,s,a,l)},P.prototype.getParameterLabel=function(t,e){var i=t.parameters[e];return"string"==typeof i.label?i.label:t.label.substring(i.label[0],i.label[1])},P.prototype.getParameterLabelOffsets=function(t,e){var i=t.parameters[e];if(i){if(Array.isArray(i.label))return i.label;var n=t.label.lastIndexOf(i.label);return 0<=n?[n,n+i.label.length]:[0,0]}return[0,0]},P.prototype.next=function(){var t=this.hints.signatures.length,e=this.currentSignature%t==t-1,i=this.editor.getConfiguration().contribInfo.parameterHints.cycle;return(t<2||e)&&!i?(this.cancel(),!1):(e&&i?this.currentSignature=0:this.currentSignature++,this.render(),!0)},P.prototype.previous=function(){var t=this.hints.signatures.length,e=0===this.currentSignature,i=this.editor.getConfiguration().contribInfo.parameterHints.cycle;return(t<2||e)&&!i?(this.cancel(),!1):(e&&i?this.currentSignature=t-1:this.currentSignature--,this.render(),!0)},P.prototype.cancel=function(){this.model.cancel()},P.prototype.getDomNode=function(){return this.element},P.prototype.getId=function(){return P.ID},P.prototype.trigger=function(t){this.model.trigger(t,0)},P.prototype.updateMaxHeight=function(){var t=Math.max(this.editor.getLayoutInfo().height/4,250);this.element.style.maxHeight=t+"px"},P.prototype.dispose=function(){this.disposables=Object(c.d)(this.disposables),this.renderDisposeables=Object(c.d)(this.renderDisposeables),this.model&&(this.model.dispose(),this.model=null)},P.ID="editor.widget.parameterHintsWidget",P=D([I(1,r.e),I(2,k.a),I(3,O.a)],P));function P(t,e,i,n){var o=this;this.editor=t,this.allowEditorOverflow=!0,this.markdownRenderer=new E.a(t,n,i),this.model=new T(t),this.keyVisible=v.Visible.bindTo(e),this.keyMultipleSignatures=v.MultipleSignatures.bindTo(e),this.visible=!1,this.disposables=[],this.disposables.push(this.model.onHint(function(t){o.show(),o.hints=t.hints,o.currentSignature=t.hints.activeSignature,o.render()})),this.disposables.push(this.model.onCancel(function(){o.hide()}))}Object(S.e)(function(t,e){var i=t.getColor(x.w);if(i){var n=t.type===S.b?2:1;e.addRule(".monaco-editor .parameter-hints-widget { border: "+n+"px solid "+i+"; }"),e.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+i.transparent(.5)+"; }"),e.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+i.transparent(.5)+"; }")}var o=t.getColor(x.v);o&&e.addRule(".monaco-editor .parameter-hints-widget { background-color: "+o+"; }");var r=t.getColor(x.Eb);r&&e.addRule(".monaco-editor .parameter-hints-widget a { color: "+r+"; }");var s=t.getColor(x.Db);s&&e.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+s+"; }")}),i.d(e,"TriggerParameterHintsAction",function(){return z});var R,F=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),j=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},B=function(i,n){return function(t,e){n(t,e,i)}},H=(W.get=function(t){return t.getContribution(W.ID)},W.prototype.getId=function(){return W.ID},W.prototype.cancel=function(){this.widget.cancel()},W.prototype.previous=function(){this.widget.previous()},W.prototype.next=function(){this.widget.next()},W.prototype.trigger=function(t){this.widget.trigger(t)},W.prototype.dispose=function(){this.widget=Object(c.d)(this.widget)},W.ID="editor.controller.parameterHints",W=j([B(1,n.a)],W));function W(t,e){this.editor=t,this.widget=e.createInstance(A,this.editor)}var V,z=(V=s.b,F(U,V),U.prototype.run=function(t,e){var i=H.get(e);i&&i.trigger({triggerReason:u.u.Invoke})},U);function U(){return V.call(this,{id:"editor.action.triggerParameterHints",label:h.a("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:o.a.hasSignatureHelpProvider,kbOpts:{kbExpr:o.a.editorTextFocus,primary:3082,weight:100}})||this}Object(s.h)(H),Object(s.f)(z);var q=s.c.bindToContribution(H.get);Object(s.g)(new q({id:"closeParameterHints",precondition:v.Visible,handler:function(t){return t.cancel()},kbOpts:{weight:175,kbExpr:o.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(s.g)(new q({id:"showPrevParameterHint",precondition:r.d.and(v.Visible,v.MultipleSignatures),handler:function(t){return t.previous()},kbOpts:{weight:175,kbExpr:o.a.editorTextFocus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(s.g)(new q({id:"showNextParameterHint",precondition:r.d.and(v.Visible,v.MultipleSignatures),handler:function(t){return t.next()},kbOpts:{weight:175,kbExpr:o.a.editorTextFocus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},function(t,e,i){"use strict";i.r(e);var n,s=i(0),o=i(5),r=i(4),a=i(10),c=i(52),l=i(2),u=i(3),h=i(16),d=i(6),y=(i(308),i(1)),p=i(183),f=i(7),g=i(12),m=i(28),v=i(79),_=i(172),b=i(21),w=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),C=(S.prototype.dispose=function(){Object(r.d)(this._disposables)},S.prototype.update=function(t){var e=t.source,i=t.message,n=t.relatedInformation,o=t.code;if(e){this._lines=0,this._longestLineLength=0;for(var r=new Array(e.length+3+1).join(" "),s=i.split(/\r\n|\r|\n/g),a=0;a<s.length;a++){var l=s[a];this._lines+=1,o&&a===s.length-1&&(l+=" ["+o+"]"),this._longestLineLength=Math.max(l.length,this._longestLineLength),0===a?i="["+e+"] "+l:i+="\n"+r+l}}else this._lines=1,o&&(i+=" ["+o+"]"),this._longestLineLength=i.length;if(y.m(this._relatedBlock),!Object(b.k)(n)){this._relatedBlock.style.paddingTop=Math.floor(.66*this._editor.getConfiguration().lineHeight)+"px",this._lines+=1;for(var u=0,h=n||[];u<h.length;u++){var c=h[u],d=document.createElement("div"),p=document.createElement("span");y.f(p,"filename"),p.innerHTML=Object(_.a)(c.resource)+"("+c.startLineNumber+", "+c.startColumn+"): ",p.title=Object(_.b)(c.resource,void 0),this._relatedDiagnostics.set(p,c);var f=document.createElement("span");f.innerText=c.message,this._editor.applyFontInfo(f),d.appendChild(p),d.appendChild(f),this._lines+=1,this._relatedBlock.appendChild(d)}}this._messageBlock.innerText=i,this._editor.applyFontInfo(this._messageBlock);var g=this._editor.getConfiguration().fontInfo,m=Math.ceil(g.typicalFullwidthCharacterWidth*this._longestLineLength*.75),v=g.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:m,scrollHeight:v})},S.prototype.layout=function(t,e){this._scrollable.getDomNode().style.height=t+"px",this._scrollable.setScrollDimensions({width:e,height:t})},S.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},S);function S(t,e,i){var n=this;this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=[],this._editor=e;var o=document.createElement("div");o.className="descriptioncontainer",o.setAttribute("aria-live","assertive"),o.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.push(y.k(this._relatedBlock,"click",function(t){t.preventDefault();var e=n._relatedDiagnostics.get(t.target);e&&i(e)})),this._scrollable=new v.b(o,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),y.f(this._scrollable.getDomNode(),"block"),t.appendChild(this._scrollable.getDomNode()),this._disposables.push(this._scrollable.onScroll(function(t){o.style.left="-"+t.scrollLeft+"px",o.style.top="-"+t.scrollTop+"px"})),this._disposables.push(this._scrollable)}var x,k=(x=p.a,w(O,x),O.prototype._applyTheme=function(t){this._backgroundColor=t.getColor(A);var e=N;this._severity===c.b.Warning?e=T:this._severity===c.b.Info&&(e=M);var i=t.getColor(e);this.style({arrowColor:i,frameColor:i})},O.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),x.prototype._applyStyles.call(this)},O.prototype.dispose=function(){this._callOnDispose=Object(r.d)(this._callOnDispose),x.prototype.dispose.call(this)},O.prototype.focus=function(){this._parentContainer.focus()},O.prototype._fillContainer=function(t){var e=this;this._parentContainer=t,y.f(t,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._title=document.createElement("div"),this._title.className="block title",this._container.appendChild(this._title),this._message=new C(this._container,this.editor,function(t){return e._onDidSelectRelatedInformation.fire(t)}),this._disposables.push(this._message)},O.prototype.show=function(t,e){throw new Error("call showAtMarker")},O.prototype.showAtMarker=function(t,e,i){this._container.classList.remove("stale"),this._title.innerHTML=s.a("title.wo_source","({0}/{1})",e,i),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var n=l.a.lift(t),o=this.editor.getPosition(),r=o&&n.containsPosition(o)?o:n.getStartPosition();x.prototype.show.call(this,r,this.computeRequiredHeight()),this.editor.revealPositionInCenter(r,0),1!==this.editor.getConfiguration().accessibilitySupport&&this.focus()},O.prototype.updateMarker=function(t){this._container.classList.remove("stale"),this._message.update(t)},O.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},O.prototype._doLayout=function(t,e){this._message.layout(t,e),this._container.style.height=t+"px"},O.prototype._relayout=function(){x.prototype._relayout.call(this,this.computeRequiredHeight())},O.prototype.computeRequiredHeight=function(){return 1+this._message.getHeightInLines()},O);function O(t,e){var i=x.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return i._themeService=e,i._callOnDispose=[],i._onDidSelectRelatedInformation=new o.a,i.onDidSelectRelatedInformation=i._onDidSelectRelatedInformation.event,i._severity=c.b.Warning,i._backgroundColor=g.a.white,i._applyTheme(e.getTheme()),i._callOnDispose.push(e.onThemeChange(i._applyTheme.bind(i))),i.create(),i}var E,L=Object(f.ob)(m.i,m.h),D=Object(f.ob)(m.w,m.v),I=Object(f.ob)(m.n,m.m),N=Object(f.ub)("editorMarkerNavigationError.background",{dark:L,light:L,hc:L},s.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),T=Object(f.ub)("editorMarkerNavigationWarning.background",{dark:D,light:D,hc:D},s.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),M=Object(f.ub)("editorMarkerNavigationInfo.background",{dark:I,light:I,hc:I},s.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),A=Object(f.ub)("editorMarkerNavigation.background",{dark:"#2D2D30",light:g.a.white,hc:"#0C141F"},s.a("editorMarkerNavigationBackground","Editor marker navigation widget background.")),P=i(8),R=i(34),F=i(13),j=(E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),B=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},H=function(i,n){return function(t,e){n(t,e,i)}},W=(Object.defineProperty(V.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),V.prototype.setMarkers=function(t){var e=0<=this._nextIdx?this._markers[this._nextIdx]:void 0;this._markers=t||[],this._markers.sort(K.compareMarker),this._nextIdx=e?Math.max(-1,Object(b.b)(this._markers,e,K.compareMarker)):-1,this._onMarkerSetChanged.fire(this)},V.prototype.withoutWatchingEditorPosition=function(t){this._ignoreSelectionChange=!0;try{t()}finally{this._ignoreSelectionChange=!1}},V.prototype._initIdx=function(t){for(var e=!1,i=this._editor.getPosition(),n=0;n<this._markers.length;n++){var o=l.a.lift(this._markers[n]);if(o.isEmpty()){var r=this._editor.getModel().getWordAtPosition(o.getStartPosition());r&&(o=new l.a(o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn))}if(o.containsPosition(i)||i.isBeforeOrEqual(o.getStartPosition())){this._nextIdx=n,e=!0;break}}e||(this._nextIdx=t?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(V.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},enumerable:!0,configurable:!0}),V.prototype.move=function(t,e){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!e;var i=this._nextIdx,n=!1;if(-1===this._nextIdx?this._initIdx(t):t?e||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:n=!0:t||(e||0<this._nextIdx?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:n=!0),i!==this._nextIdx){var o=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(o)}return n},V.prototype.canNavigate=function(){return 0<this._markers.length},V.prototype.findMarkerAtPosition=function(t){for(var e=0,i=this._markers;e<i.length;e++){var n=i[e];if(l.a.containsPosition(n,t))return n}},Object.defineProperty(V.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),V.prototype.indexOf=function(t){return 1+this._markers.indexOf(t)},V.prototype.dispose=function(){this._toUnbind=Object(r.d)(this._toUnbind)},V);function V(t,e){var i=this;this._editor=t,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new o.a,this._onMarkerSetChanged=new o.a,this.setMarkers(e),this._toUnbind.push(this._editor.onDidDispose(function(){return i.dispose()})),this._toUnbind.push(this._editor.onDidChangeCursorPosition(function(){i._ignoreSelectionChange||i.currentMarker&&l.a.containsPosition(i.currentMarker,i._editor.getPosition())||(i._nextIdx=-1)}))}var z=(U.get=function(t){return t.getContribution(U.ID)},U.prototype.getId=function(){return U.ID},U.prototype.dispose=function(){this._cleanUp()},U.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose=Object(r.d)(this._disposeOnClose),this._widget=null,this._model=null},U.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();return this._model=new W(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose),this._widget=new k(this._editor,this._themeService),this._widgetVisible.set(!0),this._disposeOnClose.push(this._model),this._disposeOnClose.push(this._widget),this._disposeOnClose.push(this._widget.onDidSelectRelatedInformation(function(t){e._editorService.openCodeEditor({resource:t.resource,options:{pinned:!0,revealIfOpened:!0,selection:l.a.lift(t).collapseToStart()}},e._editor).then(void 0,F.e),e.closeMarkersNavigation(!1)})),this._disposeOnClose.push(this._editor.onDidChangeModel(function(){return e._cleanUp()})),this._disposeOnClose.push(this._model.onCurrentMarkerChanged(function(t){t?e._model.withoutWatchingEditorPosition(function(){e._widget.showAtMarker(t,e._model.indexOf(t),e._model.total)}):e._cleanUp()})),this._disposeOnClose.push(this._model.onMarkerSetChanged(function(){var t=e._model.findMarkerAtPosition(e._widget.position);t?e._widget.updateMarker(t):e._widget.showStale()})),this._model},U.prototype.closeMarkersNavigation=function(t){void 0===t&&(t=!0),this._cleanUp(),t&&this._editor.focus()},U.prototype._onMarkerChanged=function(t){var e=this;t.some(function(t){return e._editor.getModel().uri.toString()===t.toString()})&&this._model.setMarkers(this._getMarkers())},U.prototype._getMarkers=function(){return this._markerService.read({resource:this._editor.getModel().uri,severities:c.b.Error|c.b.Warning|c.b.Info})},U.ID="editor.contrib.markerController",U=B([H(1,c.a),H(2,a.e),H(3,h.c),H(4,R.a)],U));function U(t,e,i,n,o){this._markerService=e,this._contextKeyService=i,this._themeService=n,this._editorService=o,this._disposeOnClose=[],this._editor=t,this._widgetVisible=st.bindTo(this._contextKeyService)}var q,K=(q=u.b,j(G,q),G.prototype.run=function(t,e){var i=this,n=t.get(c.a),o=t.get(R.a),r=z.get(e);if(r){var s=r.getOrCreateModel();if(s.move(this._isNext,!this._multiFile)&&this._multiFile){var a=n.read({severities:c.b.Error|c.b.Warning|c.b.Info}).sort(G.compareMarker);if(0!==a.length){var l=s.currentMarker||{resource:e.getModel().uri,severity:c.b.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},u=Object(b.b)(a,l,G.compareMarker);u<0?(u=~u,u%=a.length):u=this._isNext?(u+1)%a.length:(u+a.length-1)%a.length;var h=a[u];if(h.resource.toString()!==e.getModel().uri.toString())return r.closeMarkersNavigation(),o.openCodeEditor({resource:h.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:h}},e).then(function(t){if(t)return t.getAction(i.id).run()});s.move(this._isNext,!0)}}}},G.compareMarker=function(t,e){var i=Object(P.d)(t.resource.toString(),e.resource.toString());return 0===i&&(i=c.b.compare(t.severity,e.severity)),0===i&&(i=l.a.compareRangesUsingStarts(t,e)),i},G);function G(t,e,i){var n=q.call(this,i)||this;return n._isNext=t,n._multiFile=e,n}var Y,$=(j(Z,Y=K),Z);function Z(){return Y.call(this,!0,!1,{id:"editor.action.marker.next",label:s.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),alias:"Go to Next Error or Warning",precondition:d.a.writable})||this}var X,J=(j(Q,X=K),Q);function Q(){return X.call(this,!1,!1,{id:"editor.action.marker.prev",label:s.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),alias:"Go to Previous Error or Warning",precondition:d.a.writable})||this}var tt,et=(j(it,tt=K),it);function it(){return tt.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:s.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Error or Warning in Files",precondition:d.a.writable,kbOpts:{kbExpr:d.a.focus,primary:66,weight:100}})||this}var nt,ot=(j(rt,nt=K),rt);function rt(){return nt.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:s.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Error or Warning in Files",precondition:d.a.writable,kbOpts:{kbExpr:d.a.focus,primary:1090,weight:100}})||this}Object(u.h)(z),Object(u.f)($),Object(u.f)(J),Object(u.f)(et),Object(u.f)(ot);var st=new a.f("markersNavigationVisible",!1),at=u.c.bindToContribution(z.get);Object(u.g)(new at({id:"closeMarkersNavigation",precondition:st,handler:function(t){return t.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:d.a.focus,primary:9,secondary:[1033]}}))},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i(3),r=i(6),u=i(2),s=(a.prototype.getEditOperations=function(t,e){var i=this._selection;if(this._selectionId=e.trackSelection(i),i.startLineNumber===i.endLineNumber&&(!this._isMovingLeft||0!==i.startColumn)&&(this._isMovingLeft||i.endColumn!==t.getLineMaxColumn(i.startLineNumber))){var n,o,r,s=i.selectionStartLineNumber,a=t.getLineContent(s);r=this._isMovingLeft?(n=a.substring(0,i.startColumn-2),o=a.substring(i.startColumn-1,i.endColumn-1),a.substring(i.startColumn-2,i.startColumn-1)+a.substring(i.endColumn-1)):(n=a.substring(0,i.startColumn-1)+a.substring(i.endColumn-1,i.endColumn),o=a.substring(i.startColumn-1,i.endColumn-1),a.substring(i.endColumn));var l=n+o+r;e.addEditOperation(new u.a(s,1,s,t.getLineMaxColumn(s)),null),e.addEditOperation(new u.a(s,1,s,1),l),this._cutStartIndex=i.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+i.endColumn-i.startColumn,this._moved=!0}},a.prototype.computeCursorState=function(t,e){var i=e.getTrackedSelection(this._selectionId);return this._moved&&(i=(i=i.setStartPosition(i.startLineNumber,this._cutStartIndex)).setEndPosition(i.startLineNumber,this._cutEndIndex)),i},a);function a(t,e){this._selection=t,this._isMovingLeft=e}var l,h,c=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=(h=o.b,c(p,h),p.prototype.run=function(t,e){if(e.hasModel()){for(var i=[],n=e.getSelections(),o=0;o<n.length;o++)i.push(new s(n[o],this.left));e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()}},p);function p(t,e){var i=h.call(this,e)||this;return i.left=t,i}var f,g=(c(m,f=d),m);function m(){return f.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:n.a("caret.moveLeft","Move Caret Left"),alias:"Move Caret Left",precondition:r.a.writable})||this}var v,y=(c(_,v=d),_);function _(){return v.call(this,!1,{id:"editor.action.moveCarretRightAction",label:n.a("caret.moveRight","Move Caret Right"),alias:"Move Caret Right",precondition:r.a.writable})||this}Object(o.f)(g),Object(o.f)(y)},function(t,e,i){"use strict";i.r(e);var n=i(0),u=i(2),h=i(20),o=i(6),r=i(3),s=i(81),c=(a.prototype.getEditOperations=function(t,e){e.addTrackedEditOperation(this._editRange,this._text)},a.prototype.computeCursorState=function(t,e){var i=e.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new h.a(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new h.a(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)},a);function a(t,e,i){this._editRange=t,this._originalSelection=e,this._text=i}var l,d=i(91),p=i(16),f=i(28),g=i(24),m=i(17),v=i(13),y=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),_=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},b=function(i,n){return function(t,e){n(t,e,i)}},w=(C.get=function(t){return t.getContribution(C.ID)},C.prototype.dispose=function(){},C.prototype.getId=function(){return C.ID},C.prototype.run=function(r,e){var s=this;this.currentRequest&&this.currentRequest.cancel();var a=this.editor.getSelection(),i=this.editor.getModel().uri;if(a.startLineNumber!==a.endLineNumber)return null;var l=new d.a(this.editor,5);return this.editorWorkerService.canNavigateValueSet(i)?(this.currentRequest=Object(m.g)(function(t){return s.editorWorkerService.navigateValueSet(i,a,e)}),this.currentRequest.then(function(t){if(t&&t.range&&t.value&&l.validate(s.editor)){var e=u.a.lift(t.range),i=t.range,n=t.value.length-(a.endColumn-a.startColumn);i={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.startColumn+t.value.length},1<n&&(a=new h.a(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+n-1));var o=new c(e,a,t.value);s.editor.pushUndoStop(),s.editor.executeCommand(r,o),s.editor.pushUndoStop(),s.decorationIds=s.editor.deltaDecorations(s.decorationIds,[{range:i,options:C.DECORATION}]),s.decorationRemover&&s.decorationRemover.cancel(),s.decorationRemover=Object(m.j)(350),s.decorationRemover.then(function(){return s.decorationIds=s.editor.deltaDecorations(s.decorationIds,[])}).catch(v.e)}}).catch(v.e)):void 0},C.ID="editor.contrib.inPlaceReplaceController",C.DECORATION=g.a.register({className:"valueSetReplacement"}),C=_([b(1,s.a)],C));function C(t,e){this.decorationIds=[],this.editor=t,this.editorWorkerService=e}var S,x=(S=r.b,y(k,S),k.prototype.run=function(t,e){var i=w.get(e);if(i)return i.run(this.id,!0)},k);function k(){return S.call(this,{id:"editor.action.inPlaceReplace.up",label:n.a("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:o.a.writable,kbOpts:{kbExpr:o.a.editorTextFocus,primary:3154,weight:100}})||this}var O,E=(O=r.b,y(L,O),L.prototype.run=function(t,e){var i=w.get(e);if(i)return i.run(this.id,!1)},L);function L(){return O.call(this,{id:"editor.action.inPlaceReplace.down",label:n.a("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:o.a.writable,kbOpts:{kbExpr:o.a.editorTextFocus,primary:3156,weight:100}})||this}Object(r.h)(w),Object(r.f)(x),Object(r.f)(E),Object(p.e)(function(t,e){var i=t.getColor(f.d);i&&e.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+i+"; }")})},function(t,e,i){"use strict";i.r(e);i(318);var o=i(0),r=i(17),s=i(29),a=i(13),n=i(69),l=i(4),u=i(14),h=i(3),c=i(24),d=i(11),p=i(184),f=i(30),g=i(2),m=i(56),v=i(37),y=(_.prototype.toJSON=function(){return{range:this.range,url:this.url}},Object.defineProperty(_.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),_.prototype.resolve=function(e){var i=this;if(this._link.url)try{return Promise.resolve(f.a.parse(this._link.url))}catch(t){return Promise.reject(new Error("invalid"))}return"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(function(t){return i._link=t||i._link,i._link.url?i.resolve(e):Promise.reject(new Error("missing"))}):Promise.reject(new Error("missing"))},_);function _(t,e){this._link=t,this._provider=e}function b(t,e){var n=[],i=d.p.ordered(t).reverse().map(function(i){return Promise.resolve(i.provideLinks(t,e)).then(function(t){if(Array.isArray(t)){var e=t.map(function(t){return new y(t,i)});n=function(t,e){var i,n,o,r,s=[];for(o=i=0,n=t.length,r=e.length;i<n&&o<r;){var a=t[i],l=e[o];if(g.a.areIntersectingOrTouching(a.range,l.range))i++;else g.a.compareRangesUsingStarts(a.range,l.range)<0?(s.push(a),i++):(s.push(l),o++)}for(;i<n;i++)s.push(t[i]);for(;o<r;o++)s.push(e[o]);return s}(n,e)}},a.f)});return Promise.all(i).then(function(){return n})}v.a.registerCommand("_executeLinkProvider",function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=e[0];if(n instanceof f.a){var o=t.get(m.a).getModel(n);if(o)return b(o,s.a.None)}});var w,C=i(44),S=i(80),x=i(7),k=i(16),O=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),E=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},L=function(i,n){return function(t,e){n(t,e,i)}},D=function(r,s,a,l){return new(a=a||Promise)(function(t,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function n(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,n)}o((l=l.apply(r,s||[])).next())})},I=function(i,n){var o,r,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(s=2&e[0]?r.return:e[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,e[1])).done)return s;switch(r=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],r=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},N=(new n.a).appendText(u.d?o.a("links.navigate.mac","Cmd + click to follow link"):o.a("links.navigate","Ctrl + click to follow link")),T=(new n.a).appendText(u.d?o.a("links.command.mac","Cmd + click to execute command"):o.a("links.command","Ctrl + click to execute command")),M=(new n.a).appendText(u.d?o.a("links.navigate.al.mac","Option + click to follow link"):o.a("links.navigate.al","Alt + click to follow link")),A=(new n.a).appendText(u.d?o.a("links.command.al.mac","Option + click to execute command"):o.a("links.command.al","Alt + click to execute command")),P={meta:c.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link",hoverMessage:N}),metaActive:c.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active",hoverMessage:N}),alt:c.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link",hoverMessage:M}),altActive:c.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active",hoverMessage:M}),altCommand:c.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link",hoverMessage:A}),altCommandActive:c.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active",hoverMessage:A}),metaCommand:c.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link",hoverMessage:T}),metaCommandActive:c.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active",hoverMessage:T})},R=(F.decoration=function(t,e){return{range:t.range,options:F._getOptions(t,e,!1)}},F._getOptions=function(t,e,i){return t.url&&/^command:/i.test(t.url)?e?i?P.metaCommandActive:P.metaCommand:i?P.altCommandActive:P.altCommand:e?i?P.metaActive:P.meta:i?P.altActive:P.alt},F.prototype.activate=function(t,e){t.changeDecorationOptions(this.decorationId,F._getOptions(this.link,e,!0))},F.prototype.deactivate=function(t,e){t.changeDecorationOptions(this.decorationId,F._getOptions(this.link,e,!1))},F);function F(t,e){this.link=t,this.decorationId=e}var j=(B.get=function(t){return t.getContribution(B.ID)},B.prototype.getId=function(){return B.ID},B.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},B.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},B.prototype.onChange=function(){var t=this;this.timeout.setIfNotSet(function(){return t.beginCompute()},B.RECOMPUTE_TIME)},B.prototype.beginCompute=function(){return D(this,void 0,void 0,function(){var e,i,n;return I(this,function(t){switch(t.label){case 0:if(!this.editor.hasModel()||!this.enabled)return[2];if(e=this.editor.getModel(),!d.p.has(e))return[2];this.computePromise=r.g(function(t){return b(e,t)}),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,this.computePromise];case 2:return i=t.sent(),this.updateDecorations(i),[3,5];case 3:return n=t.sent(),Object(a.e)(n),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}})})},B.prototype.updateDecorations=function(t){for(var e="altKey"===this.editor.getConfiguration().multiCursorModifier,i=[],n=Object.keys(this.currentOccurrences),o=0,r=n.length;o<r;o++){var s=n[o],a=this.currentOccurrences[s];i.push(a.decorationId)}var l=[];if(t)for(o=0;o<t.length;o++)l.push(R.decoration(t[o],e));var u=this.editor.deltaDecorations(i,l);for(this.currentOccurrences={},this.activeLinkDecorationId=null,o=0,r=u.length;o<r;o++)a=new R(t[o],u[o]),this.currentOccurrences[a.decorationId]=a},B.prototype._onEditorMouseMove=function(t,e){var i=this,n="altKey"===this.editor.getConfiguration().multiCursorModifier;if(this.isEnabled(t,e)){this.cleanUpActiveLinkDecoration();var o=this.getLinkOccurrence(t.target.position);o&&this.editor.changeDecorations(function(t){o.activate(t,n),i.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()},B.prototype.cleanUpActiveLinkDecoration=function(){var e="altKey"===this.editor.getConfiguration().multiCursorModifier;if(this.activeLinkDecorationId){var i=this.currentOccurrences[this.activeLinkDecorationId];i&&this.editor.changeDecorations(function(t){i.deactivate(t,e)}),this.activeLinkDecorationId=null}},B.prototype.onEditorMouseUp=function(t){if(this.isEnabled(t)){var e=this.getLinkOccurrence(t.target.position);e&&this.openLinkOccurrence(e,t.hasSideBySideModifier)}},B.prototype.openLinkOccurrence=function(t,e){var i=this;if(this.openerService){var n=t.link;n.resolve(s.a.None).then(function(t){return i.openerService.open(t,{openToSide:e})},function(t){"invalid"===t?i.notificationService.warn(o.a("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url)):"missing"===t?i.notificationService.warn(o.a("missing.url","Failed to open this link because its target is missing.")):Object(a.e)(t)})}},B.prototype.getLinkOccurrence=function(t){if(!this.editor.hasModel()||!t)return null;for(var e=this.editor.getModel().getDecorationsInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},0,!0),i=0;i<e.length;i++){var n=e[i],o=this.currentOccurrences[n.id];if(o)return o}return null},B.prototype.isEnabled=function(t,e){return Boolean(6===t.target.type&&(t.hasTriggerModifier||e&&e.keyCodeIsTriggerKey))},B.prototype.stop=function(){this.timeout.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},B.prototype.dispose=function(){this.listenersToRemove=Object(l.d)(this.listenersToRemove),this.stop(),this.timeout.dispose()},B.ID="editor.linkDetector",B.RECOMPUTE_TIME=1e3,B=E([L(1,S.a),L(2,C.a)],B));function B(i,t,e){var n=this;this.editor=i,this.openerService=t,this.notificationService=e,this.listenersToRemove=[];var o=new p.a(i);this.listenersToRemove.push(o),this.listenersToRemove.push(o.onMouseMoveOrRelevantKeyDown(function(t){var e=t[0],i=t[1];n._onEditorMouseMove(e,i)})),this.listenersToRemove.push(o.onExecute(function(t){n.onEditorMouseUp(t)})),this.listenersToRemove.push(o.onCancel(function(t){n.cleanUpActiveLinkDecoration()})),this.enabled=i.getConfiguration().contribInfo.links,this.listenersToRemove.push(i.onDidChangeConfiguration(function(t){var e=i.getConfiguration().contribInfo.links;n.enabled!==e&&(n.enabled=e,n.updateDecorations([]),n.stop(),n.beginCompute())})),this.listenersToRemove.push(i.onDidChangeModelContent(function(t){return n.onChange()})),this.listenersToRemove.push(i.onDidChangeModel(function(t){return n.onModelChanged()})),this.listenersToRemove.push(i.onDidChangeModelLanguage(function(t){return n.onModelModeChanged()})),this.listenersToRemove.push(d.p.onDidChange(function(t){return n.onModelModeChanged()})),this.timeout=new r.e,this.computePromise=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}var H,W=(H=h.b,O(V,H),V.prototype.run=function(t,e){var i=j.get(e);if(i&&e.hasModel())for(var n=0,o=e.getSelections();n<o.length;n++){var r=o[n],s=i.getLinkOccurrence(r.getEndPosition());s&&i.openLinkOccurrence(s,!1)}},V);function V(){return H.call(this,{id:"editor.action.openLink",label:o.a("label","Open Link"),alias:"Open Link",precondition:null})||this}Object(h.h)(j),Object(h.f)(W),Object(k.e)(function(t,e){var i=t.getColor(x.m);i&&e.addRule(".monaco-editor .detected-link-active { color: "+i+" !important; }")})},function(t,e,i){"use strict";i.r(e);i(320);var g=i(0),o=i(29),m=i(111),v=i(8),r=i(122),n=i(3),a=i(2),s=i(6),y=i(11),l=i(13),u=i(30),h=i(56);function c(e,i,n){var o=[],t=y.j.all(e).map(function(t){return Promise.resolve(t.provideDocumentSymbols(e,n)).then(function(t){Array.isArray(t)&&o.push.apply(o,t)},function(t){Object(l.f)(t)})});return Promise.all(t).then(function(){var t=[];return n.isCancellationRequested||(i?function t(e,i,n){for(var o=0,r=i;o<r.length;o++){var s=r[o];e.push({kind:s.kind,name:s.name,detail:s.detail,containerName:s.containerName||n,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&t(e,s.children,s.name)}}(t,o,""):t=o,t.sort(d)),t})}function d(t,e){return a.a.compareRangesUsingStarts(t.range,e.range)}Object(n.j)("_executeDocumentSymbolProvider",function(t,e){var i=e.resource;if(!(i instanceof u.a))throw Object(l.b)("resource");var n=t.get(h.a).getModel(i);if(!n)throw Object(l.b)("resource");return c(n,!1,o.a.None)});var p=i(155);i.d(e,"SymbolEntry",function(){return w}),i.d(e,"QuickOutlineAction",function(){return x});var f,_,b=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),w=(_=r.b,b(C,_),C.prototype.getLabel=function(){return this.name},C.prototype.getAriaLabel=function(){return g.a("entryAriaLabel","{0}, symbols",this.name)},C.prototype.getIcon=function(){return this.type},C.prototype.getDescription=function(){return this.description},C.prototype.getType=function(){return this.type},C.prototype.getRange=function(){return this.range},C.prototype.run=function(t,e){return 1===t?this.runOpen(e):this.runPreview()},C.prototype.runOpen=function(t){var e=this.toSelection();return this.editor.setSelection(e),this.editor.revealRangeInCenter(e,0),this.editor.focus(),!0},C.prototype.runPreview=function(){var t=this.toSelection();return this.editor.revealRangeInCenter(t,0),this.decorator.decorateLine(this.range,this.editor),!1},C.prototype.toSelection=function(){return new a.a(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)},C);function C(t,e,i,n,o,r,s){var a=_.call(this)||this;return a.name=t,a.type=e,a.description=i,a.range=n,a.setHighlights(o),a.editor=r,a.decorator=s,a}var S,x=(S=p.a,b(k,S),k.prototype.run=function(t,e){var i=this,n=e.getModel();return y.j.has(n)?c(n,!0,o.a.None).then(function(t){0!==t.length&&i._run(e,t)}):null},k.prototype._run=function(e,i){var n=this;this._show(this.getController(e),{getModel:function(t){return new r.c(n.toQuickOpenEntries(e,i,t))},getAutoFocus:function(t){return 0===t.indexOf(":")&&(t=t.substr(":".length)),{autoFocusPrefixMatch:t,autoFocusFirstEntry:!!t}}})},k.prototype.symbolEntry=function(t,e,i,n,o,r,s){return new w(t,e,i,a.a.lift(n),o,r,s)},k.prototype.toQuickOpenEntries=function(t,e,i){var n=this.getController(t),o=[],r=i;0===i.indexOf(":")&&(r=r.substr(":".length));for(var s=0;s<e.length;s++){var a=e[s],l=v.I(a.name),u=Object(m.e)(r,l);if(u){var h=null;a.containerName&&(h=a.containerName),o.push(this.symbolEntry(l,Object(y.B)(a.kind),h,a.range,u,t,n))}}if(i&&(o=0===i.indexOf(":")?o.sort(this.sortScoped.bind(this,i.toLowerCase())):o.sort(this.sortNormal.bind(this,i.toLowerCase()))),0<o.length&&0===i.indexOf(":")){var c=null,d=null,p=0;for(s=0;s<o.length;s++){var f=o[s];c!==f.getType()?(d&&d.setGroupLabel(this.typeToLabel(c,p)),c=f.getType(),p=1,(d=f).setShowBorder(0<s)):p++}d&&d.setGroupLabel(this.typeToLabel(c,p))}else 0<o.length&&o[0].setGroupLabel(g.a("symbols","symbols ({0})",o.length));return o},k.prototype.typeToLabel=function(t,e){switch(t){case"module":return g.a("modules","modules ({0})",e);case"class":return g.a("class","classes ({0})",e);case"interface":return g.a("interface","interfaces ({0})",e);case"method":return g.a("method","methods ({0})",e);case"function":return g.a("function","functions ({0})",e);case"property":return g.a("property","properties ({0})",e);case"variable":return g.a("variable","variables ({0})",e);case"var":return g.a("variable2","variables ({0})",e);case"constructor":return g.a("_constructor","constructors ({0})",e);case"call":return g.a("call","calls ({0})",e)}return t},k.prototype.sortNormal=function(t,e,i){var n=e.getLabel().toLowerCase(),o=i.getLabel().toLowerCase(),r=n.localeCompare(o);if(0!==r)return r;var s=e.getRange(),a=i.getRange();return s.startLineNumber-a.startLineNumber},k.prototype.sortScoped=function(t,e,i){t=t.substr(":".length);var n=e.getType(),o=i.getType(),r=n.localeCompare(o);if(0!==r)return r;if(t){var s=e.getLabel().toLowerCase(),a=i.getLabel().toLowerCase(),l=s.localeCompare(a);if(0!==l)return l}var u=e.getRange(),h=i.getRange();return u.startLineNumber-h.startLineNumber},k);function k(){return S.call(this,g.a("quickOutlineActionInput","Type the name of an identifier you wish to navigate to"),{id:"editor.action.quickOutline",label:g.a("QuickOutlineAction.label","Go to Symbol..."),alias:"Go to Symbol...",precondition:s.a.hasDocumentSymbolProvider,kbOpts:{kbExpr:s.a.focus,primary:3117,weight:100},menuOpts:{group:"navigation",order:3}})||this}Object(n.f)(x)},function(t,e,i){"use strict";i.r(e);var h=i(0),a=i(13),n=i(10),o=i(125),r=i(3),s=i(6),l=(i(321),i(4)),c=i(2),u=i(16),d=i(7),p=i(9),f=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},g=function(i,n){return function(t,e){n(t,e,i)}};function m(t,e){var i=this;this.themeService=e,this._disposables=[],this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._editor=t,this._editor.addContentWidget(this),this._disposables.push(t.onDidChangeConfiguration(function(t){t.fontInfo&&i.updateFont()})),this._disposables.push(e.onThemeChange(function(t){return i.onThemeChange(t)}))}var v=(m.prototype.onThemeChange=function(t){this.updateStyles(t)},m.prototype.dispose=function(){this._disposables=Object(l.d)(this._disposables),this._editor.removeContentWidget(this)},m.prototype.getId=function(){return"__renameInputWidget"},m.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",Object(h.a)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField),this.updateFont(),this.updateStyles(this.themeService.getTheme())),this._domNode},m.prototype.updateStyles=function(t){if(this._inputField){var e=t.getColor(d.K),i=t.getColor(d.M),n=t.getColor(d.Fb),o=t.getColor(d.L);this._inputField.style.backgroundColor=e?e.toString():null,this._inputField.style.color=i?i.toString():null,this._inputField.style.borderWidth=o?"1px":"0px",this._inputField.style.borderStyle=o?"solid":"none",this._inputField.style.borderColor=o?o.toString():"none",this._domNode.style.boxShadow=n?" 0 2px 8px "+n:null}},m.prototype.updateFont=function(){if(this._inputField){var t=this._editor.getConfiguration().fontInfo;this._inputField.style.fontFamily=t.fontFamily,this._inputField.style.fontWeight=t.fontWeight,this._inputField.style.fontSize=t.fontSize+"px"}},m.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[2,1]}:null},m.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},m.prototype.cancelInput=function(t){this._currentCancelInput&&this._currentCancelInput(t)},m.prototype.getInput=function(i,t,e,n){var o=this;this._position=new p.a(i.startLineNumber,i.startColumn),this._inputField.value=t,this._inputField.setAttribute("selectionStart",e.toString()),this._inputField.setAttribute("selectionEnd",n.toString()),this._inputField.size=Math.max(1.1*(i.endColumn-i.startColumn),20);var r,s=[];return r=function(){Object(l.d)(s),o._hide()},new Promise(function(e){o._currentCancelInput=function(t){return o._currentAcceptInput=null,o._currentCancelInput=null,e(t),!0},o._currentAcceptInput=function(){0!==o._inputField.value.trim().length&&o._inputField.value!==t?(o._currentAcceptInput=null,o._currentCancelInput=null,e(o._inputField.value)):o.cancelInput(!0)},s.push(o._editor.onDidChangeCursorSelection(function(){var t=o._editor.getPosition();t&&c.a.containsPosition(i,t)||o.cancelInput(!0)})),s.push(o._editor.onDidBlurEditorWidget(function(){return o.cancelInput(!1)})),o._show()}).then(function(t){return r(),t},function(t){return r(),Promise.reject(t)})},m.prototype._show=function(){var t=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._editor.layoutContentWidget(this),setTimeout(function(){t._inputField.focus(),t._inputField.setSelectionRange(parseInt(t._inputField.getAttribute("selectionStart")),parseInt(t._inputField.getAttribute("selectionEnd")))},100)},m.prototype._hide=function(){this._visible=!1,this._editor.layoutContentWidget(this)},m=f([g(1,u.c)],m)),y=i(11),_=i(50),b=i(130),w=i(91),C=i(44),S=i(149),x=i(30),k=i(34),O=i(29);i.d(e,"rename",function(){return P}),i.d(e,"RenameAction",function(){return H});var E,L=(E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),D=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},I=function(i,n){return function(t,e){n(t,e,i)}},N=function(r,s,a,l){return new(a=a||Promise)(function(t,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function n(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,n)}o((l=l.apply(r,s||[])).next())})},T=function(i,n){var o,r,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(s=2&e[0]?r.return:e[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,e[1])).done)return s;switch(r=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],r=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},M=(A.prototype.hasProvider=function(){return 0<this._provider.length},A.prototype.resolveRenameLocation=function(o){return N(this,void 0,void 0,function(){var e,i,n;return T(this,function(t){switch(t.label){case 0:return(e=this._provider[0]).resolveRenameLocation?[4,e.resolveRenameLocation(this.model,this.position,o)]:[3,2];case 1:i=t.sent(),t.label=2;case 2:return i||(n=this.model.getWordAtPosition(this.position))&&(i={range:new c.a(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word}),[2,i]}})})},A.prototype.provideRenameEdits=function(i,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=[]),N(this,void 0,void 0,function(){var e;return T(this,function(t){switch(t.label){case 0:return n>=this._provider.length?[2,{edits:void 0,rejectReason:o.join("\n")}]:[4,this._provider[n].provideRenameEdits(this.model,this.position,i,r)];case 1:return(e=t.sent())?e.rejectReason?[2,this.provideRenameEdits(i,n+1,o.concat(e.rejectReason),r)]:[2,e]:[2,this.provideRenameEdits(i,n+1,o.concat(h.a("no result","No result.")),r)]}})})},A);function A(t,e){this.model=t,this.position=e,this._provider=y.s.ordered(t)}function P(e,i,n){return N(this,void 0,void 0,function(){return T(this,function(t){return[2,new M(e,i).provideRenameEdits(n,void 0,void 0,O.a.None)]})})}var R=new n.f("renameInputVisible",!1),F=(j.get=function(t){return t.getContribution(j.ID)},j.prototype.dispose=function(){this._renameInputField.dispose()},j.prototype.getId=function(){return j.ID},j.prototype.run=function(u){return N(this,void 0,void 0,function(){var e,n,o,i,r,s,a,l=this;return T(this,function(t){switch(t.label){case 0:if(!this.editor.hasModel())return[2,void 0];if(e=this.editor.getPosition(),!(n=new M(this.editor.getModel(),e)).hasProvider())return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n.resolveRenameLocation(u)];case 2:return o=t.sent(),[3,4];case 3:return i=t.sent(),b.a.get(this.editor).showMessage(i||h.a("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e),[2,void 0];case 4:return o?o.rejectReason?(b.a.get(this.editor).showMessage(o.rejectReason,e),[2,void 0]):(r=this.editor.getSelection(),s=0,a=o.text.length,c.a.isEmpty(r)||c.a.spansMultipleLines(r)||!c.a.containsRange(o.range,r)||(s=Math.max(0,r.startColumn-o.range.startColumn),a=Math.min(o.range.endColumn,r.endColumn)-o.range.startColumn),this._renameInputVisible.set(!0),[2,this._renameInputField.getInput(o.range,o.text,s,a).then(function(e){if(l._renameInputVisible.reset(),"boolean"!=typeof e){l.editor.focus();var i=new w.a(l.editor,15),t=Promise.resolve(n.provideRenameEdits(e,0,[],u).then(function(t){if(l.editor.hasModel()){if(!t.rejectReason)return l._bulkEditService.apply(t,{editor:l.editor}).then(function(t){t.ariaSummary&&Object(_.a)(h.a("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,e,t.ariaSummary))});i.validate(l.editor)?b.a.get(l.editor).showMessage(t.rejectReason,l.editor.getPosition()):l._notificationService.info(t.rejectReason)}},function(t){return l._notificationService.error(h.a("rename.failed","Rename failed to execute.")),Promise.reject(t)}));return l._progressService.showWhile(t,250),t}e&&l.editor.focus()},function(t){return l._renameInputVisible.reset(),Promise.reject(t)})]):[2,void 0]}})})},j.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()},j.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput(!0)},j.ID="editor.contrib.renameController",j=D([I(1,C.a),I(2,S.a),I(3,o.a),I(4,n.e),I(5,u.c)],j));function j(t,e,i,n,o,r){this.editor=t,this._notificationService=e,this._bulkEditService=i,this._progressService=n,this._renameInputField=new v(t,r),this._renameInputVisible=R.bindTo(o)}var B,H=(B=r.b,L(W,B),W.prototype.runCommand=function(t,e){var i=this,n=t.get(k.a),o=e||[void 0,void 0],r=o[0],s=o[1];return x.a.isUri(r)&&p.a.isIPosition(s)?n.openCodeEditor({resource:r},n.getActiveCodeEditor()).then(function(e){e&&(e.setPosition(s),e.invokeWithinContext(function(t){return i.reportTelemetry(t,e),i.run(t,e)}))},a.e):B.prototype.runCommand.call(this,t,e)},W.prototype.run=function(t,e){var i=F.get(e);return i?Promise.resolve(i.run(O.a.None)):Promise.resolve()},W);function W(){return B.call(this,{id:"editor.action.rename",label:h.a("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:n.d.and(s.a.writable,s.a.hasRenameProvider),kbOpts:{kbExpr:s.a.editorTextFocus,primary:60,weight:100},menuOpts:{group:"1_modification",order:1.1}})||this}Object(r.h)(F),Object(r.f)(H);var V=r.c.bindToContribution(F.get);Object(r.g)(new V({id:"acceptRenameInput",precondition:R,handler:function(t){return t.acceptRenameInput()},kbOpts:{weight:199,kbExpr:s.a.focus,primary:3}})),Object(r.g)(new V({id:"cancelRenameInput",precondition:R,handler:function(t){return t.cancelRenameInput()},kbOpts:{weight:199,kbExpr:s.a.focus,primary:9,secondary:[1033]}})),Object(r.e)("_executeDocumentRenameProvider",function(t,e,i){var n=i.newName;if("string"!=typeof n)throw Object(a.b)("newName");return P(t,e,n)})},function(t,e,i){"use strict";i.r(e);var n=i(0),r=i(21),o=i(18),s=i(2),a=i(6),l=i(3),u=i(56),h=i(161),c=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},d=function(i,n){return function(t,e){n(t,e,i)}},p=(f.prototype.getRangesToPositionSync=function(t,e){var i=this._modelService.getModel(t),n=[];return i&&this._doGetRangesToPosition(i,e).forEach(function(t){n.push({type:void 0,range:t})}),n},f.prototype._doGetRangesToPosition=function(t,e){var i,n,o=Object(h.a)(t);i=Object(h.b)(o,e);for(var r=[];i;)n&&s.a.equalsRange(n,i.range)||r.push(i.range),n=i.range,i=i.parent;return r=r.reverse()},f=c([d(0,u.a)],f));function f(t){this._modelService=t}var g,m=i(31),v=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},_=function(i,n){return function(t,e){n(t,e,i)}},b=function(t){this.editor=t,this.next=null,this.previous=null,this.selection=t.getSelection()},w=(C.get=function(t){return t.getContribution(C.ID)},C.prototype.dispose=function(){},C.prototype.getId=function(){return C.ID},C.prototype.run=function(t){var o=this,e=this.editor.getSelection(),i=this.editor.getModel();this._state&&this._state.editor!==this.editor&&(this._state=null);var n=Promise.resolve(null);return this._state||(n=Promise.resolve(this._tokenSelectionSupport.getRangesToPositionSync(i.uri,e.getStartPosition())).then(function(t){if(!r.k(t)){var n;t.filter(function(t){var e=o.editor.getSelection(),i=new s.a(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);return i.containsPosition(e.getStartPosition())&&i.containsPosition(e.getEndPosition())}).forEach(function(t){var e=t.range,i=new b(o.editor);i.selection=new s.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),n&&((i.next=n).previous=i),n=i});var e=new b(o.editor);(e.next=n)&&(n.previous=e),o._state=e;var i=o.editor.onDidChangeCursorPosition(function(t){o._ignoreSelection||(o._state=null,i.dispose())})}})),n.then(function(){if(o._state&&(o._state=t?o._state.next:o._state.previous,o._state)){o._ignoreSelection=!0;try{o.editor.setSelection(o._state.selection)}finally{o._ignoreSelection=!1}}})},C.ID="editor.contrib.smartSelectController",C=y([_(1,o.a)],C));function C(t,e){this.editor=t,this._tokenSelectionSupport=e.createInstance(p),this._state=null,this._ignoreSelection=!1}var S,x=(S=l.b,v(k,S),k.prototype.run=function(t,e){var i=w.get(e);if(i)return i.run(this._forward)},k);function k(t,e){var i=S.call(this,e)||this;return i._forward=t,i}var O,E=(v(L,O=x),L);function L(){return O.call(this,!0,{id:"editor.action.smartSelect.grow",label:n.a("smartSelect.grow","Expand Select"),alias:"Expand Select",precondition:null,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1553,mac:{primary:3345},weight:100},menubarOpts:{menuId:m.b.MenubarSelectionMenu,group:"1_basic",title:n.a({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}var D,I=(v(N,D=x),N);function N(){return D.call(this,!1,{id:"editor.action.smartSelect.shrink",label:n.a("smartSelect.shrink","Shrink Select"),alias:"Shrink Select",precondition:null,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1551,mac:{primary:3343},weight:100},menubarOpts:{menuId:m.b.MenubarSelectionMenu,group:"1_basic",title:n.a({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}Object(l.h)(w),Object(l.f)(E),Object(l.f)(I)},function(t,e,i){"use strict";i.r(e);i(275);var n=i(4),o=i(14),r=i(3),s=i(9),a=i(2),l=i(20),u=(h.prototype.getEditOperations=function(t,e){var i=t.getValueInRange(this.selection);this.copy||e.addEditOperation(this.selection,null),e.addEditOperation(new a.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new l.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new l.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new l.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new l.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new l.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection},h.prototype.computeCursorState=function(t,e){return this.targetSelection},h);function h(t,e,i){this.selection=t,this.targetPosition=e,this.copy=i}var c=i(24);function d(t){return o.d?t.altKey:t.ctrlKey}i.d(e,"DragAndDropController",function(){return p});var p=(f.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modiferPressed=!1},f.prototype.onEditorKeyDown=function(t){this._editor.getConfiguration().dragAndDrop&&(d(t)&&(this._modiferPressed=!0),this._mouseDown&&d(t)&&this._editor.updateOptions({mouseStyle:"copy"}))},f.prototype.onEditorKeyUp=function(t){this._editor.getConfiguration().dragAndDrop&&(d(t)&&(this._modiferPressed=!1),this._mouseDown&&t.keyCode===f.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},f.prototype._onEditorMouseDown=function(t){this._mouseDown=!0},f.prototype._onEditorMouseUp=function(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},f.prototype._onEditorMouseDrag=function(t){var e=t.target;if(null===this._dragSelection){var i=(this._editor.getSelections()||[]).filter(function(t){return e.position&&t.containsPosition(e.position)});if(1!==i.length)return;this._dragSelection=i[0]}d(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),e.position&&(this._dragSelection.containsPosition(e.position)?this._removeDecoration():this.showAt(e.position))},f.prototype._onEditorMouseDrop=function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var e=new s.a(t.target.position.lineNumber,t.target.position.column);if(null===this._dragSelection){var i=null;if(t.event.shiftKey){var n=this._editor.getSelection();if(n){var o=n.selectionStartLineNumber,r=n.selectionStartColumn;i=[new l.a(o,r,e.lineNumber,e.column)]}}else i=(this._editor.getSelections()||[]).map(function(t){return t.containsPosition(e)?new l.a(e.lineNumber,e.column,e.lineNumber,e.column):t});this._editor.setSelections(i||[],"mouse")}else this._dragSelection.containsPosition(e)&&(!d(t.event)&&!this._modiferPressed||!this._dragSelection.getEndPosition().equals(e)&&!this._dragSelection.getStartPosition().equals(e))||(this._editor.pushUndoStop(),this._editor.executeCommand(f.ID,new u(this._dragSelection,e,d(t.event)||this._modiferPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},f.prototype.showAt=function(t){var e=[{range:new a.a(t.lineNumber,t.column,t.lineNumber,t.column),options:f._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,e),this._editor.revealPosition(t,1)},f.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},f.prototype._hitContent=function(t){return 6===t.type||7===t.type},f.prototype._hitMargin=function(t){return 2===t.type||3===t.type||4===t.type},f.prototype.getId=function(){return f.ID},f.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modiferPressed=!1,this._toUnhook=Object(n.d)(this._toUnhook)},f.ID="editor.contrib.dragAndDrop",f.TRIGGER_KEY_VALUE=o.d?6:5,f._DECORATION_OPTIONS=c.a.register({className:"dnd-target"}),f);function f(t){var e=this;this._editor=t,this._toUnhook=[],this._toUnhook.push(this._editor.onMouseDown(function(t){return e._onEditorMouseDown(t)})),this._toUnhook.push(this._editor.onMouseUp(function(t){return e._onEditorMouseUp(t)})),this._toUnhook.push(this._editor.onMouseDrag(function(t){return e._onEditorMouseDrag(t)})),this._toUnhook.push(this._editor.onMouseDrop(function(t){return e._onEditorMouseDrop(t)})),this._toUnhook.push(this._editor.onKeyDown(function(t){return e.onEditorKeyDown(t)})),this._toUnhook.push(this._editor.onKeyUp(function(t){return e.onEditorKeyUp(t)})),this._toUnhook.push(this._editor.onDidBlurEditorWidget(function(){return e.onEditorBlur()})),this._dndDecorationIds=[],this._mouseDown=!1,this._modiferPressed=!1,this._dragSelection=null}Object(r.h)(p)},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var o=i(120),n=i(5),r=i(4),s=i(27),a=i(2),l={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},u=(h.prototype._init=function(){this._editor.getLineChanges()},h.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},h.prototype._compute=function(t){var e=this;this.ranges=[],t&&t.forEach(function(t){!e._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(function(t){e.ranges.push({rhs:!0,range:new a.a(t.modifiedStartLineNumber,t.modifiedStartColumn,t.modifiedEndLineNumber,t.modifiedEndColumn)})}):e.ranges.push({rhs:!0,range:new a.a(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber,1)})}),this.ranges.sort(function(t,e){return t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?-1:e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?1:0}),this._onDidUpdate.fire(this)},h.prototype._initIdx=function(t){var e=!1,i=this._editor.getPosition();if(i){for(var n=0,o=this.ranges.length;n<o&&!e;n++){var r=this.ranges[n].range;i.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=n+(t?0:-1),e=!0)}e||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0},h.prototype._move=function(t,e){if(o.a(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealPositionInCenter(n,e)}finally{this.ignoreSelectionChange=!1}}},h.prototype.canNavigate=function(){return this.ranges&&0<this.ranges.length},h.prototype.next=function(t){void 0===t&&(t=0),this._move(!0,t)},h.prototype.previous=function(t){void 0===t&&(t=0),this._move(!1,t)},h.prototype.dispose=function(){Object(r.d)(this._disposables),this._disposables.length=0,this._onDidUpdate.dispose(),this.ranges=[],this.disposed=!0},h);function h(t,e){void 0===e&&(e={});var i=this;this._onDidUpdate=new n.a,this._editor=t,this._options=s.g(e,l,!1),this.disposed=!1,this._disposables=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._disposables.push(this._editor.onDidDispose(function(){return i.dispose()})),this._disposables.push(this._editor.onDidUpdateDiff(function(){return i._onDiffUpdated()})),this._options.followsCaret&&this._disposables.push(this._editor.getModifiedEditor().onDidChangeCursorPosition(function(t){i.ignoreSelectionChange||(i.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._disposables.push(this._editor.getModifiedEditor().onDidChangeModel(function(t){i.revealFirst=!0})),this._init()}},function(t,e,i){"use strict";i(328);var n,N=i(0),D=i(1),g=i(26),o=i(126),m=i(17),v=i(5),r=i(4),s=i(27),I=i(70),a=i(91),l=i(34),u=i(137),h=(i(329),i(75)),c=i(79),d=i(77),p=i(3),f=i(86),y=i(9),_=i(28),b=i(68),w=i(54),C=i(10),S=i(7),x=i(16),k=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),P=(O.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},O);function O(t,e,i,n){this.originalLineStart=t,this.originalLineEnd=e,this.modifiedLineStart=i,this.modifiedLineEnd=n}var E,R=function(t){this.entries=t},L=(E=r.a,k(T,E),T.prototype.prev=function(){var t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var e=-1,i=0,n=this._diffs.length;i<n;i++)if(this._diffs[i]===this._currentDiff){e=i;break}t=this._diffs.length+e-1}else t=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(t%=this._diffs.length,this._diffEditor.setPosition(new y.a(this._diffs[t].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},T.prototype.next=function(){var t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var e=-1,i=0,n=this._diffs.length;i<n;i++)if(this._diffs[i]===this._currentDiff){e=i;break}t=e+1}else t=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(t%=this._diffs.length,this._diffEditor.setPosition(new y.a(this._diffs[t].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},T.prototype.accept=function(){var t=-1,e=this._getCurrentFocusedRow();if(e){var i=parseInt(e.getAttribute("data-line"),10);isNaN(i)||(t=i)}this.hide(),-1!==t&&(this._diffEditor.setPosition(new y.a(t,1)),this._diffEditor.revealPosition(new y.a(t,1),1))},T.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},T.prototype._getPrevRow=function(){var t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()},T.prototype._getNextRow=function(){var t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()},T.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},T.prototype._getCurrentFocusedRow=function(){var t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null},T.prototype._goToRow=function(t){var e=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),e&&e!==t&&(e.tabIndex=-1),this.scrollbar.scanDomNode()},T.prototype.isVisible=function(){return this._isVisible},T.prototype.layout=function(t,e,i){this._width=e,this.shadow.setTop(t-6),this.shadow.setWidth(e),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(e),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(e),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},T.prototype._compute=function(){var t=this._diffEditor.getLineChanges();if(!t||0===t.length)return[];var e=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return e&&i?T._mergeAdjacent(t,e.getLineCount(),i.getLineCount()):[]},T._mergeAdjacent=function(t,e,i){if(!t||0===t.length)return[];for(var n=[],o=0,r=0,s=t.length;r<s;r++){var a=t[r],l=a.originalStartLineNumber,u=a.originalEndLineNumber,h=a.modifiedStartLineNumber,c=a.modifiedEndLineNumber,d=[],p=0,f=0===u?l:l-1,g=0===c?h:h-1,m=1,v=1;if(0<r){var y=t[r-1];m=0===y.originalEndLineNumber?y.originalStartLineNumber+1:y.originalEndLineNumber+1,v=0===y.modifiedEndLineNumber?y.modifiedStartLineNumber+1:y.modifiedEndLineNumber+1}var _=f-3+1,b=g-3+1;_<m&&(_+=O=m-_,b+=O),b<v&&(_+=O=v-b,b+=O),d[p++]=new P(_,f,b,g),0!==u&&(d[p++]=new P(l,u,0,0)),0!==c&&(d[p++]=new P(0,0,h,c));var w=0===u?l+1:u+1,C=0===c?h+1:c+1,S=e,x=i;if(r+1<s){var k=t[r+1];S=0===k.originalEndLineNumber?k.originalStartLineNumber:k.originalStartLineNumber-1,x=0===k.modifiedEndLineNumber?k.modifiedStartLineNumber:k.modifiedStartLineNumber-1}var O,E=w+3-1,L=C+3-1;S<E&&(E+=O=S-E,L+=O),x<L&&(E+=O=x-L,L+=O),d[p++]=new P(w,E,C,L),n[o++]=new R(d)}var D=n[0].entries,I=[],N=0;for(r=1,s=n.length;r<s;r++){var T=n[r].entries,M=D[D.length-1],A=T[0];D=0===M.getType()&&0===A.getType()&&A.originalLineStart<=M.originalLineEnd?(D[D.length-1]=new P(M.originalLineStart,A.originalLineEnd,M.modifiedLineStart,A.modifiedLineEnd),D.concat(T.slice(1))):(I[N++]=new R(D),T)}return I[N++]=new R(D),I},T.prototype._findDiffIndex=function(t){for(var e=t.lineNumber,i=0,n=this._diffs.length;i<n;i++){var o=this._diffs[i].entries;if(e<=o[o.length-1].modifiedLineEnd)return i}return 0},T.prototype._render=function(){var t=this._diffEditor.getOriginalEditor().getConfiguration(),e=this._diffEditor.getModifiedEditor().getConfiguration(),i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel(),o=i.getOptions(),r=n.getOptions();if(!this._isVisible||!i||!n)return D.m(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var s=this._diffEditor.getPosition(),a=this._findDiffIndex(s);if(this._diffs[a]!==this._currentDiff){this._currentDiff=this._diffs[a];var l=this._diffs[a].entries,u=document.createElement("div");u.className="diff-review-table",u.setAttribute("role","list"),I.a.applyFontInfoSlow(u,e.fontInfo);for(var h=0,c=0,d=0,p=0,f=0,g=l.length;f<g;f++){var m=(L=l[f]).originalLineStart,v=L.originalLineEnd,y=L.modifiedLineStart,_=L.modifiedLineEnd;0!==m&&(0===h||m<h)&&(h=m),0!==v&&(0===c||c<v)&&(c=v),0!==y&&(0===d||y<d)&&(d=y),0!==_&&(0===p||p<_)&&(p=_)}var b=document.createElement("div");b.className="diff-review-row";var w=document.createElement("div");w.className="diff-review-cell diff-review-summary";var C=c-h+1,S=p-d+1;w.appendChild(document.createTextNode(a+1+"/"+this._diffs.length+": @@ -"+h+","+C+" +"+d+","+S+" @@")),b.setAttribute("data-line",String(d));var x=function(t){return 0===t?N.a("no_lines","no lines"):1===t?N.a("one_line","1 line"):N.a("more_lines","{0} lines",t)},k=x(C),O=x(S);b.setAttribute("aria-label",N.a({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",a+1,this._diffs.length,h,k,d,O)),b.appendChild(w),b.setAttribute("role","listitem"),u.appendChild(b);var E=d;for(f=0,g=l.length;f<g;f++){var L=l[f];T._renderSection(u,L,E,this._width,t,i,o,e,n,r),0!==L.modifiedLineStart&&(E=L.modifiedLineEnd)}D.m(this._content.domNode),this._content.domNode.appendChild(u),this.scrollbar.scanDomNode()}},T._renderSection=function(t,e,i,n,o,r,s,a,l,u){var h=e.getType(),c="diff-review-row",d="",p="diff-review-spacer";switch(h){case 1:c="diff-review-row line-insert",d=" char-insert",p="diff-review-spacer insert-sign";break;case 2:c="diff-review-row line-delete",d=" char-delete",p="diff-review-spacer delete-sign"}for(var f=e.originalLineStart,g=e.originalLineEnd,m=e.modifiedLineStart,v=e.modifiedLineEnd,y=Math.max(v-m,g-f),_=o.layoutInfo.glyphMarginWidth+o.layoutInfo.lineNumbersWidth,b=10+a.layoutInfo.glyphMarginWidth+a.layoutInfo.lineNumbersWidth,w=0;w<=y;w++){var C=0===f?0:f+w,S=0===m?0:m+w,x=document.createElement("div");x.style.minWidth=n+"px",x.className=c,x.setAttribute("role","listitem"),0!==S&&(i=S),x.setAttribute("data-line",String(i));var k=document.createElement("div");k.className="diff-review-cell",x.appendChild(k);var O=document.createElement("span");O.style.width=_+"px",O.style.minWidth=_+"px",O.className="diff-review-line-number"+d,0!==C?O.appendChild(document.createTextNode(String(C))):O.innerHTML="&nbsp;",k.appendChild(O);var E=document.createElement("span");E.style.width=b+"px",E.style.minWidth=b+"px",E.style.paddingRight="10px",E.className="diff-review-line-number"+d,0!==S?E.appendChild(document.createTextNode(String(S))):E.innerHTML="&nbsp;",k.appendChild(E);var L=document.createElement("span");L.className=p,L.innerHTML="&nbsp;&nbsp;",k.appendChild(L);var D=void 0;0===(D=0!==S?(k.insertAdjacentHTML("beforeend",this._renderLine(l,a,u.tabSize,S)),l.getLineContent(S)):(k.insertAdjacentHTML("beforeend",this._renderLine(r,o,s.tabSize,C)),r.getLineContent(C))).length&&(D=N.a("blankLine","blank"));var I=void 0;switch(h){case 0:I=N.a("equalLine","original {0}, modified {1}: {2}",C,S,D);break;case 1:I=N.a("insertLine","+ modified {0}: {1}",S,D);break;case 2:I=N.a("deleteLine","- original {0}: {1}",C,D)}x.setAttribute("aria-label",I),t.appendChild(x)}},T._renderLine=function(t,e,i,n){var o=t.getLineContent(n),r=new Uint32Array(2);r[0]=o.length,r[1]=16793600;var s=new f.a(r,o),a=w.d.isBasicASCII(o,t.mightContainNonBasicASCII()),l=w.d.containsRTL(o,a,t.mightContainRTL());return Object(b.d)(new b.b(e.fontInfo.isMonospace&&!e.viewInfo.disableMonospaceOptimizations,e.fontInfo.canUseHalfwidthRightwardsArrow,o,!1,a,l,0,s,[],i,e.fontInfo.spaceWidth,e.viewInfo.stopRenderingLineAfter,e.viewInfo.renderWhitespace,e.viewInfo.renderControlCharacters,e.viewInfo.fontLigatures)).html},T);function T(t){var i=E.call(this)||this;return i._width=0,i._diffEditor=t,i._isVisible=!1,i.shadow=Object(g.b)(document.createElement("div")),i.shadow.setClassName("diff-review-shadow"),i.actionBarContainer=Object(g.b)(document.createElement("div")),i.actionBarContainer.setClassName("diff-review-actions"),i._actionBar=i._register(new h.a(i.actionBarContainer.domNode)),i._actionBar.push(new d.a("diffreview.close",N.a("label.close","Close"),"close-diff-review",!0,function(){return i.hide(),null}),{label:!1,icon:!0}),i.domNode=Object(g.b)(document.createElement("div")),i.domNode.setClassName("diff-review monaco-editor-background"),i._content=Object(g.b)(document.createElement("div")),i._content.setClassName("diff-review-content"),i.scrollbar=i._register(new c.a(i._content.domNode,{})),i.domNode.domNode.appendChild(i.scrollbar.getDomNode()),i._register(t.onDidUpdateDiff(function(){i._isVisible&&(i._diffs=i._compute(),i._render())})),i._register(t.getModifiedEditor().onDidChangeCursorPosition(function(){i._isVisible&&i._render()})),i._register(t.getOriginalEditor().onDidFocusEditorWidget(function(){i._isVisible&&i.hide()})),i._register(t.getModifiedEditor().onDidFocusEditorWidget(function(){i._isVisible&&i.hide()})),i._register(D.k(i.domNode.domNode,"click",function(t){t.preventDefault();var e=D.q(t.target,"diff-review-row");e&&i._goToRow(e)})),i._register(D.k(i.domNode.domNode,"keydown",function(t){(t.equals(18)||t.equals(2066)||t.equals(530))&&(t.preventDefault(),i._goToRow(i._getNextRow())),(t.equals(16)||t.equals(2064)||t.equals(528))&&(t.preventDefault(),i._goToRow(i._getPrevRow())),(t.equals(9)||t.equals(2057)||t.equals(521)||t.equals(1033))&&(t.preventDefault(),i.hide()),(t.equals(10)||t.equals(3))&&(t.preventDefault(),i.accept())})),i._diffs=[],i._currentDiff=null,i}Object(x.e)(function(t,e){var i=t.getColor(_.q);i&&e.addRule(".monaco-diff-editor .diff-review-line-number { color: "+i+"; }");var n=t.getColor(S.vb);n&&e.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+n+" 0 -6px 6px -6px inset; }")});var M,A=(M=p.b,k(F,M),F.prototype.run=function(t,e){var i=W(t);i&&i.diffReviewNext()},F);function F(){return M.call(this,{id:"editor.action.diffReview.next",label:N.a("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:C.d.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}var j,B=(j=p.b,k(H,j),H.prototype.run=function(t,e){var i=W(t);i&&i.diffReviewPrev()},H);function H(){return j.call(this,{id:"editor.action.diffReview.prev",label:N.a("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:C.d.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}function W(t){for(var e=t.get(l.a).listDiffEditors(),i=0,n=e.length;i<n;i++){var o=e[i];if(o.hasWidgetFocus())return o}return null}Object(p.f)(A),Object(p.f)(B);var V=i(33),z=i(2),U=i(151),q=i(36),K=i(24),G=i(81),Y=i(141),$=i(121),Z=i(18),X=i(118),J=i(44);i.d(e,"a",function(){return at});var Q,tt=(Q=function(t,e){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),et=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},it=function(i,n){return function(t,e){n(t,e,i)}},nt=(ot.prototype.getForeignViewZones=function(t){var e=this;return t.filter(function(t){return!e._zonesMap[String(t.id)]})},ot.prototype.clean=function(t){var n=this;0<this._zones.length&&t.changeViewZones(function(t){for(var e=0,i=n._zones.length;e<i;e++)t.removeZone(n._zones[e])}),this._zones=[],this._zonesMap={},this._decorations=t.deltaDecorations(this._decorations,[])},ot.prototype.apply=function(t,e,r,i){var s=this,n=i?a.b.capture(t):null;t.changeViewZones(function(t){for(var e=0,i=s._zones.length;e<i;e++)t.removeZone(s._zones[e]);s._zones=[],s._zonesMap={},e=0;for(var n=r.zones.length;e<n;e++){r.zones[e].suppressMouseDown=!0;var o=t.addZone(r.zones[e]);s._zones.push(o),s._zonesMap[String(o)]=!0}}),n&&n.restore(t),this._decorations=t.deltaDecorations(this._decorations,r.decorations),e&&e.setZones(r.overviewZones)},ot);function ot(){this._zones=[],this._zonesMap={},this._decorations=[]}var rt,st=0,at=(rt=r.a,tt(lt,rt),lt.prototype.hasWidgetFocus=function(){return D.C(document.activeElement,this._domElement)},lt.prototype.diffReviewNext=function(){this._reviewPane.next()},lt.prototype.diffReviewPrev=function(){this._reviewPane.prev()},lt._getClassName=function(t,e){var i="monaco-diff-editor monaco-editor-background ";return e&&(i+="side-by-side "),i+=Object(x.d)(t.type)},lt.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},lt.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},lt.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},lt.prototype._createLeftHandSideEditor=function(t,e){var i=this;this.originalEditor=this._createInnerEditor(e,this._originalDomNode,this._adjustOptionsForLeftHandSide(t,this._originalIsEditable)),this._register(this.originalEditor.onDidScrollChange(function(t){i._isHandlingScrollEvent||(t.scrollTopChanged||t.scrollLeftChanged||t.scrollHeightChanged)&&(i._isHandlingScrollEvent=!0,i.modifiedEditor.setScrollPosition({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())})),this._register(this.originalEditor.onDidChangeViewZones(function(){i._onViewZonesChanged()})),this._register(this.originalEditor.onDidChangeModelContent(function(){i._isVisible&&i._beginUpdateDecorationsSoon()}))},lt.prototype._createRightHandSideEditor=function(t,e){var i=this;this.modifiedEditor=this._createInnerEditor(e,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t)),this._register(this.modifiedEditor.onDidScrollChange(function(t){i._isHandlingScrollEvent||(t.scrollTopChanged||t.scrollLeftChanged||t.scrollHeightChanged)&&(i._isHandlingScrollEvent=!0,i.originalEditor.setScrollPosition({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())})),this._register(this.modifiedEditor.onDidChangeViewZones(function(){i._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeConfiguration(function(t){t.fontInfo&&i.modifiedEditor.getModel()&&i._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeModelContent(function(){i._isVisible&&i._beginUpdateDecorationsSoon()}))},lt.prototype._createInnerEditor=function(t,e,i){return t.createInstance(u.a,e,i,{})},lt.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),rt.prototype.dispose.call(this)},lt.prototype.getId=function(){return this.getEditorType()+":"+this.id},lt.prototype.getEditorType=function(){return q.a.IDiffEditor},lt.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},lt.prototype.getOriginalEditor=function(){return this.originalEditor},lt.prototype.getModifiedEditor=function(){return this.modifiedEditor},lt.prototype.updateOptions=function(t){var e=!1;void 0!==t.renderSideBySide&&this._renderSideBySide!==t.renderSideBySide&&(this._renderSideBySide=t.renderSideBySide,e=!0);var i=!1;void 0!==t.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==t.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace,i=!0),void 0!==t.renderIndicators&&this._renderIndicators!==t.renderIndicators&&(this._renderIndicators=t.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),void 0!==t.originalEditable&&(this._originalIsEditable=Boolean(t.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t,this._originalIsEditable)),void 0!==t.enableSplitViewResizing&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),e&&(this._renderSideBySide?this._setStrategy(new _t(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new kt(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=lt._getClassName(this._themeService.getTheme(),this._renderSideBySide))},lt.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},lt.prototype.setModel=function(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(t?t.original:null),this.modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,t?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._diffComputationResult=null,this._layoutOverviewViewport()},lt.prototype.getDomNode=function(){return this._domElement},lt.prototype.getVisibleColumnFromPosition=function(t){return this.modifiedEditor.getVisibleColumnFromPosition(t)},lt.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},lt.prototype.setPosition=function(t){this.modifiedEditor.setPosition(t)},lt.prototype.revealLine=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealLine(t,e)},lt.prototype.revealLineInCenter=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealLineInCenter(t,e)},lt.prototype.revealLineInCenterIfOutsideViewport=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(t,e)},lt.prototype.revealPosition=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealPosition(t,e)},lt.prototype.revealPositionInCenter=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealPositionInCenter(t,e)},lt.prototype.revealPositionInCenterIfOutsideViewport=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(t,e)},lt.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},lt.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},lt.prototype.setSelection=function(t){this.modifiedEditor.setSelection(t)},lt.prototype.setSelections=function(t){this.modifiedEditor.setSelections(t)},lt.prototype.revealLines=function(t,e,i){void 0===i&&(i=0),this.modifiedEditor.revealLines(t,e,i)},lt.prototype.revealLinesInCenter=function(t,e,i){void 0===i&&(i=0),this.modifiedEditor.revealLinesInCenter(t,e,i)},lt.prototype.revealLinesInCenterIfOutsideViewport=function(t,e,i){void 0===i&&(i=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(t,e,i)},lt.prototype.revealRange=function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===n&&(n=!0),this.modifiedEditor.revealRange(t,e,i,n)},lt.prototype.revealRangeInCenter=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealRangeInCenter(t,e)},lt.prototype.revealRangeInCenterIfOutsideViewport=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(t,e)},lt.prototype.revealRangeAtTop=function(t,e){void 0===e&&(e=0),this.modifiedEditor.revealRangeAtTop(t,e)},lt.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},lt.prototype.saveViewState=function(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}},lt.prototype.restoreViewState=function(t){if(t.original&&t.original){var e=t;this.originalEditor.restoreViewState(e.original),this.modifiedEditor.restoreViewState(e.modified)}},lt.prototype.layout=function(t){this._measureDomElement(!1,t)},lt.prototype.focus=function(){this.modifiedEditor.focus()},lt.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},lt.prototype.trigger=function(t,e,i){this.modifiedEditor.trigger(t,e,i)},lt.prototype.changeDecorations=function(t){return this.modifiedEditor.changeDecorations(t)},lt.prototype._measureDomElement=function(t,e){if((e=e||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight}).width<=0)return this._width=0,this._height=0,void(this._reviewHeight=0);!t&&e.width===this._width&&e.height===this._height||(this._width=e.width,this._height=e.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout())},lt.prototype._layoutOverviewRulers=function(){var t=lt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*lt.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:lt.ONE_OVERVIEW_WIDTH,right:t+lt.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:lt.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))},lt.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},lt.prototype._beginUpdateDecorationsSoon=function(){var t=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return t._beginUpdateDecorations()},lt.UPDATE_DIFF_DECORATIONS_DELAY)},lt._equals=function(t,e){return!t&&!e||!(!t||!e)&&t.toString()===e.toString()},lt.prototype._beginUpdateDecorations=function(){var e=this;this._beginUpdateDecorationsTimeout=-1;var i=this.originalEditor.getModel(),n=this.modifiedEditor.getModel();if(i&&n){this._diffComputationToken++;var o=this._diffComputationToken;this._editorWorkerService.canComputeDiff(i.uri,n.uri)?this._editorWorkerService.computeDiff(i.uri,n.uri,this._ignoreTrimWhitespace).then(function(t){o===e._diffComputationToken&&i===e.originalEditor.getModel()&&n===e.modifiedEditor.getModel()&&(e._diffComputationResult=t,e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())},function(t){o===e._diffComputationToken&&i===e.originalEditor.getModel()&&n===e.modifiedEditor.getModel()&&(e._diffComputationResult=null,e._updateDecorationsRunner.schedule())}):lt._equals(i.uri,this._lastOriginalWarning)&&lt._equals(n.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=i.uri,this._lastModifiedWarning=n.uri,this._notificationService.warn(N.a("diff.tooLarge","Cannot compare files because one file is too large.")))}},lt.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},lt.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()){var t=this._diffComputationResult?this._diffComputationResult.changes:[],e=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(t,this._ignoreTrimWhitespace,this._renderIndicators,e,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},lt.prototype._adjustOptionsForSubEditor=function(t){var e=s.c(t||{});return e.inDiffEditor=!0,e.wordWrap="off",e.wordWrapMinified=!1,e.automaticLayout=!1,e.scrollbar=e.scrollbar||{},e.scrollbar.vertical="visible",e.folding=!1,e.codeLens=!1,e.fixedOverflowWidgets=!0,e.minimap||(e.minimap={}),e.minimap.enabled=!1,e},lt.prototype._adjustOptionsForLeftHandSide=function(t,e){var i=this._adjustOptionsForSubEditor(t);return i.readOnly=!e,i.overviewRulerLanes=1,i.extraEditorClassName="original-in-monaco-diff-editor",i},lt.prototype._adjustOptionsForRightHandSide=function(t){var e=this._adjustOptionsForSubEditor(t);return e.revealHorizontalRightPadding=V.a.viewInfo.revealHorizontalRightPadding+lt.ENTIRE_DIFF_OVERVIEW_WIDTH,e.scrollbar.verticalHasArrows=!1,e.extraEditorClassName="modified-in-monaco-diff-editor",e},lt.prototype.doLayout=function(){this._measureDomElement(!0)},lt.prototype._doLayout=function(){var t=this._strategy.layout();this._originalDomNode.style.width=t+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-t+"px",this._modifiedDomNode.style.left=t+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=this._height-this._reviewHeight+"px",this._overviewDomElement.style.width=lt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-lt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(lt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:t,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-t-lt.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},lt.prototype._layoutOverviewViewport=function(){var t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},lt.prototype._computeOverviewViewport=function(){var t=this.modifiedEditor.getLayoutInfo();if(!t)return null;var e=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),n=Math.max(0,t.contentHeight),o=Math.max(0,n-0),r=0<i?o/i:0;return{height:Math.max(0,Math.floor(t.contentHeight*r)),top:Math.floor(e*r)}},lt.prototype._createDataSource=function(){var t=this;return{getWidth:function(){return t._width},getHeight:function(){return t._height-t._reviewHeight},getContainerDomNode:function(){return t._containerDomElement},relayoutEditors:function(){t._doLayout()},getOriginalEditor:function(){return t.originalEditor},getModifiedEditor:function(){return t.modifiedEditor}}},lt.prototype._setStrategy=function(t){this._strategy&&this._strategy.dispose(),(this._strategy=t).applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._measureDomElement(!0)},lt.prototype._getLineChangeAtOrBeforeLineNumber=function(t,e){var i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||t<e(i[0]))return null;for(var n=0,o=i.length-1;n<o;){var r=Math.floor((n+o)/2),s=e(i[r]),a=r+1<=o?e(i[r+1]):Number.MAX_VALUE;t<s?o=r-1:a<=t?n=r+1:o=n=r}return i[n]},lt.prototype._getEquivalentLineForOriginalLineNumber=function(t){var e=this._getLineChangeAtOrBeforeLineNumber(t,function(t){return t.originalStartLineNumber});if(!e)return t;var i=e.originalStartLineNumber+(0<e.originalEndLineNumber?-1:0),n=e.modifiedStartLineNumber+(0<e.modifiedEndLineNumber?-1:0),o=0<e.originalEndLineNumber?e.originalEndLineNumber-e.originalStartLineNumber+1:0,r=0<e.modifiedEndLineNumber?e.modifiedEndLineNumber-e.modifiedStartLineNumber+1:0,s=t-i;return s<=o?n+Math.min(s,r):n+r-o+s},lt.prototype._getEquivalentLineForModifiedLineNumber=function(t){var e=this._getLineChangeAtOrBeforeLineNumber(t,function(t){return t.modifiedStartLineNumber});if(!e)return t;var i=e.originalStartLineNumber+(0<e.originalEndLineNumber?-1:0),n=e.modifiedStartLineNumber+(0<e.modifiedEndLineNumber?-1:0),o=0<e.originalEndLineNumber?e.originalEndLineNumber-e.originalStartLineNumber+1:0,r=0<e.modifiedEndLineNumber?e.modifiedEndLineNumber-e.modifiedStartLineNumber+1:0,s=t-n;return s<=r?i+Math.min(s,o):i+o-r+s},lt.prototype.getDiffLineInformationForOriginal=function(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null},lt.prototype.getDiffLineInformationForModified=function(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null},lt.ONE_OVERVIEW_WIDTH=15,lt.ENTIRE_DIFF_OVERVIEW_WIDTH=30,lt.UPDATE_DIFF_DECORATIONS_DELAY=200,lt=et([it(2,G.a),it(3,C.e),it(4,Z.a),it(5,l.a),it(6,x.c),it(7,J.a)],lt));function lt(t,e,i,n,o,r,s,a){var l=rt.call(this)||this;l._onDidDispose=l._register(new v.a),l.onDidDispose=l._onDidDispose.event,l._onDidUpdateDiff=l._register(new v.a),l.onDidUpdateDiff=l._onDidUpdateDiff.event,l._lastOriginalWarning=null,l._lastModifiedWarning=null,l._editorWorkerService=i,l._codeEditorService=r,l._contextKeyService=l._register(n.createScoped(t)),l._contextKeyService.createKey("isInDiffEditor",!0),l._themeService=s,l._notificationService=a,l.id=++st,l._domElement=t,e=e||{},l._renderSideBySide=!0,void 0!==e.renderSideBySide&&(l._renderSideBySide=e.renderSideBySide),l._ignoreTrimWhitespace=!0,void 0!==e.ignoreTrimWhitespace&&(l._ignoreTrimWhitespace=e.ignoreTrimWhitespace),l._renderIndicators=!0,void 0!==e.renderIndicators&&(l._renderIndicators=e.renderIndicators),l._originalIsEditable=!1,void 0!==e.originalEditable&&(l._originalIsEditable=Boolean(e.originalEditable)),l._updateDecorationsRunner=l._register(new m.d(function(){return l._updateDecorations()},0)),l._containerDomElement=document.createElement("div"),l._containerDomElement.className=lt._getClassName(l._themeService.getTheme(),l._renderSideBySide),l._containerDomElement.style.position="relative",l._containerDomElement.style.height="100%",l._domElement.appendChild(l._containerDomElement),l._overviewViewportDomElement=Object(g.b)(document.createElement("div")),l._overviewViewportDomElement.setClassName("diffViewport"),l._overviewViewportDomElement.setPosition("absolute"),l._overviewDomElement=document.createElement("div"),l._overviewDomElement.className="diffOverview",l._overviewDomElement.style.position="absolute",l._overviewDomElement.appendChild(l._overviewViewportDomElement.domNode),l._register(D.k(l._overviewDomElement,"mousedown",function(t){l.modifiedEditor.delegateVerticalScrollbarMouseDown(t)})),l._containerDomElement.appendChild(l._overviewDomElement),l._createLeftHandSide(),l._createRightHandSide(),l._beginUpdateDecorationsTimeout=-1,l._currentlyChangingViewZones=!1,l._diffComputationToken=0,l._originalEditorState=new nt,l._modifiedEditorState=new nt,l._isVisible=!0,l._isHandlingScrollEvent=!1,l._width=0,l._height=0,l._reviewHeight=0,l._diffComputationResult=null;var u=l._contextKeyService.createScoped();u.createKey("isInDiffLeftEditor",!0);var h=new X.a;h.set(C.e,u);var c=o.createChild(h),d=l._contextKeyService.createScoped();d.createKey("isInDiffRightEditor",!0);var p=new X.a;p.set(C.e,d);var f=o.createChild(p);return l._createLeftHandSideEditor(e,c),l._createRightHandSideEditor(e,f),l._reviewPane=new L(l),l._containerDomElement.appendChild(l._reviewPane.domNode.domNode),l._containerDomElement.appendChild(l._reviewPane.shadow.domNode),l._containerDomElement.appendChild(l._reviewPane.actionBarContainer.domNode),e.automaticLayout&&(l._measureDomElementToken=window.setInterval(function(){return l._measureDomElement(!1)},100)),l._enableSplitViewResizing=!0,void 0!==e.enableSplitViewResizing&&(l._enableSplitViewResizing=e.enableSplitViewResizing),l._renderSideBySide?l._setStrategy(new _t(l._createDataSource(),l._enableSplitViewResizing)):l._setStrategy(new kt(l._createDataSource(),l._enableSplitViewResizing)),l._register(s.onThemeChange(function(t){l._strategy&&l._strategy.applyColors(t)&&l._updateDecorationsRunner.schedule(),l._containerDomElement.className=lt._getClassName(l._themeService.getTheme(),l._renderSideBySide)})),l._codeEditorService.addDiffEditor(l),l}var ut,ht=(ut=r.a,tt(ct,ut),ct.prototype.applyColors=function(t){var e=(t.getColor(S.i)||S.f).transparent(2),i=(t.getColor(S.k)||S.g).transparent(2),n=!e.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=e,this._removeColor=i,n},ct.prototype.getEditorsDiffDecorations=function(t,e,i,n,o,r,s){o=o.sort(function(t,e){return t.afterLineNumber-e.afterLineNumber}),n=n.sort(function(t,e){return t.afterLineNumber-e.afterLineNumber});var a=this._getViewZones(t,n,o,r,s,i),l=this._getOriginalEditorDecorations(t,e,i,r,s),u=this._getModifiedEditorDecorations(t,e,i,r,s);return{original:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.original},modified:{decorations:u.decorations,overviewZones:u.overviewZones,zones:a.modified}}},ct);function ct(t){var e=ut.call(this)||this;return e._dataSource=t,e}var dt=(pt.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},pt);function pt(t){this._source=t,this._index=-1,this.advance()}var ft=(gt.prototype.getViewZones=function(){for(var t={original:[],modified:[]},e=0,i=0,n=0,o=0,r=0,s=0,a=function(t,e){return t.afterLineNumber-e.afterLineNumber},l=function(t,e){if(null===e.domNode&&0<t.length){var i=t[t.length-1];if(i.afterLineNumber===e.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=e.heightInLines)}t.push(e)},u=new dt(this.modifiedForeignVZ),h=new dt(this.originalForeignVZ),c=0,d=this.lineChanges.length;c<=d;c++){var p=c<d?this.lineChanges[c]:null;s=null!==p?(n=p.originalStartLineNumber+(0<p.originalEndLineNumber?-1:0),o=p.modifiedStartLineNumber+(0<p.modifiedEndLineNumber?-1:0),i=0<p.originalEndLineNumber?p.originalEndLineNumber-p.originalStartLineNumber+1:0,e=0<p.modifiedEndLineNumber?p.modifiedEndLineNumber-p.modifiedStartLineNumber+1:0,r=Math.max(p.originalStartLineNumber,p.originalEndLineNumber),Math.max(p.modifiedStartLineNumber,p.modifiedEndLineNumber)):(r=n+=1e7+i,o+=1e7+e);for(var f,g=[],m=[];u.current&&u.current.afterLineNumber<=s;){var v=void 0;v=u.current.afterLineNumber<=o?n-o+u.current.afterLineNumber:r;var y=null;p&&p.modifiedStartLineNumber<=u.current.afterLineNumber&&u.current.afterLineNumber<=p.modifiedEndLineNumber&&(y=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),g.push({afterLineNumber:v,heightInLines:u.current.heightInLines,domNode:null,marginDomNode:y}),u.advance()}for(;h.current&&h.current.afterLineNumber<=r;)v=void 0,v=h.current.afterLineNumber<=n?o-n+h.current.afterLineNumber:s,m.push({afterLineNumber:v,heightInLines:h.current.heightInLines,domNode:null}),h.advance();null!==p&&It(p)&&(f=this._produceOriginalFromDiff(p,i,e))&&g.push(f),null!==p&&Nt(p)&&(f=this._produceModifiedFromDiff(p,i,e))&&m.push(f);var _=0,b=0;for(g=g.sort(a),m=m.sort(a);_<g.length&&b<m.length;){var w=g[_],C=m[b],S=w.afterLineNumber-n,x=C.afterLineNumber-o;S<x?(l(t.original,w),_++):x<S?(l(t.modified,C),b++):w.shouldNotShrink?(l(t.original,w),_++):C.shouldNotShrink?(l(t.modified,C),b++):w.heightInLines>=C.heightInLines?(w.heightInLines-=C.heightInLines,b++):(C.heightInLines-=w.heightInLines,_++)}for(;_<g.length;)l(t.original,g[_]),_++;for(;b<m.length;)l(t.modified,m[b]),b++}function k(t){t.domNode||(t.domNode=function(){var t=document.createElement("div");return t.className="diagonal-fill",t}())}return t.original.forEach(k),t.modified.forEach(k),t},gt);function gt(t,e,i){this.lineChanges=t,this.originalForeignVZ=e,this.modifiedForeignVZ=i}function mt(t,e,i,n,o){return{range:new z.a(t,e,i,n),options:o}}var vt,yt={charDelete:K.a.register({className:"char-delete"}),charDeleteWholeLine:K.a.register({className:"char-delete",isWholeLine:!0}),charInsert:K.a.register({className:"char-insert"}),charInsertWholeLine:K.a.register({className:"char-insert",isWholeLine:!0}),lineInsert:K.a.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:K.a.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:K.a.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:K.a.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:K.a.register({marginClassName:"line-delete"})},_t=(tt(bt,vt=ht),bt.prototype.setEnableSplitViewResizing=function(t){var e=!1===t;this._disableSash!==e&&(this._disableSash=e,this._sash.state=this._disableSash?0:3)},bt.prototype.layout=function(t){void 0===t&&(t=this._sashRatio);var e=this._dataSource.getWidth()-at.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.floor((t||.5)*e),n=Math.floor(.5*e);return i=this._disableSash?n:i||n,2*bt.MINIMUM_EDITOR_WIDTH<e?(i<bt.MINIMUM_EDITOR_WIDTH&&(i=bt.MINIMUM_EDITOR_WIDTH),e-bt.MINIMUM_EDITOR_WIDTH<i&&(i=e-bt.MINIMUM_EDITOR_WIDTH)):i=n,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition},bt.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},bt.prototype.onSashDrag=function(t){var e=this._dataSource.getWidth()-at.ENTIRE_DIFF_OVERVIEW_WIDTH,i=this.layout((this._startSashPosition+(t.currentX-t.startX))/e);this._sashRatio=i/e,this._dataSource.relayoutEditors()},bt.prototype.onSashDragEnd=function(){this._sash.layout()},bt.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},bt.prototype.getVerticalSashTop=function(t){return 0},bt.prototype.getVerticalSashLeft=function(t){return this._sashPosition},bt.prototype.getVerticalSashHeight=function(t){return this._dataSource.getHeight()},bt.prototype._getViewZones=function(t,e,i,n,o){return new Ct(t,e,i).getViewZones()},bt.prototype._getOriginalEditorDecorations=function(t,e,i,n,o){for(var r=this._removeColor.toString(),s={decorations:[],overviewZones:[]},a=n.getModel(),l=0,u=t.length;l<u;l++){var h=t[l];if(Nt(h)&&(s.decorations.push({range:new z.a(h.originalStartLineNumber,1,h.originalEndLineNumber,Number.MAX_VALUE),options:i?yt.lineDeleteWithSign:yt.lineDelete}),It(h)&&h.charChanges||s.decorations.push(mt(h.originalStartLineNumber,1,h.originalEndLineNumber,Number.MAX_VALUE,yt.charDeleteWholeLine)),s.overviewZones.push(new Y.a(h.originalStartLineNumber,h.originalEndLineNumber,r)),h.charChanges))for(var c=0,d=h.charChanges.length;c<d;c++){var p=h.charChanges[c];if(Nt(p))if(e)for(var f=p.originalStartLineNumber;f<=p.originalEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.originalStartLineNumber?p.originalStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.originalEndLineNumber?p.originalEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(mt(f,g,f,m,yt.charDelete))}else s.decorations.push(mt(p.originalStartLineNumber,p.originalStartColumn,p.originalEndLineNumber,p.originalEndColumn,yt.charDelete))}}return s},bt.prototype._getModifiedEditorDecorations=function(t,e,i,n,o){for(var r=this._insertColor.toString(),s={decorations:[],overviewZones:[]},a=o.getModel(),l=0,u=t.length;l<u;l++){var h=t[l];if(It(h)&&(s.decorations.push({range:new z.a(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE),options:i?yt.lineInsertWithSign:yt.lineInsert}),Nt(h)&&h.charChanges||s.decorations.push(mt(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE,yt.charInsertWholeLine)),s.overviewZones.push(new Y.a(h.modifiedStartLineNumber,h.modifiedEndLineNumber,r)),h.charChanges))for(var c=0,d=h.charChanges.length;c<d;c++){var p=h.charChanges[c];if(It(p))if(e)for(var f=p.modifiedStartLineNumber;f<=p.modifiedEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.modifiedStartLineNumber?p.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.modifiedEndLineNumber?p.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(mt(f,g,f,m,yt.charInsert))}else s.decorations.push(mt(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,yt.charInsert))}}return s},bt.MINIMUM_EDITOR_WIDTH=100,bt);function bt(t,e){var i=vt.call(this,t)||this;return i._disableSash=!1===e,i._sashRatio=null,i._sashPosition=null,i._sash=i._register(new o.a(i._dataSource.getContainerDomNode(),i)),i._disableSash&&(i._sash.state=0),i._sash.onDidStart(function(){return i.onSashDragStart()}),i._sash.onDidChange(function(t){return i.onSashDrag(t)}),i._sash.onDidEnd(function(){return i.onSashDragEnd()}),i._sash.onDidReset(function(){return i.onSashReset()}),i}var wt,Ct=(tt(St,wt=ft),St.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},St.prototype._produceOriginalFromDiff=function(t,e,i){return e<i?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:i-e,domNode:null}:null},St.prototype._produceModifiedFromDiff=function(t,e,i){return i<e?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:e-i,domNode:null}:null},St);function St(t,e,i){return wt.call(this,t,e,i)||this}var xt,kt=(tt(Ot,xt=ht),Ot.prototype.setEnableSplitViewResizing=function(t){},Ot.prototype._getViewZones=function(t,e,i,n,o,r){return new Lt(t,e,i,n,o,r).getViewZones()},Ot.prototype._getOriginalEditorDecorations=function(t,e,i,n,o){for(var r=this._removeColor.toString(),s={decorations:[],overviewZones:[]},a=0,l=t.length;a<l;a++){var u=t[a];Nt(u)&&(s.decorations.push({range:new z.a(u.originalStartLineNumber,1,u.originalEndLineNumber,Number.MAX_VALUE),options:yt.lineDeleteMargin}),s.overviewZones.push(new Y.a(u.originalStartLineNumber,u.originalEndLineNumber,r)))}return s},Ot.prototype._getModifiedEditorDecorations=function(t,e,i,n,o){for(var r=this._insertColor.toString(),s={decorations:[],overviewZones:[]},a=o.getModel(),l=0,u=t.length;l<u;l++){var h=t[l];if(It(h))if(s.decorations.push({range:new z.a(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE),options:i?yt.lineInsertWithSign:yt.lineInsert}),s.overviewZones.push(new Y.a(h.modifiedStartLineNumber,h.modifiedEndLineNumber,r)),h.charChanges)for(var c=0,d=h.charChanges.length;c<d;c++){var p=h.charChanges[c];if(It(p))if(e)for(var f=p.modifiedStartLineNumber;f<=p.modifiedEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.modifiedStartLineNumber?p.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.modifiedEndLineNumber?p.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(mt(f,g,f,m,yt.charInsert))}else s.decorations.push(mt(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,yt.charInsert))}else s.decorations.push(mt(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE,yt.charInsertWholeLine))}return s},Ot.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},Ot);function Ot(e,t){var i=xt.call(this,e)||this;return i.decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,i._register(e.getOriginalEditor().onDidLayoutChange(function(t){i.decorationsLeft!==t.decorationsLeft&&(i.decorationsLeft=t.decorationsLeft,e.relayoutEditors())})),i}var Et,Lt=(tt(Dt,Et=ft),Dt.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var t=document.createElement("div");return t.className="inline-added-margin-view-zone",t},Dt.prototype._produceOriginalFromDiff=function(t,e,i){var n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}},Dt.prototype._produceModifiedFromDiff=function(t,e,i){var n=[];if(t.charChanges)for(var o=0,r=t.charChanges.length;o<r;o++){var s=t.charChanges[o];Nt(s)&&n.push(new w.a(new z.a(s.originalStartLineNumber,s.originalStartColumn,s.originalEndLineNumber,s.originalEndColumn),"char-delete",0))}for(var a=Object(U.a)(1e4),l=[],u=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth,h=this.modifiedEditorConfiguration.lineHeight,c=this.modifiedEditorConfiguration.fontInfo.typicalHalfwidthCharacterWidth,d=0,p=t.originalStartLineNumber;p<=t.originalEndLineNumber;p++)if(d=Math.max(d,this._renderOriginalLine(p-t.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,p,n,a)),this.renderIndicators){var f=p-t.originalStartLineNumber;l=l.concat(['<div class="delete-sign" style="position:absolute;top:'+f*h+"px;width:"+u+"px;height:"+h+'px;right:0;"></div>'])}d+=this.modifiedEditorConfiguration.viewInfo.scrollBeyondLastColumn;var g=document.createElement("div");g.className="view-lines line-delete",g.innerHTML=a.build(),I.a.applyFontInfoSlow(g,this.modifiedEditorConfiguration.fontInfo);var m=document.createElement("div");return m.className="inline-deleted-margin-view-zone",m.innerHTML=l.join(""),I.a.applyFontInfoSlow(m,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:e,minWidthInPx:d*c,domNode:g,marginDomNode:m}},Dt.prototype._renderOriginalLine=function(t,e,i,n,o,r,s){var a=e.getLineTokens(o),l=a.getLineContent(),u=$.a.filter(r,o,1,l.length+1);s.appendASCIIString('<div class="view-line'),0===r.length&&s.appendASCIIString(" char-delete"),s.appendASCIIString('" style="top:'),s.appendASCIIString(String(t*i.lineHeight)),s.appendASCIIString('px;width:1000000px;">');var h=w.d.isBasicASCII(l,e.mightContainNonBasicASCII()),c=w.d.containsRTL(l,h,e.mightContainRTL()),d=Object(b.c)(new b.b(i.fontInfo.isMonospace&&!i.viewInfo.disableMonospaceOptimizations,i.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,h,c,0,a,u,n,i.fontInfo.spaceWidth,i.viewInfo.stopRenderingLineAfter,i.viewInfo.renderWhitespace,i.viewInfo.renderControlCharacters,i.viewInfo.fontLigatures),s);s.appendASCIIString("</div>");var p=d.characterMapping.getAbsoluteOffsets();return 0<p.length?p[p.length-1]:0},Dt);function Dt(t,e,i,n,o,r){var s=Et.call(this,t,e,i)||this;return s.originalModel=n.getModel(),s.modifiedEditorConfiguration=o.getConfiguration(),s.modifiedEditorTabSize=o.getModel().getOptions().tabSize,s.renderIndicators=r,s}function It(t){return 0<t.modifiedEndLineNumber}function Nt(t){return 0<t.originalEndLineNumber}Object(x.e)(function(t,e){var i=t.getColor(S.i);i&&(e.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+i+"; }"),e.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+i+"; }"),e.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+i+"; }"));var n=t.getColor(S.k);n&&(e.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+n+"; }"),e.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+n+"; }"),e.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+n+"; }"));var o=t.getColor(S.j);o&&e.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+("hc"===t.type?"dashed":"solid")+" "+o+"; }");var r=t.getColor(S.l);r&&e.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+("hc"===t.type?"dashed":"solid")+" "+r+"; }");var s=t.getColor(S.vb);s&&e.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }");var a=t.getColor(S.h);a&&e.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+a+"; }")})},function(t,e,i){"use strict";i.d(e,"c",function(){return o}),i.d(e,"b",function(){return r}),i.d(e,"a",function(){return s});var n=i(84);function o(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function r(t,e){if(!Array.isArray(t))return"";for(var i=[],n=0;n<t.length;n++){var o=t[n];try{i.push(String(o))}catch(t){i.push("[value cannot be serialized]")}}return i.join(e)}function s(t,e){return Object(n.i)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e)}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(66),o=Object(n.f)(),r="Sentry Logger ",s=(a.prototype.disable=function(){this._enabled=!1},a.prototype.enable=function(){this._enabled=!0},a.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(n.c)(function(){o.console.log(r+"[Log]: "+t.join(" "))})},a.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(n.c)(function(){o.console.warn(r+"[Warn]: "+t.join(" "))})},a.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(n.c)(function(){o.console.error(r+"[Error]: "+t.join(" "))})},a);function a(){this._enabled=!1}o.__SENTRY__=o.__SENTRY__||{};var l=o.__SENTRY__.logger||(o.__SENTRY__.logger=new s)},function(t,et,e){"use strict";e.r(et),function(t){var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,n=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(i&&0<=navigator.userAgent.indexOf(t[e]))return 1;return 0}();var r=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},n))}};function s(t){return t&&"[object Function]"==={}.toString.call(t)}function b(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function f(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function g(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=b(t),i=e.overflow,n=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(i+o+n)?t:g(f(t))}function m(t){return t&&t.referenceNode?t.referenceNode:t}var e=i&&!(!window.MSInputMethodContext||!document.documentMode),o=i&&/MSIE 10/.test(navigator.userAgent);function v(t){return 11===t?e:10===t?o:e||o}function _(t){if(!t)return document.documentElement;for(var e=v(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===b(i,"position")?_(i):i:t?t.ownerDocument.documentElement:document.documentElement}function l(t){return null!==t.parentNode?l(t.parentNode):t}function y(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,o=i?e:t,r=document.createRange();r.setStart(n,0),r.setEnd(o,0);var s=r.commonAncestorContainer;if(t!==s&&e!==s||n.contains(o))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||_(t.firstElementChild)===t)}(s)?s:_(s);var a=l(t);return a.host?y(a.host,e):y(t,l(e).host)}function w(t,e){var i="top"===(1<arguments.length&&void 0!==e?e:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"!==n&&"HTML"!==n)return t[i];var o=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||o)[i]}function c(t,e){var i="x"===e?"Left":"Top",n="Left"==i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function a(t,e,i,n){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],v(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function C(t){var e=t.body,i=t.documentElement,n=v(10)&&getComputedStyle(i);return{height:a("Height",e,i,n),width:a("Width",e,i,n)}}var u=function(t,e,i){return e&&h(t.prototype,e),i&&h(t,i),t};function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function k(t){return x({},t,{right:t.left+t.width,bottom:t.top+t.height})}function O(t){var e={};try{if(v(10)){e=t.getBoundingClientRect();var i=w(t,"top"),n=w(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?C(t.ownerDocument):{},s=r.width||t.clientWidth||o.width,a=r.height||t.clientHeight||o.height,l=t.offsetWidth-s,u=t.offsetHeight-a;if(l||u){var h=b(t);l-=c(h,"x"),u-=c(h,"y"),o.width-=l,o.height-=u}return k(o)}function E(t,e,i){var n=2<arguments.length&&void 0!==i&&i,o=v(10),r="HTML"===e.nodeName,s=O(t),a=O(e),l=g(t),u=b(e),h=parseFloat(u.borderTopWidth,10),c=parseFloat(u.borderLeftWidth,10);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=k({top:s.top-a.top-h,left:s.left-a.left-c,width:s.width,height:s.height});if(d.marginTop=0,d.marginLeft=0,!o&&r){var p=parseFloat(u.marginTop,10),f=parseFloat(u.marginLeft,10);d.top-=h-p,d.bottom-=h-p,d.left-=c-f,d.right-=c-f,d.marginTop=p,d.marginLeft=f}return(o&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(d=function(t,e,i){var n=2<arguments.length&&void 0!==i&&i,o=w(e,"top"),r=w(e,"left"),s=n?-1:1;return t.top+=o*s,t.bottom+=o*s,t.left+=r*s,t.right+=r*s,t}(d,e)),d}function L(t){if(!t||!t.parentElement||v())return document.documentElement;for(var e=t.parentElement;e&&"none"===b(e,"transform");)e=e.parentElement;return e||document.documentElement}function p(t,e,i,n,o){var r=4<arguments.length&&void 0!==o&&o,s={top:0,left:0},a=r?L(t):y(t,m(e));if("viewport"===n)s=function(t,e){var i=1<arguments.length&&void 0!==e&&e,n=t.ownerDocument.documentElement,o=E(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),a=i?0:w(n),l=i?0:w(n,"left");return k({top:a-o.top+o.marginTop,left:l-o.left+o.marginLeft,width:r,height:s})}(a,r);else{var l=void 0;"scrollParent"===n?"BODY"===(l=g(f(e))).nodeName&&(l=t.ownerDocument.documentElement):l="window"===n?t.ownerDocument.documentElement:n;var u=E(l,a,r);if("HTML"!==l.nodeName||function t(e){var i=e.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===b(e,"position"))return!0;var n=f(e);return!!n&&t(n)}(a))s=u;else{var h=C(t.ownerDocument),c=h.height,d=h.width;s.top+=u.top-u.marginTop,s.bottom=c+u.top,s.left+=u.left-u.marginLeft,s.right=d+u.left}}var p="number"==typeof(i=i||0);return s.left+=p?i:i.left||0,s.top+=p?i:i.top||0,s.right-=p?i:i.right||0,s.bottom-=p?i:i.bottom||0,s}function d(t,e,n,i,o,r){var s=5<arguments.length&&void 0!==r?r:0;if(-1===t.indexOf("auto"))return t;var a=p(n,i,s,o),l={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(l).map(function(t){return x({key:t},l[t],{area:function(t){return t.width*t.height}(l[t])})}).sort(function(t,e){return e.area-t.area}),h=u.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=0<h.length?h[0].key:u[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function D(t,e,i,n){var o=3<arguments.length&&void 0!==n?n:null;return E(i,o?L(e):y(e,m(i)),o)}function I(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function N(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function T(t,e,i){i=i.split("-")[0];var n=I(t),o={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(i),s=r?"top":"left",a=r?"left":"top",l=r?"height":"width",u=r?"width":"height";return o[s]=e[s]+e[l]/2-n[l]/2,o[a]=i===a?e[a]-n[u]:e[N(a)],o}function M(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function A(t,i,e){return(void 0===e?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===i});var n=M(t,function(t){return t[e]===i});return t.indexOf(n)}(t,"name",e))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&s(e)&&(i.offsets.popper=k(i.offsets.popper),i.offsets.reference=k(i.offsets.reference),i=e(i,t))}),i}function P(t,i){return t.some(function(t){var e=t.name;return t.enabled&&e===i})}function R(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var o=e[n],r=o?""+o+i:t;if(void 0!==document.body.style[r])return r}return null}function F(t){var e=t.ownerDocument;return e?e.defaultView:window}function j(t,e,i,n){i.updateBound=n,F(t).addEventListener("resize",i.updateBound,{passive:!0});var o=g(t);return function t(e,i,n,o){var r="BODY"===e.nodeName,s=r?e.ownerDocument.defaultView:e;s.addEventListener(i,n,{passive:!0}),r||t(g(s.parentNode),i,n,o),o.push(s)}(o,"scroll",i.updateBound,i.scrollParents),i.scrollElement=o,i.eventsEnabled=!0,i}function B(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(t,e){return F(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function H(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function W(i,n){Object.keys(n).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&H(n[t])&&(e="px"),i.style[t]=n[t]+e})}function V(t,e){function i(t){return t}var n=t.offsets,o=n.popper,r=n.reference,s=Math.round,a=Math.floor,l=s(r.width),u=s(o.width),h=-1!==["left","right"].indexOf(t.placement),c=-1!==t.placement.indexOf("-"),d=e?h||c||l%2==u%2?s:a:i,p=e?s:i;return{left:d(l%2==1&&u%2==1&&!c&&e?o.left-1:o.left),top:p(o.top),bottom:p(o.bottom),right:d(o.right)}}var z=i&&/Firefox/i.test(navigator.userAgent);function U(t,e,i){var n=M(t,function(t){return t.name===e}),o=!!n&&t.some(function(t){return t.name===i&&t.enabled&&t.order<n.order});if(!o){var r="`"+e+"`",s="`"+i+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],K=q.slice(3);function G(t,e){var i=1<arguments.length&&void 0!==e&&e,n=K.indexOf(t),o=K.slice(n+1).concat(K.slice(0,n));return i?o.reverse():o}var Y="flip",$="clockwise",Z="counterclockwise";function X(t,o,r,e){var s=[0,0],a=-1!==["right","left"].indexOf(e),i=t.split(/(\+|\-)/).map(function(t){return t.trim()}),n=i.indexOf(M(i,function(t){return-1!==t.search(/,|\s/)}));i[n]&&-1===i[n].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==n?[i.slice(0,n).concat([i[n].split(l)[0]]),[i[n].split(l)[1]].concat(i.slice(n+1))]:[i];return(u=u.map(function(t,e){var i=(1===e?!a:a)?"height":"width",n=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,n=!0,t):n?(t[t.length-1]+=e,n=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,i,n){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],s=o[2];if(!r)return t;if(0!==s.indexOf("%"))return"vh"!==s&&"vw"!==s?r:("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;var a=void 0;switch(s){case"%p":a=i;break;case"%":case"%r":default:a=n}return k(a)[e]/100*r}(t,i,o,r)})})).forEach(function(i,n){i.forEach(function(t,e){H(t)&&(s[n]+=t*("-"===i[e-1]?-1:1))})}),s}var J={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var o=t.offsets,r=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(i),l=a?"left":"top",u=a?"width":"height",h={start:S({},l,r[l]),end:S({},l,r[l]+r[u]-s[u])};t.offsets.popper=x({},s,h[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i=e.offset,n=t.placement,o=t.offsets,r=o.popper,s=o.reference,a=n.split("-")[0],l=void 0;return l=H(+i)?[+i,0]:X(i,r,s,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,n){var e=n.boundariesElement||_(t.instance.popper);t.instance.reference===e&&(e=_(e));var i=R("transform"),o=t.instance.popper.style,r=o.top,s=o.left,a=o[i];o.top="",o.left="",o[i]="";var l=p(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed);o.top=r,o.left=s,o[i]=a,n.boundaries=l;var u=n.priority,h=t.offsets.popper,c={primary:function(t){var e=h[t];return h[t]<l[t]&&!n.escapeWithReference&&(e=Math.max(h[t],l[t])),S({},t,e)},secondary:function(t){var e="right"===t?"left":"top",i=h[e];return h[t]>l[t]&&!n.escapeWithReference&&(i=Math.min(h[e],l[t]-("right"===t?h.width:h.height))),S({},e,i)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";h=x({},h,c[e](t))}),t.offsets.popper=h,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,o=t.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return i[a]<r(n[l])&&(t.offsets.popper[l]=r(n[l])-i[u]),i[l]>r(n[a])&&(t.offsets.popper[l]=r(n[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!U(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,s=r.popper,a=r.reference,l=-1!==["left","right"].indexOf(o),u=l?"height":"width",h=l?"Top":"Left",c=h.toLowerCase(),d=l?"left":"top",p=l?"bottom":"right",f=I(n)[u];a[p]-f<s[c]&&(t.offsets.popper[c]-=s[c]-(a[p]-f)),a[c]+f>s[p]&&(t.offsets.popper[c]+=a[c]+f-s[p]),t.offsets.popper=k(t.offsets.popper);var g=a[c]+a[u]/2-f/2,m=b(t.instance.popper),v=parseFloat(m["margin"+h],10),y=parseFloat(m["border"+h+"Width"],10),_=g-t.offsets.popper[c]-v-y;return _=Math.max(Math.min(s[u]-f,_),0),t.arrowElement=n,t.offsets.arrow=(S(i={},c,Math.round(_)),S(i,d,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(g,m){if(P(g.instance.modifiers,"inner"))return g;if(g.flipped&&g.placement===g.originalPlacement)return g;var v=p(g.instance.popper,g.instance.reference,m.padding,m.boundariesElement,g.positionFixed),y=g.placement.split("-")[0],_=N(y),b=g.placement.split("-")[1]||"",w=[];switch(m.behavior){case Y:w=[y,_];break;case $:w=G(y);break;case Z:w=G(y,!0);break;default:w=m.behavior}return w.forEach(function(t,e){if(y!==t||w.length===e+1)return g;y=g.placement.split("-")[0],_=N(y);var i=g.offsets.popper,n=g.offsets.reference,o=Math.floor,r="left"===y&&o(i.right)>o(n.left)||"right"===y&&o(i.left)<o(n.right)||"top"===y&&o(i.bottom)>o(n.top)||"bottom"===y&&o(i.top)<o(n.bottom),s=o(i.left)<o(v.left),a=o(i.right)>o(v.right),l=o(i.top)<o(v.top),u=o(i.bottom)>o(v.bottom),h="left"===y&&s||"right"===y&&a||"top"===y&&l||"bottom"===y&&u,c=-1!==["top","bottom"].indexOf(y),d=!!m.flipVariations&&(c&&"start"===b&&s||c&&"end"===b&&a||!c&&"start"===b&&l||!c&&"end"===b&&u),p=!!m.flipVariationsByContent&&(c&&"start"===b&&a||c&&"end"===b&&s||!c&&"start"===b&&u||!c&&"end"===b&&l),f=d||p;(r||h||f)&&(g.flipped=!0,(r||h)&&(y=w[e+1]),f&&(b=function(t){return"end"===t?"start":"start"===t?"end":t}(b)),g.placement=y+(b?"-"+b:""),g.offsets.popper=x({},g.offsets.popper,T(g.instance.popper,g.offsets.reference,g.placement)),g=A(g.instance.modifiers,g,"flip"))}),g},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,o=n.popper,r=n.reference,s=-1!==["left","right"].indexOf(i),a=-1===["top","left"].indexOf(i);return o[s?"left":"top"]=r[i]-(a?o[s?"width":"height"]:0),t.placement=N(e),t.offsets.popper=k(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!U(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=M(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,o=t.offsets.popper,r=M(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:e.gpuAcceleration,a=_(t.instance.popper),l=O(a),u={position:o.position},h=V(t,window.devicePixelRatio<2||!z),c="bottom"===i?"top":"bottom",d="right"===n?"left":"right",p=R("transform"),f=void 0,g=void 0;if(g="bottom"==c?"HTML"===a.nodeName?-a.clientHeight+h.bottom:-l.height+h.bottom:h.top,f="right"==d?"HTML"===a.nodeName?-a.clientWidth+h.right:-l.width+h.right:h.left,s&&p)u[p]="translate3d("+f+"px, "+g+"px, 0)",u[c]=0,u[d]=0,u.willChange="transform";else{var m="bottom"==c?-1:1,v="right"==d?-1:1;u[c]=g*m,u[d]=f*v,u.willChange=c+", "+d}var y={"x-placement":t.placement};return t.attributes=x({},y,t.attributes),t.styles=x({},u,t.styles),t.arrowStyles=x({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return W(t.instance.popper,t.styles),function(e,i){Object.keys(i).forEach(function(t){!1!==i[t]?e.setAttribute(t,i[t]):e.removeAttribute(t)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&W(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,o){var r=D(o,e,t,i.positionFixed),s=d(i.placement,r,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",s),W(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},Q=(u(tt,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=d(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=T(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=A(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,P(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[R("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=j(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return B.call(this)}}]),tt);function tt(t,e){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,tt),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=r(this.update.bind(this)),this.options=x({},tt.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(x({},tt.Defaults.modifiers,n.modifiers)).forEach(function(t){i.options.modifiers[t]=x({},tt.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return x({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&s(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}Q.Utils=("undefined"!=typeof window?window:t).PopperUtils,Q.placements=q,Q.Defaults=J,et.default=Q}.call(this,e(133))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";var o=i(236),n=i(251),r=i(43),s=i(135),a=i(252),l=i(58);function u(t){if(!t||void 0===t.version)return!1;switch(t.version){case 1:t.filterAsm={},t.version=2;case 2:t.compilers=[t],t.version=3;case 3:t=function(t){var e=t.compilers[0];if(!e)throw new Error("Unable to determine compiler from old state");var i,n=[];i=e.sourcez?a.decompressFromBase64(e.sourcez):e.source;var o={compileOnChange:!0,colouriseAsm:t.filterAsm.colouriseAsm},r=l.clone(t.filterAsm);return delete r.colouriseAsm,n.push(s.getEditorWith(1,i,o)),n.push(s.getCompilerWith(1,r,e.options,e.compiler)),{version:4,content:[{type:"row",content:n}]}}(t);break;case 4:t=o.unminifyConfig(t);break;default:throw new Error("Invalid version '"+t.version+"'")}return t}function h(t){return n.quote(n.encode_object(t))}function c(t){return n.decode_object(decodeURIComponent(t.replace(/\+/g,"%20")))}t.exports={deserialiseState:function(t){var e,i;try{(e=c(t))&&e.z&&(e=c(a.decompressFromBase64(e.z)))}catch(t){i=t}if(!e)try{e=r.parseJSON(decodeURIComponent(t))}catch(t){i=i||t}if(!e&&i)throw i;return u(e)},serialiseState:function(t){var e=o.minifyConfig({content:t.content});e.version=4;var i=h(e),n=h({z:a.compressToBase64(i)});return n.length<.8*i.length?n:i},unrisonify:c,risonify:h}},function(t,e,i){var n,o,a,p;a=window.$,(p={config:{},container:{},controls:{},errors:{},items:{},utils:{}}).utils.F=function(){},p.utils.extend=function(t,e){t.prototype=p.utils.createObject(e.prototype),t.prototype.contructor=t},p.utils.createObject=function(t){return"function"==typeof Object.create?Object.create(t):(p.utils.F.prototype=t,new p.utils.F)},p.utils.objectKeys=function(t){var e,i;if("function"==typeof Object.keys)return Object.keys(t);for(i in e=[],t)e.push(i);return e},p.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+"=([^&]*)"));return e?e[1]:null},p.utils.getQueryStringParam=function(t){if(window.location.hash)return p.utils.getHashValue(t);if(!window.location.search)return null;var e,i,n=window.location.search.substr(1).split("&"),o={};for(i=0;i<n.length;i++)o[(e=n[i].split("="))[0]]=e[1];return o[t]||null},p.utils.copy=function(t,e){for(var i in e)t[i]=e[i];return t},p.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})(function(){t()})},p.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error("Haystack is not an Array");if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},"object"!=typeof Int8Array?p.utils.isFunction=function(t){return"function"==typeof t||!1}:p.utils.isFunction=function(t){return"[object Function]"===toString.call(t)},p.utils.fnBind=function(e,i,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(e,[i].concat(n||[]));var o=function(){var t=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof o))return e.apply(i,t);e.apply(this,t)};return o.prototype=e.prototype,o},p.utils.removeFromArray=function(t,e){var i=p.utils.indexOf(t,e);if(-1===i)throw new Error("Can't remove item from array. Item is not in the array");e.splice(i,1)},p.utils.now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()},p.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(".","")},p.utils.filterXss=function(t,e){var i=t.replace(/javascript/gi,"j&#97;vascript").replace(/expression/gi,"expr&#101;ssion").replace(/onload/gi,"onlo&#97;d").replace(/script/gi,"&#115;cript").replace(/onerror/gi,"on&#101;rror");return!0===e?i:i.replace(/>/g,"&gt;").replace(/</g,"&lt;")},p.utils.stripTags=function(t){return a.trim(t.replace(/(<([^>]+)>)/gi,""))},p.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[p.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,i){if(!p.utils.isFunction(e))throw new Error("Tried to listen to event "+t+" with non-function callback "+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:i})},this.emit=function(t){var e,i,n;n=Array.prototype.slice.call(arguments,1);var o=this._mSubscriptions[t];if(o)for(o=o.slice(),e=0;e<o.length;e++)i=o[e].ctx||{},o[e].fn.apply(i,n);n.unshift(t);var r=this._mSubscriptions[p.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)i=r[e].ctx||{},r[e].fn.apply(i,n)},this.unbind=function(t,e,i){if(!this._mSubscriptions[t])throw new Error("No subscribtions to unsubscribe for event "+t);var n,o=!1;for(n=0;n<this._mSubscriptions[t].length;n++)e&&this._mSubscriptions[t][n].fn!==e||i&&i!==this._mSubscriptions[t][n].ctx||(this._mSubscriptions[t].splice(n,1),o=!0);if(!1===o)throw new Error("Nothing to unbind for "+t)},this.off=this.unbind,this.trigger=this.emit},p.utils.EventEmitter.ALL_EVENT="__all",p.utils.DragListener=function(t,e){p.utils.EventEmitter.call(this),this._eElement=a(t),this._oDocument=a(document),this._eBody=a(document.body),this._nButtonCode=e||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=p.utils.fnBind(this.onMouseMove,this),this._fUp=p.utils.fnBind(this.onMouseUp,this),this._fDown=p.utils.fnBind(this.onMouseDown,this),this._eElement.on("mousedown touchstart",this._fDown)},p.utils.DragListener.timeout=null,p.utils.copy(p.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind("mousedown touchstart",this._fDown),this._oDocument.unbind("mouseup touchend",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||"touchstart"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on("mousemove touchmove",this._fMove),this._oDocument.one("mouseup touchend",this._fUp),this._timeout=setTimeout(p.utils.fnBind(this._startDrag,this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag()),this._bDragging&&this.emit("drag",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass("lm_dragging"),this._eElement.removeClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events",""),this._oDocument.unbind("mousemove touchmove",this._fMove),this._oDocument.unbind("mouseup touchend",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit("dragStop",t,this._nOriginalX+this._nX)))},_startDrag:function(){this._bDragging=!0,this._eBody.addClass("lm_dragging"),this._eElement.addClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),p.LayoutManager=function(t,e){if(!a||"function"!=typeof a.noConflict)throw new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\'s scope (e.g. window) or add "jquery" to your paths when using RequireJS/AMD');p.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={"lm-react-component":p.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=p.utils.fnBind(this._onResize,this),this._unloadFunction=p.utils.fnBind(this._onUnload,this),this._maximisedItem=null,this._maximisePlaceholder=a('<div class="lm_maximise_place"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new p.utils.EventHub(this),this.config=this._createConfig(t),this.container=e,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=a('<div class="lm_drop_tab_placeholder"></div>'),!0===this.isSubWindow&&a("body").css("visibility","hidden"),this._typeToItem={column:p.utils.fnBind(p.items.RowOrColumn,this,[!0]),row:p.utils.fnBind(p.items.RowOrColumn,this,[!1]),stack:p.items.Stack,component:p.items.Component}},(p.LayoutManager.__lm=p).LayoutManager.minifyConfig=function(t){return(new p.utils.ConfigMinifier).minifyConfig(t)},p.LayoutManager.unminifyConfig=function(t){return(new p.utils.ConfigMinifier).unminifyConfig(t)},p.utils.copy(p.LayoutManager.prototype,{registerComponent:function(t,e){if("function"!=typeof e)throw new Error("Please register a constructor function");if(void 0!==this._components[t])throw new Error("Component "+t+" is already registered");this._components[t]=e},toConfig:function(t){var e,o,i;if(!1===this.isInitialised)throw new Error("Can't create config, layout not yet initialised");if(t&&!(t instanceof p.items.AbstractContentItem))throw new Error("Root must be a ContentItem");for(e={settings:p.utils.copy({},this.config.settings),dimensions:p.utils.copy({},this.config.dimensions),labels:p.utils.copy({},this.config.labels),content:[]},(o=function(t,e){var i,n;for(i in e.config)"content"!==i&&(t[i]=e.config[i]);if(e.contentItems.length)for(t.content=[],n=0;n<e.contentItems.length;n++)t.content[n]={},o(t.content[n],e.contentItems[n])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],i=0;i<this.openPopouts.length;i++)e.openPopouts.push(this.openPopouts[i].toConfig());return e.maximisedItemId=this._maximisedItem?"__glMaximised":null,e},getComponent:function(t){if(void 0===this._components[t])throw new p.errors.ConfigurationError('Unknown component "'+t+'"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),"loading"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(p.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new p.controls.DropTargetIndicator(this.container),this.transitionIndicator=new p.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit("initialised")}else a(document).ready(p.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards("setSize",[this.width,this.height]),this._maximisedItem&&(this._maximisedItem.element.width(this.container.width()),this._maximisedItem.element.height(this.container.height()),this._maximisedItem.callDownwards("setSize")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),a(window).off("resize",this._resizeFunction),a(window).off("unload beforeunload",this._unloadFunction),this.root.callDownwards("_$destroy",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach(function(t){t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null}),this._dragSources=[])},createContentItem:function(t,e){var i;if("string"!=typeof t.type)throw new p.errors.ConfigurationError("Missing parameter 'type'",t);if("react-component"===t.type&&(t.type="component",t.componentName="lm-react-component"),!this._typeToItem[t.type])throw i="Unknown type '"+t.type+"'. Valid types are "+p.utils.objectKeys(this._typeToItem).join(","),new p.errors.ConfigurationError(i);return"component"!==t.type||e instanceof p.items.Stack||!e||!0===this.isSubWindow&&e instanceof p.items.Root||(t={type:"stack",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,i,n){var o,r,s,a,l,u,h=t,c=t instanceof p.items.AbstractContentItem,d=this;if(i=i||null,c){for(h=this.toConfig(t).content,i=p.utils.getUniqueId(),a=t.parent,l=t;1===a.contentItems.length&&!a.isRoot;)a=a.parent,l=l.parent;a.addId(i),isNaN(n)&&(n=p.utils.indexOf(l,a.contentItems))}else h instanceof Array||(h=[h]);return!e&&c&&(o=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:o+(s=t.element.offset()).left,top:r+s.top,width:t.element.width(),height:t.element.height()}),e||c||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),c&&t.remove(),(u=new p.controls.BrowserPopout(h,e,i,n,this)).on("initialised",function(){d.emit("windowOpened",u)}),u.on("closed",function(){d._$reconcilePopoutWindows()}),this.openPopouts.push(u),u},createDragSource:function(t,e){this.config.settings.constrainDragToContainer=!1;var i=new p.controls.DragSource(a(t),e,this);return this._dragSources.push(i),i},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error("Please set selectionEnabled to true to use this feature");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit("selectionChanged",t))},_$maximiseItem:function(t){null!==this._maximisedItem&&this._$minimiseItem(this._maximisedItem),this._maximisedItem=t,this._maximisedItem.addId("__glMaximised"),t.element.addClass("lm_maximised"),t.element.after(this._maximisePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards("setSize"),this._maximisedItem.emit("maximised"),this.emit("stateChanged")},_$minimiseItem:function(t){t.element.removeClass("lm_maximised"),t.removeId("__glMaximised"),this._maximisePlaceholder.after(t.element),this._maximisePlaceholder.remove(),t.parent.callDownwards("setSize"),this._maximisedItem=null,t.emit("minimised"),this.emit("stateChanged")},_$closeWindow:function(){window.setTimeout(function(){window.close()},1)},_$getArea:function(t,e){var i,n,o=1/0,r=null;for(i=0;i<this._itemAreas.length;i++)t>(n=this._itemAreas[i]).x1&&t<n.x2&&e>n.y1&&e<n.y2&&o>n.surface&&(o=n.surface,r=n);return r},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:"y2",x1:"x2"};for(var e in t){var i=this.root._$getArea();i.side=e,i[e]=t[e]?i[t[e]]-50:50,i.surface=(i.x2-i.x1)*(i.y2-i.y1),this._itemAreas.push(i)}},_$calculateItemAreas:function(){var t,e,i=this._getAllContentItems();if(this._itemAreas=[],1!==i.length){for(this._$createRootItemAreas(),t=0;t<i.length;t++)if(i[t].isStack&&null!==(e=i[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var n={};p.utils.copy(n,e),p.utils.copy(n,e.contentItem._contentAreaDimensions.header.highlightArea),n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,e){if(!t)throw new Error("No content item defined");if(p.utils.isFunction(t)&&(t=t()),t instanceof p.items.AbstractContentItem)return t;if(a.isPlainObject(t)&&t.type){var i=this.createContentItem(t,e);return i.callDownwards("_$init"),i}throw new Error("Invalid contentItem")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit("windowClosed",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit("stateChanged"),this.openPopouts=e)},_getAllContentItems:function(){var i=[],n=function(t){if(i.push(t),t.contentItems instanceof Array)for(var e=0;e<t.contentItems.length;e++)n(t.contentItems[e])};return n(this.root),i},_bindEvents:function(){this._isFullPage&&a(window).resize(this._resizeFunction),a(window).on("unload beforeunload",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(p.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var e=p.utils.getQueryStringParam("gl-window");e&&(this.isSubWindow=!0,t=localStorage.getItem(e),t=JSON.parse(t),t=(new p.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(e)),t=a.extend(!0,{},p.config.defaultConfig,t);var i=function(t){for(var e in t)"props"!==e&&"object"==typeof t[e]?i(t[e]):"type"===e&&"react-component"===t[e]&&(t.type="component",t.componentName="lm-react-component")};return i(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=a('<div class="lm_popin" title="'+this.config.labels.popin+'"><div class="lm_icon"></div><div class="lm_bg"></div></div>');t.click(p.utils.fnBind(function(){this.emit("popIn")},this)),document.title=p.utils.stripTags(this.config.content[0].title),a("head").append(a("body link, body style, template, .gl_keep")),this.container=a("body").html("").css("visibility","visible").append(t),document.body.offsetHeight,window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=a(this.container||"body");if(0===t.length)throw new Error("GoldenLayout container not found");if(1<t.length)throw new Error("GoldenLayout more than one container element specified");t[0]===document.body&&(this._isFullPage=!0,a("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?"Missing setting 'content' on top level of configuration":"Configuration parameter 'content' must be an array",new p.errors.ConfigurationError(e,t);if(1<t.content.length)throw e="Top level content can't contain more then one element.",new p.errors.ConfigurationError(e,t);this.root=new p.items.Root(this,{content:t.content},this.container),this.root.callDownwards("_$init"),"__glMaximised"===t.maximisedItemId&&this.root.getItemsById(t.maximisedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)){this._updatingColumnsResponsive=!0;for(var i=t-Math.max(Math.floor(this.width/e),1),n=this.root.contentItems[0],o=this._findAllStackContainers()[0],r=0;r<i;r++){var s=n.contentItems[n.contentItems.length-1];this._addChildContentItemsToContainer(o,s)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&("always"==this.config.settings.responsiveMode||"onload"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(e,i){"stack"===i.type?i.contentItems.forEach(function(t){e.addChild(t),i.removeChild(t,!0)}):i.contentItems.forEach(p.utils.fnBind(function(t){this._addChildContentItemsToContainer(e,t)},this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(e,t){t.contentItems.forEach(p.utils.fnBind(function(t){"stack"==t.type?e.push(t):t.isComponent||this._findAllStackContainersRecursive(e,t)},this))}}),n=[i(43)],void 0===(o=function(t){return a=t,p.LayoutManager}.apply(e,n))||(t.exports=o),p.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:""},p.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!0,showMaximiseIcon:!0,showCloseIcon:!0,responsiveMode:"onload",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window",popin:"pop in",tabDropdown:"additional tabs"}},p.container.ItemContainer=function(t,e,i){p.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=e,this.layoutManager=i,this.isHidden=!1,this._config=t,this._element=a(['<div class="lm_item_container">','<div class="lm_content"></div>',"</div>"].join("")),this._contentElement=this._element.find(".lm_content")},p.utils.copy(p.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit("hide"),this.isHidden=!0,this._element.hide()},show:function(){this.emit("show"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit("shown")},setSize:function(t,e){for(var i,n,o,r,s=this.parent,a=this;!s.isColumn&&!s.isRow;)if((s=(a=s).parent).isRoot)return!1;for(i=("height"==(n=s.isColumn?"height":"width")?e:t)/(this[n]*(1/(a.config[n]/100)))*100,o=(a.config[n]-i)/(s.contentItems.length-1),r=0;r<s.contentItems.length;r++)s.contentItems[r]===a?s.contentItems[r].config[n]=i:s.contentItems[r].config[n]+=o;return s.callDownwards("setSize"),!0},close:function(){this._config.isClosable&&(this.emit("close"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(a.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent("stateChanged")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var i=this._contentElement[0],n=i.offsetWidth-i.clientWidth,o=i.offsetHeight-i.clientHeight;this._contentElement.width(this.width-n).height(this.height-o),this.emit("resize")}}}),p.controls.BrowserPopout=function(t,e,i,n,o){p.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=i,this._indexInParent=n,this._layoutManager=o,this._popoutWindow=null,this._id=null,this._createWindow()},p.utils.copy(p.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error("Can't create config, layout not yet initialised");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,e;this._indexInParent,this._parentId&&(t=a.extend(!0,{},this.getGlInstance().toConfig()).content[0],(e=this._layoutManager.root.getItemsById(this._parentId)[0])||(e=0<this._layoutManager.root.contentItems.length?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),e.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,e=this._createUrl(),i=Math.floor(1e6*Math.random()).toString(36),n=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=window.open(e,i,n),!this._popoutWindow){if(!0!==this._layoutManager.config.settings.blockedPopoutsThrowError)return;var o=new Error("Popout blocked");throw o.type="popoutBlocked",o}a(this._popoutWindow).on("load",p.utils.fnBind(this._positionWindow,this)).on("unload beforeunload",p.utils.fnBind(this._onClose,this)),t=setInterval(p.utils.fnBind(function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))},this),10)},_serializeWindowOptions:function(t){var e,i=[];for(e in t)i.push(e+"="+t[e]);return i.join(",")},_createUrl:function(){var t,e={content:this._config},i="gl-window-config-"+p.utils.getUniqueId();e=(new p.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){throw new Error("Error while writing to localStorage "+t.toString())}return 1===(t=document.location.href.split("?")).length?t[0]+"?gl-window="+i:document.location.href+"&gl-window="+i},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on("popIn",this.popIn,this),this.emit("initialised")},_onClose:function(){setTimeout(p.utils.fnBind(this.emit,this,["closed"]),50)}}),p.controls.DragProxy=function(t,e,i,n,o,r){p.utils.EventEmitter.call(this),this._dragListener=i,this._layoutManager=n,this._contentItem=o,this._originalParent=r,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",this._onDrag,this),this._dragListener.on("dragStop",this._onDrop,this),this.element=a(p.controls.DragProxy._template),r&&r._side&&(this._sided=r._sided,this.element.addClass("lm_"+r._side),0<=["right","bottom"].indexOf(r._side)&&this.element.find(".lm_content").after(this.element.find(".lm_header"))),this.element.css({left:t,top:e}),this.element.find(".lm_tab").attr("title",p.utils.stripTags(this._contentItem.config.title)),this.element.find(".lm_title").html(this._contentItem.config.title),this.childElementContainer=this.element.find(".lm_content"),this.childElementContainer.append(o.element),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),a(document.body).append(this.element);var s=this._layoutManager.container.offset();this._minX=s.left,this._minY=s.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this.element.width(),this._height=this.element.height(),this._setDropPosition(t,e)},p.controls.DragProxy._template='<div class="lm_dragProxy"><div class="lm_header"><ul class="lm_tabs"><li class="lm_tab lm_active"><i class="lm_left"></i><span class="lm_title"></span><i class="lm_right"></i></li></ul></div><div class="lm_content"></div></div>',p.utils.copy(p.controls.DragProxy.prototype,{_onDrag:function(t,e,i){var n=(i=i.originalEvent&&i.originalEvent.touches?i.originalEvent.touches[0]:i).pageX,o=i.pageY;(n>this._minX&&n<this._maxX&&o>this._minY&&o<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(n,o)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(){this._layoutManager.dropTargetIndicator.hide(),null!==this._area?this._area.contentItem._$onDrop(this._contentItem,this._area):null!==this._lastValidArea?this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):this._originalParent?this._originalParent.addChild(this._contentItem):this._contentItem._$destroy(),this.element.remove(),this._layoutManager.emit("itemDropped",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){var t=this._layoutManager.config.dimensions,e=t.dragProxyWidth,i=t.dragProxyHeight;this.element.width(e),this.element.height(i),e-=this._sided?t.headerHeight:0,i-=this._sided?0:t.headerHeight,this.childElementContainer.width(e),this.childElementContainer.height(i),this._contentItem.element.width(e),this._contentItem.element.height(i),this._contentItem.callDownwards("_$show"),this._contentItem.callDownwards("setSize")}}),p.controls.DragSource=function(t,e,i){this._element=t,this._itemConfig=e,this._layoutManager=i,this._dragListener=null,this._createDragListener()},p.utils.copy(p.controls.DragSource.prototype,{_createDragListener:function(){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=new p.utils.DragListener(this._element),this._dragListener.on("dragStart",this._onDragStart,this),this._dragListener.on("dragStop",this._createDragListener,this)},_onDragStart:function(t,e){var i=this._itemConfig;p.utils.isFunction(i)&&(i=i());var n=this._layoutManager._$normalizeContentItem(a.extend(!0,{},i)),o=new p.controls.DragProxy(t,e,this._dragListener,this._layoutManager,n,null);this._layoutManager.transitionIndicator.transitionElements(this._element,o.element)}}),p.controls.DropTargetIndicator=function(){this.element=a(p.controls.DropTargetIndicator._template),a(document.body).append(this.element)},p.controls.DropTargetIndicator._template='<div class="lm_dropTargetIndicator"><div class="lm_inner"></div></div>',p.utils.copy(p.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,i,n){this.highlightArea({x1:t,y1:e,x2:i,y2:n})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),p.controls.Header=function(t,e){p.utils.EventEmitter.call(this),this.layoutManager=t,this.element=a(p.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass("lm_selectable"),this.element.on("click touchstart",p.utils.fnBind(this._onHeaderClick,this))),this.tabsContainer=this.element.find(".lm_tabs"),this.tabDropdownContainer=this.element.find(".lm_tabdropdown_list"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(".lm_controls"),this.parent=e,this.parent.on("resize",this._updateTabSizes,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=p.utils.fnBind(this._hideAdditionalTabsDropdown,this),a(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,this._createControls()},p.controls.Header._template=['<div class="lm_header">','<ul class="lm_tabs"></ul>','<ul class="lm_controls"></ul>','<ul class="lm_tabdropdown_list"></ul>',"</div>"].join(""),p.utils.copy(p.controls.Header.prototype,{createTab:function(t,e){var i,n;for(n=0;n<this.tabs.length;n++)if(this.tabs[n].contentItem===t)return;if(i=new p.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(i),void this.tabsContainer.append(i.element);void 0===e&&(e=this.tabs.length),0<e?this.tabs[e-1].element.after(i.element):this.tabs[0].element.before(i.element),this.tabs.splice(e,0,i),this._updateTabSizes()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error("contentItem is not controlled by this header")},setActiveContentItem:function(t){var e,i,n,o;for(e=0;e<this.tabs.length;e++)n=this.tabs[e].contentItem===t,this.tabs[e].setActive(n),1==n&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(o=this.tabs[this.parent.config.activeItemIndex],i=this.parent.config.activeItemIndex;0<i;i--)this.tabs[i]=this.tabs[i-1];this.tabs[0]=o,this.parent.config.activeItemIndex=0}this._updateTabSizes(),this.parent.emitBubblingEvent("stateChanged")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e="top"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable()||(this.closeButton.element[t?"show":"hide"](),0))},_$destroy:function(){this.emit("destroy",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();a(document).off("mouseup",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,i,n,o,r,s,a,l;l=p.utils.fnBind(this._showAdditionalTabsDropdown,this),a=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new p.controls.HeaderButton(this,a,"lm_tabdropdown",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting("popout")&&(e=p.utils.fnBind(this._onPopoutClick,this),i=this._getHeaderSetting("popout"),new p.controls.HeaderButton(this,i,"lm_popout",e)),this._getHeaderSetting("maximise")&&(r=p.utils.fnBind(this.parent.toggleMaximise,this.parent),n=this._getHeaderSetting("maximise"),o=this._getHeaderSetting("minimise"),s=new p.controls.HeaderButton(this,n,"lm_maximise",r),this.parent.on("maximised",function(){s.element.attr("title",o)}),this.parent.on("minimised",function(){s.element.attr("title",n)})),this._isClosable()&&(t=p.utils.fnBind(this.parent.remove,this.parent),i=this._getHeaderSetting("close"),this.closeButton=new p.controls.HeaderButton(this,i,"lm_close",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){!0===this.layoutManager.config.settings.popoutWholeStack?this.parent.popout():this.activeContentItem.popout()},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){function e(t){return t?"width":"height"}this.tabDropdownButton.element.toggle(!0===t),this.element.css(e(!this.parent._sided),""),this.element[e(this.parent._sided)](this.layoutManager.config.dimensions.headerHeight);var i,n,o,r,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,a=0,l=0,u=0,h=this.layoutManager.config.settings.tabOverlapAllowance,c=!1,d=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,p=this.tabs[d];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(i=this.tabs[n].element,this.tabsContainer.append(i),a+=i.outerWidth()+parseInt(i.css("margin-right"),10),s<(l=d<=n?a:a+p.element.outerWidth()+parseInt(p.element.css("margin-right"),10))){if(c)n===d&&(i.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(i));else if((u=0<d&&d<=n?(l-s)/(n-1):(l-s)/n)<h){for(o=0;o<=n;o++)r=o!==d&&0!==o?"-"+u+"px":"",this.tabs[o].element.css({"z-index":n-o,"margin-left":r});this._lastVisibleTabIndex=n,this.tabsContainer.append(i)}else c=!0;if(c&&n!==d){if(!t)return void this._updateTabSizes(!0);i.css({"z-index":"auto","margin-left":""}),this.tabDropdownContainer.append(i)}}else this._lastVisibleTabIndex=n,i.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(i)}}}),p.controls.HeaderButton=function(t,e,i,n){this._header=t,this.element=a('<li class="'+i+'" title="'+e+'"></li>'),this._header.on("destroy",this._$destroy,this),this._action=n,this.element.on("click touchstart",this._action),this._header.controlsContainer.append(this.element)},p.utils.copy(p.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),p.controls.Splitter=function(t,e,i){this._isVertical=t,this._size=e,this._grabSize=i<e?e:i,this.element=this._createElement(),this._dragListener=new p.utils.DragListener(this.element)},p.utils.copy(p.controls.Splitter.prototype,{on:function(t,e,i){this._dragListener.on(t,e,i)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=a('<div class="lm_drag_handle"></div>'),e=a('<div class="lm_splitter"></div>');e.append(t);var i=this._grabSize-this._size,n=i/2;return this._isVertical?(t.css("top",-n),t.css("height",this._size+i),e.addClass("lm_vertical"),e.height(this._size)):(t.css("left",-n),t.css("width",this._size+i),e.addClass("lm_horizontal"),e.width(this._size)),e}}),p.controls.Tab=function(t,e){this.header=t,this.contentItem=e,this.element=a(p.controls.Tab._template),this.titleElement=this.element.find(".lm_title"),this.closeElement=this.element.find(".lm_close_tab"),this.closeElement[e.config.isClosable?"show":"hide"](),this.isActive=!1,this.setTitle(e.config.title),this.contentItem.on("titleChanged",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===e.config.reorderEnabled&&(this._dragListener=new p.utils.DragListener(this.element),this._dragListener.on("dragStart",this._onDragStart,this),this.contentItem.on("destroy",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=p.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=p.utils.fnBind(this._onCloseClick,this),this.element.on("mousedown touchstart",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on("click touchstart",this._onCloseClickFn),this.closeElement.on("mousedown",this._onCloseMousedown)):this.closeElement.remove(),(this.contentItem.tab=this).contentItem.emit("tab",this),this.contentItem.layoutManager.emit("tabCreated",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this).contentItem.container.emit("tab",this)},p.controls.Tab._template='<li class="lm_tab"><i class="lm_left"></i><span class="lm_title"></span><div class="lm_close_tab"></div><i class="lm_right"></i></li>',p.utils.copy(p.controls.Tab.prototype,{setTitle:function(t){this.element.attr("title",p.utils.stripTags(t)),this.titleElement.html(t)},setActive:function(t){t!==this.isActive&&((this.isActive=t)?this.element.addClass("lm_active"):this.element.removeClass("lm_active"))},_$destroy:function(){this.element.off("mousedown touchstart",this._onTabClickFn),this.closeElement.off("click touchstart",this._onCloseClickFn),this._dragListener&&(this.contentItem.off("destroy",this._dragListener.destroy,this._dragListener),this._dragListener.off("dragStart",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximised&&this.contentItem.parent.toggleMaximise(),new p.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent)},_onTabClick:function(t){if(0===t.button||"touchstart"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){t.stopPropagation(),this.header.parent.removeChild(this.contentItem)},_onCloseMousedown:function(t){t.stopPropagation()}}),p.controls.TransitionIndicator=function(){this._element=a('<div class="lm_transition_indicator"></div>'),a(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},p.utils.copy(p.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),i=(p.utils.now()-this._animationStartTime)/this._totalAnimationDuration,n={};if(1<=i)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)n[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*i;this._element.css(n),p.utils.animFrame(p.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),p.errors.ConfigurationError=function(t,e){Error.call(this),this.name="Configuration Error",this.message=t,this.node=e},p.errors.ConfigurationError.prototype=new Error,p.items.AbstractContentItem=function(t,e,i){p.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=i,this.isInitialised=!1,this.isMaximised=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this.on(p.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},p.utils.copy(p.items.AbstractContentItem.prototype,{setSize:function(){throw new Error("Abstract Method")},callDownwards:function(t,e,i,n){var o;for(!0!==i&&!0!==n&&this[t].apply(this,e||[]),o=0;o<this.contentItems.length;o++)this.contentItems[o].callDownwards(t,e,i);!0===i&&!0!==n&&this[t].apply(this,e||[])},removeChild:function(t,e){var i=p.utils.indexOf(t,this.contentItems);if(-1===i)throw new Error("Can't remove child item. Unknown content item");!0!==e&&this.contentItems[i]._$destroy(),this.contentItems.splice(i,1),this.config.content.splice(i,1),0<this.contentItems.length?this.callDownwards("setSize"):this instanceof p.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,i){e=this.layoutManager._$normalizeContentItem(e);var n=p.utils.indexOf(t,this.contentItems),o=t.element[0].parentNode;if(-1===n)throw new Error("Can't replace child. oldChild is not child of this");o.replaceChild(e.element[0],t.element[0]),!0===i&&(t.parent=null,t._$destroy()),((this.contentItems[n]=e).parent=this).isStack&&(this.header.tabs[n].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),this.callDownwards("setSize")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent("stateChanged"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximised?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximised=!this.isMaximised,this.emitBubblingEvent("stateChanged")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass("lm_selected"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass("lm_selected"))},setTitle:function(t){this.config.title=t,this.emit("titleChanged",t),this.emit("stateChanged")},hasId:function(t){return!!this.config.id&&("string"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==p.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?"string"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error("Id not found");if("string"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=p.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(i){var n=[],o=function(t){for(var e=0;e<t.contentItems.length;e++)!0===i(t.contentItems[e])&&n.push(t.contentItems[e]),o(t.contentItems[e])};return o(this),n},getItemsById:function(e){return this.getItemsByFilter(function(t){return t.config.id instanceof Array?-1!==p.utils.indexOf(e,t.config.id):t.config.id===e})},getItemsByType:function(t){return this._$getItemsByProperty("type",t)},getComponentsByName:function(t){var e,i=this._$getItemsByProperty("componentName",t),n=[];for(e=0;e<i.length;e++)n.push(i[e].instance);return n},_$getItemsByProperty:function(e,i){return this.getItemsByFilter(function(t){return t[e]===i})},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,i){this.layoutManager.dropTargetIndicator.highlightArea(i)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents("hide"),this.element.hide(),this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents("show"),this.element.show(),this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,i,n=this.getItemsByType("stack");for(i=0;i<n.length;i++)(e=n[i].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent("beforeItemDestroyed"),this.callDownwards("_$destroy",[],!0,!0),this.element.remove(),this.emitBubblingEvent("itemDestroyed")},_$getArea:function(t){var e=(t=t||this.element).offset(),i=t.width(),n=t.height();return{x1:e.left,y1:e.top,x2:e.left+i,y2:e.top+n,surface:i*n,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent("itemCreated"),this.emitBubblingEvent(this.type+"Created")},emitBubblingEvent:function(t){var e=new p.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,i;if(!(t.content instanceof Array))throw new p.errors.ConfigurationError("content must be an Array",t);for(i=0;i<t.content.length;i++)e=this.layoutManager.createContentItem(t.content[i],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in p.config.itemDefaultConfig)void 0===t[e]&&(t[e]=p.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof p.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===p.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,p.utils.animFrame(p.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),p.items.Component=function(t,e,i){p.items.AbstractContentItem.call(this,t,e,i);var n=t.getComponent(this.config.componentName),o=a.extend(!0,{},this.config.componentState||{});o.componentName=this.config.componentName,this.componentName=this.config.componentName,""===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new p.container.ItemContainer(this.config,this,t),this.instance=new n(this.container,o),this.element=this.container._element},p.utils.extend(p.items.Component,p.items.AbstractContentItem),p.utils.copy(p.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(":visible")&&this.container._$setSize(this.element.width(),this.element.height())},_$init:function(){p.items.AbstractContentItem.prototype._$init.call(this),this.container.emit("open")},_$hide:function(){this.container.hide(),p.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),p.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),p.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit("destroy",this),p.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),p.items.Root=function(t,e,i){p.items.AbstractContentItem.call(this,t,e,null),this.isRoot=!0,this.type="root",this.element=a('<div class="lm_goldenlayout lm_item lm_root"></div>'),this.childElementContainer=this.element,this._containerElement=i,this._containerElement.append(this.element)},p.utils.extend(p.items.Root,p.items.AbstractContentItem),p.utils.copy(p.items.Root.prototype,{addChild:function(t){if(0<this.contentItems.length)throw new Error("Root node can only have a single child");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),p.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,i){this.layoutManager.tabDropPlaceholder.remove(),p.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var i;if(t.isComponent&&((i=this.layoutManager.createContentItem({type:"stack",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),this.contentItems.length){var n="x"==e.side[0]?"row":"column",o="x"==e.side[0]?"width":"height",r="2"==e.side[1],s=this.contentItems[0];if(!s instanceof p.items.RowOrColumn||s.type!=n){var a=this.layoutManager.createContentItem({type:n},this);this.replaceChild(s,a),a.addChild(t,r?0:void 0,!0),a.addChild(s,r?void 0:0,!0),s.config[o]=50,t.config[o]=50,a.callDownwards("setSize")}else{var l=s.contentItems[r?0:s.contentItems.length-1];s.addChild(t,r?0:void 0,!0),l.config[o]*=.5,t.config[o]=l.config[o],s.callDownwards("setSize")}}else this.addChild(t)}}),p.items.RowOrColumn=function(t,e,i,n){p.items.AbstractContentItem.call(this,e,i,n),this.isRow=!t,this.isColumn=t,this.element=a('<div class="lm_item lm_'+(t?"column":"row")+'"></div>'),this.childElementContainer=this.element,this._splitterSize=e.config.dimensions.borderWidth,this._splitterGrabSize=e.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?"height":"width",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null},p.utils.extend(p.items.RowOrColumn,p.items.AbstractContentItem),p.utils.copy(p.items.RowOrColumn.prototype,{addChild:function(t,e,i){var n,o,r,s;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),0<this.contentItems.length?(s=this._createSplitter(Math.max(0,e-1)).element,0<e?(this.contentItems[e-1].element.after(s),s.after(t.element)):(this.contentItems[0].element.before(s),s.before(t.element))):this.childElementContainer.append(t.element),p.items.AbstractContentItem.prototype.addChild.call(this,t,e),n=1/this.contentItems.length*100,!0!==i){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=n:(o=this.contentItems[r].config[this._dimension]*=(100-n)/100,this.contentItems[r].config[this._dimension]=o);this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")}else this.emitBubblingEvent("stateChanged")},removeChild:function(t,e){var i,n,o=t.config[this._dimension],r=p.utils.indexOf(t,this.contentItems),s=Math.max(r-1,0);if(-1===r)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");for(this._splitter[s]&&(this._splitter[s]._$destroy(),this._splitter.splice(s,1)),i=0;i<this.contentItems.length;i++)this.contentItems[i]!==t&&(this.contentItems[i].config[this._dimension]+=o/(this.contentItems.length-1));p.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(n=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,n,!0)):(this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged"))},replaceChild:function(t,e){var i=t.config[this._dimension];p.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),e.config[this._dimension]=i,this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(){0<this.contentItems.length&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent("stateChanged"),this.emit("resize")},_$init:function(){var t;if(!0!==this.isInitialised)for(p.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)0<e.additionalPixel-t&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,i=(this.contentItems.length-1)*this._splitterSize,n=this.element.width(),o=this.element.height(),r=0,s=[];for(this._isColumn?o-=i:n-=i,t=0;t<this.contentItems.length;t++)r+=e=this._isColumn?Math.floor(o*(this.contentItems[t].config.height/100)):Math.floor(n*(this.contentItems[t].config.width/100)),s.push(e);return{itemSizes:s,additionalPixel:Math.floor((this._isColumn?o:n)-r),totalWidth:n,totalHeight:o}},_calculateRelativeSizes:function(){var t,e=0,i=[],n=this._isColumn?"height":"width";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[n]?e+=this.contentItems[t].config[n]:i.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&0<i.length){for(t=0;t<i.length;t++)i[t].config[n]=(100-e)/i.length;this._respectMinItemWidth()}else{if(100<Math.round(e))for(t=0;t<i.length;t++)e+=i[t].config[n]=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[n]=this.contentItems[t].config[n]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,i,n,o=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,r=[],s=0,a=0,l=0,u=0,h=[];if(!(this._isColumn||!o||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var c=0;c<this.contentItems.length;c++)this.contentItems[c],(u=t.itemSizes[c])<o?(a+=o-u,n={width:o}):(s+=u-o,n={width:u},r.push(n)),h.push(n);if(!(0===a||s<a)){for(e=a/s,l=a,c=0;c<r.length;c++)n=r[c],l-=i=Math.round((n.width-o)*e),n.width-=i;for(0!==l&&(h[h.length-1].width-=l),c=0;c<this.contentItems.length;c++)this.contentItems[c].config.width=h[c].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new p.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on("drag",p.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on("dragStop",p.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on("dragStart",p.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=p.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,i=0,n=0;n<t.length;++n)e=Math.max(t[n].minWidth||0,e),i=Math.max(t[n].minHeight||0,i);return{horizontal:e,vertical:i}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),i=this.layoutManager.config.dimensions[this._isColumn?"minItemHeight":"minItemWidth"],n=this._getMinimumDimensions(e.before.config.content),o=this._isColumn?n.vertical:n.horizontal,r=this._getMinimumDimensions(e.after.config.content),s=this._isColumn?r.vertical:r.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(o||i)),this._splitterMaxPosition=e.after.element[this._dimension]()-(s||i)},_onSplitterDrag:function(t,e,i){var n=this._isColumn?i:e;n>this._splitterMinPosition&&n<this._splitterMaxPosition&&(this._splitterPosition=n,t.element.css(this._isColumn?"top":"left",n))},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),i=e.before.element[this._dimension](),n=e.after.element[this._dimension](),o=(this._splitterPosition+i)/(i+n),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=o*r,e.after.config[this._dimension]=(1-o)*r,t.element.css({top:0,left:0}),p.utils.animFrame(p.utils.fnBind(this.callDownwards,this,["setSize"]))}}),p.items.Stack=function(t,e,i){p.items.AbstractContentItem.call(this,t,e,i),this.element=a('<div class="lm_item lm_stack"></div>'),this._activeContentItem=null;var n=t.config;this._header={show:!0===n.settings.hasHeaders&&!1!==e.hasHeaders,popout:n.settings.showPopoutIcon&&n.labels.popout,maximise:n.settings.showMaximiseIcon&&n.labels.maximise,close:n.settings.showCloseIcon&&n.labels.close,minimise:n.labels.minimise},n.header&&p.utils.copy(this._header,n.header),e.header&&p.utils.copy(this._header,e.header),e.content&&e.content[0]&&e.content[0].header&&p.utils.copy(this._header,e.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=a('<div class="lm_items"></div>'),this.header=new p.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},p.utils.extend(p.items.Stack,p.items.AbstractContentItem),p.utils.copy(p.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.layoutManager.config.dimensions.headerHeight:0,i=this.element.width()-(this._sided?e:0),n=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(i),this.childElementContainer.height(n),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(i).height(n);this.emit("resize"),this.emitBubblingEvent("stateChanged")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(p.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(0<this.contentItems.length){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error("Configured activeItemIndex out of bounds");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===p.utils.indexOf(t,this.contentItems))throw new Error("contentItem is not a child of this stack");null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit("activeContentItemChanged",t),this.layoutManager.emit("activeContentItemChanged",t),this.emitBubblingEvent("stateChanged")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,e){t=this.layoutManager._$normalizeContentItem(t,this),p.items.AbstractContentItem.prototype.addChild.call(this,t,e),this.childElementContainer.append(t.element),this.header.createTab(t,e),this.setActiveContentItem(t),this.callDownwards("setSize"),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},removeChild:function(t,e){var i=p.utils.indexOf(t,this.contentItems);p.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(0<this.contentItems.length?this.setActiveContentItem(this.contentItems[Math.max(i-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},_$validateClosability:function(){var t,e,i;for(t=this.header._isClosable(),i=0,e=this.contentItems.length;i<e&&t;i++)t=this.contentItems[i].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){p.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if("header"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if("body"!==this._dropSegment){var e,i,n,o="top"===this._dropSegment||"bottom"===this._dropSegment,r="left"===this._dropSegment||"right"===this._dropSegment,s="top"===this._dropSegment||"left"===this._dropSegment,a=o&&this.parent.isColumn||r&&this.parent.isRow,l=o?"column":"row",u=o?"height":"width";t.isComponent&&((i=this.layoutManager.createContentItem({type:"stack",header:t.config.header||{}},this))._$init(),i.addChild(t),t=i),a?(e=p.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,s?e:e+1,!0),this.config[u]*=.5,t.config[u]=this.config[u],this.parent.callDownwards("setSize")):(l=o?"column":"row",n=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,n),n.addChild(t,s?0:void 0,!0),n.addChild(this,s?void 0:0,!0),this.config[u]=50,t.config[u]=50,n.callDownwards("setSize"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var i,n;for(i in this._contentAreaDimensions)if((n=this._contentAreaDimensions[i].hoverArea).x1<t&&n.x2>t&&n.y1<e&&n.y2>e)return void("header"===i?(this._dropSegment="header",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(i)))},_$getArea:function(){if(!1===this.element.is(":visible"))return null;var t=p.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),i=t.call(this,this.childElementContainer),n=i.x2-i.x1,o=i.y2-i.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:(0===this.contentItems.length?this._contentAreaDimensions.body={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}}:(this._contentAreaDimensions.left={hoverArea:{x1:i.x1,y1:i.y1,x2:i.x1+.25*n,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x1+.5*n,y2:i.y2}},this._contentAreaDimensions.top={hoverArea:{x1:i.x1+.25*n,y1:i.y1,x2:i.x1+.75*n,y2:i.y1+.5*o},highlightArea:{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y1+.5*o}},this._contentAreaDimensions.right={hoverArea:{x1:i.x1+.75*n,y1:i.y1,x2:i.x2,y2:i.y2},highlightArea:{x1:i.x1+.5*n,y1:i.y1,x2:i.x2,y2:i.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:i.x1+.25*n,y1:i.y1+.5*o,x2:i.x1+.75*n,y2:i.y2},highlightArea:{x1:i.x1,y1:i.y1+.5*o,x2:i.x2,y2:i.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,i,n,o,r,s,a,l,u=this.header.tabs.length,h=!1;if(0===u)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<u;e++)if(r=(i=this.header.tabs[e].element).offset(),l=this._sided?(o=r.top,n=r.left,i.height()):(o=r.left,n=r.top,i.width()),o<t&&t<o+l){h=!0;break}if(!(!1===h&&t<o)){if(t<o+l/2?(this._dropIndex=e,i.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,u),i.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:n,x2:n+i.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});s=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:s,x2:s+this.layoutManager.tabDropPlaceholder.width(),y1:n,y2:n+i.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=0<=["right","left","bottom"].indexOf(this._header.show)&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=0<=["right","left"].indexOf(this._side),this.element.removeClass("lm_left lm_right lm_bottom"),this._side&&this.element.addClass("lm_"+this._side),this.element.find(".lm_header").length&&this.childElementContainer){var e=0<=["right","bottom"].indexOf(this._side)?"before":"after";this.header.element[e](this.childElementContainer),this.callDownwards("setSize")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),p.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},p.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},p.utils.ConfigMinifier=function(){if(this._keys=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentName","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],36<this._keys.length)throw new Error("Too many keys in config minifier map");this._values=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"]},p.utils.copy(p.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,"_min"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,"_max"),e},_nextLevel:function(t,e,i){var n,o;for(n in t)t instanceof Array&&(n=parseInt(n,10)),t.hasOwnProperty(n)&&(o=this[i](n,this._keys),"object"==typeof t[n]?(e[o]=t[n]instanceof Array?[]:{},this._nextLevel(t[n],e[o],i)):e[o]=this[i](t[n],this._values))},_min:function(t,e){if("string"==typeof t&&1===t.length)return"___"+t;var i=p.utils.indexOf(t,e);return-1===i?t:i.toString(36)},_max:function(t,e){return"string"==typeof t&&1===t.length?e[parseInt(t,36)]:"string"==typeof t&&"___"===t.substr(0,3)?t[3]:t}}),p.utils.EventHub=function(t){p.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(p.utils.EventEmitter.ALL_EVENT,p.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=p.utils.fnBind(this._onEventFromChild,this),a(window).on("gl_child_event",this._boundOnEventFromChild)},p.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},p.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},p.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},p.utils.EventHub.prototype._propagateToParent=function(t){var e,i="gl_child_event";document.createEvent?(e=window.opener.document.createEvent("HTMLEvents")).initEvent(i,!0,!0):(e=window.opener.document.createEventObject()).eventType=i,e.eventName=i,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent("on"+e.eventType,e)},p.utils.EventHub.prototype._propagateToChildren=function(t){var e,i;for(i=0;i<this._layoutManager.openPopouts.length;i++)(e=this._layoutManager.openPopouts[i].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},p.utils.EventHub.prototype.destroy=function(){a(window).off("gl_child_event",this._boundOnEventFromChild)},p.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on("open",this._render,this),this._container.on("destroy",this._destroy,this)},p.utils.copy(p.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off("open",this._render,this),this._container.off("destroy",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error("No react component name. type: react-component needs a field `component`");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component "'+e+'" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},e=a.extend(t,this._container._config.props);return React.createElement(this._reactClass,e)}})},function(t,e,i){"use strict";var n,o="object"==typeof Reflect?Reflect:null,h=o&&"function"==typeof o.apply?o.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}((t.exports=s).EventEmitter=s).prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,i,n){var o,r,s;if("function"!=typeof i)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i);if(void 0===(r=t._events)?(r=t._events=Object.create(null),t._eventsCount=0):(void 0!==r.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),r=t._events),s=r[e]),void 0===s)s=r[e]=i,++t._eventsCount;else if("function"==typeof s?s=r[e]=n?[i,s]:[s,i]:n?s.unshift(i):s.push(i),0<(o=l(t))&&s.length>o&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,function(t){console&&console.warn&&console.warn(t)}(a)}return t}function c(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},o=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,h(this.listener,this.target,t))}.bind(n);return o.listener=i,n.wrapFn=o}function d(t,e,i){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?i?[o.listener||o]:[o]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(o):f(o,o.length)}function p(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function f(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var r;if(0<e.length&&(r=e[0]),r instanceof Error)throw r;var s=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw s.context=r,s}var a=o[t];if(void 0===a)return!1;if("function"==typeof a)h(a,this,e);else{var l=a.length,u=f(a,l);for(i=0;i<l;++i)h(u[i],this,e)}return!0},s.prototype.on=s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,c(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,c(this,t,e)),this},s.prototype.off=s.prototype.removeListener=function(t,e){var i,n,o,r,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(n=this._events))return this;if(void 0===(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(o=-1,r=i.length-1;0<=r;r--)if(i[r]===e||i[r].listener===e){s=i[r].listener,o=r;break}if(o<0)return this;0===o?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,o),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},s.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var o,r=Object.keys(i);for(n=0;n<r.length;++n)"removeListener"!==(o=r[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;0<=n;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return 0<this._eventsCount?n(this._events):[]}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(336),i(188),i(197),i(196),i(195),i(199),i(225),i(201),i(202);var n=i(136);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o)},function(t,e,i){"use strict";var n=i(43),o=i(59),r=i(144);var s,a=(s=n.extend(!0,{},r.language),function(t){for(var e=0;e<t.length;++e)i=t[e],-1<(n=s.keywords.indexOf(i))&&s.keywords.splice(n,1);var i,n}(["abstract","amp","array","cpu","delegate","each","event","finally","gcnew","generic","in","initonly","interface","interior_ptr","internal","literal","partial","pascal","pin_ptr","property","ref","restrict","safe_cast","sealed","title_static","where"]),function(t){for(var e=0;e<t.length;++e)s.keywords.push(t[e])}(["alignas","alignof","and","and_eq","asm","bitand","bitor","char8_t","char16_t","char32_t","compl","concept","consteval","constinit","co_await","co_return","co_yield","not","not_eq","or","or_eq","requires","xor","xor_eq"]),function(t){for(var e=0;e<t.length;++e)"annotation"===t[e][1]&&(t[e][0]=/\[\s*\[[^\]]*]\s*]/)}(s.tokenizer.root),s);o.languages.register({id:"cppp"}),o.languages.setLanguageConfiguration("cppp",r.conf),o.languages.setMonarchTokensProvider("cppp",a),t.exports=a},function(C,t,S){"use strict";(function(t){C.exports=o;var e,i=S(356),u=S(358),n=S(361),h=(e="function"==typeof Symbol&&"1"!==t.env._nodeLRUCacheForceNoSymbol?function(t){return Symbol(t)}:function(t){return"_"+t})("max"),c=e("length"),d=e("lengthCalculator"),p=e("allowStale"),f=e("maxAge"),a=e("dispose"),l=e("noDisposeOnSet"),g=e("lruList"),m=e("cache");function v(){return 1}function o(t){if(!(this instanceof o))return new o(t);"number"==typeof t&&(t={max:t}),t=t||{};var e=this[h]=t.max;(!e||"number"!=typeof e||e<=0)&&(this[h]=1/0);var i=t.length||v;"function"!=typeof i&&(i=v),this[d]=i,this[p]=t.stale||!1,this[f]=t.maxAge||0,this[a]=t.dispose,this[l]=t.noDisposeOnSet||!1,this.reset()}function r(t,e,i,n){var o=i.value;y(t,o)&&(b(t,i),t[p]||(o=void 0)),o&&e.call(n,o.value,o.key,t)}function s(t,e,i){var n=t[m].get(e);if(n){var o=n.value;y(t,o)?(b(t,n),t[p]||(o=void 0)):i&&t[g].unshiftNode(n),o=o&&o.value}return o}function y(t,e){if(!e||!e.maxAge&&!t[f])return!1;var i=Date.now()-e.now;return e.maxAge?i>e.maxAge:t[f]&&i>t[f]}function _(t){if(t[c]>t[h])for(var e=t[g].tail;t[c]>t[h]&&null!==e;){var i=e.prev;b(t,e),e=i}}function b(t,e){if(e){var i=e.value;t[a]&&t[a](i.key,i.value),t[c]-=i.length,t[m].delete(i.key),t[g].removeNode(e)}}function w(t,e,i,n,o){this.key=t,this.value=e,this.length=i,this.now=n,this.maxAge=o||0}Object.defineProperty(o.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this[h]=t,_(this)},get:function(){return this[h]},enumerable:!0}),Object.defineProperty(o.prototype,"allowStale",{set:function(t){this[p]=!!t},get:function(){return this[p]},enumerable:!0}),Object.defineProperty(o.prototype,"maxAge",{set:function(t){(!t||"number"!=typeof t||t<0)&&(t=0),this[f]=t,_(this)},get:function(){return this[f]},enumerable:!0}),Object.defineProperty(o.prototype,"lengthCalculator",{set:function(t){"function"!=typeof t&&(t=v),t!==this[d]&&(this[d]=t,this[c]=0,this[g].forEach(function(t){t.length=this[d](t.value,t.key),this[c]+=t.length},this)),_(this)},get:function(){return this[d]},enumerable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this[c]},enumerable:!0}),Object.defineProperty(o.prototype,"itemCount",{get:function(){return this[g].length},enumerable:!0}),o.prototype.rforEach=function(t,e){e=e||this;for(var i=this[g].tail;null!==i;){var n=i.prev;r(this,t,i,e),i=n}},o.prototype.forEach=function(t,e){e=e||this;for(var i=this[g].head;null!==i;){var n=i.next;r(this,t,i,e),i=n}},o.prototype.keys=function(){return this[g].toArray().map(function(t){return t.key},this)},o.prototype.values=function(){return this[g].toArray().map(function(t){return t.value},this)},o.prototype.reset=function(){this[a]&&this[g]&&this[g].length&&this[g].forEach(function(t){this[a](t.key,t.value)},this),this[m]=new i,this[g]=new n,this[c]=0},o.prototype.dump=function(){return this[g].map(function(t){if(!y(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})},o.prototype.dumpLru=function(){return this[g]},o.prototype.inspect=function(t,n){var o="LRUCache {",r=!1;this[p]&&(o+="\n  allowStale: true",r=!0);var e=this[h];e&&e!==1/0&&(r&&(o+=","),o+="\n  max: "+u.inspect(e,n),r=!0);var s=this[f];s&&(r&&(o+=","),o+="\n  maxAge: "+u.inspect(s,n),r=!0);var a=this[d];a&&a!==v&&(r&&(o+=","),o+="\n  length: "+u.inspect(this[c],n),r=!0);var l=!1;return this[g].forEach(function(t){l?o+=",\n  ":(r&&(o+=",\n"),l=!0,o+="\n  ");var e=u.inspect(t.key).split("\n").join("\n  "),i={value:t.value};t.maxAge!==s&&(i.maxAge=t.maxAge),a!==v&&(i.length=t.length),y(this,t)&&(i.stale=!0),i=u.inspect(i,n).split("\n").join("\n  "),o+=e+" => "+i}),(l||r)&&(o+="\n"),o+="}"},o.prototype.set=function(t,e,i){var n=(i=i||this[f])?Date.now():0,o=this[d](e,t);if(this[m].has(t)){if(o>this[h])return b(this,this[m].get(t)),!1;var r=this[m].get(t).value;return this[a]&&(this[l]||this[a](t,r.value)),r.now=n,r.maxAge=i,r.value=e,this[c]+=o-r.length,r.length=o,this.get(t),_(this),!0}var s=new w(t,e,o,n,i);return s.length>this[h]?(this[a]&&this[a](t,e),!1):(this[c]+=s.length,this[g].unshift(s),this[m].set(t,this[g].head),_(this),!0)},o.prototype.has=function(t){if(!this[m].has(t))return!1;var e=this[m].get(t).value;return!y(this,e)},o.prototype.get=function(t){return s(this,t,!0)},o.prototype.peek=function(t){return s(this,t,!1)},o.prototype.pop=function(){var t=this[g].tail;return t?(b(this,t),t.value):null},o.prototype.del=function(t){b(this,this[m].get(t))},o.prototype.load=function(t){this.reset();for(var e=Date.now(),i=t.length-1;0<=i;i--){var n=t[i],o=n.e||0;if(0===o)this.set(n.k,n.v);else{var r=o-e;0<r&&this.set(n.k,n.v,r)}}},o.prototype.prune=function(){var i=this;this[m].forEach(function(t,e){s(i,e,!1)})}}).call(this,S(134))},function(t,e,i){"use strict";var n,o=i(43),r=i(59),s=i(164);r.languages.register({id:"ptx"}),r.languages.setMonarchTokensProvider("ptx",((n=o.extend(!0,{},s)).registers=/%[a-z0-9_\\.]+/,n.tokenizer.whitespace=[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/[#;\\].*$/,"comment"]],n.tokenizer.root.push([/@%p[0-9]+/,{token:"operator",next:"@root"}]),n))},function(t,e,i){"use strict";var n=i(43),o={default:{path:"default",id:"default",name:"Default","main-color":"#f2f2f2",monaco:"vs"},dark:{path:"dark",id:"dark",name:"Dark","main-color":"#333333",monaco:"vs-dark"}};t.exports={themes:o,Themer:function(t,e){this.currentTheme=null,this.eventHub=t,this.setTheme=function(t){if(this.currentTheme!==t){var e=i(378)("./"+t.path+"-theme.css");n("#theme").html(e.toString()),n("#meta-theme").prop("content",t["main-color"]),monaco.editor.setTheme(t.monaco),this.eventHub.emit("resize"),this.currentTheme=t}},this.onSettingsChange=function(t){var e=o[t.theme]||o.default;e.monaco||(e.monaco="vs"),this.setTheme(e)},this.onSettingsChange(e),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.on("requestTheme",function(){this.eventHub.emit("themeChange",this.currentTheme)},this)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=(o.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},o.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},o);function o(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i(66),r=/^[ \t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \t]*$/,n=(s.prototype.setParent=function(t){return this._parent=t,this},s.prototype.setSampled=function(t){return this._sampled=t,this},s.fromTraceparent=function(t){var e=t.match(r);if(e){var i=void 0;"1"===e[3]?i=!0:"0"===e[3]&&(i=!1);var n=new s(e[1],e[2],i);return new s(e[1],void 0,i,n)}},s.prototype.toTraceparent=function(){var t="";return!0===this._sampled?t="-1":!1===this._sampled&&(t="-0"),this._traceId+"-"+this._spanId+t},s.prototype.toJSON=function(){return{parent:this._parent&&this._parent.toJSON()||void 0,sampled:this._sampled,span_id:this._spanId,trace_id:this._traceId}},s);function s(t,e,i,n){void 0===t&&(t=Object(o.k)()),void 0===e&&(e=Object(o.k)().substring(16)),this._traceId=t,this._spanId=e,this._sampled=i,this._parent=n}},function(t,e,w){"use strict";w.p=window.httpRootDir+"dist/",window.__webpack_public_path__=w.p,w(233),w(247),w(248);var C=w(78),S=w(250),x=w(58),k=w(43),O=w(236),E=w(135),L=w(235),D=w(253),I=w(261),N=w(165),r=w(377),T=w(163),o=w(162),s=w(243),M=w(383),A=w(384),i=w(385);w(386),w(387),w(388),w(389),w(390),w(391);var P=!1,R=new i;function F(t){var e=t.layout.eventHub,i={defaultLanguage:t.defaultLangId},n=JSON.parse(T.get("settings",null))||i;new s.Themer(e,n),e.on("requestSettings",function(){e.emit("settingsChange",n)});var o=r(k("#settings"),n,function(t){n.theme!==t.theme&&C.proxy("send",{hitType:"event",eventCategory:"ThemeChange",eventAction:t.theme}),n.colourScheme!==t.colourScheme&&C.proxy("send",{hitType:"event",eventCategory:"ColourSchemeChange",eventAction:t.colourScheme}),n=t,T.set("settings",JSON.stringify(t)),e.emit("settingsChange",t)},t.subdomainLangId);return e.on("modifySettings",function(t){o(x.extend(n,t))}),n}function j(t){return A.get(t.policies.cookies.key)===t.policies.cookies.hash}function B(i){var n=new o;if(i.policies.privacy.enabled&&k("#privacy").click(function(t,e){n.alert(e&&e.title?e.title:"Privacy policy",w(392)),i.policies.privacy.enabled&&A.set(i.policies.privacy.key,i.policies.privacy.hash,{expires:365})}),i.policies.cookies.enabled){k("#cookies").click(function(){n.ask('Cookies & related technologies policy<br><p>Current consent status: <span style="color:'+(j(i)?"green":"red")+'">'+(j(i)?"Granted":"Denied")+"</span></p>",k(w(393)),{yes:function(){R.callDoConsent.apply(R)},yesHtml:"Consent",no:function(){R.callDontConsent.apply(R)},noHtml:"Do NOT consent"})})}k("#ui-reset").click(function(){T.remove("gl"),P=!0,window.history.replaceState(null,null,window.httpRoot),window.location.reload()}),k("#ui-duplicate").click(function(){window.open("/","_blank")}),k("#thanks-to").click(function(){n.alert("Special thanks to",k(w(394)))}),k("#changes").click(function(){n.alert("Changelog",k(w(395)))})}k(function(){!function(){var t=document.URL;t.includes("/z/")?(k("#ui-brokenlink").attr("href",t.replace("/z/","/resetlayout/")),k("#ui-brokenlink").show()):k("#ui-brokenlink").hide()}();var n=w(102),t=window.location.hostname.split("."),e=void 0;if(0<t.length){var i=t[0],o=x.find(n.languages,function(t){return t.id===i||-1!==t.alias.indexOf(i)});o&&(e=o.id)}var r=e;r=r||(n.languages["c++"]?"c++":x.keys(n.languages)[0]);var s=new RegExp(n.cookieDomainRe).exec(window.location.hostname);s&&s[0]&&(s=s[0],A.defaults.domain=s);var a={settings:{showPopoutIcon:!1},content:[{type:"row",content:[E.getEditor(1,r),E.getCompiler(1,r)]}]};k(window).bind("hashchange",function(){window.location.hash.substr(1)&&window.location.reload()});var l=-1<["#thanks-to","#changes","#cookies","#setting","#privacy"].indexOf(window.location.hash)?window.location.hash:null;l&&(window.location.hash="");var u,h,c=function(t,e){var i=null;if(e.embedded)i=x.extend(t,{settings:{showMaximiseIcon:!1,showCloseIcon:!1,hasHeaders:!1}},S.configFromEmbedded(window.location.hash.substr(1)));else if(!(i=(i=e.config?e.config:L.deserialiseState(window.location.hash.substr(1)))&&x.extend(t,i))){var n=T.get("gl",null);i=null!==n?JSON.parse(n):t}return i}(a,n),d=k("#root");try{u=new O(c,d),h=new I(u,e,r)}catch(t){N.captureException(t),document.URL.includes("/z/")&&(document.location=document.URL.replace("/z/","/resetlayout/")),u=new O(a,d),h=new I(u,e,r)}var p=null,f={};function g(){var t=k(window).height()-(d.position().top||0)-(k("#simplecook:visible").height()||0);d.height(t),u.updateSize()}u.on("stateChanged",function(){var t=u.toConfig(),e=JSON.stringify(t);if(e!==p&&(f[t]?window.history.replaceState(null,null,f[e]):window.location.pathname!==window.httpRoot&&window.history.replaceState(null,null,window.httpRoot),p=e),n.embedded){var i=window.location.pathname;i=i.substr(0,i.lastIndexOf("/")+1),k("a.link").attr("href",i+"#"+L.serialiseState(t))}}),k(window).resize(g).on("beforeunload",function(){n.embedded||P||T.set("gl",JSON.stringify(u.toConfig()))}),new D(".btn.clippy");var m=F(h);function v(t,e){u.createDragSource(t,e),t.click(function(){h.addAtRoot(e())})}if(n.embedded||B(n),S.initShareButton(k("#share"),u,function(t,e){window.history.pushState(null,null,e),f[JSON.stringify(t)]=e}),v(k("#add-editor"),function(){return E.getEditor()}),v(k("#add-diff"),function(){return E.getDiff()}),l){var y=k(l);y&&y.click()}if(!function(t){A.remove("fs_uid"),A.remove("cookieconsent_status"),t.policies.privacy.enabled&&t.policies.privacy.hash!==A.get(t.policies.privacy.key)&&k("#privacy").trigger("click",{title:"New Privacy Policy. Please take a moment to read it"}),R.onDoConsent=function(){A.set(t.policies.cookies.key,t.policies.cookies.hash,{expires:365}),C.toggle(!0)},R.onDontConsent=function(){C.toggle(!1),A.set(t.policies.cookies.key,"")},R.onHide=function(){k(window).trigger("resize")};var e=A.get(t.policies.cookies.key);t.policies.cookies.enabled&&""!==e&&t.policies.cookies.hash!==e?R.show():t.policies.cookies.enabled&&j(t)&&C.initialise()}(n),!n.embedded){M.initialise(n.motdUrl,k("#motd"),e,m.enableCommunityAds,function(t){function e(){h.layout.eventHub.emit("motd",t)}h.layout.eventHub.on("requestMotd",e),e()},function(){h.layout.eventHub.emit("modifySettings",{enableCommunityAds:!1})});var _=window.compilerExplorerOptions.release,b="https://github.com/mattgodbolt/compiler-explorer/";_&&(b+="tree/"+_),k("#version-tree").prop("href",b)}n.hideEditorToolbars&&k('[name="editor-btn-toolbar"]').addClass("d-none"),g(),p=JSON.stringify(u.toConfig())})},function(t,e,i){!function(t,g,c){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(t){o(e,t,i[t])})}return e}g=g&&g.hasOwnProperty("default")?g.default:g,c=c&&c.hasOwnProperty("default")?c.default:c;var e="transitionend";function i(t){var e=this,i=!1;return g(this).one(m.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||m.triggerTransitionEnd(e)},t),this}var m={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var i=t.getAttribute("href");e=i&&"#"!==i?i.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=g(t).css("transition-duration"),i=g(t).css("transition-delay"),n=parseFloat(e),o=parseFloat(i);return n||o?(e=e.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(e)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){g(t).trigger(e)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var o=i[n],r=e[n],s=r&&m.isElement(r)?"element":(a=r,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+': Option "'+n+'" provided type "'+s+'" but expected type "'+o+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"!=typeof t.getRootNode)return t instanceof ShadowRoot?t:t.parentNode?m.findShadowRoot(t.parentNode):null;var e=t.getRootNode();return e instanceof ShadowRoot?e:null}};g.fn.emulateTransitionEnd=i,g.event.special[m.TRANSITION_END]={bindType:e,delegateType:e,handle:function(t){if(g(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var r="alert",l="bs.alert",u="."+l,h=g.fn[r],d={CLOSE:"close"+u,CLOSED:"closed"+u,CLICK_DATA_API:"click"+u+".data-api"},p={ALERT:"alert",FADE:"fade",SHOW:"show"},f=function(){function n(t){this._element=t}var t=n.prototype;return t.close=function(t){var e=this._element;t&&(e=this._getRootElement(t));var i=this._triggerCloseEvent(e);i.isDefaultPrevented()||this._removeElement(e)},t.dispose=function(){g.removeData(this._element,l),this._element=null},t._getRootElement=function(t){var e=m.getSelectorFromElement(t),i=!1;return e&&(i=document.querySelector(e)),i=i||g(t).closest("."+p.ALERT)[0]},t._triggerCloseEvent=function(t){var e=g.Event(d.CLOSE);return g(t).trigger(e),e},t._removeElement=function(e){var i=this;if(g(e).removeClass(p.SHOW),g(e).hasClass(p.FADE)){var t=m.getTransitionDurationFromElement(e);g(e).one(m.TRANSITION_END,function(t){return i._destroyElement(e,t)}).emulateTransitionEnd(t)}else this._destroyElement(e)},t._destroyElement=function(t){g(t).detach().trigger(d.CLOSED).remove()},n._jQueryInterface=function(i){return this.each(function(){var t=g(this),e=t.data(l);e||(e=new n(this),t.data(l,e)),"close"===i&&e[i](this)})},n._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},s(n,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),n}();g(document).on(d.CLICK_DATA_API,'[data-dismiss="alert"]',f._handleDismiss(new f)),g.fn[r]=f._jQueryInterface,g.fn[r].Constructor=f,g.fn[r].noConflict=function(){return g.fn[r]=h,f._jQueryInterface};var v="button",y="bs.button",_="."+y,b=".data-api",w=g.fn[v],C={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},S={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},x={CLICK_DATA_API:"click"+_+b,FOCUS_BLUR_DATA_API:"focus"+_+b+" blur"+_+b},k=function(){function i(t){this._element=t}var t=i.prototype;return t.toggle=function(){var t=!0,e=!0,i=g(this._element).closest(S.DATA_TOGGLE)[0];if(i){var n=this._element.querySelector(S.INPUT);if(n){if("radio"===n.type)if(n.checked&&this._element.classList.contains(C.ACTIVE))t=!1;else{var o=i.querySelector(S.ACTIVE);o&&g(o).removeClass(C.ACTIVE)}if(t){if(n.hasAttribute("disabled")||i.hasAttribute("disabled")||n.classList.contains("disabled")||i.classList.contains("disabled"))return;n.checked=!this._element.classList.contains(C.ACTIVE),g(n).trigger("change")}n.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(C.ACTIVE)),t&&g(this._element).toggleClass(C.ACTIVE)},t.dispose=function(){g.removeData(this._element,y),this._element=null},i._jQueryInterface=function(e){return this.each(function(){var t=g(this).data(y);t||(t=new i(this),g(this).data(y,t)),"toggle"===e&&t[e]()})},s(i,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),i}();g(document).on(x.CLICK_DATA_API,S.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var e=t.target;g(e).hasClass(C.BUTTON)||(e=g(e).closest(S.BUTTON)),k._jQueryInterface.call(g(e),"toggle")}).on(x.FOCUS_BLUR_DATA_API,S.DATA_TOGGLE_CARROT,function(t){var e=g(t.target).closest(S.BUTTON)[0];g(e).toggleClass(C.FOCUS,/^focus(in)?$/.test(t.type))}),g.fn[v]=k._jQueryInterface,g.fn[v].Constructor=k,g.fn[v].noConflict=function(){return g.fn[v]=w,k._jQueryInterface};var O="carousel",E="bs.carousel",L="."+E,D=g.fn[O],I={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},N={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},T={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},M={SLIDE:"slide"+L,SLID:"slid"+L,KEYDOWN:"keydown"+L,MOUSEENTER:"mouseenter"+L,MOUSELEAVE:"mouseleave"+L,TOUCHSTART:"touchstart"+L,TOUCHMOVE:"touchmove"+L,TOUCHEND:"touchend"+L,POINTERDOWN:"pointerdown"+L,POINTERUP:"pointerup"+L,DRAG_START:"dragstart"+L,LOAD_DATA_API:"load"+L+".data-api",CLICK_DATA_API:"click"+L+".data-api"},A={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},P={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},R={TOUCH:"touch",PEN:"pen"},F=function(){function r(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(P.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=r.prototype;return t.next=function(){this._isSliding||this._slide(T.NEXT)},t.nextWhenVisible=function(){!document.hidden&&g(this._element).is(":visible")&&"hidden"!==g(this._element).css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(T.PREV)},t.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(P.NEXT_PREV)&&(m.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(t){var e=this;this._activeElement=this._element.querySelector(P.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)g(this._element).one(M.SLID,function(){return e.to(t)});else{if(i===t)return this.pause(),void this.cycle();var n=i<t?T.NEXT:T.PREV;this._slide(n,this._items[t])}},t.dispose=function(){g(this._element).off(L),g.removeData(this._element,E),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(t){return t=a({},I,t),m.typeCheckConfig(O,t,N),t},t._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;0<e&&this.prev(),e<0&&this.next()}},t._addEventListeners=function(){var e=this;this._config.keyboard&&g(this._element).on(M.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&g(this._element).on(M.MOUSEENTER,function(t){return e.pause(t)}).on(M.MOUSELEAVE,function(t){return e.cycle(t)}),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var i=function(t){e._pointerEvent&&R[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},n=function(t){e._pointerEvent&&R[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval))};g(this._element.querySelectorAll(P.ITEM_IMG)).on(M.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(g(this._element).on(M.POINTERDOWN,function(t){return i(t)}),g(this._element).on(M.POINTERUP,function(t){return n(t)}),this._element.classList.add(A.POINTER_EVENT)):(g(this._element).on(M.TOUCHSTART,function(t){return i(t)}),g(this._element).on(M.TOUCHMOVE,function(t){return function(t){if(t.originalEvent.touches&&t.originalEvent.touches.length>1){e.touchDeltaX=0}else{e.touchDeltaX=t.originalEvent.touches[0].clientX-e.touchStartX}}(t)}),g(this._element).on(M.TOUCHEND,function(t){return n(t)}))}},t._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},t._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(P.ITEM)):[],this._items.indexOf(t)},t._getItemByDirection=function(t,e){var i=t===T.NEXT,n=t===T.PREV,o=this._getItemIndex(e),r=this._items.length-1,s=n&&0===o||i&&o===r;if(s&&!this._config.wrap)return e;var a=t===T.PREV?-1:1,l=(o+a)%this._items.length;return-1==l?this._items[this._items.length-1]:this._items[l]},t._triggerSlideEvent=function(t,e){var i=this._getItemIndex(t),n=this._getItemIndex(this._element.querySelector(P.ACTIVE_ITEM)),o=g.Event(M.SLIDE,{relatedTarget:t,direction:e,from:n,to:i});return g(this._element).trigger(o),o},t._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(P.ACTIVE));g(e).removeClass(A.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&g(i).addClass(A.ACTIVE)}},t._slide=function(t,e){var i,n,o,r=this,s=this._element.querySelector(P.ACTIVE_ITEM),a=this._getItemIndex(s),l=e||s&&this._getItemByDirection(t,s),u=this._getItemIndex(l),h=Boolean(this._interval);if(o=t===T.NEXT?(i=A.LEFT,n=A.NEXT,T.LEFT):(i=A.RIGHT,n=A.PREV,T.RIGHT),l&&g(l).hasClass(A.ACTIVE))this._isSliding=!1;else{var c=this._triggerSlideEvent(l,o);if(!c.isDefaultPrevented()&&s&&l){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(l);var d=g.Event(M.SLID,{relatedTarget:l,direction:o,from:a,to:u});if(g(this._element).hasClass(A.SLIDE)){g(l).addClass(n),m.reflow(l),g(s).addClass(i),g(l).addClass(i);var p=parseInt(l.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval;var f=m.getTransitionDurationFromElement(s);g(s).one(m.TRANSITION_END,function(){g(l).removeClass(i+" "+n).addClass(A.ACTIVE),g(s).removeClass(A.ACTIVE+" "+n+" "+i),r._isSliding=!1,setTimeout(function(){return g(r._element).trigger(d)},0)}).emulateTransitionEnd(f)}else g(s).removeClass(A.ACTIVE),g(l).addClass(A.ACTIVE),this._isSliding=!1,g(this._element).trigger(d);h&&this.cycle()}}},r._jQueryInterface=function(n){return this.each(function(){var t=g(this).data(E),e=a({},I,g(this).data());"object"==typeof n&&(e=a({},e,n));var i="string"==typeof n?n:e.slide;if(t||(t=new r(this,e),g(this).data(E,t)),"number"==typeof n)t.to(n);else if("string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}else e.interval&&e.ride&&(t.pause(),t.cycle())})},r._dataApiClickHandler=function(t){var e=m.getSelectorFromElement(this);if(e){var i=g(e)[0];if(i&&g(i).hasClass(A.CAROUSEL)){var n=a({},g(i).data(),g(this).data()),o=this.getAttribute("data-slide-to");o&&(n.interval=!1),r._jQueryInterface.call(g(i),n),o&&g(i).data(E).to(o),t.preventDefault()}}},s(r,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return I}}]),r}();g(document).on(M.CLICK_DATA_API,P.DATA_SLIDE,F._dataApiClickHandler),g(window).on(M.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(P.DATA_RIDE)),e=0,i=t.length;e<i;e++){var n=g(t[e]);F._jQueryInterface.call(n,n.data())}}),g.fn[O]=F._jQueryInterface,g.fn[O].Constructor=F,g.fn[O].noConflict=function(){return g.fn[O]=D,F._jQueryInterface};var j="collapse",B="bs.collapse",H="."+B,W=g.fn[j],V={toggle:!0,parent:""},z={toggle:"boolean",parent:"(string|element)"},U={SHOW:"show"+H,SHOWN:"shown"+H,HIDE:"hide"+H,HIDDEN:"hidden"+H,CLICK_DATA_API:"click"+H+".data-api"},q={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},K={WIDTH:"width",HEIGHT:"height"},G={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},Y=function(){function l(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(G.DATA_TOGGLE)),n=0,o=i.length;n<o;n++){var r=i[n],s=m.getSelectorFromElement(r),a=[].slice.call(document.querySelectorAll(s)).filter(function(t){return t===e});null!==s&&0<a.length&&(this._selector=s,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=l.prototype;return t.toggle=function(){g(this._element).hasClass(q.SHOW)?this.hide():this.show()},t.show=function(){var t,e,i=this;if(!this._isTransitioning&&!g(this._element).hasClass(q.SHOW)&&(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(G.ACTIVES)).filter(function(t){return"string"==typeof i._config.parent?t.getAttribute("data-parent")===i._config.parent:t.classList.contains(q.COLLAPSE)})).length&&(t=null),!(t&&(e=g(t).not(this._selector).data(B))&&e._isTransitioning))){var n=g.Event(U.SHOW);if(g(this._element).trigger(n),!n.isDefaultPrevented()){t&&(l._jQueryInterface.call(g(t).not(this._selector),"hide"),e||g(t).data(B,null));var o=this._getDimension();g(this._element).removeClass(q.COLLAPSE).addClass(q.COLLAPSING),this._element.style[o]=0,this._triggerArray.length&&g(this._triggerArray).removeClass(q.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var r=o[0].toUpperCase()+o.slice(1),s="scroll"+r,a=m.getTransitionDurationFromElement(this._element);g(this._element).one(m.TRANSITION_END,function(){g(i._element).removeClass(q.COLLAPSING).addClass(q.COLLAPSE).addClass(q.SHOW),i._element.style[o]="",i.setTransitioning(false),g(i._element).trigger(U.SHOWN)}).emulateTransitionEnd(a),this._element.style[o]=this._element[s]+"px"}}},t.hide=function(){var t=this;if(!this._isTransitioning&&g(this._element).hasClass(q.SHOW)){var e=g.Event(U.HIDE);if(g(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",m.reflow(this._element),g(this._element).addClass(q.COLLAPSING).removeClass(q.COLLAPSE).removeClass(q.SHOW);var n=this._triggerArray.length;if(0<n)for(var o=0;o<n;o++){var r=this._triggerArray[o],s=m.getSelectorFromElement(r);if(null!==s){var a=g([].slice.call(document.querySelectorAll(s)));a.hasClass(q.SHOW)||g(r).addClass(q.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);this._element.style[i]="";var l=m.getTransitionDurationFromElement(this._element);g(this._element).one(m.TRANSITION_END,function(){t.setTransitioning(false),g(t._element).removeClass(q.COLLAPSING).addClass(q.COLLAPSE).trigger(U.HIDDEN)}).emulateTransitionEnd(l)}}},t.setTransitioning=function(t){this._isTransitioning=t},t.dispose=function(){g.removeData(this._element,B),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(t){return(t=a({},V,t)).toggle=Boolean(t.toggle),m.typeCheckConfig(j,t,z),t},t._getDimension=function(){var t=g(this._element).hasClass(K.WIDTH);return t?K.WIDTH:K.HEIGHT},t._getParent=function(){var t,i=this;m.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',n=[].slice.call(t.querySelectorAll(e));return g(n).each(function(t,e){i._addAriaAndCollapsedClass(l._getTargetFromElement(e),[e])}),t},t._addAriaAndCollapsedClass=function(t,e){var i=g(t).hasClass(q.SHOW);e.length&&g(e).toggleClass(q.COLLAPSED,!i).attr("aria-expanded",i)},l._getTargetFromElement=function(t){var e=m.getSelectorFromElement(t);return e?document.querySelector(e):null},l._jQueryInterface=function(n){return this.each(function(){var t=g(this),e=t.data(B),i=a({},V,t.data(),"object"==typeof n&&n?n:{});if(!e&&i.toggle&&/show|hide/.test(n)&&(i.toggle=!1),e||(e=new l(this,i),t.data(B,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},s(l,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return V}}]),l}();g(document).on(U.CLICK_DATA_API,G.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=g(this),e=m.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(e));g(i).each(function(){var t=g(this),e=t.data(B),i=e?"toggle":n.data();Y._jQueryInterface.call(t,i)})}),g.fn[j]=Y._jQueryInterface,g.fn[j].Constructor=Y,g.fn[j].noConflict=function(){return g.fn[j]=W,Y._jQueryInterface};var $="dropdown",Z="bs.dropdown",X="."+Z,J=".data-api",Q=g.fn[$],tt=new RegExp("38|40|27"),et={HIDE:"hide"+X,HIDDEN:"hidden"+X,SHOW:"show"+X,SHOWN:"shown"+X,CLICK:"click"+X,CLICK_DATA_API:"click"+X+J,KEYDOWN_DATA_API:"keydown"+X+J,KEYUP_DATA_API:"keyup"+X+J},it={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},nt={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},ot={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},rt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},st={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},at=function(){function u(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=u.prototype;return t.toggle=function(){if(!this._element.disabled&&!g(this._element).hasClass(it.DISABLED)){var t=u._getParentFromElement(this._element),e=g(this._menu).hasClass(it.SHOW);if(u._clearMenus(),!e){var i={relatedTarget:this._element},n=g.Event(et.SHOW,i);if(g(t).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar){if(void 0===c)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var o=this._element;"parent"===this._config.reference?o=t:m.isElement(this._config.reference)&&(o=this._config.reference,void 0!==this._config.reference.jquery&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&g(t).addClass(it.POSITION_STATIC),this._popper=new c(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===g(t).closest(nt.NAVBAR_NAV).length&&g(document.body).children().on("mouseover",null,g.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),g(this._menu).toggleClass(it.SHOW),g(t).toggleClass(it.SHOW).trigger(g.Event(et.SHOWN,i))}}}},t.show=function(){if(!(this._element.disabled||g(this._element).hasClass(it.DISABLED)||g(this._menu).hasClass(it.SHOW))){var t={relatedTarget:this._element},e=g.Event(et.SHOW,t),i=u._getParentFromElement(this._element);g(i).trigger(e),e.isDefaultPrevented()||(g(this._menu).toggleClass(it.SHOW),g(i).toggleClass(it.SHOW).trigger(g.Event(et.SHOWN,t)))}},t.hide=function(){if(!this._element.disabled&&!g(this._element).hasClass(it.DISABLED)&&g(this._menu).hasClass(it.SHOW)){var t={relatedTarget:this._element},e=g.Event(et.HIDE,t),i=u._getParentFromElement(this._element);g(i).trigger(e),e.isDefaultPrevented()||(g(this._menu).toggleClass(it.SHOW),g(i).toggleClass(it.SHOW).trigger(g.Event(et.HIDDEN,t)))}},t.dispose=function(){g.removeData(this._element,Z),g(this._element).off(X),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;g(this._element).on(et.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},t._getConfig=function(t){return t=a({},this.constructor.Default,g(this._element).data(),t),m.typeCheckConfig($,t,this.constructor.DefaultType),t},t._getMenuElement=function(){if(!this._menu){var t=u._getParentFromElement(this._element);t&&(this._menu=t.querySelector(nt.MENU))}return this._menu},t._getPlacement=function(){var t=g(this._element.parentNode),e=ot.BOTTOM;return t.hasClass(it.DROPUP)?(e=ot.TOP,g(this._menu).hasClass(it.MENURIGHT)&&(e=ot.TOPEND)):t.hasClass(it.DROPRIGHT)?e=ot.RIGHT:t.hasClass(it.DROPLEFT)?e=ot.LEFT:g(this._menu).hasClass(it.MENURIGHT)&&(e=ot.BOTTOMEND),e},t._detectNavbar=function(){return 0<g(this._element).closest(".navbar").length},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},u._jQueryInterface=function(i){return this.each(function(){var t=g(this).data(Z),e="object"==typeof i?i:null;if(t||(t=new u(this,e),g(this).data(Z,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},u._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=[].slice.call(document.querySelectorAll(nt.DATA_TOGGLE)),i=0,n=e.length;i<n;i++){var o=u._getParentFromElement(e[i]),r=g(e[i]).data(Z),s={relatedTarget:e[i]};if(t&&"click"===t.type&&(s.clickEvent=t),r){var a=r._menu;if(g(o).hasClass(it.SHOW)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&g.contains(o,t.target))){var l=g.Event(et.HIDE,s);g(o).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&g(document.body).children().off("mouseover",null,g.noop),e[i].setAttribute("aria-expanded","false"),g(a).removeClass(it.SHOW),g(o).removeClass(it.SHOW).trigger(g.Event(et.HIDDEN,s)))}}}},u._getParentFromElement=function(t){var e,i=m.getSelectorFromElement(t);return i&&(e=document.querySelector(i)),e||t.parentNode},u._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||g(t.target).closest(nt.MENU).length)):tt.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!g(this).hasClass(it.DISABLED))){var e=u._getParentFromElement(this),i=g(e).hasClass(it.SHOW);if(i&&(!i||27!==t.which&&32!==t.which)){var n=[].slice.call(e.querySelectorAll(nt.VISIBLE_ITEMS));if(0!==n.length){var o=n.indexOf(t.target);38===t.which&&0<o&&o--,40===t.which&&o<n.length-1&&o++,o<0&&(o=0),n[o].focus()}}else{if(27===t.which){var r=e.querySelector(nt.DATA_TOGGLE);g(r).trigger("focus")}g(this).trigger("click")}}},s(u,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return rt}},{key:"DefaultType",get:function(){return st}}]),u}();g(document).on(et.KEYDOWN_DATA_API,nt.DATA_TOGGLE,at._dataApiKeydownHandler).on(et.KEYDOWN_DATA_API,nt.MENU,at._dataApiKeydownHandler).on(et.CLICK_DATA_API+" "+et.KEYUP_DATA_API,at._clearMenus).on(et.CLICK_DATA_API,nt.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),at._jQueryInterface.call(g(this),"toggle")}).on(et.CLICK_DATA_API,nt.FORM_CHILD,function(t){t.stopPropagation()}),g.fn[$]=at._jQueryInterface,g.fn[$].Constructor=at,g.fn[$].noConflict=function(){return g.fn[$]=Q,at._jQueryInterface};var lt="modal",ut="bs.modal",ht="."+ut,ct=g.fn[lt],dt={backdrop:!0,keyboard:!0,focus:!0,show:!0},pt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ft={HIDE:"hide"+ht,HIDDEN:"hidden"+ht,SHOW:"show"+ht,SHOWN:"shown"+ht,FOCUSIN:"focusin"+ht,RESIZE:"resize"+ht,CLICK_DISMISS:"click.dismiss"+ht,KEYDOWN_DISMISS:"keydown.dismiss"+ht,MOUSEUP_DISMISS:"mouseup.dismiss"+ht,MOUSEDOWN_DISMISS:"mousedown.dismiss"+ht,CLICK_DATA_API:"click"+ht+".data-api"},gt={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},mt={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},vt=function(){function o(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(mt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=o.prototype;return t.toggle=function(t){return this._isShown?this.hide():this.show(t)},t.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){g(this._element).hasClass(gt.FADE)&&(this._isTransitioning=!0);var i=g.Event(ft.SHOW,{relatedTarget:t});g(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),g(this._element).on(ft.CLICK_DISMISS,mt.DATA_DISMISS,function(t){return e.hide(t)}),g(this._dialog).on(ft.MOUSEDOWN_DISMISS,function(){g(e._element).one(ft.MOUSEUP_DISMISS,function(t){g(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},t.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=g.Event(ft.HIDE);if(g(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var n=g(this._element).hasClass(gt.FADE);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),g(document).off(ft.FOCUSIN),g(this._element).removeClass(gt.SHOW),g(this._element).off(ft.CLICK_DISMISS),g(this._dialog).off(ft.MOUSEDOWN_DISMISS),n){var o=m.getTransitionDurationFromElement(this._element);g(this._element).one(m.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(o)}else this._hideModal()}}},t.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return g(t).off(ht)}),g(document).off(ft.FOCUSIN),g.removeData(this._element,ut),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(t){return t=a({},dt,t),m.typeCheckConfig(lt,t,pt),t},t._showElement=function(t){var e=this,i=g(this._element).hasClass(gt.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),g(this._dialog).hasClass(gt.SCROLLABLE)?this._dialog.querySelector(mt.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,i&&m.reflow(this._element),g(this._element).addClass(gt.SHOW),this._config.focus&&this._enforceFocus();var n=g.Event(ft.SHOWN,{relatedTarget:t}),o=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,g(e._element).trigger(n)};if(i){var r=m.getTransitionDurationFromElement(this._dialog);g(this._dialog).one(m.TRANSITION_END,o).emulateTransitionEnd(r)}else o()},t._enforceFocus=function(){var e=this;g(document).off(ft.FOCUSIN).on(ft.FOCUSIN,function(t){document!==t.target&&e._element!==t.target&&0===g(e._element).has(t.target).length&&e._element.focus()})},t._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?g(this._element).on(ft.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||g(this._element).off(ft.KEYDOWN_DISMISS)},t._setResizeEvent=function(){var e=this;this._isShown?g(window).on(ft.RESIZE,function(t){return e.handleUpdate(t)}):g(window).off(ft.RESIZE)},t._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){g(document.body).removeClass(gt.OPEN),t._resetAdjustments(),t._resetScrollbar(),g(t._element).trigger(ft.HIDDEN)})},t._removeBackdrop=function(){this._backdrop&&(g(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(t){var e=this,i=g(this._element).hasClass(gt.FADE)?gt.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=gt.BACKDROP,i&&this._backdrop.classList.add(i),g(this._backdrop).appendTo(document.body),g(this._element).on(ft.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())}),i&&m.reflow(this._backdrop),g(this._backdrop).addClass(gt.SHOW),!t)return;if(!i)return void t();var n=m.getTransitionDurationFromElement(this._backdrop);g(this._backdrop).one(m.TRANSITION_END,t).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){g(this._backdrop).removeClass(gt.SHOW);var o=function(){e._removeBackdrop(),t&&t()};if(g(this._element).hasClass(gt.FADE)){var r=m.getTransitionDurationFromElement(this._backdrop);g(this._backdrop).one(m.TRANSITION_END,o).emulateTransitionEnd(r)}else o()}else t&&t()},t._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var o=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(mt.FIXED_CONTENT)),e=[].slice.call(document.querySelectorAll(mt.STICKY_CONTENT));g(t).each(function(t,e){var i=e.style.paddingRight,n=g(e).css("padding-right");g(e).data("padding-right",i).css("padding-right",parseFloat(n)+o._scrollbarWidth+"px")}),g(e).each(function(t,e){var i=e.style.marginRight,n=g(e).css("margin-right");g(e).data("margin-right",i).css("margin-right",parseFloat(n)-o._scrollbarWidth+"px")});var i=document.body.style.paddingRight,n=g(document.body).css("padding-right");g(document.body).data("padding-right",i).css("padding-right",parseFloat(n)+this._scrollbarWidth+"px")}g(document.body).addClass(gt.OPEN)},t._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(mt.FIXED_CONTENT));g(t).each(function(t,e){var i=g(e).data("padding-right");g(e).removeData("padding-right"),e.style.paddingRight=i||""});var e=[].slice.call(document.querySelectorAll(""+mt.STICKY_CONTENT));g(e).each(function(t,e){var i=g(e).data("margin-right");void 0!==i&&g(e).css("margin-right",i).removeData("margin-right")});var i=g(document.body).data("padding-right");g(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},t._getScrollbarWidth=function(){var t=document.createElement("div");t.className=gt.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},o._jQueryInterface=function(i,n){return this.each(function(){var t=g(this).data(ut),e=a({},dt,g(this).data(),"object"==typeof i&&i?i:{});if(t||(t=new o(this,e),g(this).data(ut,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i](n)}else e.show&&t.show(n)})},s(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return dt}}]),o}();g(document).on(ft.CLICK_DATA_API,mt.DATA_TOGGLE,function(t){var e,i=this,n=m.getSelectorFromElement(this);n&&(e=document.querySelector(n));var o=g(e).data(ut)?"toggle":a({},g(e).data(),g(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var r=g(e).one(ft.SHOW,function(t){t.isDefaultPrevented()||r.one(ft.HIDDEN,function(){g(i).is(":visible")&&i.focus()})});vt._jQueryInterface.call(g(e),o,this)}),g.fn[lt]=vt._jQueryInterface,g.fn[lt].Constructor=vt,g.fn[lt].noConflict=function(){return g.fn[lt]=ct,vt._jQueryInterface};var yt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],_t={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},bt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,wt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function Ct(t,s,e){if(0===t.length)return t;if(e&&"function"==typeof e)return e(t);for(var i=new window.DOMParser,n=i.parseFromString(t,"text/html"),a=Object.keys(s),l=[].slice.call(n.body.querySelectorAll("*")),o=function(t,e){var i=l[t],n=i.nodeName.toLowerCase();if(-1===a.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var o=[].slice.call(i.attributes),r=[].concat(s["*"]||[],s[n]||[]);o.forEach(function(t){!function(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===yt.indexOf(i)||Boolean(t.nodeValue.match(bt)||t.nodeValue.match(wt));for(var n=e.filter(function(t){return t instanceof RegExp}),o=0,r=n.length;o<r;o++)if(i.match(n[o]))return!0;return!1}(t,r)&&i.removeAttribute(t.nodeName)})},r=0,u=l.length;r<u;r++)o(r,u);return n.body.innerHTML}var St="tooltip",xt="bs.tooltip",kt="."+xt,Ot=g.fn[St],Et="bs-tooltip",Lt=new RegExp("(^|\\s)"+Et+"\\S+","g"),Dt=["sanitize","whiteList","sanitizeFn"],It={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},Nt={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Tt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:_t},Mt={SHOW:"show",OUT:"out"},At={HIDE:"hide"+kt,HIDDEN:"hidden"+kt,SHOW:"show"+kt,SHOWN:"shown"+kt,INSERTED:"inserted"+kt,CLICK:"click"+kt,FOCUSIN:"focusin"+kt,FOCUSOUT:"focusout"+kt,MOUSEENTER:"mouseenter"+kt,MOUSELEAVE:"mouseleave"+kt},Pt={FADE:"fade",SHOW:"show"},Rt={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},Ft={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},jt=function(){function n(t,e){if(void 0===c)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var t=n.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,i=g(t.currentTarget).data(e);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),g(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(g(this.getTipElement()).hasClass(Pt.SHOW))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),g.removeData(this.element,this.constructor.DATA_KEY),g(this.element).off(this.constructor.EVENT_KEY),g(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&g(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===g(this.element).css("display"))throw new Error("Please use show on visible elements");var t=g.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){g(this.element).trigger(t);var i=m.findShadowRoot(this.element),n=g.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!n)return;var o=this.getTipElement(),r=m.getUID(this.constructor.NAME);o.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&g(o).addClass(Pt.FADE);var s="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,a=this._getAttachment(s);this.addAttachmentClass(a);var l=this._getContainer();g(o).data(this.constructor.DATA_KEY,this),g.contains(this.element.ownerDocument.documentElement,this.tip)||g(o).appendTo(l),g(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new c(this.element,o,{placement:a,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:Rt.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}}),g(o).addClass(Pt.SHOW),"ontouchstart"in document.documentElement&&g(document.body).children().on("mouseover",null,g.noop);var u=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,g(e.element).trigger(e.constructor.Event.SHOWN),t===Mt.OUT&&e._leave(null,e)};if(g(this.tip).hasClass(Pt.FADE)){var h=m.getTransitionDurationFromElement(this.tip);g(this.tip).one(m.TRANSITION_END,u).emulateTransitionEnd(h)}else u()}},t.hide=function(t){var e=this,i=this.getTipElement(),n=g.Event(this.constructor.Event.HIDE),o=function(){e._hoverState!==Mt.SHOW&&i.parentNode&&i.parentNode.removeChild(i),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),g(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(g(this.element).trigger(n),!n.isDefaultPrevented()){if(g(i).removeClass(Pt.SHOW),"ontouchstart"in document.documentElement&&g(document.body).children().off("mouseover",null,g.noop),this._activeTrigger[Ft.CLICK]=!1,this._activeTrigger[Ft.FOCUS]=!1,this._activeTrigger[Ft.HOVER]=!1,g(this.tip).hasClass(Pt.FADE)){var r=m.getTransitionDurationFromElement(i);g(i).one(m.TRANSITION_END,o).emulateTransitionEnd(r)}else o();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(t){g(this.getTipElement()).addClass(Et+"-"+t)},t.getTipElement=function(){return this.tip=this.tip||g(this.config.template)[0],this.tip},t.setContent=function(){var t=this.getTipElement();this.setElementContent(g(t.querySelectorAll(Rt.TOOLTIP_INNER)),this.getTitle()),g(t).removeClass(Pt.FADE+" "+Pt.SHOW)},t.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=Ct(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?g(e).parent().is(t)||t.empty().append(e):t.text(g(e).text())},t.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t=t||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:m.isElement(this.config.container)?g(this.config.container):g(document).find(this.config.container)},t._getAttachment=function(t){return Nt[t.toUpperCase()]},t._setListeners=function(){var n=this,t=this.config.trigger.split(" ");t.forEach(function(t){if("click"===t)g(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(t){return n.toggle(t)});else if(t!==Ft.MANUAL){var e=t===Ft.HOVER?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,i=t===Ft.HOVER?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT;g(n.element).on(e,n.config.selector,function(t){return n._enter(t)}).on(i,n.config.selector,function(t){return n._leave(t)})}}),g(this.element).closest(".modal").on("hide.bs.modal",function(){n.element&&n.hide()}),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==t||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(t,e){var i=this.constructor.DATA_KEY;(e=e||g(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),g(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?Ft.FOCUS:Ft.HOVER]=!0),g(e.getTipElement()).hasClass(Pt.SHOW)||e._hoverState===Mt.SHOW?e._hoverState=Mt.SHOW:(clearTimeout(e._timeout),e._hoverState=Mt.SHOW,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===Mt.SHOW&&e.show()},e.config.delay.show):e.show())},t._leave=function(t,e){var i=this.constructor.DATA_KEY;(e=e||g(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),g(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?Ft.FOCUS:Ft.HOVER]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Mt.OUT,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){e._hoverState===Mt.OUT&&e.hide()},e.config.delay.hide):e.hide())},t._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},t._getConfig=function(t){var e=g(this.element).data();return Object.keys(e).forEach(function(t){-1!==Dt.indexOf(t)&&delete e[t]}),"number"==typeof(t=a({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),m.typeCheckConfig(St,t,this.constructor.DefaultType),t.sanitize&&(t.template=Ct(t.template,t.whiteList,t.sanitizeFn)),t},t._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},t._cleanTipClass=function(){var t=g(this.getTipElement()),e=t.attr("class").match(Lt);null!==e&&e.length&&t.removeClass(e.join(""))},t._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},t._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(g(t).removeClass(Pt.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},n._jQueryInterface=function(i){return this.each(function(){var t=g(this).data(xt),e="object"==typeof i&&i;if((t||!/dispose|hide/.test(i))&&(t||(t=new n(this,e),g(this).data(xt,t)),"string"==typeof i)){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},s(n,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Tt}},{key:"NAME",get:function(){return St}},{key:"DATA_KEY",get:function(){return xt}},{key:"Event",get:function(){return At}},{key:"EVENT_KEY",get:function(){return kt}},{key:"DefaultType",get:function(){return It}}]),n}();g.fn[St]=jt._jQueryInterface,g.fn[St].Constructor=jt,g.fn[St].noConflict=function(){return g.fn[St]=Ot,jt._jQueryInterface};var Bt="popover",Ht="bs.popover",Wt="."+Ht,Vt=g.fn[Bt],zt="bs-popover",Ut=new RegExp("(^|\\s)"+zt+"\\S+","g"),qt=a({},jt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Kt=a({},jt.DefaultType,{content:"(string|element|function)"}),Gt={FADE:"fade",SHOW:"show"},Yt={TITLE:".popover-header",CONTENT:".popover-body"},$t={HIDE:"hide"+Wt,HIDDEN:"hidden"+Wt,SHOW:"show"+Wt,SHOWN:"shown"+Wt,INSERTED:"inserted"+Wt,CLICK:"click"+Wt,FOCUSIN:"focusin"+Wt,FOCUSOUT:"focusout"+Wt,MOUSEENTER:"mouseenter"+Wt,MOUSELEAVE:"mouseleave"+Wt},Zt=function(t){function n(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(n,t);var e=n.prototype;return e.isWithContent=function(){return this.getTitle()||this._getContent()},e.addAttachmentClass=function(t){g(this.getTipElement()).addClass(zt+"-"+t)},e.getTipElement=function(){return this.tip=this.tip||g(this.config.template)[0],this.tip},e.setContent=function(){var t=g(this.getTipElement());this.setElementContent(t.find(Yt.TITLE),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(Yt.CONTENT),e),t.removeClass(Gt.FADE+" "+Gt.SHOW)},e._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},e._cleanTipClass=function(){var t=g(this.getTipElement()),e=t.attr("class").match(Ut);null!==e&&0<e.length&&t.removeClass(e.join(""))},n._jQueryInterface=function(i){return this.each(function(){var t=g(this).data(Ht),e="object"==typeof i?i:null;if((t||!/dispose|hide/.test(i))&&(t||(t=new n(this,e),g(this).data(Ht,t)),"string"==typeof i)){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},s(n,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return qt}},{key:"NAME",get:function(){return Bt}},{key:"DATA_KEY",get:function(){return Ht}},{key:"Event",get:function(){return $t}},{key:"EVENT_KEY",get:function(){return Wt}},{key:"DefaultType",get:function(){return Kt}}]),n}(jt);g.fn[Bt]=Zt._jQueryInterface,g.fn[Bt].Constructor=Zt,g.fn[Bt].noConflict=function(){return g.fn[Bt]=Vt,Zt._jQueryInterface};var Xt="scrollspy",Jt="bs.scrollspy",Qt="."+Jt,te=g.fn[Xt],ee={offset:10,method:"auto",target:""},ie={offset:"number",method:"string",target:"(string|element)"},ne={ACTIVATE:"activate"+Qt,SCROLL:"scroll"+Qt,LOAD_DATA_API:"load"+Qt+".data-api"},oe={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},re={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},se={OFFSET:"offset",POSITION:"position"},ae=function(){function n(t,e){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+re.NAV_LINKS+","+this._config.target+" "+re.LIST_ITEMS+","+this._config.target+" "+re.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,g(this._scrollElement).on(ne.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var t=n.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?se.OFFSET:se.POSITION,o="auto"===this._config.method?t:this._config.method,r=o===se.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var i=[].slice.call(document.querySelectorAll(this._selector));i.map(function(t){var e,i=m.getSelectorFromElement(t);if(i&&(e=document.querySelector(i)),e){var n=e.getBoundingClientRect();if(n.width||n.height)return[g(e)[o]().top+r,i]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},t.dispose=function(){g.removeData(this._element,Jt),g(this._scrollElement).off(Qt),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(t){if("string"!=typeof(t=a({},ee,"object"==typeof t&&t?t:{})).target){var e=g(t.target).attr("id");e||(e=m.getUID(Xt),g(t.target).attr("id",e)),t.target="#"+e}return m.typeCheckConfig(Xt,t,ie),t},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),i<=t){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var o=this._offsets.length,r=o;r--;){var s=this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1]);s&&this._activate(this._targets[r])}}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),i=g([].slice.call(document.querySelectorAll(t.join(","))));i.hasClass(oe.DROPDOWN_ITEM)?(i.closest(re.DROPDOWN).find(re.DROPDOWN_TOGGLE).addClass(oe.ACTIVE),i.addClass(oe.ACTIVE)):(i.addClass(oe.ACTIVE),i.parents(re.NAV_LIST_GROUP).prev(re.NAV_LINKS+", "+re.LIST_ITEMS).addClass(oe.ACTIVE),i.parents(re.NAV_LIST_GROUP).prev(re.NAV_ITEMS).children(re.NAV_LINKS).addClass(oe.ACTIVE)),g(this._scrollElement).trigger(ne.ACTIVATE,{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(oe.ACTIVE)}).forEach(function(t){return t.classList.remove(oe.ACTIVE)})},n._jQueryInterface=function(i){return this.each(function(){var t=g(this).data(Jt),e="object"==typeof i&&i;if(t||(t=new n(this,e),g(this).data(Jt,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},s(n,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ee}}]),n}();g(window).on(ne.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(re.DATA_SPY)),e=t.length,i=e;i--;){var n=g(t[i]);ae._jQueryInterface.call(n,n.data())}}),g.fn[Xt]=ae._jQueryInterface,g.fn[Xt].Constructor=ae,g.fn[Xt].noConflict=function(){return g.fn[Xt]=te,ae._jQueryInterface};var le="bs.tab",ue="."+le,he=g.fn.tab,ce={HIDE:"hide"+ue,HIDDEN:"hidden"+ue,SHOW:"show"+ue,SHOWN:"shown"+ue,CLICK_DATA_API:"click.bs.tab.data-api"},de={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},pe={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},fe=function(){function n(t){this._element=t}var t=n.prototype;return t.show=function(){var i=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&g(this._element).hasClass(de.ACTIVE)||g(this._element).hasClass(de.DISABLED))){var t,n,e=g(this._element).closest(pe.NAV_LIST_GROUP)[0],o=m.getSelectorFromElement(this._element);if(e){var r="UL"===e.nodeName||"OL"===e.nodeName?pe.ACTIVE_UL:pe.ACTIVE;n=(n=g.makeArray(g(e).find(r)))[n.length-1]}var s=g.Event(ce.HIDE,{relatedTarget:this._element}),a=g.Event(ce.SHOW,{relatedTarget:n});if(n&&g(n).trigger(s),g(this._element).trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(t=document.querySelector(o)),this._activate(this._element,e);var l=function(){var t=g.Event(ce.HIDDEN,{relatedTarget:i._element}),e=g.Event(ce.SHOWN,{relatedTarget:n});g(n).trigger(t),g(i._element).trigger(e)};t?this._activate(t,t.parentNode,l):l()}}},t.dispose=function(){g.removeData(this._element,le),this._element=null},t._activate=function(t,e,i){var n=this,o=!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?g(e).children(pe.ACTIVE):g(e).find(pe.ACTIVE_UL),r=o[0],s=i&&r&&g(r).hasClass(de.FADE),a=function(){return n._transitionComplete(t,r,i)};if(r&&s){var l=m.getTransitionDurationFromElement(r);g(r).removeClass(de.SHOW).one(m.TRANSITION_END,a).emulateTransitionEnd(l)}else a()},t._transitionComplete=function(t,e,i){if(e){g(e).removeClass(de.ACTIVE);var n=g(e.parentNode).find(pe.DROPDOWN_ACTIVE_CHILD)[0];n&&g(n).removeClass(de.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(g(t).addClass(de.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),m.reflow(t),t.classList.contains(de.FADE)&&t.classList.add(de.SHOW),t.parentNode&&g(t.parentNode).hasClass(de.DROPDOWN_MENU)){var o=g(t).closest(pe.DROPDOWN)[0];if(o){var r=[].slice.call(o.querySelectorAll(pe.DROPDOWN_TOGGLE));g(r).addClass(de.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()},n._jQueryInterface=function(i){return this.each(function(){var t=g(this),e=t.data(le);if(e||(e=new n(this),t.data(le,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},s(n,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),n}();g(document).on(ce.CLICK_DATA_API,pe.DATA_TOGGLE,function(t){t.preventDefault(),fe._jQueryInterface.call(g(this),"show")}),g.fn.tab=fe._jQueryInterface,g.fn.tab.Constructor=fe,g.fn.tab.noConflict=function(){return g.fn.tab=he,fe._jQueryInterface};var ge="toast",me="bs.toast",ve="."+me,ye=g.fn[ge],_e={CLICK_DISMISS:"click.dismiss"+ve,HIDE:"hide"+ve,HIDDEN:"hidden"+ve,SHOW:"show"+ve,SHOWN:"shown"+ve},be={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},we={animation:"boolean",autohide:"boolean",delay:"number"},Ce={animation:!0,autohide:!0,delay:500},Se={DATA_DISMISS:'[data-dismiss="toast"]'},xe=function(){function o(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var t=o.prototype;return t.show=function(){var t=this;g(this._element).trigger(_e.SHOW),this._config.animation&&this._element.classList.add(be.FADE);var e=function(){t._element.classList.remove(be.SHOWING),t._element.classList.add(be.SHOW),g(t._element).trigger(_e.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(be.HIDE),this._element.classList.add(be.SHOWING),this._config.animation){var i=m.getTransitionDurationFromElement(this._element);g(this._element).one(m.TRANSITION_END,e).emulateTransitionEnd(i)}else e()},t.hide=function(t){var e=this;this._element.classList.contains(be.SHOW)&&(g(this._element).trigger(_e.HIDE),t?this._close():this._timeout=setTimeout(function(){e._close()},this._config.delay))},t.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(be.SHOW)&&this._element.classList.remove(be.SHOW),g(this._element).off(_e.CLICK_DISMISS),g.removeData(this._element,me),this._element=null,this._config=null},t._getConfig=function(t){return t=a({},Ce,g(this._element).data(),"object"==typeof t&&t?t:{}),m.typeCheckConfig(ge,t,this.constructor.DefaultType),t},t._setListeners=function(){var t=this;g(this._element).on(_e.CLICK_DISMISS,Se.DATA_DISMISS,function(){return t.hide(!0)})},t._close=function(){var t=this,e=function(){t._element.classList.add(be.HIDE),g(t._element).trigger(_e.HIDDEN)};if(this._element.classList.remove(be.SHOW),this._config.animation){var i=m.getTransitionDurationFromElement(this._element);g(this._element).one(m.TRANSITION_END,e).emulateTransitionEnd(i)}else e()},o._jQueryInterface=function(n){return this.each(function(){var t=g(this),e=t.data(me),i="object"==typeof n&&n;if(e||(e=new o(this,i),t.data(me,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](this)}})},s(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return we}},{key:"Default",get:function(){return Ce}}]),o}();g.fn[ge]=xe._jQueryInterface,g.fn[ge].Constructor=xe,g.fn[ge].noConflict=function(){return g.fn[ge]=ye,xe._jQueryInterface},function(){if(void 0===g)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=g.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=m,t.Alert=f,t.Button=k,t.Carousel=F,t.Collapse=Y,t.Dropdown=at,t.Modal=vt,t.Popover=Zt,t.Scrollspy=ae,t.Tab=fe,t.Toast=xe,t.Tooltip=jt,Object.defineProperty(t,"__esModule",{value:!0})}(e,i(43),i(233))},function(t,e,i){"use strict";var n,o,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a="object"===("undefined"==typeof window?"undefined":s(window));o=[i(43)],void 0===(r="function"==typeof(n=function(t){var e,r="slider",s="bootstrapSlider";return a&&!window.console&&(window.console={}),a&&!window.console.log&&(window.console.log=function(){}),a&&!window.console.warn&&(window.console.warn=function(){}),function(t){var d=Array.prototype.slice;function e(){}!function(h){if(h){var c="undefined"==typeof console?e:function(t){console.error(t)};h.bridget=function(t,e){!function(t){t.prototype.option||(t.prototype.option=function(t){h.isPlainObject(t)&&(this.options=h.extend(!0,this.options,t))})}(e),function(l,u){h.fn[l]=function(e){if("string"==typeof e){for(var t=d.call(arguments,1),i=0,n=this.length;i<n;i++){var o=this[i],r=h.data(o,l);if(r)if(h.isFunction(r[e])&&"_"!==e.charAt(0)){var s=r[e].apply(r,t);if(void 0!==s&&s!==r)return s}else c("no such method '"+e+"' for "+l+" instance");else c("cannot call methods on "+l+" prior to initialization; attempted to call '"+e+"'")}return this}var a=this.map(function(){var t=h.data(this,l);return t?(t.option(e),t._init()):(t=new u(this,e),h.data(this,l,t)),h(this)});return!a||1<a.length?a:a[0]}}(t,e)},h.bridget}}(t)}(t),function(j){var i=void 0,n=function(t){return"Invalid input value '"+t+"' passed in"},B={linear:{getValue:function(t,e){return t<e.min?e.min:t>e.max?e.max:t},toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(0<this.options.ticks_positions.length){for(var n,o,r,s=0,a=1;a<this.options.ticks_positions.length;a++)if(t<=this.options.ticks_positions[a]){n=this.options.ticks[a-1],r=this.options.ticks_positions[a-1],o=this.options.ticks[a],s=this.options.ticks_positions[a];break}e=n+(t-r)/(s-r)*(o-n),i=!1}var l=(i?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return B.linear.getValue(l,this.options)},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(0<this.options.ticks_positions.length){for(var e,i,n,o=0,r=0;r<this.options.ticks.length;r++)if(t<=this.options.ticks[r]){e=0<r?this.options.ticks[r-1]:0,n=0<r?this.options.ticks_positions[r-1]:0,i=this.options.ticks[r],o=this.options.ticks_positions[r];break}if(0<r)return n+(t-e)/(i-e)*(o-n)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=1-this.options.min,i=Math.log(this.options.min+e),n=Math.log(this.options.max+e),o=Math.exp(i+(n-i)*t/100)-e;return Math.round(o)===n?n:(o=this.options.min+Math.round((o-this.options.min)/this.options.step)*this.options.step,B.linear.getValue(o,this.options))},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=1-this.options.min,i=Math.log(this.options.max+e),n=Math.log(this.options.min+e);return 100*(Math.log(t+e)-n)/(i-n)}}};function o(t,e){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1,tickIndex:null},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),e=e||{};for(var i=Object.keys(this.defaultOptions),n=e.hasOwnProperty("min"),o=e.hasOwnProperty("max"),r=0;r<i.length;r++){var s=i[r],a=e[s];a=null!==(a=void 0!==a?a:u(this.element,s))?a:this.defaultOptions[s],this.options||(this.options={}),this.options[s]=a}if(this.ticksAreValid=Array.isArray(this.options.ticks)&&0<this.options.ticks.length,this.ticksAreValid||(this.options.lock_to_ticks=!1),"auto"===this.options.rtl){var l=window.getComputedStyle(this.element);this.options.rtl=null!=l?"rtl"===l.direction:"rtl"===this.element.style.direction}function u(t,e){var i="data-slider-"+e.replace(/_/g,"-"),n=t.getAttribute(i);try{return JSON.parse(n)}catch(t){return n}}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var h,c,d,p,f,g=this.element.style.width,m=!1,v=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var y=document.createElement("div");y.className="slider-track",(c=document.createElement("div")).className="slider-track-low",(h=document.createElement("div")).className="slider-selection",(d=document.createElement("div")).className="slider-track-high",(p=document.createElement("div")).className="slider-handle min-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),(f=document.createElement("div")).className="slider-handle max-slider-handle",f.setAttribute("role","slider"),f.setAttribute("aria-valuemin",this.options.min),f.setAttribute("aria-valuemax",this.options.max),y.appendChild(c),y.appendChild(h),y.appendChild(d),this.rangeHighlightElements=[];var _=this.options.rangeHighlights;if(Array.isArray(_)&&0<_.length)for(var b=0;b<_.length;b++){var w=document.createElement("div"),C=_[b].class||"";w.className="slider-rangeHighlight slider-selection "+C,this.rangeHighlightElements.push(w),y.appendChild(w)}var S=Array.isArray(this.options.labelledby);if(S&&this.options.labelledby[0]&&p.setAttribute("aria-labelledby",this.options.labelledby[0]),S&&this.options.labelledby[1]&&f.setAttribute("aria-labelledby",this.options.labelledby[1]),!S&&this.options.labelledby&&(p.setAttribute("aria-labelledby",this.options.labelledby),f.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&0<this.options.ticks.length){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",r=0;r<this.options.ticks.length;r++){var x=document.createElement("div");if(x.className="slider-tick",this.options.ticks_tooltip){var k=this._addTickListener(),O=k.addMouseEnter(this,x,r),E=k.addMouseLeave(this,x);this.ticksCallbackMap[r]={mouseEnter:O,mouseLeave:E}}this.ticks.push(x),this.ticksContainer.appendChild(x)}h.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&0<this.options.ticks_labels.length)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var L=document.createElement("div"),D=0===this.options.ticks_positions.length,I=this.options.reversed&&D?this.options.ticks_labels.length-(r+1):r;L.className="slider-tick-label",L.innerHTML=this.options.ticks_labels[I],this.tickLabels.push(L),this.tickLabelContainer.appendChild(L)}var N=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},T=document.createElement("div");T.className="tooltip tooltip-main",T.setAttribute("role","presentation"),N(T);var M=document.createElement("div");M.className="tooltip tooltip-min",M.setAttribute("role","presentation"),N(M);var A=document.createElement("div");A.className="tooltip tooltip-max",A.setAttribute("role","presentation"),N(A),this.sliderElem.appendChild(y),this.sliderElem.appendChild(T),this.sliderElem.appendChild(M),this.sliderElem.appendChild(A),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(p),this.sliderElem.appendChild(f),v.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(j&&(this.$element=j(this.element),this.$sliderElem=j(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),B[this.options.scale]&&(this.options.scale=B[this.options.scale]),!0===m&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=g,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="clientX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&0<this.options.ticks.length&&(o||(this.options.max=Math.max.apply(Math,this.options.ticks)),n||(this.options.min=Math.min.apply(Math,this.options.ticks))),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=c||this.trackLow,this.trackSelection=h||this.trackSelection,this.trackHigh=d||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=p||this.handle1,this.handle2=f||this.handle2,!0===m)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var P=this._addTickListener(),R=P.addMouseEnter(this,this.handle1),F=P.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:R,mouseLeave:F},R=P.addMouseEnter(this,this.handle2),F=P.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:R,mouseLeave:F}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.showTooltip,!1),this.sliderElem.addEventListener("touchmove",this.showTooltip,!1),this.sliderElem.addEventListener("touchend",this.hideTooltip,!1));this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1),this.touchCapable&&(this.handle1.addEventListener("touchstart",this.showTooltip,!1),this.handle1.addEventListener("touchmove",this.showTooltip,!1),this.handle1.addEventListener("touchend",this.hideTooltip,!1),this.handle2.addEventListener("touchstart",this.showTooltip,!1),this.handle2.addEventListener("touchmove",this.showTooltip,!1),this.handle2.addEventListener("touchend",this.hideTooltip,!1))}this.options.enabled?this.enable():this.disable()}(e=function(t,e){return o.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,lock_to_ticks:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t=t||0;var n=this.getValue();this._state.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value[0]=this.options.ticks[this._getClosestTickIndex(this._state.value[0])],this._state.value[1]=this.options.ticks[this._getClosestTickIndex(this._state.value[1])]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value=this.options.ticks[this._getClosestTickIndex(this._state.value)]),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this._setTickIndex(),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var r=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(r),!0===e&&this._trigger("slide",r),(Array.isArray(r)?n[0]!==r[0]||n[1]!==r[1]:n!==r)&&!0===i&&this._trigger("change",{oldValue:n,newValue:r}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),j&&(this._unbindJQueryEventHandlers(),i===r&&this.$element.removeData(i),this.$element.removeData(s))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(t,e){j?(this.$element.off(t,e),this.$sliderElem.off(t,e)):this._unbindNonQueryEventHandler(t,e)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(t){var e=this.getValue();return this._removeSliderEventHandlers(),o.call(this,this.element,this.options),t&&!0===t.useCurrentValue&&this.setValue(e),j&&(i===r&&j.data(this.element,r,this),j.data(this.element,s,this)),this},relayout:function(){return this._resize(),this},_removeTooltipListener:function(t,e){this.handle1.removeEventListener(t,e,!1),this.handle2.removeEventListener(t,e,!1)},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handleCallbackMap.handle1&&this.handleCallbackMap.handle2&&(this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1))}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&this._removeTooltipListener("focus",this.showTooltip),this.hideTooltip&&this._removeTooltipListener("blur",this.hideTooltip),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),this.touchCapable&&(this.showTooltip&&(this.handle1.removeEventListener("touchstart",this.showTooltip,!1),this.handle1.removeEventListener("touchmove",this.showTooltip,!1),this.handle2.removeEventListener("touchstart",this.showTooltip,!1),this.handle2.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("touchend",this.hideTooltip,!1),this.handle2.removeEventListener("touchend",this.hideTooltip,!1)),this.showTooltip&&(this.sliderElem.removeEventListener("touchstart",this.showTooltip,!1),this.sliderElem.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&this.sliderElem.removeEventListener("touchend",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1)),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var n=0;n<i.length;n++)if(i[n]===e){i.splice(n,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this._alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){var i=this,e=this.options.formatter(t?t.value[0]:this._state.value[0]),n=o(t||this._state,this.options.reversed);function o(t,e){return e?[100-t.percentage[0],i.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=n[0]+"%"},_copyState:function(){return{value:[this._state.value[0],this._state.value[1]],enabled:this._state.enabled,offset:this._state.offset,size:this._state.size,percentage:[this._state.percentage[0],this._state.percentage[1],this._state.percentage[2]],inDrag:this._state.inDrag,over:this._state.over,dragged:this._state.dragged,keyCtrl:this._state.keyCtrl}},_addTickListener:function(){return{addMouseEnter:function(n,o,r){function t(){var t=n._copyState(),e=o===n.handle1?t.value[0]:t.value[1],i=void 0;i=void 0!==r?(e=n.options.ticks[r],0<n.options.ticks_positions.length&&n.options.ticks_positions[r]||n._toPercentage(n.options.ticks[r])):n._toPercentage(e),t.value[0]=e,t.percentage[0]=i,n._setToolTipOnMouseOver(t),n._showTooltip()}return o.addEventListener("mouseenter",t,!1),t},addMouseLeave:function(t,e){function i(){t._hideTooltip()}return e.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var t,e,i;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),e=this.options.formatter(this._state.value[0]),isNaN(e)?this.handle1.setAttribute("aria-valuetext",e):this.handle1.removeAttribute("aria-valuetext"),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),e=this.options.formatter(this._state.value[1]),isNaN(e)?this.handle2.setAttribute("aria-valuetext",e):this.handle2.removeAttribute("aria-valuetext"),0<this.rangeHighlightElements.length&&Array.isArray(this.options.rangeHighlights)&&0<this.options.rangeHighlights.length)for(var n=0;n<this.options.rangeHighlights.length;n++){var o=this._toPercentage(this.options.rangeHighlights[n].start),r=this._toPercentage(this.options.rangeHighlights[n].end);if(this.options.reversed){var s=100-r;r=100-o,o=s}var a=this._createHighlightRange(o,r);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[n].style.top=a.start+"%",this.rangeHighlightElements[n].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[n].style.right=a.start+"%":this.rangeHighlightElements[n].style.left=a.start+"%",this.rangeHighlightElements[n].style.width=a.size+"%"):this.rangeHighlightElements[n].style.display="none"}if(Array.isArray(this.options.ticks)&&0<this.options.ticks.length){var l,u="vertical"===this.options.orientation?"height":"width";l="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var h=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var c=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[l]=-h/2+"px"),c=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>c&&(c=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=c+"px")}for(var d=0;d<this.options.ticks.length;d++){var p=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(p=100-p),this.ticks[d].style[this.stylePos]=p+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?p>=t[0]&&p<=t[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&p>=t[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&p<=t[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[u]=h+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[d]?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=p+"%",this.tickLabels[d].style[l]=-h/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[l]=this.sliderElem.offsetWidth/2*-1+"px"),this._removeClass(this.tickLabels[d],"label-in-selection label-is-selection"),this.options.range?p>=t[0]&&p<=t[1]&&(this._addClass(this.tickLabels[d],"label-in-selection"),p!==t[0]&&!t[1]||this._addClass(this.tickLabels[d],"label-is-selection")):("after"===this.options.selection&&p>=t[0]?this._addClass(this.tickLabels[d],"label-in-selection"):"before"===this.options.selection&&p<=t[0]&&this._addClass(this.tickLabels[d],"label-in-selection"),p===t[0]&&this._addClass(this.tickLabels[d],"label-is-selection")))}}if(this.options.range){i=this.options.formatter(this._state.value),this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%";var f=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,f);var g=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,g),this.tooltip_min.style[this.stylePos]=t[0]+"%",this.tooltip_max.style[this.stylePos]=t[1]+"%"}else i=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=t[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),v=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?m.right>v.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):m.right>v.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?e<t?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;t.preventDefault&&t.preventDefault(),this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),n=Math.abs(this._state.percentage[1]-e);this._state.dragged=i<n?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this.setValue(o,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var n="horizontal"===this.options.orientation,o="vertical"===this.options.orientation,r=this.options.rtl,s=this.options.reversed;n?r?s||(i=-i):s&&(i=-i):o&&(s||(i=-i))}var a;if(this.ticksAreValid&&this.options.lock_to_ticks){var l=void 0;-1===(l=this.options.ticks.indexOf(this._state.value[t]))&&(l=0,window.console.warn("(lock_to_ticks) _keydown: index should not be -1")),l+=i,l=Math.max(0,Math.min(this.options.ticks.length-1,l)),a=this.options.ticks[l]}else a=this._state.value[t]+i*this.options.step;var u=this._toPercentage(a);if(this._state.keyCtrl=t,this.options.range){this._adjustPercentageForRangeSliders(u);var h=this._state.keyCtrl?this._state.value[0]:a,c=this._state.keyCtrl?a:this._state.value[1];a=[Math.max(this.options.min,Math.min(this.options.max,h)),Math.max(this.options.min,Math.min(this.options.max,c))]}else a=Math.max(this.options.min,Math.min(this.options.max,a));return this._trigger("slideStart",a),this.setValue(a,!0,!0),this._trigger("slideStop",a),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e;var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(t){void 0!==t.changedTouches&&t.preventDefault&&t.preventDefault()},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._toPercentage(this._state.value[1])<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._toPercentage(this._state.value[0])>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),(this._state.inDrag=!1)===this._state.over&&this._hideTooltip();var i=this._calculateValue(!0);return this.setValue(i,!1,!0),this._trigger("slideStop",i),this._state.dragged=null,!1},_setValues:function(t,e){var i=0===t?0:100;this._state.percentage[t]!==i&&(e.data[t]=this._toValue(this._state.percentage[t]),e.data[t]=this._applyPrecision(e.data[t]))},_calculateValue:function(t){var e={};return this.options.range?(e.data=[this.options.min,this.options.max],this._setValues(0,e),this._setValues(1,e),t&&(e.data[0]=this._snapToClosestTick(e.data[0]),e.data[1]=this._snapToClosestTick(e.data[1]))):(e.data=this._toValue(this._state.percentage[0]),e.data=parseFloat(e.data),e.data=this._applyPrecision(e.data),t&&(e.data=this._snapToClosestTick(e.data))),e.data},_snapToClosestTick:function(t){for(var e=[t,1/0],i=0;i<this.options.ticks.length;i++){var n=Math.abs(this.options.ticks[i]-t);n<=e[1]&&(e=[this.options.ticks[i],n])}return e[1]<=this.options.ticks_snap_bounds?e[0]:t},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type&&"touchend"!==t.type||(t=t.changedTouches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var i=e/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(n(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(n(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(t,e){e=e||0===e?e:void 0;var i=this.eventToCallbackMap[t];if(i&&i.length)for(var n=0;n<i.length;n++)(0,i[n])(e);j&&this._triggerJQueryEvent(t,e)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),n=t.className,o=0;o<i.length;o++){var r=i[o],s=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)");n=n.replace(s," ")}t.className=n.trim()},_addClass:function(t,e){for(var i=e.split(" "),n=t.className,o=0;o<i.length;o++){var r=i[o];new RegExp("(?:\\s|^)"+r+"(?:\\s|$)").test(n)||(n+=" "+r)}t.className=n.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(t,e,i){if(j)j.style(t,e,i);else{var n=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});t.style[n]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,i="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))},_getClosestTickIndex:function(t){for(var e=Math.abs(t-this.options.ticks[0]),i=0,n=0;n<this.options.ticks.length;++n){var o=Math.abs(t-this.options.ticks[n]);o<e&&(e=o,i=n)}return i},_setTickIndex:function(){this.ticksAreValid&&(this._state.tickIndex=[this.options.ticks.indexOf(this._state.value[0]),this.options.ticks.indexOf(this._state.value[1])])}},j&&j.fn&&(i=j.fn.slider?(a&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),s):(j.bridget(r,e),r),j.bridget(s,e),j(function(){j("input[data-provide=slider]")[i]()}))}(t),e})?n.apply(e,o):n)||(t.exports=r)},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,i){"use strict";var f=i(43),g=i(58),m=i(102),n=i(135),v=i(235),y=i(78),s={twitter:{embedValid:!1,logoClass:"fab fa-twitter",cssClass:"share-twitter",getLink:function(t,e){return"https://twitter.com/intent/tweet?text="+encodeURIComponent(t)+"&url="+encodeURIComponent(e)+"&via=CompileExplore"},text:"Tweet"},reddit:{embedValid:!1,logoClass:"fab fa-reddit",cssClass:"share-reddit",getLink:function(t,e){return"http://www.reddit.com/submit?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t)},text:"Share on Reddit"}};function _(n,o){var r=f("#share-item");g.each(s,function(t,e){var i=r.children("a.share-item").clone();t.logoClass&&i.prepend(f("<span>").addClass("dropdown-icon").addClass(t.logoClass).prop("title",e)),t.text&&i.children("span.share-item-text").text(t.text),i.prop("href",t.getLink("Compiler Explorer",o)).addClass(t.cssClass).toggleClass("share-no-embeddable",!t.embedValid).appendTo(n)})}t.exports={initShareButton:function(r,c,s){var t=window.location.protocol+"//"+window.location.hostname,e=f(".template .urls").html(),d=null,p="",i=r.prop("title");r.popover({container:"body",content:e,html:!0,placement:"bottom",trigger:"manual",sanitize:!1}).click(function(){r.popover("toggle")}).on("inserted.bs.popover",function(){y.proxy("send",{hitType:"event",eventCategory:"OpenModalPane",eventAction:"Sharing"});var t=f(f(this).data("bs.popover").tip).find(".socialsharing"),e=f(".urls-container:visible"),a=e.find(".current"),l=f(".permalink"),u={};function i(t){p=(d=t).data().bind}function h(t,e,i,n){n.updateState&&s(e,n.extra),a.text(i),l.val(n.url),function(t,e){m.sharingEnabled&&(_(t,e),"Full"!==p&&"Short"!==p&&t.children(".share-no-embeddable").addClass("share-disabled").prop("title","Embed links are not supported in this service").on("click",!1))}(t,n.url)}function n(){var o=t;if(o.empty(),p){l.prop("disabled",!1);var r=c.toConfig(),s=p;"Embed"===p&&(s=0===f("#shareembedlink input:checked").length?"Embed":"Embed|"+f("#shareembedlink input:checked").map(function(){return f(this).prop("class")}).get().join()),u[s]?h(o,r,p,u[s]):(a.text(d.text()),l.val(""),function(t,e,i){var n=window.httpRoot;n.endsWith("/")||(n+="/");switch(e){case"Short":return function(t,e,i){var n="default"!==m.urlShortenService,o=JSON.stringify({config:n?v.serialiseState(t):t});f.ajax({type:"POST",url:window.location.origin+e+"shortener",dataType:"json",contentType:"application/json",data:o,success:g.bind(function(t){var e=n?null:t.url;i(null,t.url,e,!0)},this),error:g.bind(function(t){i(t.statusText,null,!1)},this),cache:!0})}(t,n,i);case"Full":return i(null,window.location.origin+n+"#"+v.serialiseState(t),!1);default:if("Embed"===e.substr(0,5)){var o={};return f("#shareembedlink input:checked").each(function(){o[f(this).prop("class")]=!0}),i(null,function(t,e,i,n){return'<iframe width="800px" height="200px" src="'+function(t,e,i,n){var o=window.location.origin+e,r="",s="";g.forEach(n,function(t,e){""===s?s="?":s+="&",s+=e+"="+t}),r=i?"embed-ro"+s+"#":"e"+s+"#";return o+r+v.serialiseState(t)}(t,e,i,n)+'"></iframe>'}(t,n,!1,o),!1)}i("Unknown link type",null)}}(r,p,function(t,e,i,n){t||!e?(l.prop("disabled",!0),l.val(t||"Error providing URL")):(u[s]={updateState:n,extra:i,url:e},h(o,r,p,u[s]))}))}}d=d||f(e.find(".sources button")[0]),p=p||d.data().bind,e.find(".sources button").on("click",function(){i(f(this)),n()});var o=f(".shareembed");o.on("click",function(){i(o),n(),r.popover("hide")}),f("#embedsettings input").off("click").on("click",function(){i(o),n()}),n()}).prop("title",i),f(document).on("keyup.editable",function(t){27===t.which&&r.popover("hide")}),f(document).on("mouseup",function(t){var e=f(t.target);e.is(r)||0!==r.has(e).length||0!==e.closest(".popover").length||r.popover("hide")}),m.sharingEnabled&&_(f("#socialshare"),t)},configFromEmbedded:function(t){var e;try{e=v.unrisonify(t)}catch(t){}if(e&&e.source&&e.compiler){var i=g.chain((e.filters||"").split(",")).map(function(t){return[t,!0]}).object().value();return{content:[{type:"row",content:[n.getEditorWith(1,e.source,i),n.getCompilerWith(1,i,e.options,e.compiler)]}]}}return v.deserialiseState(t)}}},function(t,e,i){var n,o,r;o=[e],void 0===(r="function"==typeof(n=function(t){var s=t;void 0===s&&(window.rison={}),s.uri_ok={"~":!0,"!":!0,"*":!0,"(":!0,")":!0,"-":!0,_:!0,".":!0,",":!0,":":!0,"@":!0,$:!0,"'":!0,"/":!0},function(){for(var t=[],e=0;e<16;e++)for(var i=0;i<16;i++)if(e+i!=0){var n=String.fromCharCode(16*e+i);/\w|[-_.\/~]/.test(n)||t.push("\\u00"+e.toString(16)+i.toString(16))}s.not_idchar=t.join("")}(),s.not_idchar=" '!:(),*@$",s.not_idstart="-0123456789",function(){var t="[^"+s.not_idstart+s.not_idchar+"][^"+s.not_idchar+"]*";s.id_ok=new RegExp("^"+t+"$"),s.next_id=new RegExp(t,"g")}(),s.quote=function(t){return/^[-A-Za-z0-9~!*()_.',:@$\/]*$/.test(t)?t:encodeURIComponent(t).replace(/%2C/g,",").replace(/%3A/g,":").replace(/%40/g,"@").replace(/%24/g,"$").replace(/%2F/g,"/").replace(/%20/g,"+")},function(){var i={"'":!0,"!":!0},a=function(t){t&&"function"==typeof t.toJSON&&(t=t.toJSON());var e=l[typeof t];if(e)return e(t)},l={array:function(t){var e,i,n,o=["!("],r=t.length;for(i=0;i<r;i+=1)"string"==typeof(n=a(t[i]))&&(e&&(o[o.length]=","),o[o.length]=n,e=!0);return o[o.length]=")",o.join("")},boolean:function(t){return t?"!t":"!f"},null:function(t){return"!n"},number:function(t){return isFinite(t)?String(t).replace(/\+/,""):"!n"},object:function(t){if(t){if(t instanceof Array)return l.array(t);if("object"==typeof t.__prototype__&&void 0!==t.__prototype__.encode_rison)return t.encode_rison();var e,i,n,o,r=["("],s=[];for(i in t)s[s.length]=i;for(s.sort(),o=0;o<s.length;o++)i=s[o],"string"==typeof(n=a(t[i]))&&(e&&(r[r.length]=","),r.push(l.string(i),":",n),e=!0);return r[r.length]=")",r.join("")}return"!n"},string:function(t){return""==t?"''":s.id_ok.test(t)?t:"'"+(t=t.replace(/(['!])/g,function(t,e){return i[e]?"!"+e:e}))+"'"},undefined:function(t){}};s.encode=function(t){return a(t)},s.encode_object=function(t){if("object"!=typeof t||null===t||t instanceof Array)throw new Error("rison.encode_object expects an object argument");var e=l[typeof t](t);return e.substring(1,e.length-1)},s.encode_array=function(t){if(!(t instanceof Array))throw new Error("rison.encode_array expects an array argument");var e=l[typeof t](t);return e.substring(2,e.length-1)},s.encode_uri=function(t){return s.quote(l[typeof t](t))}}(),s.decode=function(t){var e=new s.parser(function(t){throw Error("rison decoder error: "+t)});return e.parse(t)},s.decode_object=function(t){return s.decode("("+t+")")},s.decode_array=function(t){return s.decode("!("+t+")")},s.parser=function(t){this.errorHandler=t},s.parser.WHITESPACE="",s.parser.prototype.setOptions=function(t){t.errorHandler&&(this.errorHandler=t.errorHandler)},s.parser.prototype.parse=function(t){this.string=t,this.index=0,this.message=null;var e=this.readValue();return!this.message&&this.next()&&(e=this.error("unable to parse string as rison: '"+s.encode(t)+"'")),this.message&&this.errorHandler&&this.errorHandler(this.message,this.index),e},s.parser.prototype.error=function(t){"undefined"!=typeof console&&console.log("rison parser error: ",t),this.message=t},s.parser.prototype.readValue=function(){var t=this.next(),e=t&&this.table[t];if(e)return e.apply(this);var i=this.string,n=this.index-1;s.next_id.lastIndex=n;var o=s.next_id.exec(i);if(0<o.length){var r=o[0];return this.index=n+r.length,r}return t?this.error("invalid character: '"+t+"'"):this.error("empty expression")},s.parser.parse_array=function(t){for(var e,i=[];")"!=(e=t.next());){if(!e)return t.error("unmatched '!('");if(i.length)","!=e&&t.error("missing ','");else{if(","==e)return t.error("extra ','");--t.index}var n=t.readValue();if(void 0===n)return;i.push(n)}return i},s.parser.bangs={t:!0,f:!1,n:null,"(":s.parser.parse_array},s.parser.prototype.table={"!":function(){var t=this.string,e=t.charAt(this.index++);if(!e)return this.error('"!" at end of input');var i=s.parser.bangs[e];return"function"==typeof i?i.call(null,this):void 0===i?this.error('unknown literal: "!'+e+'"'):i},"(":function(){for(var t,e={},i=0;")"!=(t=this.next());){if(i)","!=t&&this.error("missing ','");else{if(","==t)return this.error("extra ','");--this.index}var n=this.readValue();if(void 0===n)return;if(":"!=this.next())return this.error("missing ':'");var o=this.readValue();if(void 0===o)return;e[n]=o,i++}return e},"'":function(){for(var t,e=this.string,i=this.index,n=i,o=[];"'"!=(t=e.charAt(i++));){if(!t)return this.error('unmatched "\'"');if("!"==t){if(n<i-1&&o.push(e.slice(n,i-1)),t=e.charAt(i++),!(0<="!'".indexOf(t)))return this.error('invalid string escape: "!'+t+'"');o.push(t),n=i}}return n<i-1&&o.push(e.slice(n,i-1)),this.index=i,1==o.length?o[0]:o.join("")},"-":function(){var t=this.string,e=this.index,i=e-1,n="int",o="-",r={"int+.":"frac","int+e":"exp","frac+e":"exp"};do{var s=t.charAt(e++);if(!s)break;"0"<=s&&s<="9"||(0<=o.indexOf(s)?o="":"exp"==(n=r[n+"+"+s.toLowerCase()])&&(o="-"))}while(n);return this.index=--e,"-"==(t=t.slice(i,e))?this.error("invalid number"):Number(t)}},function(t){for(var e=0;e<=9;e++)t[String(e)]=t["-"]}(s.parser.prototype.table),s.parser.prototype.next=function(){var t,e=this.string,i=this.index;do{if(i==e.length)return;t=e.charAt(i++)}while(0<=s.parser.WHITESPACE.indexOf(t));return this.index=i,t}})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,v,o,r,s,a,l=(v=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",s={},a={compressToBase64:function(t){if(null==t)return"";var e=a._compress(t,6,function(t){return o.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,function(t){return u(o,e.charAt(t))})},compressToUTF16:function(t){return null==t?"":a._compress(t,15,function(t){return v(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(t){for(var e=a.compress(t),i=new Uint8Array(2*e.length),n=0,o=e.length;n<o;n++){var r=e.charCodeAt(n);i[2*n]=r>>>8,i[2*n+1]=r%256}return i},decompressFromUint8Array:function(t){if(null==t)return a.decompress(t);for(var e=new Array(t.length/2),i=0,n=e.length;i<n;i++)e[i]=256*t[2*i]+t[2*i+1];var o=[];return e.forEach(function(t){o.push(v(t))}),a.decompress(o.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":a._compress(t,6,function(t){return r.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,function(t){return u(r,e.charAt(t))}))},compress:function(t){return a._compress(t,16,function(t){return v(t)})},_compress:function(t,e,i){if(null==t)return"";var n,o,r,s={},a={},l="",u="",h="",c=2,d=3,p=2,f=[],g=0,m=0;for(r=0;r<t.length;r+=1)if(l=t.charAt(r),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=d++,a[l]=!0),u=h+l,Object.prototype.hasOwnProperty.call(s,u))h=u;else{if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(n=0;n<p;n++)g<<=1,m==e-1?(m=0,f.push(i(g)),g=0):m++;for(o=h.charCodeAt(0),n=0;n<8;n++)g=g<<1|1&o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o>>=1}else{for(o=1,n=0;n<p;n++)g=g<<1|o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o=0;for(o=h.charCodeAt(0),n=0;n<16;n++)g=g<<1|1&o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o>>=1}0==--c&&(c=Math.pow(2,p),p++),delete a[h]}else for(o=s[h],n=0;n<p;n++)g=g<<1|1&o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o>>=1;0==--c&&(c=Math.pow(2,p),p++),s[u]=d++,h=String(l)}if(""!==h){if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(n=0;n<p;n++)g<<=1,m==e-1?(m=0,f.push(i(g)),g=0):m++;for(o=h.charCodeAt(0),n=0;n<8;n++)g=g<<1|1&o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o>>=1}else{for(o=1,n=0;n<p;n++)g=g<<1|o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o=0;for(o=h.charCodeAt(0),n=0;n<16;n++)g=g<<1|1&o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o>>=1}0==--c&&(c=Math.pow(2,p),p++),delete a[h]}else for(o=s[h],n=0;n<p;n++)g=g<<1|1&o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o>>=1;0==--c&&(c=Math.pow(2,p),p++)}for(o=2,n=0;n<p;n++)g=g<<1|1&o,m==e-1?(m=0,f.push(i(g)),g=0):m++,o>>=1;for(;;){if(g<<=1,m==e-1){f.push(i(g));break}m++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,e,i){var n,o,r,s,a,l,u,h=[],c=4,d=4,p=3,f="",g=[],m={val:i(0),position:e,index:1};for(n=0;n<3;n+=1)h[n]=n;for(r=0,a=Math.pow(2,2),l=1;l!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=i(m.index++)),r|=(0<s?1:0)*l,l<<=1;switch(r){case 0:for(r=0,a=Math.pow(2,8),l=1;l!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=i(m.index++)),r|=(0<s?1:0)*l,l<<=1;u=v(r);break;case 1:for(r=0,a=Math.pow(2,16),l=1;l!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=i(m.index++)),r|=(0<s?1:0)*l,l<<=1;u=v(r);break;case 2:return""}for(o=h[3]=u,g.push(u);;){if(m.index>t)return"";for(r=0,a=Math.pow(2,p),l=1;l!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=i(m.index++)),r|=(0<s?1:0)*l,l<<=1;switch(u=r){case 0:for(r=0,a=Math.pow(2,8),l=1;l!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=i(m.index++)),r|=(0<s?1:0)*l,l<<=1;h[d++]=v(r),u=d-1,c--;break;case 1:for(r=0,a=Math.pow(2,16),l=1;l!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=i(m.index++)),r|=(0<s?1:0)*l,l<<=1;h[d++]=v(r),u=d-1,c--;break;case 2:return g.join("")}if(0==c&&(c=Math.pow(2,p),p++),h[u])f=h[u];else{if(u!==d)return null;f=o+o.charAt(0)}g.push(f),h[d++]=o+f.charAt(0),o=f,0==--c&&(c=Math.pow(2,p),p++)}}});function u(t,e){if(!s[t]){s[t]={};for(var i=0;i<t.length;i++)s[t][t.charAt(i)]=i}return s[t][e]}void 0===(n=function(){return l}.call(e,i,e,t))||(t.exports=n)},function(t,e,i){var n,o,r;o=[t,i(254),i(256),i(257)],void 0===(r="function"==typeof(n=function(t,e,i,n){"use strict";var o=a(e),r=a(i),s=a(n);function a(t){return t&&t.__esModule?t:{default:t}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var h=function(t){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.resolveOptions(e),i.listenClick(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),u(n,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===l(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,s.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),n}(r.default);function c(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}t.exports=h})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){var n,o,r;o=[t,i(255)],void 0===(r="function"==typeof(n=function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(e);var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();t.exports=r})?n.apply(e,o):n)||(t.exports=r)},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}},function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function o(){n.off(t,o),e.apply(i,arguments)}return o._=e,this.on(t,o,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],o=[];if(n&&e)for(var r=0,s=n.length;r<s;r++)n[r].fn!==e&&n[r].fn._!==e&&o.push(n[r]);return o.length?i[t]=o:delete i[t],this}},t.exports=i,t.exports.TinyEmitter=i},function(t,e,i){var n=i(258),o=i(259);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(t))return function(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}(t,e,i);if(n.nodeList(t))return function(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}(t,e,i);if(n.string(t))return function(t,e,i){return o(document.body,t,e,i)}(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,i){var s=i(260);function r(t,e,i,n,o){var r=function(e,i,t,n){return function(t){t.delegateTarget=s(t.target,i),t.delegateTarget&&n.call(e,t)}}.apply(this,arguments);return t.addEventListener(i,r,o),{destroy:function(){t.removeEventListener(i,r,o)}}}t.exports=function(t,e,i,n,o){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof i?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return r(t,e,i,n,o)}))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,i){"use strict";var n=i(58),o=i(165),r=i(262),s=i(355),a=i(363),l=i(364),u=i(365),h=i(135),c=i(367),d=i(368),p=i(369),f=i(370),g=i(371),m=i(373),v=i(375),y=i(376);function _(){this.used={}}function b(t,e,i){this.layout=t,this.editorIds=new _,this.compilerIds=new _,this.compilerService=new y(t.eventHub),this.deferred=!0,this.deferredEmissions=[],this.lastOpenedLangId=null,this.subdomainLangId=e||void 0,this.defaultLangId=i;var n=this;t.registerComponent(h.getEditor().componentName,function(t,e){return n.codeEditorFactory(t,e)}),t.registerComponent(h.getCompiler().componentName,function(t,e){return n.compilerFactory(t,e)}),t.registerComponent(h.getExecutor().componentName,function(t,e){return n.executorFactory(t,e)}),t.registerComponent(h.getOutput().componentName,function(t,e){return n.outputFactory(t,e)}),t.registerComponent(h.getToolViewWith().componentName,function(t,e){return n.toolFactory(t,e)}),t.registerComponent(c.getComponent().componentName,function(t,e){return n.diffFactory(t,e)}),t.registerComponent(h.getOptView().componentName,function(t,e){return n.optViewFactory(t,e)}),t.registerComponent(h.getAstView().componentName,function(t,e){return n.astViewFactory(t,e)}),t.registerComponent(h.getIrView().componentName,function(t,e){return n.irViewFactory(t,e)}),t.registerComponent(h.getGccDumpView().componentName,function(t,e){return n.gccDumpViewFactory(t,e)}),t.registerComponent(h.getCfgView().componentName,function(t,e){return n.cfgViewFactory(t,e)}),t.registerComponent(h.getConformanceView().componentName,function(t,e){return n.confomanceFactory(t,e)}),t.eventHub.on("editorOpen",function(t){this.editorIds.add(t)},this),t.eventHub.on("editorClose",function(t){this.editorIds.remove(t)},this),t.eventHub.on("compilerOpen",function(t){this.compilerIds.add(t)},this),t.eventHub.on("compilerClose",function(t){this.compilerIds.remove(t)},this),t.eventHub.on("languageChange",function(t,e){this.lastOpenedLangId=e},this),t.init(),this.undefer(),t.eventHub.emit("initialised")}function w(t,e){this.hub=t,this.eventHub=e,this.subscriptions=[]}_.prototype.add=function(t){this.used[t]=!0},_.prototype.remove=function(t){delete this.used[t]},_.prototype.next=function(){for(var t=1;t<1e5;++t)if(!this.used[t])return this.used[t]=!0,t;throw"Ran out of ids!?"},b.prototype.undefer=function(){this.deferred=!1;var e=this.layout.eventHub;n.each(this.deferredEmissions,function(t){e.emit.apply(e,t)}),this.deferredEmissions=[]},b.prototype.nextEditorId=function(){return this.editorIds.next()},b.prototype.nextCompilerId=function(){return this.compilerIds.next()},b.prototype.codeEditorFactory=function(t,e){return t.parent.config.isClosable=!0,new r.Editor(this,e,t)},b.prototype.compilerFactory=function(t,e){return new s.Compiler(this,t,e)},b.prototype.executorFactory=function(t,e){return new a.Executor(this,t,e)},b.prototype.outputFactory=function(t,e){return new l.Output(this,t,e)},b.prototype.toolFactory=function(t,e){return new u.Tool(this,t,e)},b.prototype.diffFactory=function(t,e){return new c.Diff(this,t,e)},b.prototype.optViewFactory=function(t,e){return new d.Opt(this,t,e)},b.prototype.astViewFactory=function(t,e){return new p.Ast(this,t,e)},b.prototype.irViewFactory=function(t,e){return new f.Ir(this,t,e)},b.prototype.gccDumpViewFactory=function(t,e){return new g.GccDump(this,t,e)},b.prototype.cfgViewFactory=function(t,e){return new m.Cfg(this,t,e)},b.prototype.confomanceFactory=function(t,e){return new v.Conformance(this,t,e)},w.prototype.emit=function(){this.hub.deferred?this.hub.deferredEmissions.push(arguments):this.eventHub.emit.apply(this.eventHub,arguments)},w.prototype.on=function(t,e,i){this.eventHub.on(t,e,i),this.subscriptions.push({evt:t,fn:e,ctx:i})},w.prototype.unsubscribe=function(){n.each(this.subscriptions,n.bind(function(e){try{this.eventHub.off(e.evt,e.fn,e.ctx)}catch(t){o.captureMessage("Can not unsubscribe from "+e.evt.toString()),o.captureException(t)}},this)),this.subscriptions=[]},b.prototype.createEventHub=function(){return new w(this,this.layout.eventHub)},b.prototype.findParentRowOrColumn=function(t){for(;t;){if(t.isRow||t.isColumn)return t;t=t.parent}return t},b.prototype.addAtRoot=function(t){var e=this.layout.root.contentItems[0];if(e)if(e.isRow||e.isColumn)e.addChild(t);else{var i=this.layout.createContentItem({type:"row"},this.layout.root);this.layout.root.replaceChild(e,i),i.addChild(e),i.addChild(t)}else this.layout.root.addChild({type:"row",content:[t]})},t.exports=b},function(t,e,i){"use strict";var p=i(58),f=i(43),n=i(176),o=i(263),g=i(115),m=i(135),s=i(59),a=i(102),l=i(162),u=i(163),h=i(78),r=i(337);i(240),i(341),i(342),i(343),i(344),i(345),i(346),i(347),i(348),i(349),i(350),i(351),i(352),i(124);var v=new o.LoadSave,c=a.languages;function d(e,t,i){this.id=t.id||e.nextEditorId(),this.container=i,this.domRoot=i.getElement(),this.domRoot.html(f("#codeEditor").html()),this.hub=e,this.eventHub=e.createEventHub(),this.settings=JSON.parse(u.get("settings","{}")),this.ourCompilers={},this.httpRoot=window.httpRoot,this.httpRoot.endsWith("/")||(this.httpRoot+="/"),this.widgetsByCompiler={},this.asmByCompiler={},this.busyCompilers={},this.colours=[],this.decorations={},this.prevDecorations=[],this.extraDecorations=[],this.fadeTimeoutId=-1,this.editorSourceByLang={},this.alertSystem=new l,this.alertSystem.prefixMessage="Editor #"+this.id+": ",this.langKeys=p.keys(c),this.initLanguage(t);var n=this.domRoot.find(".monaco-placeholder"),o=t.options&&!!t.options.readOnly;this.editor=s.editor.create(n[0],{scrollBeyondLastLine:!1,language:this.currentLanguage.monaco,fontFamily:this.settings.editorsFFont,readOnly:!!a.readOnly||o,glyphMargin:!a.embedded,quickSuggestions:!1,fixedOverflowWidgets:!0,minimap:{maxColumn:80},folding:!0,lineNumbersMinChars:a.embedded?1:3,emptySelectionClipboard:!0,autoIndent:!0,vimInUse:this.settings.useVim}),this.editor.getModel().setEOL(s.editor.EndOfLineSequence.LF),void 0!==t.source?this.setSource(t.source):this.updateEditorCode();t.source&&t.source.match(/^[/*#;]+\s*setup.*/)&&setTimeout(p.bind(function(){this.editor.setSelection(new s.Selection(1,1,1,1)),this.editor.focus(),this.editor.getAction("editor.fold").run(),this.editor.clearSelection()},this),500),this.initEditorActions(),this.initButtons(t),this.initCallbacks(),this.settings.useVim&&this.enableVim();var r=p.filter(c,function(t){return e.compilerService.compilersByLang[t.id]});this.languageBtn.selectize({sortField:"name",valueField:"id",labelField:"name",searchField:["name"],options:p.map(r,p.identity),items:[this.currentLanguage.id],dropdownParent:"body"}).on("change",p.bind(function(t){this.onLanguageChange(f(t.target).val())},this)),this.selectize=this.languageBtn[0].selectize,this.lastChangeEmitted=null,this.onSettingsChange(this.settings),this.updateTitle(),this.updateState(),h.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Editor"}),h.proxy("send",{hitType:"event",eventCategory:"LanguageChange",eventAction:this.currentLanguage.id})}d.prototype.onMotd=function(t){this.extraDecorations=t.decorations,this.updateExtraDecorations()},d.prototype.updateExtraDecorations=function(){var i=!1;p.each(this.extraDecorations,p.bind(function(t){if(!(t.filter&&t.filter.indexOf(this.currentLanguage.name.toLowerCase())<0)){var e=this.editor.getModel().findNextMatch(t.regex,{column:1,lineNumber:1},!0,!0,null,!1);e!==this.decorations[t.name]&&(i=!0,this.decorations[t.name]=e?[{range:e.range,options:t.decoration}]:null)}},this)),i&&this.updateDecorations()},d.prototype.maybeEmitChange=function(t,e){var i=this.getSource();!t&&i===this.lastChangeEmitted||(this.updateExtraDecorations(),this.lastChangeEmitted=i,this.eventHub.emit("editorChange",this.id,this.lastChangeEmitted,this.currentLanguage.id,e))},d.prototype.updateState=function(){var t={id:this.id,source:this.getSource(),lang:this.currentLanguage.id};this.fontScale.addState(t),this.container.setState(t),this.updateButtons()},d.prototype.setSource=function(t){this.updateSource(t)},d.prototype.onNewSource=function(t,e){this.id===t&&this.setSource(e)},d.prototype.getSource=function(){return this.editor.getModel().getValue()},d.prototype.initLanguage=function(t){this.currentLanguage=c[this.langKeys[0]],this.waitingForLanguage=t.source&&!t.lang,c[this.settings.defaultLanguage]&&(this.currentLanguage=c[this.settings.defaultLanguage]),c[t.lang]?this.currentLanguage=c[t.lang]:this.settings.newEditorLastLang&&c[this.hub.lastOpenedLangId]&&(this.currentLanguage=c[this.hub.lastOpenedLangId])},d.prototype.initCallbacks=function(){this.fontScale.on("change",p.bind(this.updateState,this)),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this),this.container.on("open",p.bind(function(){this.eventHub.emit("editorOpen",this.id)},this)),this.container.on("destroy",this.close,this),this.container.layoutManager.on("initialised",function(){this.maybeEmitChange(),this.requestCompilation()},this),this.eventHub.on("compilerOpen",this.onCompilerOpen,this),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.on("compiling",this.onCompiling,this),this.eventHub.on("compileResult",this.onCompileResponse,this),this.eventHub.on("selectLine",this.onSelectLine,this),this.eventHub.on("editorSetDecoration",this.onEditorSetDecoration,this),this.eventHub.on("editorLinkLine",this.onEditorLinkLine,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.on("conformanceViewOpen",this.onConformanceViewOpen,this),this.eventHub.on("conformanceViewClose",this.onConformanceViewClose,this),this.eventHub.on("resize",this.resize,this),this.eventHub.on("newSource",this.onNewSource,this),this.eventHub.on("motd",this.onMotd,this),this.eventHub.emit("requestMotd"),this.editor.getModel().onDidChangeContent(p.bind(function(){this.debouncedEmitChange(),this.updateState()},this)),this.mouseMoveThrottledFunction=p.throttle(p.bind(this.onMouseMove,this),50),this.editor.onMouseMove(p.bind(function(t){this.mouseMoveThrottledFunction(t)},this)),this.eventHub.on("initialised",this.maybeEmitChange,this),f(document).on("keyup.editable",p.bind(function(t){t.target===this.domRoot.find(".monaco-placeholder .inputarea")[0]&&(27===t.which?this.onEscapeKey(t):45===t.which&&this.onInsertKey(t))},this))},d.prototype.onMouseMove=function(t){null!==t&&null!==t.target&&this.settings.hoverShowSource&&null!==t.target.position&&this.tryPanesLinkLine(t.target.position.lineNumber,!1)},d.prototype.onEscapeKey=function(){if(this.editor.vimInUse){var t=r.VimMode.Vim.maybeInitVimState_(this.vimMode);t.insertMode?r.VimMode.Vim.exitInsertMode(this.vimMode):t.visualMode&&r.VimMode.Vim.exitVisualMode(this.vimMode,!1)}},d.prototype.onInsertKey=function(t){if(this.editor.vimInUse&&!r.VimMode.Vim.maybeInitVimState_(this.vimMode).insertMode){var e={};e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation,e.browserEvent={},e.browserEvent.key="i",e.browserEvent.defaultPrevented=!1,e.keyCode=39,this.vimMode.handleKeyDown(e)}},d.prototype.enableVim=function(){this.vimMode=r.initVimMode(this.editor,this.domRoot.find("#v-status")[0]),this.vimFlag.prop("class","btn btn-info"),this.editor.vimInUse=!0},d.prototype.disableVim=function(){this.vimMode.dispose(),this.domRoot.find("#v-status").html(""),this.vimFlag.prop("class","btn btn-light"),this.editor.vimInUse=!1},d.prototype.initButtons=function(t){this.fontScale=new g(this.domRoot,t,this.editor),this.languageBtn=this.domRoot.find(".change-language"),this.langKeys.length<=1&&this.languageBtn.prop("disabled",!0),this.topBar=this.domRoot.find(".top-bar"),this.hideable=this.domRoot.find(".hideable"),this.loadSaveButton=this.domRoot.find(".load-save");var e=this.domRoot.find(".add-pane"),i=this.domRoot.find(".btn.add-compiler"),n=this.domRoot.find(".btn.add-executor");this.conformanceViewerButton=this.domRoot.find(".btn.conformance");function o(){e.dropdown("toggle")}var r=this.domRoot.find(".btn.add-editor"),s=this.domRoot.find("#vim-flag");this.vimFlag=this.domRoot.find("#vim-flag"),s.on("click",p.bind(function(){this.editor.vimInUse?this.disableVim():this.enableVim()},this));var a=p.bind(function(){return m.getCompiler(this.id,this.currentLanguage.id)},this),l=p.bind(function(){return m.getExecutor(this.id,this.currentLanguage.id)},this),u=p.bind(function(){return m.getConformanceView(this.id,this.getSource(),this.currentLanguage.id)},this),h=p.bind(function(){return m.getEditor()},this),c=p.bind(function(t,e){this.container.layoutManager.createDragSource(t,e)._dragListener.on("dragStart",o)},this);c(i,a),c(n,l),c(this.conformanceViewerButton,u),c(r,h);var d=p.bind(function(t,e){t.click(p.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(e)},this))},this);d(i,a),d(n,l),d(this.conformanceViewerButton,u),d(r,h),this.initLoadSaver(),f(this.domRoot).keydown(p.bind(function(t){(t.ctrlKey||t.metaKey)&&"s"===String.fromCharCode(t.which).toLowerCase()&&(t.preventDefault(),this.settings.enableCtrlS&&(v.setMinimalOptions(this.getSource(),this.currentLanguage),v.onSaveToFile(this.id)||this.showLoadSaver()))},this)),this.cppInsightsButton=this.domRoot.find(".open-in-cppinsights"),this.cppInsightsButton.on("mousedown",p.bind(function(){this.updateOpenInCppInsights()},this))},d.prototype.updateButtons=function(){"c++"===this.currentLanguage.id?this.cppInsightsButton.show():this.cppInsightsButton.hide()},d.prototype.b64UTFEncode=function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}))},d.prototype.updateOpenInCppInsights=function(){var t="https://cppinsights.io/lnk?code="+this.b64UTFEncode(this.getSource())+"&std=cpp2a&rev=1.0";this.domRoot.find(".open-in-cppinsights").attr("href",t)},d.prototype.changeLanguage=function(t){this.selectize.setValue(t)},d.prototype.clearLinkedLine=function(){this.decorations.linkedCode=[],this.updateDecorations()},d.prototype.tryPanesLinkLine=function(i,n){p.each(this.asmByCompiler,p.bind(function(t,e){this.eventHub.emit("panesLinkLine",e,i,n)},this))},d.prototype.requestCompilation=function(){this.eventHub.emit("requestCompilation",this.id)},d.prototype.initEditorActions=function(){this.editor.addAction({id:"compile",label:"Compile",keybindings:[s.KeyMod.CtrlCmd|s.KeyCode.Enter],keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:p.bind(function(){this.maybeEmitChange(),this.requestCompilation()},this)}),this.editor.addAction({id:"toggleCompileOnChange",label:"Toggle compile on change",keybindings:[s.KeyMod.CtrlCmd|s.KeyMod.Shift|s.KeyCode.Enter],keybindingContext:null,run:p.bind(function(){this.eventHub.emit("modifySettings",{compileOnChange:!this.settings.compileOnChange}),this.alertSystem.notify("Compile on change has been toggled "+(this.settings.compileOnChange?"ON":"OFF"),{group:"togglecompile",alertClass:this.settings.compileOnChange?"notification-on":"notification-off",dismissTime:3e3})},this)}),this.editor.addAction({id:"clang-format",label:"Format text",keybindings:[s.KeyMod.CtrlCmd|s.KeyCode.F9],keybindingContext:null,contextMenuGroupId:"help",contextMenuOrder:1.5,run:p.bind(this.formatCurrentText,this)}),this.editor.addAction({id:"toggleColourisation",label:"Toggle colourisation",keybindings:[s.KeyMod.CtrlCmd|s.KeyMod.Shift|s.KeyCode.F1],keybindingContext:null,run:p.bind(function(){this.eventHub.emit("modifySettings",{colouriseAsm:!this.settings.colouriseAsm})},this)}),this.editor.addAction({id:"viewasm",label:"Reveal linked code",keybindings:[s.KeyMod.CtrlCmd|s.KeyCode.F10],keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:p.bind(function(t){this.tryPanesLinkLine(t.getPosition().lineNumber,!0)},this)})},d.prototype.doesMatchEditor=function(t){return t===this.getSource()},d.prototype.confirmOverwrite=function(t){this.alertSystem.ask("Changes were made to the code","Changes were made to the code while it was being processed. Overwrite changes?",{yes:t,no:null})},d.prototype.updateSource=function(t){var e={range:this.editor.getModel().getFullModelRange(),forceMoveMarkers:!0,text:t},i=this.editor.saveViewState();this.editor.pushUndoStop(),this.editor.getModel().pushEditOperations(i.cursorState,[e],function(){return null}),this.numberUsedLines()},d.prototype.formatCurrentText=function(){var e=this.getSource();f.ajax({type:"POST",url:window.location.origin+this.httpRoot+"api/format/clangformat",dataType:"json",contentType:"application/json",data:JSON.stringify({source:e,base:this.settings.formatBase}),success:p.bind(function(t){0===t.exit?this.doesMatchEditor(e)?this.updateSource(t.answer):this.confirmOverwrite(p.bind(function(){this.updateSource(t.answer)},this),null):this.alertSystem.notify("We encountered an error formatting your code: "+t.answer,{group:"formatting",alertClass:"notification-error"})},this),error:p.bind(function(t,e,i){if(t.responseText)try{i=JSON.parse(t.responseText).answer||i}catch(t){}i=i||"Unknown error",this.alertSystem.notify("We ran into some issues while formatting your code: "+i,{group:"formatting",alertClass:"notification-error"})},this),cache:!0})},d.prototype.resize=function(){var t=this.updateAndCalcTopBarHeight();this.editor.layout({width:this.domRoot.width(),height:this.domRoot.height()-t}),this.settings.wordWrap&&this.editor.updateOptions({wordWrapColumn:this.editor.getLayoutInfo().viewportColumn})},d.prototype.updateAndCalcTopBarHeight=function(){var t=this.domRoot.width();if(t===this.cachedTopBarHeightAtWidth&&!this.topBar.hasClass("d-none"))return this.cachedTopBarHeight;var e=0,i=0;return this.topBar.hasClass("d-none")||(this.hideable.show(),i=this.topBar.outerHeight(!0),this.hideable.hide(),(e=this.topBar.outerHeight(!0))===i&&(this.hideable.show(),e=i)),this.cachedTopBarHeight=e,this.cachedTopBarHeightAtWidth=t,e},d.prototype.onSettingsChange=function(t){var e=this.settings,i=t;this.settings=p.clone(t),this.editor.updateOptions({autoClosingBrackets:this.settings.autoCloseBrackets,useVim:this.settings.useVim,tabSize:this.settings.tabWidth,quickSuggestions:this.settings.showQuickSuggestions,contextmenu:this.settings.useCustomContextMenu,minimap:{enabled:this.settings.showMinimap&&!a.embedded},fontFamily:this.settings.editorsFFont,wordWrap:this.settings.wordWrap?"bounded":"off",wordWrapColumn:this.editor.getLayoutInfo().viewportColumn}),this.debouncedEmitChange=p.debounce(p.bind(function(){this.maybeEmitChange()},this),i.delayAfterChange),e.hoverShowSource&&!i.hoverShowSource&&this.onEditorSetDecoration(this.id,-1,!1),i.useVim&&!e.useVim?this.enableVim():!i.useVim&&e.useVim&&this.disableVim(),this.numberUsedLines()},d.prototype.numberUsedLines=function(){var i={};p.each(this.asmByCompiler,function(t){p.each(t,function(t){t.source&&null===t.source.file&&0<t.source.line&&(i[t.source.line-1]=!0)})});var n=0;p.each(i,function(t,e){i[e]=n++}),p.any(this.busyCompilers)||this.updateColours(this.settings.colouriseAsm?i:[])},d.prototype.updateColours=function(t){this.colours=n.applyColours(this.editor,t,this.settings.colourScheme,this.colours),this.eventHub.emit("colours",this.id,t,this.settings.colourScheme)},d.prototype.onCompilerOpen=function(e,t){if(t===this.id){if(this.waitingForLanguage){var i=p.find(this.container.layoutManager.root.getComponentsByName("compiler"),function(t){return t.id===e});if(i){var n=p.find(a.compilers,function(t){return t.id===i.originalCompilerId});n&&this.changeLanguage(n.lang)}}this.maybeEmitChange(!0,e),this.ourCompilers[e]=!0}},d.prototype.onCompilerClose=function(t){this.ourCompilers[t]&&(s.editor.setModelMarkers(this.editor.getModel(),t,[]),delete this.widgetsByCompiler[t],delete this.asmByCompiler[t],delete this.busyCompilers[t],delete this.ourCompilers[t],this.numberUsedLines())},d.prototype.onCompiling=function(t){this.ourCompilers[t]&&(this.busyCompilers[t]=!0)},d.prototype.onCompileResponse=function(i,n,t){if(this.ourCompilers[i]){this.busyCompilers[i]=!1;var e=(t.stdout||[]).concat(t.stderr||[]),o=p.compact(p.map(e,function(t){if(t.tag){var e=3;return t.tag.text.match(/^warning/)&&(e=2),t.tag.text.match(/^note/)&&(e=1),{severity:e,message:t.tag.text,source:n.name+" #"+i,startLineNumber:t.tag.line,startColumn:t.tag.column||0,endLineNumber:t.tag.line,endColumn:t.tag.column?-1:1/0}}},this));s.editor.setModelMarkers(this.editor.getModel(),i,o),this.decorations.tags=p.map(o,function(t){return{range:new s.Range(t.startLineNumber,t.startColumn,t.startLineNumber+1,1),options:{isWholeLine:!1,inlineClassName:"error-code"}}},this),this.updateDecorations(),this.asmByCompiler[i]=t.asm,this.numberUsedLines()}},d.prototype.onSelectLine=function(t,e){Number(t)===this.id&&this.editor.setSelection({line:e-1,ch:0},{line:e,ch:0})},d.prototype.onEditorLinkLine=function(t,e,i,n){Number(t)===this.id&&(n&&e&&this.editor.revealLineInCenter(e),this.decorations.linkedCode=-1!==e&&e?[{range:new s.Range(e,1,e,1),options:{isWholeLine:!0,linesDecorationsClassName:"linked-code-decoration-margin",className:"linked-code-decoration-line"}}]:[],0<e&&-1!==i&&this.decorations.linkedCode.push({range:new s.Range(e,i,e,i+1),options:{isWholeLine:!1,inlineClassName:"linked-code-decoration-column"}}),-1!==this.fadeTimeoutId&&clearTimeout(this.fadeTimeoutId),this.fadeTimeoutId=setTimeout(p.bind(function(){this.clearLinkedLine(),this.fadeTimeoutId=-1},this),5e3),this.updateDecorations())},d.prototype.onEditorSetDecoration=function(t,e,i){Number(t)===this.id&&(i&&e&&this.editor.revealLineInCenter(e),this.decorations.linkedCode=-1!==e&&e?[{range:new s.Range(e,1,e,1),options:{isWholeLine:!0,linesDecorationsClassName:"linked-code-decoration-margin",inlineClassName:"linked-code-decoration-inline"}}]:[],this.updateDecorations())},d.prototype.updateDecorations=function(){this.prevDecorations=this.editor.deltaDecorations(this.prevDecorations,p.compact(p.flatten(p.values(this.decorations))))},d.prototype.onConformanceViewOpen=function(t){t===this.id&&this.conformanceViewerButton.attr("disabled",!0)},d.prototype.onConformanceViewClose=function(t){t===this.id&&this.conformanceViewerButton.attr("disabled",!1)},d.prototype.showLoadSaver=function(){this.loadSaveButton.click()},d.prototype.initLoadSaver=function(){this.loadSaveButton.off("click").click(p.bind(function(){v.run(p.bind(function(t){this.setSource(t),this.updateState(),this.maybeEmitChange(!0),this.requestCompilation()},this),this.getSource(),this.currentLanguage)},this))},d.prototype.onLanguageChange=function(t){if(c[t]){if(t!==this.currentLanguage.id){var e=this.currentLanguage.id;this.currentLanguage=c[t],this.waitingForLanguage||(this.editorSourceByLang[e]=this.getSource(),this.updateEditorCode()),this.initLoadSaver(),s.editor.setModelLanguage(this.editor.getModel(),this.currentLanguage.monaco),this.updateTitle(),this.updateState(),this.eventHub.emit("languageChange",this.id,t),this.maybeEmitChange(!0),this.requestCompilation(),h.proxy("send",{hitType:"event",eventCategory:"LanguageChange",eventAction:t})}this.waitingForLanguage=!1}},d.prototype.getPaneName=function(){return this.currentLanguage.name+" source #"+this.id},d.prototype.updateTitle=function(){this.container.setTitle(this.getPaneName())},d.prototype.updateEditorCode=function(){this.setSource(this.editorSourceByLang[this.currentLanguage.id]||c[this.currentLanguage.id].example)},d.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("editorClose",this.id),this.editor.dispose()},t.exports={Editor:d}},function(t,e,i){"use strict";var n=i(43),o=i(58),r=i(264).saveAs,s=i(162),a=i(163),l=i(177).Promise,u=i(78);function h(){return JSON.parse(a.get("files","{}"))}function c(){this.modal=null,this.alertSystem=new s,this.alertSystem.prefixMessage="Load-Saver: ",this.onLoad=o.identity,this.editorText="",this.extension=".txt",this.base=window.httpRoot,this.base.endsWith("/")||(this.base+="/"),this.fetchBuiltins()}c.prototype.initializeIfNeeded=function(){null!==this.modal&&0!==this.modal.length||(this.modal=n("#load-save"),this.modal.find(".local-file").change(o.bind(this.onLocalFile,this)),this.modal.find(".save-button").click(o.bind(this.onSaveToBrowserStorage,this)),this.modal.find(".save-file").click(o.bind(this.onSaveToFile,this)))},c.prototype.fetchBuiltins=function(){return new l(o.bind(function(e){n.getJSON(window.location.origin+this.base+"source/builtin/list",function(t){e(t)})},this))},c.prototype.populateBuiltins=function(){var e=o.bind(function(t){return this.currentLanguage&&this.currentLanguage.id===t.lang},this);return this.fetchBuiltins().then(o.bind(function(t){this.populate(this.modal.find(".examples"),o.map(o.filter(t,e),o.bind(function(t){return{name:t.name,load:o.bind(function(){this.doLoad(t)},this)}},this)))},this))},c.prototype.populateLocalStorage=function(){this.populate(this.modal.find(".local-storage"),o.map(h(),o.bind(function(t,e){return{name:e,load:o.bind(function(){this.onLoad(t),this.modal.modal("hide")},this)}},this)))},c.prototype.populate=function(e,t){e.find("li:not(.template)").remove();var i=e.find(".template");o.each(t,o.bind(function(t){i.clone().removeClass("template").appendTo(e).find("a").text(t.name).click(t.load)},this))},c.prototype.onLocalFile=function(t){var e=t.target.files[0],i=new FileReader;i.onload=o.bind(function(){this.onLoad(i.result)},this),i.readAsText(e),this.modal.modal("hide")},c.prototype.run=function(t,e,i){this.initializeIfNeeded(),this.populateLocalStorage(),this.onLoad=t,this.setMinimalOptions(e,i),this.modal.find(".local-file").attr("accept",o.map(i.extensions,function(t){return t+", "},this)),this.populateBuiltins().then(o.bind(function(){this.modal.modal()},this)),u.proxy("send",{hitType:"event",eventCategory:"OpenModalPane",eventAction:"LoadSave"})},c.prototype.onSaveToBrowserStorage=function(){var t=this.modal.find(".save-name").val();if(t){t+=" ("+this.currentLanguage.name+")";var e=o.bind(function(){!function(t,e){var i=h();i[t]=e,a.set("files",JSON.stringify(i))}(t,this.editorText)},this);void 0!==h()[t]?(this.modal.modal("hide"),this.alertSystem.ask("Replace current?","Do you want to replace the existing saved file '"+t+"'?",{yes:e})):(e(),this.modal.modal("hide"))}else this.alertSystem.alert("Save name","Invalid save name")},c.prototype.setMinimalOptions=function(t,e){this.editorText=t,this.currentLanguage=e,this.extension=e.extensions[0]||".txt"},c.prototype.onSaveToFile=function(t){try{var e=this.currentLanguage.name,i=void 0!==e&&void 0!==t?e+" Editor #"+t+" ":"";return r(new Blob([this.editorText],{type:"text/plain;charset=utf-8"}),"Compiler Explorer "+i+"Code"+this.extension),!0}catch(t){return this.alertSystem.notify("Error while saving your code. Use the clipboard instead.",{group:"savelocalerror",alertClass:"notification-error",dismissTime:5e3}),!1}},c.prototype.doLoad=function(t){n.getJSON(window.location.origin+this.base+"source/builtin/load/"+t.lang+"/"+t.file,o.bind(function(t){this.onLoad(t.file)},this)),this.modal.modal("hide")},t.exports={LoadSave:c}},function(t,e,i){var n,o=o||function(a){"use strict";if(!(void 0===a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=a.document,l=function(){return a.URL||a.webkitURL||a},u=t.createElementNS("http://www.w3.org/1999/xhtml","a"),h="download"in u,c=/constructor/i.test(a.HTMLElement)||a.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),p=function(t){(a.setImmediate||a.setTimeout)(function(){throw t},0)},f=function(t){setTimeout(function(){"string"==typeof t?l().revokeObjectURL(t):t.remove()},4e4)},g=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},n=function(t,e,i){i||(t=g(t));function n(){!function(t,e,i){for(var n=(e=[].concat(e)).length;n--;){var o=t["on"+e[n]];if("function"==typeof o)try{o.call(t,i||t)}catch(t){p(t)}}}(r,"writestart progress write writeend".split(" "))}var o,r=this,s="application/octet-stream"===t.type;if(r.readyState=r.INIT,h)return o=l().createObjectURL(t),void setTimeout(function(){u.href=o,u.download=e,function(t){var e=new MouseEvent("click");t.dispatchEvent(e)}(u),n(),f(o),r.readyState=r.DONE});!function(){if((d||s&&c)&&a.FileReader){var e=new FileReader;return e.onloadend=function(){var t=d?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(t,"_blank")||(a.location.href=t),t=void 0,r.readyState=r.DONE,n()},e.readAsDataURL(t),r.readyState=r.INIT}(o=o||l().createObjectURL(t),s)?a.location.href=o:a.open(o,"_blank")||(a.location.href=o);r.readyState=r.DONE,n(),f(o)}()},e=n.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=g(t)),navigator.msSaveOrOpenBlob(t,e)}:(e.abort=function(){},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(t,e,i){return new n(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);t.exports?t.exports.saveAs=o:null!==i(265)&&null!==i(266)&&(void 0===(n=function(){return o}.call(e,i,e,t))||(t.exports=n))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(326),i(333),i(334),i(335),i(397);var n=i(239);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o)},function(t,e,i){"use strict";i(136);var n,o,r,s,a,l,u,h,c,d,p=monaco.Emitter,f=(Object.defineProperty(g.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),g.prototype.getExtraLibs=function(){var t=Object.create(null);for(var e in this._extraLibs)t[e]=this._extraLibs[e];return Object.freeze(t)},g.prototype.addExtraLib=function(t,e){var i=this;if(void 0===e&&(e="ts:extralib-"+Date.now()),this._extraLibs[e])throw new Error(e+" already a extra lib");return this._extraLibs[e]=t,this._onDidChange.fire(this),{dispose:function(){delete i._extraLibs[e]&&i._onDidChange.fire(i)}}},g.prototype.getCompilerOptions=function(){return this._compilerOptions},g.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(this)},g.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},g.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(this)},g.prototype.setMaximumWorkerIdleTime=function(t){this._workerMaxIdleTime=t},g.prototype.getWorkerMaxIdleTime=function(){return this._workerMaxIdleTime},g.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},g.prototype.getEagerModelSync=function(){return this._eagerModelSync},g);function g(t,e){this._onDidChange=new p,this._extraLibs=Object.create(null),this._workerMaxIdleTime=12e4,this.setCompilerOptions(t),this.setDiagnosticsOptions(e)}(o=n=n||{})[o.None=0]="None",o[o.CommonJS=1]="CommonJS",o[o.AMD=2]="AMD",o[o.UMD=3]="UMD",o[o.System=4]="System",o[o.ES2015=5]="ES2015",o[o.ESNext=6]="ESNext",(s=r=r||{})[s.None=0]="None",s[s.Preserve=1]="Preserve",s[s.React=2]="React",s[s.ReactNative=3]="ReactNative",(l=a=a||{})[l.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",l[l.LineFeed=1]="LineFeed",(h=u=u||{})[h.ES3=0]="ES3",h[h.ES5=1]="ES5",h[h.ES2015=2]="ES2015",h[h.ES2016=3]="ES2016",h[h.ES2017=4]="ES2017",h[h.ES2018=5]="ES2018",h[h.ESNext=6]="ESNext",h[h.JSON=100]="JSON",h[h.Latest=6]="Latest",(d=c=c||{})[d.Classic=1]="Classic",d[d.NodeJs=2]="NodeJs";var m=new f({allowNonTsExtensions:!0,target:u.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1}),v=new f({allowNonTsExtensions:!0,allowJs:!0,target:u.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1});function y(){return b().then(function(t){return t.getTypeScriptWorker()})}function _(){return b().then(function(t){return t.getJavaScriptWorker()})}function b(){return monaco.Promise.wrap(i.e(52).then(i.bind(null,404)))}monaco.languages.typescript={ModuleKind:n,JsxEmit:r,NewLineKind:a,ScriptTarget:u,ModuleResolutionKind:c,typescriptDefaults:m,javascriptDefaults:v,getTypeScriptWorker:y,getJavaScriptWorker:_},monaco.languages.onLanguage("typescript",function(){return b().then(function(t){return t.setupTypeScript(m)})}),monaco.languages.onLanguage("javascript",function(){return b().then(function(t){return t.setupJavaScript(v)})})},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i(136);var n=monaco.Emitter,o=(Object.defineProperty(r.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),r.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(this)},r);function r(t,e){this._onDidChange=new n,this._languageId=t,this.setDiagnosticsOptions(e)}var s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},a=new o("css",s),l=new o("scss",s),u=new o("less",s);function h(){return monaco.Promise.wrap(i.e(49).then(i.bind(null,403)))}monaco.languages.css={cssDefaults:a,lessDefaults:u,scssDefaults:l},monaco.languages.onLanguage("less",function(){h().then(function(t){return t.setupMode(u)})}),monaco.languages.onLanguage("scss",function(){h().then(function(t){return t.setupMode(l)})}),monaco.languages.onLanguage("css",function(){h().then(function(t){return t.setupMode(a)})})},function(t,e,i){"use strict";i(136);var n=monaco.Emitter;function o(t,e){this._onDidChange=new n,this._languageId=t,this.setDiagnosticsOptions(e)}var r=new(Object.defineProperty(o.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),o.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(this)},o)("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1});monaco.languages.json={jsonDefaults:r},monaco.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc"],aliases:["JSON","json"],mimetypes:["application/json"]}),monaco.languages.onLanguage("json",function(){monaco.Promise.wrap(i.e(51).then(i.bind(null,401))).then(function(t){return t.setupMode(r)})})},function(t,e,i){"use strict";i(136);var n=monaco.Emitter,o=(Object.defineProperty(r.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),r.prototype.setOptions=function(t){this._options=t||Object.create(null),this._onDidChange.fire(this)},r);function r(t,e){this._onDidChange=new n,this._languageId=t,this.setOptions(e)}var s={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},a={format:s,suggest:{html5:!0}},l={format:s,suggest:{html5:!0,razor:!0}},u="handlebars",h=new o("html",{format:s,suggest:{html5:!0,angular1:!0,ionic:!0}}),c=new o(u,a),d=new o("razor",l);function p(){return monaco.Promise.wrap(i.e(50).then(i.bind(null,402)))}monaco.languages.html={htmlDefaults:h,razorDefaults:d,handlebarDefaults:c},monaco.languages.onLanguage("html",function(){p().then(function(t){return t.setupMode(h)})}),monaco.languages.onLanguage(u,function(){p().then(function(t){return t.setupMode(c)})}),monaco.languages.onLanguage("razor",function(){p().then(function(t){return t.setupMode(d)})})},function(t,e,i){"use strict";i(71),i(137),i(230),i(229),i(189),i(222),i(203),i(190),i(216),i(217),i(166),i(218),i(191),i(192),i(228),i(138),i(213),i(193),i(219),i(147),i(194),i(221),i(214),i(223),i(215),i(224),i(198),i(220),i(200),i(226),i(227),i(116),i(212),i(146),i(204),i(127),i(205)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatusBar=e.VimMode=void 0,e.initVimMode=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l.default,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=new a.default(t);if(!e)return o.attach(),o;var r=new i(e,t,n),s="";return o.on("vim-mode-change",function(t){r.setMode(t)}),o.on("vim-keypress",function(t){":"===t?s="":s+=t,r.setKeyBuffer(s)}),o.on("vim-command-done",function(){s="",r.setKeyBuffer(s)}),o.on("dispose",function(){r.toggleVisibility(!1),r.closeInput(),r.clear()}),r.toggleVisibility(!0),o.setStatusBar(r),o.attach(),o};var a=n(i(338)),l=n(i(340));function n(t){return t&&t.__esModule?t:{default:t}}e.VimMode=a.default,e.StatusBar=l.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vim=void 0;var n,Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(339),$t=(n=o)&&n.__esModule?n:{default:n};function r(){function t(t,e){t.attached=!1,this==$t.default.keyMap.vim&&$t.default.rmClass(t.getWrapperElement(),"cm-fat-cursor"),e&&e.attach==i||function(t){t.setOption("disableInput",!1),t.off("cursorActivity",Vt),t.state.vim=null,t.leaveVimMode()}(t)}function i(t,e){this==$t.default.keyMap.vim&&(t.attached=!0),e&&e.attach==i||function(t){t.setOption("disableInput",!0),t.setOption("showCursorWhenSelecting",!1),$t.default.signal(t,"vim-mode-change",{mode:"normal"}),t.on("cursorActivity",Vt),E(t),t.enterVimMode()}(t)}function e(t,e){if(e){if(this[t])return this[t];var i=function(t){if("'"==t.charAt(0))return t.charAt(1);var e=t.split(/-(?!$)/),i=e[e.length-1];{if(1==e.length&&1==e[0].length)return!1;if(2==e.length&&"Shift"==e[0]&&1==i.length)return!1}for(var n=!1,o=0;o<e.length;o++){var r=e[o];r in s?e[o]=s[r]:n=!0,r in a&&(e[o]=a[r])}if(!n)return!1;p(i)&&(e[e.length-1]=i.toLowerCase());return"<"+e.join("-")+">"}(t);if(!i)return!1;var n=$t.default.Vim.findKey(e,i);return"function"==typeof n&&$t.default.signal(e,"vim-keypress",i),n}}$t.default.defineOption("vimMode",!1,function(t,e,i){e&&"vim"!=t.getOption("keyMap")?t.setOption("keyMap","vim"):!e&&i!=$t.default.Init&&/^vim/.test(t.getOption("keyMap"))&&t.setOption("keyMap","default")});var s={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},a={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},m=/[\d]/,g=[$t.default.isWordChar,function(t){return t&&!$t.default.isWordChar(t)&&!/\s/.test(t)}],v=[function(t){return/\S/.test(t)}];function n(t,e){for(var i=[],n=t;n<t+e;n++)i.push(String.fromCharCode(n));return i}var o=n(65,26),r=n(97,26),l=n(48,10),u=[].concat(o,r,l,["<",">"]),h=[].concat(o,r,l,["-",'"',".",":","/"]);function y(t,e){return e>=t.firstLine()&&e<=t.lastLine()}function d(t){return/^[a-z]$/.test(t)}function p(t){return/^[A-Z]$/.test(t)}function N(t){return/^\s*$/.test(t)}function c(t){return-1!=".?!".indexOf(t)}function f(t,e){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1}var _={};function b(t,e,i,n,o){if(void 0===e&&!o)throw Error("defaultValue is required unless callback is provided");if(i=i||"string",_[t]={type:i,defaultValue:e,callback:o},n)for(var r=0;r<n.length;r++)_[n[r]]=_[t];e&&w(t,e)}function w(t,e,i,n){var o=_[t],r=(n=n||{}).scope;if(!o)return new Error("Unknown option: "+t);if("boolean"==o.type){if(e&&!0!==e)return new Error("Invalid argument: "+t+"="+e);!1!==e&&(e=!0)}o.callback?("local"!==r&&o.callback(e,void 0),"global"!==r&&i&&o.callback(e,i)):("local"!==r&&(o.value="boolean"==o.type?!!e:e),"global"!==r&&i&&(i.state.vim.options[t]={value:e}))}function C(t,e,i){var n=_[t],o=(i=i||{}).scope;if(!n)return new Error("Unknown option: "+t);if(n.callback){var r=e&&n.callback(void 0,e);return"global"!==o&&void 0!==r?r:"local"!==o?n.callback():void 0}return((r="global"!==o&&e&&e.state.vim.options[t])||"local"!==o&&n||{}).value}function S(){var s=-1,a=0,l=0,u=new Array(100);return{cachedCursor:void 0,add:function(n,t,e){var i=u[s%100];function o(t){var e=++s%100,i=u[e];i&&i.clear(),u[e]=n.setBookmark(t)}if(i){var r=i.find();r&&!Y(r,t)&&o(t)}else o(t);o(e),(l=(a=s)-100+1)<0&&(l=0)},move:function(t,e){a<(s+=e)?s=a:s<l&&(s=l);var i=u[(100+s)%100];if(i&&!i.find()){var n,o=0<e?1:-1,r=t.getCursor();do{if((i=u[(100+(s+=o))%100])&&(n=i.find())&&!Y(r,n))break}while(s<a&&l<s)}return i}}}b("filetype",void 0,"string",["ft"],function(t,e){if(void 0!==e){if(void 0===t)return"null"==(i=e.getOption("mode"))?"":i;var i=""==t?"null":t;e.setOption("mode",i)}});var T,x,k=function(t){return t?{changes:t.changes,expectCursorActivityForChange:t.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function O(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=k()}function E(t){return t.state.vim||(t.state.vim={inputState:new I,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),t.state.vim}function L(){for(var t in T={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:S(),macroModeState:new O,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new P({}),searchHistoryController:new R,exCommandHistoryController:new R},_){var e=_[t];e.value=e.defaultValue}}var D={buildKeyMap:function(){},getRegisterController:function(){return T.registerController},resetVimGlobalState_:L,getVimGlobalState_:function(){return T},maybeInitVimState_:E,suppressErrorLogging:!(O.prototype={exitMacroRecordMode:function(){var t=T.macroModeState;t.onRecordingDone&&t.onRecordingDone(),t.onRecordingDone=void 0,t.isRecording=!1},enterMacroRecordMode:function(t,e){var i=T.registerController.getRegister(e);i&&(i.clear(),this.latestRegister=e,t.openDialog&&(this.onRecordingDone=t.openDialog("(recording)["+e+"]",null,{bottom:!0})),this.isRecording=!0)}}),InsertModeKey:Ut,map:function(t,e,i){Ft.map(t,e,i)},unmap:function(t,e){Ft.unmap(t,e)},setOption:w,getOption:C,defineOption:b,defineEx:function(t,e,i){if(e){if(0!==t.indexOf(e))throw new Error('(Vim.defineEx) "'+e+'" is not a prefix of "'+t+'", command not registered')}else e=t;Rt[t]=i,Ft.commandMap_[e]={name:t,shortName:e,type:"api"}},handleKey:function(t,e,i){var n=this.findKey(t,e,i);if("function"==typeof n)return n()},findKey:function(a,l,e){var t,u=E(a);function o(){var t=T.macroModeState;if(t.isRecording){if("q"==l)return t.exitMacroRecordMode(),M(a),!0;"mapping"!=e&&function(t,e){if(t.isPlaying)return;var i=t.latestRegister,n=T.registerController.getRegister(i);n&&n.pushText(e)}(t,l)}}function h(){if("<Esc>"==l)return M(a),u.visualMode?at(a):u.insertMode&&jt(a),!0}return!1===(t=u.insertMode?function(){if(h())return!0;for(var t=u.inputState.keyBuffer=u.inputState.keyBuffer+l,e=1==l.length,i=F.matchCommand(t,Zt,u.inputState,"insert");1<t.length&&"full"!=i.type;){t=u.inputState.keyBuffer=t.slice(1);var n=F.matchCommand(t,Zt,u.inputState,"insert");"none"!=n.type&&(i=n)}if("none"==i.type)return M(a),!1;if("partial"==i.type)return x&&window.clearTimeout(x),x=window.setTimeout(function(){u.insertMode&&u.inputState.keyBuffer&&M(a)},C("insertModeEscKeysTimeout")),!e;if(x&&window.clearTimeout(x),e){for(var o=a.listSelections(),r=0;r<o.length;r++){var s=o[r].head;a.replaceRange("",U(s,0,-(t.length-1)),s,"+input")}T.macroModeState.lastInsertModeChanges.changes.pop()}return M(a),i.command}():function(){if(o()||h())return!0;var t=u.inputState.keyBuffer=u.inputState.keyBuffer+l;if(/^[1-9]\d*$/.test(t))return!0;if(!(e=/^(\d*)(.*)$/.exec(t)))return M(a),!1;var e,i=u.visualMode?"visual":"normal",n=F.matchCommand(e[2]||e[1],Zt,u.inputState,i);return"none"==n.type?(M(a),!1):"partial"==n.type||(u.inputState.keyBuffer="",(e=/^(\d*)(.*)$/.exec(t))[1]&&"0"!=e[1]&&u.inputState.pushRepeatDigit(e[1]),n.command)}())?u.insertMode||1!==l.length?void 0:function(){return!0}:!0===t?function(){return!0}:function(){return a.operation(function(){a.curOp.isVimOp=!0;try{"keyToKey"==t.type?function(t){for(var e;t;)e=/<\w+-.+?>|<\w+>|./.exec(t),l=e[0],t=t.substring(e.index+l.length),$t.default.Vim.handleKey(a,l,"mapping")}(t.toKeys):F.processCommand(a,u,t)}catch(t){throw a.state.vim=void 0,E(a),$t.default.Vim.suppressErrorLogging||console.log(t),t}return!0})}},handleEx:function(t,e){Ft.processCommand(t,e)},defineMotion:function(t,e){j[t]=e},defineAction:function(t,e){W[t]=e},defineOperator:function(t,e){H[t]=e},mapCommand:function(t,e,i,n,o){var r={keys:t,type:e};for(var s in r[e]=i,r[e+"Args"]=n,o)r[s]=o[s];Bt(r)},_mapCommand:Bt,defineRegister:function(t,e){var i=T.registerController.registers;if(!t||1!=t.length)throw Error("Register name must be 1 character");if(i[t])throw Error("Register already defined "+t);i[t]=e,h.push(t)},exitVisualMode:at,exitInsertMode:jt};function I(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function M(t,e){t.state.vim.inputState=new I,$t.default.signal(t,"vim-command-done",e)}function A(t,e,i){this.clear(),this.keyBuffer=[t||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!e,this.blockwise=!!i}function P(t){this.registers=t,this.unnamedRegister=t['"']=new A,t["."]=new A,t[":"]=new A,t["/"]=new A}function R(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}I.prototype.pushRepeatDigit=function(t){this.operator?this.motionRepeat=this.motionRepeat.concat(t):this.prefixRepeat=this.prefixRepeat.concat(t)},I.prototype.getRepeat=function(){var t=0;return(0<this.prefixRepeat.length||0<this.motionRepeat.length)&&(t=1,0<this.prefixRepeat.length&&(t*=parseInt(this.prefixRepeat.join(""),10)),0<this.motionRepeat.length&&(t*=parseInt(this.motionRepeat.join(""),10))),t},A.prototype={setText:function(t,e,i){this.keyBuffer=[t||""],this.linewise=!!e,this.blockwise=!!i},pushText:function(t,e){e&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(t)},pushInsertModeChanges:function(t){this.insertModeChanges.push(k(t))},pushSearchQuery:function(t){this.searchQueries.push(t)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},P.prototype={pushText:function(t,e,i,n,o){n&&"\n"!==i.charAt(i.length-1)&&(i+="\n");var r=this.isValidRegister(t)?this.getRegister(t):null;if(r){p(t)?r.pushText(i,n):r.setText(i,n,o),this.unnamedRegister.setText(r.toString(),n)}else{switch(e){case"yank":this.registers[0]=new A(i,n,o);break;case"delete":case"change":-1==i.indexOf("\n")?this.registers["-"]=new A(i,n):(this.shiftNumericRegisters_(),this.registers[1]=new A(i,n))}this.unnamedRegister.setText(i,n,o)}},getRegister:function(t){return this.isValidRegister(t)?(t=t.toLowerCase(),this.registers[t]||(this.registers[t]=new A),this.registers[t]):this.unnamedRegister},isValidRegister:function(t){return t&&f(t,h)},shiftNumericRegisters_:function(){for(var t=9;2<=t;t--)this.registers[t]=this.getRegister(""+(t-1))}},R.prototype={nextMatch:function(t,e){var i=this.historyBuffer,n=e?-1:1;null===this.initialPrefix&&(this.initialPrefix=t);for(var o=this.iterator+n;e?0<=o:o<i.length;o+=n)for(var r=i[o],s=0;s<=r.length;s++)if(this.initialPrefix==r.substring(0,s))return this.iterator=o,r;return o>=i.length?(this.iterator=i.length,this.initialPrefix):o<0?t:void 0},pushInput:function(t){var e=this.historyBuffer.indexOf(t);-1<e&&this.historyBuffer.splice(e,1),t.length&&this.historyBuffer.push(t)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var F={matchCommand:function(t,e,i,n){var o,r=function(t,e,i,n){for(var o,r=[],s=[],a=0;a<e.length;a++){var l=e[a];"insert"==i&&"insert"!=l.context||l.context&&l.context!=i||n.operator&&"action"==l.type||!(o=q(t,l.keys))||("partial"==o&&r.push(l),"full"==o&&s.push(l))}return{partial:r.length&&r,full:s.length&&s}}(t,e,n,i);if(!r.full&&!r.partial)return{type:"none"};if(!r.full&&r.partial)return{type:"partial"};for(var s=0;s<r.full.length;s++){var a=r.full[s];o=o||a}if("<character>"==o.keys.slice(-11)){var l=function(t){var e=/^.*(<[^>]+>)$/.exec(t),i=e?e[1]:t.slice(-1);if(1<i.length)switch(i){case"<CR>":i="\n";break;case"<Space>":i=" ";break;default:i=""}return i}(t);if(!l)return{type:"none"};i.selectedCharacter=l}return{type:"full",command:o}},processCommand:function(t,e,i){switch(e.inputState.repeatOverride=i.repeatOverride,i.type){case"motion":this.processMotion(t,e,i);break;case"operator":this.processOperator(t,e,i);break;case"operatorMotion":this.processOperatorMotion(t,e,i);break;case"action":this.processAction(t,e,i);break;case"search":this.processSearch(t,e,i);break;case"ex":case"keyToEx":this.processEx(t,e,i)}},processMotion:function(t,e,i){e.inputState.motion=i.motion,e.inputState.motionArgs=z(i.motionArgs),this.evalInput(t,e)},processOperator:function(t,e,i){var n=e.inputState;if(n.operator){if(n.operator==i.operator)return n.motion="expandToLine",n.motionArgs={linewise:!0},void this.evalInput(t,e);M(t)}n.operator=i.operator,n.operatorArgs=z(i.operatorArgs),e.visualMode&&this.evalInput(t,e)},processOperatorMotion:function(t,e,i){var n=e.visualMode,o=z(i.operatorMotionArgs);o&&n&&o.visualLine&&(e.visualLine=!0),this.processOperator(t,e,i),n||this.processMotion(t,e,i)},processAction:function(t,e,i){var n=e.inputState,o=n.getRepeat(),r=!!o,s=z(i.actionArgs)||{};n.selectedCharacter&&(s.selectedCharacter=n.selectedCharacter),i.operator&&this.processOperator(t,e,i),i.motion&&this.processMotion(t,e,i),(i.motion||i.operator)&&this.evalInput(t,e),s.repeat=o||1,s.repeatIsExplicit=r,s.registerName=n.registerName,M(t),e.lastMotion=null,i.isEdit&&this.recordLastEdit(e,n,i),W[i.action](t,s,e)},processSearch:function(a,n,o){if(a.getSearchCursor){var l=o.searchArgs.forward,t=o.searchArgs.wholeWordOnly;_t(a).setReversed(!l);var e=l?"/":"?",r=_t(a).getQuery(),u=a.getScrollInfo();switch(o.searchArgs.querySrc){case"prompt":var i=T.macroModeState;if(i.isPlaying)d(c=i.replaySearchQueries.shift(),!0,!1);else Et(a,{onClose:function(t){a.scrollTo(u.left,u.top),d(t,!0,!0);var e=T.macroModeState;e.isRecording&&function(t,e){if(t.isPlaying)return;var i=t.latestRegister,n=T.registerController.getRegister(i);n&&n.pushSearchQuery&&n.pushSearchQuery(e)}(e,t)},prefix:e,desc:Ot,onKeyUp:function(t,e,i){var n,o,r,s=$t.default.keyName(t);"Up"==s||"Down"==s?(n="Up"==s,o=t.target?t.target.selectionEnd:0,i(e=T.searchHistoryController.nextMatch(e,n)||""),o&&t.target&&(t.target.selectionEnd=t.target.selectionStart=Math.min(o,t.target.value.length))):"Left"!=s&&"Right"!=s&&"Ctrl"!=s&&"Alt"!=s&&"Shift"!=s&&T.searchHistoryController.reset();try{r=Lt(a,e,!0,!0)}catch(t){}r?a.scrollIntoView(It(a,!l,r),30):(Nt(a),a.scrollTo(u.left,u.top))},onKeyDown:function(t,e,i){var n=$t.default.keyName(t);"Esc"==n||"Ctrl-C"==n||"Ctrl-["==n||"Backspace"==n&&""==e?(T.searchHistoryController.pushInput(e),T.searchHistoryController.reset(),Lt(a,r),Nt(a),a.scrollTo(u.left,u.top),$t.default.e_stop(t),M(a),i(),a.focus()):"Up"==n||"Down"==n?$t.default.e_stop(t):"Ctrl-U"==n&&($t.default.e_stop(t),i(""))}});break;case"wordUnderCursor":var s=lt(a,!1,!0,!1,!0),h=!0;if(s||(s=lt(a,!1,!0,!1,!1),h=!1),!s)return;var c=a.getLine(s.start.line).substring(s.start.ch,s.end.ch);c=h&&t?"\\b"+c+"\\b":function(t){return t.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}(c),T.jumpList.cachedCursor=a.getCursor(),a.setCursor(s.start),d(c,!0,!1)}}function d(e,t,i){T.searchHistoryController.pushInput(e),T.searchHistoryController.reset();try{Lt(a,e,t,i)}catch(t){return kt(a,"Invalid regex: "+e),void M(a)}F.processMotion(a,n,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:o.searchArgs.toJumplist}})}},processEx:function(s,t,e){function i(t){T.exCommandHistoryController.pushInput(t),T.exCommandHistoryController.reset(),Ft.processCommand(s,t)}function n(t,e,i){var n,o,r=$t.default.keyName(t);("Esc"==r||"Ctrl-C"==r||"Ctrl-["==r||"Backspace"==r&&""==e)&&(T.exCommandHistoryController.pushInput(e),T.exCommandHistoryController.reset(),$t.default.e_stop(t),M(s),i(),s.focus()),"Up"==r||"Down"==r?($t.default.e_stop(t),n="Up"==r,o=t.target?t.target.selectionEnd:0,i(e=T.exCommandHistoryController.nextMatch(e,n)||""),o&&t.target&&(t.target.selectionEnd=t.target.selectionStart=Math.min(o,t.target.value.length))):"Ctrl-U"==r?($t.default.e_stop(t),i("")):"Left"!=r&&"Right"!=r&&"Ctrl"!=r&&"Alt"!=r&&"Shift"!=r&&T.exCommandHistoryController.reset()}"keyToEx"==e.type?Ft.processCommand(s,e.exArgs.input):t.visualMode?Et(s,{onClose:i,prefix:":",value:"'<,'>",onKeyDown:n,selectValueOnOpen:!1}):Et(s,{onClose:i,prefix:":",onKeyDown:n})},evalInput:function(t,e){var i,n,o,r=e.inputState,s=r.motion,a=r.motionArgs||{},l=r.operator,u=r.operatorArgs||{},h=r.registerName,c=e.sel,d=G(e.visualMode?V(t,c.head):t.getCursor("head")),p=G(e.visualMode?V(t,c.anchor):t.getCursor("anchor")),f=G(d),g=G(p);if(l&&this.recordLastEdit(e,r),0<(o=void 0!==r.repeatOverride?r.repeatOverride:r.getRepeat())&&a.explicitRepeat?a.repeatIsExplicit=!0:(a.noRepeat||!a.explicitRepeat&&0===o)&&(o=1,a.repeatIsExplicit=!1),r.selectedCharacter&&(a.selectedCharacter=u.selectedCharacter=r.selectedCharacter),a.repeat=o,M(t),s){var m=j[s](t,d,a,e);if(e.lastMotion=j[s],!m)return;if(a.toJumplist){var v=T.jumpList,y=v.cachedCursor;y?(ut(t,y,m),delete v.cachedCursor):ut(t,d,m)}i=(i=m instanceof Array?(n=m[0],m[1]):m)||G(d),e.visualMode?(e.visualBlock&&i.ch===1/0||(i=V(t,i,e.visualBlock)),n=(n=n&&V(t,n,!0))||g,c.anchor=n,c.head=i,rt(t),gt(t,e,"<",$(n,i)?n:i),gt(t,e,">",$(n,i)?i:n)):l||(i=V(t,i),t.setCursor(i.line,i.ch))}if(l){if(u.lastSel){n=g;var _=u.lastSel,b=Math.abs(_.head.line-_.anchor.line),w=Math.abs(_.head.ch-_.anchor.ch);i=_.visualLine?Jt(g.line+b,g.ch):_.visualBlock?Jt(g.line+b,g.ch+w):_.head.line==_.anchor.line?Jt(g.line,g.ch+w):Jt(g.line+b,g.ch),e.visualMode=!0,e.visualLine=_.visualLine,e.visualBlock=_.visualBlock,c=e.sel={anchor:n,head:i},rt(t)}else e.visualMode&&(u.lastSel={anchor:G(c.anchor),head:G(c.head),visualBlock:e.visualBlock,visualLine:e.visualLine});var C,S,x,k,O;if(e.visualMode){if(C=Z(c.head,c.anchor),S=X(c.head,c.anchor),x=e.visualLine||u.linewise,O=st(t,{anchor:C,head:S},k=e.visualBlock?"block":x?"line":"char"),x){var E=O.ranges;if("block"==k)for(var L=0;L<E.length;L++)E[L].head.ch=Q(t,E[L].head.line);else"line"==k&&(E[0].head=Jt(E[0].head.line+1,0))}}else{if(C=G(n||g),$(S=G(i||f),C)){var D=C;C=S,S=D}(x=a.linewise||u.linewise)?function(t,e,i){e.ch=0,i.ch=0,i.line++}(0,C,S):a.forward&&function(t,e,i){var n=t.getRange(e,i);if(/\n\s*$/.test(n)){var o=n.split("\n");o.pop();for(var r=o.pop();0<o.length&&r&&N(r);r=o.pop())i.line--,i.ch=0;r?(i.line--,i.ch=Q(t,i.line)):i.ch=0}}(t,C,S),O=st(t,{anchor:C,head:S},k="char",!a.inclusive||x)}t.setSelections(O.ranges,O.primary),e.lastMotion=null,u.repeat=o,u.registerName=h,u.linewise=x;var I=H[l](t,u,O.ranges,g,i);e.visualMode&&at(t,null!=I),I&&t.setCursor(I)}},recordLastEdit:function(t,e,i){var n=T.macroModeState;n.isPlaying||(t.lastEditInputState=e,t.lastEditActionCommand=i,n.lastInsertModeChanges.changes=[],n.lastInsertModeChanges.expectCursorActivityForChange=!1)}},j={moveToTopLine:function(t,e,i){var n=Mt(t).top+i.repeat-1;return Jt(n,t.findFirstNonWhiteSpaceCharacter(n))},moveToMiddleLine:function(t){var e=Mt(t),i=Math.floor(.5*(e.top+e.bottom));return Jt(i,t.findFirstNonWhiteSpaceCharacter(i))},moveToBottomLine:function(t,e,i){var n=Mt(t).bottom-i.repeat+1;return Jt(n,t.findFirstNonWhiteSpaceCharacter(n))},expandToLine:function(t,e,i){return Jt(e.line+i.repeat-1,1/0)},findNext:function(t,e,i){var n=_t(t),o=n.getQuery();if(o){var r=!i.forward;return r=n.isReversed()?!r:r,Dt(t,o),It(t,r,o,i.repeat)}},goToMark:function(t,e,i,n){var o=At(t,n,i.selectedCharacter);return o?i.linewise?{line:o.line,ch:t.findFirstNonWhiteSpaceCharacter(o.line)}:o:null},moveToOtherHighlightedEnd:function(t,e,i,n){if(n.visualBlock&&i.sameLine){var o=n.sel;return[V(t,Jt(o.anchor.line,o.head.ch)),V(t,Jt(o.head.line,o.anchor.ch))]}return[n.sel.head,n.sel.anchor]},jumpToMark:function(t,e,i,n){for(var o=e,r=0;r<i.repeat;r++){var s=o;for(var a in n.marks)if(d(a)){var l=n.marks[a].find();if(!((i.forward?$(l,s):$(s,l))||i.linewise&&l.line==s.line)){var u=Y(s,o),h=i.forward?J(s,l,o):J(o,l,s);(u||h)&&(o=l)}}}return i.linewise&&(o=Jt(o.line,t.findFirstNonWhiteSpaceCharacter(o.line))),o},moveByCharacters:function(t,e,i){var n=e,o=i.repeat,r=i.forward?n.ch+o:n.ch-o;return Jt(n.line,r)},moveByLines:function(t,e,i,n){var o=e,r=o.ch;switch(n.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:r=n.lastHPos;break;default:n.lastHPos=r}var s=i.repeat+(i.repeatOffset||0),a=i.forward?o.line+s:o.line-s,l=t.firstLine(),u=t.lastLine();return a<l&&o.line==l?this.moveToStartOfLine(t,e,i,n):u<a&&o.line==u?this.moveToEol(t,e,i,n):(i.toFirstChar&&(r=t.findFirstNonWhiteSpaceCharacter(a),n.lastHPos=r),n.lastHSPos=t.charCoords(Jt(a,r),"div").left,Jt(a,r))},moveByDisplayLines:function(t,e,i,n){var o=e;switch(n.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:n.lastHSPos=t.charCoords(o,"div").left}var r=i.repeat;if((a=t.findPosV(o,i.forward?r:-r,"line",n.lastHSPos)).hitSide)if(i.forward)var s={top:t.charCoords(a,"div").top+8,left:n.lastHSPos},a=t.coordsChar(s,"div");else{var l=t.charCoords(Jt(t.firstLine(),0),"div");l.left=n.lastHSPos,a=t.coordsChar(l,"div")}return n.lastHPos=a.ch,a},moveByPage:function(t,e,i){var n=e,o=i.repeat;return t.findPosV(n,i.forward?o:-o,"page")},moveByParagraph:function(t,e,i){var n=i.forward?1:-1;return vt(t,e,i.repeat,n)},moveBySentence:function(t,e,i){var n=i.forward?1:-1;return function(t,e,i,n){function h(t,e){if(e.pos+e.dir<0||e.pos+e.dir>=e.line.length){if(e.ln+=e.dir,!y(t,e.ln))return e.line=null,e.ln=null,void(e.pos=null);e.line=t.getLine(e.ln),e.pos=0<e.dir?0:e.line.length-1}else e.pos+=e.dir}function o(t,e,i,n){var o=""===(l=t.getLine(e)),r={line:l,ln:e,pos:i,dir:n},s={ln:r.ln,pos:r.pos},a=""===r.line;for(h(t,r);null!==r.line;){if(s.ln=r.ln,s.pos=r.pos,""===r.line&&!a)return{ln:r.ln,pos:r.pos};if(o&&""!==r.line&&!N(r.line[r.pos]))return{ln:r.ln,pos:r.pos};!c(r.line[r.pos])||o||r.pos!==r.line.length-1&&!N(r.line[r.pos+1])||(o=!0),h(t,r)}var l=t.getLine(s.ln);s.pos=0;for(var u=l.length-1;0<=u;--u)if(!N(l[u])){s.pos=u;break}return s}function r(t,e,i,n){var o={line:a=t.getLine(e),ln:e,pos:i,dir:n},r={ln:o.ln,pos:null},s=""===o.line;for(h(t,o);null!==o.line;){if(""===o.line&&!s)return null!==r.pos?r:{ln:o.ln,pos:o.pos};if(c(o.line[o.pos])&&null!==r.pos&&(o.ln!==r.ln||o.pos+1!==r.pos))return r;""===o.line||N(o.line[o.pos])||(s=!1,r={ln:o.ln,pos:o.pos}),h(t,o)}for(var a=t.getLine(r.ln),l=r.pos=0;l<a.length;++l)if(!N(a[l])){r.pos=l;break}return r}var s={ln:e.line,pos:e.ch};for(;0<i;)s=n<0?r(t,s.ln,s.pos,n):o(t,s.ln,s.pos,n),i--;return Jt(s.ln,s.pos)}(t,e,i.repeat,n)},moveByScroll:function(t,e,i,n){var o=t.getScrollInfo(),r=null,s=i.repeat;s=s||Math.floor(o.clientHeight/(2*t.defaultTextHeight()));var a=t.charCoords(e,"local");if(i.repeat=s,!(r=j.moveByDisplayLines(t,e,i,n)))return null;var l=t.charCoords(r,"local");return t.scrollTo(null,o.top+l.top-a.top),r},moveByWords:function(t,e,i){return function(t,e,i,n,o,r){var s=G(e),a=[];(n&&!o||!n&&o)&&i++;for(var l=!(n&&o),u=0;u<i;u++){var h=pt(t,e,n,r,l);if(!h){var c=Q(t,t.lastLine());a.push(n?{line:t.lastLine(),from:c,to:c}:{line:0,from:0,to:0});break}a.push(h),e=Jt(h.line,n?h.to-1:h.from)}var d=a.length!=i,p=a[0],f=a.pop();return n&&!o?(d||p.from==s.ch&&p.line==s.line||(f=a.pop()),Jt(f.line,f.from)):n&&o?Jt(f.line,f.to-1):!n&&o?(d||p.to==s.ch&&p.line==s.line||(f=a.pop()),Jt(f.line,f.to)):Jt(f.line,f.from)}(t,e,i.repeat,!!i.forward,!!i.wordEnd,!!i.bigWord)},moveTillCharacter:function(t,e,i){var n=ft(t,i.repeat,i.forward,i.selectedCharacter),o=i.forward?-1:1;return ht(o,i),n?(n.ch+=o,n):null},moveToCharacter:function(t,e,i){var n=i.repeat;return ht(0,i),ft(t,n,i.forward,i.selectedCharacter)||e},moveToSymbol:function(t,e,i){return function(t,e,i,n){var o=G(t.getCursor()),r=i?1:-1,s=i?t.lineCount():-1,a=o.ch,l=o.line,u=t.getLine(l),h={lineText:u,nextCh:u.charAt(a),lastCh:null,index:a,symb:n,reverseSymb:(i?{")":"(","}":"{"}:{"(":")","{":"}"})[n],forward:i,depth:0,curMoveThrough:!1},c=ct[n];if(!c)return o;var d=dt[c].init,p=dt[c].isComplete;d&&d(h);for(;l!==s&&e;){if(h.index+=r,h.nextCh=h.lineText.charAt(h.index),!h.nextCh){if(l+=r,h.lineText=t.getLine(l)||"",0<r)h.index=0;else{var f=h.lineText.length;h.index=0<f?f-1:0}h.nextCh=h.lineText.charAt(h.index)}p(h)&&(o.line=l,o.ch=h.index,e--)}if(h.nextCh||h.curMoveThrough)return Jt(l,h.index);return o}(t,i.repeat,i.forward,i.selectedCharacter)||e},moveToColumn:function(t,e,i,n){var o=i.repeat;return n.lastHPos=o-1,n.lastHSPos=t.charCoords(e,"div").left,function(t,e){var i=t.getCursor().line;return V(t,Jt(i,e-1))}(t,o)},moveToEol:function(t,e,i,n){var o=e;n.lastHPos=1/0;var r=Jt(o.line+i.repeat-1,1/0),s=t.clipPos(r);return s.ch--,n.lastHSPos=t.charCoords(s,"div").left,r},moveToFirstNonWhiteSpaceCharacter:function(t,e){var i=e;return Jt(i.line,t.findFirstNonWhiteSpaceCharacter(i.line))},moveToMatchedSymbol:function(t,e){var i=e,n=i.line,o=i.ch;return o<t.getLine(n).length?t.findMatchingBracket(Jt(n,o)).to:i},moveToStartOfLine:function(t,e){return Jt(e.line,0)},moveToLineOrEdgeOfDocument:function(t,e,i){var n=i.forward?t.lastLine():t.firstLine();return i.repeatIsExplicit&&(n=i.repeat-t.getOption("firstLineNumber")),Jt(n,t.findFirstNonWhiteSpaceCharacter(n))},textObjectManipulation:function(t,e,i,n){var o=i.selectedCharacter;"b"==o?o="(":"B"==o&&(o="{");var r,s=!i.textObjectInner;if({"(":")",")":"(","{":"}","}":"{","[":"]","]":"["}[o])r=function(t,e,i,n){var o,r,s=e,a={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[i],l={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[i],u=t.getLine(s.line).charAt(s.ch)===l?1:0;if(o=t.scanForBracket(Jt(s.line,s.ch+u),-1,void 0,{bracketRegex:a}),r=t.scanForBracket(Jt(s.line,s.ch+u),1,void 0,{bracketRegex:a}),!o||!r)return{start:s,end:s};if(o=o.pos,r=r.pos,o.line==r.line&&o.ch>r.ch||o.line>r.line){var h=o;o=r,r=h}n?r.ch+=1:o.ch+=1;return{start:o,end:r}}(t,e,o,s);else if({"'":!0,'"':!0}[o])r=function(t,e,i,n){var o,r,s,a,l=G(e),u=t.getLine(l.line).split(""),h=u.indexOf(i);l.ch<h?l.ch=h:h<l.ch&&u[l.ch]==i&&(r=l.ch,--l.ch);if(u[l.ch]!=i||r)for(s=l.ch;-1<s&&!o;s--)u[s]==i&&(o=s+1);else o=l.ch+1;if(o&&!r)for(s=o,a=u.length;s<a&&!r;s++)u[s]==i&&(r=s);if(!o||!r)return{start:l,end:l};n&&(--o,++r);return{start:Jt(l.line,o),end:Jt(l.line,r)}}(t,e,o,s);else if("W"===o)r=lt(t,s,!0,!0);else if("w"===o)r=lt(t,s,!0,!1);else{if("p"!==o)return null;if(r=vt(t,e,i.repeat,0,s),i.linewise=!0,n.visualMode)n.visualLine||(n.visualLine=!0);else{var a=n.inputState.operatorArgs;a&&(a.linewise=!0),r.end.line--}}return t.state.vim.visualMode?function(t,e,i){var n,o=t.state.vim.sel,r=o.head,s=o.anchor;$(i,e)&&(n=i,i=e,e=n);$(r,s)?(r=Z(e,r),s=X(s,i)):(s=Z(e,s),-1==(r=U(r=X(r,i),0,-1)).ch&&r.line!=t.firstLine()&&(r=Jt(r.line-1,Q(t,r.line-1))));return[s,r]}(t,r.start,r.end):[r.start,r.end]},repeatLastCharacterSearch:function(t,e,i){var n=T.lastCharacterSearch,o=i.repeat,r=i.forward===n.forward,s=(n.increment?1:0)*(r?-1:1);t.moveH(-1*s,"char");var a=ft(t,o,i.inclusive=r,n.selectedCharacter);return a?(a.ch+=s,a):(t.moveH(s,"char"),e)}};function B(t,e){for(var i=[],n=0;n<e;n++)i.push(t);return i}var H={change:function(t,e,i){var n,o,r=t.state.vim;if(T.macroModeState.lastInsertModeChanges.inVisualBlock=r.visualBlock,r.visualMode){o=t.getSelection();var s=B("",i.length);t.replaceSelections(s),n=Z(i[0].head,i[0].anchor)}else{var a=i[0].anchor,l=i[0].head;o=t.getRange(a,l);var u=r.lastEditInputState||{};if("moveByWords"==u.motion&&!N(o)){var h=/\s+$/.exec(o);h&&u.motionArgs&&u.motionArgs.forward&&(l=U(l,0,-h[0].length),o=o.slice(0,-h[0].length))}var c=new Jt(a.line-1,Number.MAX_VALUE),d=t.firstLine()==t.lastLine();l.line>t.lastLine()&&e.linewise&&!d?t.replaceRange("",c,l):t.replaceRange("",a,l),e.linewise&&(d||(t.setCursor(c),$t.default.commands.newlineAndIndent(t)),a.ch=Number.MAX_VALUE),n=a}T.registerController.pushText(e.registerName,"change",o,e.linewise,1<i.length),W.enterInsertMode(t,{head:n},t.state.vim)},delete:function(t,e,i){var n,o;t.pushUndoStop();var r=t.state.vim;if(r.visualBlock){o=t.getSelection();var s=B("",i.length);t.replaceSelections(s),n=i[0].anchor}else{var a=i[0].anchor,l=i[0].head;e.linewise&&l.line!=t.firstLine()&&a.line==t.lastLine()&&a.line==l.line-1&&(a.line==t.firstLine()?a.ch=0:a=Jt(a.line-1,Q(t,a.line-1))),o=t.getRange(a,l),t.replaceRange("",a,l),n=a,e.linewise&&(n=j.moveToFirstNonWhiteSpaceCharacter(t,a))}return T.registerController.pushText(e.registerName,"delete",o,e.linewise,r.visualBlock),V(t,n,r.insertMode)},indent:function(t,e,i){var n=t.state.vim,o=i[0].anchor.line,r=n.visualBlock?i[i.length-1].anchor.line:i[0].head.line,s=n.visualMode?e.repeat:1;e.linewise&&r--,t.pushUndoStop();for(var a=o;a<=r;a++)for(var l=0;l<s;l++)t.indentLine(a,e.indentRight);return t.pushUndoStop(),j.moveToFirstNonWhiteSpaceCharacter(t,i[0].anchor)},changeCase:function(t,e,i,n,o){for(var r=t.getSelections(),s=[],a=e.toLower,l=0;l<r.length;l++){var u=r[l],h="";if(!0===a)h=u.toLowerCase();else if(!1===a)h=u.toUpperCase();else for(var c=0;c<u.length;c++){var d=u.charAt(c);h+=p(d)?d.toLowerCase():d.toUpperCase()}s.push(h)}return t.replaceSelections(s),e.shouldMoveCursor?o:!t.state.vim.visualMode&&e.linewise&&i[0].anchor.line+1==i[0].head.line?j.moveToFirstNonWhiteSpaceCharacter(t,n):e.linewise?n:Z(i[0].anchor,i[0].head)},yank:function(t,e,i,n){var o=t.state.vim,r=t.getSelection(),s=o.visualMode?Z(o.sel.anchor,o.sel.head,i[0].head,i[0].anchor):n;return T.registerController.pushText(e.registerName,"yank",r,e.linewise,o.visualBlock),s}},W={jumpListWalk:function(t,e,i){if(!i.visualMode){var n=e.repeat,o=e.forward,r=T.jumpList.move(t,o?n:-n),s=r?r.find():void 0;s=s||t.getCursor(),t.setCursor(s)}},scroll:function(t,e,i){if(!i.visualMode){var n=e.repeat||1,o=t.defaultTextHeight(),r=t.getScrollInfo().top,s=o*n,a=e.forward?r+s:r-s,l=G(t.getCursor()),u=t.charCoords(l,"local");if(e.forward)a>u.top?(l.line+=(a-u.top)/o,l.line=Math.ceil(l.line),t.setCursor(l),u=t.charCoords(l,"local"),t.scrollTo(null,u.top)):t.scrollTo(null,a);else{var h=a+t.getScrollInfo().clientHeight;h<u.bottom?(l.line-=(u.bottom-h)/o,l.line=Math.floor(l.line),t.setCursor(l),u=t.charCoords(l,"local"),t.scrollTo(null,u.bottom-t.getScrollInfo().clientHeight)):t.scrollTo(null,a)}}},scrollToCursor:function(t,e){t.moveCurrentLineTo(e.position)},replayMacro:function(t,e,i){var n=e.selectedCharacter,o=e.repeat,r=T.macroModeState;for("@"==n&&(n=r.latestRegister);o--;)Ht(t,i,r,n)},enterMacroRecordMode:function(t,e){var i=T.macroModeState,n=e.selectedCharacter;T.registerController.isValidRegister(n)&&i.enterMacroRecordMode(t,n)},toggleOverwrite:function(t){t.replaceMode?(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),$t.default.signal(t,"vim-mode-change",{mode:"insert"})):(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),$t.default.signal(t,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(t,e,i){if(!t.getOption("readOnly")){i.insertMode=!0,i.insertModeRepeat=e&&e.repeat||1,t.leaveVimMode();var n=e?e.insertAt:null,o=i.sel,r=e.head||t.getCursor("head"),s=t.listSelections().length;if("eol"==n)r=Jt(r.line,Q(t,r.line));else if("charAfter"==n)r=U(r,0,1);else if("firstNonBlank"==n)r=j.moveToFirstNonWhiteSpaceCharacter(t,r);else if("startOfSelectedArea"==n)i.visualBlock?(r=Jt(Math.min(o.head.line,o.anchor.line),Math.min(o.head.ch,o.anchor.ch)),s=Math.abs(o.head.line-o.anchor.line)+1):r=o.head.line<o.anchor.line?o.head:Jt(o.anchor.line,0);else if("endOfSelectedArea"==n)i.visualBlock?(r=Jt(Math.min(o.head.line,o.anchor.line),Math.max(o.head.ch+1,o.anchor.ch)),s=Math.abs(o.head.line-o.anchor.line)+1):r=o.head.line>=o.anchor.line?U(o.head,0,1):Jt(o.anchor.line,0);else if("inplace"==n&&i.visualMode)return;t.setOption("disableInput",!1),i.visualMode&&at(t),e&&e.replace?(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),$t.default.signal(t,"vim-mode-change",{mode:"replace"})):(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),$t.default.signal(t,"vim-mode-change",{mode:"insert"})),T.macroModeState.isPlaying||(t.on("change",Wt),$t.default.on(t.getInputField(),"keydown",qt)),nt(t,r,s)}},toggleVisualMode:function(t,e,i){var n,o=e.repeat,r=t.getCursor();i.visualMode?i.visualLine^e.linewise||i.visualBlock^e.blockwise?(i.visualLine=!!e.linewise,i.visualBlock=!!e.blockwise,$t.default.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),rt(t)):at(t):(i.visualMode=!0,i.visualLine=!!e.linewise,i.visualBlock=!!e.blockwise,n=V(t,Jt(r.line,r.ch+o-1),!0),i.sel={anchor:r,head:n},$t.default.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),rt(t),gt(t,i,"<",Z(r,n)),gt(t,i,">",X(r,n)))},reselectLastSelection:function(t,e,i){var n=i.lastSelection;if(i.visualMode&&ot(t,i),n){var o=n.anchorMark.find(),r=n.headMark.find();if(!o||!r)return;i.sel={anchor:o,head:r},i.visualMode=!0,i.visualLine=n.visualLine,i.visualBlock=n.visualBlock,rt(t),gt(t,i,"<",Z(o,r)),gt(t,i,">",X(o,r)),$t.default.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""})}},joinLines:function(t,e,i){var n,o;if(i.visualMode){if(n=t.getCursor("anchor"),$(o=t.getCursor("head"),n)){var r=o;o=n,n=r}o.ch=Q(t,o.line)-1}else{var s=Math.max(e.repeat,2);n=t.getCursor(),o=V(t,Jt(n.line+s-1,1/0))}for(var a=0,l=n.line;l<o.line;l++){a=Q(t,n.line);r=Jt(n.line+1,Q(t,n.line+1));var u=t.getRange(n,r);u=u.replace(/\n\s*/g," "),t.replaceRange(u,n,r)}var h=Jt(n.line,a);i.visualMode&&at(t,!1),t.setCursor(h)},newLineAndEnterInsertMode:function(t,e,i){i.insertMode=!0;var n=G(t.getCursor());n.line!==t.firstLine()||e.after?(n.line=e.after?n.line:n.line-1,n.ch=Q(t,n.line),t.setCursor(n),($t.default.commands.newlineAndIndentContinueComment||$t.default.commands.newlineAndIndent)(t)):(t.replaceRange("\n",Jt(t.firstLine(),0)),t.setCursor(t.firstLine(),0));this.enterInsertMode(t,{repeat:e.repeat},i)},paste:function(n,t,e){var i=G(n.getCursor()),o=T.registerController.getRegister(t.registerName);if(d=o.toString()){if(t.matchIndent){var r=n.getOption("tabSize"),s=function(t){var e=t.split("\t").length-1,i=t.split(" ").length-1;return e*r+1*i},a=n.getLine(n.getCursor().line),l=s(a.match(/^\s*/)[0]),u=d.replace(/\n$/,""),h=d!==u,c=s(d.match(/^\s*/)[0]),d=u.replace(/^\s*/gm,function(t){var e=l+(s(t)-c);if(e<0)return"";if(n.getOption("indentWithTabs")){var i=Math.floor(e/r);return Array(i+1).join("\t")}return Array(e+1).join(" ")});d+=h?"\n":""}if(1<t.repeat)d=Array(t.repeat+1).join(d);var p,f,g=o.linewise,m=o.blockwise;if(g)e.visualMode?d=e.visualLine?d.slice(0,-1):"\n"+d.slice(0,d.length-1)+"\n":t.after?(d="\n"+d.slice(0,d.length-1),i.ch=Q(n,i.line)):i.ch=0;else{if(m){d=d.split("\n");for(var v=0;v<d.length;v++)d[v]=""==d[v]?" ":d[v]}i.ch+=t.after?1:0}if(e.visualMode){var y;e.lastPastedText=d;var _=function(d,t){var p=t.lastSelection;return t.visualMode?function(){var t=d.listSelections(),e=t[0],i=t[t.length-1];return[$(e.anchor,e.head)?e.anchor:e.head,$(i.anchor,i.head)?i.head:i.anchor]}():function(){var t=d.getCursor(),e=d.getCursor(),i=p.visualBlock;if(i){var n=i.width,o=i.height;e=Jt(t.line+o,t.ch+n);for(var r=[],s=t.line;s<e.line;s++){var a={anchor:Jt(s,t.ch),head:Jt(s,e.ch)};r.push(a)}d.setSelections(r)}else{var l=p.anchorMark.find(),u=p.headMark.find(),h=u.line-l.line,c=u.ch-l.ch;e={line:e.line+h,ch:h?e.ch:c+e.ch},p.visualLine&&(t=Jt(t.line,0),e=Jt(e.line,Q(d,e.line))),d.setSelection(t,e)}return[t,e]}()}(n,e),b=_[0],w=_[1],C=n.getSelection(),S=n.listSelections(),x=new Array(S.length).join("1").split("1");e.lastSelection&&(y=e.lastSelection.headMark.find()),T.registerController.unnamedRegister.setText(C),p=m?(n.replaceSelections(x),w=Jt(b.line+d.length-1,b.ch),n.setCursor(b),it(n,w),n.replaceSelections(d),b):e.visualBlock?(n.replaceSelections(x),n.setCursor(b),n.replaceRange(d,b,b),b):(n.replaceRange(d,b,w),n.posFromIndex(n.indexFromPos(b)+d.length-1)),y&&(e.lastSelection.headMark=n.setBookmark(y)),g&&(p.ch=0)}else if(m){n.setCursor(i);for(v=0;v<d.length;v++){var k=i.line+v;k>n.lastLine()&&n.replaceRange("\n",Jt(k,0)),Q(n,k)<i.ch&&et(n,k,i.ch)}n.setCursor(i),it(n,Jt(i.line+d.length-1,i.ch)),n.replaceSelections(d),p=i}else n.replaceRange(d,i),p=g&&t.after?Jt(i.line+1,n.findFirstNonWhiteSpaceCharacter(i.line+1)):g&&!t.after?Jt(i.line,n.findFirstNonWhiteSpaceCharacter(i.line)):!g&&t.after?(f=n.indexFromPos(i),n.posFromIndex(f+d.length-1)):(f=n.indexFromPos(i),n.posFromIndex(f+d.length));e.visualMode&&at(n,!1),n.setCursor(p)}},undo:function(t,e){t.operation(function(){K(t,$t.default.commands.undo,e.repeat)(),t.setCursor(t.getCursor("anchor"))})},redo:function(t,e){K(t,$t.default.commands.redo,e.repeat)()},setRegister:function(t,e,i){i.inputState.registerName=e.selectedCharacter},setMark:function(t,e,i){gt(t,i,e.selectedCharacter,t.getCursor())},replace:function(t,e,i){var n,o,r=e.selectedCharacter,s=t.getCursor(),a=t.listSelections();if(i.visualMode)s=t.getCursor("start"),o=t.getCursor("end");else{var l=t.getLine(s.line);(n=s.ch+e.repeat)>l.length&&(n=l.length),o=Jt(s.line,n)}if("\n"==r)i.visualMode||t.replaceRange("",s,o),($t.default.commands.newlineAndIndentContinueComment||$t.default.commands.newlineAndIndent)(t);else{var u=t.getRange(s,o);if(u=u.replace(/[^\n]/g,r),i.visualBlock){var h=new Array(t.getOption("tabSize")+1).join(" ");u=(u=t.getSelection()).replace(/\t/g,h).replace(/[^\n]/g,r).split("\n"),t.replaceSelections(u)}else t.replaceRange(u,s,o);i.visualMode?(s=$(a[0].anchor,a[0].head)?a[0].anchor:a[0].head,t.setCursor(s),at(t,!1)):t.setCursor(U(o,0,-1))}},incrementNumberToken:function(t,e){for(var i,n,o,r,s=t.getCursor(),a=t.getLine(s.line),l=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi;null!==(i=l.exec(a))&&(o=(n=i.index)+i[0].length,!(s.ch<o)););if((e.backtrack||!(o<=s.ch))&&i){var u=i[2]||i[4],h=i[3]||i[5],c=e.increase?1:-1,d={"0b":2,0:8,"":10,"0x":16}[u.toLowerCase()];r=(parseInt(i[1]+h,d)+c*e.repeat).toString(d);var p=u?new Array(h.length-r.length+1+i[1].length).join("0"):"";r="-"===r.charAt(0)?"-"+u+p+r.substr(1):u+p+r;var f=Jt(s.line,n),g=Jt(s.line,o);t.replaceRange(r,f,g),t.setCursor(Jt(s.line,n+r.length-1))}},repeatLastEdit:function(t,e,i){if(i.lastEditInputState){var n=e.repeat;n&&e.repeatIsExplicit?i.lastEditInputState.repeatOverride=n:n=i.lastEditInputState.repeatOverride||n,Kt(t,i,n,!1)}},indent:function(t,e){t.indentLine(t.getCursor().line,e.indentRight)},exitInsertMode:jt};function V(t,e,i){var n=Math.min(Math.max(t.firstLine(),e.line),t.lastLine()),o=Q(t,n)-1;o=i?o+1:o;var r=Math.min(Math.max(0,e.ch),o);return Jt(n,r)}function z(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function U(t,e,i){return"object"===(void 0===e?"undefined":Yt(e))&&(i=e.ch,e=e.line),Jt(t.line+e,t.ch+i)}function q(t,e){if("<character>"!=e.slice(-11))return t==e?"full":0==e.indexOf(t)&&"partial";var i=e.length-11,n=t.slice(0,i),o=e.slice(0,i);return n==o&&t.length>i?"full":0==o.indexOf(n)&&"partial"}function K(e,i,n){return function(){for(var t=0;t<n;t++)i(e)}}function G(t){return Jt(t.line,t.ch)}function Y(t,e){return t.ch==e.ch&&t.line==e.line}function $(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function Z(t,e){return 2<arguments.length&&(e=Z.apply(void 0,Array.prototype.slice.call(arguments,1))),$(t,e)?t:e}function X(t,e){return 2<arguments.length&&(e=X.apply(void 0,Array.prototype.slice.call(arguments,1))),$(t,e)?e:t}function J(t,e,i){var n=$(t,e),o=$(e,i);return n&&o}function Q(t,e){return t.getLine(e).length}function tt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function et(t,e,i){var n=Q(t,e),o=new Array(i-n+1).join(" ");t.setCursor(Jt(e,n)),t.replaceRange(o,t.getCursor())}function it(t,e){var i=[],n=t.listSelections(),o=G(t.clipPos(e)),r=!Y(e,o),s=function(t,e,i){for(var n=0;n<t.length;n++){var o="head"!=i&&Y(t[n].anchor,e),r="anchor"!=i&&Y(t[n].head,e);if(o||r)return n}return-1}(n,t.getCursor("head")),a=Y(n[s].head,n[s].anchor),l=n.length-1,u=s<l-s?l:0,h=n[u].anchor,c=Math.min(h.line,o.line),d=Math.max(h.line,o.line),p=h.ch,f=o.ch,g=n[u].head.ch-p,m=f-p;0<g&&m<=0?(p++,r||f--):g<0&&0<=m?(p--,a||f++):g<0&&-1==m&&(p--,f++);for(var v=c;v<=d;v++){var y={anchor:new Jt(v,p),head:new Jt(v,f)};i.push(y)}return t.setSelections(i),e.ch=f,h.ch=p,h}function nt(t,e,i){for(var n=[],o=0;o<i;o++){var r=U(e,o,0);n.push({anchor:r,head:r})}t.setSelections(n,0)}function ot(t,e){var i=e.sel.anchor,n=e.sel.head;e.lastPastedText&&(n=t.posFromIndex(t.indexFromPos(i)+e.lastPastedText.length),e.lastPastedText=null),e.lastSelection={anchorMark:t.setBookmark(i),headMark:t.setBookmark(n),anchor:G(i),head:G(n),visualMode:e.visualMode,visualLine:e.visualLine,visualBlock:e.visualBlock}}function rt(t,e,i){var n=t.state.vim,o=st(t,e=e||n.sel,i=i||n.visualLine?"line":n.visualBlock?"block":"char");t.setSelections(o.ranges,o.primary),zt(t)}function st(t,e,i,n){var o=G(e.head),r=G(e.anchor);if("char"==i){var s=n||$(e.head,e.anchor)?0:1,a=$(e.head,e.anchor)?1:0;return o=U(e.head,0,s),{ranges:[{anchor:r=U(e.anchor,0,a),head:o}],primary:0}}if("line"==i){if($(e.head,e.anchor))o.ch=0,r.ch=Q(t,r.line);else{r.ch=0;var l=t.lastLine();o.line>l&&(o.line=l),o.ch=Q(t,o.line)}return{ranges:[{anchor:r,head:o}],primary:0}}if("block"==i){for(var u=Math.min(r.line,o.line),h=Math.min(r.ch,o.ch),c=Math.max(r.line,o.line),d=Math.max(r.ch,o.ch)+1,p=c-u+1,f=o.line==u?0:p-1,g=[],m=0;m<p;m++)g.push({anchor:Jt(u+m,h),head:Jt(u+m,d)});return{ranges:g,primary:f}}}function at(t,e){var i=t.state.vim;!1!==e&&t.setCursor(V(t,i.sel.head)),ot(t,i),i.visualMode=!1,i.visualLine=!1,i.visualBlock=!1,$t.default.signal(t,"vim-mode-change",{mode:"normal"}),i.fakeCursor&&i.fakeCursor.clear()}function lt(t,e,i,n,o){for(var r=function(t){var e=t.getCursor("head");return 1==t.getSelection().length&&(e=Z(e,t.getCursor("anchor"))),e}(t),s=t.getLine(r.line),a=r.ch,l=o?g[0]:v[0];!l(s.charAt(a));)if(++a>=s.length)return null;n?l=v[0]:(l=g[0])(s.charAt(a))||(l=g[1]);for(var u=a,h=a;l(s.charAt(u))&&u<s.length;)u++;for(;l(s.charAt(h))&&0<=h;)h--;if(h++,e){for(var c=u;/\s/.test(s.charAt(u))&&u<s.length;)u++;if(c==u){for(var d=h;/\s/.test(s.charAt(h-1))&&0<h;)h--;h=h||d}}return{start:Jt(r.line,h),end:Jt(r.line,u)}}function ut(t,e,i){Y(e,i)||T.jumpList.add(t,e,i)}function ht(t,e){T.lastCharacterSearch.increment=t,T.lastCharacterSearch.forward=e.forward,T.lastCharacterSearch.selectedCharacter=e.selectedCharacter}var ct={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},dt={bracket:{isComplete:function(t){if(t.nextCh===t.symb){if(t.depth++,1<=t.depth)return!0}else t.nextCh===t.reverseSymb&&t.depth--;return!1}},section:{init:function(t){t.curMoveThrough=!0,t.symb=(t.forward?"]":"[")===t.symb?"{":"}"},isComplete:function(t){return 0===t.index&&t.nextCh===t.symb}},comment:{isComplete:function(t){var e="*"===t.lastCh&&"/"===t.nextCh;return t.lastCh=t.nextCh,e}},method:{init:function(t){t.symb="m"===t.symb?"{":"}",t.reverseSymb="{"===t.symb?"}":"{"},isComplete:function(t){return t.nextCh===t.symb}},preprocess:{init:function(t){t.index=0},isComplete:function(t){if("#"===t.nextCh){var e=t.lineText.match(/#(\w+)/)[1];if("endif"===e){if(t.forward&&0===t.depth)return!0;t.depth++}else if("if"===e){if(!t.forward&&0===t.depth)return!0;t.depth--}if("else"===e&&0===t.depth)return!0}return!1}}};function pt(t,e,i,n,o){var r=e.line,s=e.ch,a=t.getLine(r),l=i?1:-1,u=n?v:g;if(o&&""==a){if(r+=l,a=t.getLine(r),!y(t,r))return null;s=i?0:a.length}for(;;){if(o&&""==a)return{from:0,to:0,line:r};for(var h=0<l?a.length:-1,c=h,d=h;s!=h;){for(var p=!1,f=0;f<u.length&&!p;++f)if(u[f](a.charAt(s))){for(c=s;s!=h&&u[f](a.charAt(s));)s+=l;if(p=c!=(d=s),c==e.ch&&r==e.line&&d==c+l)continue;return{from:Math.min(c,d+1),to:Math.max(c,d),line:r}}p||(s+=l)}if(!y(t,r+=l))return null;a=t.getLine(r),s=0<l?0:a.length}}function ft(t,e,i,n){for(var o,r=t.getCursor(),s=r.ch,a=0;a<e;a++){if(-1==(o=mt(s,t.getLine(r.line),n,i,!0)))return null;s=o}return Jt(t.getCursor().line,o)}function gt(t,e,i,n){f(i,u)&&(e.marks[i]&&e.marks[i].clear(),e.marks[i]=t.setBookmark(n))}function mt(t,e,i,n,o){var r;return n?-1==(r=e.indexOf(i,t+1))||o||(r-=1):-1==(r=e.lastIndexOf(i,t-1))||o||(r+=1),r}function vt(e,t,i,n,o){var r,s=t.line,a=e.firstLine(),l=e.lastLine(),u=s;function h(t){return!e.getLine(t)}function c(t,e,i){return i?h(t)!=h(t+e):!h(t)&&h(t+e)}if(n){for(;a<=u&&u<=l&&0<i;)c(u,n)&&i--,u+=n;return new Jt(u,0)}var d=e.state.vim;if(d.visualLine&&c(s,1,!0)){var p=d.sel.anchor;c(p.line,-1,!0)&&(o&&p.line==s||(s+=1))}var f=h(s);for(u=s;u<=l&&i;u++)c(u,1,!0)&&(o&&h(u)==f||i--);for(r=new Jt(u,0),l<u&&!f?f=!0:o=!1,u=s;a<u&&(o&&h(u)!=f&&u!=s||!c(u,-1,!0));u--);return{start:new Jt(u,0),end:r}}function yt(){}function _t(t){var e=t.state.vim;return e.searchState_||(e.searchState_=new yt)}function bt(t,e){var i=wt(t,e)||[];if(!i.length)return[];var n=[];if(0===i[0]){for(var o=0;o<i.length;o++)"number"==typeof i[o]&&n.push(t.substring(i[o]+1,i[o+1]));return n}}function wt(t,e){e=e||"/";for(var i=!1,n=[],o=0;o<t.length;o++){var r=t.charAt(o);i||r!=e||n.push(o),i=!i&&"\\"==r}return n}b("pcre",!0,"boolean"),yt.prototype={getQuery:function(){return T.query},setQuery:function(t){T.query=t},getOverlay:function(){return this.searchOverlay},setOverlay:function(t){this.searchOverlay=t},isReversed:function(){return T.isReversed},setReversed:function(t){T.isReversed=t},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(t){this.annotate=t}};var Ct={"\\n":"\n","\\r":"\r","\\t":"\t"},St={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"};function xt(t,e,i){if(T.registerController.getRegister("/").setText(t),t instanceof RegExp)return t;var n,o,r=function(t){return wt(t,"/")}(t);r.length?(n=t.substring(0,r[0]),o=-1!=t.substring(r[0]).indexOf("i")):n=t;return n?(C("pcre")||(n=function(t){for(var e=!1,i=[],n=-1;n<t.length;n++){var o=t.charAt(n)||"",r=t.charAt(n+1)||"",s=r&&-1!="|(){".indexOf(r);e?("\\"===o&&s||i.push(o),e=!1):"\\"===o?(e=!0,r&&-1!="}".indexOf(r)&&(s=!0),s&&"\\"!==r||i.push(o)):(i.push(o),s&&"\\"!==r&&i.push("\\"))}return i.join("")}(n)),i&&(e=/^[^A-Z]*$/.test(n)),new RegExp(n,e||o?"i":void 0)):null}function kt(t,e){t.openNotification?t.openNotification('<span style="color: red">'+e+"</span>",{bottom:!0,duration:5e3}):alert(e)}var Ot="(Javascript regexp)";function Et(t,e){var i=(e.prefix||"")+" "+(e.desc||"");!function(t,e,i,n,o){t.openDialog?t.openDialog(e,n,{bottom:!0,value:o.value,onKeyDown:o.onKeyDown,onKeyUp:o.onKeyUp,selectValueOnOpen:!1}):n(prompt(i,""))}(t,function(t,e){var i='<span style="font-family: monospace; white-space: pre">'+(t||"")+'<input type="text"></span>';return e&&(i+=' <span style="color: #888">'+e+"</span>"),i}(e.prefix,e.desc),i,e.onClose,e)}function Lt(t,e,i,n){if(e){var o=_t(t),r=xt(e,!!i,!!n);if(r)return Dt(t,r),function(t,e){if(t instanceof RegExp&&e instanceof RegExp){for(var i=["global","multiline","ignoreCase","source"],n=0;n<i.length;n++){var o=i[n];if(t[o]!==e[o])return!1}return!0}return!1}(r,o.getQuery())||o.setQuery(r),r}}function Dt(t,e){var i=_t(t),n=i.getOverlay();n&&e==n.query||(n&&t.removeOverlay(n),n=function(i){if("^"==i.source.charAt(0))var n=!0;return{token:function(t){if(!n||t.sol()){var e=t.match(i,!1);if(e)return 0==e[0].length?(t.next(),"searching"):t.sol()||(t.backUp(1),i.exec(t.next()+e[0]))?(t.match(i),"searching"):(t.next(),null);for(;!t.eol()&&(t.next(),!t.match(i,!1)););}else t.skipToEnd()},query:i}}(e),t.addOverlay(n),t.showMatchesOnScrollbar&&(i.getScrollbarAnnotate()&&i.getScrollbarAnnotate().clear(),i.setScrollbarAnnotate(t.showMatchesOnScrollbar(e))),i.setOverlay(n))}function It(o,r,s,a){return void 0===a&&(a=1),o.operation(function(){for(var t=o.getCursor(),e=o.getSearchCursor(s,t),i=0;i<a;i++){var n=e.find(r);if(0==i&&n&&Y(e.from(),t)&&(n=e.find(r)),!n&&!(e=o.getSearchCursor(s,r?Jt(o.lastLine()):Jt(o.firstLine(),0))).find(r))return}return e.from()})}function Nt(t){var e=_t(t);t.removeOverlay(_t(t).getOverlay()),e.setOverlay(null),e.getScrollbarAnnotate()&&(e.getScrollbarAnnotate().clear(),e.setScrollbarAnnotate(null))}function Tt(t,e,i){return"number"!=typeof t&&(t=t.line),e instanceof Array?f(t,e):i?e<=t&&t<=i:t==e}function Mt(t){return t.getUserVisibleLines()}function At(t,e,i){if("'"==i){var n=t.doc.history.done,o=n[n.length-2];return o&&o.ranges&&o.ranges[0].head}if("."==i){if(0==t.doc.history.lastModTime)return;var r=t.doc.history.done.filter(function(t){if(void 0!==t.changes)return t});return r.reverse(),r[0].changes[0].to}var s=e.marks[i];return s&&s.find()}function Pt(){this.buildCommandMap_()}Pt.prototype={processCommand:function(t,e,i){var n=this;t.operation(function(){t.curOp.isVimOp=!0,n._processCommand(t,e,i)})},_processCommand:function(e,t,i){var n=e.state.vim,o=T.registerController.getRegister(":"),r=o.toString();n.visualMode&&at(e);var s=new $t.default.StringStream(t);o.setText(t);var a,l,u=i||{};u.input=t;try{this.parseInput_(e,s,u)}catch(t){throw kt(e,t),t}if(u.commandName){if(a=this.matchCommand_(u.commandName)){if(l=a.name,a.excludeFromCommandHistory&&o.setText(r),this.parseCommandArgs_(s,u,a),"exToKey"==a.type){for(var h=0;h<a.toKeys.length;h++)$t.default.Vim.handleKey(e,a.toKeys[h],"mapping");return}if("exToEx"==a.type)return void this.processCommand(e,a.toInput)}}else void 0!==u.line&&(l="move");if(l)try{Rt[l](e,u),a&&a.possiblyAsync||!u.callback||u.callback()}catch(t){throw kt(e,t),t}else kt(e,'Not an editor command ":'+t+'"')},parseInput_:function(t,e,i){e.eatWhile(":"),e.eat("%")?(i.line=t.firstLine(),i.lineEnd=t.lastLine()):(i.line=this.parseLineSpec_(t,e),void 0!==i.line&&e.eat(",")&&(i.lineEnd=this.parseLineSpec_(t,e)));var n=e.match(/^(\w+)/);return i.commandName=n?n[1]:e.match(/.*/)[0],i},parseLineSpec_:function(t,e){var i=e.match(/^(\d+)/);if(i)return parseInt(i[1],10)-1;switch(e.next()){case".":return this.parseLineSpecOffset_(e,t.getCursor().line);case"$":return this.parseLineSpecOffset_(e,t.lastLine());case"'":var n=e.next(),o=At(t,t.state.vim,n);if(!o)throw new Error("Mark not set");return this.parseLineSpecOffset_(e,o.line);case"-":case"+":return e.backUp(1),this.parseLineSpecOffset_(e,t.getCursor().line);default:return void e.backUp(1)}},parseLineSpecOffset_:function(t,e){var i=t.match(/^([+-])?(\d+)/);if(i){var n=parseInt(i[2],10);"-"==i[1]?e-=n:e+=n}return e},parseCommandArgs_:function(t,e,i){if(!t.eol()){e.argString=t.match(/.*/)[0];var n=i.argDelimiter||/\s+/,o=tt(e.argString).split(n);o.length&&o[0]&&(e.args=o)}},matchCommand_:function(t){for(var e=t.length;0<e;e--){var i=t.substring(0,e);if(this.commandMap_[i]){var n=this.commandMap_[i];if(0===n.name.indexOf(t))return n}}return null},buildCommandMap_:function(){this.commandMap_={};for(var t=0;t<Xt.length;t++){var e=Xt[t],i=e.shortName||e.name;this.commandMap_[i]=e}},map:function(t,e,i){if(":"!=t&&":"==t.charAt(0)){if(i)throw Error("Mode not supported for ex mappings");var n=t.substring(1);":"!=e&&":"==e.charAt(0)?this.commandMap_[n]={name:n,type:"exToEx",toInput:e.substring(1),user:!0}:this.commandMap_[n]={name:n,type:"exToKey",toKeys:e,user:!0}}else if(":"!=e&&":"==e.charAt(0)){var o={keys:t,type:"keyToEx",exArgs:{input:e.substring(1)}};i&&(o.context=i),Zt.unshift(o)}else{o={keys:t,type:"keyToKey",toKeys:e};i&&(o.context=i),Zt.unshift(o)}},unmap:function(t,e){if(":"!=t&&":"==t.charAt(0)){if(e)throw Error("Mode not supported for ex mappings");var i=t.substring(1);if(this.commandMap_[i]&&this.commandMap_[i].user)return void delete this.commandMap_[i]}else for(var n=t,o=0;o<Zt.length;o++)if(n==Zt[o].keys&&Zt[o].context===e)return void Zt.splice(o,1);throw Error("No such mapping.")}};var Rt={colorscheme:function(t,e){!e.args||e.args.length<1?kt(t,t.getOption("theme")):t.setOption("theme",e.args[0])},map:function(t,e,i){var n=e.args;!n||n.length<2?t&&kt(t,"Invalid mapping: "+e.input):Ft.map(n[0],n[1],i)},imap:function(t,e){this.map(t,e,"insert")},nmap:function(t,e){this.map(t,e,"normal")},vmap:function(t,e){this.map(t,e,"visual")},unmap:function(t,e,i){var n=e.args;!n||n.length<1?t&&kt(t,"No such mapping: "+e.input):Ft.unmap(n[0],i)},move:function(t,e){F.processCommand(t,t.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:e.line+1})},set:function(t,e){var i=e.args,n=e.setCfg||{};if(!i||i.length<1)t&&kt(t,"Invalid mapping: "+e.input);else{var o=i[0].split("="),r=o[0],s=o[1],a=!1;if("?"==r.charAt(r.length-1)){if(s)throw Error("Trailing characters: "+e.argString);r=r.substring(0,r.length-1),a=!0}void 0===s&&"no"==r.substring(0,2)&&(r=r.substring(2),s=!1);var l=_[r]&&"boolean"==_[r].type;if(l&&null==s&&(s=!0),!l&&void 0===s||a){var u=C(r,t,n);u instanceof Error?kt(t,u.message):kt(t,!0===u||!1===u?" "+(u?"":"no")+r:"  "+r+"="+u)}else{var h=w(r,s,t,n);h instanceof Error&&kt(t,h.message)}}},setlocal:function(t,e){e.setCfg={scope:"local"},this.set(t,e)},setglobal:function(t,e){e.setCfg={scope:"global"},this.set(t,e)},registers:function(t,e){var i=e.args,n=T.registerController.registers,o="----------Registers----------<br><br>";if(i){i=i.join("");for(var r=0;r<i.length;r++){if(s=i.charAt(r),T.registerController.isValidRegister(s))o+='"'+s+"    "+(n[s]||new A).toString()+"<br>"}}else for(var s in n){var a=n[s].toString();a.length&&(o+='"'+s+"    "+a+"<br>")}kt(t,o)},sort:function(t,r){var s,a,l,u,h;var e=function(){if(r.argString){var t=new $t.default.StringStream(r.argString);if(t.eat("!")&&(s=!0),t.eol())return;if(!t.eatSpace())return"Invalid arguments";var e=t.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!e&&!t.eol())return"Invalid arguments";if(e[1]){a=-1!=e[1].indexOf("i"),l=-1!=e[1].indexOf("u");var i=-1!=e[1].indexOf("d")||-1!=e[1].indexOf("n")&&1,n=-1!=e[1].indexOf("x")&&1,o=-1!=e[1].indexOf("o")&&1;if(1<i+n+o)return"Invalid arguments";u=(i?"decimal":n&&"hex")||o&&"octal"}e[2]&&(h=new RegExp(e[2].substr(1,e[2].length-2),a?"i":""))}}();if(e)kt(t,e+": "+r.argString);else{var i=r.line||t.firstLine(),n=r.lineEnd||r.line||t.lastLine();if(i!=n){var o=Jt(i,0),c=Jt(n,Q(t,n)),d=t.getRange(o,c).split("\n"),p=h||("decimal"==u?/(-?)([\d]+)/:"hex"==u?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==u?/([0-7]+)/:null),f="decimal"==u?10:"hex"==u?16:"octal"==u?8:null,g=[],m=[];if(u||h)for(var v=0;v<d.length;v++){var y=h?d[v].match(h):null;y&&""!=y[0]?g.push(y):!h&&p.exec(d[v])?g.push(d[v]):m.push(d[v])}else m=d;if(g.sort(h?function(t,e){var i;return s&&(i=t,t=e,e=i),a&&(t[0]=t[0].toLowerCase(),e[0]=e[0].toLowerCase()),t[0]<e[0]?-1:1}:w),h)for(v=0;v<g.length;v++)g[v]=g[v].input;else u||m.sort(w);if(d=s?g.concat(m):m.concat(g),l){var _,b=d;d=[];for(v=0;v<b.length;v++)b[v]!=_&&d.push(b[v]),_=b[v]}t.replaceRange(d.join("\n"),o,c)}}function w(t,e){var i;s&&(i=t,t=e,e=i);a&&(t=t.toLowerCase(),e=e.toLowerCase());var n=u&&p.exec(t),o=u&&p.exec(e);return n?(n=parseInt((n[1]+n[2]).toLowerCase(),f))-(o=parseInt((o[1]+o[2]).toLowerCase(),f)):t<e?-1:1}},global:function(i,t){var e=t.argString;if(e){var n,o=void 0!==t.line?t.line:i.firstLine(),r=t.lineEnd||t.line||i.lastLine(),s=function(t){return bt(t,"/")}(e),a=e;if(s.length&&(a=s[0],n=s.slice(1,s.length).join("/")),a)try{Lt(i,a,!0,!0)}catch(t){return void kt(i,"Invalid regex: "+a)}for(var l=_t(i).getQuery(),u=[],h="",c=o;c<=r;c++){l.test(i.getLine(c))&&(u.push(c+1),h+=i.getLine(c)+"<br>")}if(n){var d=0;!function t(){if(d<u.length){var e=u[d]+n;Ft.processCommand(i,e,{callback:t})}d++}()}else kt(i,h)}else kt(i,"Regular Expression missing from global")},substitute:function(e,t){if(!e.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var i,n,o,r,s=t.argString,a=s?bt(s,s[0]):[],l="",u=!1,h=!1;if(a.length)i=a[0],l=a[1],i&&"$"===i[i.length-1]&&(i=i.slice(0,i.length-1)+"\\n",l=l?l+"\n":"\n"),void 0!==l&&(l=C("pcre")?function(t){for(var e=new $t.default.StringStream(t),i=[];!e.eol();){for(;e.peek()&&"\\"!=e.peek();)i.push(e.next());var n=!1;for(var o in St)if(e.match(o,!0)){n=!0,i.push(St[o]);break}n||i.push(e.next())}return i.join("")}(l):function(t){for(var e,i=!1,n=[],o=-1;o<t.length;o++){var r=t.charAt(o)||"",s=t.charAt(o+1)||"";Ct[r+s]?(n.push(Ct[r+s]),o++):i?(n.push(r),i=!1):"\\"===r?(i=!0,e=s,m.test(e)||"$"===s?n.push("$"):"/"!==s&&"\\"!==s&&n.push("\\")):("$"===r&&n.push("$"),n.push(r),"/"===s&&n.push("\\"))}return n.join("")}(l),T.lastSubstituteReplacePart=l),n=a[2]?a[2].split(" "):[];else if(s&&s.length)return void kt(e,"Substitutions should be of the form :s/pattern/replace/");if(n&&(o=n[0],r=parseInt(n[1]),o&&(-1!=o.indexOf("c")&&(u=!0,o.replace("c","")),-1!=o.indexOf("g")&&(h=!0,o.replace("g","")),i=i.replace(/\//g,"\\/")+"/"+o)),i)try{Lt(e,i,!0,!0)}catch(t){return void kt(e,"Invalid regex: "+i)}if(void 0!==(l=l||T.lastSubstituteReplacePart)){var c=_t(e).getQuery(),d=void 0!==t.line?t.line:e.getCursor().line,p=t.lineEnd||d;d==e.firstLine()&&p==e.lastLine()&&(p=1/0),r&&(p=(d=p)+r-1);var f=V(e,Jt(d,0)),g=e.getSearchCursor(c,f);!function(o,t,n,r,s,a,e,i,l){o.state.vim.exMode=!0;var u=!1,h=a.from();function c(){var t=a.getMatches(),e=t.length;o.operation(function(t,e){for(var i=e-1;0<=i;i--)d(),p(t,i);u=!0,g()}.bind(this,t,e))}function d(){var t=o.getRange(a.from(),a.to()).replace(e,i);a.replace(t)}function p(t,e){var i=a.jumpTo(e)&&Tt(a.from(),r,s);t.pop();i&&!n&&h&&a.from().line==h.line||(o.scrollIntoView(a.from(),30),h=a.from(),u=!1)}function f(){for(;a.findNext()&&Tt(a.from(),r,s);)if(n||!h||a.from().line!=h.line)return o.scrollIntoView(a.from(),30),o.setSelection(a.from(),a.to()),h=a.from(),void(u=!1);u=!0}function g(t){if(t&&t(),o.focus(),h){o.setCursor(h);var e=o.state.vim;e.exMode=!1,e.lastHPos=e.lastHSPos=h.ch}l&&l()}if(f(),u)return kt(o,"No matches for "+e.source);if(!t)return c(),l&&l();Et(o,{prefix:"replace with <strong>"+i+"</strong> (y/n/a/q/l)",onKeyDown:function(t,e,i){switch($t.default.e_stop(t),$t.default.keyName(t)){case"y":case"Y":d(),f();break;case"n":case"N":f();break;case"a":case"A":var n=l;l=void 0,o.operation(c),l=n;break;case"l":case"L":d();case"q":case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":g(i)}return u&&g(i),!0}})}(e,u,h,d,p,g,c,l,t.callback)}else kt(e,"No previous substitute regular expression")},redo:$t.default.commands.redo,undo:$t.default.commands.undo,write:function(t){$t.default.commands.save?$t.default.commands.save(t):t.save&&t.save()},nohlsearch:function(t){Nt(t)},yank:function(t){var e=G(t.getCursor()).line,i=t.getLine(e);T.registerController.pushText("0","yank",i,!0,!0)},delmarks:function(t,e){if(e.argString&&tt(e.argString))for(var i=t.state.vim,n=new $t.default.StringStream(tt(e.argString));!n.eol();){n.eatSpace();var o=n.pos;if(!n.match(/[a-zA-Z]/,!1))return void kt(t,"Invalid argument: "+e.argString.substring(o));var r=n.next();if(n.match("-",!0)){if(!n.match(/[a-zA-Z]/,!1))return void kt(t,"Invalid argument: "+e.argString.substring(o));var s=r,a=n.next();if(!(d(s)&&d(a)||p(s)&&p(a)))return void kt(t,"Invalid argument: "+s+"-");var l=s.charCodeAt(0),u=a.charCodeAt(0);if(u<=l)return void kt(t,"Invalid argument: "+e.argString.substring(o));for(var h=0;h<=u-l;h++){var c=String.fromCharCode(l+h);delete i.marks[c]}}else delete i.marks[r]}else kt(t,"Argument required")}},Ft=new Pt;function jt(t){var e=t.state.vim,i=T.macroModeState,n=T.registerController.getRegister("."),o=i.isPlaying,r=i.lastInsertModeChanges,s=[];if(!o){for(var a=r.inVisualBlock&&e.lastSelection?e.lastSelection.visualBlock.height:1,l=r.changes,u=(s=[],0);u<l.length;)s.push(l[u]),l[u]instanceof Ut?u++:u+=a;r.changes=s,t.off("change",Wt),$t.default.off(t.getInputField(),"keydown",qt)}!o&&1<e.insertModeRepeat&&(Kt(t,e,e.insertModeRepeat-1,!0),e.lastEditInputState.repeatOverride=e.insertModeRepeat),delete e.insertModeRepeat,e.insertMode=!1,t.setCursor(t.getCursor().line,t.getCursor().ch-1),t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.toggleOverwrite(!1),n.setText(r.changes.join("")),$t.default.signal(t,"vim-mode-change",{mode:"normal"}),i.isRecording&&function(t){if(t.isPlaying)return;var e=t.latestRegister,i=T.registerController.getRegister(e);i&&i.pushInsertModeChanges&&i.pushInsertModeChanges(t.lastInsertModeChanges)}(i),t.enterVimMode()}function Bt(t){Zt.unshift(t)}function Ht(t,e,i,n){var o=T.registerController.getRegister(n);if(":"==n)return o.keyBuffer[0]&&Ft.processCommand(t,o.keyBuffer[0]),void(i.isPlaying=!1);var r=o.keyBuffer,s=0;i.isPlaying=!0,i.replaySearchQueries=o.searchQueries.slice(0);for(var a=0;a<r.length;a++)for(var l,u,h=r[a];h;)if(u=(l=/<\w+-.+?>|<\w+>|./.exec(h))[0],h=h.substring(l.index+u.length),$t.default.Vim.handleKey(t,u,"macro"),e.insertMode){var c=o.insertModeChanges[s++].changes;Gt(t,T.macroModeState.lastInsertModeChanges.changes=c,1),jt(t)}i.isPlaying=!1}function Wt(t,e){var i=T.macroModeState,n=i.lastInsertModeChanges;if(!i.isPlaying)for(;e;){if(n.expectCursorActivityForChange=!0,"+input"==e.origin||"paste"==e.origin||void 0===e.origin){var o=e.text.join("\n");n.maybeReset&&(n.changes=[],n.maybeReset=!1),t.state.overwrite&&!/\n/.test(o)?n.changes.push([o]):n.changes.push(o)}e=e.next}}function Vt(t){var e=t.state.vim;if(e.insertMode){var i=T.macroModeState;if(i.isPlaying)return;var n=i.lastInsertModeChanges;n.expectCursorActivityForChange?n.expectCursorActivityForChange=!1:n.maybeReset=!0}else t.curOp.isVimOp||function(t,e){var i=t.getCursor("anchor"),n=t.getCursor("head");e.visualMode&&!t.somethingSelected()?at(t,!1):e.visualMode||e.insertMode||!t.somethingSelected()||(e.visualMode=!0,e.visualLine=!1,$t.default.signal(t,"vim-mode-change",{mode:"visual"}));if(e.visualMode){var o=$(n,i)?0:-1,r=$(n,i)?-1:0;n=U(n,0,o),i=U(i,0,r),e.sel={anchor:i,head:n},gt(t,e,"<",Z(n,i)),gt(t,e,">",X(n,i))}else e.insertMode||(e.lastHPos=t.getCursor().ch)}(t,e);e.visualMode&&zt(t)}function zt(t){var e=t.state.vim,i=V(t,G(e.sel.head)),n=U(i,0,1);e.fakeCursor&&e.fakeCursor.clear(),e.fakeCursor=t.markText(i,n,{className:"cm-animate-fat-cursor"})}function Ut(t){this.keyName=t}function qt(t){var e=T.macroModeState.lastInsertModeChanges,i=$t.default.keyName(t);i&&(-1==i.indexOf("Delete")&&-1==i.indexOf("Backspace")||$t.default.lookupKey(i,"vim-insert",function(){return e.maybeReset&&(e.changes=[],e.maybeReset=!1),e.changes.push(new Ut(i)),!0}))}function Kt(i,n,t,e){var o=T.macroModeState;o.isPlaying=!0;var r=!!n.lastEditActionCommand,s=n.inputState;function a(){r?F.processAction(i,n,n.lastEditActionCommand):F.evalInput(i,n)}function l(t){if(0<o.lastInsertModeChanges.changes.length){t=n.lastEditActionCommand?t:1;var e=o.lastInsertModeChanges;Gt(i,e.changes,t)}}if(n.inputState=n.lastEditInputState,r&&n.lastEditActionCommand.interlaceInsertRepeat)for(var u=0;u<t;u++)a(),l(1);else e||a(),l(t);n.inputState=s,n.insertMode&&!e&&jt(i),o.isPlaying=!1}function Gt(e,t,i){function n(t){return"string"==typeof t?$t.default.commands[t](e):t(e),!0}var o=e.getCursor("head"),r=T.macroModeState.lastInsertModeChanges.inVisualBlock;if(r){var s=e.state.vim.lastSelection,a=function(t,e){return{line:e.line-t.line,ch:e.line-t.line}}(s.anchor,s.head);nt(e,o,a.line+1),i=e.listSelections().length,e.setCursor(o)}for(var l=0;l<i;l++){r&&e.setCursor(U(o,l,0));for(var u=0;u<t.length;u++){var h=t[u];if(h instanceof Ut)$t.default.lookupKey(h.keyName,"vim-insert",n);else if("string"==typeof h){var c=e.getCursor();e.replaceRange(h,c,c)}else{var d=e.getCursor(),p=U(d,0,h[0].length);e.replaceRange(h[0],d,p)}}}r&&e.setCursor(U(o,0,1))}return $t.default.keyMap.vim={attach:i,detach:t,call:e},b("insertModeEscKeysTimeout",200,"number"),$t.default.keyMap["vim-insert"]={fallthrough:["default"],attach:i,detach:t,call:e},$t.default.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:i,detach:t,call:e},L(),D}var Zt=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"visual"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],Xt=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"global",shortName:"g"}],Jt=$t.default.Pos;$t.default.Vim=r(),e.Vim=r,e.default=$t.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=i(59),l=i(89);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=4,c=window.navigator,d=c.userAgent,p=c.platform,f=(!/Edge\/(\d+)/.exec(d)&&/AppleWebKit/.test(d)&&/Mobile\/\w+/.test(d)||/Mac/.test(p),/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/);function g(t,e){if(!(this instanceof g))return new g(t,e);this.line=t,this.ch=e}String.prototype.normalize;function m(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0}function v(t){return new g(t.lineNumber-1,t.column-1)}function y(t){return new a.Position(t.line+1,t.ch+1)}m.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var i=e==t;else i=e&&(t.test?t.test(e):t(e));if(i)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(-1<e)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){throw"not implemented"},indentation:function(){throw"not implemented"},match:function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&0<n.index?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}function o(t){return i?t.toLowerCase():t}if(o(this.string.substr(this.pos,t.length))==o(t))return!1!==e&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var _=(r(b,[{key:"clear",value:function(){delete this.cm.marks[this.id]}},{key:"find",value:function(){return v(this)}}]),b);function b(t,e,i,n){u(this,b),this.cm=t,this.id=e,this.lineNumber=i+1,this.column=n+1,t.marks[this.id]=this}function w(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=!0,n=monaco.KeyCode[t.keyCode];t.key&&(n=t.key,i=!1);var o=n,r=e;switch(t.keyCode){case a.KeyCode.Shift:case a.KeyCode.Meta:case a.KeyCode.Alt:case a.KeyCode.Ctrl:return o;case a.KeyCode.Escape:r=!0,o="Esc"}return n.startsWith("KEY_")?o=n[n.length-1].toLowerCase():n.endsWith("Arrow")?(r=!0,o=n.substr(0,n.length-5)):n.startsWith("US_")&&(o=t.browserEvent.key),r||t.altKey||t.ctrlKey||t.metaKey?(t.altKey&&(o="Alt-"+o),t.ctrlKey&&(o="Ctrl-"+o),t.metaKey&&(o="Meta-"+o),t.shiftKey&&(o="Shift-"+o)):o=t.key||t.browserEvent.key,1===o.length&&i&&(o="'"+o+"'"),o}var C=(r(S,[{key:"attach",value:function(){S.keyMap.vim.attach(this)}},{key:"addLocalListeners",value:function(){this.disposables.push(this.editor.onDidChangeCursorPosition(this.handleCursorChange),this.editor.onDidChangeModelContent(this.handleChange),this.editor.onKeyDown(this.handleKeyDown))}},{key:"handleReplaceMode",value:function(t,e){var i=!1,n=t,o=this.editor.getPosition(),r=new a.Range(o.lineNumber,o.column,o.lineNumber,o.column+1);if(t.startsWith("'"))n=t[1];else if("Enter"===n)n="\n";else{if("Backspace"!==n)return;var s=this.replaceStack.pop();if(!s)return;i=!0,n=s,r=new a.Range(o.lineNumber,o.column,o.lineNumber,o.column-1)}e.preventDefault(),e.stopPropagation(),this.replaceStack||(this.replaceStack=[]),i||this.replaceStack.push(this.editor.getModel().getValueInRange(r)),this.editor.executeEdits("vim",[{text:n,range:r,forceMoveMarkers:!0}]),i&&this.editor.setPosition(r.getStartPosition())}},{key:"setOption",value:function(t,e){this.state[t]=e,"theme"===t&&a.editor.setTheme(e)}},{key:"getOption",value:function(t){return"readOnly"===t?this.editor.getConfiguration().readOnly:"firstLineNumber"===t?this.firstLine()+1:"indentWithTabs"===t?!this.editor.getModel().getOptions().insertSpaces:this.editor.getRawConfiguration()[t]}},{key:"dispatch",value:function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var o=this.listeners[t];o&&o.forEach(function(t){return t.apply(void 0,i)})}},{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){var i=this.listeners[t];i&&(this.listeners[t]=i.filter(function(t){return t!==e}))}},{key:"firstLine",value:function(){return 0}},{key:"lastLine",value:function(){return this.lineCount()-1}},{key:"lineCount",value:function(){return this.editor.getModel().getLineCount()}},{key:"defaultTextHeight",value:function(){return 1}},{key:"getLine",value:function(t){if(t<0)return"";var e=this.editor.getModel().getLineCount();return e<t+1&&(t=e-1),this.editor.getModel().getLineContent(t+1)}},{key:"getAnchorForSelection",value:function(t){return t.isEmpty()?t.getPosition():t.getDirection()===a.SelectionDirection.LTR?t.getStartPosition():t.getEndPosition()}},{key:"getHeadForSelection",value:function(t){return t.isEmpty()?t.getPosition():t.getDirection()===a.SelectionDirection.LTR?t.getEndPosition():t.getStartPosition()}},{key:"getCursor",value:function(t){var e=0<arguments.length&&void 0!==t?t:null;if(!e)return v(this.editor.getPosition());var i=this.editor.getSelection();return v(i.isEmpty()?i.getPosition():"anchor"===e?this.getAnchorForSelection(i):this.getHeadForSelection(i))}},{key:"getRange",value:function(t,e){var i=y(t),n=y(e);return this.editor.getModel().getValueInRange(a.Range.fromPositions(i,n))}},{key:"getSelection",value:function(){return this.editor.getModel().getValueInRange(this.editor.getSelection())}},{key:"replaceRange",value:function(t,e,i){var n=y(e),o=i?y(i):n;this.editor.executeEdits("vim",[{text:t,range:a.Range.fromPositions(n,o)}]),this.pushUndoStop()}},{key:"pushUndoStop",value:function(){this.editor.pushUndoStop()}},{key:"setCursor",value:function(t,e){var i=t;"object"!==(void 0===t?"undefined":o(t))&&((i={}).line=t,i.ch=e);var n=this.editor.getModel().validatePosition(y(i));this.editor.setPosition(y(i)),this.editor.revealPosition(n)}},{key:"somethingSelected",value:function(){return!this.editor.getSelection().isEmpty()}},{key:"operation",value:function(t){return t()}},{key:"listSelections",value:function(){var e=this,t=this.editor.getSelections();return!t.length||this.inVirtualSelectionMode?[{anchor:this.getCursor("anchor"),head:this.getCursor("head")}]:t.map(function(t){return t.getPosition(),t.getStartPosition(),t.getEndPosition(),{anchor:e.clipPos(v(e.getAnchorForSelection(t))),head:e.clipPos(v(e.getHeadForSelection(t)))}})}},{key:"focus",value:function(){this.editor.focus()}},{key:"setSelections",value:function(t,e){var o=!!this.editor.getSelections().length,i=t.map(function(t,e){var i=t.anchor,n=t.head;return o?a.Selection.fromPositions(y(i),y(n)):a.Selection.fromPositions(y(n),y(i))});if(e?i[e]&&i.push(i.splice(e,1)[0]):i.reverse(),i.length){var n=i[0],r=void 0;r=n.getDirection()===a.SelectionDirection.LTR?n.getEndPosition():n.getStartPosition(),this.editor.setSelections(i),this.editor.revealPosition(r)}}},{key:"setSelection",value:function(t,e){var i=a.Range.fromPositions(y(t),y(e));this.editor.setSelection(i)}},{key:"getSelections",value:function(){var e=this.editor;return e.getSelections().map(function(t){return e.getModel().getValueInRange(t)})}},{key:"replaceSelections",value:function(i){var n=this.editor;n.getSelections().forEach(function(t,e){n.executeEdits("vim",[{range:t,text:i[e],forceMoveMarkers:!1}])})}},{key:"toggleOverwrite",value:function(t){t?(this.enterVimMode(),this.replaceMode=!0):(this.leaveVimMode(),this.replaceMode=!1,this.replaceStack=[])}},{key:"charCoords",value:function(t){return{top:t.line,left:t.ch}}},{key:"coordsChar",value:function(){}},{key:"clipPos",value:function(t){return v(this.editor.getModel().validatePosition(y(t)))}},{key:"setBookmark",value:function(t,e){var i=new _(this,this.$uid++,t.line,t.ch);return e&&e.insertLeft||(i.$insertRight=!0),this.marks[i.id]=i}},{key:"getScrollInfo",value:function(){var t=this.editor,e=t.getVisibleRanges(),i=n(e,1)[0];return{left:0,top:i.startLineNumber-1,height:t.getModel().getLineCount(),clientHeight:i.endLineNumber-i.startLineNumber+1}}},{key:"triggerEditorAction",value:function(t){this.editor.trigger("vim",t)}},{key:"dispose",value:function(){this.dispatch("dispose"),this.removeOverlay(),S.keyMap.vim&&S.keyMap.vim.detach(this),this.disposables.forEach(function(t){return t.dispose()})}},{key:"getInputField",value:function(){}},{key:"getWrapperElement",value:function(){}},{key:"enterVimMode",value:function(t){this.ctxInsert.set(!1);var e=this.editor.getConfiguration();this.initialCursorWidth=e.viewInfo.cursorWidth||0,this.editor.updateOptions({cursorWidth:e.fontInfo.typicalFullwidthCharacterWidth,cursorBlinking:"solid"})}},{key:"leaveVimMode",value:function(){this.ctxInsert.set(!0),this.editor.updateOptions({cursorWidth:this.initialCursorWidth||0,cursorBlinking:"blink"})}},{key:"virtualSelectionMode",value:function(){return this.inVirtualSelectionMode}},{key:"markText",value:function(){return{clear:function(){},find:function(){}}}},{key:"getUserVisibleLines",value:function(){var t=this.editor.getVisibleRanges();if(!t.length)return{top:0,bottom:0};var e={top:1/0,bottom:0};return t.reduce(function(t,e){return e.startLineNumber<t.top&&(t.top=e.startLineNumber),e.endLineNumber>t.bottom&&(t.bottom=e.endLineNumber),t},e),e.top-=1,e.bottom-=1,e}},{key:"findPosV",value:function(t,e,i){var n=this.editor,o=e,r=y(t);if("page"===i){var s=n.getLayoutInfo().height,a=n.getConfiguration().fontInfo.lineHeight;o*=Math.floor(s/a)}return"line"===i&&(r.lineNumber+=o),v(r)}},{key:"findMatchingBracket",value:function(t){var e=y(t),i=this.editor.getModel().matchBracket(e);return i&&2===i.length?{to:v(i[1].getStartPosition())}:{to:null}}},{key:"findFirstNonWhiteSpaceCharacter",value:function(t){return this.editor.getModel().getLineFirstNonWhitespaceColumn(t+1)-1}},{key:"scrollTo",value:function(t,e){(t||e)&&(t||(e<0&&(e=this.editor.getPosition().lineNumber-e),this.editor.setScrollTop(this.editor.getTopForLineNumber(e+1))))}},{key:"moveCurrentLineTo",value:function(t){var e=this.editor,i=e.getPosition(),n=a.Range.fromPositions(i,i);switch(t){case"top":return void e.revealRangeAtTop(n);case"center":return void e.revealRangeInCenter(n);case"bottom":return void e._revealRange(n,h)}}},{key:"getSearchCursor",value:function(o,t){var r=!1,s=!1;o instanceof RegExp&&!o.global&&(r=!o.ignoreCase,o=o.source,s=!0),null==t.ch&&(t.ch=Number.MAX_VALUE);var a=y(t),l=this,e=this.editor,u=null,h=e.getModel(),c=h.findMatches(o,!1,s,r)||[];return{getMatches:function(){return c},findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},jumpTo:function(t){if(!c||!c.length)return!1;var e=c[t];return u=e.range,l.highlightRanges([u],"currentFindMatch"),l.highlightRanges(c.map(function(t){return t.range}).filter(function(t){return!t.equalsRange(u)})),u},find:function(t){if(!c||!c.length)return!1;var e=void 0;if(t){var i=u?u.getStartPosition():a;if(!(e=h.findPreviousMatch(o,i,s,r))||!e.range.getStartPosition().isBeforeOrEqual(i))return!1}else{var n=u?u.getEndPosition():a;if(!(e=h.findNextMatch(o,n,s,r))||!n.isBeforeOrEqual(e.range.getStartPosition()))return!1}return u=e.range,l.highlightRanges([u],"currentFindMatch"),l.highlightRanges(c.map(function(t){return t.range}).filter(function(t){return!t.equalsRange(u)})),u},from:function(){return u&&v(u.getStartPosition())},to:function(){return u&&v(u.getEndPosition())},replace:function(t){u&&(e.executeEdits("vim",[{range:u,text:t,forceMoveMarkers:!0}]),u.setEndPosition(e.getPosition()),e.setPosition(u.getStartPosition()))}}}},{key:"highlightRanges",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:"findMatch",n="decoration"+i;return this[n]=this.editor.deltaDecorations(this[n]||[],t.map(function(t){return{range:t,options:{stickiness:a.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:i,showIfCollapsed:!0}}})),this[n]}},{key:"addOverlay",value:function(t){var e=t.query,i=!1,n=!1;e&&e instanceof RegExp&&!e.global&&(n=!0,i=!e.ignoreCase,e=e.source);var o=this.editor.getModel().findNextMatch(e,this.editor.getPosition(),n,i);o&&o.range&&this.highlightRanges([o.range])}},{key:"removeOverlay",value:function(){var e=this;["currentFindMatch","findMatch"].forEach(function(t){e.editor.deltaDecorations(e["decoration"+t]||[],[])})}},{key:"scrollIntoView",value:function(t){t&&this.editor.revealPosition(y(t))}},{key:"moveH",value:function(t,e){if("char"===e){var i=this.editor.getPosition();this.editor.setPosition(new a.Position(i.lineNumber,i.column+t))}}},{key:"scanForBracket",value:function(t,e){var i=y(t),n=this.editor.getModel(),o=n.matchBracket(i);if(!o||2!==o.length)for(var r=0;r<"{([".length;r++){var s=n.findMatchingBracketUp("{(["[r],i);if(s){o=n.matchBracket(s.getEndPosition());break}}return o&&2===o.length?{pos:v(-1===e?o[1].getStartPosition():o[0].getStartPosition()),ch:n.getValueInRange(-1===e?o[0]:o[1])}:null}},{key:"indexFromPos",value:function(t){return this.editor.getModel().getOffsetAt(y(t))}},{key:"posFromIndex",value:function(t){return v(this.editor.getModel().getPositionAt(t))}},{key:"indentLine",value:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e,n=this.editor,o=n._getCursors(),r=new a.Position(t+1,1),s=a.Selection.fromPositions(r,r);n.executeCommands("editor.action."+(i?"indent":"outdent")+"Lines",l.TypeOperations[i?"indent":"outdent"](o.context.config,this.editor.getModel(),[s]))}},{key:"setStatusBar",value:function(t){this.statusBar=t}},{key:"openDialog",value:function(t,e,i){if(this.statusBar)return this.statusBar.setSec(t,e,i)}},{key:"openNotification",value:function(t){this.statusBar&&this.statusBar.showNotification(t)}}]),S);function S(t){u(this,S),x.call(this),this.editor=t,this.state={},this.marks={},this.$uid=0,this.disposables=[],this.listeners={},this.curOp={},this.attached=!1,this.statusBar=null,this.addLocalListeners(),this.ctxInsert=this.editor.createContextKey("insertMode",!0)}C.Pos=g,C.signal=function(t,e,i){t.dispatch(e,i)},C.on=function(){},C.off=function(){},C.addClass=function(){},C.rmClass=function(){},C.defineOption=function(){},C.keyMap={default:function(){return function(t){return!0}}},C.isWordChar=function(t){return/\w/.test(t)||""<t&&(t.toUpperCase()!=t.toLowerCase()||f.test(t))},C.keyName=w,C.StringStream=m,C.e_stop=function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,C.e_preventDefault(t),!1},C.e_preventDefault=function(t){return t.preventDefault?(t.preventDefault(),t.browserEvent&&t.browserEvent.preventDefault()):t.returnValue=!1,!1},C.commands={redo:function(t){t.triggerEditorAction("redo")},undo:function(t){t.triggerEditorAction("undo")},newlineAndIndent:function(t){t.triggerEditorAction("editor.action.insertLineAfter")}},C.lookupKey=function t(e,i,n){"string"==typeof i&&(i=C.keyMap[i]);var o="function"==typeof i?i(e):i[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(i.fallthrough){if(!Array.isArray(i.fallthrough))return t(e,i.fallthrough,n);for(var r=0;r<i.fallthrough.length;r++){var s=t(e,i.fallthrough[r],n);if(s)return s}}},C.defineExtension=function(t,e){C.prototype[t]=e};var x=function(){var r=this;this.handleKeyDown=function(t){if(!(t.browserEvent.defaultPrevented&t.keyCode!==a.KeyCode.Escape)&&r.attached){var e=w(t);if(r.replaceMode&&r.handleReplaceMode(e,t),e&&C.keyMap.vim&&C.keyMap.vim.call){var i=C.keyMap.vim.call(e,r);i&&(t.preventDefault(),t.stopPropagation(),i())}}},this.handleCursorChange=function(t){var e=t.position,i=(t.source,r.editor),n=i.getSelection();if(!r.ctxInsert.get()&&"mouse"===t.source&&n.isEmpty()){var o=i.getModel().getLineMaxColumn(e.lineNumber);if(t.position.column===o)return void i.setPosition(new a.Position(t.position.lineNumber,o-1))}r.dispatch("cursorActivity",r,t)},this.handleChange=function(t){var e={text:t.changes.reduce(function(t,e){return t.push(e.text),t},[]),origin:"+input"},i=r.curOp=r.curOp||{};i.changeHandlers||(i.changeHandlers=r.listeners.change&&r.listeners.change.slice()),r.virtualSelectionMode()||(i.lastChange?i.lastChange.next=i.lastChange=e:i.lastChange=i.change=e,r.dispatch("change",r,e))}};e.default=C},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=(function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}(r,[{key:"setMode",value:function(t){"visual"!==t.mode||"linewise"!==t.subMode?this.setText("--"+t.mode.toUpperCase()+"--"):this.setText("--VISUAL LINE--")}},{key:"setKeyBuffer",value:function(t){this.keyInfoNode.textContent=t}},{key:"setSec",value:function(t,e,i){if(this.notifNode.textContent="",void 0!==t){this.setInnerHtml_(this.secInfoNode,t);var n=this.secInfoNode.querySelector("input");return n&&(n.focus(),this.input={callback:e,options:i,node:n},i&&(i.selectValueOnOpen&&n.select(),i.value&&(n.value=i.value)),this.addInputListeners()),this.closeInput}}},{key:"setText",value:function(t){this.modeInfoNode.textContent=t}},{key:"toggleVisibility",value:function(t){this.node.style.display=t?"block":"none",this.input&&this.removeInputListeners(),clearInterval(this.notifTimeout)}},{key:"addInputListeners",value:function(){var t=this.input.node;t.addEventListener("keyup",this.inputKeyUp),t.addEventListener("keydown",this.inputKeyDown),t.addEventListener("input",this.inputKeyInput),t.addEventListener("blur",this.inputBlur)}},{key:"removeInputListeners",value:function(){if(this.input&&this.input.node){var t=this.input.node;t.removeEventListener("keyup",this.inputKeyUp),t.removeEventListener("keydown",this.inputKeyDown),t.removeEventListener("input",this.inputKeyInput),t.removeEventListener("blur",this.inputBlur)}}},{key:"showNotification",value:function(t){var e=this,i=document.createElement("span");this.setInnerHtml_(i,t),this.notifNode.textContent=i.textContent,this.notifTimeout=setTimeout(function(){e.notifNode.textContent=""},5e3)}},{key:"setInnerHtml_",value:function(t,e){if(this.sanitizer){for(;t.children.length;)t.removeChild(t.children[0]);t.appendChild(this.sanitizer(e))}else t.innerHTML=e}}]),r);function r(t,e){var o=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.closeInput=function(){o.removeInputListeners(),o.input=null,o.setSec(""),o.editor&&o.editor.focus()},this.clear=function(){o.setInnerHtml_(o,"")},this.inputKeyUp=function(t){var e=o.input.options;e&&e.onKeyUp&&e.onKeyUp(t,t.target.value,o.closeInput)},this.inputBlur=function(){o.input.options.closeOnBlur&&o.closeInput()},this.inputKeyDown=function(t){var e=o.input,i=e.options,n=e.callback;i&&i.onKeyDown&&i.onKeyDown(t,t.target.value,o.closeInput)||((27===t.keyCode||i&&!1!==i.closeOnEnter&&13==t.keyCode)&&(o.input.node.blur(),t.stopPropagation(),o.closeInput()),13===t.keyCode&&n&&(t.stopPropagation(),t.preventDefault(),n(t.target.value)))},this.node=t,this.modeInfoNode=document.createElement("span"),this.secInfoNode=document.createElement("span"),this.notifNode=document.createElement("span"),this.notifNode.className="vim-notification",this.keyInfoNode=document.createElement("span"),this.keyInfoNode.setAttribute("style","float: right"),this.node.appendChild(this.modeInfoNode),this.node.appendChild(this.secInfoNode),this.node.appendChild(this.notifNode),this.node.appendChild(this.keyInfoNode),this.toggleVisibility(!1),this.editor=e,this.sanitizer=i}e.default=o},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"d"}),n.languages.setMonarchTokensProvider("d",{defaultToken:"invalid",keywords:["abstract","alias","align","asm","assert","auto","body","bool","break","byte","case","cast","catch","cdouble","cent","cfloat","char","class","const","continue","creal","dchar","debug","default","delegate","delete ","deprecated","do","double","else","enum","export","extern","false","final","finally","float","for","foreach","foreach_reverse","function","goto","idouble","if","ifloat","immutable","import","in","inout","int","interface","invariant","ireal","is","lazy","long","macro","mixin","module","new","nothrow","null","out","override","package","pragma","private","protected","public","pure","real","ref","return","scope","shared","short","static","struct","super","switch","synchronized","template","this","throw","true","try","typedef","typeid","typeof","ubyte","ucent","uint","ulong","union","unittest","ushort","version","void","volatile","wchar","while","with","__FILE__","__FILE_FULL_PATH__","__MODULE__","__LINE__","__FUNCTION__","__PRETTY_FUNCTION__","__gshared","__traits","__vector","__parameters"],typeKeywords:["bool","byte","ubyte","short","ushort","int","uint","long","ulong","char","wchar","dchar","float","double","real","ifloat","idouble","ireal","cfloat","cdouble","creal","void"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?[fFdD]?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/,"number.hex"],[/0[0-7_]*[0-7][Ll]?/,"number.octal"],[/0[bB][0-1_]*[0-1][Ll]?/,"number.binary"],[/\d+[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/`/,"string","@rawstring"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\+/,"comment","@nestingcomment"],[/\/\/.*$/,"comment"]],comment:[[/[^/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[/*]/,"comment"]],nestingcomment:[[/[^/+]+/,"comment"],[/\/\+/,"comment","@push"],[/\/\+/,"comment.invalid"],[/\+\//,"comment","@pop"],[/[/+]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],rawstring:[[/[^`]/,"string"],[/`/,"string","@pop"]]}}),n.languages.setLanguageConfiguration("d",{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"`",close:"`",notIn:["string"]},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"`",close:"`"},{open:'"',close:'"'},{open:"'",close:"'"}]})},function(t,e,i){"use strict";var n,o=i(43),r=i(59),s=i(144);r.languages.register({id:"ispc"}),r.languages.setLanguageConfiguration("ispc",s.conf),r.languages.setMonarchTokensProvider("ispc",((n=o.extend(!0,{},s.language)).tokenPostfix=".ispc",n.keywords.push("cbreak","ccontinue","cdo","cfor","cif","creturn","cwhile","delete","export","foreach","foreach_active","foreach_tiled","foreach_unique","int16","int32","int64","int8","launch","new","operator","programCount","programIndex","reference","soa","sync","task","taskCount","taskCount0","taskCount1","taskCount2","taskIndex","taskIndex0","taskIndex1","taskIndex2","threadCount","threadIndex","uniform","unmasked","varying"),n))},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"llvm-ir"}),n.languages.setMonarchTokensProvider("llvm-ir",{types:["void","half","float","double","x86_fp80","fp128","ppc_fp128","label","metadata","x86_mmx","type","label","opaque","token"],statements:["add","addrspacecast","alloca","and","arcp","ashr","atomicrmw","bitcast","br","catchpad","catchswitch","catchret","call","cleanuppad","cleanupret","cmpxchg","eq","exact","extractelement","extractvalue","fadd","fast","fcmp","fdiv","fence","fmul","fpext","fptosi","fptoui","fptrunc","free","frem","fsub","getelementptr","icmp","inbounds","indirectbr","insertelement","insertvalue","inttoptr","invoke","landingpad","load","lshr","malloc","max","min","mul","nand","ne","ninf","nnan","nsw","nsz","nuw","oeq","oge","ogt","ole","olt","one","or","ord","phi","ptrtoint","resume","ret","sdiv","select","sext","sge","sgt","shl","shufflevector","sitofp","sle","slt","srem","store","sub","switch","trunc","udiv","ueq","uge","ugt","uitofp","ule","ult","umax","umin","une","uno","unreachable","unwind","urem","va_arg","xchg","xor","zext"],keywords:["acq_rel","acquire","addrspace","alias","align","alignstack","alwaysinline","appending","argmemonly","arm_aapcscc","arm_aapcs_vfpcc","arm_apcscc","asm","atomic","available_externally","blockaddress","builtin","byval","c","catch","caller","cc","ccc","cleanup","coldcc","comdat","common","constant","datalayout","declare","default","define","deplibs","dereferenceable","distinct","dllexport","dllimport","dso_local","dso_preemptable","except","external","externally_initialized","extern_weak","fastcc","filter","from","gc","global","hhvmcc","hhvm_ccc","hidden","initialexec","inlinehint","inreg","inteldialect","intel_ocl_bicc","internal","linkonce","linkonce_odr","localdynamic","localexec","local_unnamed_addr","minsize","module","monotonic","msp430_intrcc","musttail","naked","nest","noalias","nobuiltin","nocapture","noimplicitfloat","noinline","nonlazybind","nonnull","norecurse","noredzone","noreturn","nounwind","optnone","optsize","personality","private","protected","ptx_device","ptx_kernel","readnone","readonly","release","returned","returns_twice","sanitize_address","sanitize_memory","sanitize_thread","section","seq_cst","sideeffect","signext","syncscope","source_filename","speculatable","spir_func","spir_kernel","sret","ssp","sspreq","sspstrong","strictfp","swiftcc","tail","target","thread_local","to","triple","unnamed_addr","unordered","uselistorder","uselistorder_bb","uwtable","volatile","weak","weak_odr","within","writeonly","x86_64_sysvcc","win64cc","x86_fastcallcc","x86_stdcallcc","x86_thiscallcc","zeroext"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[,(){}<>[\]]/,"delimiters"],[/i\d+\**/,"type"],[/[%@!]\d+/,"variable.name"],[/-?\d+\.\d*(e[+-]\d+)?/,"number.float"],[/0[xX][0-9A-Fa-f]+/,"number.hex"],[/-?\d+/,"number"],[/\b(true|false)\b/,"keyword"],[/\b(zeroinitializer|undef|null|none)\b/,"constant"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/[-a-zA-Z$._][-a-zA-Z$._0-9]*:/,"tag"],[/[%@][-a-zA-Z$._][-a-zA-Z$._0-9]*/,"variable.name"],[/![-a-zA-Z$._][-a-zA-Z$._0-9]*(?=\s*)$/,"identifier"],[/![-a-zA-Z$._][-a-zA-Z$._0-9]*(?=\s*[=!])/,"identifier"],[/![A-Za-z]+(?=\s*\()/,"type"],[/\bDW_TAG_[a-z_]+\b/,"constant"],[/\bDW_ATE_[a-zA-Z_]+\b/,"constant"],[/\bDW_OP_[a-zA-Z0-9_]+\b/,"constant"],[/\bDW_LANG_[a-zA-Z0-9_]+\b/,"constant"],[/\bDW_VIRTUALITY_[a-z_]+\b/,"constant"],[/\bDIFlag[A-Za-z]+\b/,"constant"],[/;\s*PR\d*\s*$/,"comment.doc"],[/;\s*REQUIRES:.*$/,"comment.doc"],[/;\s*RUN:.*$/,"comment.doc"],[/;\s*CHECK:.*$/,"comment.doc"],[/;\s*CHECK-(?:NEXT|NOT|DAG|SAME|LABEL):.*$/,"comment.doc"],[/;\s*XFAIL:.*$/,"comment.doc"],[/;.*$/,"comment"],[/[*#=!]/,"operators"],[/[a-z_$][\w$]*/,{cases:{"@statements":"operators","@keywords":"keyword","@types":"type","@default":"identifier"}}],[/[ \t\r\n]+/,"white"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}})},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"haskell"}),n.languages.setMonarchTokensProvider("haskell",{keywords:["module","import","main","where","otherwise","newtype","definition","implementation","from","class","instance","abort"],builtintypes:["Int","Real","String"],operators:["=","==",">=","<=","+","-","*","/","::","->","=:","=>","|","$"],numbers:/-?[0-9.]/,tokenizer:{root:[{include:"@whitespace"},[/->/,"operators"],[/\|/,"operators"],[/(\w*)(\s?)(::)/,["keyword","white","operators"]],[/[+\-*/=<>$]/,"operators"],[/[a-zA-Z_][a-zA-Z0-9_]*/,{cases:{"@builtintypes":"type","@keywords":"keyword","@default":""}}],[/[()[\],:]/,"delimiter"],[/@numbers/,"number"],[/(")(.*)(")/,["string","string","string"]]],comment:[[/[^/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[/*]/,"comment"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/--.*$/,"comment"]]}})},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"ocaml"}),n.languages.setMonarchTokensProvider("ocaml",{keywords:["and","as","assert","asr","begin","class","constraint","do","done","downto","else","end","exception","external","false","for","fun","function","functor","if","in","include","inherit","initializer","land","lazy","let","lor","lsl","lsr","lxor","match","method","mod","module","mutable","new","nonrec","object","of","open","or","private","rec","sig","struct","then","to","true","try","type","val","virtual","when","while","with"],typeKeywords:["int","int32","int64","bool","char","unit"],numbers:/-?[0-9.]/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/@numbers/,"number"],[/[+\-*/=<>$@]/,"operators"],[/(")(.*)(")/,["string","string","string"]]],comment:[[/[^(*]+/,"comment"],[/\*\)/,"comment","@pop"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\(\*/,"comment","@comment"]]}})},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"clean"}),n.languages.setMonarchTokensProvider("clean",{keywords:["module","import","Start","where","otherwise","definition","implementation","from","class","instance","abort","infix","infixl","infixr","if","True","False"],builtintypes:["Int","Real","String","Char","Complex","Bool"],operators:["=","==",">=","<=","+","-","*","/","::",":==","->","=:","=>","|","\\\\"],numbers:/-?[0-9.]/,tokenizer:{root:[{include:"@whitespace"},[/->/,"operators"],[/\|/,"operators"],[/(\w*)(\s?)(::)/,["keyword","white","operators"]],[/[+\-*/=<>\\]/,"operators"],[/[a-zA-Z_][a-zA-Z0-9_]*/,{cases:{"@builtintypes":"type","@keywords":"keyword","@default":""}}],[/[()[\],:]/,"delimiter"],[/@numbers/,"number"],[/(")(.*)(")/,["string","string","string"]]],comment:[[/[^/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[/*]/,"comment"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}})},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"pascal"}),n.languages.setMonarchTokensProvider("pascal",{keywords:["unit","interface","implementation","uses","initialization","finalization","function","procedure","const","begin","end","not","while","as","for","with","else","if","break","except","on","class","exec","in","throw","continue","finally","is","for","try","then","do",":","=","var","strict","private","protected","public","published","type"],operators:["+","-","*","/","div","mod","shl","shr","and","or","xor","not","<",">","<=",">=","==","<>","+=","-=","*=","/="],brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"]],symbols:/[=><!~&|+\-*/^%]+/,delimiters:/[;=.@:,`]/,escapes:/\\(?:[abfnrtv\\'\n\r]|x[0-9A-Fa-f]{2}|[0-7]{3}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}|N\{\w+\})/,rawpre:/(?:[rR]|ur|Ur|uR|UR|br|Br|bR|BR)/,strpre:/(?:[buBU])/,tokenizer:{root:[{include:"@comment"},[/@strpre?(''')/,{token:"string.delim",bracket:"@open",next:"@mstring.$1"}],[/@strpre?'([^'\\]|\\.)*$/,"string.invalid"],[/@strpre?(['])/,{token:"string.delim",bracket:"@open",next:"@string.$1"}],[/@rawpre(''')/,{token:"string.delim",bracket:"@open",next:"@mrawstring.$1"}],[/@rawpre'([^'\\]|\\.)*$/,"string.invalid"],[/@rawpre(['])/,{token:"string.delim",bracket:"@open",next:"@rawstring.$1"}],[/__[\w$]*/,"predefined"],[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w]*/,{cases:{"~[A-Z0-9_]+":"constructor.identifier","@default":"namespace.identifier"}}],{include:"@whitespace"},[/[()[\]]/,"@brackets"],[/@symbols/,{cases:{"@keywords":"keyword","@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/#$[0-9a-fA-F]+[lL]?/,"number.hexchar"],[/#[bB][0-1]+[lL]?/,"number.char"],[/(0|[1-9]\d*)[lL]?/,"number"],[":",{token:"keyword",bracket:"@open"}],[/@delimiters/,{cases:{"@keywords":"keyword","@default":"delimiter"}}]],comment:[[/\/\/.*/,"comment"],[/\(\*.*/,"comment","@push"],[/\{.*$/,"comment","@push"],[/.*\}/,"comment","@pop"],[/.*\*\)/,"comment","@pop"]],mstring:[{include:"@strcontent"},[/'''/,{cases:{"$#==$S2":{token:"string.delim",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/["']/,"string"],[/./,"string.invalid"]],string:[{include:"@strcontent"},[/[']/,{cases:{"$#==$S2":{token:"string.delim",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/./,"string.invalid"]],strcontent:[[/[^\\']+/,"string"],[/\\$/,"string.escape"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"]],mrawstring:[{include:"@rawstrcontent"},[/'''/,{cases:{"$#==$S2":{token:"string.delim",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/["']/,"string"],[/./,"string.invalid"]],rawstring:[{include:"@rawstrcontent"},[/[']/,{cases:{"$#==$S2":{token:"string.delim",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/./,"string.invalid"]],rawstrcontent:[[/[^\\']+/,"string"],[/\\[']/,"string"],[/\\/,"string"]],whitespace:[[/[ \t\r\n]+/,"white"]]}})},function(t,e,i){"use strict";var n,o=i(43),r=i(59),s=i(144),a=i(240);r.languages.register({id:"cuda"}),r.languages.setLanguageConfiguration("cuda",s.conf),r.languages.setMonarchTokensProvider("cuda",((n=o.extend(!0,{},a)).tokenPostfix=".cu",function(t){for(var e=0;e<t.length;++e)n.keywords.push(t[e])}(["__host__","__global__","__device__"]),n))},function(t,e,i){"use strict";var n=i(59);var o={ignoreCase:!0,defaultToken:"invalid",keywords:["abstract","all","allocatable","allocate","assign","assignment","asynchronous","backspace","bind","block","blockdata","character","close","common","complex","concurrent","contiguous","call","case","class","codimension","contains","continue","cycle","data","deallocate","deferred","dimension","do","double","doubleprecision","elemental","else","elsewhere","end","endblock","endblockdata","enddo","endenum","endfile","endforall","endfunction","endif","endinterface","endmodule","endprogram","endselect","endsubmodule","endsubroutine","endtype","endwhere","endwhile","entry","enum","enumerator","equivalence","error","exit","external","final","flush","forall","format","function","generic","go","goto","if","implicit","import","in","include","inout","inquire","intent","interface","intrinsic","is","logical","module","non_overridable","none","nopass","nullify","only","open","operator","optional","out","parameter","pass","pause","pointer","precision","print","private","procedure","program","protected","public","pure","read","real","recursive","result","return","rewind","save","select","sequence","stop","submodule","subroutine","target","then","to","type","use","value","volatile","wait","where","while","write"],typeKeywords:["logical","character","real","integer","complex","type","class","intent","dimension","allocatable","parameter","private","public"],operators:["=","==","/=",">",">=","<","<=","=>","+","-","*","/","**","//",".and.",".eq.",".eqv.",".le.",".lt.",".ge.",".gt.",".ne.",".neqv.",".not.",".or."],functions:["abs","achar","acos","acosh","adjustl","adjustr","aimag","aint","all","allocated","anint","any","asin","asinh","associated","atan","atan2","atanh","bessel_j0","bessel_j1","bessel_jn","bessel_y0","bessel_y1","bessel_yn","bge","bgt","bit_size","ble","blt","btest","c_associated","c_funloc","c_loc","c_sizeof","ceiling","char","cmplx","command_argument_count","compiler_options","compiler_version","conjg","cos","cosh","count","cshift","dble","digits","dim","dot_product","dprod","dshiftl","dshiftr","eoshift","epsilon","erf","erfc","erfc_scaled","exp","exponent","extends_type_of","findloc","floor","fraction","gamma","huge","hypot","iachar","iall","iand","iany","ibclr","ibits","ibset","ichar","ieee_class","ieee_copy_sign","ieee_is_finite","ieee_is_nan","ieee_is_normal","ieee_logb","ieee_next_after","ieee_rem","ieee_rint","ieee_scalb","ieee_selected_real_kind","ieee_support_datatype","ieee_support_denormal","ieee_support_divide","ieee_support_flag","ieee_support_halting","ieee_support_inf","ieee_support_io","ieee_support_nan","ieee_support_rounding","ieee_support_sqrt","ieee_support_standard","ieee_support_underflow_control","ieee_unordered","ieee_value","ieor","image_index","index","int","ior","iparity","ishft","ishftc","is_contiguous","is_iostat_end","is_iostat_eor","kind","lbound","lcobound","leadz","len","len_trim","lge","lgt","lle","llt","log","log_gamma","log10","logical","maskl","maskr","matmul","max","maxexponent","maxloc","maxval","merge","merge_bits","min","minexponent","minloc","minval","mod","modulo","nearest","new_line","nint","norm2","not","null","num_images","pack","parity","popcnt","poppar","precision","present","product","radix","range","real","repeat","reshape","rrspacing","same_type_as","scale","scan","selected_char_kind","selected_int_kind","selected_real_kind","set_exponent","shape","shifta","shiftl","shiftr","sign","sin","sinh","size","spacing","spread","sqrt","storage_size","sum","tan","tanh","this_image","tiny","trailz","transfer","transpose","trim","ubound","ucobound","unpack","verify"],subroutines:["c_f_pointer","c_f_procpointer","cpu_time","date_and_time","execute_command_line","get_command","get_command_argument","get_environment_variable","ieee_get_flag","ieee_get_halting_mode","ieee_get_rounding_mode","ieee_get_status","ieee_get_underflow_mode","ieee_set_flag","ieee_set_halting_mode","ieee_set_rounding_mode","ieee_set_status","ieee_set_underflow_mode","move_alloc","mvbits","random_number","random_seed","system_clock"],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z][\w$]*(?=.*(::|function))/,{cases:{"@typeKeywords":"type.identifier","@keywords":"keyword","@default":"identifier"}}],[/[a-zA-Z][\w$]*/,{cases:{"@keywords":"keyword","@functions":"keyword","@subroutines":"keyword","@default":"identifier"}}],[/!.*$/,"comment"],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eEdD][-+]?\d+)?/,"number.float"],[/[zZ]['"][0-9a-fA-F]*[0-9a-fA-F]['"]/,"number.hex"],[/[oO]['"][0-7]*[0-7]['"]/,"number.octal"],[/[bB]['"][0-1]*[0-1]['"]/,"number.binary"],[/\d/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,"white"]],comment:[[/!/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}};n.languages.register({id:"fortran"}),n.languages.setMonarchTokensProvider("fortran",o),n.languages.setLanguageConfiguration("fortran",{comments:{lineComment:"!"},brackets:[["(/","/)"],["[","]"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"(",close:")"},{open:"`",close:"`",notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"[",close:"]"},{open:"(",close:")"},{open:"`",close:"`"},{open:"'",close:"'"},{open:'"',close:'"'}],indentationRules:{decreaseIndentPattern:/(end\s*(do|if|function|subroutine|program|module|block|associate|forall|select))|else|(^((?!select).)*(case))/,increaseIndentPattern:/(^((?!end).)*(do\s|if(\s|\().*then|function\s|subroutine\s|program\s|module\s|block\s*|associate(\s|\()|forall|case)|else)/,unIndentedLinePattern:null}}),t.exports=o},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"zig"}),n.languages.setMonarchTokensProvider("zig",{defaultToken:"invalid",keywords:["const","var","extern","packed","export","pub","noalias","inline","comptime","nakedcc","stdcallcc","volatile","align","section","linksection","struct","enum","union","break","return","continue","asm","defer","errdefer","unreachable","try","catch","async","await","suspend","resume","cancel","if","else","switch","and","or","orelse","while","for","null","undefined","fn","usingnamespace","use","test","this"],typeKeywords:["bool","f32","f64","f128","void","noreturn","type","error","anyerror","promise","anyframe","isize","usize","c_short","c_ushort","c_int","c_uint","c_long","c_ulong","c_longlong","c_ulonglong","c_longdouble","c_void"],operators:["+","+%","-","-%","/","*","*%","=","^","&","?","|","!",">","<","%","<<","<<%",">>","+=","+%=","-=","-%=","/=","*=","*%=","==","^=","&=","?=","|=","!=",">=","<=","%=","<<=","<<%=",">>="],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[iu]\d+/,"keyword"],[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/@[a-zA-Z_$]*/,"builtin.identifier"],[/[A-Z][\w$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?[fFdD]?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/,"number.hex"],[/0o[0-7_]*[0-7][Ll]?/,"number.octal"],[/0[bB][0-1_]*[0-1][Ll]?/,"number.binary"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/c?\\\\.*$/,"string"],[/c?"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\+/,"comment","@comment"],[/\/\/.*$/,"comment"],[/\t/,"comment.invalid"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment.invalid"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}})},function(t,e,i){"use strict";var n=i(43),o=i(59),r=i(144);var s,a=((s=n.extend(!0,{},r.language)).keywords=["auto","break","case","char","const","continue","default","do","double","else","enum","extern","float","for","goto","if","inline","int","long","register","restrict","return","short","signed","sizeof","static","struct","switch","typedef","union","unsigned","void","volatile","while","_Alignas","_Alignof","_Atomic","_Bool","_Complex","_Generic","_Imaginary","_Noreturn","_Static_assert","_Thread_local"],s);o.languages.register({id:"nc"}),o.languages.setLanguageConfiguration("nc",r.conf),o.languages.setMonarchTokensProvider("nc",a),t.exports=a},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"ada"}),n.languages.setMonarchTokensProvider("ada",{keywords:["abort","else","new","return","elsif","reverse","abstract","end","null","accept","entry","select","access","exception","of","separate","aliased","exit","some","all","others","subtype","for","out","synchronized","array","function","overriding","at","tagged","generic","package","task","begin","goto","pragma","terminate","body","private","then","if","procedure","type","case","in","protected","constant","interface","until","is","raise","use","declare","range","delay","limited","record","when","delta","loop","while","digits","renames","with","do","requeue","rem","mod","abs","not","and","or","xor"],standardTypes:["Boolean","Integer","Natural","Positive ","Float","Character","Wide_Character","Wide_Wide_Character","String","Wide_String","Wide_Wide_String","Duration","Constraint_Error","Program_Error","Storage_Error","Tasking_Error"],operators:["+","-","*","/","div","mod","shl","shr","and","or","xor","not","<",">","<=",">=","==","<>","+=","-=","*=","/="],brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"]],symbols:/[=><!~&|+\-*/^]+/,delimiters:/[;=.:,`]/,escapes:/\\(?:[abfnrtv\\'\n\r]|x[0-9A-Fa-f]{2}|[0-7]{3}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}|N\{\w+\})/,tokenizer:{root:[[/[a-zA-Z_][a-zA-Z0-9_]*/,{cases:{"@standardTypes":"type","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[()[\]]/,"@brackets"],[/[0-9_.]+(E[+-]?\d+)?/,"number.float"],[/[0-9]+#[0-9A-Fa-f_.]+#(E[+-]?\d+)?/,"number.hex"],[/@delimiters/,{cases:{"@keywords":"keyword","@default":"delimiter"}}],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,"white"],[/--.*$/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}})},function(n,o,r){(function(e){var t,i;void 0===(i="function"==typeof(t=function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=a(String(t||"").toLowerCase()))||!t.length)return[];var e,i,n,o,r=[],s=t.split(/ +/);for(e=0,i=s.length;e<i;e++){if(n=l(s[e]),this.settings.diacritics)for(o in u)u.hasOwnProperty(o)&&(n=n.replace(new RegExp(o,"g"),u[o]));r.push({string:s[e],regex:new RegExp(n,"i")})}return r},t.prototype.iterator=function(t,e){(s(t)?Array.prototype.forEach||function(t){for(var e=0,i=this.length;e<i;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var r,o,s,a;t=this.prepareSearch(t,e),o=t.tokens,r=t.options.fields,s=o.length,a=t.options.nesting;var l=function(t,e){var i,n;return t?(t=String(t||""),-1===(n=t.search(e.regex))?0:(i=e.string.length/t.length,0===n&&(i+=.5),i)):0},u=function(){var o=r.length;return o?1===o?function(t,e){return l(f(e,r[0],a),t)}:function(t,e){for(var i=0,n=0;i<o;i++)n+=l(f(e,r[i],a),t);return n/o}:function(){return 0}}();return s?1===s?function(t){return u(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,i=0,n=0;i<s;i++){if((e=u(o[i],t))<=0)return 0;n+=e}return n/s}:function(t){for(var e=0,i=0;e<s;e++)i+=u(o[e],t);return i/s}:function(){return 0}},t.prototype.getSortFunction=function(t,i){var e,n,o,r,s,a,l,u,h,c,d;if(t=(o=this).prepareSearch(t,i),d=!t.query&&i.sort_empty||i.sort,h=function(t,e){return"$score"===t?e.score:f(o.items[e.id],t,i.nesting)},s=[],d)for(e=0,n=d.length;e<n;e++)!t.query&&"$score"===d[e].field||s.push(d[e]);if(t.query){for(c=!0,e=0,n=s.length;e<n;e++)if("$score"===s[e].field){c=!1;break}c&&s.unshift({field:"$score",direction:"desc"})}else for(e=0,n=s.length;e<n;e++)if("$score"===s[e].field){s.splice(e,1);break}for(u=[],e=0,n=s.length;e<n;e++)u.push("desc"===s[e].direction?-1:1);return(a=s.length)?1===a?(r=s[0].field,l=u[0],function(t,e){return l*p(h(r,t),h(r,e))}):function(t,e){var i,n,o;for(i=0;i<a;i++)if(o=s[i].field,n=u[i]*p(h(o,t),h(o,e)))return n;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var i=(e=r({},e)).fields,n=e.sort,o=e.sort_empty;return i&&!s(i)&&(e.fields=[i]),n&&!s(n)&&(e.sort=[n]),o&&!s(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,i){var n,o,e,r;return o=this.prepareSearch(t,i),i=o.options,t=o.query,r=i.score||this.getScoreFunction(o),t.length?this.iterator(this.items,function(t,e){n=r(t),(!1===i.filter||0<n)&&o.items.push({score:n,id:e})}):this.iterator(this.items,function(t,e){o.items.push({score:1,id:e})}),(e=this.getSortFunction(o,i))&&o.items.sort(e),o.total=o.items.length,"number"==typeof i.limit&&(o.items=o.items.slice(0,i.limit)),o};var p=function(t,e){return"number"==typeof t&&"number"==typeof e?e<t?1:t<e?-1:0:(t=i(String(t||"")),(e=i(String(e||"")))<t?1:t<e?-1:0)},r=function(t,e){var i,n,o,r;for(i=1,n=arguments.length;i<n;i++)if(r=arguments[i])for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t},f=function(t,e,i){if(t&&e){if(!i)return t[e];for(var n=e.split(".");n.length&&(t=t[n.shift()]););return t}},a=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},l=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||void 0!==e&&e.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},i=function(){var t,e,i,n,o="",r={};for(i in u)if(u.hasOwnProperty(i))for(n=u[i].substring(2,u[i].length-1),o+=n,t=0,e=n.length;t<e;t++)r[n.charAt(t)]=i;var s=new RegExp("["+o+"]","g");return function(t){return t.replace(s,function(t){return r[t]}).toLowerCase()}}();return t})?t.call(o,r,o,n):t)||(n.exports=i)}).call(this,r(43))},function(t,e,i){var n,o;void 0===(o="function"==typeof(n=function(){var t={};t.mixin=function(n){n.plugins={},n.prototype.initializePlugins=function(t){var e,i,n,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},r.isArray(t))for(e=0,i=t.length;e<i;e++)"string"==typeof t[e]?o.push(t[e]):(this.plugins.settings[t[e].name]=t[e].options,o.push(t[e].name));else if(t)for(n in t)t.hasOwnProperty(n)&&(this.plugins.settings[n]=t[n],o.push(n));for(;o.length;)this.require(o.shift())},n.prototype.loadPlugin=function(t){var e=this.plugins,i=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');e.requested[t]=!0,e.loaded[t]=i.fn.apply(this,[this.plugins.settings[t]||{}]),e.names.push(t)},n.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},n.define=function(t,e){n.plugins[t]={name:t,fn:e}}};var r={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t})?n.call(e,i,e,t):n)||(t.exports=o)},function(t,e,i){"use strict";var p=i(43),f=i(58),g=i(78),o=i(176),n=i(145),r=i(115),s=i(177).Promise,u=i(135),a=i(241),l=i(102),h=i(59),c=i(162),d=i(362),m=i(163),v=i(210);i(164),i(242),i(124);var y=new a({max:65536,length:function(t){return JSON.stringify(t).length}});var _=l.languages;function b(t,e,i){this.container=e,this.hub=t,this.eventHub=t.createEventHub(),this.compilerService=t.compilerService,this.domRoot=e.getElement(),this.domRoot.html(p("#compiler").html()),this.id=i.id||t.nextCompilerId(),this.sourceEditorId=i.source||1,this.settings=JSON.parse(m.get("settings","{}")),this.originalCompilerId=i.compiler,this.initLangAndCompiler(i),this.infoByLang={},this.deferCompiles=t.deferred,this.needsCompile=!1,this.options=i.options||l.compileOptions[this.currentLangId],this.source="",this.assembly=[],this.colours=[],this.lastResult={},this.pendingRequestSentAt=0,this.nextRequest=null,this.optViewOpen=!1,this.cfgViewOpen=!1,this.wantOptInfo=i.wantOptInfo,this.decorations={},this.prevDecorations=[],this.alertSystem=new c,this.alertSystem.prefixMessage="Compiler #"+this.id+": ",this.linkedFadeTimeoutId=-1,this.toolsMenu=null,this.initButtons(i),this.outputEditor=h.editor.create(this.monacoPlaceholder[0],{scrollBeyondLastLine:!1,readOnly:!0,language:_[this.currentLangId].monacoDisassembly||"asm",fontFamily:this.settings.editorsFFont,glyphMargin:!l.embedded,fixedOverflowWidgets:!0,minimap:{maxColumn:80},lineNumbersMinChars:l.embedded?1:5,renderIndentGuides:!1}),this.codeLensProvider=null,this.fontScale=new r(this.domRoot,i,this.outputEditor),this.compilerPicker.selectize({sortField:this.compilerService.getSelectizerOrder(),valueField:"id",labelField:"name",searchField:["name"],optgroupField:"group",optgroups:this.compilerService.getGroupsInUse(this.currentLangId),lockOptgroupOrder:!0,options:f.map(this.getCurrentLangCompilers(),f.identity),items:this.compiler?[this.compiler.id]:[],dropdownParent:"body",closeAfterSelect:!0}).on("change",f.bind(function(t){var e=p(t.target).val();e&&(g.proxy("send",{hitType:"event",eventCategory:"SelectCompiler",eventAction:e}),this.onCompilerChange(e))},this)),this.compilerSelectizer=this.compilerPicker[0].selectize,this.initLibraries(i),this.initEditorActions(),this.initCallbacks(),this.onSettingsChange(this.settings),this.sendCompiler(),this.updateCompilerInfo(),this.updateButtons(),this.saveState(),g.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Compiler"})}function w(t){return{asm:C(t),code:-1,stdout:"",stderr:""}}function C(t){return[{text:t,source:null,fake:!0}]}b.prototype.initLangAndCompiler=function(t){var e=t.lang,i=t.compiler,n=this.compilerService.processFromLangAndCompiler(e,i);this.compiler=n.compiler,this.currentLangId=n.langId,this.updateLibraries()},b.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("compilerClose",this.id),this.outputEditor.dispose()},b.prototype.initPanerButtons=function(){var t=f.bind(function(){return u.getOutput(this.id,this.sourceEditorId)},this);this.container.layoutManager.createDragSource(this.outputBtn,t),this.outputBtn.click(f.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(t)},this));function e(){l.dropdown("toggle")}var i=f.bind(function(){return{type:"component",componentName:"compiler",componentState:this.currentState()}},this),n=f.bind(function(){return u.getOptViewWith(this.id,this.source,this.lastResult.optOutput,this.getCompilerName(),this.sourceEditorId)},this),o=f.bind(function(){return u.getAstViewWith(this.id,this.source,this.lastResult.astOutput,this.getCompilerName(),this.sourceEditorId)},this),r=f.bind(function(){return u.getIrViewWith(this.id,this.source,this.lastResult.irOutput,this.getCompilerName(),this.sourceEditorId)},this),s=f.bind(function(){return u.getGccDumpViewWith(this.id,this.getCompilerName(),this.sourceEditorId,this.lastResult.gccDumpOutput)},this),a=f.bind(function(){return u.getCfgViewWith(this.id,this.sourceEditorId)},this),l=this.domRoot.find(".pane-dropdown");this.container.layoutManager.createDragSource(this.domRoot.find(".btn.add-compiler"),i)._dragListener.on("dragStart",e),this.domRoot.find(".btn.add-compiler").click(f.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(i)},this)),this.container.layoutManager.createDragSource(this.optButton,n)._dragListener.on("dragStart",e),this.optButton.click(f.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(n)},this)),this.container.layoutManager.createDragSource(this.astButton,o)._dragListener.on("dragStart",e),this.astButton.click(f.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(o)},this)),this.container.layoutManager.createDragSource(this.irButton,r)._dragListener.on("dragStart",e),this.irButton.click(f.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(r)},this)),this.container.layoutManager.createDragSource(this.gccDumpButton,s)._dragListener.on("dragStart",e),this.gccDumpButton.click(f.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(s)},this)),this.container.layoutManager.createDragSource(this.cfgButton,a)._dragListener.on("dragStart",e),this.cfgButton.click(f.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(a)},this)),this.initToolButtons(e)},b.prototype.undefer=function(){this.deferCompiles=!1,this.needsCompile&&this.compile()},b.prototype.updateAndCalcTopBarHeight=function(){this.hideable.show();var t=this.topBar.outerHeight(!0);this.hideable.hide();var e=this.topBar.outerHeight(!0),i=e;return e===t&&this.hideable.show(),i},b.prototype.resize=function(){var t=this.updateAndCalcTopBarHeight(),e=this.bottomBar.outerHeight(!0);this.outputEditor.layout({width:this.domRoot.width(),height:this.domRoot.height()-t-e})},b.prototype.initEditorActions=function(){this.outputEditor.addAction({id:"viewsource",label:"Scroll to source",keybindings:[h.KeyMod.CtrlCmd|h.KeyCode.F10],keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:f.bind(function(t){var e=t.getPosition().lineNumber-1,i=this.assembly[e].source;null!==i&&null===i.file&&this.eventHub.emit("editorLinkLine",this.sourceEditorId,i.line,-1,!0)},this)}),this.outputEditor.addAction({id:"viewasmdoc",label:"View x86-64 opcode doc",keybindings:[h.KeyMod.CtrlCmd|h.KeyCode.F8],keybindingContext:null,contextMenuGroupId:"help",contextMenuOrder:1.5,run:f.bind(this.onAsmToolTip,this)}),this.outputEditor.addAction({id:"toggleColourisation",label:"Toggle colourisation",keybindings:[h.KeyMod.CtrlCmd|h.KeyMod.Shift|h.KeyCode.F1],keybindingContext:null,run:f.bind(function(){this.eventHub.emit("modifySettings",{colouriseAsm:!this.settings.colouriseAsm})},this)})},b.prototype.getEffectiveFilters=function(){if(!this.compiler)return{};var e=this.filters.get();return e.binary&&!this.compiler.supportsBinary&&delete e.binary,e.execute&&!this.compiler.supportsExecute&&delete e.execute,e.libraryCode&&!this.compiler.supportsLibraryCodeFilter&&delete e.libraryCode,f.each(this.compiler.disabledFilters,function(t){e[t]&&delete e[t]}),e},b.prototype.findTools=function(t,e){return"tool"===t.componentName?t.componentState.editor===this.sourceEditorId&&t.componentState.compiler===this.id&&e.push({id:t.componentState.toolId,args:t.componentState.args,stdin:t.componentState.stdin}):t.content&&f.each(t.content,function(t){e=this.findTools(t,e)},this),e},b.prototype.getActiveTools=function(t){if(!this.compiler)return{};var e=[];if(t&&e.push({id:t.toolId,args:t.args,stdin:t.stdin}),this.container.layoutManager.isInitialised){var i=this.container.layoutManager.toConfig();return this.findTools(i,e)}return e},b.prototype.isToolActive=function(t,e){return f.find(t,function(t){return t.id===e})},b.prototype.compile=function(i,t){if(this.deferCompiles)this.needsCompile=!0;else{this.needsCompile=!1,this.compileTimeLabel.text(" - Compiling...");var n={userArguments:this.options,compilerOptions:{produceAst:this.astViewOpen,produceGccDump:{opened:this.gccDumpViewOpen,pass:this.gccDumpPassSelected,treeDump:this.treeDumpEnabled,rtlDump:this.rtlDumpEnabled},produceOptInfo:this.wantOptInfo,produceCfg:this.cfgViewOpen,produceIr:this.irViewOpen},filters:this.getEffectiveFilters(),tools:this.getActiveTools(t),libraries:[]};f.each(this.libsWidget.getLibsInUse(),function(t){n.libraries.push({id:t.libId,version:t.versionId})}),this.compilerService.expand(this.source).then(f.bind(function(t){var e={source:t||"",compiler:this.compiler?this.compiler.id:"",options:n,lang:this.currentLangId};i&&(e.bypassCache=!0),this.compiler?this.sendCompile(e):this.onCompileResponse(e,w("<Please select a compiler>"),!1)},this))}},b.prototype.sendCompile=function(i){var n=f.bind(this.onCompileResponse,this);if(this.pendingRequestSentAt)this.nextRequest=i;else{this.eventHub.emit("compiling",this.id,this.compiler),this.handleCompilationStatus({code:4}),this.pendingRequestSentAt=Date.now();var o=setTimeout(f.bind(function(){this.setAssembly(C("<Compiling...>"))},this),500);this.compilerService.submit(i).then(function(t){clearTimeout(o),n(i,t.result,t.localCacheHit)}).catch(function(t){clearTimeout(o);var e="Unknown error";f.isString(t)?e=t:t&&(e=t.error||t.code),n(i,w("<Compilation failed: "+e+">"),!1)})}},b.prototype.setNormalMargin=function(){this.outputEditor.updateOptions({lineNumbers:!0})},b.prototype.setBinaryMargin=function(){this.outputEditor.updateOptions({lineNumbers:f.bind(this.getBinaryForLine,this)})},b.prototype.getBinaryForLine=function(t){var e=this.assembly[t-1];return e?e.address?e.address.toString(16):"":"???"},b.prototype.setAssembly=function(t){if(this.assembly=t,this.outputEditor&&this.outputEditor.getModel()){var e=this.outputEditor.getModel(),i=this.outputEditor.getVisibleRanges(),n=0<i.length?i[0].startLineNumber:1;if(e.setValue(t.length?f.pluck(t,"text").join("\n"):"<No assembly generated>"),this.outputEditor.revealLine(n),this.getEffectiveFilters().binary){this.setBinaryMargin(),null!==this.codeLensProvider&&this.codeLensProvider.dispose();var o=[];f.each(this.assembly,f.bind(function(t,e){if(t.opcodes){var i=t.address?t.address.toString(16):"";o.push({range:{startLineNumber:e+1,startColumn:1,endLineNumber:e+2,endColumn:1},id:i,command:{title:t.opcodes.join(" ")}})}},this));var r=e.getModeId();this.codeLensProvider=h.languages.registerCodeLensProvider(r,{provideCodeLenses:function(t){return t===e?o:[]}})}else this.setNormalMargin(),null!==this.codeLensProvider&&this.codeLensProvider.dispose()}},b.prototype.onCompileResponse=function(t,e,i){if(p.isArray(e.asm)){var n=f.findLastIndex(e.asm,function(t){return!f.isEmpty(t.text)});e.asm.splice(n+1,e.asm.length-n)}e.source=this.source,this.lastResult=e;var o=Math.max(0,Date.now()-this.pendingRequestSentAt),r=0<this.pendingRequestSentAt;this.pendingRequestSentAt=0,g.proxy("send",{hitType:"event",eventCategory:"Compile",eventAction:t.compiler,eventLabel:t.options.userArguments,eventValue:i?1:0}),g.proxy("send",{hitType:"timing",timingCategory:"Compile",timingVar:t.compiler,timingValue:o}),this.setAssembly(e.asm||C("<No output>"));var s=e.stdout||[],a=e.stderr||[],l=f.pluck(s.concat(a),"text").join("\n"),u=0!==e.code,h=!u&&!!l;this.handleCompilationStatus({code:u?3:h?2:1,compilerOut:e.code}),this.outputTextCount.text(s.length),this.outputErrorCount.text(a.length),this.isOutputOpened?this.outputBtn.prop("title",""):this.outputBtn.prop("title",l.replace(/\x1b\[[0-9;]*m(.\[K)?/g,""));var c="";if(i?c=" - cached":r&&(c=" - "+o+"ms"),void 0!==e.asmSize&&(c+=" ("+e.asmSize+"B)"),this.compileTimeLabel.text(c),this.postCompilationResult(t,e),this.eventHub.emit("compileResult",this.id,this.compiler,e,_[this.currentLangId]),this.nextRequest){var d=this.nextRequest;this.nextRequest=null,this.sendCompile(d)}},b.prototype.postCompilationResult=function(t,e){e.popularArguments?this.handlePopularArgumentsResult(e.popularArguments):this.compilerService.requestPopularArguments(this.compiler.id,t.options.userArguments).then(f.bind(function(t){t&&t.result&&this.handlePopularArgumentsResult(t.result)},this)),this.updateButtons(),this.checkForUnwiseArguments(e.compilationOptions),this.setCompilationOptionsPopover(e.compilationOptions?e.compilationOptions.join(" "):"")},b.prototype.onEditorChange=function(t,e,i,n){t!==this.sourceEditorId||i!==this.currentLangId||void 0!==n&&n!==this.id||(this.source=e,this.settings.compileOnChange&&this.compile())},b.prototype.onToolOpened=function(t,e){if(this.id===t){var o=e.toolId,i=this.toolsMenu.find("button");p(i).each(f.bind(function(t,e){var i=p(e),n=i.data("toolname");o===n&&i.prop("disabled",!0)},this)),this.compile(!1,e)}},b.prototype.onToolClosed=function(t,e){if(this.id===t){var o=e.toolId,i=this.toolsMenu.find("button");p(i).each(f.bind(function(t,e){var i=p(e),n=i.data("toolname");o===n&&i.prop("disabled",!this.supportsTool(o))},this))}},b.prototype.onOutputOpened=function(t){this.id===t&&(this.isOutputOpened=!0,this.outputBtn.prop("disabled",!0),this.resendResult())},b.prototype.onOutputClosed=function(t){this.id===t&&(this.isOutputOpened=!1,this.outputBtn.prop("disabled",!1))},b.prototype.onOptViewClosed=function(t){this.id===t&&(this.wantOptInfo=!1,this.optViewOpen=!1,this.optButton.prop("disabled",this.optViewOpen))},b.prototype.onAstViewOpened=function(t){this.id===t&&(this.astButton.prop("disabled",!0),this.astViewOpen=!0,this.compile())},b.prototype.onToolSettingsChange=function(t){this.id===t&&this.compile()},b.prototype.onAstViewClosed=function(t){this.id===t&&(this.astButton.prop("disabled",!1),this.astViewOpen=!1)},b.prototype.onIrViewOpened=function(t){this.id===t&&(this.irButton.prop("disabled",!0),this.irViewOpen=!0,this.compile())},b.prototype.onIrViewClosed=function(t){this.id===t&&(this.irButton.prop("disabled",!1),this.irViewOpen=!1)},b.prototype.onGccDumpUIInit=function(t){this.id===t&&this.compile()},b.prototype.onGccDumpFiltersChanged=function(t,e,i){this.id===t&&(this.treeDumpEnabled=!1!==e.treeDump,this.rtlDumpEnabled=!1!==e.rtlDump,i&&this.compile())},b.prototype.onGccDumpPassSelected=function(t,e,i){this.id===t&&(this.gccDumpPassSelected=e,i&&""!==e&&this.compile())},b.prototype.onGccDumpViewOpened=function(t){this.id===t&&(this.gccDumpButton.prop("disabled",!0),this.gccDumpViewOpen=!0)},b.prototype.onGccDumpViewClosed=function(t){this.id===t&&(this.gccDumpButton.prop("disabled",!this.compiler.supportsGccDump),this.gccDumpViewOpen=!1,delete this.gccDumpPassSelected,delete this.treeDumpEnabled,delete this.rtlDumpEnabled)},b.prototype.onOptViewOpened=function(t){this.id===t&&(this.optViewOpen=!0,this.wantOptInfo=!0,this.optButton.prop("disabled",this.optViewOpen),this.compile())},b.prototype.onCfgViewOpened=function(t){this.id===t&&(this.cfgButton.prop("disabled",!0),this.cfgViewOpen=!0,this.compile())},b.prototype.onCfgViewClosed=function(t){this.id===t&&(this.cfgViewOpen=!1,this.cfgButton.prop("disabled",this.getEffectiveFilters().binary))},b.prototype.initButtons=function(t){this.filters=new n(this.domRoot.find(".filters"),function(e){if(void 0!==e)return f.each(["binary","labels","directives","commentOnly","trim","intel"],function(t){void 0===e[t]&&(e[t]=!1)}),e}(t.filters)),this.optButton=this.domRoot.find(".btn.view-optimization"),this.astButton=this.domRoot.find(".btn.view-ast"),this.irButton=this.domRoot.find(".btn.view-ir"),this.gccDumpButton=this.domRoot.find(".btn.view-gccdump"),this.cfgButton=this.domRoot.find(".btn.view-cfg"),this.libsButton=this.domRoot.find(".btn.show-libs"),this.compileTimeLabel=this.domRoot.find(".compile-time"),this.compileClearCache=this.domRoot.find(".clear-cache"),this.outputBtn=this.domRoot.find(".output-btn"),this.outputTextCount=this.domRoot.find("span.text-count"),this.outputErrorCount=this.domRoot.find("span.err-count"),this.optionsField=this.domRoot.find(".options"),this.prependOptions=this.domRoot.find(".prepend-options"),this.fullCompilerName=this.domRoot.find(".full-compiler-name"),this.setCompilationOptionsPopover(this.compiler?this.compiler.options:null),p(document).on("mouseup",f.bind(function(t){var e=p(t.target);e.is(this.prependOptions)||0!==this.prependOptions.has(e).length||0!==e.closest(".popover").length||this.prependOptions.popover("hide"),e.is(this.fullCompilerName)||0!==this.fullCompilerName.has(e).length||0!==e.closest(".popover").length||this.fullCompilerName.popover("hide")},this)),this.filterBinaryButton=this.domRoot.find("[data-bind='binary']"),this.filterBinaryTitle=this.filterBinaryButton.prop("title"),this.filterExecuteButton=this.domRoot.find("[data-bind='execute']"),this.filterExecuteTitle=this.filterExecuteButton.prop("title"),this.filterLabelsButton=this.domRoot.find("[data-bind='labels']"),this.filterLabelsTitle=this.filterLabelsButton.prop("title"),this.filterDirectivesButton=this.domRoot.find("[data-bind='directives']"),this.filterDirectivesTitle=this.filterDirectivesButton.prop("title"),this.filterLibraryCodeButton=this.domRoot.find("[data-bind='libraryCode']"),this.filterLibraryCodeTitle=this.filterLibraryCodeButton.prop("title"),this.filterCommentsButton=this.domRoot.find("[data-bind='commentOnly']"),this.filterCommentsTitle=this.filterCommentsButton.prop("title"),this.filterTrimButton=this.domRoot.find("[data-bind='trim']"),this.filterTrimTitle=this.filterTrimButton.prop("title"),this.filterIntelButton=this.domRoot.find("[data-bind='intel']"),this.filterIntelTitle=this.filterIntelButton.prop("title"),this.filterDemangleButton=this.domRoot.find("[data-bind='demangle']"),this.filterDemangleTitle=this.filterDemangleButton.prop("title"),this.noBinaryFiltersButtons=this.domRoot.find(".nonbinary"),this.filterExecuteButton.toggle(l.supportsExecute),this.filterLibraryCodeButton.toggle(l.supportsLibraryCodeFilter),this.optionsField.val(this.options),this.shortCompilerName=this.domRoot.find(".short-compiler-name"),this.compilerPicker=this.domRoot.find(".compiler-picker"),this.setCompilerVersionPopover(""),this.topBar=this.domRoot.find(".top-bar"),this.bottomBar=this.domRoot.find(".bottom-bar"),this.statusLabel=this.domRoot.find(".status-text"),this.hideable=this.domRoot.find(".hideable"),this.statusIcon=this.domRoot.find(".status-icon"),this.monacoPlaceholder=this.domRoot.find(".monaco-placeholder"),this.initPanerButtons()},b.prototype.onLibsChanged=function(){this.saveState(),this.compile()},b.prototype.initLibraries=function(t){this.libsWidget=new v.Widget(this.currentLangId,this.compiler,this.libsButton,t,f.bind(this.onLibsChanged,this))},b.prototype.updateLibraries=function(){this.libsWidget&&this.libsWidget.setNewLangId(this.currentLangId,this.compiler.id,this.compiler.libs)},b.prototype.supportsTool=function(e){if(this.compiler)return f.find(this.compiler.tools,function(t){return t.tool.id===e})},b.prototype.initToolButton=function(t,e,i){var n=f.bind(function(){return u.getToolViewWith(this.id,this.sourceEditorId,i,"")},this);this.container.layoutManager.createDragSource(e,n)._dragListener.on("dragStart",t),e.click(f.bind(function(){e.prop("disabled",!0),(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(n)},this))},b.prototype.initToolButtons=function(n){if(this.toolsMenu=this.domRoot.find(".toolsmenu"),this.toolsMenu.empty(),this.compiler){var e=f.bind(function(t,e){var i=p("<button class='dropdown-item btn btn-light btn-sm'>");i.addClass(".view-"+t),i.data("toolname",t),i.append("<span class='dropdown-icon fas fa-cog' />"+e),this.toolsMenu.append(i),"none"!==t&&this.initToolButton(n,i,t)},this);f.isEmpty(this.compiler.tools)?e("none","No tools available"):f.each(this.compiler.tools,function(t){e(t.tool.id,t.tool.name)})}},b.prototype.enableToolButtons=function(){var o=this.getActiveTools(),t=this.toolsMenu.find("button");p(t).each(f.bind(function(t,e){var i=p(e),n=i.data("toolname");i.prop("disabled",!(this.supportsTool(n)&&!this.isToolActive(o,n)))},this))},b.prototype.updateButtons=function(){if(this.compiler){var t=this.getEffectiveFilters(),e=function(t,e){t.prop("title","["+(t.hasClass("active")?"ON":"OFF")+"] "+e+(t.prop("disabled")?" [LOCKED]":""))},i=!this.compiler.supportsIntel&&!t.binary;this.filterIntelButton.prop("disabled",i),e(this.filterIntelButton,this.filterIntelTitle),this.filterBinaryButton.prop("disabled",!this.compiler.supportsBinary),e(this.filterBinaryButton,this.filterBinaryTitle),this.filterExecuteButton.prop("disabled",!this.compiler.supportsExecute),e(this.filterExecuteButton,this.filterExecuteTitle),this.filterDemangleButton.prop("disabled",!this.compiler.supportsDemangle),e(this.filterDemangleButton,this.filterDemangleTitle);var n=!!t.binary&&!this.compiler.supportsFiltersInBinary;this.noBinaryFiltersButtons.prop("disabled",n),this.filterLibraryCodeButton.prop("disabled",!this.compiler.supportsLibraryCodeFilter),e(this.filterLibraryCodeButton,this.filterLibraryCodeTitle),this.filterLabelsButton.prop("disabled",-1!==this.compiler.disabledFilters.indexOf("labels")),e(this.filterLabelsButton,this.filterLabelsTitle),this.filterDirectivesButton.prop("disabled",-1!==this.compiler.disabledFilters.indexOf("directives")),e(this.filterDirectivesButton,this.filterDirectivesTitle),this.filterCommentsButton.prop("disabled",-1!==this.compiler.disabledFilters.indexOf("commentOnly")),e(this.filterCommentsButton,this.filterCommentsTitle),this.filterTrimButton.prop("disabled",-1!==this.compiler.disabledFilters.indexOf("trim")),e(this.filterTrimButton,this.filterTrimTitle),this.optButton.prop("disabled",this.optViewOpen||!this.compiler.supportsOptOutput),this.astButton.prop("disabled",this.astViewOpen||!this.compiler.supportsAstView),this.irButton.prop("disabled",this.irViewOpen||!this.compiler.supportsIrView),this.cfgButton.prop("disabled",this.cfgViewOpen||!this.compiler.supportsCfg),this.gccDumpButton.prop("disabled",this.gccDumpViewOpen||!this.compiler.supportsGccDump),this.enableToolButtons()}},b.prototype.handlePopularArgumentsResult=function(t){var n=this.domRoot.find("div.populararguments div.dropdown-menu");if(n.html(""),t){var o=!1;f.forEach(t,f.bind(function(t,e){var i=p(document.createElement("button"));i.addClass("dropdown-item btn btn-light btn-sm"),i.attr("title",t.description),i.data("arg",e),i.html("<div class='argmenuitem'><span class='argtitle'>"+f.escape(e)+"</span><span class='argdescription'>"+t.description+"</span></div>"),i.click(f.bind(function(){var t=i,e=this.optionsField.val();0<e.length?this.optionsField.val(e+" "+t.data("arg")):this.optionsField.val(t.data("arg")),this.optionsField.change()},this)),n.append(i),o=!0},this)),o?p("div.populararguments").show():p("div.populararguments").hide()}else p("div.populararguments").hide()},b.prototype.onFontScale=function(){this.saveState()},b.prototype.initListeners=function(){this.filters.on("change",f.bind(this.onFilterChange,this)),this.fontScale.on("change",f.bind(this.onFontScale,this)),this.container.on("destroy",this.close,this),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this),this.container.on("open",function(){this.eventHub.emit("compilerOpen",this.id,this.sourceEditorId)},this),this.eventHub.on("editorChange",this.onEditorChange,this),this.eventHub.on("editorClose",this.onEditorClose,this),this.eventHub.on("colours",this.onColours,this),this.eventHub.on("resendCompilation",this.onResendCompilation,this),this.eventHub.on("findCompilers",this.sendCompiler,this),this.eventHub.on("compilerSetDecorations",this.onCompilerSetDecorations,this),this.eventHub.on("panesLinkLine",this.onPanesLinkLine,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.on("requestCompilation",this.onRequestCompilation,this),this.eventHub.on("toolSettingsChange",this.onToolSettingsChange,this),this.eventHub.on("toolOpened",this.onToolOpened,this),this.eventHub.on("toolClosed",this.onToolClosed,this),this.eventHub.on("optViewOpened",this.onOptViewOpened,this),this.eventHub.on("optViewClosed",this.onOptViewClosed,this),this.eventHub.on("astViewOpened",this.onAstViewOpened,this),this.eventHub.on("astViewClosed",this.onAstViewClosed,this),this.eventHub.on("irViewOpened",this.onIrViewOpened,this),this.eventHub.on("irViewClosed",this.onIrViewClosed,this),this.eventHub.on("outputOpened",this.onOutputOpened,this),this.eventHub.on("outputClosed",this.onOutputClosed,this),this.eventHub.on("gccDumpPassSelected",this.onGccDumpPassSelected,this),this.eventHub.on("gccDumpFiltersChanged",this.onGccDumpFiltersChanged,this),this.eventHub.on("gccDumpViewOpened",this.onGccDumpViewOpened,this),this.eventHub.on("gccDumpViewClosed",this.onGccDumpViewClosed,this),this.eventHub.on("gccDumpUIInit",this.onGccDumpUIInit,this),this.eventHub.on("cfgViewOpened",this.onCfgViewOpened,this),this.eventHub.on("cfgViewClosed",this.onCfgViewClosed,this),this.eventHub.on("resize",this.resize,this),this.eventHub.on("requestFilters",function(t){t===this.id&&this.eventHub.emit("filtersChange",this.id,this.getEffectiveFilters())},this),this.eventHub.on("requestCompiler",function(t){t===this.id&&this.sendCompiler()},this),this.eventHub.on("languageChange",this.onLanguageChange,this)},b.prototype.initCallbacks=function(){this.initListeners();var t=f.debounce(f.bind(function(t){this.onOptionsChange(p(t.target).val())},this),800);this.optionsField.on("change",t).on("keyup",t),this.mouseMoveThrottledFunction=f.throttle(f.bind(this.onMouseMove,this),50),this.outputEditor.onMouseMove(f.bind(function(t){this.mouseMoveThrottledFunction(t)},this)),this.compileClearCache.on("click",f.bind(function(){this.compilerService.cache.reset(),this.compile(!0)},this)),p(document).on("keyup.editable",f.bind(function(t){27===t.which&&this.libsButton.popover("hide")},this)),p(document).on("click",f.bind(function(t){var e=this.libsButton,i=p(t.target);i.is(e)||0!==e.has(i).length||0!==i.closest(".popover").length||e.popover("hide")},this)),this.eventHub.on("initialised",this.undefer,this)},b.prototype.onOptionsChange=function(t){this.options!==t&&(this.options=t,this.saveState(),this.compile(),this.updateButtons(),this.sendCompiler())},b.prototype.checkForUnwiseArguments=function(t){var e=f.intersection(t,this.compiler.unwiseOptions),i=(1===e.length?"Option ":"Options ")+e.join(", ")+(1===e.length?" is ":" are ")+"not recommended, as behaviour might change based on server hardware.";0<e.length&&this.alertSystem.notify(i,{group:"unwiseOption",collapseSimilar:!0})},b.prototype.updateCompilerInfo=function(){this.updateCompilerName(),this.compiler&&(this.compiler.notification&&this.alertSystem.notify(this.compiler.notification,{group:"compilerwarning",alertClass:"notification-info",dismissTime:5e3}),this.prependOptions.data("content",this.compiler.options))},b.prototype.updateCompilerUI=function(){var t=this.domRoot.find(".pane-dropdown");this.initToolButtons(function(){t.dropdown("toggle")}),this.updateButtons(),this.updateCompilerInfo(),this.resize()},b.prototype.onCompilerChange=function(t){this.compiler=this.compilerService.findCompiler(this.currentLangId,t),this.updateLibraries(),this.saveState(),this.compile(),this.updateCompilerUI(),this.sendCompiler()},b.prototype.sendCompiler=function(){this.eventHub.emit("compiler",this.id,this.compiler,this.options,this.sourceEditorId)},b.prototype.onEditorClose=function(t){t===this.sourceEditorId&&(this.close(),f.defer(function(t){t.container.close()},this))},b.prototype.onFilterChange=function(){var t=this.getEffectiveFilters();this.eventHub.emit("filtersChange",this.id,t),this.saveState(),this.compile(),this.updateButtons()},b.prototype.currentState=function(){var t={compiler:this.compiler?this.compiler.id:"",source:this.sourceEditorId,options:this.options,filters:this.filters.get(),wantOptInfo:this.wantOptInfo,libs:this.libsWidget.get(),lang:this.currentLangId};return this.fontScale.addState(t),t},b.prototype.saveState=function(){this.container.setState(this.currentState())},b.prototype.onColours=function(t,i,e){if(t===this.sourceEditorId){var n={};f.each(this.assembly,function(t,e){t.source&&null===t.source.file&&0<t.source.line&&(n[e]=i[t.source.line-1])}),this.colours=o.applyColours(this.outputEditor,n,e,this.colours)}},b.prototype.getCompilerName=function(){return this.compiler?this.compiler.name:"No compiler set"},b.prototype.getLanguageName=function(){var t=l.languages[this.currentLangId];return t?t.name:"?"},b.prototype.getPaneName=function(){var t=this.getLanguageName();return this.getCompilerName()+" (Editor #"+this.sourceEditorId+", Compiler #"+this.id+") "+t},b.prototype.updateCompilerName=function(){var t=this.getCompilerName(),e=this.compiler?this.compiler.version:"";this.container.setTitle(this.getPaneName()),this.shortCompilerName.text(t),this.setCompilerVersionPopover(e)},b.prototype.resendResult=function(){return!p.isEmptyObject(this.lastResult)&&(this.eventHub.emit("compileResult",this.id,this.compiler,this.lastResult),!0)},b.prototype.onResendCompilation=function(t){t===this.id&&this.resendResult()},b.prototype.updateDecorations=function(){this.prevDecorations=this.outputEditor.deltaDecorations(this.prevDecorations,f.flatten(f.values(this.decorations)))},b.prototype.clearLinkedLines=function(){this.decorations.linkedCode=[],this.updateDecorations()},b.prototype.onPanesLinkLine=function(t,i,e,n){if(Number(t)===this.id){var o=[];f.each(this.assembly,function(t,e){t.source&&null===t.source.file&&t.source.line===i&&o.push(e+1)}),e&&o[0]&&this.outputEditor.revealLineInCenter(o[0]);var r=n!==this.getPaneName()?"linked-code-decoration-line":"";this.decorations.linkedCode=f.map(o,function(t){return{range:new h.Range(t,1,t,1),options:{isWholeLine:!0,linesDecorationsClassName:"linked-code-decoration-margin",className:r}}}),-1!==this.linkedFadeTimeoutId&&clearTimeout(this.linkedFadeTimeoutId),this.linkedFadeTimeoutId=setTimeout(f.bind(function(){this.clearLinkedLines(),this.linkedFadeTimeoutId=-1},this),5e3),this.updateDecorations()}},b.prototype.onCompilerSetDecorations=function(t,e,i){Number(t)===this.id&&(i&&e[0]&&this.outputEditor.revealLineInCenter(e[0]),this.decorations.linkedCode=f.map(e,function(t){return{range:new h.Range(t,1,t,1),options:{isWholeLine:!0,linesDecorationsClassName:"linked-code-decoration-margin",inlineClassName:"linked-code-decoration-inline"}}}),this.updateDecorations())},b.prototype.setCompilationOptionsPopover=function(t){this.prependOptions.popover("dispose"),this.prependOptions.popover({content:t||"No options in use",template:'<div class="popover'+(t?" compiler-options-popover":"")+'" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'})},b.prototype.setCompilerVersionPopover=function(t){this.fullCompilerName.popover("dispose"),this.fullCompilerName.popover({content:t||"",template:'<div class="popover'+(t?" compiler-options-popover":"")+'" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'})},b.prototype.onRequestCompilation=function(t){t===this.sourceEditorId&&this.compile()},b.prototype.onSettingsChange=function(t){var e=this.settings;this.settings=f.clone(t),!e.lastHoverShowSource&&this.settings.hoverShowSource&&this.onCompilerSetDecorations(this.id,[]),this.outputEditor.updateOptions({contextmenu:this.settings.useCustomContextMenu,minimap:{enabled:this.settings.showMinimap&&!l.embedded},fontFamily:this.settings.editorsFFont})};var S=/^(#?[$]|0x)([0-9a-fA-F]+)$/,x=/^(#?)([0-9a-fA-F]+)H$/,k=/^(#?)(-?[0-9]+)$/;function O(t){var n="asm/"+t,e=y.get(n);if(e)return s.resolve(e.found?e.result:null);var o=window.httpRoot;return o.endsWith("/")||(o+="/"),new s(function(e,i){p.ajax({type:"GET",url:window.location.origin+o+"api/asm/"+t,dataType:"json",contentType:"text/plain",success:function(t){y.set(n,t),e(t.found?t.result:null)},error:function(t){i(t)},cache:!0})})}b.prototype.onMouseMove=function(t){if(null!==t&&null!==t.target&&null!==t.target.position){if(!0===this.settings.hoverShowSource&&this.assembly){this.clearLinkedLines();var e=this.assembly[t.target.position.lineNumber-1];if(e){var i=e.source&&!e.source.file?e.source.line:-1;this.eventHub.emit("editorLinkLine",this.sourceEditorId,i,-1,!1),this.eventHub.emit("panesLinkLine",this.id,i,!1,this.getPaneName())}}var n=this.outputEditor.getModel().getWordAtPosition(t.target.position);if(n&&n.word){var o=n.word,r=n.startColumn;if(t.target.position.lineNumber<=this.outputEditor.getModel().getLineCount())"-"===this.outputEditor.getModel().getLineContent(t.target.position.lineNumber)[n.startColumn-2]&&(o="-"+o,r-=1);n.range=new h.Range(t.target.position.lineNumber,Math.max(r,1),t.target.position.lineNumber,n.endColumn);var s=function(t){var e=S.exec(t)||x.exec(t);if(e)return t+" = "+d(e[2],16).toString(10);if(e=k.exec(t)){var i=d(e[2]);return i.isNegative()&&(i=d("ffffffffffffffff",16).and(i)),t+" = 0x"+i.toString(16).toUpperCase()}return null}(o);if(s&&(this.decorations.numericToolTip={range:n.range,options:{isWholeLine:!1,hoverMessage:[{value:"`"+s+"`"}]}},this.updateDecorations()),this.getEffectiveFilters().intel){var a=f.bind(function(t,e){if(e>t.getLineCount())return[];var i=t.getModeId(),n=h.editor.tokenize(t.getLineContent(e),i);return 0<n.length?n[0]:[]},this);!0===this.settings.hoverShowAsmDoc&&f.some(a(this.outputEditor.getModel(),n.range.startLineNumber),function(t){return t.offset+1===n.startColumn&&"keyword.asm"===t.type})&&O(n.word).then(f.bind(function(t){t&&(this.decorations.asmToolTip={range:n.range,options:{isWholeLine:!1,hoverMessage:[{value:t.tooltip+"\n\nMore information available in the context menu.",isTrusted:!0}]}},this.updateDecorations())},this))}}}},b.prototype.onAsmToolTip=function(e){if(g.proxy("send",{hitType:"event",eventCategory:"OpenModalPane",eventAction:"AsmDocs"}),this.getEffectiveFilters().intel){var i=e.getPosition(),t=e.getModel().getWordAtPosition(i);if(t&&t.word){var n=t.word.toUpperCase();O(t.word).then(f.bind(function(t){t?this.alertSystem.alert(n+" help",t.html+o(t.url),function(){e.focus(),e.setPosition(i)}):this.alertSystem.notify("This token was not found in the documentation. Sorry!",{group:"notokenindocs",alertClass:"notification-error",dismissTime:3e3})},this),f.bind(function(t){this.alertSystem.notify("There was an error fetching the documentation for this opcode ("+t+").",{group:"notokenindocs",alertClass:"notification-error",dismissTime:3e3})},this))}}function o(t){return'<br><br>For more information, visit <a href="'+t+'" target="_blank" rel="noopener noreferrer">the '+n+' documentation <sup><small class="fas fa-external-link-alt opens-new-window" title="Opens in a new window"></small></sup></a>.<br>If the documentation for this opcode is wrong or broken in some way, please feel free to <a href="https://github.com/mattgodbolt/compiler-explorer/issues/new?title='+encodeURIComponent("[BUG] Problem with "+n+" opcode")+'" target="_blank" rel="noopener noreferrer">open an issue on GitHub <sup><small class="fas fa-external-link-alt opens-new-window" title="Opens in a new window"></small></sup></a>.'}},b.prototype.handleCompilationStatus=function(t){this.statusLabel&&this.statusIcon&&(this.statusIcon.removeClass().addClass("status-icon fas").css("color",4===t.code?"black":0===t.compilerOut?3===t.code?"#FF6645":2===t.code?"#FF6500":"#12BB12":3===t.code?"#FF1212":2===t.code?"#BB8700":"#FF6645").toggle(0!==t.code).prop("aria-label",4===t.code?"Compiling":0===t.compilerOut?3===t.code?"Compilation succeeded with errors":2===t.code?"Compilation succeeded with warnings":"Compilation succeeded":3===t.code?"Compilation failed with errors":2===t.code?"Compilation failed with warnings":"Compilation failed").prop("data-status",t.code).toggleClass("fa-spinner",4===t.code).toggleClass("fa-times-circle",3===t.code).toggleClass("fa-check-circle",1===t.code||2===t.code),this.statusLabel.toggleClass("error",3===t).toggleClass("warning",2===t))},b.prototype.onLanguageChange=function(t,e){if(this.sourceEditorId===t){var i=this.currentLangId;this.currentLangId=e,this.infoByLang[i]={compiler:this.compiler&&this.compiler.id?this.compiler.id:l.defaultCompiler[i],options:this.options};var n=this.infoByLang[this.currentLangId]||{};this.initLangAndCompiler({lang:e,compiler:n.compiler}),this.updateCompilersSelector(n),this.updateCompilerUI(),this.sendCompiler(),this.saveState()}},b.prototype.getCurrentLangCompilers=function(){return this.compilerService.getCompilersForLang(this.currentLangId)},b.prototype.updateCompilersSelector=function(t){this.compilerSelectizer.clearOptions(!0),this.compilerSelectizer.clearOptionGroups(),f.each(this.compilerService.getGroupsInUse(this.currentLangId),function(t){this.compilerSelectizer.addOptionGroup(t.value,{label:t.label})},this),this.compilerSelectizer.load(f.bind(function(t){t(f.map(this.getCurrentLangCompilers(),f.identity))},this)),this.compilerSelectizer.setValue([this.compiler?this.compiler.id:null],!0),this.options=t.options||"",this.optionsField.val(this.options)},t.exports={Compiler:b}},function(e,t,i){(function(t){"pseudomap"===t.env.npm_package_name&&"test"===t.env.npm_lifecycle_script&&(t.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||t.env.TEST_PSEUDOMAP?e.exports=i(357):e.exports=Map}).call(this,i(134))},function(t,e){var s=Object.prototype.hasOwnProperty;function i(t){if(!(this instanceof i))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof i||"function"==typeof Map&&t instanceof Map)t.forEach(function(t,e){this.set(e,t)},this);else{if(!Array.isArray(t))throw new TypeError("invalid argument");t.forEach(function(t){this.set(t[0],t[1])},this)}}function a(t,e){return t===e||t!=t&&e!=e}function l(t,e,i){this.key=t,this.value=e,this._index=i}function n(t,e){for(var i=0,n="_"+e,o=n;s.call(t,o);o=n+i++)if(a(t[o].key,e))return t[o]}(t.exports=i).prototype.forEach=function(e,i){i=i||this,Object.keys(this._data).forEach(function(t){"size"!==t&&e.call(i,this._data[t].value,this._data[t].key)},this)},i.prototype.has=function(t){return!!n(this._data,t)},i.prototype.get=function(t){var e=n(this._data,t);return e&&e.value},i.prototype.set=function(t,e){!function(t,e,i){for(var n=0,o="_"+e,r=o;s.call(t,r);r=o+n++)if(a(t[r].key,e))return t[r].value=i;t.size++,t[r]=new l(e,i,r)}(this._data,t,e)},i.prototype.delete=function(t){var e=n(this._data,t);e&&(delete this._data[e._index],this._data.size--)},i.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(i.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0}),i.prototype.values=i.prototype.keys=i.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(t,L,D){(function(s){var e=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),i={},n=0;n<e.length;n++)i[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return i},a=/%[sdj%]/g;L.format=function(t){if(!_(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(l(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,o=n.length,r=String(t).replace(a,function(t){if("%%"===t)return"%";if(o<=i)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}}),s=n[i];i<o;s=n[++i])v(s)||!u(s)?r+=" "+s:r+=" "+l(s);return r},L.deprecate=function(t,e){if(void 0!==s&&!0===s.noDeprecation)return t;if(void 0===s)return function(){return L.deprecate(t,e).apply(this,arguments)};var i=!1;return function(){if(!i){if(s.throwDeprecation)throw new Error(e);s.traceDeprecation?console.trace(e):console.error(e),i=!0}return t.apply(this,arguments)}};var t,n={};function l(t,e){var i={seen:[],stylize:r};return 3<=arguments.length&&(i.depth=arguments[2]),4<=arguments.length&&(i.colors=arguments[3]),m(e)?i.showHidden=e:e&&L._extend(i,e),b(i.showHidden)&&(i.showHidden=!1),b(i.depth)&&(i.depth=2),b(i.colors)&&(i.colors=!1),b(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),d(i,t,i.depth)}function o(t,e){var i=l.styles[e];return i?"["+l.colors[i][0]+"m"+t+"["+l.colors[i][1]+"m":t}function r(t,e){return t}function d(e,i,n){if(e.customInspect&&i&&x(i.inspect)&&i.inspect!==L.inspect&&(!i.constructor||i.constructor.prototype!==i)){var t=i.inspect(n,e);return _(t)||(t=d(e,t,n)),t}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(_(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}if(y(e))return t.stylize(""+e,"number");if(m(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(e,i);if(o)return o;var r=Object.keys(i),s=function(t){var i={};return t.forEach(function(t,e){i[t]=!0}),i}(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(i)),S(i)&&(0<=r.indexOf("message")||0<=r.indexOf("description")))return p(i);if(0===r.length){if(x(i)){var a=i.name?": "+i.name:"";return e.stylize("[Function"+a+"]","special")}if(w(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(C(i))return e.stylize(Date.prototype.toString.call(i),"date");if(S(i))return p(i)}var l,u="",h=!1,c=["{","}"];g(i)&&(h=!0,c=["[","]"]),x(i)&&(u=" [Function"+(i.name?": "+i.name:"")+"]");return w(i)&&(u=" "+RegExp.prototype.toString.call(i)),C(i)&&(u=" "+Date.prototype.toUTCString.call(i)),S(i)&&(u=" "+p(i)),0!==r.length||h&&0!=i.length?n<0?w(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),l=h?function(e,i,n,o,t){for(var r=[],s=0,a=i.length;s<a;++s)k(i,String(s))?r.push(f(e,i,n,o,String(s),!0)):r.push("");return t.forEach(function(t){t.match(/^\d+$/)||r.push(f(e,i,n,o,t,!0))}),r}(e,i,n,s,r):r.map(function(t){return f(e,i,n,s,t,h)}),e.seen.pop(),function(t,e,i){if(60<t.reduce(function(t,e){return 0,0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1];return i[0]+e+" "+t.join(", ")+" "+i[1]}(l,u,c)):c[0]+u+c[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,i,n,o,r){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),k(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(l.value)<0?-1<(a=v(i)?d(t,l.value,null):d(t,l.value,i-1)).indexOf("\n")&&(a=r?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(r&&o.match(/^\d+$/))return a;s=(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(s,"string"))}return s+": "+a}function g(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return void 0===t}function w(t){return u(t)&&"[object RegExp]"===i(t)}function u(t){return"object"==typeof t&&null!==t}function C(t){return u(t)&&"[object Date]"===i(t)}function S(t){return u(t)&&("[object Error]"===i(t)||t instanceof Error)}function x(t){return"function"==typeof t}function i(t){return Object.prototype.toString.call(t)}function h(t){return t<10?"0"+t.toString(10):t.toString(10)}L.debuglog=function(e){if(b(t)&&(t=s.env.NODE_DEBUG||""),e=e.toUpperCase(),!n[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var i=s.pid;n[e]=function(){var t=L.format.apply(L,arguments);console.error("%s %d: %s",e,i,t)}}else n[e]=function(){};return n[e]},(L.inspect=l).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},L.isArray=g,L.isBoolean=m,L.isNull=v,L.isNullOrUndefined=function(t){return null==t},L.isNumber=y,L.isString=_,L.isSymbol=function(t){return"symbol"==typeof t},L.isUndefined=b,L.isRegExp=w,L.isObject=u,L.isDate=C,L.isError=S,L.isFunction=x,L.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},L.isBuffer=D(359);var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}L.log=function(){console.log("%s - %s",function(){var t=new Date,e=[h(t.getHours()),h(t.getMinutes()),h(t.getSeconds())].join(":");return[t.getDate(),c[t.getMonth()],e].join(" ")}(),L.format.apply(L,arguments))},L.inherits=D(360),L._extend=function(t,e){if(!e||!u(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function E(t,e){if(!t){var i=new Error("Promise was rejected with a falsy value");i.reason=t,t=i}return e(t)}L.promisify=function(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');if(O&&r[O]){var t;if("function"!=typeof(t=r[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var i,n,t=new Promise(function(t,e){i=t,n=e}),e=[],o=0;o<arguments.length;o++)e.push(arguments[o]);e.push(function(t,e){t?n(t):i(e)});try{r.apply(this,e)}catch(t){n(t)}return t}return Object.setPrototypeOf(t,Object.getPrototypeOf(r)),O&&Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,e(r))},L.promisify.custom=O,L.callbackify=function(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");function n(){return i.apply(o,arguments)}var o=this;r.apply(this,t).then(function(t){s.nextTick(n,null,t)},function(t){s.nextTick(E,t,n)})}return Object.setPrototypeOf(t,Object.getPrototypeOf(r)),Object.defineProperties(t,e(r)),t}}).call(this,D(134))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e){function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(0<arguments.length)for(var i=0,n=arguments.length;i<n;i++)e.push(arguments[i]);return e}function i(t,e){t.tail=new o(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function n(t,e){t.head=new o(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function o(t,e,i,n){if(!(this instanceof o))return new o(t,e,i,n);this.list=n,this.value=t,e?(e.next=this).prev=e:this.prev=null,i?(i.prev=this).next=i:this.next=null}(t.exports=r).Node=o,(r.create=r).prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=i),t.list.length--,t.next=null,t.prev=null,t.list=null},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,(t.next=e)&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,(t.prev=e)&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)i(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)n(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var i=this.head,n=0;null!==i;n++)t.call(e,i.value,n,this),i=i.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var i=this.tail,n=this.length-1;null!==i;n--)t.call(e,i.value,n,this),i=i.prev},r.prototype.get=function(t){for(var e=0,i=this.head;null!==i&&e<t;e++)i=i.next;if(e===t&&null!==i)return i.value},r.prototype.getReverse=function(t){for(var e=0,i=this.tail;null!==i&&e<t;e++)i=i.prev;if(e===t&&null!==i)return i.value},r.prototype.map=function(t,e){e=e||this;for(var i=new r,n=this.head;null!==n;)i.push(t.call(e,n.value,this)),n=n.next;return i},r.prototype.mapReverse=function(t,e){e=e||this;for(var i=new r,n=this.tail;null!==n;)i.push(t.call(e,n.value,this)),n=n.prev;return i},r.prototype.reduce=function(t,e){var i,n=this.head;if(1<arguments.length)i=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,i=this.head.value}for(var o=0;null!==n;o++)i=t(i,n.value,o),n=n.next;return i},r.prototype.reduceReverse=function(t,e){var i,n=this.tail;if(1<arguments.length)i=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,i=this.tail.value}for(var o=this.length-1;null!==n;o--)i=t(i,n.value,o),n=n.prev;return i},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,i=this.head;null!==i;e++)t[e]=i.value,i=i.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,i=this.tail;null!==i;e++)t[e]=i.value,i=i.prev;return t},r.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var i=new r;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;for(;null!==o&&n<e;n++,o=o.next)i.push(o.value);return i},r.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var i=new r;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,o=this.tail;null!==o&&e<n;n--)o=o.prev;for(;null!==o&&t<n;n--,o=o.prev)i.push(o.value);return i},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,i=t;null!==i;i=i.prev){var n=i.prev;i.prev=i.next,i.next=n}return this.head=e,this.tail=t,this}},function(t,i,e){(function(t){var e,Z=function(l){"use strict";var v=1e7,c=7,e=9007199254740992,i=b(e),d="0123456789abcdefghijklmnopqrstuvwxyz",p="function"==typeof BigInt;function f(t,e,i,n){return void 0===t?f[0]:void 0!==e&&(10!=+e||i)?U(t,e,i,n):$(t)}function g(t,e){this.value=t,this.sign=e,this.isSmall=!1}function m(t){this.value=t,this.sign=t<0,this.isSmall=!0}function y(t){this.value=t}function _(t){return-e<t&&t<e}function b(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function w(t){C(t);var e=t.length;if(e<4&&T(t,i)<0)switch(e){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*v;default:return t[0]+(t[1]+t[2]*v)*v}return t}function C(t){for(var e=t.length;0===t[--e];);t.length=e+1}function S(t){for(var e=new Array(t),i=-1;++i<t;)e[i]=0;return e}function x(t){return 0<t?Math.floor(t):Math.ceil(t)}function n(t,e){var i,n,o=t.length,r=e.length,s=new Array(o),a=0,l=v;for(n=0;n<r;n++)a=l<=(i=t[n]+e[n]+a)?1:0,s[n]=i-a*l;for(;n<o;)a=(i=t[n]+a)===l?1:0,s[n++]=i-a*l;return 0<a&&s.push(a),s}function k(t,e){return t.length>=e.length?n(t,e):n(e,t)}function o(t,e){var i,n,o=t.length,r=new Array(o),s=v;for(n=0;n<o;n++)i=t[n]-s+e,e=Math.floor(i/s),r[n]=i-e*s,e+=1;for(;0<e;)r[n++]=e%s,e=Math.floor(e/s);return r}function O(t,e){var i,n,o=t.length,r=e.length,s=new Array(o),a=0,l=v;for(i=0;i<r;i++)a=(n=t[i]-a-e[i])<0?(n+=l,1):0,s[i]=n;for(i=r;i<o;i++){if(!((n=t[i]-a)<0)){s[i++]=n;break}n+=l,s[i]=n}for(;i<o;i++)s[i]=t[i];return C(s),s}function r(t,e,i){var n,o,r=t.length,s=new Array(r),a=-e,l=v;for(n=0;n<r;n++)o=t[n]+a,a=Math.floor(o/l),o%=l,s[n]=o<0?o+l:o;return"number"==typeof(s=w(s))?(i&&(s=-s),new m(s)):new g(s,i)}function E(t,e){var i,n,o,r,s=t.length,a=e.length,l=S(s+a),u=v;for(o=0;o<s;++o){r=t[o];for(var h=0;h<a;++h)i=r*e[h]+l[o+h],n=Math.floor(i/u),l[o+h]=i-n*u,l[o+h+1]+=n}return C(l),l}function L(t,e){var i,n,o=t.length,r=new Array(o),s=v,a=0;for(n=0;n<o;n++)i=t[n]*e+a,a=Math.floor(i/s),r[n]=i-a*s;for(;0<a;)r[n++]=a%s,a=Math.floor(a/s);return r}function D(t,e){for(var i=[];0<e--;)i.push(0);return i.concat(t)}function s(t,e,i){return new g(t<v?L(e,t):E(e,b(t)),i)}function a(t){var e,i,n,o,r=t.length,s=S(r+r),a=v;for(n=0;n<r;n++){i=0-(o=t[n])*o;for(var l=n;l<r;l++)e=o*t[l]*2+s[n+l]+i,i=Math.floor(e/a),s[n+l]=e-i*a;s[n+r]=i}return C(s),s}function I(t,e){var i,n,o,r,s=t.length,a=S(s),l=v;for(o=0,i=s-1;0<=i;--i)o=(r=o*l+t[i])-(n=x(r/e))*e,a[i]=0|n;return[a,0|o]}function N(t,e){var i,n=$(e);if(p)return[new y(t.value/n.value),new y(t.value%n.value)];var o,r=t.value,s=n.value;if(0===s)throw new Error("Cannot divide by zero");if(t.isSmall)return n.isSmall?[new m(x(r/s)),new m(r%s)]:[f[0],t];if(n.isSmall){if(1===s)return[t,f[0]];if(-1==s)return[t.negate(),f[0]];var a=Math.abs(s);if(a<v){o=w((i=I(r,a))[0]);var l=i[1];return t.sign&&(l=-l),"number"==typeof o?(t.sign!==n.sign&&(o=-o),[new m(o),new m(l)]):[new g(o,t.sign!==n.sign),new m(l)]}s=b(a)}var u=T(r,s);if(-1===u)return[f[0],t];if(0===u)return[f[t.sign===n.sign?1:-1],f[0]];o=(i=r.length+s.length<=200?function(t,e){var i,n,o,r,s,a,l,u=t.length,h=e.length,c=v,d=S(e.length),p=e[h-1],f=Math.ceil(c/(2*p)),g=L(t,f),m=L(e,f);for(g.length<=u&&g.push(0),m.push(0),p=m[h-1],n=u-h;0<=n;n--){for(i=c-1,g[n+h]!==p&&(i=Math.floor((g[n+h]*c+g[n+h-1])/p)),r=o=0,a=m.length,s=0;s<a;s++)o+=i*m[s],l=Math.floor(o/c),r+=g[n+s]-(o-l*c),o=l,r=r<0?(g[n+s]=r+c,-1):(g[n+s]=r,0);for(;0!==r;){for(i-=1,s=o=0;s<a;s++)o=(o+=g[n+s]-c+m[s])<0?(g[n+s]=o+c,0):(g[n+s]=o,1);r+=o}d[n]=i}return g=I(g,f)[0],[w(d),w(g)]}(r,s):function(t,e){for(var i,n,o,r,s,a=t.length,l=e.length,u=[],h=[],c=v;a;)if(h.unshift(t[--a]),C(h),T(h,e)<0)u.push(0);else{o=h[(n=h.length)-1]*c+h[n-2],r=e[l-1]*c+e[l-2],l<n&&(o=(o+1)*c),i=Math.ceil(o/r);do{if(T(s=L(e,i),h)<=0)break;i--}while(i);u.push(i),h=O(h,s)}return u.reverse(),[w(u),w(h)]}(r,s))[0];var h=t.sign!==n.sign,c=i[1],d=t.sign;return[o="number"==typeof o?(h&&(o=-o),new m(o)):new g(o,h),c="number"==typeof c?(d&&(c=-c),new m(c)):new g(c,d)]}function T(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var i=t.length-1;0<=i;i--)if(t[i]!==e[i])return t[i]>e[i]?1:-1;return 0}function u(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function h(t,e){for(var i,n,o,r=t.prev(),s=r,a=0;s.isEven();)s=s.divide(2),a++;t:for(n=0;n<e.length;n++)if(!t.lesser(e[n])&&!(o=Z(e[n]).modPow(s,t)).isUnit()&&!o.equals(r)){for(i=a-1;0!=i;i--){if((o=o.square().mod(t)).isUnit())return!1;if(o.equals(r))continue t}return!1}return!0}g.prototype=Object.create(f.prototype),m.prototype=Object.create(f.prototype),y.prototype=Object.create(f.prototype),g.prototype.plus=g.prototype.add=function(t){var e=$(t);if(this.sign!==e.sign)return this.subtract(e.negate());var i=this.value,n=e.value;return e.isSmall?new g(o(i,Math.abs(n)),this.sign):new g(k(i,n),this.sign)},m.prototype.plus=m.prototype.add=function(t){var e=$(t),i=this.value;if(i<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(_(i+n))return new m(i+n);n=b(Math.abs(n))}return new g(o(n,Math.abs(i)),i<0)},y.prototype.plus=y.prototype.add=function(t){return new y(this.value+$(t).value)},g.prototype.minus=g.prototype.subtract=function(t){var e=$(t);if(this.sign!==e.sign)return this.add(e.negate());var i=this.value,n=e.value;return e.isSmall?r(i,Math.abs(n),this.sign):function(t,e,i){var n;return 0<=T(t,e)?n=O(t,e):(n=O(e,t),i=!i),"number"==typeof(n=w(n))?(i&&(n=-n),new m(n)):new g(n,i)}(i,n,this.sign)},m.prototype.minus=m.prototype.subtract=function(t){var e=$(t),i=this.value;if(i<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new m(i-n):r(n,Math.abs(i),0<=i)},y.prototype.minus=y.prototype.subtract=function(t){return new y(this.value-$(t).value)},g.prototype.negate=function(){return new g(this.value,!this.sign)},m.prototype.negate=function(){var t=this.sign,e=new m(-this.value);return e.sign=!t,e},y.prototype.negate=function(){return new y(-this.value)},g.prototype.abs=function(){return new g(this.value,!1)},m.prototype.abs=function(){return new m(Math.abs(this.value))},y.prototype.abs=function(){return new y(0<=this.value?this.value:-this.value)},g.prototype.times=g.prototype.multiply=function(t){var e,i=$(t),n=this.value,o=i.value,r=this.sign!==i.sign;if(i.isSmall){if(0===o)return f[0];if(1===o)return this;if(-1===o)return this.negate();if((e=Math.abs(o))<v)return new g(L(n,e),r);o=b(e)}return function(t,e){return 0<-.012*t-.012*e+15e-6*t*e}(n.length,o.length)?new g(function t(e,i){var n=Math.max(e.length,i.length);if(n<=30)return E(e,i);n=Math.ceil(n/2);var o=e.slice(n),r=e.slice(0,n),s=i.slice(n),a=i.slice(0,n),l=t(r,a),u=t(o,s),h=k(k(l,D(O(O(t(k(r,o),k(a,s)),l),u),n)),D(u,2*n));return C(h),h}(n,o),r):new g(E(n,o),r)},m.prototype._multiplyBySmall=function(t){return _(t.value*this.value)?new m(t.value*this.value):s(Math.abs(t.value),b(Math.abs(this.value)),this.sign!==t.sign)},g.prototype._multiplyBySmall=function(t){return 0===t.value?f[0]:1===t.value?this:-1===t.value?this.negate():s(Math.abs(t.value),this.value,this.sign!==t.sign)},m.prototype.times=m.prototype.multiply=function(t){return $(t)._multiplyBySmall(this)},y.prototype.times=y.prototype.multiply=function(t){return new y(this.value*$(t).value)},g.prototype.square=function(){return new g(a(this.value),!1)},m.prototype.square=function(){var t=this.value*this.value;return _(t)?new m(t):new g(a(b(Math.abs(this.value))),!1)},y.prototype.square=function(t){return new y(this.value*this.value)},y.prototype.divmod=m.prototype.divmod=g.prototype.divmod=function(t){var e=N(this,t);return{quotient:e[0],remainder:e[1]}},g.prototype.divide=function(t){return N(this,t)[0]},y.prototype.over=y.prototype.divide=function(t){return new y(this.value/$(t).value)},m.prototype.over=m.prototype.divide=g.prototype.over=g.prototype.divide,g.prototype.mod=function(t){return N(this,t)[1]},y.prototype.mod=y.prototype.remainder=function(t){return new y(this.value%$(t).value)},m.prototype.remainder=m.prototype.mod=g.prototype.remainder=g.prototype.mod,g.prototype.pow=function(t){var e,i,n,o=$(t),r=this.value,s=o.value;if(0===s)return f[1];if(0===r)return f[0];if(1===r)return f[1];if(-1===r)return o.isEven()?f[1]:f[-1];if(o.sign)return f[0];if(!o.isSmall)throw new Error("The exponent "+o.toString()+" is too large.");if(this.isSmall&&_(e=Math.pow(r,s)))return new m(x(e));for(i=this,n=f[1];!0&s&&(n=n.times(i),--s),0!==s;)s/=2,i=i.square();return n},m.prototype.pow=g.prototype.pow,y.prototype.pow=function(t){var e=$(t),i=this.value,n=e.value,o=BigInt(0),r=BigInt(1),s=BigInt(2);if(n===o)return f[1];if(i===o)return f[0];if(i===r)return f[1];if(i===BigInt(-1))return e.isEven()?f[1]:f[-1];if(e.isNegative())return new y(o);for(var a=this,l=f[1];(n&r)===r&&(l=l.times(a),--n),n!==o;)n/=s,a=a.square();return l},y.prototype.modPow=m.prototype.modPow=g.prototype.modPow=function(t,e){if(t=$(t),(e=$(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var i=f[1],n=this.mod(e);for(t.isNegative()&&(t=t.multiply(f[-1]),n=n.modInv(e));t.isPositive();){if(n.isZero())return f[0];t.isOdd()&&(i=i.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return i},g.prototype.compareAbs=function(t){var e=$(t),i=this.value,n=e.value;return e.isSmall?1:T(i,n)},m.prototype.compareAbs=function(t){var e=$(t),i=Math.abs(this.value),n=e.value;return e.isSmall?i===(n=Math.abs(n))?0:n<i?1:-1:-1},y.prototype.compareAbs=function(t){var e=this.value,i=$(t).value;return(e=0<=e?e:-e)===(i=0<=i?i:-i)?0:i<e?1:-1},g.prototype.compareTo=g.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=$(t),i=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:T(i,n)*(this.sign?-1:1)},m.prototype.compareTo=m.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=$(t),i=this.value,n=e.value;return e.isSmall?i==n?0:n<i?1:-1:i<0!==e.sign?i<0?-1:1:i<0?1:-1},y.prototype.compareTo=y.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,i=$(t).value;return e===i?0:i<e?1:-1},y.prototype.eq=y.prototype.equals=m.prototype.eq=m.prototype.equals=g.prototype.eq=g.prototype.equals=function(t){return 0===this.compare(t)},y.prototype.neq=y.prototype.notEquals=m.prototype.neq=m.prototype.notEquals=g.prototype.neq=g.prototype.notEquals=function(t){return 0!==this.compare(t)},y.prototype.gt=y.prototype.greater=m.prototype.gt=m.prototype.greater=g.prototype.gt=g.prototype.greater=function(t){return 0<this.compare(t)},y.prototype.lt=y.prototype.lesser=m.prototype.lt=m.prototype.lesser=g.prototype.lt=g.prototype.lesser=function(t){return this.compare(t)<0},y.prototype.geq=y.prototype.greaterOrEquals=m.prototype.geq=m.prototype.greaterOrEquals=g.prototype.geq=g.prototype.greaterOrEquals=function(t){return 0<=this.compare(t)},y.prototype.leq=y.prototype.lesserOrEquals=m.prototype.leq=m.prototype.lesserOrEquals=g.prototype.leq=g.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},g.prototype.isEven=function(){return 0==(1&this.value[0])},m.prototype.isEven=function(){return 0==(1&this.value)},y.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},g.prototype.isOdd=function(){return 1==(1&this.value[0])},m.prototype.isOdd=function(){return 1==(1&this.value)},y.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},g.prototype.isPositive=function(){return!this.sign},y.prototype.isPositive=m.prototype.isPositive=function(){return 0<this.value},g.prototype.isNegative=function(){return this.sign},y.prototype.isNegative=m.prototype.isNegative=function(){return this.value<0},g.prototype.isUnit=function(){return!1},m.prototype.isUnit=function(){return 1===Math.abs(this.value)},y.prototype.isUnit=function(){return this.abs().value===BigInt(1)},g.prototype.isZero=function(){return!1},m.prototype.isZero=function(){return 0===this.value},y.prototype.isZero=function(){return this.value===BigInt(0)},y.prototype.isDivisibleBy=m.prototype.isDivisibleBy=g.prototype.isDivisibleBy=function(t){var e=$(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},y.prototype.isPrime=m.prototype.isPrime=g.prototype.isPrime=function(t){var e=u(this);if(e!==l)return e;var i=this.abs(),n=i.bitLength();if(n<=64)return h(i,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*n.toJSNumber(),r=Math.ceil(!0===t?2*Math.pow(o,2):o),s=[],a=0;a<r;a++)s.push(Z(a+2));return h(i,s)},y.prototype.isProbablePrime=m.prototype.isProbablePrime=g.prototype.isProbablePrime=function(t,e){var i=u(this);if(i!==l)return i;for(var n=this.abs(),o=t===l?5:t,r=[],s=0;s<o;s++)r.push(Z.randBetween(2,n.minus(2),e));return h(n,r)},y.prototype.modInv=m.prototype.modInv=g.prototype.modInv=function(t){for(var e,i,n,o=Z.zero,r=Z.one,s=$(t),a=this.abs();!a.isZero();)e=s.divide(a),i=o,n=s,o=r,s=a,r=i.subtract(e.multiply(r)),a=n.subtract(e.multiply(a));if(!s.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},g.prototype.next=function(){var t=this.value;return this.sign?r(t,1,this.sign):new g(o(t,1),this.sign)},m.prototype.next=function(){var t=this.value;return t+1<e?new m(t+1):new g(i,!1)},y.prototype.next=function(){return new y(this.value+BigInt(1))},g.prototype.prev=function(){var t=this.value;return this.sign?new g(o(t,1),!0):r(t,1,this.sign)},m.prototype.prev=function(){var t=this.value;return-e<t-1?new m(t-1):new g(i,!0)},y.prototype.prev=function(){return new y(this.value-BigInt(1))};for(var M=[1];2*M[M.length-1]<=v;)M.push(2*M[M.length-1]);var A=M.length,P=M[A-1];function R(t){return Math.abs(t)<=v}function F(t,e,i){e=$(e);for(var n=t.isNegative(),o=e.isNegative(),r=n?t.not():t,s=o?e.not():e,a=0,l=0,u=null,h=null,c=[];!r.isZero()||!s.isZero();)a=(u=N(r,P))[1].toJSNumber(),n&&(a=P-1-a),l=(h=N(s,P))[1].toJSNumber(),o&&(l=P-1-l),r=u[0],s=h[0],c.push(i(a,l));for(var d=0!==i(n?1:0,o?1:0)?Z(-1):Z(0),p=c.length-1;0<=p;p-=1)d=d.multiply(P).add(Z(c[p]));return d}y.prototype.shiftLeft=m.prototype.shiftLeft=g.prototype.shiftLeft=function(t){var e=$(t).toJSNumber();if(!R(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var i=this;if(i.isZero())return i;for(;A<=e;)i=i.multiply(P),e-=A-1;return i.multiply(M[e])},y.prototype.shiftRight=m.prototype.shiftRight=g.prototype.shiftRight=function(t){var e,i=$(t).toJSNumber();if(!R(i))throw new Error(String(i)+" is too large for shifting.");if(i<0)return this.shiftLeft(-i);for(var n=this;A<=i;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(e=N(n,P))[1].isNegative()?e[0].prev():e[0],i-=A-1}return(e=N(n,M[i]))[1].isNegative()?e[0].prev():e[0]},y.prototype.not=m.prototype.not=g.prototype.not=function(){return this.negate().prev()},y.prototype.and=m.prototype.and=g.prototype.and=function(t){return F(this,t,function(t,e){return t&e})},y.prototype.or=m.prototype.or=g.prototype.or=function(t){return F(this,t,function(t,e){return t|e})},y.prototype.xor=m.prototype.xor=g.prototype.xor=function(t){return F(this,t,function(t,e){return t^e})};var j=1<<30,B=(v&-v)*(v&-v)|j;function H(t){var e=t.value,i="number"==typeof e?e|j:"bigint"==typeof e?e|BigInt(j):e[0]+e[1]*v|B;return i&-i}function W(t,e){return t=$(t),e=$(e),t.greater(e)?t:e}function V(t,e){return t=$(t),e=$(e),t.lesser(e)?t:e}function z(t,e){if(t=$(t).abs(),e=$(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var i,n,o=f[1];t.isEven()&&e.isEven();)i=V(H(t),H(e)),t=t.divide(i),e=e.divide(i),o=o.multiply(i);for(;t.isEven();)t=t.divide(H(t));do{for(;e.isEven();)e=e.divide(H(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return o.isUnit()?t:t.multiply(o)}y.prototype.bitLength=m.prototype.bitLength=g.prototype.bitLength=function(){var t=this;return t.compareTo(Z(0))<0&&(t=t.negate().subtract(Z(1))),0===t.compareTo(Z(0))?Z(0):Z(function t(e,i){if(i.compareTo(e)<=0){var n=t(e,i.square(i)),o=n.p,r=n.e,s=o.multiply(i);return s.compareTo(e)<=0?{p:s,e:2*r+1}:{p:o,e:2*r}}return{p:Z(1),e:0}}(t,Z(2)).e).add(Z(1))};var U=function(t,e,i,n){i=i||d,t=String(t),n||(t=t.toLowerCase(),i=i.toLowerCase());var o,r=t.length,s=Math.abs(e),a={};for(o=0;o<i.length;o++)a[i[o]]=o;for(o=0;o<r;o++){if("-"!==(h=t[o])&&(h in a&&a[h]>=s)){if("1"===h&&1===s)continue;throw new Error(h+" is not a valid digit in base "+e+".")}}e=$(e);var l=[],u="-"===t[0];for(o=u?1:0;o<t.length;o++){var h;if((h=t[o])in a)l.push($(a[h]));else{if("<"!==h)throw new Error(h+" is not a valid character");for(var c=o;">"!==t[++o]&&o<t.length;);l.push($(t.slice(c+1,o)))}}return q(l,e,u)};function q(t,e,i){var n,o=f[0],r=f[1];for(n=t.length-1;0<=n;n--)o=o.add(t[n].times(r)),r=r.times(e);return i?o.negate():o}function K(t,e){if((e=Z(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var i=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return i.unshift([1]),{value:[].concat.apply([],i),isNegative:!1}}var n=!1;if(t.isNegative()&&e.isPositive()&&(n=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var o,r=[],s=t;s.isNegative()||0<=s.compareAbs(e);){s=(o=s.divmod(e)).quotient;var a=o.remainder;a.isNegative()&&(a=e.minus(a).abs(),s=s.next()),r.push(a.toJSNumber())}return r.push(s.toJSNumber()),{value:r.reverse(),isNegative:n}}function G(t,e,i){var n=K(t,e);return(n.isNegative?"-":"")+n.value.map(function(t){return function(t,e){return t<(e=e||d).length?e[t]:"<"+t+">"}(t,i)}).join("")}function Y(t){if(_(+t)){var e=+t;if(e===x(e))return p?new y(BigInt(e)):new m(e);throw new Error("Invalid integer: "+t)}var i="-"===t[0];i&&(t=t.slice(1));var n=t.split(/e/i);if(2<n.length)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var o=n[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==x(o)||!_(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var r=n[0],s=r.indexOf(".");if(0<=s&&(o-=r.length-s-1,r=r.slice(0,s)+r.slice(s+1)),o<0)throw new Error("Cannot include negative exponent part for integers");t=r+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(p)return new y(BigInt(i?"-"+t:t));for(var a=[],l=t.length,u=c,h=l-u;0<l;)a.push(+t.slice(h,l)),(h-=u)<0&&(h=0),l-=u;return C(a),new g(a,i)}function $(t){return"number"==typeof t?function(t){if(p)return new y(BigInt(t));if(_(t)){if(t!==x(t))throw new Error(t+" is not an integer.");return new m(t)}return Y(t.toString())}(t):"string"==typeof t?Y(t):"bigint"==typeof t?new y(t):t}g.prototype.toArray=function(t){return K(this,t)},m.prototype.toArray=function(t){return K(this,t)},y.prototype.toArray=function(t){return K(this,t)},g.prototype.toString=function(t,e){if(t===l&&(t=10),10!==t)return G(this,t,e);for(var i,n=this.value,o=n.length,r=String(n[--o]);0<=--o;)i=String(n[o]),r+="0000000".slice(i.length)+i;return(this.sign?"-":"")+r},y.prototype.toString=m.prototype.toString=function(t,e){return t===l&&(t=10),10!=t?G(this,t,e):String(this.value)},y.prototype.toJSON=g.prototype.toJSON=m.prototype.toJSON=function(){return this.toString()},g.prototype.toJSNumber=g.prototype.valueOf=function(){return parseInt(this.toString(),10)},m.prototype.toJSNumber=m.prototype.valueOf=function(){return this.value},y.prototype.valueOf=y.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var t=0;t<1e3;t++)f[t]=$(t),0<t&&(f[-t]=$(-t));return f.one=f[1],f.zero=f[0],f.minusOne=f[-1],f.max=W,f.min=V,f.gcd=z,f.lcm=function(t,e){return t=$(t).abs(),e=$(e).abs(),t.divide(z(t,e)).multiply(e)},f.isInstance=function(t){return t instanceof g||t instanceof m||t instanceof y},f.randBetween=function(t,e,i){t=$(t),e=$(e);var n=i||Math.random,o=V(t,e),r=W(t,e).subtract(o).add(1);if(r.isSmall)return o.add(Math.floor(n()*r));for(var s=K(r,v).value,a=[],l=!0,u=0;u<s.length;u++){var h=l?s[u]:v,c=x(n()*h);a.push(c),c<h&&(l=!1)}return o.add(f.fromArray(a,v,!1))},f.fromArray=function(t,e,i){return q(t.map($),$(e||10),i)},f}();t.hasOwnProperty("exports")&&(t.exports=Z),void 0===(e=function(){return Z}.apply(i,[]))||(t.exports=e)}).call(this,e(234)(t))},function(t,e,i){"use strict";var p=i(43),f=i(58),g=i(78),n=i(145),o=i(115),r=i(102),s=i(162),a=i(163),l=i(210),u=i(211);i(164),i(242),i(124);var m=r.languages;function h(t){return new u({fg:t||"#333",bg:"#f5f5f5",stream:!0,escapeXML:!0})}function c(t,e,i){this.container=e,this.hub=t,this.eventHub=t.createEventHub(),this.compilerService=t.compilerService,this.domRoot=e.getElement(),this.domRoot.html(p("#executor").html()),this.sourceEditorId=i.source||1,this.settings=JSON.parse(a.get("settings","{}")),this.initLangAndCompiler(i),this.infoByLang={},this.deferCompiles=t.deferred,this.needsCompile=!1,this.options=i.options||r.compileOptions[this.currentLangId],this.executionArguments=i.execArgs||"",this.executionStdin=i.execStdin||"",this.source="",this.lastResult={},this.pendingRequestSentAt=0,this.nextRequest=null,this.alertSystem=new s,this.alertSystem.prefixMessage="Executor #"+this.id+": ",this.normalAnsiToHtml=h(),this.errorAnsiToHtml=h("red"),this.initButtons(i),this.fontScale=new o(this.domRoot,i,"pre.content"),this.compilerPicker.selectize({sortField:this.compilerService.getSelectizerOrder(),valueField:"id",labelField:"name",searchField:["name"],optgroupField:"group",optgroups:this.compilerService.getGroupsInUse(this.currentLangId),lockOptgroupOrder:!0,options:f.map(this.getCurrentLangCompilers(),f.identity),items:this.compiler?[this.compiler.id]:[],dropdownParent:"body",closeAfterSelect:!0}).on("change",f.bind(function(t){var e=p(t.target).val();e&&(g.proxy("send",{hitType:"event",eventCategory:"SelectCompiler",eventAction:e}),this.onCompilerChange(e))},this)),this.compilerSelectizer=this.compilerPicker[0].selectize,this.initLibraries(i),this.initCallbacks(),this.onSettingsChange(this.settings),this.updateCompilerInfo(),this.saveState(),g.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Executor"})}function d(t){return{code:-1,stderr:t}}c.prototype.initLangAndCompiler=function(t){var e=t.lang,i=t.compiler,n=this.compilerService.processFromLangAndCompiler(e,i);this.compiler=n.compiler,this.currentLangId=n.langId,this.updateLibraries()},c.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("executorClose",this.id)},c.prototype.undefer=function(){this.deferCompiles=!1,this.needsCompile&&this.compile()},c.prototype.updateAndCalcTopBarHeight=function(){this.hideable.show();var t=this.topBar.outerHeight(!0);this.hideable.hide();var e=this.topBar.outerHeight(!0),i=e;return e===t&&this.hideable.show(),this.panelCompilation.hasClass("d-none")||(i+=this.panelCompilation.outerHeight(!0)),this.panelArgs.hasClass("d-none")||(i+=this.panelArgs.outerHeight(!0)),this.panelStdin.hasClass("d-none")||(i+=this.panelStdin.outerHeight(!0)),i},c.prototype.resize=function(){var t=this.updateAndCalcTopBarHeight(),e=this.bottomBar.outerHeight(!0);this.outputContentRoot.outerHeight(this.domRoot.height()-t-e)},c.prototype.compile=function(i){if(this.deferCompiles)this.needsCompile=!0;else{this.needsCompile=!1,this.compileTimeLabel.text(" - Compiling...");var n={userArguments:this.options,executeParameters:{args:this.executionArguments,stdin:this.executionStdin},compilerOptions:{executorRequest:!0},filters:{execute:!0},tools:[],libraries:[]};f.each(this.libsWidget.getLibsInUse(),function(t){n.libraries.push({id:t.libId,version:t.versionId})}),this.compilerService.expand(this.source).then(f.bind(function(t){var e={source:t||"",compiler:this.compiler?this.compiler.id:"",options:n,lang:this.currentLangId};i&&(e.bypassCache=!0),this.compiler?this.sendCompile(e):this.onCompileResponse(e,d("<Please select a compiler>"),!1)},this))}},c.prototype.sendCompile=function(i){var n=f.bind(this.onCompileResponse,this);this.pendingRequestSentAt?this.nextRequest=i:(this.handleCompilationStatus({code:4}),this.pendingRequestSentAt=Date.now(),this.compilerService.submit(i).then(function(t){n(i,t.result,t.localCacheHit)}).catch(function(t){var e="Unknown error";f.isString(t)?e=t:t&&(e=t.error||t.code),n(i,d(e),!1)}))},c.prototype.addCompilerOutputLine=function(t,e,i,n){var o=p("<p></p>").appendTo(e);i?o.html(p('<span class="linked-compiler-output-line"></span>').html(t).click(f.bind(function(t){return this.eventHub.emit("editorLinkLine",this.sourceEditorId,i,n,!0),t.preventDefault(),!1},this)).on("mouseover",f.bind(function(){this.eventHub.emit("editorLinkLine",this.sourceEditorId,i,n,!1)},this))):o.html(t)},c.prototype.clearPreviousOutput=function(){this.executionStatusSection.empty(),this.compilerOutputSection.empty(),this.executionOutputSection.empty()},c.prototype.onCompileResponse=function(t,e,i){e.source=this.source,this.lastResult=e;var n=Math.max(0,Date.now()-this.pendingRequestSentAt),o=0<this.pendingRequestSentAt;this.pendingRequestSentAt=0,g.proxy("send",{hitType:"event",eventCategory:"Compile",eventAction:t.compiler,eventLabel:t.options.userArguments,eventValue:i?1:0}),g.proxy("send",{hitType:"timing",timingCategory:"Compile",timingVar:t.compiler,timingValue:n}),this.clearPreviousOutput();var r=e.buildResult.stdout||[],s=e.buildResult.stderr||[],a=e.stdout||[],l=e.stderr||[];if(e.didExecute||(this.executionStatusSection.append(p("<p></p>").text("Could not execute the program")),this.executionStatusSection.append(p("<p></p>").text("Compiler returned: "+e.buildResult.code))),0<r.length){this.compilerOutputSection.append(p("<p></p>").text("Compiler stdout"));var u=p('<pre class="card"></pre>').appendTo(this.compilerOutputSection);f.each(r,function(t){if(""===t.text)this.addCompilerOutputLine("<br/>",u);else{var e=t.tag?t.tag.line:t.line,i=t.tag?t.tag.column:-1;this.addCompilerOutputLine(this.normalAnsiToHtml.toHtml(t.text),u,e,i)}},this)}if(0<s.length){this.compilerOutputSection.append(p("<p></p>").text("Compiler stderr"));var h=p('<pre class="card"></pre>').appendTo(this.compilerOutputSection);f.each(s,function(t){if(""===t.text)this.addCompilerOutputLine("<br/>",h);else{var e=t.tag?t.tag.line:t.line,i=t.tag?t.tag.column:-1;this.addCompilerOutputLine(this.errorAnsiToHtml.toHtml(t.text),h,e,i)}},this)}e.didExecute&&(this.executionOutputSection.append(p("<p></p>").text("Program returned: "+e.code)),0<a.length&&(this.executionOutputSection.append(p("<p></p>").text("Program stdout")),p('<pre class="card execution-stdout"></pre>').text(f.pluck(a,"text").join("\n")).appendTo(this.executionOutputSection)),0<l.length&&(this.executionOutputSection.append(p("<p></p>").text("Program stderr")),p('<pre class="card"></pre>').text(f.pluck(l,"text").join("\n")).css({color:"red"}).appendTo(this.executionOutputSection))),this.handleCompilationStatus({code:1,didExecute:e.didExecute});var c="";if(i?c=" - cached":o&&(c=" - "+n+"ms"),this.compileTimeLabel.text(c),this.setCompilationOptionsPopover(e.compilationOptions?e.compilationOptions.join(" "):""),this.eventHub.emit("compileResult",this.id,this.compiler,e.buildResult,m[this.currentLangId]),this.nextRequest){var d=this.nextRequest;this.nextRequest=null,this.sendCompile(d)}},c.prototype.onEditorChange=function(t,e,i,n){t!==this.sourceEditorId||i!==this.currentLangId||void 0!==n&&n!==this.id||(this.source=e,this.settings.compileOnChange&&this.compile())},c.prototype.initButtons=function(t){this.filters=new n(this.domRoot.find(".filters"),t.filters),this.compileClearCache=this.domRoot.find(".clear-cache"),this.outputContentRoot=this.domRoot.find("pre.content"),this.executionStatusSection=this.outputContentRoot.find(".execution-status"),this.compilerOutputSection=this.outputContentRoot.find(".compiler-output"),this.executionOutputSection=this.outputContentRoot.find(".execution-output"),this.optionsField=this.domRoot.find(".compilation-options"),this.execArgsField=this.domRoot.find(".execution-arguments"),this.execStdinField=this.domRoot.find(".execution-stdin"),this.prependOptions=this.domRoot.find(".prepend-options"),this.fullCompilerName=this.domRoot.find(".full-compiler-name"),this.setCompilationOptionsPopover(this.compiler?this.compiler.options:null),this.compileTimeLabel=this.domRoot.find(".compile-time"),this.libsButton=this.domRoot.find(".btn.show-libs"),p(document).on("mouseup",f.bind(function(t){var e=p(t.target);e.is(this.prependOptions)||0!==this.prependOptions.has(e).length||0!==e.closest(".popover").length||this.prependOptions.popover("hide"),e.is(this.fullCompilerName)||0!==this.fullCompilerName.has(e).length||0!==e.closest(".popover").length||this.fullCompilerName.popover("hide")},this)),this.optionsField.val(this.options),this.execArgsField.val(this.executionArguments),this.execStdinField.val(this.executionStdin),this.shortCompilerName=this.domRoot.find(".short-compiler-name"),this.compilerPicker=this.domRoot.find(".compiler-picker"),this.setCompilerVersionPopover(""),this.topBar=this.domRoot.find(".top-bar"),this.bottomBar=this.domRoot.find(".bottom-bar"),this.statusLabel=this.domRoot.find(".status-text"),this.hideable=this.domRoot.find(".hideable"),this.statusIcon=this.domRoot.find(".status-icon"),this.panelCompilation=this.domRoot.find(".panel-compilation"),this.panelArgs=this.domRoot.find(".panel-args"),this.panelStdin=this.domRoot.find(".panel-stdin"),this.initToggleButtons(t)},c.prototype.initToggleButtons=function(t){this.toggleCompilation=this.domRoot.find(".toggle-compilation"),this.toggleArgs=this.domRoot.find(".toggle-args"),this.toggleStdin=this.domRoot.find(".toggle-stdin"),this.toggleCompilerOut=this.domRoot.find(".toggle-compilerout"),!1===t.compilationPanelShown&&this.hidePanel(this.toggleCompilation,this.panelCompilation),!0===t.argsPanelShown&&this.showPanel(this.toggleArgs,this.panelArgs),!0===t.stdinPanelShown&&this.showPanel(this.toggleStdin,this.panelStdin),!1===t.compilerOutShown&&this.hidePanel(this.toggleCompilerOut,this.compilerOutputSection)},c.prototype.onLibsChanged=function(){this.saveState(),this.compile()},c.prototype.initLibraries=function(t){this.libsWidget=new l.Widget(this.currentLangId,this.compiler,this.libsButton,t,f.bind(this.onLibsChanged,this))},c.prototype.onFontScale=function(){this.saveState()},c.prototype.initListeners=function(){this.fontScale.on("change",f.bind(this.onFontScale,this)),this.container.on("destroy",this.close,this),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this),this.container.on("open",function(){this.eventHub.emit("compilerOpen",this.id,this.sourceEditorId)},this),this.eventHub.on("editorChange",this.onEditorChange,this),this.eventHub.on("editorClose",this.onEditorClose,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.on("requestCompilation",this.onRequestCompilation,this),this.eventHub.on("resize",this.resize,this),this.eventHub.on("languageChange",this.onLanguageChange,this)},c.prototype.showPanel=function(t,e){e.removeClass("d-none"),t.addClass("active"),this.resize()},c.prototype.hidePanel=function(t,e){e.addClass("d-none"),t.removeClass("active"),this.resize()},c.prototype.togglePanel=function(t,e){e.hasClass("d-none")?this.showPanel(t,e):this.hidePanel(t,e),this.saveState()},c.prototype.initCallbacks=function(){this.initListeners();var t=f.debounce(f.bind(function(t){this.onOptionsChange(p(t.target).val())},this),800),e=f.debounce(f.bind(function(t){this.onExecArgsChange(p(t.target).val())},this),800),i=f.debounce(f.bind(function(t){this.onExecStdinChange(p(t.target).val())},this),800);this.optionsField.on("change",t).on("keyup",t),this.execArgsField.on("change",e).on("keyup",e),this.execStdinField.on("change",i).on("keyup",i),this.compileClearCache.on("click",f.bind(function(){this.compilerService.cache.reset(),this.compile(!0)},this)),p(document).on("keyup.editable",f.bind(function(t){27===t.which&&this.libsButton.popover("hide")},this)),this.toggleCompilation.on("click",f.bind(function(){this.togglePanel(this.toggleCompilation,this.panelCompilation)},this)),this.toggleArgs.on("click",f.bind(function(){this.togglePanel(this.toggleArgs,this.panelArgs)},this)),this.toggleStdin.on("click",f.bind(function(){this.togglePanel(this.toggleStdin,this.panelStdin)},this)),this.toggleCompilerOut.on("click",f.bind(function(){this.togglePanel(this.toggleCompilerOut,this.compilerOutputSection)},this)),p(document).on("click",f.bind(function(t){var e=this.libsButton,i=p(t.target);i.is(e)||0!==e.has(i).length||0!==i.closest(".popover").length||e.popover("hide")},this)),this.eventHub.on("initialised",this.undefer,this),void 0!==MutationObserver&&new MutationObserver(f.bind(this.resize,this)).observe(this.execStdinField[0],{attributes:!0,attributeFilter:["style"]})},c.prototype.onOptionsChange=function(t){this.options=t,this.saveState(),this.compile()},c.prototype.onExecArgsChange=function(t){this.executionArguments=t,this.saveState(),this.compile()},c.prototype.onExecStdinChange=function(t){this.executionStdin=t,this.saveState(),this.compile()},c.prototype.onRequestCompilation=function(t){t===this.sourceEditorId&&this.compile()},c.prototype.updateCompilerInfo=function(){this.updateCompilerName(),this.compiler&&(this.compiler.notification&&this.alertSystem.notify(this.compiler.notification,{group:"compilerwarning",alertClass:"notification-info",dismissTime:5e3}),this.prependOptions.data("content",this.compiler.options))},c.prototype.updateCompilerUI=function(){this.updateCompilerInfo(),this.resize()},c.prototype.onCompilerChange=function(t){this.compiler=this.compilerService.findCompiler(this.currentLangId,t),this.updateLibraries(),this.saveState(),this.compile(),this.updateCompilerUI()},c.prototype.onEditorClose=function(t){t===this.sourceEditorId&&(this.close(),f.defer(function(t){t.container.close()},this))},c.prototype.currentState=function(){var t={compiler:this.compiler?this.compiler.id:"",source:this.sourceEditorId,options:this.options,execArgs:this.executionArguments,execStdin:this.executionStdin,libs:this.libsWidget.get(),lang:this.currentLangId,compilationPanelShown:!this.panelCompilation.hasClass("d-none"),compilerOutShown:!this.compilerOutputSection.hasClass("d-none"),argsPanelShown:!this.panelArgs.hasClass("d-none"),stdinPanelShown:!this.panelStdin.hasClass("d-none")};return this.fontScale.addState(t),t},c.prototype.saveState=function(){this.container.setState(this.currentState())},c.prototype.getCompilerName=function(){return this.compiler?this.compiler.name:"No compiler set"},c.prototype.getLanguageName=function(){var t=r.languages[this.currentLangId];return t?t.name:"?"},c.prototype.getPaneName=function(){var t=this.getLanguageName();return this.getCompilerName()+" Executor (Editor #"+this.sourceEditorId+") "+t},c.prototype.updateCompilerName=function(){var t=this.getCompilerName(),e=this.compiler?this.compiler.version:"";this.container.setTitle(this.getPaneName()),this.shortCompilerName.text(t),this.setCompilerVersionPopover(e)},c.prototype.setCompilationOptionsPopover=function(t){this.prependOptions.popover("dispose"),this.prependOptions.popover({content:t||"No options in use",template:'<div class="popover'+(t?" compiler-options-popover":"")+'" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'})},c.prototype.setCompilerVersionPopover=function(t){this.fullCompilerName.popover("dispose"),this.fullCompilerName.popover({content:t||"",template:'<div class="popover'+(t?" compiler-options-popover":"")+'" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'})},c.prototype.onSettingsChange=function(t){this.settings=f.clone(t)},c.prototype.handleCompilationStatus=function(t){this.statusLabel&&this.statusIcon&&this.statusIcon.removeClass().addClass("status-icon fas").css("color",4===t.code?"black":t.didExecute?"#12BB12":"#FF1212").toggle(0!==t.code).prop("aria-label",4===t.code?"Compiling":t.didExecute?"Program compiled & executed":"Program could not be executed").prop("data-status",t.code).toggleClass("fa-spinner",4===t.code).toggleClass("fa-times-circle",4!==t.code&&!t.didExecute).toggleClass("fa-check-circle",4!==t.code&&t.didExecute)},c.prototype.updateLibraries=function(){this.libsWidget&&this.libsWidget.setNewLangId(this.currentLangId,this.compiler.id,this.compiler.libs)},c.prototype.onLanguageChange=function(t,e){if(this.sourceEditorId===t){var i=this.currentLangId;this.currentLangId=e,this.infoByLang[i]={compiler:this.compiler&&this.compiler.id?this.compiler.id:r.defaultCompiler[i],options:this.options,execArgs:this.executionArguments,execStdin:this.executionStdin};var n=this.infoByLang[this.currentLangId]||{};this.initLangAndCompiler({lang:e,compiler:n.compiler}),this.updateCompilersSelector(n),this.updateCompilerUI(),this.saveState()}},c.prototype.getCurrentLangCompilers=function(){return this.compilerService.getCompilersForLang(this.currentLangId)},c.prototype.updateCompilersSelector=function(t){this.compilerSelectizer.clearOptions(!0),this.compilerSelectizer.clearOptionGroups(),f.each(this.compilerService.getGroupsInUse(this.currentLangId),function(t){this.compilerSelectizer.addOptionGroup(t.value,{label:t.label})},this),this.compilerSelectizer.load(f.bind(function(t){t(f.map(this.getCurrentLangCompilers(),f.identity))},this)),this.compilerSelectizer.setValue([this.compiler?this.compiler.id:null],!0),this.options=t.options||"",this.optionsField.val(this.options),this.executionArguments=t.execArgs||"",this.execArgsField.val(this.executionArguments),this.executionStdin=t.execStdin||"",this.execStdinField.val(this.executionStdin)},t.exports={Executor:c}},function(t,e,i){"use strict";var o=i(58),r=i(43),n=i(115),s=i(211),a=i(145),l=i(78);function u(t){return new s({fg:t||"#333",bg:"#f5f5f5",stream:!0,escapeXML:!0})}function h(t,e,i){this.container=e,this.compilerId=i.compiler,this.editorId=i.editor,this.eventHub=t.createEventHub(),this.domRoot=e.getElement(),this.domRoot.html(r("#compiler-output").html()),this.contentRoot=this.domRoot.find(".content"),this.optionsToolbar=this.domRoot.find(".options-toolbar"),this.compilerName="",this.fontScale=new n(this.domRoot,i,".content"),this.fontScale.on("change",o.bind(function(){this.saveState()},this)),this.normalAnsiToHtml=u(),this.errorAnsiToHtml=u("red"),this.initButtons(),this.initCallbacks(i),this.onOptionsChange(),this.updateCompilerName(),l.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Output"})}h.prototype.initCallbacks=function(t){this.options=new a(this.domRoot.find(".options"),t),this.options.on("change",o.bind(this.onOptionsChange,this)),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this),this.container.on("destroy",this.close,this),this.eventHub.on("compiling",this.onCompiling,this),this.eventHub.on("compileResult",this.onCompileResult,this),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.emit("outputOpened",this.compilerId)},h.prototype.getEffectiveOptions=function(){return this.options.get()},h.prototype.resize=function(){this.contentRoot.height(this.domRoot.height()-this.optionsToolbar.height()-5)},h.prototype.onOptionsChange=function(){var t=this.getEffectiveOptions();this.contentRoot.toggleClass("wrap",t.wrap),this.wrapButton.prop("title","["+(t.wrap?"ON":"OFF")+"] "+this.wrapTitle),this.saveState()},h.prototype.initButtons=function(){this.wrapButton=this.domRoot.find(".wrap-lines"),this.wrapTitle=this.wrapButton.prop("title")},h.prototype.currentState=function(){var t=this.getEffectiveOptions(),e={compiler:this.compilerId,editor:this.editorId,wrap:t.wrap};return this.fontScale.addState(e),e},h.prototype.saveState=function(){this.container.setState(this.currentState())},h.prototype.addOutputLines=function(t){o.each((t.stdout||[]).concat(t.stderr||[]),function(t){var e=t.tag?t.tag.line:t.line,i=t.tag?t.tag.column:-1;""===t.text?this.add("<br/>"):this.add(this.normalAnsiToHtml.toHtml(t.text),e,i)},this)},h.prototype.onCompiling=function(t){this.compilerId===t&&this.setCompileStatus(!0)},h.prototype.onCompileResult=function(t,e,i){t===this.compilerId&&(e&&(this.compilerName=e.name),this.contentRoot.empty(),this.addOutputLines(i),i.execResult?(this.add("ASM generation compiler returned: "+i.code),this.addOutputLines(i.execResult.buildResult),this.add("Execution build compiler returned: "+i.execResult.buildResult.code)):this.add("Compiler returned: "+i.code),i.execResult&&i.execResult.didExecute&&(this.add("Program returned: "+i.execResult.code),(i.execResult.stderr.length||i.execResult.stdout.length)&&(o.each(i.execResult.stderr,function(t){""===t.text?this.programOutput("<br/>"):this.programOutput(this.errorAnsiToHtml.toHtml(t.text),"red")},this),o.each(i.execResult.stdout,function(t){""===t.text?this.programOutput("<br/>"):this.programOutput(this.normalAnsiToHtml.toHtml(t.text))},this))),this.setCompileStatus(!1),this.updateCompilerName())},h.prototype.programOutput=function(t,e){var i=r("<p></p>").appendTo(this.contentRoot).html(t).addClass("program-exec-output");e&&i.css("color",e)},h.prototype.add=function(t,e,i){var n=r("<p></p>").appendTo(this.contentRoot);e?n.html(r('<span class="linked-compiler-output-line"></span>').html(t).click(o.bind(function(t){return this.eventHub.emit("editorLinkLine",this.editorId,e,i,!0),t.preventDefault(),!1},this)).on("mouseover",o.bind(function(){this.eventHub.emit("editorLinkLine",this.editorId,e,i,!1)},this))):n.html(t)},h.prototype.updateCompilerName=function(){var t="#"+this.compilerId;this.compilerName&&(t+=" with "+this.compilerName),this.container.setTitle(t)},h.prototype.onCompilerClose=function(t){t===this.compilerId&&(this.close(),o.defer(function(t){t.container.close()},this))},h.prototype.close=function(){this.eventHub.emit("outputClosed",this.compilerId),this.eventHub.unsubscribe()},h.prototype.setCompileStatus=function(t){this.contentRoot.toggleClass("compiling",t)},t.exports={Output:h}},function(t,e,i){"use strict";var r=i(58),n=i(43),o=i(115),s=i(211),a=i(145),l=i(78),u=i(59);function h(t){return new s({fg:t||"#333",bg:"#f5f5f5",stream:!0,escapeXML:!0})}function c(t,e,i){this.container=e,this.compilerId=i.compiler,this.editorId=i.editor,this.toolId=i.toolId,this.toolName="Tool",this.compilerService=t.compilerService,this.eventHub=t.createEventHub(),this.domRoot=e.getElement(),this.domRoot.html(n("#tool-output").html()),this.editorContentRoot=this.domRoot.find(".monaco-placeholder"),this.plainContentRoot=this.domRoot.find("pre.content"),this.optionsToolbar=this.domRoot.find(".options-toolbar"),this.compilerName="",this.normalAnsiToHtml=h(),this.errorAnsiToHtml=h("red"),this.optionsField=this.domRoot.find("input.options"),this.stdinField=this.domRoot.find("textarea.tool-stdin"),this.outputEditor=u.editor.create(this.editorContentRoot[0],{scrollBeyondLastLine:!1,readOnly:!0,language:"text",fontFamily:"courier new",glyphMargin:!0,fixedOverflowWidgets:!0,minimap:{maxColumn:80},lineNumbersMinChars:5,renderIndentGuides:!1}),this.fontScale=new o(this.domRoot,i,".content,.monaco-editor"),this.fontScale.on("change",r.bind(function(){this.saveState()},this)),this.initButtons(i),this.options=new a(this.domRoot.find(".options"),i),this.options.on("change",r.bind(this.onOptionsChange,this)),this.initArgs(i),this.initCallbacks(),this.onOptionsChange(),this.updateCompilerName(),l.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Tool"}),this.eventHub.emit("toolOpened",this.compilerId,this.currentState()),this.eventHub.emit("requestSettings")}i(366),c.prototype.initCallbacks=function(){this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this),this.container.on("destroy",this.close,this),this.eventHub.on("compileResult",this.onCompileResult,this),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.toggleArgs.on("click",r.bind(function(){this.togglePanel(this.toggleArgs,this.panelArgs)},this)),this.toggleStdin.on("click",r.bind(function(){this.togglePanel(this.toggleStdin,this.panelStdin)},this)),void 0!==MutationObserver&&new MutationObserver(r.bind(this.resize,this)).observe(this.stdinField[0],{attributes:!0,attributeFilter:["style"]})},c.prototype.onSettingsChange=function(t){this.outputEditor.updateOptions({contextmenu:t.useCustomContextMenu,minimap:{enabled:t.showMinimap},fontFamily:t.editorsFFont})},c.prototype.initArgs=function(t){var e=r.debounce(r.bind(function(t){this.onOptionsChange(n(t.target).val()),this.eventHub.emit("toolSettingsChange",this.compilerId)},this),800);this.optionsField&&(this.optionsField.on("change",e).on("keyup",e),t.args&&this.optionsField.val(t.args)),this.stdinField&&(this.stdinField.on("change",e).on("keyup",e),t.stdin&&this.stdinField.val(t.stdin))},c.prototype.getInputArgs=function(){return this.optionsField?this.optionsField.val():""},c.prototype.getInputStdin=function(){return this.stdinField?this.stdinField.val():""},c.prototype.getEffectiveOptions=function(){return this.options.get()},c.prototype.resize=function(){var t=this.optionsToolbar.outerHeight()+2;this.panelArgs.hasClass("d-none")||(t+=this.panelArgs.outerHeight()),this.panelStdin.hasClass("d-none")||(t+=this.panelStdin.outerHeight()),this.outputEditor.layout({width:this.domRoot.width(),height:this.domRoot.height()-t}),this.plainContentRoot.height(this.domRoot.height()-t)},c.prototype.onOptionsChange=function(){var t=this.getEffectiveOptions();this.plainContentRoot.toggleClass("wrap",t.wrap),this.wrapButton.prop("title","["+(t.wrap?"ON":"OFF")+"] "+this.wrapTitle),this.saveState()},c.prototype.initButtons=function(t){this.wrapButton=this.domRoot.find(".wrap-lines"),this.wrapTitle=this.wrapButton.prop("title"),this.panelArgs=this.domRoot.find(".panel-args"),this.panelStdin=this.domRoot.find(".panel-stdin"),this.initToggleButtons(t)},c.prototype.initToggleButtons=function(t){this.toggleArgs=this.domRoot.find(".toggle-args"),this.toggleStdin=this.domRoot.find(".toggle-stdin"),!0===t.argsPanelShown&&this.showPanel(this.toggleArgs,this.panelArgs),!0===t.stdinPanelShown&&this.showPanel(this.toggleStdin,this.panelStdin)},c.prototype.showPanel=function(t,e){e.removeClass("d-none"),t.addClass("active"),this.resize()},c.prototype.hidePanel=function(t,e){e.addClass("d-none"),t.removeClass("active"),this.resize()},c.prototype.togglePanel=function(t,e){e.hasClass("d-none")?this.showPanel(t,e):this.hidePanel(t,e),this.saveState()},c.prototype.currentState=function(){var t=this.getEffectiveOptions(),e={compiler:this.compilerId,editor:this.editorId,wrap:t.wrap,toolId:this.toolId,args:this.getInputArgs(),stdin:this.getInputStdin(),stdinPanelShown:!this.panelStdin.hasClass("d-none"),argsPanelShow:!this.panelArgs.hasClass("d-none")};return this.fontScale.addState(e),e},c.prototype.saveState=function(){this.container.setState(this.currentState())},c.prototype.setLanguage=function(t){t?(this.options.enableToggle("wrap",!1),u.editor.setModelLanguage(this.outputEditor.getModel(),t),this.outputEditor.setValue(""),n(this.plainContentRoot).hide(),n(this.editorContentRoot).show()):(this.options.enableToggle("wrap",!0),this.plainContentRoot.empty(),n(this.editorContentRoot).hide(),n(this.plainContentRoot).show())},c.prototype.onCompileResult=function(t,e,i){try{if(t!==this.compilerId)return;e&&(this.compilerName=e.name);var n=null;i&&i.tools&&(n=r.find(i.tools,function(t){return t.id===this.toolId},this));var o=null;e&&e.tools&&(o=r.find(e.tools,function(t){return t.tool.id===this.toolId},this)),o&&(this.toggleStdin.prop("disabled",!1),o.tool.stdinHint?(this.stdinField.prop("placeholder",o.tool.stdinHint),"disabled"===o.tool.stdinHint&&this.toggleStdin.prop("disabled",!0)):this.stdinField.prop("placeholder","Tool stdin...")),n?(n.languageId&&"stderr"===n.languageId&&(n.languageId=!1),this.setLanguage(n.languageId),n.languageId?this.setEditorContent(r.pluck(n.stdout,"text").join("\n")):r.each((n.stdout||[]).concat(n.stderr||[]),function(t){""===t.text?this.add("<br/>"):this.add(this.normalAnsiToHtml.toHtml(t.text),t.tag?t.tag.line:t.line)},this),this.toolName=n.name,this.updateCompilerName(),n.sourcechanged&&this.eventHub.emit("newSource",this.editorId,n.newsource)):this.setEditorContent("No tool result")}catch(t){this.setLanguage(!1),this.add("javascript error: "+t.message)}},c.prototype.add=function(t,e){var i=n("<p></p>").appendTo(this.plainContentRoot);e?i.html(n("<a></a>").prop("href","javascript:;").html(t).click(r.bind(function(t){return this.eventHub.emit("editorSetDecoration",this.editorId,e,!0),t.preventDefault(),!1},this)).on("mouseover",r.bind(function(){this.eventHub.emit("editorSetDecoration",this.editorId,e,!1)},this))):i.html(t)},c.prototype.setEditorContent=function(t){if(this.outputEditor&&this.outputEditor.getModel()){var e=this.outputEditor.getModel(),i=this.outputEditor.getVisibleRanges(),n=0<i.length?i[0].startLineNumber:1;e.setValue(t),this.outputEditor.revealLine(n),this.setNormalContent()}},c.prototype.setNormalContent=function(){this.outputEditor.updateOptions({lineNumbers:!0,codeLens:!1}),this.codeLensProvider&&this.codeLensProvider.dispose()},c.prototype.updateCompilerName=function(){var t=this.toolName+" #"+this.compilerId;this.compilerName&&(t+=" with "+this.compilerName),this.container.setTitle(t)},c.prototype.onCompilerClose=function(t){t===this.compilerId&&(this.close(),r.defer(function(t){t.container.close()},this))},c.prototype.close=function(){this.eventHub.emit("toolClosed",this.compilerId,this.currentState()),this.eventHub.unsubscribe(),this.outputEditor.dispose()},t.exports={Tool:c}},function(t,e,i){"use strict";var n=i(59);var o={tokenizer:{root:[[/^[a-zA-Z_][a-zA-Z_0-9]*/,{token:"type.identifier"}],[/^\s+/,{token:"whitespace",next:"@opcode"}],[/^\.[a-zA-Z]+\s*/,{token:"type.identifier",next:"@arguments"}],[/;.*$/,{token:"comment",next:"@root"}],[/\s*,\s*/,{token:"delimiter",next:"@arguments"}]],opcode:[[/[a-zA-Z]+$/,{token:"keyword",next:"@root"}],[/[a-zA-Z]+\s*/,{token:"keyword",next:"@arguments"}],[/;.*$/,{token:"comment",next:"@root"}]],arguments:[[/\$#[0-9a-fA-F]+/,{token:"number",next:"@root"}],[/\$[0-9a-fA-F]+/,{token:"number",next:"@root"}],[/#\$[0-9a-fA-F]+/,{token:"number",next:"@root"}],[/#<[0-9]+\(%[a-zA-Z]+\)/,{token:"number",next:"@root"}],[/#>[0-9]+\(%[a-zA-Z]+\)/,{token:"number",next:"@root"}],[/#<\$[0-9a-fA-F]+/,{token:"number",next:"@root"}],[/#>\$[0-9a-fA-F]+/,{token:"number",next:"@root"}],[/#%[0-1]+/,{token:"number",next:"@root"}],[/#[0-9]+/,{token:"number",next:"@root"}],[/[a-zA-Z_][a-zA-Z_0-9]*/,{token:"type.identifier",next:"@root"}],[/[0-9]+/,{token:"number",next:"@root"}],[/;.*$/,{token:"comment",next:"@root"}]]}};n.languages.register({id:"asm6502"}),n.languages.setMonarchTokensProvider("asm6502",o),t.exports=o},function(t,e,i){"use strict";var n=i(115),o=i(59),r=i(58),s=i(43),a=i(78);function l(t,e){this.id=t,this.model=e,this.compiler=null,this.result=null}function u(t,e,i){this.container=e,this.eventHub=t.createEventHub(),this.domRoot=e.getElement(),this.domRoot.html(s("#diff").html()),this.compilers={},this.outputEditor=o.editor.createDiffEditor(this.domRoot.find(".monaco-placeholder")[0],{fontFamily:'Consolas, "Liberation Mono", Courier, monospace',scrollBeyondLastLine:!1,readOnly:!0,language:"asm"}),this.lhs=new l(i.lhs,o.editor.createModel("","asm")),this.rhs=new l(i.rhs,o.editor.createModel("","asm")),this.outputEditor.setModel({original:this.lhs.model,modified:this.rhs.model});var n=this.domRoot.find(".diff-picker").selectize({sortField:"name",valueField:"id",labelField:"name",searchField:["name"],options:[],items:[],render:{option:function(t,e){return'<div><span class="compiler">'+e(t.compiler.name)+'</span><span class="options">'+e(t.options)+'</span><ul class="meta"><li class="editor">Editor #'+e(t.editorId)+'</li><li class="compilerId">Compiler #'+e(t.id)+"</li></ul></div>"}},dropdownParent:"body"}).on("change",r.bind(function(t){var e=s(t.target),i=this.compilers[e.val()];i&&(e.hasClass("lhs")?(this.lhs.compiler=i,this.lhs.id=i.id):(this.rhs.compiler=i,this.rhs.id=i.id),this.onDiffSelect(i.id))},this));this.selectize={lhs:n[0].selectize,rhs:n[1].selectize},this.initButtons(i),this.initCallbacks(),this.updateCompilerNames(),this.updateCompilers(),a.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Diff"})}i(164),i(124),l.prototype.update=function(t,e,i){if(this.id!==t)return!1;this.compiler=e;var n=(this.result=i).asm||[];return this.model.setValue(r.pluck(n,"text").join("\n")),!0},u.prototype.resize=function(){var t=this.topBar.outerHeight(!0);this.outputEditor.layout({width:this.domRoot.width(),height:this.domRoot.height()-t})},u.prototype.onDiffSelect=function(t){this.eventHub.emit("resendCompilation",t),this.updateCompilerNames(),this.updateState()},u.prototype.onCompileResult=function(t,e,i){var n=this.lhs.update(t,e,i),o=this.rhs.update(t,e,i);(n||o)&&this.updateCompilerNames()},u.prototype.initButtons=function(t){this.fontScale=new n(this.domRoot,t,this.outputEditor),this.topBar=this.domRoot.find(".top-bar")},u.prototype.initCallbacks=function(){this.fontScale.on("change",r.bind(this.updateState,this)),this.eventHub.on("compileResult",this.onCompileResult,this),this.eventHub.on("compiler",this.onCompiler,this),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.on("themeChange",this.onThemeChange,this),this.container.on("destroy",function(){this.eventHub.unsubscribe(),this.outputEditor.dispose()},this),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this),this.eventHub.emit("resendCompilation",this.lhs.id),this.eventHub.emit("resendCompilation",this.rhs.id),this.eventHub.emit("findCompilers"),this.eventHub.emit("requestTheme"),this.eventHub.emit("requestSettings")},u.prototype.onCompiler=function(t,e,i,n){if(e){i=i||"";var o=e.name+" "+i;27<o.length&&(o=o.substr(0,27)+"..."),this.compilers[t]={id:t,name:o,options:i,editorId:n,compiler:e},this.lhs.id?this.rhs.id||(this.rhs.compiler=this.compilers[t],this.rhs.id=t,this.onDiffSelect(t)):(this.lhs.compiler=this.compilers[t],this.lhs.id=t,this.onDiffSelect(t)),this.updateCompilers()}},u.prototype.onCompilerClose=function(t){delete this.compilers[t],this.updateCompilers()},u.prototype.updateCompilerNames=function(){var t="Diff";this.lhs.compiler&&this.rhs.compiler&&(t+=" "+this.lhs.compiler.name+" vs "+this.rhs.compiler.name),this.container.setTitle(t)},u.prototype.updateCompilersFor=function(e,t){e.clearOptions(),r.each(this.compilers,function(t){e.addOption(t)},this),this.compilers[t]&&e.setValue(t)},u.prototype.updateCompilers=function(){this.updateCompilersFor(this.selectize.lhs,this.lhs.id),this.updateCompilersFor(this.selectize.rhs,this.rhs.id)},u.prototype.updateState=function(){var t={lhs:this.lhs.id,rhs:this.rhs.id};this.fontScale.addState(t),this.container.setState(t)},u.prototype.onThemeChange=function(t){this.outputEditor&&this.outputEditor.updateOptions({theme:t.monaco})},u.prototype.onSettingsChange=function(t){this.outputEditor.updateOptions({minimap:{enabled:t.showMinimap},fontFamily:t.editorsFFont})},t.exports={Diff:u,getComponent:function(t,e){return{type:"component",componentName:"diff",componentState:{lhs:t,rhs:e}}}}},function(t,e,i){"use strict";var n=i(115),s=i(59),a=i(58),o=i(43),r=i(78);function l(t,e,i){i=i||{},this.container=e,this.eventHub=t.createEventHub(),this.domRoot=e.getElement(),this.domRoot.html(o("#opt").html()),this.source=i.source||"",this._currentDecorations=[],this.optEditor=s.editor.create(this.domRoot.find(".monaco-placeholder")[0],{value:this.source,scrollBeyondLastLine:!1,language:"plaintext",readOnly:!0,glyphMargin:!0,quickSuggestions:!1,fixedOverflowWidgets:!0,fontFamily:'Consolas, "Liberation Mono", Courier, monospace',minimap:{maxColumn:80},lineNumbersMinChars:3}),this._compilerid=i.id,this._compilerName=i.compilerName,this._editorid=i.editorid,this.isCompilerSupported=!1,this.initButtons(i),this.initCallbacks(),i&&i.optOutput&&this.showOptResults(i.optOutput),this.setTitle(),this.eventHub.emit("optViewOpened",this._compilerid),r.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Opt"})}i(164),i(124),l.prototype.initButtons=function(t){this.fontScale=new n(this.domRoot,t,this.optEditor),this.topBar=this.domRoot.find(".top-bar")},l.prototype.initCallbacks=function(){this.fontScale.on("change",a.bind(this.updateState,this)),this.eventHub.on("compileResult",this.onCompileResult,this),this.eventHub.on("compiler",this.onCompiler,this),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.on("resize",this.resize,this),this.container.on("destroy",this.close,this),this.eventHub.emit("requestSettings"),this.eventHub.emit("findCompilers"),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this)},l.prototype.onCompileResult=function(t,e,i,n){this._compilerid===t&&this.isCompilerSupported&&(this.source=i.source,this.optEditor.setValue(this.source),i.hasOptOutput&&this.showOptResults(i.optOutput),n&&n.monaco&&this.getCurrentEditorLanguage()!==n.monaco&&s.editor.setModelLanguage(this.optEditor.getModel(),n.monaco))},l.prototype.getCurrentEditorLanguage=function(){return this.optEditor.getModel().getModeId()},l.prototype.setTitle=function(){this.container.setTitle(this._compilerName+" Opt Viewer (Editor #"+this._editorid+", Compiler #"+this._compilerid+")")},l.prototype.getDisplayableOpt=function(t){return{value:"**"+t.optType+"** - "+t.displayString,isTrusted:!1}},l.prototype.showOptResults=function(t){var r=[];t=a.filter(t,function(t){return void 0!==t.DebugLoc}),t=a.groupBy(t,function(t){return t.DebugLoc.Line}),a.mapObject(t,function(t,e){var i=Number(e),n=t.reduce(function(t,e){return"Missed"===e.optType||"Missed"===t?"Missed":"Passed"===e.optType||"Passed"===t?"Passed":e.optType},""),o=a.map(t,this.getDisplayableOpt,this);r.push({range:new s.Range(i,1,i,1/0),options:{isWholeLine:!0,glyphMarginClassName:"opt-decoration."+n.toLowerCase(),hoverMessage:o,glyphMarginHoverMessage:o}})},this),this._currentDecorations=this.optEditor.deltaDecorations(this._currentDecorations,r)},l.prototype.onCompiler=function(t,e){t===this._compilerid&&(this._compilerName=e?e.name:"",this.setTitle(),this.isCompilerSupported=!!e&&e.supportsOptOutput,this.isCompilerSupported||this.optEditor.setValue("<OPT output is not supported for this compiler>"))},l.prototype.resize=function(){var t=this.topBar.outerHeight(!0);this.optEditor.layout({width:this.domRoot.width(),height:this.domRoot.height()-t})},l.prototype.updateState=function(){this.container.setState(this.currentState())},l.prototype.currentState=function(){var t={id:this._compilerid,editorid:this._editorid};return this.fontScale.addState(t),t},l.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("optViewClosed",this._compilerid),this.optEditor.dispose()},l.prototype.onCompilerClose=function(t){t===this._compilerid&&(this.close(),a.defer(function(t){t.container.close()},this))},l.prototype.onSettingsChange=function(t){this.optEditor.updateOptions({contextmenu:t.useCustomContextMenu,minimap:{enabled:t.showMinimap},fontFamily:t.editorsFFont})},t.exports={Opt:l}},function(t,e,i){"use strict";var n=i(115),o=i(59),r=i(58),s=i(43),a=i(78);function l(t,e,i){this.container=e,this.eventHub=t.createEventHub(),this.domRoot=e.getElement(),this.domRoot.html(s("#ast").html()),this._currentDecorations=[],this.astEditor=o.editor.create(this.domRoot.find(".monaco-placeholder")[0],{value:"",scrollBeyondLastLine:!1,language:"plaintext",readOnly:!0,glyphMargin:!0,fontFamily:'Consolas, "Liberation Mono", Courier, monospace',quickSuggestions:!1,fixedOverflowWidgets:!0,minimap:{maxColumn:80},lineNumbersMinChars:3}),this._compilerid=i.id,this._compilerName=i.compilerName,this._editorid=i.editorid,this.initButtons(i),this.initCallbacks(),i&&i.astOutput&&this.showAstResults(i.astOutput),this.setTitle(),a.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Ast"})}l.prototype.initButtons=function(t){this.fontScale=new n(this.domRoot,t,this.astEditor),this.topBar=this.domRoot.find(".top-bar")},l.prototype.initCallbacks=function(){this.fontScale.on("change",r.bind(this.updateState,this)),this.container.on("destroy",this.close,this),this.eventHub.on("compileResult",this.onCompileResult,this),this.eventHub.on("compiler",this.onCompiler,this),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.emit("astViewOpened",this._compilerid),this.eventHub.emit("requestSettings"),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this)},l.prototype.resize=function(){var t=this.topBar.outerHeight(!0);this.astEditor.layout({width:this.domRoot.width(),height:this.domRoot.height()-t})},l.prototype.onCompileResult=function(t,e,i,n){this._compilerid===t&&(i.hasAstOutput?this.showAstResults(i.astOutput):e.supportsAstView&&this.showAstResults("<No output>"),n&&n.monaco&&this.getCurrentEditorLanguage()!==n.monaco&&o.editor.setModelLanguage(this.astEditor.getModel(),n.monaco))},l.prototype.getCurrentEditorLanguage=function(){return this.astEditor.getModel().getModeId()},l.prototype.setTitle=function(){this.container.setTitle(this._compilerName+" Ast Viewer (Editor #"+this._editorid+", Compiler #"+this._compilerid+")")},l.prototype.getDisplayableAst=function(t){return"**"+t.astType+"** - "+t.displayString},l.prototype.showAstResults=function(t){this.astEditor.setValue(t)},l.prototype.onCompiler=function(t,e,i,n){t===this._compilerid&&(this._compilerName=e?e.name:"",this._editorid=n,this.setTitle(),e&&!e.supportsAstView&&this.astEditor.setValue("<AST output is not supported for this compiler>"))},l.prototype.onCompilerClose=function(t){t===this._compilerid&&r.defer(function(t){t.container.close()},this)},l.prototype.updateState=function(){this.container.setState(this.currentState())},l.prototype.currentState=function(){var t={id:this._compilerid,editorid:this._editorid};return this.fontScale.addState(t),t},l.prototype.onCompilerClose=function(t){t===this._compilerid&&(this.close(),r.defer(function(t){t.container.close()},this))},l.prototype.onSettingsChange=function(t){this.astEditor.updateOptions({contextmenu:t.useCustomContextMenu,minimap:{enabled:t.showMinimap},fontFamily:t.editorsFFont})},l.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("astViewClosed",this._compilerid),this.astEditor.dispose()},t.exports={Ast:l}},function(t,e,i){"use strict";var n=i(115),s=i(59),a=i(58),o=i(43),r=i(176),l=i(78);function u(t,e,i){this.container=e,this.eventHub=t.createEventHub(),this.domRoot=e.getElement(),this.domRoot.html(o("#ir").html()),this.decorations={},this.prevDecorations=[],this.irEditor=s.editor.create(this.domRoot.find(".monaco-placeholder")[0],{fontFamily:'Consolas, "Liberation Mono", Courier, monospace',value:"",scrollBeyondLastLine:!1,language:"llvm-ir",readOnly:!0,folding:!0,glyphMargin:!0,quickSuggestions:!1,fixedOverflowWidgets:!0,minimap:{maxColumn:80},lineNumbersMinChars:3}),this._compilerid=i.id,this._compilerName=i.compilerName,this._editorid=i.editorid,this.settings={},this.colours=[],this.irCode=[],this.lastColours=[],this.lastColourScheme={},this.initButtons(i),this.initCallbacks(),this.initEditorActions(),i&&i.irOutput&&this.showIrResults(i.irOutput),this.setTitle(),l.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Ir"})}u.prototype.initEditorActions=function(){this.irEditor.addAction({id:"viewsource",label:"Scroll to source",keybindings:[s.KeyMod.CtrlCmd|s.KeyCode.F10],keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:a.bind(function(t){var e=t.getPosition().lineNumber-1,i=this.irCode[e].source;null!==i&&null===i.file&&this.eventHub.emit("editorLinkLine",this._editorid,i.line,-1,!0)},this)})},u.prototype.initButtons=function(t){this.fontScale=new n(this.domRoot,t,this.irEditor),this.topBar=this.domRoot.find(".top-bar")},u.prototype.initCallbacks=function(){this.linkedFadeTimeoutId=-1,this.mouseMoveThrottledFunction=a.throttle(a.bind(this.onMouseMove,this),50),this.irEditor.onMouseMove(a.bind(function(t){this.mouseMoveThrottledFunction(t)},this)),this.fontScale.on("change",a.bind(this.updateState,this)),this.container.on("destroy",this.close,this),this.eventHub.on("compileResult",this.onCompileResponse,this),this.eventHub.on("compiler",this.onCompiler,this),this.eventHub.on("colours",this.onColours,this),this.eventHub.on("panesLinkLine",this.onPanesLinkLine,this),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.emit("irViewOpened",this._compilerid),this.eventHub.emit("requestSettings"),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this)},u.prototype.resize=function(){var t=this.topBar.outerHeight(!0);this.irEditor.layout({width:this.domRoot.width(),height:this.domRoot.height()-t})},u.prototype.onCompileResponse=function(t,e,i){this._compilerid===t&&(i.hasIrOutput?this.showIrResults(i.irOutput):e.supportsIrView&&this.showIrResults([{text:"<No output>"}]),this.onColours(this._compilerid,this.lastColours,this.lastColourScheme))},u.prototype.getPaneName=function(){return this._compilerName+" IR Viewer (Editor #"+this._editorid+", Compiler #"+this._compilerid+")"},u.prototype.setTitle=function(){this.container.setTitle(this.getPaneName())},u.prototype.showIrResults=function(t){this.irEditor&&(this.irCode=t,this.irEditor.getModel().setValue(t.length?a.pluck(t,"text").join("\n"):"<No IR generated>"))},u.prototype.onCompiler=function(t,e,i,n){t===this._compilerid&&(this._compilerName=e?e.name:"",this._editorid=n,this.setTitle(),e&&!e.supportsIrView&&this.irEditor.setValue("<IR output is not supported for this compiler>"))},u.prototype.onColours=function(t,i,e){if(this.lastColours=i,this.lastColourScheme=e,t===this._compilerid){var n={};a.each(this.irCode,function(t,e){t.source&&null===t.source.file&&0<t.source.line&&void 0!==i[t.source.line-1]&&(n[e]=i[t.source.line-1])}),this.colours=r.applyColours(this.irEditor,n,e,this.colours)}},u.prototype.onCompilerClose=function(t){t===this._compilerid&&a.defer(function(t){t.container.close()},this)},u.prototype.updateState=function(){this.container.setState(this.currentState())},u.prototype.currentState=function(){var t={id:this._compilerid,editorid:this._editorid};return this.fontScale.addState(t),t},u.prototype.onCompilerClose=function(t){t===this._compilerid&&(this.close(),a.defer(function(t){t.container.close()},this))},u.prototype.onSettingsChange=function(t){this.settings=t,this.irEditor.updateOptions({contextmenu:t.useCustomContextMenu,minimap:{enabled:t.showMinimap},fontFamily:t.editorsFFont})},u.prototype.onMouseMove=function(t){if(null!==t&&null!==t.target&&null!==t.target.position&&!0===this.settings.hoverShowSource&&this.irCode){this.clearLinkedLines();var e=this.irCode[t.target.position.lineNumber-1];if(e){var i=e.source&&!e.source.file?e.source.line:-1;this.eventHub.emit("editorLinkLine",this._editorid,i,-1,!1),this.eventHub.emit("panesLinkLine",this._compilerid,i,!1,this.getPaneName())}}},u.prototype.updateDecorations=function(){this.prevDecorations=this.irEditor.deltaDecorations(this.prevDecorations,a.flatten(a.values(this.decorations)))},u.prototype.clearLinkedLines=function(){this.decorations.linkedCode=[],this.updateDecorations()},u.prototype.onPanesLinkLine=function(t,n,e,i){if(Number(t)===this._compilerid){var o=[];a.each(this.irCode,function(t,e){if(t.source&&null===t.source.file&&t.source.line===n){var i=e+1;o.push(i)}}),e&&o[0]&&this.irEditor.revealLineInCenter(o[0]);var r=i!==this.getPaneName()?"linked-code-decoration-line":"";this.decorations.linkedCode=a.map(o,function(t){return{range:new s.Range(t,1,t,1),options:{isWholeLine:!0,linesDecorationsClassName:"linked-code-decoration-margin",className:r}}}),-1!==this.linkedFadeTimeoutId&&clearTimeout(this.linkedFadeTimeoutId),this.linkedFadeTimeoutId=setTimeout(a.bind(function(){this.clearLinkedLines(),this.linkedFadeTimeoutId=-1},this),5e3),this.updateDecorations()}},u.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("irViewClosed",this._compilerid),this.irEditor.dispose()},t.exports={Ir:u}},function(t,e,i){"use strict";var n=i(115),o=i(59),r=i(145);i(372);var s=i(58),a=i(43),l=i(78);function u(t,e,i){this.container=e,this.eventHub=t.createEventHub(),this.domRoot=e.getElement(),this.domRoot.html(a("#gccdump").html()),this.gccDumpEditor=o.editor.create(this.domRoot.find(".monaco-placeholder")[0],{value:"",scrollBeyondLastLine:!1,readOnly:!0,glyphMargin:!0,quickSuggestions:!1,fixedOverflowWidgets:!0,fontFamily:'Consolas, "Liberation Mono", Courier, monospace',minimap:{maxColumn:80},lineNumbersMinChars:3,dropdownParent:"body"}),this.initButtons(i);var n=this.domRoot.find(".gccdump-pass-picker").selectize({sortField:"name",valueField:"name",labelField:"name",searchField:["name"],options:[],items:[]});this.selectize=n[0].selectize,this.state={},this.state._compilerid=i._compilerid,this.state._editorid=i._editorid,this._compilerName=i._compilerName,this.initCallbacks(),i&&i.selectedPass&&(this.state.selectedPass=i.selectedPass,this.eventHub.emit("gccDumpPassSelected",this.state._compilerid,i.selectedPass,!1)),this.uiIsReady=!1,this.onUiNotReady(),this.eventHub.emit("gccDumpFiltersChanged",this.state._compilerid,this.getEffectiveFilters(),!1),this.saveState(),this.setTitle(),this.eventHub.emit("gccDumpUIInit",this.state._compilerid),l.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"GccDump"})}i(124),u.prototype.initButtons=function(t){this.filters=new r(this.domRoot.find(".dump-filters"),t),this.fontScale=new n(this.domRoot,t,this.gccDumpEditor),this.topBar=this.domRoot.find(".top-bar"),this.dumpFiltersButtons=this.domRoot.find(".dump-filters .btn")},u.prototype.initCallbacks=function(){this.filters.on("change",s.bind(this.onFilterChange,this)),this.selectize.on("change",s.bind(this.onPassSelect,this)),this.fontScale.on("change",s.bind(this.saveState,this)),this.eventHub.on("compileResult",this.onCompileResult,this),this.eventHub.on("compiler",this.onCompiler,this),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.on("settingsChange",this.onSettingsChange,this),this.eventHub.emit("gccDumpViewOpened",this.state._compilerid),this.eventHub.emit("requestSettings"),this.container.on("destroy",this.close,this),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this)},u.prototype.onUiNotReady=function(){this.selectize.disable(),this.dumpFiltersButtons.prop("disabled",!0)},u.prototype.onUiReady=function(){this.selectize.enable(),this.dumpFiltersButtons.prop("disabled",!1)},u.prototype.onPassSelect=function(t){!0!==this.inhibitPassSelect&&this.eventHub.emit("gccDumpPassSelected",this.state._compilerid,t,!0),this.state.selectedPass=t,this.saveState()},u.prototype.resize=function(){var t=this.topBar.outerHeight(!0);this.gccDumpEditor.layout({width:this.domRoot.width(),height:this.domRoot.height()-t})},u.prototype.updatePass=function(t,e,i){var n=i?i.all:[];this.inhibitPassSelect=!0,s.each(e.options,function(t){-1===n.indexOf(t.name)&&e.removeOption(t.name)},this),s.each(n,function(t){e.addOption({name:t})},this),i.selectedPass&&""!==i.selectedPass?e.addItem(i.selectedPass,!0):e.clear(!0),this.eventHub.emit("gccDumpPassSelected",this.state._compilerid,i.selectedPass,!1),this.inhibitPassSelect=!1},u.prototype.onCompileResult=function(t,e,i){if(this.state._compilerid===t&&e){if(i.gccDumpOutput&&i.gccDumpOutput.syntaxHighlight?o.editor.setModelLanguage(this.gccDumpEditor.getModel(),"gccdump-rtl-gimple"):o.editor.setModelLanguage(this.gccDumpEditor.getModel(),"plaintext"),e.supportsGccDump&&i.gccDumpOutput){var n=i.gccDumpOutput.currentPassOutput;""===i.gccDumpOutput.selectedPass&&(this.selectize.clear(!0),this.state.selectedPass=""),this.updatePass(this.filters,this.selectize,i.gccDumpOutput),this.showGccDumpResults(n),this.uiIsReady||(this.uiIsReady=!0,this.onUiReady())}else this.selectize.clear(!0),this.state.selectedPass="",this.updatePass(this.filters,this.selectize,!1),this.uiIsReady=!1,this.onUiNotReady(),e.supportsGccDump?this.showGccDumpResults("<Tree/RTL output is empty>"):this.showGccDumpResults("<Tree/RTL output is not supported for this compiler (GCC only)>");this.saveState()}},u.prototype.setTitle=function(){this.container.setTitle((this._compilerName||"")+" GCC Tree/RTL Viewer (Editor #"+this.state._editorid+", Compiler #"+this.state._compilerid+")")},u.prototype.showGccDumpResults=function(t){this.gccDumpEditor.setValue(t)},u.prototype.onCompiler=function(t,e,i,n){t===this.state._compilerid&&(this._compilerName=e?e.name:"",this.state._editorid=n,this.setTitle())},u.prototype.onCompilerClose=function(t){t===this.state._compilerid&&(this.close(),s.defer(function(t){t.container.close()},this))},u.prototype.getEffectiveFilters=function(){return this.filters.get()},u.prototype.onFilterChange=function(){this.saveState(),!0!==this.inhibitPassSelect&&this.eventHub.emit("gccDumpFiltersChanged",this.state._compilerid,this.getEffectiveFilters(),!0)},u.prototype.saveState=function(){var t=this.currentState();this.container.setState(t),this.fontScale.addState(t)},u.prototype.currentState=function(){var t=this.getEffectiveFilters();return{_compilerid:this.state._compilerid,_editorid:this.state._editorid,selectedPass:this.state.selectedPass,treeDump:t.treeDump,rtlDump:t.rtlDump}},u.prototype.onSettingsChange=function(t){this.gccDumpEditor.updateOptions({contextmenu:t.useCustomContextMenu,minimap:{enabled:t.showMinimap},fontFamily:t.editorsFFont})},u.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("gccDumpViewClosed",this.state._compilerid),this.gccDumpEditor.dispose()},t.exports={GccDump:u}},function(t,e,i){"use strict";var n=i(59);n.languages.register({id:"gccdump-rtl-gimple"}),n.languages.setMonarchTokensProvider("gccdump-rtl-gimple",{keywords:["abstract","continue","for","new","switch","assert","goto","do","if","private","this","break","protected","throw","else","public","enum","return","catch","try","interface","static","class","finally","const","super","while","true","false","UnKnown","value","debug_expr","expr_list","insn_list","int_list","sequence","address","debug_insn","insn","jump_insn","call_insn","jump_table_data","barrier","code_label","note","cond_exec","parallel","asm_input","asm_operands","unspec","unspec_volatile","addr_vec","addr_diff_vec","prefetch","set","use","clobber","call","return","simple_return","eh_return","trap_if","const_int","const_fixed","const_double","const_vector","const_string","const","pc","reg","scratch","subreg","strict_low_part","concat","concatn","mem","label_ref","symbol_ref","cc0","if_then_else","compare","plus","minus","neg","mult","ss_mult","us_mult","div","ss_div","us_div","mod","udiv","umod","and","ior","xor","not","ashift","rotate","ashiftrt","lshiftrt","rotatert","smin","smax","umin","umax","pre_dec","pre_inc","post_dec","post_inc","pre_modify","post_modify","ne","eq","ge","gt","le","lt","geu","gtu","leu","ltu","unordered","ordered","uneq","unge","ungt","unle","unlt","ltgt","sign_extend","zero_extend","truncate","float_extend","float_truncate","float","fix","unsigned_float","unsigned_fix","fract_convert","unsigned_fract_convert","sat_fract","unsigned_sat_fract","abs","sqrt","bswap","ffs","clrsb","clz","ctz","popcount","parity","sign_extract","zero_extract","high","lo_sum","vec_merge","vec_select","vec_concat","vec_duplicate","ss_plus","us_plus","ss_minus","ss_neg","us_neg","ss_abs","ss_ashift","us_ashift","us_minus","ss_truncate","us_truncate","fma","var_location","debug_implicit_ptr","entry_value","debug_parameter_ref"],typeKeywords:["boolean","double","byte","int","short","char","void","long","float"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/^;;.*$/,"comment"]]}})},function(t,e,i){"use strict";var o=i(43),n=i(374),r=i(58),s=i(145),a=i(78);function l(t,e,i){this.container=e,this.eventHub=t.createEventHub(),this.domRoot=e.getElement(),this.domRoot.html(o("#cfg").html()),this.defaultCfgOutput={nodes:[{id:0,shape:"box",label:"No Output"}],edges:[]},this.binaryModeSupport={nodes:[{id:0,shape:"box",label:"Cfg mode cannot be used when the binary filter is set"}],edges:[]},i.options=i.options||{},this.savedPos=i.pos,this.savedScale=i.scale,this.needsMove=this.savedPos&&this.savedScale,this.currentFunc=i.selectedFn||"",this.functions=[],this.networkOpts={autoResize:!0,locale:"en",edges:{arrows:{to:{enabled:!0}},smooth:{enabled:!0,type:"dynamic",roundness:1},physics:!0},nodes:{font:{face:'Consolas, "Liberation Mono", Courier, monospace',align:"left"}},layout:{hierarchical:{enabled:!0,direction:"UD",nodeSpacing:100,levelSeparation:150}},physics:{enabled:!!i.options.physics,hierarchicalRepulsion:{nodeDistance:160}},interaction:{navigationButtons:!!i.options.navigation,keyboard:{enabled:!0,speed:{x:10,y:10,zoom:.03},bindToWindow:!1}}},this.cfgVisualiser=new n.Network(this.domRoot.find(".graph-placeholder")[0],this.defaultCfgOutput,this.networkOpts),this.initButtons(i),this.compilerId=i.id,this._editorid=i.editorid,this._binaryFilter=!1,this.functionPicker=o(this.domRoot).find(".function-picker").selectize({sortField:"name",valueField:"name",labelField:"name",searchField:["name"],dropdownParent:"body"}).on("change",r.bind(function(t){var e=this.functions[t.target.value];e&&(this.currentFunc=t.target.value,this.showCfgResults({nodes:e.nodes,edges:e.edges}),this.cfgVisualiser.selectNodes([e.nodes[0].id]),this.resize(),this.saveState())},this)),this.initCallbacks(),this.adaptStructure=function(t){return r.map(t,function(t){return{name:t}})},this.updateButtons(),this.setTitle(),a.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Cfg"})}i(124),l.prototype.onCompileResult=function(t,e,i){if(this.compilerId===t){var n=[];this.supportsCfg&&!o.isEmptyObject(i.cfg)?(this.functions=i.cfg,-1===(n=Object.keys(this.functions)).indexOf(this.currentFunc)&&(this.currentFunc=n[0]),this.showCfgResults({nodes:this.functions[this.currentFunc].nodes,edges:this.functions[this.currentFunc].edges}),this.cfgVisualiser.selectNodes([this.functions[this.currentFunc].nodes[0].id])):this.showCfgResults(this._binaryFilter?this.binaryModeSupport:this.defaultCfgOutput),this.functionPicker[0].selectize.clearOptions(),this.functionPicker[0].selectize.addOption(n.length?this.adaptStructure(n):{name:"The input does not contain functions"}),this.functionPicker[0].selectize.refreshOptions(!1),this.functionPicker[0].selectize.clear(),this.functionPicker[0].selectize.addItem(n.length?this.currentFunc:"The input does not contain any function",!0),this.saveState()}},l.prototype.onCompiler=function(t,e){t===this.compilerId&&(this._compilerName=e?e.name:"",this.supportsCfg=e.supportsCfg,this.setTitle())},l.prototype.onFiltersChange=function(t,e){this.compilerId===t&&(this._binaryFilter=e.binary)},l.prototype.initButtons=function(t){this.toggles=new s(this.domRoot.find(".options"),t.options),this.toggleNavigationButton=this.domRoot.find(".toggle-navigation"),this.toggleNavigationTitle=this.toggleNavigationButton.prop("title"),this.togglePhysicsButton=this.domRoot.find(".toggle-physics"),this.togglePhysicsTitle=this.togglePhysicsButton.prop("title"),this.topBar=this.domRoot.find(".top-bar")},l.prototype.initCallbacks=function(){this.cfgVisualiser.on("dragEnd",r.bind(this.saveState,this)),this.cfgVisualiser.on("zoom",r.bind(this.saveState,this)),this.eventHub.on("compilerClose",this.onCompilerClose,this),this.eventHub.on("compileResult",this.onCompileResult,this),this.eventHub.on("compiler",this.onCompiler,this),this.eventHub.on("filtersChange",this.onFiltersChange,this),this.container.on("destroy",this.close,this),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this),this.eventHub.emit("cfgViewOpened",this.compilerId),this.eventHub.emit("requestFilters",this.compilerId),this.eventHub.emit("requestCompiler",this.compilerId),this.togglePhysicsButton.on("click",r.bind(function(){this.networkOpts.physics.enabled=this.togglePhysicsButton.hasClass("active"),this.cfgVisualiser.setOptions({physics:{enabled:this.networkOpts.physics.enabled}})},this)),this.toggleNavigationButton.on("click",r.bind(function(){this.networkOpts.interaction.navigationButtons=this.toggleNavigationButton.hasClass("active"),this.cfgVisualiser.setOptions({interaction:{navigationButtons:this.networkOpts.interaction.navigationButtons}})},this)),this.toggles.on("change",r.bind(function(){this.updateButtons(),this.saveState()},this))},l.prototype.updateButtons=function(){function t(t,e){t.prop("title","["+(t.hasClass("active")?"ON":"OFF")+"] "+e)}t(this.togglePhysicsButton,this.togglePhysicsTitle),t(this.toggleNavigationButton,this.toggleNavigationTitle)},l.prototype.resize=function(){if(this.cfgVisualiser.canvas){var t=this.domRoot.height()-this.topBar.outerHeight(!0);this.cfgVisualiser.setSize("100%",t.toString()),this.cfgVisualiser.redraw()}},l.prototype.setTitle=function(){this.container.setTitle(this._compilerName+" Graph Viewer (Editor #"+this._editorid+", Compiler #"+this.compilerId+")")},l.prototype.assignLevels=function(e){var o=[],r=[];for(var t in e.nodes){var i=e.nodes[t];r[i.id]=t,o.push({edges:[],dagEdges:[],index:t,id:i.id,level:0,state:0,inCount:0})}function s(t){return t.from in r&&t.to in r}e.edges.forEach(function(t){s(t)&&o[r[t.from]].edges.push(r[t.to])});var n=function(i){i.state=1,i.edges.forEach(function(t){var e=o[t];1!==e.state&&(0===e.state&&n(e),i.dagEdges.push(t),e.inCount+=1)}),i.state=2},a=function(i){i.dagEdges.forEach(function(t){var e=o[t];e.level=Math.max(e.level,i.level+1),0==--e.inCount&&a(e)})};o.forEach(function(t){0===t.state&&(n(t),t.level=1,a(t))}),o.forEach(function(t){e.nodes[t.index].level=t.level}),e.edges.forEach(function(t){if(s(t)){var e=o[r[t.from]],i=o[r[t.to]];if(e.level>=i.level)t.physics=!1;else{t.physics=!0;var n=i.level-e.level;t.length=n*(200-5*Math.min(5,n))}}else t.physics=!1})},l.prototype.showCfgResults=function(t){this.assignLevels(t),this.cfgVisualiser.setData(t),this.needsMove&&(this.cfgVisualiser.moveTo({position:this.savedPos,animation:!1,scale:this.savedScale}),this.needsMove=!1)},l.prototype.onCompilerClose=function(t){this.compilerId===t&&(this.close(),r.defer(function(t){t.container.close()},this))},l.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("cfgViewClosed",this.compilerId),this.cfgVisualiser.destroy()},l.prototype.saveState=function(){this.container.setState(this.currentState())},l.prototype.getEffectiveOptions=function(){return this.toggles.get()},l.prototype.currentState=function(){return{id:this.compilerId,editorid:this._editorid,selectedFn:this.currentFunc,pos:this.cfgVisualiser.getViewPosition(),scale:this.cfgVisualiser.getScale(),options:this.getEffectiveOptions()}},t.exports={Cfg:l}},function(t,e,i){"use strict";var n;n=function(){return o={},i.m=n=[function(t,e,i){var n=i(1);n.extend(e,i(87)),n.extend(e,i(117)),n.extend(e,i(159))},function(t,l,e){var h=n(e(2)),r=n(e(55)),i=n(e(58)),o=n(e(62));function n(t){return t&&t.__esModule?t:{default:t}}var s=e(82),a=e(86);l.isNumber=function(t){return t instanceof Number||"number"==typeof t},l.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)l.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},l.giveRange=function(t,e,i,n){if(e==t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)},l.isString=function(t){return t instanceof String||"string"==typeof t},l.isDate=function(t){if(t instanceof Date)return!0;if(l.isString(t)){if(u.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},l.randomUUID=function(){return a.v4()},l.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,o.default)(t[i])&&(t[i]=e)},l.fillIfDefined=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];for(var n in t)void 0!==e[n]&&("object"!==(0,o.default)(e[n])?void 0!==e[n]&&null!==e[n]||void 0===t[n]||!0!==i?t[n]=e[n]:delete t[n]:"object"===(0,o.default)(t[n])&&l.fillIfDefined(t[n],e[n],i))},l.protoExtend=function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)t[o]=n[o]}return t},l.extend=function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},l.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var n=2;n<arguments.length;n++)for(var o=arguments[n],r=0;r<t.length;r++){var s=t[r];o&&o.hasOwnProperty(s)&&(e[s]=o[s])}return e},l.selectiveDeepExtend=function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var o=2;o<arguments.length;o++)for(var r=arguments[o],s=0;s<t.length;s++){var a=t[s];if(r.hasOwnProperty(a))if(i[a]&&i[a].constructor===Object)void 0===e[a]&&(e[a]={}),e[a].constructor===Object?l.deepExtend(e[a],i[a],!1,n):null===i[a]&&void 0!==e[a]&&!0===n?delete e[a]:e[a]=i[a];else{if(Array.isArray(i[a]))throw new TypeError("Arrays are not supported by deepExtend");null===i[a]&&void 0!==e[a]&&!0===n?delete e[a]:e[a]=i[a]}}return e},l.selectiveNotDeepExtend=function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var o in i)if(i.hasOwnProperty(o)&&-1==t.indexOf(o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?l.deepExtend(e[o],i[o]):null===i[o]&&void 0!==e[o]&&!0===n?delete e[o]:e[o]=i[o];else if(Array.isArray(i[o])){e[o]=[];for(var r=0;r<i[o].length;r++)e[o].push(i[o][r])}else null===i[o]&&void 0!==e[o]&&!0===n?delete e[o]:e[o]=i[o];return e},l.deepExtend=function(t,e,i,n){for(var o in e)if(e.hasOwnProperty(o)||!0===i)if(e[o]&&e[o].constructor===Object)void 0===t[o]&&(t[o]={}),t[o].constructor===Object?l.deepExtend(t[o],e[o],i):null===e[o]&&void 0!==t[o]&&!0===n?delete t[o]:t[o]=e[o];else if(Array.isArray(e[o])){t[o]=[];for(var r=0;r<e[o].length;r++)t[o].push(e[o][r])}else null===e[o]&&void 0!==t[o]&&!0===n?delete t[o]:t[o]=e[o];return t},l.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0},l.convert=function(t,e){var i;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return l.isString(t)&&!isNaN(Date.parse(t))?s(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(l.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(s.isMoment(t))return new Date(t.valueOf());if(l.isString(t))return(i=u.exec(t))?new Date(Number(i[1])):s(new Date(t)).toDate();throw new Error("Cannot convert object of type "+l.getType(t)+" to type Date");case"Moment":if(l.isNumber(t))return s(t);if(t instanceof Date)return s(t.valueOf());if(s.isMoment(t))return s(t);if(l.isString(t))return i=u.exec(t),s(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+l.getType(t)+" to type Date");case"ISODate":if(l.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(s.isMoment(t))return t.toDate().toISOString();if(l.isString(t))return(i=u.exec(t))?new Date(Number(i[1])).toISOString():s(t).format();throw new Error("Cannot convert object of type "+l.getType(t)+" to type ISODate");case"ASPDate":if(l.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(l.isString(t))return"/Date("+((i=u.exec(t))?new Date(Number(i[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+l.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+e+'"')}}};var u=/^\/?Date\((\-?\d+)/i;l.getType=function(t){var e=void 0===t?"undefined":(0,o.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},l.copyAndExtendArray=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);return i.push(e),i},l.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},l.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},l.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},l.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},l.addClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.concat(n.filter(function(t){return i.indexOf(t)<0})),t.className=i.join(" ")},l.removeClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.filter(function(t){return n.indexOf(t)<0}),t.className=i.join(" ")},l.forEach=function(t,e){var i,n;if(Array.isArray(t))for(i=0,n=t.length;i<n;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},l.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},l.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},l.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},l.addEventListener=function(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},l.removeEventListener=function(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},l.preventDefault=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1},l.getTarget=function(t){var e;return(t=t||window.event).target?e=t.target:t.srcElement&&(e=t.srcElement),null!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},l.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},l.option={},l.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},l.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},l.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},l.option.asSize=function(t,e){return"function"==typeof t&&(t=t()),l.isString(t)?t:l.isNumber(t)?t+"px":e||null},l.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},l.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},l.overrideOpacity=function(t,e){return-1!=t.indexOf("rgba")?t:-1==t.indexOf("rgb")?null==(i=l.hexToRGB(t))?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")":"rgba("+(i=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+i[1]+","+i[2]+","+e+")";var i},l.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},l.parseColor=function(t){var e;if(!0===l.isString(t)){if(!0===l.isValidRGB(t)){var i=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=l.RGBToHex(i[0],i[1],i[2])}if(!0===l.isValidHex(t)){var n=l.hexToHSV(t),o={h:n.h,s:.8*n.s,v:Math.min(1,1.02*n.v)},r={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v},s=l.HSVToHex(r.h,r.s,r.v),a=l.HSVToHex(o.h,o.s,o.v);e={background:t,border:s,highlight:{background:a,border:s},hover:{background:a,border:s}}}else e={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else(e={}).background=t.background||void 0,e.border=t.border||void 0,l.isString(t.highlight)?e.highlight={border:t.highlight,background:t.highlight}:(e.highlight={},e.highlight.background=t.highlight&&t.highlight.background||void 0,e.highlight.border=t.highlight&&t.highlight.border||void 0),l.isString(t.hover)?e.hover={border:t.hover,background:t.hover}:(e.hover={},e.hover.background=t.hover&&t.hover.background||void 0,e.hover.border=t.hover&&t.hover.border||void 0);return e},l.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));return n==o?{h:0,s:0,v:n}:{h:60*((t==n?3:i==n?1:5)-(t==n?e-i:i==n?t-e:i-t)/(o-n))/360,s:(o-n)/o,v:o}};var c=function(t){var o={};return t.split(";").forEach(function(t){if(""!=t.trim()){var e=t.split(":"),i=e[0].trim(),n=e[1].trim();o[i]=n}}),o},d=function(e){return(0,i.default)(e).map(function(t){return t+": "+e[t]}).join("; ")};l.addCssText=function(t,e){var i=c(t.style.cssText),n=c(e),o=l.extend(i,n);t.style.cssText=d(o)},l.removeCssText=function(t,e){var i=c(t.style.cssText),n=c(e);for(var o in n)n.hasOwnProperty(o)&&delete i[o];t.style.cssText=d(i)},l.HSVToRGB=function(t,e,i){var n,o,r,s=Math.floor(6*t),a=6*t-s,l=i*(1-e),u=i*(1-a*e),h=i*(1-(1-a)*e);switch(s%6){case 0:n=i,o=h,r=l;break;case 1:n=u,o=i,r=l;break;case 2:n=l,o=i,r=h;break;case 3:n=l,o=u,r=i;break;case 4:n=h,o=l,r=i;break;case 5:n=i,o=l,r=u}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}},l.HSVToHex=function(t,e,i){var n=l.HSVToRGB(t,e,i);return l.RGBToHex(n.r,n.g,n.b)},l.hexToHSV=function(t){var e=l.hexToRGB(t);return l.RGBToHSV(e.r,e.g,e.b)},l.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},l.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},l.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},l.selectiveBridgeObject=function(t,e){if("object"!=(void 0===e?"undefined":(0,o.default)(e)))return null;for(var i=(0,r.default)(e),n=0;n<t.length;n++)e.hasOwnProperty(t[n])&&"object"==(0,o.default)(e[t[n]])&&(i[t[n]]=l.bridgeObject(e[t[n]]));return i},l.bridgeObject=function(t){if("object"!=(void 0===t?"undefined":(0,o.default)(t)))return null;var e=(0,r.default)(t);for(var i in t)t.hasOwnProperty(i)&&"object"==(0,o.default)(t[i])&&(e[i]=l.bridgeObject(t[i]));return e},l.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i],o=i;0<o&&e(n,t[o-1])<0;o--)t[o]=t[o-1];t[o]=n}return t},l.mergeOptions=function(t,e,i){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};if(null===e[i])t[i]=(0,r.default)(n[i]);else if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else for(var o in void 0===e[i].enabled&&(t[i].enabled=!0),e[i])e[i].hasOwnProperty(o)&&(t[i][o]=e[i][o])},l.binarySearchCustom=function(t,e,i,n){for(var o=0,r=0,s=t.length-1;r<=s&&o<1e4;){var a=Math.floor((r+s)/2),l=t[a],u=e(void 0===n?l[i]:l[i][n]);if(0==u)return a;-1==u?r=a+1:s=a-1,o++}return-1},l.binarySearchValue=function(t,e,i,n,o){var r,s,a,l,u=0,h=0,c=t.length-1;for(o=null!=o?o:function(t,e){return t==e?0:t<e?-1:1};h<=c&&u<1e4;){if(l=Math.floor(.5*(c+h)),r=t[Math.max(0,l-1)][i],s=t[l][i],a=t[Math.min(t.length-1,l+1)][i],0==o(s,e))return l;if(o(r,e)<0&&0<o(s,e))return"before"==n?Math.max(0,l-1):l;if(o(s,e)<0&&0<o(a,e))return"before"==n?l:Math.min(t.length-1,l+1);o(s,e)<0?h=l+1:c=l-1,u++}return-1},l.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},l.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n},l.topMost=function(t,e){var i=void 0;Array.isArray(e)||(e=[e]);var n=!0,o=!1,r=void 0;try{for(var s,a=(0,h.default)(t);!(n=(s=a.next()).done);n=!0){var l=s.value;if(l){i=l[e[0]];for(var u=1;u<e.length;u++)i=i&&i[e[u]];if(void 0!==i)break}}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}},function(t,e,i){t.exports={default:i(3),__esModule:!0}},function(t,e,i){i(4),i(50),t.exports=i(52)},function(t,e,i){i(5);for(var n=i(16),o=i(20),r=i(8),s=i(47)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var u=a[l],h=n[u],c=h&&h.prototype;c&&!c[s]&&o(c,s,u),r[u]=r.Array}},function(t,e,i){var n=i(6),o=i(7),r=i(8),s=i(9);t.exports=i(13)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports={}},function(t,e,i){var n=i(10),o=i(12);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){function _(){return this}var b=i(14),w=i(15),C=i(30),S=i(20),x=i(31),k=i(8),O=i(32),E=i(46),L=i(48),D=i(47)("iterator"),I=!([].keys&&"next"in[].keys()),N="values";t.exports=function(t,e,i,n,o,r,s){O(i,e,n);function a(t){if(!I&&t in f)return f[t];switch(t){case"keys":case N:return function(){return new i(this,t)}}return function(){return new i(this,t)}}var l,u,h,c=e+" Iterator",d=o==N,p=!1,f=t.prototype,g=f[D]||f["@@iterator"]||o&&f[o],m=g||a(o),v=o?d?a("entries"):m:void 0,y="Array"==e&&f.entries||g;if(y&&(h=L(y.call(new t)))!==Object.prototype&&(E(h,c,!0),b||x(h,D)||S(h,D,_)),d&&g&&g.name!==N&&(p=!0,m=function(){return g.call(this)}),b&&!s||!I&&!p&&f[D]||S(f,D,m),k[e]=m,k[c]=_,o)if(l={values:d?m:a(N),keys:r?m:a("keys"),entries:v},s)for(u in l)u in f||C(f,u,l[u]);else w(w.P+w.F*(I||p),e,l);return l}},function(t,e){t.exports=!0},function(t,e,i){var g=i(16),m=i(17),v=i(18),y=i(20),_="prototype",b=function(t,e,i){var n,o,r,s=t&b.F,a=t&b.G,l=t&b.S,u=t&b.P,h=t&b.B,c=t&b.W,d=a?m:m[e]||(m[e]={}),p=d[_],f=a?g:l?g[e]:(g[e]||{})[_];for(n in a&&(i=e),i)(o=!s&&f&&void 0!==f[n])&&n in d||(r=o?f[n]:i[n],d[n]=a&&"function"!=typeof f[n]?i[n]:h&&o?v(r,g):c&&f[n]==r?function(n){function t(t,e,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,i)}return n.apply(this,arguments)}return t[_]=n[_],t}(r):u&&"function"==typeof r?v(Function.call,r):r,u&&((d.virtual||(d.virtual={}))[n]=r,t&b.R&&p&&!p[n]&&y(p,n,r)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(t,e,i){var r=i(19);t.exports=function(n,o,t){if(r(n),void 0===o)return n;switch(t){case 1:return function(t){return n.call(o,t)};case 2:return function(t,e){return n.call(o,t,e)};case 3:return function(t,e,i){return n.call(o,t,e,i)}}return function(){return n.apply(o,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(21),o=i(29);t.exports=i(25)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(22),o=i(24),r=i(28),s=Object.defineProperty;e.f=i(25)?Object.defineProperty:function(t,e,i){if(n(t),e=r(e,!0),n(i),o)try{return s(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(23);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(25)&&!i(26)(function(){return 7!=Object.defineProperty(i(27)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){t.exports=!i(26)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(23),o=i(16).document,r=n(o)&&n(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,i){var o=i(23);t.exports=function(t,e){if(!o(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!o(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){t.exports=i(20)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(33),o=i(29),r=i(46),s={};i(20)(s,i(47)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(s,{next:o(1,i)}),r(t,e+" Iterator")}},function(t,e,n){function o(){}var r=n(22),s=n(34),a=n(44),l=n(41)("IE_PROTO"),u="prototype",h=function(){var t,e=n(27)("iframe"),i=a.length;for(e.style.display="none",n(45).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;i--;)delete h[u][a[i]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(o[u]=r(t),i=new o,o[u]=null,i[l]=t):i=h(),void 0===e?i:s(i,e)}},function(t,e,i){var s=i(21),a=i(22),l=i(35);t.exports=i(25)?Object.defineProperties:function(t,e){a(t);for(var i,n=l(e),o=n.length,r=0;r<o;)s.f(t,i=n[r++],e[i]);return t}},function(t,e,i){var n=i(36),o=i(44);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){var s=i(31),a=i(9),l=i(37)(!1),u=i(41)("IE_PROTO");t.exports=function(t,e){var i,n=a(t),o=0,r=[];for(i in n)i!=u&&s(n,i)&&r.push(i);for(;e.length>o;)s(n,i=e[o++])&&(~l(r,i)||r.push(i));return r}},function(t,e,i){var l=i(9),u=i(38),h=i(40);t.exports=function(a){return function(t,e,i){var n,o=l(t),r=u(o.length),s=h(i,r);if(a&&e!=e){for(;s<r;)if((n=o[s++])!=n)return!0}else for(;s<r;s++)if((a||s in o)&&o[s]===e)return a||s||0;return!a&&-1}}},function(t,e,i){var n=i(39),o=Math.min;t.exports=function(t){return 0<t?o(n(t),9007199254740991):0}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:i)(t)}},function(t,e,i){var n=i(39),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):r(t,e)}},function(t,e,i){var n=i(42)("keys"),o=i(43);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e,i){var n=i(16),o="__core-js_shared__",r=n[o]||(n[o]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){t.exports=i(16).document&&document.documentElement},function(t,e,i){var n=i(21).f,o=i(31),r=i(47)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},function(t,e,i){var n=i(42)("wks"),o=i(43),r=i(16).Symbol,s="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=s&&r[t]||(s?r:o)("Symbol."+t))}).store=n},function(t,e,i){var n=i(31),o=i(49),r=i(41)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,i){var n=i(12);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n=i(51)(!0);i(13)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){var l=i(39),u=i(12);t.exports=function(a){return function(t,e){var i,n,o=String(u(t)),r=l(e),s=o.length;return r<0||s<=r?a?"":void 0:(i=o.charCodeAt(r))<55296||56319<i||r+1===s||(n=o.charCodeAt(r+1))<56320||57343<n?a?o.charAt(r):i:a?o.slice(r,r+2):n-56320+(i-55296<<10)+65536}}},function(t,e,i){var n=i(22),o=i(53);t.exports=i(17).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){var n=i(54),o=i(47)("iterator"),r=i(8);t.exports=i(17).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){var o=i(11),r=i(47)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:s?o(e):"Object"==(n=o(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,i){t.exports={default:i(56),__esModule:!0}},function(t,e,i){i(57);var n=i(17).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(15);n(n.S,"Object",{create:i(33)})},function(t,e,i){t.exports={default:i(59),__esModule:!0}},function(t,e,i){i(60),t.exports=i(17).Object.keys},function(t,e,i){var n=i(49),o=i(35);i(61)("keys",function(){return function(t){return o(n(t))}})},function(t,e,i){var o=i(15),r=i(17),s=i(26);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],n={};n[t]=e(i),o(o.S+o.F*s(function(){i(1)}),"Object",n)}},function(t,e,i){e.__esModule=!0;var n=s(i(63)),o=s(i(66)),r="function"==typeof o.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===r(n.default)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":r(t)}},function(t,e,i){t.exports={default:i(64),__esModule:!0}},function(t,e,i){i(50),i(4),t.exports=i(65).f("iterator")},function(t,e,i){e.f=i(47)},function(t,e,i){t.exports={default:i(67),__esModule:!0}},function(t,e,i){i(68),i(79),i(80),i(81),t.exports=i(17).Symbol},function(t,e,i){function n(t){var e=q[t]=D(F[H]);return e._k=t,e}function o(t,e){k(t);for(var i,n=S(e=O(e)),o=0,r=n.length;o<r;)Q(t,i=n[o++],e[i]);return t}function r(t){var e=z.call(this,t=E(t,!0));return!(this===G&&h(q,t)&&!h(K,t))&&(!(e||!h(this,t)||!h(q,t)||h(this,W)&&this[W][t])||e)}function s(t,e){if(t=O(t),e=E(e,!0),t!==G||!h(q,e)||h(K,e)){var i=A(t,e);return!i||!h(q,e)||h(t,W)&&t[W][e]||(i.enumerable=!0),i}}function a(t){for(var e,i=R(O(t)),n=[],o=0;i.length>o;)h(q,e=i[o++])||e==W||e==f||n.push(e);return n}function l(t){for(var e,i=t===G,n=R(i?K:O(t)),o=[],r=0;n.length>r;)!h(q,e=n[r++])||i&&!h(G,e)||o.push(q[e]);return o}var u=i(16),h=i(31),c=i(25),d=i(15),p=i(30),f=i(69).KEY,g=i(26),m=i(42),v=i(46),y=i(43),_=i(47),b=i(65),w=i(70),C=i(71),S=i(72),x=i(75),k=i(22),O=i(9),E=i(28),L=i(29),D=i(33),I=i(76),N=i(78),T=i(21),M=i(35),A=N.f,P=T.f,R=I.f,F=u.Symbol,j=u.JSON,B=j&&j.stringify,H="prototype",W=_("_hidden"),V=_("toPrimitive"),z={}.propertyIsEnumerable,U=m("symbol-registry"),q=m("symbols"),K=m("op-symbols"),G=Object[H],Y="function"==typeof F,$=u.QObject,Z=!$||!$[H]||!$[H].findChild,X=c&&g(function(){return 7!=D(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=A(G,e);n&&delete G[e],P(t,e,i),n&&t!==G&&P(G,e,n)}:P,J=Y&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},Q=function(t,e,i){return t===G&&Q(K,e,i),k(t),e=E(e,!0),k(i),h(q,e)?(i.enumerable?(h(t,W)&&t[W][e]&&(t[W][e]=!1),i=D(i,{enumerable:L(0,!1)})):(h(t,W)||P(t,W,L(1,{})),t[W][e]=!0),X(t,e,i)):P(t,e,i)};Y||(p((F=function(t){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=y(0<arguments.length?t:void 0),i=function(t){this===G&&i.call(K,t),h(this,W)&&h(this[W],e)&&(this[W][e]=!1),X(this,e,L(1,t))};return c&&Z&&X(G,e,{configurable:!0,set:i}),n(e)})[H],"toString",function(){return this._k}),N.f=s,T.f=Q,i(77).f=I.f=a,i(74).f=r,i(73).f=l,c&&!i(14)&&p(G,"propertyIsEnumerable",r,!0),b.f=function(t){return n(_(t))}),d(d.G+d.W+d.F*!Y,{Symbol:F});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)_(tt[et++]);for(tt=M(_.store),et=0;tt.length>et;)w(tt[et++]);d(d.S+d.F*!Y,"Symbol",{for:function(t){return h(U,t+="")?U[t]:U[t]=F(t)},keyFor:function(t){if(J(t))return C(U,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),d(d.S+d.F*!Y,"Object",{create:function(t,e){return void 0===e?D(t):o(D(t),e)},defineProperty:Q,defineProperties:o,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:l}),j&&d(d.S+d.F*(!Y||g(function(){var t=F();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var e,i,n=[t],o=1;o<arguments.length;)n.push(arguments[o++]);return"function"==typeof(e=n[1])&&(i=e),!i&&x(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!J(e))return e}),n[1]=e,B.apply(j,n)}}}),F[H][V]||i(20)(F[H],V,F[H].valueOf),v(F,"Symbol"),v(Math,"Math",!0),v(u.JSON,"JSON",!0)},function(t,e,i){function n(t){a(t,o,{value:{i:"O"+ ++l,w:{}}})}var o=i(43)("meta"),r=i(23),s=i(31),a=i(21).f,l=0,u=Object.isExtensible||function(){return!0},h=!i(26)(function(){return u(Object.preventExtensions({}))}),c=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,o)){if(!u(t))return"F";if(!e)return"E";n(t)}return t[o].i},getWeak:function(t,e){if(!s(t,o)){if(!u(t))return!0;if(!e)return!1;n(t)}return t[o].w},onFreeze:function(t){return h&&c.NEED&&u(t)&&!s(t,o)&&n(t),t}}},function(t,e,i){var n=i(16),o=i(17),r=i(14),s=i(65),a=i(21).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,i){var a=i(35),l=i(9);t.exports=function(t,e){for(var i,n=l(t),o=a(n),r=o.length,s=0;s<r;)if(n[i=o[s++]]===e)return i}},function(t,e,i){var a=i(35),l=i(73),u=i(74);t.exports=function(t){var e=a(t),i=l.f;if(i)for(var n,o=i(t),r=u.f,s=0;o.length>s;)r.call(t,n=o[s++])&&e.push(n);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(11);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(9),o=i(77).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(n(t))}},function(t,e,i){var n=i(36),o=i(44).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(74),o=i(29),r=i(9),s=i(28),a=i(31),l=i(24),u=Object.getOwnPropertyDescriptor;e.f=i(25)?u:function(t,e){if(t=r(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e){},function(t,e,i){i(70)("asyncIterator")},function(t,e,i){i(70)("observable")},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(83)},function(t,e,i){(function(Ui){Ui.exports=function(){var e;function u(){return e.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function n(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var i in e)h(e,i)&&(t[i]=e[i]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,n){return De(t,e,i,n,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}var f=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function g(t){if(null==t._isValid){var e=p(t),i=f.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function m(t){var e=d(NaN);return null!=t?c(p(e),t):p(e).userInvalidated=!0,e}var v=u.momentProperties=[];function y(t,e){var i,n,o;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=p(e)),r(e._locale)||(t._locale=e._locale),0<v.length)for(i=0;i<v.length;i++)n=v[i],r(o=e[n])||(t[n]=o);return t}var i=!1;function _(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===i&&(i=!0,u.updateOffset(this),i=!1)}function b(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function C(t){var e=+t,i=0;return 0!=e&&isFinite(e)&&(i=w(e)),i}function S(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&C(t[n])!==C(e[n]))&&s++;return s+r}function x(t){!1===u.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function t(o,r){var s=!0;return c(function(){if(null!=u.deprecationHandler&&u.deprecationHandler(null,o),s){for(var t,e=[],i=0;i<arguments.length;i++){if(t="","object"==typeof arguments[i]){for(var n in t+="\n["+i+"] ",arguments[0])t+=n+": "+arguments[0][n]+", ";t=t.slice(0,-2)}else t=arguments[i];e.push(t)}x(o+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),s=!1}return r.apply(this,arguments)},r)}var k={};function O(t,e){null!=u.deprecationHandler&&u.deprecationHandler(t,e),k[t]||(x(e),k[t]=!0)}function E(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function L(t,e){var i,n=c({},t);for(i in e)h(e,i)&&(a(t[i])&&a(e[i])?(n[i]={},c(n[i],t[i]),c(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)h(t,i)&&!h(e,i)&&a(t[i])&&(n[i]=c({},n[i]));return n}function D(t){null!=t&&this.set(t)}u.suppressDeprecationWarnings=!1,u.deprecationHandler=null;var I=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)h(t,e)&&i.push(e);return i};var N={};function T(t,e){var i=t.toLowerCase();N[i]=N[i+"s"]=N[e]=t}function M(t){return"string"==typeof t?N[t]||N[t.toLowerCase()]:void 0}function A(t){var e,i,n={};for(i in t)h(t,i)&&(e=M(i))&&(n[e]=t[i]);return n}var P={};function R(t,e){P[t]=e}function F(t){var e=[];for(var i in t)e.push({unit:i,priority:P[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function j(e,i){return function(t){return null!=t?(H(this,e,t),u.updateOffset(this,i),this):B(this,e)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function H(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function W(t,e,i){var n=""+Math.abs(t),o=e-n.length,r=0<=t;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var V=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},q={};function K(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(q[t]=o),e&&(q[e[0]]=function(){return W(o.apply(this,arguments),e[1],e[2])}),i&&(q[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Y(t,e){return t.isValid()?(e=$(e,t.localeData()),U[e]=U[e]||function(n){var t,o,r=n.match(V);for(t=0,o=r.length;t<o;t++)q[r[t]]?r[t]=q[r[t]]:r[t]=G(r[t]);return function(t){var e,i="";for(e=0;e<o;e++)i+=E(r[e])?r[e].call(t,n):r[e];return i}}(e),U[e](t)):t.localeData().invalidDate()}function $(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(z.lastIndex=0;0<=i&&z.test(t);)t=t.replace(z,n),z.lastIndex=0,i-=1;return t}var Z=/\d/,X=/\d\d/,J=/\d{3}/,Q=/\d{4}/,tt=/[+-]?\d{6}/,et=/\d\d?/,it=/\d\d\d\d?/,nt=/\d\d\d\d\d\d?/,ot=/\d{1,3}/,rt=/\d{1,4}/,st=/[+-]?\d{1,6}/,at=/\d+/,lt=/[+-]?\d+/,ut=/Z|[+-]\d\d:?\d\d/gi,ht=/Z|[+-]\d\d(?::?\d\d)?/gi,ct=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dt={};function pt(t,i,n){dt[t]=E(i)?i:function(t,e){return t&&n?n:i}}function ft(t,e){return h(dt,t)?dt[t](e._strict,e._locale):new RegExp(function(t){return gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}(t))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var mt={};function vt(t,i){var e,n=i;for("string"==typeof t&&(t=[t]),l(i)&&(n=function(t,e){e[i]=C(t)}),e=0;e<t.length;e++)mt[t[e]]=n}function yt(t,o){vt(t,function(t,e,i,n){i._w=i._w||{},o(t,i._w,i,n)})}function _t(t,e,i){null!=e&&h(mt,t)&&mt[t](e,i._a,i,t)}var bt=0,wt=1,Ct=2,St=3,xt=4,kt=5,Ot=6,Et=7,Lt=8,Dt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function It(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),K("MMMM",0,0,function(t){return this.localeData().months(this,t)}),T("month","M"),R("month",8),pt("M",et),pt("MM",et,X),pt("MMM",function(t,e){return e.monthsShortRegex(t)}),pt("MMMM",function(t,e){return e.monthsRegex(t)}),vt(["M","MM"],function(t,e){e[wt]=C(t)-1}),vt(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[wt]=o:p(i).invalidMonth=t});var Nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Mt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function At(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(o=Dt.call(this._shortMonthsParse,s))?o:null:-1!==(o=Dt.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=Dt.call(this._shortMonthsParse,s))?o:-1!==(o=Dt.call(this._longMonthsParse,s))?o:null:-1!==(o=Dt.call(this._longMonthsParse,s))?o:-1!==(o=Dt.call(this._shortMonthsParse,s))?o:null}function Pt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=C(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),It(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Rt(t){return null!=t?(Pt(this,t),u.updateOffset(this,!0),this):B(this,"Month")}var Ft=ct;var jt=ct;function Bt(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],r=[];for(e=0;e<12;e++)i=d([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)n[e]=gt(n[e]),o[e]=gt(o[e]);for(e=0;e<24;e++)r[e]=gt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ht(t){return Wt(t)?366:365}function Wt(t){return t%4==0&&t%100!=0||t%400==0}K("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),T("year","y"),R("year",1),pt("Y",lt),pt("YY",et,X),pt("YYYY",rt,Q),pt("YYYYY",st,tt),pt("YYYYYY",st,tt),vt(["YYYYY","YYYYYY"],bt),vt("YYYY",function(t,e){e[bt]=2===t.length?u.parseTwoDigitYear(t):C(t)}),vt("YY",function(t,e){e[bt]=u.parseTwoDigitYear(t)}),vt("Y",function(t,e){e[bt]=parseInt(t,10)}),u.parseTwoDigitYear=function(t){return C(t)+(68<C(t)?1900:2e3)};var Vt=j("FullYear",!0);function zt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ut(t,e,i){var n=7+e-i,o=(7+zt(t,0,n).getUTCDay()-e)%7;return n-o-1}function qt(t,e,i,n,o){var r,s,a=(7+i-n)%7,l=Ut(t,n,o),u=1+7*(e-1)+a+l;return s=u<=0?Ht(r=t-1)+u:u>Ht(t)?(r=t+1,u-Ht(t)):(r=t,u),{year:r,dayOfYear:s}}function Kt(t,e,i){var n,o,r=Ut(t.year(),e,i),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?(o=t.year()-1,n=s+Gt(o,e,i)):s>Gt(t.year(),e,i)?(n=s-Gt(t.year(),e,i),o=t.year()+1):(o=t.year(),n=s),{week:n,year:o}}function Gt(t,e,i){var n=Ut(t,e,i),o=Ut(t+1,e,i);return(Ht(t)-n+o)/7}K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),R("week",5),R("isoWeek",5),pt("w",et),pt("ww",et,X),pt("W",et),pt("WW",et,X),yt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=C(t)});K("d",0,"do","day"),K("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),K("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),K("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),pt("d",et),pt("e",et),pt("E",et),pt("dd",function(t,e){return e.weekdaysMinRegex(t)}),pt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),pt("dddd",function(t,e){return e.weekdaysRegex(t)}),yt(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:p(i).invalidWeekday=t}),yt(["d","e","E"],function(t,e,i,n){e[n]=C(t)});var Yt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var $t="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Xt(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(o=Dt.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Dt.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Dt.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=Dt.call(this._weekdaysParse,s))?o:-1!==(o=Dt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Dt.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Dt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Dt.call(this._weekdaysParse,s))?o:-1!==(o=Dt.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Dt.call(this._minWeekdaysParse,s))?o:-1!==(o=Dt.call(this._weekdaysParse,s))?o:-1!==(o=Dt.call(this._shortWeekdaysParse,s))?o:null}var Jt=ct;var Qt=ct;var te=ct;function ee(){function t(t,e){return e.length-t.length}var e,i,n,o,r,s=[],a=[],l=[],u=[];for(e=0;e<7;e++)i=d([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),s.push(n),a.push(o),l.push(r),u.push(n),u.push(o),u.push(r);for(s.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)a[e]=gt(a[e]),l[e]=gt(l[e]),u[e]=gt(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ie(){return this.hours()%12||12}function ne(t,e){K(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function oe(t,e){return e._meridiemParse}K("H",["HH",2],0,"hour"),K("h",["hh",2],0,ie),K("k",["kk",2],0,function(){return this.hours()||24}),K("hmm",0,0,function(){return""+ie.apply(this)+W(this.minutes(),2)}),K("hmmss",0,0,function(){return""+ie.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),ne("a",!0),ne("A",!1),T("hour","h"),R("hour",13),pt("a",oe),pt("A",oe),pt("H",et),pt("h",et),pt("k",et),pt("HH",et,X),pt("hh",et,X),pt("kk",et,X),pt("hmm",it),pt("hmmss",nt),pt("Hmm",it),pt("Hmmss",nt),vt(["H","HH"],St),vt(["k","kk"],function(t,e,i){var n=C(t);e[St]=24===n?0:n}),vt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),vt(["h","hh"],function(t,e,i){e[St]=C(t),p(i).bigHour=!0}),vt("hmm",function(t,e,i){var n=t.length-2;e[St]=C(t.substr(0,n)),e[xt]=C(t.substr(n)),p(i).bigHour=!0}),vt("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[St]=C(t.substr(0,n)),e[xt]=C(t.substr(n,2)),e[kt]=C(t.substr(o)),p(i).bigHour=!0}),vt("Hmm",function(t,e,i){var n=t.length-2;e[St]=C(t.substr(0,n)),e[xt]=C(t.substr(n))}),vt("Hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[St]=C(t.substr(0,n)),e[xt]=C(t.substr(n,2)),e[kt]=C(t.substr(o))});var re,se=j("Hours",!0),ae={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tt,monthsShort:Mt,week:{dow:0,doy:6},weekdays:Yt,weekdaysMin:Zt,weekdaysShort:$t,meridiemParse:/[ap]\.?m?\.?/i},le={},ue={};function he(t){return t?t.toLowerCase().replace("_","-"):t}function ce(t){var e=null;if(!le[t]&&void 0!==Ui&&Ui&&Ui.exports)try{e=re._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),de(e)}catch(t){}return le[t]}function de(t,e){var i;return t&&(i=r(e)?fe(t):pe(t,e))&&(re=i),re._abbr}function pe(t,e){if(null===e)return delete le[t],null;var i=ae;if(e.abbr=t,null!=le[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=le[t]._config;else if(null!=e.parentLocale){if(null==le[e.parentLocale])return ue[e.parentLocale]||(ue[e.parentLocale]=[]),ue[e.parentLocale].push({name:t,config:e}),null;i=le[e.parentLocale]._config}return le[t]=new D(L(i,e)),ue[t]&&ue[t].forEach(function(t){pe(t.name,t.config)}),de(t),le[t]}function fe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return re;if(!s(t)){if(e=ce(t))return e;t=[t]}return function(t){var e,i,n,o,r=0;for(;r<t.length;){for(o=he(t[r]).split("-"),e=o.length,i=(i=he(t[r+1]))?i.split("-"):null;0<e;){if(n=ce(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&S(o,i,!0)>=e-1)break;e--}r++}return null}(t)}function ge(t){var e,i=t._a;return i&&-2===p(t).overflow&&(e=i[wt]<0||11<i[wt]?wt:i[Ct]<1||i[Ct]>It(i[bt],i[wt])?Ct:i[St]<0||24<i[St]||24===i[St]&&(0!==i[xt]||0!==i[kt]||0!==i[Ot])?St:i[xt]<0||59<i[xt]?xt:i[kt]<0||59<i[kt]?kt:i[Ot]<0||999<i[Ot]?Ot:-1,p(t)._overflowDayOfYear&&(e<bt||Ct<e)&&(e=Ct),p(t)._overflowWeeks&&-1===e&&(e=Et),p(t)._overflowWeekday&&-1===e&&(e=Lt),p(t).overflow=e),t}var me=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ye=/Z|[+-]\d\d(?::?\d\d)?/,_e=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],we=/^\/?Date\((\-?\d+)/i;function Ce(t){var e,i,n,o,r,s,a=t._i,l=me.exec(a)||ve.exec(a);if(l){for(p(t).iso=!0,e=0,i=_e.length;e<i;e++)if(_e[e][1].exec(l[1])){o=_e[e][0],n=!1!==_e[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=be.length;e<i;e++)if(be[e][1].exec(l[3])){r=(l[2]||" ")+be[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!ye.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(r||"")+(s||""),Ee(t)}else t._isValid=!1}var Se=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function xe(t){var e,i,n,o,r,s,a,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),i=Se.exec(e)){if(n=i[1]?"ddd"+(5===i[1].length?", ":" "):"",o="D MMM "+(10<i[2].length?"YYYY ":"YY "),r="HH:mm"+(i[4]?":ss":""),i[1]){var u=new Date(i[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()];if(i[1].substr(0,3)!==h)return p(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(i[5].length){case 2:s=0===a?" +0000":((a="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(i[5][1].toUpperCase())-12)<0?" -":" +")+(""+a).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:s=l[i[5]];break;default:s=l[" GMT"]}i[5]=s,t._i=i.splice(1).join("")," ZZ",t._f=n+o+r+" ZZ",Ee(t),p(t).rfc2822=!0}else t._isValid=!1}function ke(t,e,i){return null!=t?t:null!=e?e:i}function Oe(t){var e,i,n,o,r=[];if(!t._d){for(n=function(t){var e=new Date(u.now());if(t._useUTC)return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()];return[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[Ct]&&null==t._a[wt]&&function(t){var e,i,n,o,r,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,s=4,i=ke(e.GG,t._a[bt],Kt(Ie(),1,4).year),n=ke(e.W,1),((o=ke(e.E,1))<1||7<o)&&(l=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;var u=Kt(Ie(),r,s);i=ke(e.gg,t._a[bt],u.year),n=ke(e.w,u.week),null!=e.d?((o=e.d)<0||6<o)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||6<e.e)&&(l=!0)):o=r}n<1||n>Gt(i,r,s)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(a=qt(i,n,o,r,s),t._a[bt]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=ke(t._a[bt],n[bt]),(t._dayOfYear>Ht(o)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),i=zt(o,0,t._dayOfYear),t._a[wt]=i.getUTCMonth(),t._a[Ct]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[St]&&0===t._a[xt]&&0===t._a[kt]&&0===t._a[Ot]&&(t._nextDay=!0,t._a[St]=0),t._d=(t._useUTC?zt:function(t,e,i,n,o,r,s){var a=new Date(t,e,i,n,o,r,s);t<100&&0<=t&&isFinite(a.getFullYear())&&a.setFullYear(t);return a}).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[St]=24)}}function Ee(t){if(t._f!==u.ISO_8601)if(t._f!==u.RFC_2822){t._a=[],p(t).empty=!0;var e,i,n,o,r,s=""+t._i,a=s.length,l=0;for(n=$(t._f,t._locale).match(V)||[],e=0;e<n.length;e++)o=n[e],(i=(s.match(ft(o,t))||[])[0])&&(0<(r=s.substr(0,s.indexOf(i))).length&&p(t).unusedInput.push(r),s=s.slice(s.indexOf(i)+i.length),l+=i.length),q[o]?(i?p(t).empty=!1:p(t).unusedTokens.push(o),_t(o,i,t)):t._strict&&!i&&p(t).unusedTokens.push(o);p(t).charsLeftOver=a-l,0<s.length&&p(t).unusedInput.push(s),t._a[St]<=12&&!0===p(t).bigHour&&0<t._a[St]&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[St]=function(t,e,i){var n;if(null==i)return e;return null!=t.meridiemHour?t.meridiemHour(e,i):(null!=t.isPM&&((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0)),e)}(t._locale,t._a[St],t._meridiem),Oe(t),ge(t)}else xe(t);else Ce(t)}function Le(t){var e=t._i,i=t._f;return t._locale=t._locale||fe(t._l),null===e||void 0===i&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),b(e)?new _(ge(e)):(o(e)?t._d=e:s(i)?function(t){var e,i,n,o,r;if(0===t._f.length)return p(t).invalidFormat=!0,t._d=new Date(NaN);for(o=0;o<t._f.length;o++)r=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ee(e),g(e)&&(r+=p(e).charsLeftOver,r+=10*p(e).unusedTokens.length,p(e).score=r,(null==n||r<n)&&(n=r,i=e));c(t,i||e)}(t):i?Ee(t):function(t){var e=t._i;r(e)?t._d=new Date(u.now()):o(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=we.exec(t._i);if(null!==e)return t._d=new Date(+e[1]);{if(Ce(t),!1!==t._isValid)return;delete t._isValid}{if(xe(t),!1!==t._isValid)return;delete t._isValid}u.createFromInputFallback(t)}(t):s(e)?(t._a=n(e.slice(0),function(t){return parseInt(t,10)}),Oe(t)):a(e)?function(t){if(t._d)return;var e=A(t._i);t._a=n([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Oe(t)}(t):l(e)?t._d=new Date(e):u.createFromInputFallback(t)}(t),g(t)||(t._d=null),t))}function De(t,e,i,n,o){var r={};return!0!==i&&!1!==i||(n=i,i=void 0),(a(t)&&function(t){var e;for(e in t)return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=i,r._i=t,r._f=e,r._strict=n,function(t){var e=new _(ge(Le(t)));e._nextDay&&(e.add(1,"d"),e._nextDay=void 0);return e}(r)}function Ie(t,e,i,n){return De(t,e,i,n,!1)}u.createFromInputFallback=t("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),u.ISO_8601=function(){},u.RFC_2822=function(){};var Ne=t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ie.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Te=t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ie.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:m()});function Me(t,e){var i,n;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Ie();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pe(t){var e=A(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Ae.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Ae.length;++n)if(t[Ae[n]]){if(i)return!1;parseFloat(t[Ae[n]])!==C(t[Ae[n]])&&(i=!0)}return!0}(e),this._milliseconds=+h+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=fe(),this._bubble()}function Re(t){return t instanceof Pe}function Fe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function je(t,i){K(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+W(~~(t/60),2)+i+W(~~t%60,2)})}je("Z",":"),je("ZZ",""),pt("Z",ht),pt("ZZ",ht),vt(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=He(ht,t)});var Be=/([\+\-]|\d\d)/gi;function He(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],o=(n+"").match(Be)||["-",0,0],r=60*o[1]+C(o[2]);return 0===r?0:"+"===o[0]?r:-r}function We(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(b(t)||o(t)?t.valueOf():Ie(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),u.updateOffset(i,!1),i):Ie(t).local()}function Ve(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ze(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}u.updateOffset=function(){};var Ue=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,qe=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Ke(t,e){var i,n,o,r=t,s=null;return Re(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(r={},e?r[e]=t:r.milliseconds=t):(s=Ue.exec(t))?(i="-"===s[1]?-1:1,r={y:0,d:C(s[Ct])*i,h:C(s[St])*i,m:C(s[xt])*i,s:C(s[kt])*i,ms:C(Fe(1e3*s[Ot]))*i}):(s=qe.exec(t))?(i="-"===s[1]?-1:1,r={y:Ge(s[2],i),M:Ge(s[3],i),w:Ge(s[4],i),d:Ge(s[5],i),h:Ge(s[6],i),m:Ge(s[7],i),s:Ge(s[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=function(t,e){var i;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=We(e,t),t.isBefore(e)?i=Ye(t,e):((i=Ye(e,t)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(Ie(r.from),Ie(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),n=new Pe(r),Re(t)&&h(t,"_locale")&&(n._locale=t._locale),n}function Ge(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ye(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function $e(n,o){return function(t,e){var i;return null===e||isNaN(+e)||(O(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=t,t=e,e=i),Ze(this,Ke(t="string"==typeof t?+t:t,e),n),this}}function Ze(t,e,i,n){var o=e._milliseconds,r=Fe(e._days),s=Fe(e._months);t.isValid()&&(n=null==n||n,o&&t._d.setTime(t._d.valueOf()+o*i),r&&H(t,"Date",B(t,"Date")+r*i),s&&Pt(t,B(t,"Month")+s*i),n&&u.updateOffset(t,r||s))}Ke.fn=Pe.prototype,Ke.invalid=function(){return Ke(NaN)};var Xe=$e(1,"add"),Je=$e(-1,"subtract");function Qe(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return n=e-r<0?(i=t.clone().add(o-1,"months"),(e-r)/(r-i)):(i=t.clone().add(1+o,"months"),(e-r)/(i-r)),-(o+n)||0}function ti(t){var e;return void 0===t?this._locale._abbr:(null!=(e=fe(t))&&(this._locale=e),this)}u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",u.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ei=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function ii(){return this._locale}function ni(t,e){K(0,[t,t.length],0,e)}function oi(t,e,i,n,o){var r;return null==t?Kt(this,n,o).year:((r=Gt(t,n,o))<e&&(e=r),function(t,e,i,n,o){var r=qt(t,e,i,n,o),s=zt(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,t,e,i,n,o))}K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ni("gggg","weekYear"),ni("ggggg","weekYear"),ni("GGGG","isoWeekYear"),ni("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),pt("G",lt),pt("g",lt),pt("GG",et,X),pt("gg",et,X),pt("GGGG",rt,Q),pt("gggg",rt,Q),pt("GGGGG",st,tt),pt("ggggg",st,tt),yt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=C(t)}),yt(["gg","GG"],function(t,e,i,n){e[n]=u.parseTwoDigitYear(t)}),K("Q",0,"Qo","quarter"),T("quarter","Q"),R("quarter",7),pt("Q",Z),vt("Q",function(t,e){e[wt]=3*(C(t)-1)}),K("D",["DD",2],"Do","date"),T("date","D"),R("date",9),pt("D",et),pt("DD",et,X),pt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),vt(["D","DD"],Ct),vt("Do",function(t,e){e[Ct]=C(t.match(et)[0])});var ri=j("Date",!0);K("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),R("dayOfYear",4),pt("DDD",ot),pt("DDDD",J),vt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=C(t)}),K("m",["mm",2],0,"minute"),T("minute","m"),R("minute",14),pt("m",et),pt("mm",et,X),vt(["m","mm"],xt);var si=j("Minutes",!1);K("s",["ss",2],0,"second"),T("second","s"),R("second",15),pt("s",et),pt("ss",et,X),vt(["s","ss"],kt);var ai,li=j("Seconds",!1);for(K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return 10*this.millisecond()}),K(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),K(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),K(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),K(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),K(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),R("millisecond",16),pt("S",ot,Z),pt("SS",ot,X),pt("SSS",ot,J),ai="SSSS";ai.length<=9;ai+="S")pt(ai,at);function ui(t,e){e[Ot]=C(1e3*("0."+t))}for(ai="S";ai.length<=9;ai+="S")vt(ai,ui);var hi=j("Milliseconds",!1);K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName");var ci=_.prototype;function di(t){return t}ci.add=Xe,ci.calendar=function(t,e){var i=t||Ie(),n=We(i,this).startOf("day"),o=u.calendarFormat(this,n)||"sameElse",r=e&&(E(e[o])?e[o].call(this,i):e[o]);return this.format(r||this.localeData().calendar(o,this,Ie(i)))},ci.clone=function(){return new _(this)},ci.diff=function(t,e,i){var n,o,r,s;if(!this.isValid())return NaN;if(!(n=We(t,this)).isValid())return NaN;o=6e4*(n.utcOffset()-this.utcOffset()),"year"===(e=M(e))||"month"===e||"quarter"===e?(s=Qe(this,n),"quarter"===e?s/=3:"year"===e&&(s/=12)):(r=this-n,s="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-o)/864e5:"week"===e?(r-o)/6048e5:r);return i?s:w(s)},ci.endOf=function(t){if(void 0===(t=M(t))||"millisecond"===t)return this;"date"===t&&(t="day");return this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},ci.format=function(t){t=t||(this.isUtc()?u.defaultFormatUtc:u.defaultFormat);var e=Y(this,t);return this.localeData().postformat(e)},ci.from=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||Ie(t).isValid())?Ke({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ci.fromNow=function(t){return this.from(Ie(),t)},ci.to=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||Ie(t).isValid())?Ke({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ci.toNow=function(t){return this.to(Ie(),t)},ci.get=function(t){if(E(this[t=M(t)]))return this[t]();return this},ci.invalidAt=function(){return p(this).overflow},ci.isAfter=function(t,e){var i=b(t)?t:Ie(t);if(!this.isValid()||!i.isValid())return!1;return"millisecond"===(e=M(r(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()},ci.isBefore=function(t,e){var i=b(t)?t:Ie(t);if(!this.isValid()||!i.isValid())return!1;return"millisecond"===(e=M(r(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()},ci.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},ci.isSame=function(t,e){var i,n=b(t)?t:Ie(t);if(!this.isValid()||!n.isValid())return!1;return"millisecond"===(e=M(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())},ci.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},ci.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},ci.isValid=function(){return g(this)},ci.lang=ei,ci.locale=ti,ci.localeData=ii,ci.max=Te,ci.min=Ne,ci.parsingFlags=function(){return c({},p(this))},ci.set=function(t,e){if("object"==typeof t)for(var i=F(t=A(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(E(this[t=M(t)]))return this[t](e);return this},ci.startOf=function(t){switch(t=M(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}"week"===t&&this.weekday(0);"isoWeek"===t&&this.isoWeekday(1);"quarter"===t&&this.month(3*Math.floor(this.month()/3));return this},ci.subtract=Je,ci.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},ci.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},ci.toDate=function(){return new Date(this.valueOf())},ci.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();if(t.year()<0||9999<t.year())return Y(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");if(E(Date.prototype.toISOString))return this.toDate().toISOString();return Y(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},ci.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+o)},ci.toJSON=function(){return this.isValid()?this.toISOString():null},ci.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ci.unix=function(){return Math.floor(this.valueOf()/1e3)},ci.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ci.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ci.year=Vt,ci.isLeapYear=function(){return Wt(this.year())},ci.weekYear=function(t){return oi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ci.isoWeekYear=function(t){return oi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},ci.quarter=ci.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ci.month=Rt,ci.daysInMonth=function(){return It(this.year(),this.month())},ci.week=ci.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},ci.isoWeek=ci.isoWeeks=function(t){var e=Kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},ci.weeksInYear=function(){var t=this.localeData()._week;return Gt(this.year(),t.dow,t.doy)},ci.isoWeeksInYear=function(){return Gt(this.year(),1,4)},ci.date=ri,ci.day=ci.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(i=t,n=this.localeData(),t="string"==typeof i?isNaN(i)?"number"!=typeof(i=n.weekdaysParse(i))?null:i:parseInt(i,10):i,this.add(t-e,"d")):e;var i,n},ci.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},ci.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;{if(null==t)return this.day()||7;var e=(i=t,n=this.localeData(),"string"!=typeof i?isNaN(i)?null:i:n.weekdaysParse(i)%7||7);return this.day(this.day()%7?e:e-7)}var i,n},ci.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},ci.hour=ci.hours=se,ci.minute=ci.minutes=si,ci.second=ci.seconds=li,ci.millisecond=ci.milliseconds=hi,ci.utcOffset=function(t,e,i){var n,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;{if(null==t)return this._isUTC?o:Ve(this);if("string"==typeof t){if(null===(t=He(ht,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(n=Ve(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!e||this._changeInProgress?Ze(this,Ke(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,u.updateOffset(this,!0),this._changeInProgress=null)),this}},ci.utc=function(t){return this.utcOffset(0,t)},ci.local=function(t){this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ve(this),"m"));return this},ci.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=He(ut,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},ci.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ie(t).utcOffset():0,(this.utcOffset()-t)%60==0)},ci.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ci.isLocal=function(){return!!this.isValid()&&!this._isUTC},ci.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ci.isUtc=ze,ci.isUTC=ze,ci.zoneAbbr=function(){return this._isUTC?"UTC":""},ci.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ci.dates=t("dates accessor is deprecated. Use date instead.",ri),ci.months=t("months accessor is deprecated. Use month instead",Rt),ci.years=t("years accessor is deprecated. Use year instead",Vt),ci.zone=t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),ci.isDSTShifted=t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=Le(t))._a){var e=t._isUTC?d(t._a):Ie(t._a);this._isDSTShifted=this.isValid()&&0<S(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var pi=D.prototype;function fi(t,e,i,n){var o=fe(),r=d().set(n,e);return o[i](r,t)}function gi(t,e,i){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return fi(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=fi(t,n,i,"month");return o}function mi(t,e,i,n){e=("boolean"==typeof t?l(e)&&(i=e,e=void 0):(e=t,t=!1,l(i=e)&&(i=e,e=void 0)),e||"");var o,r=fe(),s=t?r._week.dow:0;if(null!=i)return fi(e,(i+s)%7,n,"day");var a=[];for(o=0;o<7;o++)a[o]=fi(e,(o+s)%7,n,"day");return a}pi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return E(n)?n.call(e,i):n},pi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return!e&&i?(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]):e},pi.invalidDate=function(){return this._invalidDate},pi.ordinal=function(t){return this._ordinal.replace("%d",t)},pi.preparse=di,pi.postformat=di,pi.relativeTime=function(t,e,i,n){var o=this._relativeTime[i];return E(o)?o(t,e,i,n):o.replace(/%d/i,t)},pi.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return E(i)?i(e):i.replace(/%s/i,e)},pi.set=function(t){var e,i;for(i in t)E(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pi.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Nt).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},pi.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Nt.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pi.monthsParse=function(t,e,i){var n,o,r;if(this._monthsParseExact)return At.call(this,t,e,i);this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(n=0;n<12;n++){if(o=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},pi.monthsRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=jt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},pi.monthsShortRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Ft),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},pi.week=function(t){return Kt(t,this._week.dow,this._week.doy).week},pi.firstDayOfYear=function(){return this._week.doy},pi.firstDayOfWeek=function(){return this._week.dow},pi.weekdays=function(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},pi.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},pi.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},pi.weekdaysParse=function(t,e,i){var n,o,r;if(this._weekdaysParseExact)return Xt.call(this,t,e,i);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(n=0;n<7;n++){if(o=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},pi.weekdaysRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Jt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},pi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||ee.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=te),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},pi.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},de("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===C(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th";return t+i}}),u.lang=t("moment.lang is deprecated. Use moment.locale instead.",de),u.langData=t("moment.langData is deprecated. Use moment.localeData instead.",fe);var vi=Math.abs;function yi(t,e,i,n){var o=Ke(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function _i(t){return t<0?Math.floor(t):Math.ceil(t)}function bi(t){return 4800*t/146097}function wi(t){return 146097*t/4800}function Ci(t){return function(){return this.as(t)}}var Si=Ci("ms"),xi=Ci("s"),ki=Ci("m"),Oi=Ci("h"),Ei=Ci("d"),Li=Ci("w"),Di=Ci("M"),Ii=Ci("y");function Ni(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ti=Ni("milliseconds"),Mi=Ni("seconds"),Ai=Ni("minutes"),Pi=Ni("hours"),Ri=Ni("days"),Fi=Ni("months"),ji=Ni("years");var Bi=Math.round,Hi={ss:44,s:45,m:45,h:22,d:26,M:11};var Wi=Math.abs;function Vi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Wi(this._milliseconds)/1e3,n=Wi(this._days),o=Wi(this._months);t=w(i/60),e=w(t/60),i%=60,t%=60;var r=w(o/12),s=o%=12,a=n,l=e,u=t,h=i,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(r?r+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(l||u||h?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(h?h+"S":""):"P0D"}var zi=Pe.prototype;return zi.isValid=function(){return this._isValid},zi.abs=function(){var t=this._data;return this._milliseconds=vi(this._milliseconds),this._days=vi(this._days),this._months=vi(this._months),t.milliseconds=vi(t.milliseconds),t.seconds=vi(t.seconds),t.minutes=vi(t.minutes),t.hours=vi(t.hours),t.months=vi(t.months),t.years=vi(t.years),this},zi.add=function(t,e){return yi(this,t,e,1)},zi.subtract=function(t,e){return yi(this,t,e,-1)},zi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=M(t))||"year"===t)return e=this._days+n/864e5,i=this._months+bi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(wi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},zi.asMilliseconds=Si,zi.asSeconds=xi,zi.asMinutes=ki,zi.asHours=Oi,zi.asDays=Ei,zi.asWeeks=Li,zi.asMonths=Di,zi.asYears=Ii,zi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},zi._bubble=function(){var t,e,i,n,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return 0<=r&&0<=s&&0<=a||r<=0&&s<=0&&a<=0||(r+=864e5*_i(wi(a)+s),a=s=0),l.milliseconds=r%1e3,t=w(r/1e3),l.seconds=t%60,e=w(t/60),l.minutes=e%60,i=w(e/60),l.hours=i%24,s+=w(i/24),o=w(bi(s)),a+=o,s-=_i(wi(o)),n=w(a/12),a%=12,l.days=s,l.months=a,l.years=n,this},zi.get=function(t){return t=M(t),this.isValid()?this[t+"s"]():NaN},zi.milliseconds=Ti,zi.seconds=Mi,zi.minutes=Ai,zi.hours=Pi,zi.days=Ri,zi.weeks=function(){return w(this.days()/7)},zi.months=Fi,zi.years=ji,zi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=Ke(t).abs(),o=Bi(n.as("s")),r=Bi(n.as("m")),s=Bi(n.as("h")),a=Bi(n.as("d")),l=Bi(n.as("M")),u=Bi(n.as("y")),h=o<=Hi.ss&&["s",o]||o<Hi.s&&["ss",o]||r<=1&&["m"]||r<Hi.m&&["mm",r]||s<=1&&["h"]||s<Hi.h&&["hh",s]||a<=1&&["d"]||a<Hi.d&&["dd",a]||l<=1&&["M"]||l<Hi.M&&["MM",l]||u<=1&&["y"]||["yy",u];return h[2]=e,h[3]=0<+t,h[4]=i,function(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}.apply(null,h)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},zi.toISOString=Vi,zi.toString=Vi,zi.toJSON=Vi,zi.locale=ti,zi.localeData=ii,zi.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vi),zi.lang=ei,K("X",0,0,"unix"),K("x",0,0,"valueOf"),pt("x",lt),pt("X",/[+-]?\d+(\.\d{1,3})?/),vt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),vt("x",function(t,e,i){i._d=new Date(C(t))}),u.version="2.18.1",function(t){e=t}(Ie),u.fn=ci,u.min=function(){return Me("isBefore",[].slice.call(arguments,0))},u.max=function(){return Me("isAfter",[].slice.call(arguments,0))},u.now=function(){return Date.now?Date.now():+new Date},u.utc=d,u.unix=function(t){return Ie(1e3*t)},u.months=function(t,e){return gi(t,e,"months")},u.isDate=o,u.locale=de,u.invalid=m,u.duration=Ke,u.isMoment=b,u.weekdays=function(t,e,i){return mi(t,e,i,"weekdays")},u.parseZone=function(){return Ie.apply(null,arguments).parseZone()},u.localeData=fe,u.isDuration=Re,u.monthsShort=function(t,e){return gi(t,e,"monthsShort")},u.weekdaysMin=function(t,e,i){return mi(t,e,i,"weekdaysMin")},u.defineLocale=pe,u.updateLocale=function(t,e){if(null!=e){var i,n=ae;null!=le[t]&&(n=le[t]._config),e=L(n,e),(i=new D(e)).parentLocale=le[t],le[t]=i,de(t)}else null!=le[t]&&(null!=le[t].parentLocale?le[t]=le[t].parentLocale:null!=le[t]&&delete le[t]);return le[t]},u.locales=function(){return I(le)},u.weekdaysShort=function(t,e,i){return mi(t,e,i,"weekdaysShort")},u.normalizeUnits=M,u.relativeTimeRounding=function(t){return void 0!==t?"function"!=typeof t?0:(Bi=t,!0):Bi},u.relativeTimeThreshold=function(t,e){return void 0!==Hi[t]&&(void 0===e?Hi[t]:(Hi[t]=e,"s"===t&&(Hi.ss=e-1),!0))},u.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},u.prototype=ci,u}()}).call(e,i(84)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,(t.exports=i).id=85},function(c,t){(function(t){var s,e="undefined"!=typeof window?window:void 0!==t?t:null;if(e&&e.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);s=function(){return crypto.getRandomValues(i),i}}if(!s){var n=new Array(16);s=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}for(var o=[],r={},a=0;a<256;a++)o[a]=(a+256).toString(16).substr(1),r[o[a]]=a;function p(t,e){var i=e||0,n=o;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}var l=s(),f=[1|l[0],l[1],l[2],l[3],l[4],l[5]],g=16383&(l[6]<<8|l[7]),m=0,v=0;function u(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var r=0;r<16;r++)e[n+r]=o[r];return e||p(o)}var h=u;h.v1=function(t,e,i){var n=e&&i||0,o=e||[],r=void 0!==(t=t||{}).clockseq?t.clockseq:g,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),a=void 0!==t.nsecs?t.nsecs:v+1,l=s-m+(a-v)/1e4;if(l<0&&void 0===t.clockseq&&(r=r+1&16383),(l<0||m<s)&&void 0===t.nsecs&&(a=0),1e4<=a)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=s,g=r;var u=(1e4*(268435455&(s+=122192928e5))+(v=a))%4294967296;o[n++]=u>>>24&255,o[n++]=u>>>16&255,o[n++]=u>>>8&255,o[n++]=255&u;var h=s/4294967296*1e4&268435455;o[n++]=h>>>8&255,o[n++]=255&h,o[n++]=h>>>24&15|16,o[n++]=h>>>16&255,o[n++]=r>>>8|128,o[n++]=255&r;for(var c=t.node||f,d=0;d<6;d++)o[n+d]=c[d];return e||p(o)},h.v4=u,h.parse=function(t,e,i){var n=e&&i||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[n+o++]=r[t])});o<16;)e[n+o++]=0;return e},h.unparse=p,c.exports=h}).call(t,function(){return this}())},function(t,e,i){e.util=i(1),e.DOMutil=i(88),e.DataSet=i(89),e.DataView=i(93),e.Queue=i(92),e.Graph3d=i(94),e.graph3d={Camera:i(102),Filter:i(107),Point2d:i(101),Point3d:i(100),Slider:i(108),StepNumber:i(109)},e.moment=i(82),e.Hammer=i(113),e.keycharm=i(116)},function(t,u){u.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},u.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},u.resetElements=function(t){u.prepareElements(t),u.cleanupElements(t),u.prepareElements(t)},u.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?0<e[t].redundant.length?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},u.getDOMElement=function(t,e,i,n){var o;return e.hasOwnProperty(t)?0<e[t].redundant.length?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),e[t].used.push(o),o},u.drawPoint=function(t,e,i,n,o,r){var s;if("circle"==i.style?((s=u.getSVGElement("circle",n,o)).setAttributeNS(null,"cx",t),s.setAttributeNS(null,"cy",e),s.setAttributeNS(null,"r",.5*i.size)):((s=u.getSVGElement("rect",n,o)).setAttributeNS(null,"x",t-.5*i.size),s.setAttributeNS(null,"y",e-.5*i.size),s.setAttributeNS(null,"width",i.size),s.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&s.setAttributeNS(null,"style",i.styles),s.setAttributeNS(null,"class",i.className+" vis-point"),r){var a=u.getSVGElement("text",n,o);r.xOffset&&(t+=r.xOffset),r.yOffset&&(e+=r.yOffset),r.content&&(a.textContent=r.content),r.className&&a.setAttributeNS(null,"class",r.className+" vis-label"),a.setAttributeNS(null,"x",t),a.setAttributeNS(null,"y",e)}return s},u.drawBar=function(t,e,i,n,o,r,s,a){if(0!=n){n<0&&(e-=n*=-1);var l=u.getSVGElement("rect",r,s);l.setAttributeNS(null,"x",t-.5*i),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",n),l.setAttributeNS(null,"class",o),a&&l.setAttributeNS(null,"style",a)}}},function(t,e,i){var l=n(i(90)),d=n(i(62)),v=n(i(58));function n(t){return t&&t.__esModule?t:{default:t}}var y=i(1),o=i(92);function r(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,v.default)(this._options.type),n=0,o=i.length;n<o;n++){var r=i[n],s=this._options.type[r];this._type[r]="Date"==s||"ISODate"==s||"ASPDate"==s?"Date":s}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},t&&this.add(t),this.setOptions(e)}r.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=o.extend(this,{replace:["add","update","remove"]})),"object"===(0,d.default)(t.queue)&&this._queue.setOptions(t.queue)))},r.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},r.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},r.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},r.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},r.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var n=[];t in this._subscribers&&(n=n.concat(this._subscribers[t])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var o=0,r=n.length;o<r;o++){var s=n[o];s.callback&&s.callback(t,e,i||null)}},r.prototype.add=function(t,e){var i,n=[];if(Array.isArray(t))for(var o=0,r=t.length;o<r;o++)i=this._addItem(t[o]),n.push(i);else{if(!t||"object"!==(void 0===t?"undefined":(0,d.default)(t)))throw new Error("Unknown dataType");i=this._addItem(t),n.push(i)}return n.length&&this._trigger("add",{items:n},e),n},r.prototype.update=function(t,e){function i(t){var e=t[l];if(a._data[e]){var i=y.extend({},a._data[e]);e=a._updateItem(t),o.push(e),s.push(t),r.push(i)}else e=a._addItem(t),n.push(e)}var n=[],o=[],r=[],s=[],a=this,l=a._fieldId;if(Array.isArray(t))for(var u=0,h=t.length;u<h;u++)t[u]&&"object"===(0,d.default)(t[u])?i(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==(void 0===t?"undefined":(0,d.default)(t)))throw new Error("Unknown dataType");i(t)}if(n.length&&this._trigger("add",{items:n},e),o.length){var c={items:o,oldData:r,data:s};this._trigger("update",c,e)}return n.concat(o)},r.prototype.get=function(t){var e,i,n,o,r=y.getType(t);if((n="String"==r||"Number"==r?(e=t,arguments[1]):"Array"==r?(i=t,arguments[1]):t)&&n.returnType){o=-1==["Array","Object"].indexOf(n.returnType)?"Array":n.returnType}else o="Array";var s,a,l,u,h,c=n&&n.type||this._options.type,d=n&&n.filter,p=[];if(null!=e)(s=this._getItem(e,c))&&d&&!d(s)&&(s=null);else if(null!=i)for(u=0,h=i.length;u<h;u++)s=this._getItem(i[u],c),d&&!d(s)||p.push(s);else for(h=(a=(u=0,v.default)(this._data)).length;u<h;u++)l=a[u],s=this._getItem(l,c),d&&!d(s)||p.push(s);if(n&&n.order&&null==e&&this._sort(p,n.order),n&&n.fields){var f=n.fields;if(null!=e)s=this._filterFields(s,f);else for(u=0,h=p.length;u<h;u++)p[u]=this._filterFields(p[u],f)}if("Object"!=o)return null!=e?s:p;var g,m={};for(u=0,h=p.length;u<h;u++)m[(g=p[u]).id]=g;return m},r.prototype.getIds=function(t){var e,i,n,o,r,s=this._data,a=t&&t.filter,l=t&&t.order,u=t&&t.type||this._options.type,h=(0,v.default)(s),c=[];if(a)if(l){for(r=[],e=0,i=h.length;e<i;e++)n=h[e],a(o=this._getItem(n,u))&&r.push(o);for(this._sort(r,l),e=0,i=r.length;e<i;e++)c.push(r[e][this._fieldId])}else for(e=0,i=h.length;e<i;e++)n=h[e],a(o=this._getItem(n,u))&&c.push(o[this._fieldId]);else if(l){for(r=[],e=0,i=h.length;e<i;e++)n=h[e],r.push(s[n]);for(this._sort(r,l),e=0,i=r.length;e<i;e++)c.push(r[e][this._fieldId])}else for(e=0,i=h.length;e<i;e++)o=s[n=h[e]],c.push(o[this._fieldId]);return c},r.prototype.getDataSet=function(){return this},r.prototype.forEach=function(t,e){var i,n,o,r,s=e&&e.filter,a=e&&e.type||this._options.type,l=this._data,u=(0,v.default)(l);if(e&&e.order){var h=this.get(e);for(i=0,n=h.length;i<n;i++)t(o=h[i],r=o[this._fieldId])}else for(i=0,n=u.length;i<n;i++)r=u[i],o=this._getItem(r,a),s&&!s(o)||t(o,r)},r.prototype.map=function(t,e){var i,n,o,r,s=e&&e.filter,a=e&&e.type||this._options.type,l=[],u=this._data,h=(0,v.default)(u);for(i=0,n=h.length;i<n;i++)o=h[i],r=this._getItem(o,a),s&&!s(r)||l.push(t(r,o));return e&&e.order&&this._sort(l,e.order),l},r.prototype._filterFields=function(t,e){if(!t)return t;var i,n,o={},r=(0,v.default)(t),s=r.length;if(Array.isArray(e))for(i=0;i<s;i++)n=r[i],-1!=e.indexOf(n)&&(o[n]=t[n]);else for(i=0;i<s;i++)n=r[i],e.hasOwnProperty(n)&&(o[e[n]]=t[n]);return o},r.prototype._sort=function(t,e){if(y.isString(e)){var o=e;t.sort(function(t,e){var i=t[o],n=e[o];return n<i?1:i<n?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},r.prototype.remove=function(t,e){var i,n,o,r,s,a=[],l=[];for(n=0,o=(i=Array.isArray(t)?t:[t]).length;n<o;n++)(s=this._remove(i[n]))&&null!=(r=s[this._fieldId])&&(a.push(r),l.push(s));return a.length&&this._trigger("remove",{items:a,oldData:l},e),a},r.prototype._remove=function(t){var e,i;return y.isNumber(t)||y.isString(t)?i=t:t&&"object"===(void 0===t?"undefined":(0,d.default)(t))&&(i=t[this._fieldId]),void 0!==i&&this._data[i]?(e=this._data[i],delete this._data[i],this.length--,e):null},r.prototype.clear=function(t){var e,i,n=(0,v.default)(this._data),o=[];for(e=0,i=n.length;e<i;e++)o.push(this._data[n[e]]);return this._data={},this.length=0,this._trigger("remove",{items:n,oldData:o},t),n},r.prototype.max=function(t){var e,i,n=this._data,o=(0,v.default)(n),r=null,s=null;for(e=0,i=o.length;e<i;e++){var a=n[o[e]],l=a[t];null!=l&&(!r||s<l)&&(r=a,s=l)}return r},r.prototype.min=function(t){var e,i,n=this._data,o=(0,v.default)(n),r=null,s=null;for(e=0,i=o.length;e<i;e++){var a=n[o[e]],l=a[t];null!=l&&(!r||l<s)&&(r=a,s=l)}return r},r.prototype.distinct=function(t){var e,i,n,o=this._data,r=(0,v.default)(o),s=[],a=this._options.type&&this._options.type[t]||null,l=0;for(e=0,n=r.length;e<n;e++){var u=o[r[e]][t],h=!1;for(i=0;i<l;i++)if(s[i]==u){h=!0;break}h||void 0===u||(s[l]=u,l++)}if(a)for(e=0,n=s.length;e<n;e++)s[e]=y.convert(s[e],a);return s},r.prototype._addItem=function(t){var e=t[this._fieldId];if(null!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=y.randomUUID(),t[this._fieldId]=e;var i,n,o={},r=(0,v.default)(t);for(i=0,n=r.length;i<n;i++){var s=r[i],a=this._type[s];o[s]=y.convert(t[s],a)}return this._data[e]=o,this.length++,e},r.prototype._getItem=function(t,e){var i,n,o,r,s=this._data[t];if(!s)return null;var a={},l=(0,v.default)(s);if(e)for(o=0,r=l.length;o<r;o++)n=s[i=l[o]],a[i]=y.convert(n,e[i]);else for(o=0,r=l.length;o<r;o++)n=s[i=l[o]],a[i]=n;return a[this._fieldId]||(a[this._fieldId]=s.id),a},r.prototype._updateItem=function(t){var e=t[this._fieldId];if(null==e)throw new Error("Cannot update item: item has no id (item: "+(0,l.default)(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var n=(0,v.default)(t),o=0,r=n.length;o<r;o++){var s=n[o],a=this._type[s];i[s]=y.convert(t[s],a)}return e},t.exports=r},function(t,e,i){t.exports={default:i(91),__esModule:!0}},function(t,e,i){var n=i(17),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e){function s(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}s.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},s.extend=function(t,e){var i=new s(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var n=[{name:"flush",original:void 0}];if(e&&e.replace)for(var o=0;o<e.replace.length;o++){var r=e.replace[o];n.push({name:r,original:t[r]}),i.replace(t,r)}return i._extended={object:t,methods:n},i},s.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}},s.prototype.replace=function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:n,context:this})}},s.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},s.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),0<this.queue.length&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},s.prototype.flush=function(){for(;0<this._queue.length;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=s},function(t,e,i){var n,o=i(58),u=(n=o)&&n.__esModule?n:{default:n};var l=i(1),r=i(89);function s(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}s.prototype.setData=function(t){var e,i,n,o,r;if(this._data){for(this._data.off&&this._data.off("*",this.listener),r=[],n=0,o=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;n<o;n++)r.push(this._data._data[e[n]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:r})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",n=0,o=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;n<o;n++)i=e[n],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},s.prototype.refresh=function(){var t,e,i,n=this._data.getIds({filter:this._options&&this._options.filter}),o=(0,u.default)(this._ids),r={},s=[],a=[],l=[];for(e=0,i=n.length;e<i;e++)r[t=n[e]]=!0,this._ids[t]||(s.push(t),this._ids[t]=!0);for(e=0,i=o.length;e<i;e++)r[t=o[e]]||(a.push(t),l.push(this._data._data[t]),delete this._ids[t]);this.length+=s.length-a.length,s.length&&this._trigger("add",{items:s}),a.length&&this._trigger("remove",{items:a,oldData:l})},s.prototype.get=function(t){var e,i,n,o=this,r=l.getType(t);n="String"==r||"Number"==r||"Array"==r?(e=t,i=arguments[1],arguments[2]):(i=t,arguments[1]);var s=l.extend({},this._options,i);this._options.filter&&i&&i.filter&&(s.filter=function(t){return o._options.filter(t)&&i.filter(t)});var a=[];return null!=e&&a.push(e),a.push(s),a.push(n),this._data&&this._data.get.apply(this._data,a)},s.prototype.getIds=function(e){var t;if(this._data){var i,n=this._options.filter;i=e&&e.filter?n?function(t){return n(t)&&e.filter(t)}:e.filter:n,t=this._data.getIds({filter:i,order:e&&e.order})}else t=[];return t},s.prototype.map=function(t,e){var i=[];if(this._data){var n,o=this._options.filter;n=e&&e.filter?o?function(t){return o(t)&&e.filter(t)}:e.filter:o,i=this._data.map(t,{filter:n,order:e&&e.order})}else i=[];return i},s.prototype.getDataSet=function(){for(var t=this;t instanceof s;)t=t._data;return t||null},s.prototype._onEvent=function(t,e,i){var n,o,r,s=e&&e.items,a=[],l=[],u=[],h=[],c=[],d=[];if(s&&this._data){switch(t){case"add":for(n=0,o=s.length;n<o;n++)r=s[n],this.get(r)&&(this._ids[r]=!0,a.push(r));break;case"update":for(n=0,o=s.length;n<o;n++)r=s[n],this.get(r)?this._ids[r]?(l.push(r),c.push(e.data[n]),h.push(e.oldData[n])):(this._ids[r]=!0,a.push(r)):this._ids[r]&&(delete this._ids[r],u.push(r),d.push(e.oldData[n]));break;case"remove":for(n=0,o=s.length;n<o;n++)r=s[n],this._ids[r]&&(delete this._ids[r],u.push(r),d.push(e.oldData[n]))}this.length+=a.length-u.length,a.length&&this._trigger("add",{items:a},i),l.length&&this._trigger("update",{items:l,oldData:h,data:c},i),u.length&&this._trigger("remove",{items:u,oldData:d},i)}},s.prototype.on=r.prototype.on,s.prototype.off=r.prototype.off,s.prototype._trigger=r.prototype._trigger,s.prototype.subscribe=s.prototype.on,s.prototype.unsubscribe=s.prototype.off,t.exports=s},function(t,e,i){var n,o=i(95),h=(n=o)&&n.__esModule?n:{default:n};var r=i(99),c=(i(89),i(93),i(1)),N=i(100),T=i(101),s=(i(102),i(107)),a=i(108),M=i(109),l=(i(110),i(111)),u=i(112),d=void 0,p={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:d,animationInterval:1e3,animationPreload:!1,animationAutoStart:d,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(b.STYLE=l.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},showLegend:d,backgroundColor:d,dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},xBarWidth:d,yBarWidth:d,valueMin:d,valueMax:d,xMin:d,xMax:d,xStep:d,yMin:d,yMax:d,yStep:d,zMin:d,zMax:d,zStep:d};function b(t,e,i){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new u,this.dataPoints=null,this.create(),l.setDefaults(p,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.setOptions(i),e&&this.setData(e)}function f(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function g(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}r(b.prototype),b.prototype._setScale=function(){this.scale=new N(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},b.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},b.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),n=t.x*this.scale.x,o=t.y*this.scale.y,r=t.z*this.scale.z,s=e.x,a=e.y,l=e.z,u=Math.sin(i.x),h=Math.cos(i.x),c=Math.sin(i.y),d=Math.cos(i.y),p=Math.sin(i.z),f=Math.cos(i.z);return new N(d*(p*(o-a)+f*(n-s))-c*(r-l),u*(d*(r-l)+c*(p*(o-a)+f*(n-s)))+h*(f*(o-a)-p*(n-s)),h*(d*(r-l)+c*(p*(o-a)+f*(n-s)))-u*(f*(o-a)-p*(n-s)))},b.prototype._convertTranslationToScreen=function(t){var e,i,n=this.eye.x,o=this.eye.y,r=this.eye.z,s=t.x,a=t.y,l=t.z;return i=this.showPerspective?(e=r/l*(s-n),r/l*(a-o)):(e=s*(-r/this.camera.getArmLength()),a*(-r/this.camera.getArmLength())),new T(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},b.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans);var n=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?n.length():-n.z}t.sort(function(t,e){return e.dist-t.dist})},b.prototype._checkValueField=function(t){if(this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE||this.style===b.STYLE.DOTCOLOR||this.style===b.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},b.prototype._initializeData=function(t,e){if(this.dataGroup.initializeData(this,t,e),this.xRange=this.dataGroup.xRange,this.yRange=this.dataGroup.yRange,this.zRange=this.dataGroup.zRange,this.valueRange=this.dataGroup.valueRange,this.xStep=this.dataGroup.xStep,this.yStep=this.dataGroup.yStep,this.zStep=this.dataGroup.zStep,this.xBarWidth=this.dataGroup.xBarWidth,this.yBarWidth=this.dataGroup.yBarWidth,this.colX=this.dataGroup.colX,this.colY=this.dataGroup.colY,this.colZ=this.dataGroup.colZ,this.colValue=this.dataGroup.colValue,this.dataGroup.getDataTable()[0].hasOwnProperty("filter")){this.colFilter="filter";var i=this;void 0===this.dataFilter&&(this.dataFilter=new s(this.dataGroup,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){i.redraw()}))}this._setScale()},b.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new N;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var o={};o.point=n,o.bottom=new N(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},b.prototype._getDataPoints=function(t){var e,i,n,o,r=[];if(this.style===b.STYLE.GRID||this.style===b.STYLE.SURFACE){var s=this.dataGroup.getDistinctValues(this.colX,t),a=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);var l=[];for(n=0;n<r.length;n++){o=r[n];var u=s.indexOf(o.point.x),h=a.indexOf(o.point.y);void 0===l[u]&&(l[u]=[]),l[u][h]=o}for(e=0;e<l.length;e++)for(i=0;i<l[e].length;i++)l[e][i]&&(l[e][i].pointRight=e<l.length-1?l[e+1][i]:void 0,l[e][i].pointTop=i<l[e].length-1?l[e][i+1]:void 0,l[e][i].pointCross=e<l.length-1&&i<l[e].length-1?l[e+1][i+1]:void 0)}else if(this._checkValueField(t),r=this.getDataPoints(t),this.style===b.STYLE.LINE)for(n=0;n<r.length;n++)0<n&&(r[n-1].pointNext=r[n]);return r},b.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this;c.addEventListener(this.frame.canvas,"mousedown",function(t){e._onMouseDown(t)}),c.addEventListener(this.frame.canvas,"touchstart",function(t){e._onTouchStart(t)}),c.addEventListener(this.frame.canvas,"mousewheel",function(t){e._onWheel(t)}),c.addEventListener(this.frame.canvas,"mousemove",function(t){e._onTooltip(t)}),c.addEventListener(this.frame.canvas,"click",function(t){e._onClick(t)}),this.containerElement.appendChild(this.frame)},b.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},b.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},b.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()},b.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},b.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},b.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},b.prototype._readData=function(t){this._initializeData(t,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataGroup.getDataTable()),this._redrawFilter()},b.prototype.setData=function(t){this._readData(t),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},b.prototype.setOptions=function(t){this.animationStop(),l.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.dataGroup.reload(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},b.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case b.STYLE.BAR:t=b.prototype._redrawBarGraphPoint;break;case b.STYLE.BARCOLOR:t=b.prototype._redrawBarColorGraphPoint;break;case b.STYLE.BARSIZE:t=b.prototype._redrawBarSizeGraphPoint;break;case b.STYLE.DOT:t=b.prototype._redrawDotGraphPoint;break;case b.STYLE.DOTLINE:t=b.prototype._redrawDotLineGraphPoint;break;case b.STYLE.DOTCOLOR:t=b.prototype._redrawDotColorGraphPoint;break;case b.STYLE.DOTSIZE:t=b.prototype._redrawDotSizeGraphPoint;break;case b.STYLE.SURFACE:t=b.prototype._redrawSurfaceGraphPoint;break;case b.STYLE.GRID:t=b.prototype._redrawGridGraphPoint;break;case b.STYLE.LINE:t=b.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},b.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},b.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},b.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},b.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},b.prototype._getLegendWidth=function(){var t;this.style===b.STYLE.DOTSIZE?t=this._dotSize()*this.dotSizeMaxFraction:t=this.style===b.STYLE.BARSIZE?this.xBarWidth:20;return t},b.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==b.STYLE.LINE&&this.style!==b.STYLE.BARSIZE){var t=this.style===b.STYLE.BARSIZE||this.style===b.STYLE.DOTSIZE,e=this.style===b.STYLE.DOTSIZE||this.style===b.STYLE.DOTCOLOR||this.style===b.STYLE.BARCOLOR,i=Math.max(.25*this.frame.clientHeight,100),n=this.margin,o=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,s=r-o,a=n+i,l=this._getContext();if(l.lineWidth=1,!(l.font="14px arial")==t){var u=i;for(p=0;p<u;p++){var h=240*((p-0)/(u-0)),c=this._hsv2rgb(h,1,1);l.strokeStyle=c,l.beginPath(),l.moveTo(s,n+p),l.lineTo(r,n+p),l.stroke()}l.strokeStyle=this.axisColor,l.strokeRect(s,n,o,i)}else{var d;this.style===b.STYLE.DOTSIZE?d=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,b.STYLE.BARSIZE),l.strokeStyle=this.axisColor,l.fillStyle=this.dataColor.fill,l.beginPath(),l.moveTo(s,n),l.lineTo(r,n),l.lineTo(s+d,a),l.lineTo(s,a),l.closePath(),l.fill(),l.stroke()}var p,f,g,m=e?this.valueRange.min:this.zRange.min,v=e?this.valueRange.max:this.zRange.max,y=new M(m,v,(v-m)/5,!0);for(y.start(!0);!y.end();)p=a-(y.getCurrent()-m)/(v-m)*i,f=new T(s-5,p),g=new T(s,p),this._line(l,f,g),l.textAlign="right",l.textBaseline="middle",l.fillStyle=this.axisColor,l.fillText(y.getCurrent(),s-10,p),y.next();l.textAlign="right",l.textBaseline="top";var _=this.legendLabel;l.fillText(_,r,a+this.margin)}},b.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var t={visible:this.showAnimationControls},e=new a(this.frame.filter,t);this.frame.filter.slider=e,this.frame.filter.style.padding="10px",e.setValues(this.dataFilter.values),e.setPlayInterval(this.animationInterval);var i=this;e.setOnChangeCallback(function(){var t=e.getIndex();i.dataFilter.selectValue(t),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()})}else this.frame.filter.slider=void 0},b.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},b.prototype._redrawInfo=function(){if(this.dataFilter){var t=this._getContext();t.font="14px arial",t.lineStyle="gray",t.fillStyle="gray",t.textAlign="left",t.textBaseline="top";var e=this.margin,i=this.margin;t.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),e,i)}},b.prototype._line=function(t,e,i,n){void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},b.prototype.drawAxisLabelX=function(t,e,i,n,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);0<Math.cos(2*n)?(t.textAlign="center",t.textBaseline="top",r.y+=o):(Math.sin(2*n)<0?t.textAlign="right":t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,r.x,r.y)},b.prototype.drawAxisLabelY=function(t,e,i,n,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);Math.cos(2*n)<0?(t.textAlign="center",t.textBaseline="top",r.y+=o):(0<Math.sin(2*n)?t.textAlign="right":t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,r.x,r.y)},b.prototype.drawAxisLabelZ=function(t,e,i,n){void 0===n&&(n=0);var o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,o.x-n,o.y)},b.prototype._line3d=function(t,e,i,n){var o=this._convert3Dto2D(e),r=this._convert3Dto2D(i);this._line(t,o,r,n)},b.prototype._redrawAxis=function(){var t,e,i,n,o,r,s,a,l,u,h=this._getContext();h.font=24/this.camera.getArmLength()+"px arial";var c,d,p=.025/this.scale.x,f=.025/this.scale.y,g=5/this.camera.getArmLength(),m=this.camera.getArmRotation().horizontal,v=new T(Math.cos(m),Math.sin(m)),y=this.xRange,_=this.yRange,b=this.zRange;for(h.lineWidth=1,n=void 0===this.defaultXStep,(i=new M(y.min,y.max,this.xStep,n)).start(!0);!i.end();){var w=i.getCurrent();if(this.showGrid?(t=new N(w,_.min,b.min),e=new N(w,_.max,b.min),this._line3d(h,t,e,this.gridColor)):this.showXAxis&&(t=new N(w,_.min,b.min),e=new N(w,_.min+p,b.min),this._line3d(h,t,e,this.axisColor),t=new N(w,_.max,b.min),e=new N(w,_.max-p,b.min),this._line3d(h,t,e,this.axisColor)),this.showXAxis){s=0<v.x?_.min:_.max;var C=new N(w,s,b.min),S="  "+this.xValueLabel(w)+"  ";this.drawAxisLabelX(h,C,S,m,g)}i.next()}for(h.lineWidth=1,n=void 0===this.defaultYStep,(i=new M(_.min,_.max,this.yStep,n)).start(!0);!i.end();){var x=i.getCurrent();if(this.showGrid?(t=new N(y.min,x,b.min),e=new N(y.max,x,b.min),this._line3d(h,t,e,this.gridColor)):this.showYAxis&&(t=new N(y.min,x,b.min),e=new N(y.min+f,x,b.min),this._line3d(h,t,e,this.axisColor),t=new N(y.max,x,b.min),e=new N(y.max-f,x,b.min),this._line3d(h,t,e,this.axisColor)),this.showYAxis){r=0<v.y?y.min:y.max,C=new N(r,x,b.min);S="  "+this.yValueLabel(x)+"  ";this.drawAxisLabelY(h,C,S,m,g)}i.next()}if(this.showZAxis){for(h.lineWidth=1,n=void 0===this.defaultZStep,(i=new M(b.min,b.max,this.zStep,n)).start(!0),r=0<v.x?y.min:y.max,s=v.y<0?_.min:_.max;!i.end();){var k=i.getCurrent(),O=new N(r,s,k),E=this._convert3Dto2D(O);e=new T(E.x-g,E.y),this._line(h,E,e,this.axisColor);S=this.zValueLabel(k)+" ";this.drawAxisLabelZ(h,O,S,5),i.next()}h.lineWidth=1,t=new N(r,s,b.min),e=new N(r,s,b.max),this._line3d(h,t,e,this.axisColor)}this.showXAxis&&(h.lineWidth=1,c=new N(y.min,_.min,b.min),d=new N(y.max,_.min,b.min),this._line3d(h,c,d,this.axisColor),c=new N(y.min,_.max,b.min),d=new N(y.max,_.max,b.min),this._line3d(h,c,d,this.axisColor));this.showYAxis&&(h.lineWidth=1,t=new N(y.min,_.min,b.min),e=new N(y.min,_.max,b.min),this._line3d(h,t,e,this.axisColor),t=new N(y.max,_.min,b.min),e=new N(y.max,_.max,b.min),this._line3d(h,t,e,this.axisColor));var L=this.xLabel;0<L.length&&this.showXAxis&&(u=.1/this.scale.y,r=(y.max+3*y.min)/4,s=0<v.x?_.min-u:_.max+u,o=new N(r,s,b.min),this.drawAxisLabelX(h,o,L,m));var D=this.yLabel;0<D.length&&this.showYAxis&&(l=.1/this.scale.x,r=0<v.y?y.min-l:y.max+l,s=(_.max+3*_.min)/4,o=new N(r,s,b.min),this.drawAxisLabelY(h,o,D,m));var I=this.zLabel;0<I.length&&this.showZAxis&&(r=0<v.x?y.min:y.max,s=v.y<0?_.min:_.max,a=(b.max+3*b.min)/4,o=new N(r,s,a),this.drawAxisLabelZ(h,o,I,30))},b.prototype._hsv2rgb=function(t,e,i){var n,o,r,s,a,l;switch(s=i*e,a=Math.floor(t/60),l=s*(1-Math.abs(t/60%2-1)),a){case 0:n=s,o=l,r=0;break;case 1:n=l,o=s,r=0;break;case 2:n=0,o=s,r=l;break;case 3:n=0,o=l,r=s;break;case 4:n=l,o=0,r=s;break;case 5:n=s,o=0,r=l;break;default:r=o=n=0}return"RGB("+parseInt(255*n)+","+parseInt(255*o)+","+parseInt(255*r)+")"},b.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},b.prototype._redrawBar=function(t,e,i,n,o,r){var s,a,l=this,u=e.point,h=this.zRange.min,c=[{point:new N(u.x-i,u.y-n,u.z)},{point:new N(u.x+i,u.y-n,u.z)},{point:new N(u.x+i,u.y+n,u.z)},{point:new N(u.x-i,u.y+n,u.z)}],d=[{point:new N(u.x-i,u.y-n,h)},{point:new N(u.x+i,u.y-n,h)},{point:new N(u.x+i,u.y+n,h)},{point:new N(u.x-i,u.y+n,h)}];c.forEach(function(t){t.screen=l._convert3Dto2D(t.point)}),d.forEach(function(t){t.screen=l._convert3Dto2D(t.point)});var p=[{corners:c,center:N.avg(d[0].point,d[2].point)},{corners:[c[0],c[1],d[1],d[0]],center:N.avg(d[1].point,d[0].point)},{corners:[c[1],c[2],d[2],d[1]],center:N.avg(d[2].point,d[1].point)},{corners:[c[2],c[3],d[3],d[2]],center:N.avg(d[3].point,d[2].point)},{corners:[c[3],c[0],d[0],d[3]],center:N.avg(d[0].point,d[3].point)}];for(e.surfaces=p,s=0;s<p.length;s++){a=p[s];var f=this._convertPointToTranslation(a.center);a.dist=this.showPerspective?f.length():-f.z}for(p.sort(function(t,e){var i=e.dist-t.dist;return i||(t.corners===c?1:e.corners===c?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=o,s=2;s<p.length;s++)a=p[s],this._polygon(t,a.corners)},b.prototype._polygon=function(t,e,i,n){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var o=1;o<e.length;++o){var r=e[o];t.lineTo(r.screen.x,r.screen.y)}t.closePath(),t.fill(),t.stroke()}},b.prototype._drawCircle=function(t,e,i,n,o){var r=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=n,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0),t.fill(),t.stroke()},b.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}},b.prototype._getColorsColor=function(t){var e,i;if("string"==typeof t.point.value)e=t.point.value,i=t.point.value;else{var n=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(n,1,1),i=this._hsv2rgb(n,1,.8)}return{fill:e,border:i}},b.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},b.prototype._calcRadius=function(t,e){var i;return void 0===e&&(e=this._dotSize()),(i=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()))<0&&(i=0),i},b.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,i,n,o.fill,o.border)},b.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,i,n,o.fill,o.border)},b.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),n=this.xBarWidth/2*(.8*i+.2),o=this.yBarWidth/2*(.8*i+.2),r=this._getColorsSize();this._redrawBar(t,e,n,o,r.fill,r.border)},b.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},b.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},b.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},b.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),n=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=i*this.dotSizeMinFraction,r=o+(i*this.dotSizeMaxFraction-o)*n,s=this._getColorsSize();this._drawCircle(t,e,s.fill,s.border,r)},b.prototype._redrawSurfaceGraphPoint=function(t,e){var i=e.pointRight,n=e.pointTop,o=e.pointCross;if(void 0!==e&&void 0!==i&&void 0!==n&&void 0!==o){var r,s,a=!0;if(this.showGrayBottom||this.showShadow){var l=N.subtract(o.trans,e.trans),u=N.subtract(n.trans,i.trans),h=N.crossProduct(l,u),c=h.length();a=0<h.z}if(a){var d,p=240*(1-((e.point.z+i.point.z+n.point.z+o.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);s=this.showShadow?(d=Math.min(1+h.x/c/2,1),r=this._hsv2rgb(p,1,d)):(d=1,r=this._hsv2rgb(p,1,d),this.axisColor)}else r="gray",s=this.axisColor;t.lineWidth=this._getStrokeWidth(e);var f=[e,i,o,n];this._polygon(t,f,r,s)}},b.prototype._drawGridLine=function(t,e,i){if(void 0!==e&&void 0!==i){var n=240*(1-((e.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(n,1,1),this._line(t,e.screen,i.screen)}},b.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},b.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},b.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++){var i=this.dataPoints[t];this._pointDrawingMethod.call(this,e,i)}},b.prototype._storeMousePosition=function(t){this.startMouseX=f(t),this.startMouseY=g(t),this._startCameraOffset=this.camera.getOffset()},b.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},c.addEventListener(document,"mousemove",e.onmousemove),c.addEventListener(document,"mouseup",e.onmouseup),c.preventDefault(t)}},b.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(f(t))-this.startMouseX,i=parseFloat(g(t))-this.startMouseY;if(t&&!0===t.ctrlKey){var n=.5*this.frame.clientWidth,o=.5*this.frame.clientHeight,r=(this._startCameraOffset.x||0)-e/n*this.camera.armLength*.8,s=(this._startCameraOffset.y||0)+i/o*this.camera.armLength*.8;this.camera.setOffset(r,s),this._storeMousePosition(t)}else{var a=this.startArmRotation.horizontal+e/200,l=this.startArmRotation.vertical+i/200,u=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(a))<u&&(a=Math.round(a/Math.PI)*Math.PI-.001),Math.abs(Math.cos(a))<u&&(a=(Math.round(a/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(l))<u&&(l=Math.round(l/Math.PI)*Math.PI),Math.abs(Math.cos(l))<u&&(l=(Math.round(l/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(a,l)}this.redraw();var h=this.getCameraPosition();this.emit("cameraPositionChange",h),c.preventDefault(t)},b.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,c.removeEventListener(document,"mousemove",this.onmousemove),c.removeEventListener(document,"mouseup",this.onmouseup),c.preventDefault(t)},b.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),i=f(t)-e.left,n=g(t)-e.top,o=this._dataPointFromXY(i,n);o&&this.onclick_callback(o.point.data)}c.preventDefault(t)}},b.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),i=f(t)-e.left,n=g(t)-e.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var o=this._dataPointFromXY(i,n);o!==this.tooltip.dataPoint&&(o?this._showTooltip(o):this._hideTooltip())}else{var r=this;this.tooltipTimeout=setTimeout(function(){r.tooltipTimeout=null;var t=r._dataPointFromXY(i,n);t&&r._showTooltip(t)},300)}},b.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},c.addEventListener(document,"touchmove",e.ontouchmove),c.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},b.prototype._onTouchMove=function(t){this._onMouseMove(t)},b.prototype._onTouchEnd=function(t){this.touchDown=!1,c.removeEventListener(document,"touchmove",this.ontouchmove),c.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},b.prototype._onWheel=function(t){var e=0;if((t=t||window.event).wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength()*(1-e/10);this.camera.setArmLength(i),this.redraw(),this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n),c.preventDefault(t)},b.prototype._insideTriangle=function(t,e){var i=e[0],n=e[1],o=e[2];function r(t){return 0<t?1:t<0?-1:0}var s=r((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x)),a=r((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x)),l=r((i.x-o.x)*(t.y-o.y)-(i.y-o.y)*(t.x-o.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=l&&a!=l||0!=s&&0!=l&&s!=l)},b.prototype._dataPointFromXY=function(t,e){var i,n=null,o=null,r=null,s=new T(t,e);if(this.style===b.STYLE.BAR||this.style===b.STYLE.BARCOLOR||this.style===b.STYLE.BARSIZE)for(i=this.dataPoints.length-1;0<=i;i--){var a=(n=this.dataPoints[i]).surfaces;if(a)for(var l=a.length-1;0<=l;l--){var u=a[l].corners,h=[u[0].screen,u[1].screen,u[2].screen],c=[u[2].screen,u[3].screen,u[0].screen];if(this._insideTriangle(s,h)||this._insideTriangle(s,c))return n}}else for(i=0;i<this.dataPoints.length;i++){var d=(n=this.dataPoints[i]).screen;if(d){var p=Math.abs(t-d.x),f=Math.abs(e-d.y),g=Math.sqrt(p*p+f*f);(null===r||g<r)&&g<100&&(r=g,o=n)}}return o},b.prototype.hasBars=function(t){return t==b.STYLE.BAR||t==b.STYLE.BARCOLOR||t==b.STYLE.BARSIZE},b.prototype._showTooltip=function(t){var e,i,n;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,n=this.tooltip.dom.dot):(e=document.createElement("div"),(0,h.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",i=document.createElement("div"),(0,h.default)(i.style,{},this.tooltipStyle.line),i.style.position="absolute",n=document.createElement("div"),(0,h.default)(n.style,{},this.tooltipStyle.dot),n.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:n}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(n);var o=e.offsetWidth,r=e.offsetHeight,s=i.offsetHeight,a=n.offsetWidth,l=n.offsetHeight,u=t.screen.x-o/2;u=Math.min(Math.max(u,10),this.frame.clientWidth-10-o),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-s+"px",e.style.left=u+"px",e.style.top=t.screen.y-s-r+"px",n.style.left=t.screen.x-a/2+"px",n.style.top=t.screen.y-l/2+"px"},b.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},b.prototype.setCameraPosition=function(t){l.setCameraPosition(t,this),this.redraw()},b.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=b},function(t,e,i){t.exports={default:i(96),__esModule:!0}},function(t,e,i){i(97),t.exports=i(17).Object.assign},function(t,e,i){var n=i(15);n(n.S+n.F,"Object",{assign:i(98)})},function(t,e,i){var d=i(35),p=i(73),f=i(74),g=i(49),m=i(10),o=Object.assign;t.exports=!o||i(26)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=o({},t)[i]||Object.keys(o({},e)).join("")!=n})?function(t,e){for(var i=g(t),n=arguments.length,o=1,r=p.f,s=f.f;o<n;)for(var a,l=m(arguments[o++]),u=r?d(l).concat(r(l)):d(l),h=u.length,c=0;c<h;)s.call(l,a=u[c++])&&(i[a]=l[a]);return i}:o},function(t,e){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}(t.exports=i).prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){var i=this;function n(){i.off(t,n),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o=0;o<n.length;o++)if((i=n[o])===e||i.fn===e){n.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var n=0,o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function n(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}n.subtract=function(t,e){var i=new n;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},n.add=function(t,e){var i=new n;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},n.avg=function(t,e){return new n((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},n.crossProduct=function(t,e){var i=new n;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=n},function(t,e){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,i){var n,o=i(103),s=(n=o)&&n.__esModule?n:{default:n};var r=i(100);function a(){this.armLocation=new r,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new r,this.offsetMultiplier=.6,this.cameraLocation=new r,this.cameraRotation=new r(.5*Math.PI,0,0),this.calculateCameraOrientation()}a.prototype.setOffset=function(t,e){var i=Math.abs,n=s.default,o=this.offsetMultiplier,r=this.armLength*o;i(t)>r&&(t=n(t)*r),i(e)>r&&(e=n(e)*r),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},a.prototype.getOffset=function(t,e){return this.cameraOffset},a.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},a.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},a.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},a.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),5<this.armLength&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},a.prototype.getArmLength=function(){return this.armLength},a.prototype.getCameraLocation=function(){return this.cameraLocation},a.prototype.getCameraRotation=function(){return this.cameraRotation},a.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=(this.cameraRotation.y,this.cameraRotation.z),i=this.cameraOffset.x,n=this.cameraOffset.y,o=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*r(e)+n*-o(e)*r(t),this.cameraLocation.y=this.cameraLocation.y+i*o(e)+n*r(e)*r(t),this.cameraLocation.z=this.cameraLocation.z+n*o(t)},t.exports=a},function(t,e,i){t.exports={default:i(104),__esModule:!0}},function(t,e,i){i(105),t.exports=i(17).Math.sign},function(t,e,i){var n=i(15);n(n.S,"Math",{sign:i(106)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){var o=i(93);function n(t,e,i){this.data=t.getDataSet(),this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),0<this.values.length&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}n.prototype.isLoaded=function(){return this.loaded},n.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},n.prototype.getLabel=function(){return this.graph.filterLabel},n.prototype.getColumn=function(){return this.column},n.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},n.prototype.getValues=function(){return this.values},n.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},n.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var n=new o(this.data,{filter:function(t){return t[i.column]==i.value}}).get();e=this.graph._getDataPoints(n),this.dataPoints[t]=e}return e},n.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},n.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},n.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){this._getDataPoints(t);void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var n=this;setTimeout(function(){n.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=n},function(t,e,i){var o=i(1);function n(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}n.prototype.prev=function(){var t=this.getIndex();0<t&&(t--,this.setIndex(t))},n.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},n.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date-t,n=Math.max(this.playInterval-i,0),o=this;this.playTimeout=setTimeout(function(){o.playNext()},n)},n.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},n.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},n.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},n.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},n.prototype.setPlayInterval=function(t){this.playInterval=t},n.prototype.getPlayInterval=function(t){return this.playInterval},n.prototype.setPlayLoop=function(t){this.playLoop=t},n.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},n.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},n.prototype.setValues=function(t){this.values=t,0<this.values.length?this.setIndex(0):this.index=void 0},n.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},n.prototype.getIndex=function(){return this.index},n.prototype.get=function(){return this.values[this.index]},n.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},o.addEventListener(document,"mousemove",this.onmousemove),o.addEventListener(document,"mouseup",this.onmouseup),o.preventDefault(t)}},n.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,n=Math.round(i/e*(this.values.length-1));return n<0&&(n=0),n>this.values.length-1&&(n=this.values.length-1),n},n.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return 3+t/(this.values.length-1)*e},n.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,n=this.leftToIndex(i);this.setIndex(n),o.preventDefault()},n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",o.removeEventListener(document,"mousemove",this.onmousemove),o.removeEventListener(document,"mouseup",this.onmouseup),o.preventDefault()},t.exports=n},function(t,e){function i(t,e,i,n){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,n)}i.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},i.prototype.setRange=function(t,e,i,n){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,n)},i.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=i.calculatePrettyStep(t):this._step=t)},i.calculatePrettyStep=function(t){function e(t){return Math.log(t)/Math.LN10}var i=Math.pow(10,Math.round(e(t))),n=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),r=i;return Math.abs(n-t)<=Math.abs(r-t)&&(r=n),Math.abs(o-t)<=Math.abs(r-t)&&(r=o),r<=0&&(r=1),r},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e){function i(){this.min=void 0,this.max=void 0}i.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},i.prototype.combine=function(t){this.add(t.min),this.add(t.max)},i.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,i=this.max+t;if(i<e)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=i}},i.prototype.range=function(){return this.max-this.min},i.prototype.center=function(){return(this.min+this.max)/2},t.exports=i},function(t,e,i){var n,o=i(62),r=(n=o)&&n.__esModule?n:{default:n};var s=i(1),a=i(102),l=i(100),u={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},h={dot:u.DOT,"dot-line":u.DOTLINE,"dot-color":u.DOTCOLOR,"dot-size":u.DOTSIZE,line:u.LINE,grid:u.GRID,surface:u.SURFACE,bar:u.BAR,"bar-color":u.BARCOLOR,"bar-size":u.BARSIZE},c=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],d=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],p=void 0;function f(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function g(t,e){return void 0===t||""===t?e:t+function(t){return void 0===t||""===t||"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}(e)}function m(t,e,i,n){var o;for(var r in i)e[g(n,o=i[r])]=t[o]}function v(t,e,i,n){var o;for(var r in i)void 0!==t[o=i[r]]&&(e[g(n,o)]=t[o])}function y(t,e){void 0!==t.backgroundColor&&function(t,e){var i="white",n="gray",o=1;if("string"==typeof t)i=t,n="none",o=0;else{if("object"!==(void 0===t?"undefined":(0,r.default)(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(i=t.fill),void 0!==t.stroke&&(n=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth)}e.frame.style.backgroundColor=i,e.frame.style.borderColor=n,e.frame.style.borderWidth=o+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){if(void 0===t)return;void 0===e.dataColor&&(e.dataColor={});"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth))}(t.dataColor,e),function(t,e){if(void 0===t)return;var i;if("string"==typeof t){if(-1===(i=function(t){var e=h[t];return void 0!==e?e:-1}(t)))throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){var e=!1;for(var i in u)if(u[i]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");i=t}e.style=i}(t.style,e),function(t,e){if(void 0===t){if(void 0===p.showLegend){var i=e.style===u.DOTCOLOR||e.style===u.DOTSIZE;e.showLegend=i}}else e.showLegend=t}(t.showLegend,e),_(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&s.selectiveDeepExtend(["tooltipStyle"],e,t)}function _(t,e){var i=t;void 0!==i&&(void 0===e.camera&&(e.camera=new a),e.camera.setArmRotation(i.horizontal,i.vertical),e.camera.setArmLength(i.distance))}t.exports.STYLE=u,t.exports.setDefaults=function(t,e){if(void 0===t||f(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");m(p=t,e,c),m(t,e,d,"default"),y(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new l(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===p||f(p))throw new Error("DEFAULTS not set for module Settings");v(t,e,c),v(t,e,d,"default"),y(t,e)}},t.exports.setCameraPosition=_},function(t,e,i){var a=i(89),l=i(93),r=(i(100),i(110));function n(){this.dataTable=null}n.prototype.initializeData=function(t,e,i){if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==e){var n;if(Array.isArray(e)&&(e=new a(e)),!(e instanceof a||e instanceof l))throw new Error("Array, DataSet, or DataView expected");if(0!=(n=e.get()).length){this.dataSet=e,this.dataTable=n;var o=this;this._onChange=function(){t.setData(o.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var r=t.hasBars(i);if(r&&(void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(n,this.colX)||1,void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(n,this.colY)||1),this._initializeRange(n,this.colX,t,r),this._initializeRange(n,this.colY,t,r),this._initializeRange(n,this.colZ,t,!1),n[0].hasOwnProperty("style")){this.colValue="style";var s=this.getColumnRange(n,this.colValue);this._setRangeDefaults(s,t.defaultValueMin,t.defaultValueMax),this.valueRange=s}}}},n.prototype._collectRangeSettings=function(t,e){if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},n.prototype._initializeRange=function(t,e,i,n){var o=this._collectRangeSettings(e,i),r=this.getColumnRange(t,e);n&&"z"!=e&&r.expand(o.barWidth/2),this._setRangeDefaults(r,o.min,o.max),this[o.range_label]=r,this[o.step_label]=void 0!==o.step?o.step:r.range()/5},n.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var i=[],n=0;n<e.length;n++){var o=e[n][t]||0;-1===i.indexOf(o)&&i.push(o)}return i.sort(function(t,e){return t-e})},n.prototype.getSmallestDifference=function(t,e){for(var i=this.getDistinctValues(t,e),n=null,o=1;o<i.length;o++){var r=i[o]-i[o-1];(null==n||r<n)&&(n=r)}return n},n.prototype.getColumnRange=function(t,e){for(var i=new r,n=0;n<t.length;n++){var o=t[n][e];i.adjust(o)}return i},n.prototype.getNumberOfRows=function(){return this.dataTable.length},n.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},n.prototype.getDataTable=function(){return this.dataTable},n.prototype.getDataSet=function(){return this.dataSet},n.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},t.exports=n},function(t,e,i){if("undefined"!=typeof window){var n=i(114),o=window.Hammer||i(115);t.exports=n(o,{preventDefault:"mouse"})}else t.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){var n,o,r;o=[],void 0===(r="function"==typeof(n=function(){var h=null;return function n(o,t){var r=t||{preventDefault:!1};if(o.Manager){var s=o,e=function(t,e){var i=Object.create(r);return e&&s.assign(i,e),n(new s(t,i),i)};return s.assign(e,s),e.Manager=function(t,e){var i=Object.create(r);return e&&s.assign(i,e),n(new s.Manager(t,i),i)},e}var a=Object.create(o),i=o.element;function l(t){return t.match(/[^ ]+/g)}function u(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var e=!1;t.stopPropagation=function(){e=!0};var i=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof i&&(t.srcEvent.stopPropagation=function(){i(),t.stopPropagation()});for(var n=t.firstTarget=h;n&&!e;){var o=n.hammer;if(o)for(var r,s=0;s<o.length;s++)if(r=o[s]._handlers[t.type])for(var a=0;a<r.length&&!e;a++)r[a](t);n=n.parentNode}}return i.hammer||(i.hammer=[]),i.hammer.push(a),o.on("hammer.input",function(t){!0!==r.preventDefault&&r.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(h=t.target)}),a._handlers={},a.on=function(t,i){return l(t).forEach(function(t){var e=a._handlers[t];e||(a._handlers[t]=e=[],o.on(t,u)),e.push(i)}),a},a.off=function(t,i){return l(t).forEach(function(t){var e=a._handlers[t];e&&(0<(e=i?e.filter(function(t){return t!==i}):[]).length?a._handlers[t]=e:(o.off(t,u),delete a._handlers[t]))}),a},a.emit=function(t,e){h=e.target,o.emit(t,e)},a.destroy=function(){var t=o.element.hammer,e=t.indexOf(a);-1!==e&&t.splice(e,1),t.length||delete o.element.hammer,a._handlers={},o.destroy()},a}})?n.apply(e,o):n)||(t.exports=r)},function(Ut,qt,Kt){var Gt;!function(r,o,t,c){var s,a=["","webkit","Moz","MS","ms","o"],e=o.createElement("div"),i="function",l=Math.round,d=Math.abs,p=Date.now;function u(t,e,i){return setTimeout(y(t,i),e)}function n(t,e,i){return!!Array.isArray(t)&&(h(t,i[e],i),!0)}function h(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==c)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function f(n,t,e){var o="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=r.console&&(r.console.warn||r.console.log);return i&&i.call(r.console,o,e),n.apply(this,arguments)}}s="function"!=typeof Object.assign?function(t){if(t===c||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==c&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var g=f(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&t[n[o]]===c)&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),m=f(function(t,e){return g(t,e,!0)},"merge","Use `assign`.");function v(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&s(n,i)}function y(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return typeof t==i?t.apply(e&&e[0]||c,e):t}function b(t,e){return t===c?e:t}function w(e,t,i){h(k(t),function(t){e.addEventListener(t,i,!1)})}function C(e,t,i){h(k(t),function(t){e.removeEventListener(t,i,!1)})}function S(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return-1<t.indexOf(e)}function k(t){return t.trim().split(/\s+/g)}function O(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function L(t,i,e){for(var n=[],o=[],r=0;r<t.length;){var s=i?t[r][i]:t[r];O(o,s)<0&&n.push(t[r]),o[r]=s,r++}return e&&(n=i?n.sort(function(t,e){return t[i]>e[i]}):n.sort()),n}function D(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;r<a.length;){if((n=(i=a[r])?i+o:e)in t)return n;r++}return c}var I=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var T="ontouchstart"in r,M=D(r,"PointerEvent")!==c,A=T&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),P="touch",R=25,F=1,j=4,B=8,H=1,W=2,V=4,z=8,U=16,q=W|V,K=z|U,G=q|K,Y=["x","y"],$=["clientX","clientY"];function Z(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){_(e.options.enable,[e])&&i.handler(t)},this.init()}function X(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&F&&n-o==0,s=e&(j|B)&&n-o==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=J(e));1<o&&!i.firstMultiple?i.firstMultiple=J(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,l=e.center=Q(n);e.timeStamp=p(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=nt(a,l),e.distance=it(a,l),function(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==F&&r.eventType!==j||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}(i,e),e.offsetDirection=et(e.deltaX,e.deltaY);var u=tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=d(u.x)>d(u.y)?u.x:u.y,e.scale=s?function(t,e){return it(e[0],e[1],$)/it(t[0],t[1],$)}(s.pointers,n):1,e.rotation=s?function(t,e){return nt(e[1],e[0],$)+nt(t[1],t[0],$)}(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!=B&&(R<a||s.velocity===c)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,h=tt(a,l,u);n=h.x,o=h.y,i=d(h.x)>d(h.y)?h.x:h.y,r=et(l,u),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}(i,e);var h=t.element;S(e.srcEvent.target,h)&&(h=e.srcEvent.target);e.target=h}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function J(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:l(t.pointers[i].clientX),clientY:l(t.pointers[i].clientY)},i++;return{timeStamp:p(),pointers:e,center:Q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Q(t){var e=t.length;if(1===e)return{x:l(t[0].clientX),y:l(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:l(i/e),y:l(n/e)}}function tt(t,e,i){return{x:e/t||0,y:i/t||0}}function et(t,e){return t===e?H:d(t)>=d(e)?t<0?W:V:e<0?z:U}function it(t,e,i){var n=e[(i=i||Y)[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function nt(t,e,i){var n=e[(i=i||Y)[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}Z.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(N(this.element),this.evWin,this.domHandler)}};var ot={mousedown:F,mousemove:2,mouseup:j},rt="mousedown",st="mousemove mouseup";function at(){this.evEl=rt,this.evWin=st,this.pressed=!1,Z.apply(this,arguments)}v(at,Z,{handler:function(t){var e=ot[t.type];e&F&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=j),this.pressed&&(e&j&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var lt={pointerdown:F,pointermove:2,pointerup:j,pointercancel:B,pointerout:B},ut={2:P,3:"pen",4:"mouse",5:"kinect"},ht="pointerdown",ct="pointermove pointerup pointercancel";function dt(){this.evEl=ht,this.evWin=ct,Z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ht="MSPointerDown",ct="MSPointerMove MSPointerUp MSPointerCancel"),v(dt,Z,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=lt[n],r=ut[t.pointerType]||t.pointerType,s=r==P,a=O(e,t.pointerId,"pointerId");o&F&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(j|B)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var pt={touchstart:F,touchmove:2,touchend:j,touchcancel:B};function ft(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Z.apply(this,arguments)}v(ft,Z,{handler:function(t){var e=pt[t.type];if(e===F&&(this.started=!0),this.started){var i=function(t,e){var i=E(t.touches),n=E(t.changedTouches);e&(j|B)&&(i=L(i.concat(n),"identifier",!0));return[i,n]}.call(this,t,e);e&(j|B)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:P,srcEvent:t})}}});var gt={touchstart:F,touchmove:2,touchend:j,touchcancel:B},mt="touchstart touchmove touchend touchcancel";function vt(){this.evTarget=mt,this.targetIds={},Z.apply(this,arguments)}v(vt,Z,{handler:function(t){var e=gt[t.type],i=function(t,e){var i=E(t.touches),n=this.targetIds;if(e&(2|F)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,r,s=E(t.changedTouches),a=[],l=this.target;if(r=i.filter(function(t){return S(t.target,l)}),e===F)for(o=0;o<r.length;)n[r[o].identifier]=!0,o++;o=0;for(;o<s.length;)n[s[o].identifier]&&a.push(s[o]),e&(j|B)&&delete n[s[o].identifier],o++;return a.length?[L(r.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:P,srcEvent:t})}});var yt=2500;function _t(){Z.apply(this,arguments);var t=y(this.handler,this);this.touch=new vt(this.manager,t),this.mouse=new at(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function bt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);-1<t&&n.splice(t,1)},yt)}}v(_t,Z,{handler:function(t,e,i){var n=i.pointerType==P,o="mouse"==i.pointerType;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(t,e){t&F?(this.primaryTouch=e.changedPointers[0].identifier,bt.call(this,e)):t&(j|B)&&bt.call(this,e)}).call(this,e,i);else if(o&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),s=Math.abs(i-o.y);if(r<=25&&s<=25)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var wt=D(e.style,"touchAction"),Ct=wt!==c,St="manipulation",xt="none",kt="pan-x",Ot="pan-y",Et=function(){if(!Ct)return!1;var e={},i=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!i||r.CSS.supports("touch-action",t)}),e}();function Lt(t,e){this.manager=t,this.set(e)}Lt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ct&&this.manager.element.style&&Et[t]&&(this.manager.element.style[wt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(x(t,xt))return xt;var e=x(t,kt),i=x(t,Ot);if(e&&i)return xt;if(e||i)return e?kt:Ot;if(x(t,St))return St;return"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=x(n,xt)&&!Et.none,r=x(n,Ot)&&!Et[Ot],s=x(n,kt)&&!Et[kt];if(o){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!r)return o||r&&i&q||s&&i&K?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Dt=1;function It(t){this.options=s({},this.defaults,t||{}),this.id=I++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=Dt,this.simultaneous={},this.requireFail=[]}function Nt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Tt(t){return t==U?"down":t==z?"up":t==W?"left":t==V?"right":""}function Mt(t,e){var i=e.manager;return i?i.get(t):t}function At(){It.apply(this,arguments)}function Pt(){At.apply(this,arguments),this.pX=null,this.pY=null}function Rt(){At.apply(this,arguments)}function Ft(){It.apply(this,arguments),this._timer=null,this._input=null}function jt(){At.apply(this,arguments)}function Bt(){At.apply(this,arguments)}function Ht(){It.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Wt(t,e){return(e=e||{}).recognizers=b(e.recognizers,Wt.defaults.preset),new Vt(t,e)}It.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Mt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=Mt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=Mt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=Mt(t,this);var e=O(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+Nt(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+Nt(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Dt)))return!1;t++}return!0},recognize:function(t){var e=s({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Dt),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},v(At,It,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,o=this.attrTest(t);return n&&(i&B||!o)?16|e:n||o?i&j?8|e:2&e?4|e:2:32}}),v(Pt,At,{defaults:{event:"pan",threshold:10,pointers:1,direction:G},getTouchAction:function(){var t=this.options.direction,e=[];return t&q&&e.push(Ot),t&K&&e.push(kt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(n=e.direction&q?(o=0===r?H:r<0?W:V,i=r!=this.pX,Math.abs(t.deltaX)):(o=0===s?H:s<0?z:U,i=s!=this.pY,Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return At.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Tt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),v(Rt,At,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[xt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),v(Ft,It,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(j|B)&&!o)this.reset();else if(t.eventType&F)this.reset(),this._timer=u(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&j)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&j?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),v(jt,At,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[xt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),v(Bt,At,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:q|K,pointers:1},getTouchAction:function(){return Pt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(q|K)?e=t.overallVelocity:i&q?e=t.overallVelocityX:i&K&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&t.eventType&j},emit:function(t){var e=Tt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),v(Ht,It,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[St]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&F&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=j)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||it(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=u(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=u(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Wt.VERSION="2.0.7",Wt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[jt,{enable:!1}],[Rt,{enable:!1},["rotate"]],[Bt,{direction:q}],[Pt,{direction:q},["swipe"]],[Ht],[Ht,{event:"doubletap",taps:2},["tap"]],[Ft]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Vt(t,e){this.options=s({},Wt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(M?dt:A?vt:T?_t:at))(t,X)}(this),this.touchAction=new Lt(this,this.options.touchAction),zt(this,!0),h(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function zt(i,n){var o,r=i.element;r.style&&(h(i.options.cssProps,function(t,e){o=D(r.style,e),n?(i.oldCssProps[o]=r.style[o],r.style[o]=t):r.style[o]=i.oldCssProps[o]||""}),n||(i.oldCssProps={}))}Vt.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(o=e.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&14&i.state&&(o=e.curRecognizer=i),r++}},get:function(t){if(t instanceof It)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=O(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==c&&e!==c){var i=this.handlers;return h(k(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==c){var i=this.handlers;return h(k(t),function(t){e?i[t]&&i[t].splice(O(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),(i.gesture=e).target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&zt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(Wt,{INPUT_START:F,INPUT_MOVE:2,INPUT_END:j,INPUT_CANCEL:B,STATE_POSSIBLE:Dt,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:W,DIRECTION_RIGHT:V,DIRECTION_UP:z,DIRECTION_DOWN:U,DIRECTION_HORIZONTAL:q,DIRECTION_VERTICAL:K,DIRECTION_ALL:G,Manager:Vt,Input:Z,TouchAction:Lt,TouchInput:vt,MouseInput:at,PointerEventInput:dt,TouchMouseInput:_t,SingleTouchInput:ft,Recognizer:It,AttrRecognizer:At,Tap:Ht,Pan:Pt,Swipe:Bt,Pinch:Rt,Rotate:jt,Press:Ft,on:w,off:C,each:h,merge:m,extend:g,assign:s,inherit:v,bindFn:y,prefixed:D}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Wt,(Gt=function(){return Wt}.call(qt,Kt,qt,Ut))===c||(Ut.exports=Gt)}(window,document)},function(t,e,i){var n,o,r;o=[],void 0===(r="function"==typeof(n=function(){return function(t){var e,o=t&&t.preventDefault||!1,i=t&&t.container||window,n={},s={keydown:{},keyup:{}},a={};for(e=97;e<=122;e++)a[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)a[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)a[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)a["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)a["num"+e]={code:96+e,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};function r(t){u(t,"keydown")}function l(t){u(t,"keyup")}var u=function(t,e){if(void 0!==s[e][t.keyCode]){for(var i=s[e][t.keyCode],n=0;n<i.length;n++)void 0===i[n].shift?i[n].fn(t):1==i[n].shift&&1==t.shiftKey?i[n].fn(t):0==i[n].shift&&0==t.shiftKey&&i[n].fn(t);1==o&&t.preventDefault()}};return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===s[i][a[t].code]&&(s[i][a[t].code]=[]),s[i][a[t].code].push({fn:e,shift:a[t].shift})},n.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),a)a.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=s[i][a[t].code];if(void 0!==o)for(var r=0;r<o.length;r++)o[r].fn==e&&o[r].shift==a[t].shift||n.push(s[i][a[t].code][r]);s[i][a[t].code]=n}else s[i][a[t].code]=[]},n.reset=function(){s={keydown:{},keyup:{}}},n.destroy=function(){s={keydown:{},keyup:{}},i.removeEventListener("keydown",r,!0),i.removeEventListener("keyup",l,!0)},i.addEventListener("keydown",r,!0),i.addEventListener("keyup",l,!0),n}})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){e.util=i(1),e.DOMutil=i(88),e.DataSet=i(89),e.DataView=i(93),e.Queue=i(92),e.Timeline=i(118),e.Graph2d=i(149),e.timeline={Core:i(123),DateUtil:i(122),Range:i(119),stack:i(127),TimeStep:i(125),components:{items:{Item:i(129),BackgroundItem:i(133),BoxItem:i(131),PointItem:i(132),RangeItem:i(128)},BackgroundGroup:i(130),Component:i(121),CurrentTime:i(144),CustomTime:i(142),DataAxis:i(151),DataScale:i(152),GraphGroup:i(153),Group:i(126),ItemSet:i(124),Legend:i(157),LineGraph:i(150),TimeAxis:i(140)}},e.moment=i(82),e.Hammer=i(113),e.keycharm=i(116)},function(t,e,i){i(99),i(113);var l=i(82),g=i(1),u=i(89),h=i(93),c=i(119),n=i(123),d=i(140),p=i(144),m=i(142),f=i(124),o=i(145).printStyle,r=i(146).allOptions,s=i(146).configureOptions,a=i(147).default,v=i(145).default;function y(t,e,i,n){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof u||i instanceof h)&&i instanceof Object){var o=n;n=i,i=o}n&&n.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var r=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:l,width:null,height:null,maxHeight:null,minHeight:null},this.options=g.deepExtend({},this.defaultOptions),this._create(t),!n||n&&void 0===n.rtl){for(var s,a=this.dom.root;!s&&a;)s=window.getComputedStyle(a,null).direction,a=a.parentElement;this.options.rtl=s&&"rtl"==s.toLowerCase()}else this.options.rtl=n.rtl;this.options.rollingMode=n&&n.rollingMode,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new c(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new p(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new f(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){r.emit("click",r.getEventProperties(t))},this.dom.root.ondblclick=function(t){r.emit("doubleClick",r.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},this.dom.root.onmouseover=function(t){r.emit("mouseOver",r.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){r.emit("mouseDown",r.getEventProperties(t))},this.dom.root.onpointermove=function(t){r.emit("mouseMove",r.getEventProperties(t))},this.dom.root.onpointerup=function(t){r.emit("mouseUp",r.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){r.emit("mouseMove",r.getEventProperties(t))},this.dom.root.onmousedown=function(t){r.emit("mouseDown",r.getEventProperties(t))},this.dom.root.onmouseup=function(t){r.emit("mouseUp",r.getEventProperties(t))}),this.fitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode&&!r.fitDone)if(r.fitDone=!0,null!=r.options.start||null!=r.options.end){if(null==r.options.start||null==r.options.end)var t=r.getItemRange();var e=null!=r.options.start?r.options.start:t.min,i=null!=r.options.end?r.options.end:t.max;r.setWindow(e,i,{animation:!1})}else r.fit({animation:!1})}),n&&this.setOptions(n),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(y.prototype=new n)._createConfigurator=function(){return new a(this,this.dom.container,s)},y.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},y.prototype.setOptions=function(t){if(!0===v.validate(t,r)&&console.log("%cErrors have been found in the supplied options object.",o),n.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var i=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(i)}}},y.prototype.setItems=function(t){var e;e=t?t instanceof u||t instanceof h?t:new u(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},y.prototype.setGroups=function(t){var e;if(t){var i=function(t){return!1!==t.visible};e=t instanceof u||t instanceof h?new h(t,{filter:i}):new u(t.filter(i))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},y.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},y.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},y.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},y.prototype.focus=function(t,e){if(this.itemsData&&null!=t){var i=Array.isArray(t)?t:[t],n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),o=null,r=null;if(n.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===r||r<i)&&(r=i)}),null!==o&&null!==r){var s=(o+r)/2,a=Math.max(this.range.end-this.range.start,1.1*(r-o)),l=!e||void 0===e.animation||e.animation;this.range.setRange(s-a/2,s+a/2,{animation:l})}}},y.prototype.fit=function(t){var e,i=!t||void 0===t.animation||t.animation,n=this.itemsData&&this.itemsData.getDataSet();1===n.length&&void 0===n.get()[0].end?(e=this.getDataRange(),this.moveTo(e.min.valueOf(),{animation:i})):(e=this.getItemRange(),this.range.setRange(e.min,e.max,{animation:i}))},y.prototype.getItemRange=function(){var t=this.getDataRange(),r=null!==t.min?t.min.valueOf():null,s=null!==t.max?t.max.valueOf():null,a=null,l=null;if(null!=r&&null!=s){var u=function(t){return g.convert(t.data.start,"Date").valueOf()},h=function(t){var e=null!=t.data.end?t.data.end:t.data.start;return g.convert(e,"Date").valueOf()},e=s-r;e<=0&&(e=10);var c=e/this.props.center.width;if(g.forEach(this.itemSet.items,function(t){t.groupShowing&&(t.show(),t.repositionX());var e=u(t),i=h(t);if(this.options.rtl)var n=e-(t.getWidthRight()+10)*c,o=i+(t.getWidthLeft()+10)*c;else n=e-(t.getWidthLeft()+10)*c,o=i+(t.getWidthRight()+10)*c;n<r&&(r=n,a=t),s<o&&(s=o,l=t)}.bind(this)),a&&l){var i=a.getWidthLeft()+10,n=l.getWidthRight()+10,o=this.props.center.width-i-n;0<o&&(s=this.options.rtl?(r=u(a)-n*e/o,h(l)+i*e/o):(r=u(a)-i*e/o,h(l)+n*e/o))}}return{min:null!=r?new Date(r):null,max:null!=s?new Date(s):null}},y.prototype.getDataRange=function(){var n=null,o=null,t=this.itemsData&&this.itemsData.getDataSet();return t&&t.forEach(function(t){var e=g.convert(t.start,"Date").valueOf(),i=g.convert(null!=t.end?t.end:t.start,"Date").valueOf();(null===n||e<n)&&(n=e),(null===o||o<i)&&(o=i)}),{min:null!=n?new Date(n):null,max:null!=o?new Date(o):null}},y.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY;if(this.options.rtl)var n=g.getAbsoluteRight(this.dom.centerContainer)-e;else n=e-g.getAbsoluteLeft(this.dom.centerContainer);var o=i-g.getAbsoluteTop(this.dom.centerContainer),r=this.itemSet.itemFromTarget(t),s=this.itemSet.groupFromTarget(t),a=m.customTimeFromTarget(t),l=this.itemSet.options.snap||null,u=this.body.util.getScale(),h=this.body.util.getStep(),c=this._toTime(n),d=l?l(c,u,h):c,p=g.getTarget(t),f=null;return null!=r?f="item":null!=a?f="custom-time":g.hasParent(p,this.timeAxis.dom.foreground)?f="axis":this.timeAxis2&&g.hasParent(p,this.timeAxis2.dom.foreground)?f="axis":g.hasParent(p,this.itemSet.dom.labelSet)?f="group-label":g.hasParent(p,this.currentTime.bar)?f="current-time":g.hasParent(p,this.dom.center)&&(f="background"),{event:t,item:r?r.id:null,group:s?s.groupId:null,what:f,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:o,time:c,snappedTime:d}},y.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=y},function(t,e,i){var o=n(i(58)),r=n(i(90)),s=n(i(62));function n(t){return t&&t.__esModule?t:{default:t}}var _=i(1),a=(i(120),i(82)),l=i(121),b=i(122);function u(t,e){var i=a().hours(0).minutes(0).seconds(0).milliseconds(0),n=i.clone().add(-3,"days").valueOf(),o=i.clone().add(3,"days").valueOf();(this.millisecondsPerPixelCache=void 0)===e?(this.start=n,this.end=o):(this.start=e.start||n,this.end=e.end||o),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:a,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=_.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function d(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}(u.prototype=new l).setOptions=function(t){if(t){_.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},u.prototype.startRolling=function(){var r=this;!function t(){r.stopRolling(),r.rolling=!0;var e=r.end-r.start,i=_.convert(new Date,"Date").valueOf(),n=i-e*r.options.rollingMode.offset,o=i+e*(1-r.options.rollingMode.offset);r.options&&void 0!==r.options.animation&&r.options.animation;r.setRange(n,o,{animation:!1}),(e=1/r.conversion(r.body.domProps.center.width).scale/10)<30&&(e=30),1e3<e&&(e=1e3),r.body.dom.rollingModeBtn.style.visibility="hidden",r.currentTimeTimer=setTimeout(t,e)}()},u.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},u.prototype.setRange=function(t,e,a,l){!0!==(a=a||{}).byUser&&(a.byUser=!1);var u=this,h=null!=t?_.convert(t,"Date").valueOf():null,c=null!=e?_.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,a.animation){var d=this.start,p=this.end,f="object"===(0,s.default)(a.animation)&&"duration"in a.animation?a.animation.duration:500,i="object"===(0,s.default)(a.animation)&&"easingFunction"in a.animation?a.animation.easingFunction:"easeInOutQuad",g=_.easingFunctions[i];if(!g)throw new Error("Unknown easing function "+(0,r.default)(i)+". Choose from: "+(0,o.default)(_.easingFunctions).join(", "));var m=(new Date).valueOf(),v=!1;return function t(){if(!u.props.touch.dragging){var e=(new Date).valueOf()-m,i=g(e/f),n=f<e,o=n||null===h?h:d+(h-d)*i,r=n||null===c?c:p+(c-p)*i;y=u._applyRange(o,r),b.updateHiddenDates(u.options.moment,u.body,u.options.hiddenDates),v=v||y;var s={start:new Date(u.start),end:new Date(u.end),byUser:a.byUser,event:a.event};if(y&&u.body.emitter.emit("rangechange",s),n){if(v&&(u.body.emitter.emit("rangechanged",s),l))return l()}else u.animationTimer=setTimeout(t,20)}}()}var y=this._applyRange(h,c);if(b.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),y){var n={start:new Date(this.start),end:new Date(this.end),byUser:a.byUser,event:a.event};if(this.body.emitter.emit("rangechange",n),clearTimeout(u.timeoutID),u.timeoutID=setTimeout(function(){u.body.emitter.emit("rangechanged",n)},200),l)return l()}},u.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},u.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},u.prototype._applyRange=function(t,e){var i,n=null!=t?_.convert(t,"Date").valueOf():this.start,o=null!=e?_.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?_.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?_.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(o<n&&(o=n),null!==s&&n<s&&(n+=i=s-n,o+=i,null!=r&&r<o&&(o=r)),null!==r&&r<o&&(n-=i=o-r,o-=i,null!=s&&n<s&&(n=s)),null!==this.options.zoomMin){var a=parseFloat(this.options.zoomMin);if(a<0&&(a=0),o-n<a){this.end-this.start===a&&n>=this.start-.5&&o<=this.end?(n=this.start,o=this.end):(n-=(i=a-(o-n))/2,o+=i/2)}}if(null!==this.options.zoomMax){var l=parseFloat(this.options.zoomMax);l<0&&(l=0),l<o-n&&(this.end-this.start===l&&n<this.start&&o>this.end?(n=this.start,o=this.end):(n+=(i=o-n-l)/2,o-=i/2))}var u=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,u},u.prototype.getRange=function(){return{start:this.start,end:this.end}},u.prototype.conversion=function(t,e){return u.conversion(this.start,this.end,t,e)},u.conversion=function(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}},u.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},u.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;d(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start;n-=b.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var o="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;if(this.options.rtl)var r=i/o*n;else r=-i/o*n;var s=this.props.touch.start+r,a=this.props.touch.end+r,l=b.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-i,!0),u=b.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0);if(l!=s||u!=a)return this.deltaDifference+=i,this.props.touch.start=l,this.props.touch.end=u,void this._onDrag(t);this.previousDelta=i,this._applyRange(s,a);var h=new Date(this.start),c=new Date(this.end);this.body.emitter.emit("rangechange",{start:h,end:c,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},u.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},u.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable){if(this.options.horizontalScroll){t.preventDefault();var i=e*(this.end-this.start)/20,n=this.start-i,o=this.end-i,r={animation:!1,byUser:!0,event:t};this.setRange(n,o,r)}}else if(this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var s,a;if(s=e<0?1-e/5:1/(1+e/5),this.rolling)a=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var l=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);a=this._pointerToDate(l)}this.zoom(s,a,e,t),t.preventDefault()}},u.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},u.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),n=b.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=b.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),r=n-o,s=i-o+(this.props.touch.start-(i-o))*e,a=i+r+(this.props.touch.end-(i+r))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var l=b.snapAwayFromHidden(this.body.hiddenDates,s,1-e,!0),u=b.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);l==s&&u==a||(this.props.touch.start=l,this.props.touch.end=u,this.scaleOffset=1-t.scale,s=l,a=u);var h={animation:!1,byUser:!0,event:t};this.setRange(s,a,h),this.startToFront=!1,this.endToFront=!0}},u.prototype._isInsideRange=function(t){var e=t.center?t.center.x:t.clientX;if(this.options.rtl)var i=e-_.getAbsoluteLeft(this.body.dom.centerContainer);else i=_.getAbsoluteRight(this.body.dom.centerContainer)-e;var n=this.body.util.toTime(i);return n>=this.start&&n<=this.end},u.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(d(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var n=this.body.domProps.center.height;return e=this.conversion(n),t.y/e.scale+e.offset},u.prototype.getPointer=function(t,e){return this.options.rtl?{x:_.getAbsoluteRight(e)-t.x,y:t.y-_.getAbsoluteTop(e)}:{x:t.x-_.getAbsoluteLeft(e),y:t.y-_.getAbsoluteTop(e)}},u.prototype.zoom=function(t,e,i,n){null==e&&(e=(this.start+this.end)/2);var o=b.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=b.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=o-r,a=e-r+(this.start-(e-r))*t,l=e+s+(this.end-(e+s))*t;this.startToFront=!(0<i),this.endToFront=!(0<-i);var u=b.snapAwayFromHidden(this.body.hiddenDates,a,i,!0),h=b.snapAwayFromHidden(this.body.hiddenDates,l,-i,!0);u==a&&h==l||(a=u,l=h);var c={animation:!1,byUser:!0,event:n};this.setRange(a,l,c),this.startToFront=!1,this.endToFront=!0},u.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,n=this.end+e*t;this.start=i,this.end=n},u.prototype.moveTo=function(t){var e=(this.start+this.end)/2-t,i=this.start-e,n=this.end-e;this.setRange(i,n,{animation:!1,byUser:!0,event:null})},t.exports=u},function(t,e,i){i(113);e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,i){var n=i(1);function o(t,e){this.options=null,this.props=null}o.prototype.setOptions=function(t){t&&n.extend(this.options,t)},o.prototype.redraw=function(){return!1},o.prototype.destroy=function(){},o.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=o},function(t,v){v.convertHiddenOptions=function(t,e,i){if(i&&!Array.isArray(i))return v.convertHiddenOptions(t,e,[i]);if(e.hiddenDates=[],i&&1==Array.isArray(i)){for(var n=0;n<i.length;n++)if(void 0===i[n].repeat){var o={};o.start=t(i[n].start).toDate().valueOf(),o.end=t(i[n].end).toDate().valueOf(),e.hiddenDates.push(o)}e.hiddenDates.sort(function(t,e){return t.start-e.start})}},v.updateHiddenDates=function(t,e,i){if(i&&!Array.isArray(i))return v.updateHiddenDates(t,e,[i]);if(i&&void 0!==e.domProps.centerContainer.width){v.convertHiddenOptions(t,e,i);for(var n=t(e.range.start),o=t(e.range.end),r=(e.range.end-e.range.start)/e.domProps.centerContainer.width,s=0;s<i.length;s++)if(void 0!==i[s].repeat){var a=t(i[s].start),l=t(i[s].end);if("Invalid Date"==a._d)throw new Error("Supplied start date is not valid: "+i[s].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+i[s].end);if(4*r<=l-a){var u=0,h=o.clone();switch(i[s].repeat){case"daily":a.day()!=l.day()&&(u=1),a.dayOfYear(n.dayOfYear()),a.year(n.year()),a.subtract(7,"days"),l.dayOfYear(n.dayOfYear()),l.year(n.year()),l.subtract(7-u,"days"),h.add(1,"weeks");break;case"weekly":var c=l.diff(a,"days"),d=a.day();a.date(n.date()),a.month(n.month()),a.year(n.year()),l=a.clone(),a.day(d),l.day(d),l.add(c,"days"),a.subtract(1,"weeks"),l.subtract(1,"weeks"),h.add(1,"weeks");break;case"monthly":a.month()!=l.month()&&(u=1),a.month(n.month()),a.year(n.year()),a.subtract(1,"months"),l.month(n.month()),l.year(n.year()),l.subtract(1,"months"),l.add(u,"months"),h.add(1,"months");break;case"yearly":a.year()!=l.year()&&(u=1),a.year(n.year()),a.subtract(1,"years"),l.year(n.year()),l.subtract(1,"years"),l.add(u,"years"),h.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[s].repeat)}for(;a<h;)switch(e.hiddenDates.push({start:a.valueOf(),end:l.valueOf()}),i[s].repeat){case"daily":a.add(1,"days"),l.add(1,"days");break;case"weekly":a.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":a.add(1,"months"),l.add(1,"months");break;case"yearly":a.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[s].repeat)}e.hiddenDates.push({start:a.valueOf(),end:l.valueOf()})}}v.removeDuplicates(e);var p=v.isHidden(e.range.start,e.hiddenDates),f=v.isHidden(e.range.end,e.hiddenDates),g=e.range.start,m=e.range.end;1==p.hidden&&(g=1==e.range.startToFront?p.startDate-1:p.endDate+1),1==f.hidden&&(m=1==e.range.endToFront?f.startDate-1:f.endDate+1),1!=p.hidden&&1!=f.hidden||e.range._applyRange(g,m)}},v.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],n=0;n<e.length;n++)for(var o=0;o<e.length;o++)n!=o&&1!=e[o].remove&&1!=e[n].remove&&(e[o].start>=e[n].start&&e[o].end<=e[n].end?e[o].remove=!0:e[o].start>=e[n].start&&e[o].start<=e[n].end?(e[n].end=e[o].end,e[o].remove=!0):e[o].end>=e[n].start&&e[o].end<=e[n].end&&(e[n].start=e[o].start,e[o].remove=!0));for(n=0;n<e.length;n++)!0!==e[n].remove&&i.push(e[n]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},v.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},v.stepOverHiddenDates=function(t,e,i){for(var n=!1,o=e.current.valueOf(),r=0;r<e.hiddenDates.length;r++){var s=e.hiddenDates[r].start,a=e.hiddenDates[r].end;if(s<=o&&o<a){n=!0;break}}if(1==n&&o<e._end.valueOf()&&o!=i){var l=t(i),u=t(a);l.year()!=u.year()?e.switchedYear=!0:l.month()!=u.month()?e.switchedMonth=!0:l.dayOfYear()!=u.dayOfYear()&&(e.switchedDay=!0),e.current=u}},v.toScreen=function(t,e,i){if(0==t.body.hiddenDates.length){var n=t.range.conversion(i);return(e.valueOf()-n.offset)*n.scale}var o=v.isHidden(e,t.body.hiddenDates);1==o.hidden&&(e=o.startDate);var r=v.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(e<t.range.start){n=t.range.conversion(i,r);var s=v.getHiddenDurationBeforeStart(t.body.hiddenDates,e,n.offset);return e=t.options.moment(e).toDate().valueOf(),e+=s,-(n.offset-e.valueOf())*n.scale}if(e>t.range.end){var a={start:t.range.start,end:e};e=v.correctTimeForHidden(t.options.moment,t.body.hiddenDates,a,e);n=t.range.conversion(i,r);return(e.valueOf()-n.offset)*n.scale}e=v.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,e);n=t.range.conversion(i,r);return(e.valueOf()-n.offset)*n.scale},v.toTime=function(t,e,i){if(0==t.body.hiddenDates.length){var n=t.range.conversion(i);return new Date(e/n.scale+n.offset)}var o=v.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=(t.range.end-t.range.start-o)*e/i,s=v.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,r);return new Date(s+r+t.range.start)},v.getHiddenDurationBetween=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;e<=r&&s<i&&(n+=s-r)}return n},v.getHiddenDurationBeforeStart=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;e<=r&&s<=i&&(n+=s-r)}return n},v.correctTimeForHidden=function(t,e,i,n){return n=t(n).toDate().valueOf(),n-=v.getHiddenDurationBefore(t,e,i,n)},v.getHiddenDurationBefore=function(t,e,i,n){var o=0;n=t(n).toDate().valueOf();for(var r=0;r<e.length;r++){var s=e[r].start,a=e[r].end;s>=i.start&&a<i.end&&a<=n&&(o+=a-s)}return o},v.getAccumulatedHiddenDuration=function(t,e,i){for(var n=0,o=0,r=e.start,s=0;s<t.length;s++){var a=t[s].start,l=t[s].end;if(a>=e.start&&l<e.end){if(o+=a-r,r=l,i<=o)break;n+=l-a}}return n},v.snapAwayFromHidden=function(t,e,i,n){var o=v.isHidden(e,t);return 1==o.hidden?i<0?1==n?o.startDate-(o.endDate-e)-1:o.startDate-1:1==n?o.endDate+(e-o.startDate)+1:o.endDate+1:e},v.isHidden=function(t,e){for(var i=0;i<e.length;i++){var n=e[i].start,o=e[i].end;if(n<=t&&t<o)return{hidden:!0,startDate:n,endDate:o}}return{hidden:!1,startDate:n,endDate:o}}},function(t,e,i){var o=n(i(90)),r=n(i(62));function n(t){return t&&t.__esModule?t:{default:t}}var s=i(99),c=i(113),a=i(120),d=i(1),l=(i(89),i(93),i(119),i(124),i(140)),u=i(141),p=i(122),h=i(142);function f(){}s(f.prototype),f.prototype._create=function(t){this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var i=this;this._origRedraw=this._redraw.bind(this),this._redraw=d.throttle(this._origRedraw),this.on("_change",function(t){i.itemSet&&i.itemSet.initialItemSetDrawn&&t&&1==t.queue?i._redraw():i._origRedraw()}),this.hammer=new c(this.dom.root);var e=this.hammer.get("pinch").set({enable:!0});a.disablePreventDefaultVertically(e),this.hammer.get("pan").set({threshold:5,direction:c.DIRECTION_HORIZONTAL}),this.listeners={};function n(t){if(this.isActive()&&this.emit("mousewheel",t),this.options.verticalScroll&&!this.options.horizontalScroll&&this.options.zoomKey&&!t[this.options.zoomKey]){t.preventDefault();var e=0;t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3);var i=this.props.scrollTop+120*e;this.isActive()&&(this._setScrollTop(i),this._redraw(),this.emit("scroll",t))}}function o(t){if(i.options.verticalScroll&&(t.preventDefault(),i.isActive())){var e=-t.target.scrollTop;i._setScrollTop(e),i._redraw(),i.emit("scrollSide",t)}}["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(e){function t(t){i.isActive()&&i.emit(e,t)}i.hammer.on(e,t),i.listeners[e]=t}),a.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this)),a.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",n.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",n.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",n.bind(this)),this.dom.left.parentNode.addEventListener("scroll",o.bind(this)),this.dom.right.parentNode.addEventListener("scroll",o.bind(this));var r=!1;if(this.dom.center.addEventListener("dragover",function(t){if(t.preventDefault&&t.preventDefault(),!(-1<!t.target.className.indexOf("vis")||r))return t.dataTransfer.dropEffect="move",!(r=!0)}.bind(this),!1),this.dom.center.addEventListener("drop",function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{if(!JSON.parse(t.dataTransfer.getData("text")).content)return}catch(t){return!1}return r=!1,t.center={x:t.clientX,y:t.clientY},i.itemSet._onAddItem(t),i.emit("drop",i.getEventProperties(t)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},f.prototype.setOptions=function(e){if(e){if(d.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),this.options.orientation={item:void 0,axis:void 0},"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===(0,r.default)(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var i=this.timeAxis2=new l(this.body);i.setOptions=function(t){var e=t?d.extend({},t):{};e.orientation="top",l.prototype.setOptions.call(i,e)},this.components.push(i)}}else if(this.timeAxis2){var t=this.components.indexOf(this.timeAxis2);-1!==t&&this.components.splice(t,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&p.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new u(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(t){return t.setOptions(e)}),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);var n=d.deepExtend({},this.options);this.components.forEach(function(t){d.deepExtend(n,t.options)}),this.configurator.setModuleOptions({global:n})}this._redraw()},f.prototype.isActive=function(){return!this.activator||this.activator.active},f.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},f.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));0<i.length&&i[0].setCustomTime(t)},f.prototype.getCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));return t[0].getCustomTime()},f.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));if(0<i.length)return i[0].setCustomTitle(t)},f.prototype.getEventProperties=function(t){return{event:t}},f.prototype.addCustomTime=function(t,e){var i=void 0!==t?d.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,o.default)(e)+" already exists");var n=new h(this.body,d.extend({},this.options,{time:i,id:e}));return this.customTimes.push(n),this.components.push(n),this._redraw(),e},f.prototype.removeCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+(0,o.default)(e));t.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},f.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},f.prototype.fit=function(t,e){var i=this.getDataRange();if(null!==i.min||null!==i.max){var n=i.max-i.min,o=new Date(i.min.valueOf()-.01*n),r=new Date(i.max.valueOf()+.01*n),s=!t||void 0===t.animation||t.animation;this.range.setRange(o,r,{animation:s},e)}},f.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},f.prototype.setWindow=function(t,e,i,n){var o;if("function"==typeof arguments[2]&&(n=arguments[2],i={}),1==arguments.length)o=void 0===(r=t).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o});else if(2==arguments.length&&"function"==typeof e){var r;n=e,o=void 0===(r=t).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o},n)}else o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,{animation:o},n)},f.prototype.moveTo=function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.range.end-this.range.start,o=d.convert(t,"Date").valueOf(),r=o-n/2,s=o+n/2,a=!e||void 0===e.animation||e.animation;this.range.setRange(r,s,{animation:a},i)},f.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},f.prototype.zoomIn=function(t,e,i){if(!(!t||t<0||1<t)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=(s-s/(1+t))/2,l=o+a,u=r-a;this.setWindow(l,u,e,i)}},f.prototype.zoomOut=function(t,e,i){if(!(!t||t<0||1<t)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=o-s*t/2,l=r+s*t/2;this.setWindow(a,l,e,i)}},f.prototype.redraw=function(){this._redraw()},f.prototype._redraw=function(){this.redrawCount++;var e=!1,t=this.options,i=this.props,n=this.dom;if(n&&n.container&&0!=n.root.offsetWidth){p.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==t.orientation?(d.addClassName(n.root,"vis-top"),d.removeClassName(n.root,"vis-bottom")):(d.removeClassName(n.root,"vis-top"),d.addClassName(n.root,"vis-bottom")),n.root.style.maxHeight=d.option.asSize(t.maxHeight,""),n.root.style.minHeight=d.option.asSize(t.minHeight,""),n.root.style.width=d.option.asSize(t.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=n.root.offsetHeight-n.root.clientHeight,i.borderRootWidth=n.root.offsetWidth-n.root.clientWidth,0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var o=Math.max(i.left.height,i.center.height,i.right.height),r=i.top.height+o+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom;n.root.style.height=d.option.asSize(t.height,r+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var s=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=s,i.leftContainer.height=s,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=d.getScrollBarWidth()),t.verticalScroll?t.rtl?(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right),this._setDOM();var a=this._updateScrollTop();"top"!=t.orientation.item&&(a+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),n.center.style.top=a+"px";var l=0==i.scrollTop?"hidden":"",u=i.scrollTop==i.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=l,n.shadowBottom.style.visibility=u,n.shadowTopLeft.style.visibility=l,n.shadowBottomLeft.style.visibility=u,n.shadowTopRight.style.visibility=l,n.shadowBottomRight.style.visibility=u,t.verticalScroll&&(n.rightContainer.className="vis-panel vis-right vis-vertical-scroll",n.leftContainer.className="vis-panel vis-left vis-vertical-scroll",n.shadowTopRight.style.visibility="hidden",n.shadowBottomRight.style.visibility="hidden",n.shadowTopLeft.style.visibility="hidden",n.shadowBottomLeft.style.visibility="hidden",n.left.style.top="0px",n.right.style.top="0px"),(!t.verticalScroll||i.center.height<i.centerContainer.height)&&(n.left.style.top=a+"px",n.right.style.top=a+"px",n.rightContainer.className=n.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.leftContainer.className=n.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right,this._setDOM());var h=i.center.height>i.centerContainer.height;this.hammer.get("pan").set({direction:h?c.DIRECTION_ALL:c.DIRECTION_HORIZONTAL}),this.components.forEach(function(t){e=t.redraw()||e});if(e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0,this.body.emitter.emit("changed")}},f.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var i=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},f.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},f.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},f.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},f.prototype._toTime=function(t){return p.toTime(this,t,this.props.center.width)},f.prototype._toGlobalTime=function(t){return p.toTime(this,t,this.props.root.width)},f.prototype._toScreen=function(t){return p.toScreen(this,t,this.props.center.width)},f.prototype._toGlobalScreen=function(t){return p.toScreen(this,t,this.props.root.width)},f.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},f.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=d.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},d.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},f.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(d.removeEventListener(window,"resize",this._onResize),this._onResize=null)},f.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},f.prototype._onPinch=function(t){this.touch.allowDragging=!1},f.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=i&&this.emit("verticalDrag")}},f.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},f.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),0<this.props.scrollTop&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},f.prototype._getScrollTop=function(){return this.props.scrollTop},f.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=f},function(t,e,i){var a=o(i(55)),n=o(i(62));function o(t){return t&&t.__esModule?t:{default:t}}var s=i(113),b=i(1),r=i(89),w=i(93),l=i(125),u=i(121),h=i(126),c=i(130),d=i(131),p=i(132),f=i(128),g=i(133),m=i(134).default,v="__ungrouped__",y="__background__";function _(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e){var i=e.order;e.order=t.order,t.order=i},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:l.snap,onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=b.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e){i._onAdd(e.items)},update:function(t,e){i._onUpdate(e.items)},remove:function(t,e){i._onRemove(e.items)}},this.groupListeners={add:function(t,e){i._onAddGroups(e.items)},update:function(t,e){i._onUpdateGroups(e.items)},remove:function(t,e){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}_.prototype=new u,_.types={background:g,box:d,range:f,point:p},_.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",(t["timeline-itemset"]=this).dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var r=new c(y,null,this);r.show(),this.groups[y]=r,this.hammer=new s(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new s(this.body.dom.rightContainer):this.groupHammer=new s(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:s.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},_.prototype.setOptions=function(i){if(i){b.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,i),"itemsAlwaysDraggable"in i&&("boolean"==typeof i.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=i.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,n.default)(i.itemsAlwaysDraggable)&&(b.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,i.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in i&&("string"==typeof i.orientation?this.options.orientation.item="top"===i.orientation?"top":"bottom":"object"===(0,n.default)(i.orientation)&&"item"in i.orientation&&(this.options.orientation.item=i.orientation.item)),"margin"in i&&("number"==typeof i.margin?(this.options.margin.axis=i.margin,this.options.margin.item.horizontal=i.margin,this.options.margin.item.vertical=i.margin):"object"===(0,n.default)(i.margin)&&(b.selectiveExtend(["axis"],this.options.margin,i.margin),"item"in i.margin&&("number"==typeof i.margin.item?(this.options.margin.item.horizontal=i.margin.item,this.options.margin.item.vertical=i.margin.item):"object"===(0,n.default)(i.margin.item)&&b.selectiveExtend(["horizontal","vertical"],this.options.margin.item,i.margin.item)))),"editable"in i&&("boolean"==typeof i.editable?(this.options.editable.updateTime=i.editable,this.options.editable.updateGroup=i.editable,this.options.editable.add=i.editable,this.options.editable.remove=i.editable,this.options.editable.overrideItems=!1):"object"===(0,n.default)(i.editable)&&b.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,i.editable)),"groupEditable"in i&&("boolean"==typeof i.groupEditable?(this.options.groupEditable.order=i.groupEditable,this.options.groupEditable.add=i.groupEditable,this.options.groupEditable.remove=i.groupEditable):"object"===(0,n.default)(i.groupEditable)&&b.selectiveExtend(["order","add","remove"],this.options.groupEditable,i.groupEditable));var t=function(t){var e=i[t];if(e){if(!(e instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=e}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(t),this.markDirty()}},_.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&b.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},_.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},_.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},_.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},_.prototype.setSelection=function(t){var e,i,n,o;for(null==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)n=this.selection[e],(o=this.items[n])&&o.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)n=t[e],(o=this.items[n])&&(this.selection.push(n),o.select())},_.prototype.getSelection=function(){return this.selection.concat([])},_.prototype.getVisibleItems=function(){var t=this.body.range.getRange();if(this.options.rtl)var e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end);else i=this.body.util.toScreen(t.start),e=this.body.util.toScreen(t.end);var n=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var r=this.groups[o],s=r.isVisible?r.visibleItems:[],a=0;a<s.length;a++){var l=s[a];this.options.rtl?l.right<i&&l.right+l.width>e&&n.push(l.id):l.left<e&&l.left+l.width>i&&n.push(l.id)}return n},_.prototype._deselect=function(t){for(var e=this.selection,i=0,n=e.length;i<n;i++)if(e[i]==t){e.splice(i,1);break}},_.prototype.redraw=function(){var t=this.options.margin,n=this.body.range,e=b.option.asSize,i=this.options,o=i.orientation.item,r=!1,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",r=this._orderGroups()||r;var a=n.end-n.start,l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=n.start!=this.lastRangeStart,h=i.stack!=this.lastStack,c=i.stackSubgroups!=this.lastStackSubgroups,d=l||u||h||c;this.lastVisibleInterval=a,this.lastRangeStart=n.start,this.lastStack=i.stack,this.lastStackSubgroups=i.stackSubgroups,this.props.lastWidth=this.props.width;var p=this._firstGroup(),f={item:t.item,axis:t.axis},g={item:t.item,axis:t.item.vertical/2},m=0,v=t.axis+t.item.vertical;return this.groups[y].redraw(n,g,d),b.forEach(this.groups,function(t){var e=t==p?f:g,i=t.redraw(n,e,d);r=i||r,m+=t.height}),m=Math.max(m,v),s.style.height=e(m),this.props.width=s.offsetWidth,this.props.height=m,this.dom.axis.style.top=e("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,r=this._isResized()||r},_.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t];return this.groups[e]||this.groups[v]||null},_.prototype._updateUngrouped=function(){var t,e,i=this.groups[v];this.groups[y];if(this.groupsData){if(i)for(e in i.hide(),delete this.groups[v],this.items)if(this.items.hasOwnProperty(e)){(t=this.items[e]).parent&&t.parent.remove(t);var n=this._getGroupId(t.data),o=this.groups[n];o&&o.add(t)||t.hide()}}else if(!i){for(e in i=new h(null,null,this),this.groups[v]=i,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},_.prototype.getLabelSet=function(){return this.dom.labelSet},_.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof r||t instanceof w))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(b.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;b.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},_.prototype.getItems=function(){return this.itemsData},_.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(b.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof r||t instanceof w))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.groupsData;this.groupsData instanceof w&&(n=this.groupsData.getDataSet()),n.get().forEach(function(i){i.nestedGroups&&i.nestedGroups.forEach(function(t){var e=n.get(t);e.nestedInGroup=i.id,0==i.showNested&&(e.visible=!1),n.update(e)})});var o=this.id;b.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},_.prototype.getGroups=function(){return this.groupsData},_.prototype.removeItem=function(e){var t=this.itemsData.get(e),i=this.itemsData.getDataSet();this.items[e];t&&this.options.onRemove(t,function(t){t&&i.remove(e)})},_.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},_.prototype._getGroupId=function(t){return"background"==this._getType(t)&&null==t.group?y:this.groupsData?t.group:v},_.prototype._onAdd=_.prototype._onUpdate=function(t){var s=this;t.forEach(function(t){var e,i=s.itemsData.get(t,s.itemOptions),n=s.items[t],o=i?s._getType(i):null,r=_.types[o];if(n&&(r&&n instanceof r?s._updateItem(n,i):(e=n.selected,s._removeItem(n),n=null)),!n&&i){if(!r)throw"rangeoverflow"==o?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+o+'"');(n=new r(i,s.conversion,s.options)).id=t,s._addItem(n),e&&(this.selection.push(t),n.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},_.prototype._onRemove=function(t){var i=0,n=this;t.forEach(function(t){var e=n.items[t];e&&(i++,n._removeItem(e))}),i&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},_.prototype._order=function(){b.forEach(this.groups,function(t){t.order()})},_.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},_.prototype._onAddGroups=function(t){var s=this;t.forEach(function(t){var e=s.groupsData.get(t),i=s.groups[t];if(i)i.setData(e);else{if(t==v||t==y)throw new Error("Illegal group id. "+t+" is a reserved id.");var n=(0,a.default)(s.options);for(var o in b.extend(n,{height:null}),i=new h(t,e,s),s.groups[t]=i,s.items)if(s.items.hasOwnProperty(o)){var r=s.items[o];r.data.group==t&&i.add(r)}i.order(),i.show()}}),this.body.emitter.emit("_change",{queue:!0})},_.prototype._onRemoveGroups=function(t){var i=this.groups;t.forEach(function(t){var e=i[t];e&&(e.hide(),delete i[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},_.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!b.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},_.prototype._orderNestedGroups=function(t){var n=[];return t.forEach(function(e){var t=this.groupsData.get(e);if(t.nestedInGroup||n.push(e),t.nestedGroups){var i=this.groupsData.get({filter:function(t){return t.nestedInGroup==e},order:this.options.groupOrder}).map(function(t){return t.id});n=n.concat(i)}},this),n},_.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,i&&i.add(t)},_.prototype._updateItem=function(t,e){t.setData(e);var i=this._getGroupId(t.data),n=this.groups[i];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},_.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},_.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof f&&e.push(t[i]);return e},_.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},_.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},_.prototype._onDragStart=function(n){if(!this.touchParams.itemIsDragging){var t,e=this.touchParams.item||null,o=this;if(e&&(e.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=e.editable&&!e.editable.updateTime&&!e.editable.updateGroup&&!this.options.editable.overrideItems)return;var i=this.touchParams.dragLeftItem,r=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=e,i)t={item:i,initialX:n.center.x,dragLeft:!0,data:this._cloneItemData(e.data)},this.touchParams.itemProps=[t];else if(r)t={item:r,initialX:n.center.x,dragRight:!0,data:this._cloneItemData(e.data)},this.touchParams.itemProps=[t];else{this.groupIds.length<1&&this.redraw();var s=this._getGroupIndex(e.data.group),a=this.options.itemsAlwaysDraggable.item&&!e.selected?[e.id]:this.getSelection();this.touchParams.itemProps=a.map(function(t){var e=o.items[t],i=o._getGroupIndex(e.data.group);return{item:e,initialX:n.center.x,groupOffset:s-i,data:this._cloneItemData(e.data)}}.bind(this))}n.stopPropagation()}else this.options.editable.add&&(n.srcEvent.ctrlKey||n.srcEvent.metaKey)&&this._onDragStartAddItem(n)}},_.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null;if(this.options.rtl)var i=(n=b.getAbsoluteRight(this.dom.frame))-t.center.x+10;else{var n=b.getAbsoluteLeft(this.dom.frame);i=t.center.x-n-10}var o=this.body.util.toTime(i),r=this.body.util.getScale(),s=this.body.util.getStep(),a=e?e(o,r,s):o,l={type:"range",start:a,end:a,content:"new item"},u=b.randomUUID();l[this.itemsData._fieldId]=u;var h=this.groupFromTarget(t);h&&(l.group=h.groupId);var c=new f(l,this.conversion,this.options);c.id=u,c.data=this._cloneItemData(l),this._addItem(c);var d={item:this.touchParams.selectedItem=c,initialX:t.center.x,data:c.data};this.options.rtl?d.dragLeft=!0:d.dragRight=!0,this.touchParams.itemProps=[d],t.stopPropagation()},_.prototype._onDrag=function(c){if(this.touchParams.itemProps){c.stopPropagation();var d=this,p=this.options.snap||null;if(this.options.rtl)var f=this.body.dom.root.offsetLeft+this.body.domProps.right.width;else f=this.body.dom.root.offsetLeft+this.body.domProps.left.width;var g=this.body.util.getScale(),m=this.body.util.getStep(),v=this.touchParams.selectedItem,y=(this.options.editable.overrideItems||null==v.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=v.editable&&v.editable.updateGroup,_=null;if(y&&v&&null!=v.data.group){var t=d.groupFromTarget(c);t&&(_=this._getGroupIndex(t.groupId))}this.touchParams.itemProps.forEach(function(e){var t=d.body.util.toTime(c.center.x-f),i=d.body.util.toTime(e.initialX-f);if(this.options.rtl)var n=-(t-i);else n=t-i;var o=this._cloneItemData(e.item.data);if(null==e.item.editable||e.item.editable.updateTime||e.item.editable.updateGroup||d.options.editable.overrideItems){if((this.options.editable.overrideItems||null==v.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=v.editable&&v.editable.updateTime)if(e.dragLeft){if(this.options.rtl){if(null!=o.end){var r=b.convert(e.data.end,"Date"),s=new Date(r.valueOf()+n);o.end=p?p(s,g,m):s}}else if(null!=o.start){var a=b.convert(e.data.start,"Date"),l=new Date(a.valueOf()+n);o.start=p?p(l,g,m):l}}else if(e.dragRight){if(this.options.rtl){if(null!=o.start){a=b.convert(e.data.start,"Date"),l=new Date(a.valueOf()+n);o.start=p?p(l,g,m):l}}else if(null!=o.end){r=b.convert(e.data.end,"Date"),s=new Date(r.valueOf()+n);o.end=p?p(s,g,m):s}}else if(null!=o.start){a=b.convert(e.data.start,"Date").valueOf(),l=new Date(a+n);if(null!=o.end){var u=(r=b.convert(e.data.end,"Date")).valueOf()-a.valueOf();o.start=p?p(l,g,m):l,o.end=new Date(o.start.valueOf()+u)}else o.start=p?p(l,g,m):l}if(y&&!e.dragLeft&&!e.dragRight&&null!=_&&null!=o.group){var h=_-e.groupOffset;h=Math.max(0,h),h=Math.min(d.groupIds.length-1,h),o.group=d.groupIds[h]}o=this._cloneItemData(o),d.options.onMoving(o,function(t){t&&e.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},_.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var n=t.parent;n.remove(t),n.order(),t.data.group=i.groupId,i.add(t),i.order()}},_.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var n=this,o=this.itemsData.getDataSet(),e=this.touchParams.itemProps;this.touchParams.itemProps=null,e.forEach(function(e){var i=e.item.id;if(null!=n.itemsData.get(i,n.itemOptions)){var t=this._cloneItemData(e.item.data);n.options.onMove(t,function(t){t?(t[o._fieldId]=i,o.update(t)):(e.item.setData(e.data),n.body.emitter.emit("_change"))})}else n.options.onAdd(e.item.data,function(t){n._removeItem(e.item),t&&n.itemsData.getDataSet().add(t),n.body.emitter.emit("_change")})}.bind(this))}},_.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var i=this.groupsData;this.groupsData instanceof w&&(i=this.groupsData.getDataSet()),e.showNested=!e.showNested;var n=i.get(e.nestedGroups).map(function(t){return null==t.visible&&(t.visible=!0),t.visible=!!e.showNested,t});if(i.update(n),e.showNested)b.removeClassName(e.dom.label,"collapsed"),b.addClassName(e.dom.label,"expanded");else{b.removeClassName(e.dom.label,"expanded");var o=this.options.rtl?"collapsed-rtl":"collapsed";b.addClassName(e.dom.label,o)}}},_.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},_.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof w&&(e=this.groupsData.getDataSet());var i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,r=b.getAbsoluteTop(i.dom.foreground),s=this.groupTouchParams.group.height;if(n){if(r+s<o)return}else if(o<r+i.height-s)return}if(i&&i!=this.groupTouchParams.group){var a=e.get(i.groupId),l=e.get(this.groupTouchParams.group.groupId);l&&a&&(this.options.groupOrderSwap(l,a,e),e.update(l),e.update(a));var u=e.getIds({order:this.options.groupOrder});if(!b.equalArray(u,this.groupTouchParams.originalOrder))for(var h=this.groupTouchParams.originalOrder,c=this.groupTouchParams.group.groupId,d=Math.min(h.length,u.length),p=0,f=0,g=0;p<d;){for(;p+f<d&&p+g<d&&u[p+f]==h[p+g];)p++;if(d<=p+f)break;if(u[p+f]!=c)if(h[p+g]!=c){var m=u.indexOf(h[p+g]),v=e.get(u[p+f]),y=e.get(h[p+g]);this.options.groupOrderSwap(v,y,e),e.update(v),e.update(y);var _=u[p+f];u[p+f]=h[p+g],u[m]=_,p++}else g=1;else f=1}}}},_.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var u=this,h=u.groupTouchParams.group.groupId,c=u.groupsData.getDataSet(),e=b.extend({},c.get(h));u.options.onMoveGroup(e,function(t){if(t)t[c._fieldId]=h,c.update(t);else{var e=c.getIds({order:u.options.groupOrder});if(!b.equalArray(e,u.groupTouchParams.originalOrder))for(var i=u.groupTouchParams.originalOrder,n=Math.min(i.length,e.length),o=0;o<n;){for(;o<n&&e[o]==i[o];)o++;if(n<=o)break;var r=e.indexOf(i[o]),s=c.get(e[o]),a=c.get(i[o]);u.options.groupOrderSwap(s,a,c),c.update(s),c.update(a);var l=e[o];e[o]=i[o],e[r]=l,o++}}}),u.body.emitter.emit("groupDragged",{groupId:h})}},_.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)this._onMultiSelectItem(t);else{var n=this.getSelection(),o=this.itemFromTarget(t),r=o?[o.id]:[];this.setSelection(r);var s=this.getSelection();(0<s.length||0<n.length)&&this.body.emitter.emit("select",{items:s,event:t})}}},_.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e&&e!==this.itemFromRelatedTarget(t)){var i=e.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new m(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);var n=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-b.getAbsoluteLeft(n)+n.offsetLeft,t.clientY-b.getAbsoluteTop(n)+n.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}},_.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},_.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-b.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-b.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},_.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},_.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var i=e.itemsData.get(t.id);this.options.onUpdate(i,function(t){t&&e.itemsData.getDataSet().update(t)})}}},_.prototype._onAddItem=function(e){if(this.options.selectable&&this.options.editable.add){var i=this,t=this.options.snap||null;if(!this.itemFromTarget(e)){if(this.options.rtl)var n=(o=b.getAbsoluteRight(this.dom.frame))-e.center.x;else{var o=b.getAbsoluteLeft(this.dom.frame);n=e.center.x-o}var r,s=this.body.util.toTime(n),a=this.body.util.getScale(),l=this.body.util.getStep();if("drop"==e.type){if((r=JSON.parse(e.dataTransfer.getData("text"))).content=r.content?r.content:"new item",r.start=r.start?r.start:t?t(s,a,l):s,r.type=r.type||"box",r[this.itemsData._fieldId]=r.id||b.randomUUID(),"range"==r.type&&!r.end){var u=this.body.util.toTime(n+this.props.width/5);r.end=t?t(u,a,l):u}}else if((r={start:t?t(s,a,l):s,content:"new item"})[this.itemsData._fieldId]=b.randomUUID(),"range"===this.options.type){u=this.body.util.toTime(n+this.props.width/5);r.end=t?t(u,a,l):u}var h=this.groupFromTarget(e);h&&(r.group=h.groupId),r=this._cloneItemData(r),this.options.onAdd(r,function(t){t&&(i.itemsData.getDataSet().add(t),"drop"==e.type&&i.setSelection([t.id]))})}}},_.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1)&&this.options.multiselect){var n=this.itemsData.get(e.id).group,o=void 0;this.options.multiselectPerGroup&&0<i.length&&(o=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&null!=o&&o!=n||i.push(e.id);var r=_._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||o==n)for(var s in i=[],this.items)if(this.items.hasOwnProperty(s)){var a=this.items[s],l=a.data.start,u=void 0!==a.data.end?a.data.end:l;!(l>=r.min&&u<=r.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(a.id).group||a instanceof g||i.push(a.id)}}else{var h=i.indexOf(e.id);-1==h?i.push(e.id):i.splice(h,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},_._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},_.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},_.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},_.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},_.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<i.length;n++){var o=i[n],r=this.groups[o],s=r.dom.foreground,a=b.getAbsoluteTop(s);if(a<e&&e<a+s.offsetHeight)return r;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&a<e)return r}else if(0===n&&e<a+s.offset)return r}return null},_.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},_.prototype._cloneItemData=function(t,e){var i=b.extend({},t);return e=e||this.itemsData.getDataSet()._options.type,null!=i.start&&(i.start=b.convert(i.start,e&&e.start||"Date")),null!=i.end&&(i.end=b.convert(i.end,e&&e.end||"Date")),i},t.exports=_},function(t,e,i){var s=i(82),n=i(122),o=i(1);function r(t,e,i,n){this.moment=s,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(n)?this.hiddenDates=n:this.hiddenDates=null!=n?[n]:[],this.format=r.FORMAT}r.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},r.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},r.prototype.setFormat=function(t){var e=o.deepExtend({},r.FORMAT);this.format=o.deepExtend(e,t)},r.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):new Date,this._end=null!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},r.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},r.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},r.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},r.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":0<this.current.milliseconds()&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":0<this.current.seconds()&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":0<this.current.minutes()&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":0<this.current.hours()&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,n.stepOverHiddenDates(this.moment,this,t)},r.prototype.getCurrent=function(){return this.current},r.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=0<t.step?t.step:1,this.autoScale=!1)},r.prototype.setAutoScale=function(t){this.autoScale=t},r.prototype.setMinimumStep=function(t){if(null!=t){var e=31104e6;t<31104e9&&(this.scale="year",this.step=1e3),t<15552e9&&(this.scale="year",this.step=500),t<31104e8&&(this.scale="year",this.step=100),t<50*e&&(this.scale="year",this.step=50),t<10*e&&(this.scale="year",this.step=10),t<5*e&&(this.scale="year",this.step=5),t<e&&(this.scale="year",this.step=1),t<7776e6&&(this.scale="month",this.step=3),t<2592e6&&(this.scale="month",this.step=1),t<432e6&&(this.scale="day",this.step=5),t<1728e5&&(this.scale="day",this.step=2),t<864e5&&(this.scale="day",this.step=1),t<432e5&&(this.scale="weekday",this.step=1),t<144e5&&(this.scale="hour",this.step=4),t<36e5&&(this.scale="hour",this.step=1),t<9e5&&(this.scale="minute",this.step=15),t<6e5&&(this.scale="minute",this.step=10),t<3e5&&(this.scale="minute",this.step=5),t<6e4&&(this.scale="minute",this.step=1),t<15e3&&(this.scale="second",this.step=15),t<1e4&&(this.scale="second",this.step=10),t<5e3&&(this.scale="second",this.step=5),t<1e3&&(this.scale="second",this.step=1),t<200&&(this.scale="millisecond",this.step=200),t<100&&(this.scale="millisecond",this.step=100),t<50&&(this.scale="millisecond",this.step=50),t<10&&(this.scale="millisecond",this.step=10),t<5&&(this.scale="millisecond",this.step=5),t<1&&(this.scale="millisecond",this.step=1)}},r.snap=function(t,e,i){var n=s(t);if("year"==e){var o=n.year()+Math.round(n.month()/12);n.year(Math.round(o/i)*i),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("month"==e)15<n.date()?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("week"==e)2<n.weekday()?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("hour"==e){switch(i){case 4:n.minutes(60*Math.round(n.minutes()/60));break;default:n.minutes(30*Math.round(n.minutes()/30))}n.seconds(0),n.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5)),n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5)),n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else if("millisecond"==e){var r=5<i?i/2:1;n.milliseconds(Math.round(n.milliseconds()/r)*r)}return n},r.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},r.prototype.getLabelMinor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&0<e.length?this.moment(t).format(e):""}},r.prototype.getLabelMajor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&0<e.length?this.moment(t).format(e):""},r.prototype.getClassName=function(){var e=this.moment,t=this.moment(this.current),i=t.locale?t.locale("en"):t.lang("en"),n=this.step,o=[];function r(t){return t/n%2==0?" vis-even":" vis-odd"}function s(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(e().add(1,"day"),"day")?" vis-tomorrow":t.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function a(t){return t.isSame(new Date,"week")?" vis-current-week":""}function l(t){return t.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":o.push(s(i)),o.push(r(i.milliseconds()));break;case"second":o.push(s(i)),o.push(r(i.seconds()));break;case"minute":o.push(s(i)),o.push(r(i.minutes()));break;case"hour":o.push("vis-h"+i.hours()+this.step==4?"-h"+(i.hours()+4):""),o.push(s(i)),o.push(r(i.hours()));break;case"weekday":o.push("vis-"+i.format("dddd").toLowerCase()),o.push(s(i)),o.push(a(i)),o.push(r(i.date()));break;case"day":o.push("vis-day"+i.date()),o.push("vis-"+i.format("MMMM").toLowerCase()),o.push(s(i)),o.push(l(i)),o.push(this.step<=2?s(i):""),o.push(this.step<=2?"vis-"+i.format("dddd").toLowerCase():""),o.push(r(i.date()-1));break;case"week":o.push("vis-week"+i.format("w")),o.push(a(i)),o.push(r(i.week()));break;case"month":o.push("vis-"+i.format("MMMM").toLowerCase()),o.push(l(i)),o.push(r(i.month()));break;case"year":o.push("vis-year"+i.year()),o.push(i.isSame(new Date,"year")?" vis-current-year":""),o.push(r(i.year()))}return o.filter(String).join(" ")},t.exports=r},function(t,e,i){var n,o=i(58),r=(n=o)&&n.__esModule?n:{default:n};var f=i(1),g=i(127);i(128);function s(t,e,i){this.groupId=t,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var n=this;this.itemSet.body.emitter.on("checkRangedItems",function(){n.checkRangedItems=!0}),this._create(),this.setData(e)}s.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",(i["timeline-group"]=this).dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},s.prototype.setData=function(t){var e,i;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content)instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?f.removeClassName(this.dom.inner,"vis-hidden"):f.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),f.addClassName(this.dom.label,"vis-nesting-group");var n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(f.removeClassName(this.dom.label,n),f.addClassName(this.dom.label,"expanded")):(f.removeClassName(this.dom.label,"expanded"),f.addClassName(this.dom.label,n))}else if(this.nestedGroups){this.nestedGroups=null;n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";f.removeClassName(this.dom.label,n),f.removeClassName(this.dom.label,"expanded"),f.removeClassName(this.dom.label,"vis-nesting-group")}t&&t.nestedInGroup&&(f.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=t&&t.className||null;o!=this.className&&(this.className&&(f.removeClassName(this.dom.label,this.className),f.removeClassName(this.dom.foreground,this.className),f.removeClassName(this.dom.background,this.className),f.removeClassName(this.dom.axis,this.className)),f.addClassName(this.dom.label,o),f.addClassName(this.dom.foreground,o),f.addClassName(this.dom.background,o),f.addClassName(this.dom.axis,o),this.className=o),this.style&&(f.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(f.addCssText(this.dom.label,t.style),this.style=t.style)},s.prototype.getLabelWidth=function(){return this.props.label.width},s.prototype.redraw=function(t,e,i){var n=!1,o=this.dom.marker.clientHeight;o!=this.lastMarkerHeight&&(this.lastMarkerHeight=o,f.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),this._calculateSubGroupHeights(e);var r=this.dom.foreground;this.top=r.offsetTop,this.right=r.offsetLeft,this.width=r.offsetWidth;var s=this.isVisible;this.isVisible=this._isGroupVisible(t,e);var a=i||this.stackDirty||this.isVisible&&!s;if(this._updateSubgroupsSizes(),a){if("function"==typeof this.itemSet.options.order){var l=this;f.forEach(this.items,function(t){t.displayed||(t.redraw(),l.visibleItems.push(t)),t.repositionX(!1)});var u=this.orderedItems.byStart.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});g.stack(u,e,!0),this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t)}else this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.itemSet.options.stack?g.stack(this.visibleItems,e,!0):g.nostack(this.visibleItems,e,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}var h=this._calculateHeight(e);r=this.dom.foreground;this.top=r.offsetTop,this.right=r.offsetLeft,this.width=r.offsetWidth,n=f.updateProperty(this,"height",h)||n,n=f.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||n,n=f.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||n,this.dom.background.style.height=h+"px",this.dom.foreground.style.height=h+"px",this.dom.label.style.height=h+"px";for(var c=0,d=this.visibleItems.length;c<d;c++){var p=this.visibleItems[c];p.repositionY(e),this.isVisible||"__background__"==this.groupId||p.displayed&&p.hide()}return!(!this.isVisible&&this.height)&&n},s.prototype._calculateSubGroupHeights=function(e){if(0<(0,r.default)(this.subgroups).length){var i=this;this.resetSubgroups(),f.forEach(this.visibleItems,function(t){void 0!==t.data.subgroup&&(i.subgroups[t.data.subgroup].height=Math.max(i.subgroups[t.data.subgroup].height,t.height+e.item.vertical),i.subgroups[t.data.subgroup].visible=!0)})}},s.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},s.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(0<i.length){var n=i[0].top,o=i[0].top+i[0].height;if(f.forEach(i,function(t){n=Math.min(n,t.top),o=Math.max(o,t.top+t.height)}),n>t.axis){var r=n-t.axis;o-=r,f.forEach(i,function(t){t.top-=r})}e=o+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},s.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},s.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},s.prototype.add=function(t){if((this.items[t.id]=t).setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},s.prototype._addToSubgroup=function(t,e){null!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start),new Date(t.data.end)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=t.data.end),this.subgroups[e].items.push(t)},s.prototype._updateSubgroupsSizes=function(){if(this.subgroups)for(var t in this.subgroups){var e=this.subgroups[t].items[0].data.start,i=this.subgroups[t].items[0].data.end-1;this.subgroups[t].items.forEach(function(t){new Date(t.data.start)<new Date(e)&&(e=t.data.start),new Date(t.data.end)>new Date(i)&&(i=t.data.end)}),this.subgroups[t].start=e,this.subgroups[t].end=new Date(i-1)}},s.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(0<t.length)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},s.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},s.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},s.prototype._removeFromSubgroup=function(t,e){if(null!=(e=e||t.data.subgroup)){var i=this.subgroups[e];if(i){var n=i.items.indexOf(t);0<=n&&(i.items.splice(n,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},s.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},s.prototype.order=function(){for(var t=f.toArray(this.items),e=[],i=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},g.orderByStart(this.orderedItems.byStart),g.orderByEnd(this.orderedItems.byEnd)},s.prototype._updateItemsInRange=function(t,e,i){function n(t){return t<a?-1:t<=l?0:1}var o=[],r={},s=(i.end-i.start)/4,a=i.start-s,l=i.end+s;if(0<e.length)for(var u=0;u<e.length;u++)this._checkIfVisibleWithReference(e[u],o,r,i);var h=f.binarySearchCustom(t.byStart,n,"data","start");if(this._traceVisible(h,t.byStart,o,r,function(t){return t.data.start<a||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,u=0;u<t.byEnd.length;u++)this._checkIfVisibleWithReference(t.byEnd[u],o,r,i);else{var c=f.binarySearchCustom(t.byEnd,n,"data","end");this._traceVisible(c,t.byEnd,o,r,function(t){return t.data.end<a||t.data.end>l})}for(u=0;u<o.length;u++){var d=o[u];d.displayed||d.show(),d.repositionX()}return o},s.prototype._traceVisible=function(t,e,i,n,o){if(-1!=t){for(var r=t;0<=r;r--){if(o(s=e[r]))break;void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}for(r=t+1;r<e.length;r++){var s;if(o(s=e[r]))break;void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}}},s.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},s.prototype._checkIfVisibleWithReference=function(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},s.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()},t.exports=s},function(t,u){u.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},u.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},u.stack=function(t,e,i){if(i)for(var n=0;n<t.length;n++)t[n].top=null;for(n=0;n<t.length;n++){var o=t[n];if(o.stack&&null===o.top){o.top=e.axis;do{for(var r=null,s=0,a=t.length;s<a;s++){var l=t[s];if(null!==l.top&&l!==o&&l.stack&&u.collision(o,l,e.item,l.options.rtl)){r=l;break}}null!=r&&(o.top=r.top+r.height+e.item.vertical)}while(r)}}},u.nostack=function(t,e,i,n){for(var o=0;o<t.length;o++)if(null==t[o].data.subgroup)t[o].top=e.item.vertical;else if(void 0!==t[o].data.subgroup&&n){var r=0;for(var s in i)i.hasOwnProperty(s)&&1==i[s].visible&&i[s].index<i[t[o].data.subgroup].index&&(r+=i[s].height,i[t[o].data.subgroup].top=r);t[o].top=r+.5*e.item.vertical}n||u.stackSubgroups(t,e,i)},u.stackSubgroups=function(t,e,i){for(var n in i)if(i.hasOwnProperty(n)){i[n].top=0;do{var o=null;for(var r in i)if(null!==i[r].top&&r!==n&&i[n].index>i[r].index&&u.collisionByTimes(i[n],i[r])){o=i[r];break}null!=o&&(i[n].top=o.top+o.height)}while(o)}for(var s=0;s<t.length;s++)void 0!==t[s].data.subgroup&&(t[s].top=i[t[s].data.subgroup].top+.5*e.item.vertical)},u.collision=function(t,e,i,n){return n?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top},u.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){i(113);var n=i(129);function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}(o.prototype=new n(null,null,null)).baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.visibleFrame=document.createElement("div"),t.visibleFrame.className="vis-item-visible-frame",t.box.appendChild(t.visibleFrame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),(t.box["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var i=this.editable.updateTime||this.editable.updateGroup,n=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.box.className=this.baseClassName+n,this.overflow="hidden"!==window.getComputedStyle(t.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintOnItemUpdateTimeTooltip(t.box),this._repaintDeleteButton(t.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,i,n=this.parent.width,o=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end),s=void 0===this.data.align?this.options.align:this.data.align;void 0!==t&&!0!==t||(o<-n&&(o=-n),2*n<r&&(r=2*n));var a=Math.max(r-o+.5,1);switch(i=this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=a+this.props.content.width,this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=a,Math.min(r-o,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=a+"px",s){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(a-i,0)+"px":this.dom.content.style.left=Math.max(a-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((a-i)/2,0)+"px":this.dom.content.style.left=Math.max((a-i)/2,0)+"px";break;default:e=this.overflow?0<r?Math.max(-o,0):-i:o<0?-o:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",(t.dragLeftItem=this).dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",(t.dragRightItem=this).dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,i){var n=o(i(62)),r=o(i(58));function o(t){return t&&t.__esModule?t:{default:t}}var s=i(113),a=i(1),l=i(82);function u(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}u.prototype.stack=!0,u.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},u.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},u.prototype.setData=function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent.stackDirty=!0,null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},u.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},u.prototype.isVisible=function(t){return!1},u.prototype.show=function(){return!1},u.prototype.hide=function(){return!1},u.prototype.redraw=function(){},u.prototype.repositionX=function(){},u.prototype.repositionY=function(){},u.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var e=this,t=document.createElement("div");t.className="vis-drag-center",t.dragCenterItem=this;var i=new s(t);i.on("tap",function(t){e.parent.itemSet.body.emitter.emit("click",{event:t,item:e.id})}),i.on("doubletap",function(t){t.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:t,item:e.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(t,this.dom.dragLeft):this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},u.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){var i=this,n=document.createElement("div");this.options.rtl?n.className="vis-delete-rtl":n.className="vis-delete",n.title="Delete this item",new s(n).on("tap",function(t){t.stopPropagation(),i.parent.removeFromDataSet(i)}),t.appendChild(n),this.dom.deleteButton=n}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},u.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){var i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",t.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var n,o=this.parent.itemSet.body.domProps.scrollTop;("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?n=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(n="start: "+l(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(n+="<br> end: "+l(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=n}}},u.prototype._updateContents=function(t){var e,i,n,o,r=this.parent.itemSet.itemsData.get(this.id),s=this.dom.box||this.dom.point,a=s.getElementsByClassName("vis-item-visible-frame")[0];if(n=this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this))(r,s):"",a)if(n instanceof Object&&!(n instanceof Element))o(r,a);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n)){if(n instanceof Element)a.innerHTML="",a.appendChild(n);else if(null!=n)a.innerHTML=n;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=n}if((e=this.options.template?(i=this.options.template.bind(this))(r,t,this.data):this.data.content)instanceof Object&&!(e instanceof Element))i(r,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(null!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},u.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&0<this.options.dataAttributes.length){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,r.default)(this.data)}for(var i=0;i<e.length;i++){var n=e[i],o=this.data[n];null!=o?t.setAttribute("data-"+n,o):t.removeAttribute("data-"+n)}}},u.prototype._updateStyle=function(t){this.style&&(a.removeCssText(t,this.style),this.style=null),this.data.style&&(a.addCssText(t,this.data.style),this.style=this.data.style)},u.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},u.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,n.default)(this.options.editable)&&(this.editable={},a.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,n.default)(this.data.editable)&&(this.editable={},a.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},u.prototype.getWidthLeft=function(){return 0},u.prototype.getWidthRight=function(){return 0},u.prototype.getTitle=function(){return this.data.title},t.exports=u},function(t,e,i){var n,o=i(55),r=(n=o)&&n.__esModule?n:{default:n};i(1);var s=i(126);function a(t,e,i){s.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}(a.prototype=(0,r.default)(s.prototype)).redraw=function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,o=this.visibleItems.length;n<o;n++){this.visibleItems[n].repositionY(e)}return!1},a.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=a},function(t,e,i){var n=i(129);i(1);function o(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}(o.prototype=new n(null,null,null)).isVisible=function(t){var e=this.options.align,i=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="vis-item-content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="vis-line",t.dot=document.createElement("DIV"),t.dot.className="vis-dot",(t.box["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var n=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(t.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var o=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(o?" vis-editable":" vis-readonly");t.box.className="vis-item vis-box"+r,t.line.className="vis-item vis-line"+r,t.dot.className="vis-item vis-dot"+r;var s=t.box.style.right,a=t.box.style.left;this.options.rtl?t.box.style.right="0px":t.box.style.left="0px",this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.options.rtl?t.box.style.right=s:t.box.style.left=a,this.dirty=!1}this._repaintOnItemUpdateTimeTooltip(t.box),this._repaintDragCenter(),this._repaintDeleteButton(t.box)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,n=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var o=this.parent.itemSet.props.height,r=o-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=o-r+"px",i.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,i){var n=i(129);function o(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}(o.prototype=new n(null,null,null)).isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="vis-item-content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),(t.point["timeline-item"]=this).dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var i=this.editable.updateTime||this.editable.updateGroup,n=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.point.className="vis-item vis-point"+n,t.dot.className="vis-item vis-dot"+n,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,this.options.rtl?t.content.style.marginRight=2*this.props.dot.width+"px":t.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,t.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?t.dot.style.right=this.props.dot.width/2+"px":t.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintOnItemUpdateTimeTooltip(t.point),this._repaintDragCenter(),this._repaintDeleteButton(t.point)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=o},function(t,e,i){i(113);var n=i(129),o=i(130),r=i(128);function s(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}(s.prototype=new n(null,null,null)).baseClassName="vis-item vis-background",s.prototype.stack=!1,s.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},s.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},(t=this.dom).box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},s.prototype.show=r.prototype.show,s.prototype.hide=r.prototype.hide,s.prototype.repositionX=r.prototype.repositionX,s.prototype.repositionY=function(t){var e,i=this.options.orientation.item;if(void 0!==this.data.subgroup){var n=this.data.subgroup;this.parent.subgroups[n].index;this.dom.box.style.height=this.parent.subgroups[n].height+"px",this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[n].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof o?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+i>o-this.padding&&(a=!0),r=a?this.x-i:this.x,s=l?this.y-e:this.y}else(s=this.y-e)+e+this.padding>n&&(s=n-e-this.padding),s<this.padding&&(s=this.padding),(r=this.x)+i+this.padding>o&&(r=o-i-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),s);function s(t,e){(0,n.default)(this,s),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}e.default=r},function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var n,o=i(137),r=(n=o)&&n.__esModule?n:{default:n};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(t,n.key,n)}}e.default=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){i(139);var n=i(17).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(15);n(n.S+n.F*!i(25),"Object",{defineProperty:i(21).f})},function(t,e,i){var n,o=i(62),r=(n=o)&&n.__esModule?n:{default:n};var S=i(1),s=i(121),x=i(125),k=i(122),a=i(82);function l(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:x.FORMAT,moment:a,timeAxis:null},this.options=S.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}(l.prototype=new s).setOptions=function(t){t&&(S.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),S.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,r.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof a.locale?a.locale(t.locale):a.lang(t.locale)))},l.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},l.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},l.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==n;this._calculateCharSize();var r=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=r?t.minorCharHeight:0,t.majorLabelHeight=s?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var a=e.nextSibling,l=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),a?n.insertBefore(e,a):n.appendChild(e),l?this.body.dom.backgroundVertical.insertBefore(i,l):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o},l.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=S.convert(this.body.range.start,"Number"),i=S.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=n-k.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,n);o-=this.body.util.toTime(0).valueOf();var r=new x(new Date(e),new Date(i),o,this.body.hiddenDates);r.setMoment(this.options.moment),this.options.format&&r.setFormat(this.options.format),this.options.timeAxis&&r.setScale(this.options.timeAxis),this.step=r;var s,a,l,u,h,c=this.dom;c.redundant.lines=c.lines,c.redundant.majorTexts=c.majorTexts,c.redundant.minorTexts=c.minorTexts,c.lines=[],c.majorTexts=[],c.minorTexts=[];var d,p,f,g,m=0,v=void 0,y=0;for(r.start(),s=r.getCurrent(),l=this.body.util.toScreen(s);r.hasNext()&&y<1e3;){switch(y++,u=r.isMajor(),g=r.getClassName(),f=r.getLabelMinor(),s,a=l,r.next(),s=r.getCurrent(),r.isMajor(),d=m,m=(l=this.body.util.toScreen(s))-a,r.scale){case"week":h=!0;break;default:h=.4*d<=m}if(this.options.showMinorLabels&&h){var _=this._repaintMinorText(a,f,t,g);_.style.width=m+"px"}u&&this.options.showMajorLabels?(0<a&&(null==v&&(v=a),_=this._repaintMajorText(a,r.getLabelMajor(),t,g)),p=this._repaintMajorLine(a,m,t,g)):h?p=this._repaintMinorLine(a,m,t,g):p&&(p.style.width=parseInt(p.style.width)+m+"px")}if(1e3!==y||O||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),O=!0),this.options.showMajorLabels){var b=this.body.util.toTime(0),w=r.getLabelMajor(b),C=w.length*(this.props.majorCharWidth||10)+10;(null==v||C<v)&&this._repaintMajorText(0,w,t,g)}S.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},l.prototype._repaintMinorText=function(t,e,i,n){var o=this.dom.redundant.minorTexts.shift();if(!o){var r=document.createTextNode("");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return this.dom.minorTexts.push(o),o.innerHTML=e,o.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",o.className="vis-text vis-minor "+n,o},l.prototype._repaintMajorText=function(t,e,i,n){var o=this.dom.redundant.majorTexts.shift();if(!o){var r=document.createElement("div");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return o.childNodes[0].innerHTML=e,o.className="vis-text vis-major "+n,o.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",this.dom.majorTexts.push(o),o},l.prototype._repaintMinorLine=function(t,e,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==i?r.majorLabelHeight+"px":this.body.domProps.top.height+"px",o.style.height=r.minorLineHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-minor "+n):(o.style.left=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-minor "+n),o.style.width=e+"px",o},l.prototype._repaintMajorLine=function(t,e,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-major "+n):(o.style.left=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-major "+n),o.style.height=r.majorLineHeight+"px",o.style.width=e+"px",o};var O=!(l.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth});t.exports=l},function(t,e,i){var n=i(116),o=i(99),r=i(113),s=i(1);function a(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=r(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var i=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){i.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(t){!function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}(t.target,e)&&i.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=n(),this.escListener=this.deactivate.bind(this)}o(a.prototype),a.current=null,a.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},a.prototype.activate=function(){a.current&&a.current.deactivate(),(a.current=this).active=!0,this.dom.overlay.style.display="none",s.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},a.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",s.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},a.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=a},function(t,e,i){var n=i(113),o=i(1),r=i(121),s=i(82),a=i(143);function l(t,e){this.body=t,this.defaultOptions={moment:s,locales:a,locale:"en",id:void 0,title:void 0},this.options=o.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}(l.prototype=new r).setOptions=function(t){t&&o.selectiveExtend(["moment","locale","locales","id"],this.options,t)},l.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");function i(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",i.bind(this),!1),e.addEventListener("DOMMouseScroll",i.bind(this),!1)):e.attachEvent("onmousewheel",i.bind(this)),t.appendChild(e),this.hammer=new n(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})},l.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},l.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var n=this.options.title;return void 0===n?n=(n=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+n.substring(1):"function"==typeof n&&(n=n.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=n,!1},l.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},l.prototype.setCustomTime=function(t){this.customTime=o.convert(t,"Date"),this.redraw()},l.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},l.prototype.setCustomTitle=function(t){this.options.title=t},l.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},l.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},l.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},l.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=l},function(t,e){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,i){var n=i(1),o=i(121),r=i(82),s=i(143);function a(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:s,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}(a.prototype=new o)._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},a.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},a.prototype.setOptions=function(t){t&&n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},a.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var o=n.current+" "+n.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},a.prototype.start=function(){var i=this;!function t(){i.stop();var e=1/i.body.range.conversion(i.body.domProps.center.width).scale/10;e<30&&(e=30),1e3<e&&(e=1e3),i.redraw(),i.body.emitter.emit("currentTimeTick"),i.currentTimeTimer=setTimeout(t,e)}()},a.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},a.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var n=a(i(90)),o=a(i(62)),l=a(i(58)),r=a(i(135)),s=a(i(136));function a(t){return t&&t.__esModule?t:{default:t}}var p=i(1),u=!1,h=void 0,c="background: #FFeeee; color: #dd0000",d=((0,s.default)(f,null,[{key:"validate",value:function(t,e,i){u=!1;var n=h=e;return void 0!==i&&(n=e[i]),f.parse(t,n,[]),u}},{key:"parse",value:function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&f.check(n,t,e,i)}},{key:"check",value:function(t,e,i,n){void 0===i[t]&&void 0===i.__any__?f.getSuggestion(t,i,n):void 0===i[t]&&void 0!==i.__any__?"object"===f.getType(e[t])&&void 0!==i.__any__.__type__?f.checkFields(t,e,i,"__any__",i.__any__.__type__,n):f.checkFields(t,e,i,"__any__",i.__any__,n):void 0!==i[t].__type__?f.checkFields(t,e,i,t,i[t].__type__,n):f.checkFields(t,e,i,t,i[t],n)}},{key:"checkFields",value:function(t,e,i,n,o,r){var s=f.getType(e[t]),a=o[s];void 0!==a?"array"===f.getType(a)&&-1===a.indexOf(e[t])?(console.log('%cInvalid option detected in "'+t+'". Allowed values are:'+f.print(a)+' not "'+e[t]+'". '+f.printLocation(r,t),c),u=!0):"object"===s&&"__any__"!==n&&(r=p.copyAndExtendArray(r,t),f.parse(e[t],i[n],r)):void 0===o.any&&(console.log('%cInvalid type received for "'+t+'". Expected: '+f.print((0,l.default)(o))+". Received ["+s+'] "'+e[t]+'"'+f.printLocation(r,t),c),u=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,o.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,e,i){var n=f.findInOptions(t,e,i,!1),o=f.findInOptions(t,h,[],!0);void 0!==n.indexMatch?console.log('%cUnknown option detected: "'+t+'" in '+f.printLocation(n.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n',c):o.distance<=4&&n.distance>o.distance?console.log('%cUnknown option detected: "'+t+'" in '+f.printLocation(n.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+f.printLocation(o.path,o.closestMatch,""),c):n.distance<=8?console.log('%cUnknown option detected: "'+t+'". Did you mean "'+n.closestMatch+'"?'+f.printLocation(n.path,t),c):console.log('%cUnknown option detected: "'+t+'". Did you mean one of these: '+f.print((0,l.default)(e))+f.printLocation(i,t),c),u=!0}},{key:"findInOptions",value:function(t,e,i,n){var o=3<arguments.length&&void 0!==n&&n,r=1e9,s="",a=[],l=t.toLowerCase(),u=void 0;for(var h in e){var c=void 0;if(void 0!==e[h].__type__&&!0===o){var d=f.findInOptions(t,e[h],p.copyAndExtendArray(i,h));r>d.distance&&(s=d.closestMatch,a=d.path,r=d.distance,u=d.indexMatch)}else-1!==h.toLowerCase().indexOf(l)&&(u=h),(c=f.levenshteinDistance(t,h))<r&&(s=h,a=p.copyArray(i),r=c)}return{closestMatch:s,path:a,distance:r,indexMatch:u}}},{key:"printLocation",value:function(t,e,i){for(var n="\n\n"+(2<arguments.length&&void 0!==i?i:"Problem value found at: \n")+"options = {\n",o=0;o<t.length;o++){for(var r=0;r<o+1;r++)n+="  ";n+=t[o]+": {\n"}for(var s=0;s<t.length+1;s++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var l=0;l<t.length-a;l++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return(0,n.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,o=[];for(i=0;i<=e.length;i++)o[i]=[i];for(n=0;n<=t.length;n++)o[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)e.charAt(i-1)==t.charAt(n-1)?o[i][n]=o[i-1][n-1]:o[i][n]=Math.min(o[i-1][n-1]+1,Math.min(o[i][n-1]+1,o[i-1][n]+1));return o[e.length][t.length]}}]),f);function f(){(0,r.default)(this,f)}e.default=d,e.printStyle=c},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",n="boolean",o="number",r="date",s="object",a="moment",l={configure:{enabled:{boolean:n},filter:{boolean:n,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:n,function:"function"}},align:{string:i},rtl:{boolean:n,undefined:"undefined"},rollingMode:{follow:{boolean:n},offset:{number:o,undefined:"undefined"},__type__:{object:s}},verticalScroll:{boolean:n,undefined:"undefined"},horizontalScroll:{boolean:n,undefined:"undefined"},autoResize:{boolean:n},throttleRedraw:{number:o},clickToUse:{boolean:n},dataAttributes:{string:i,array:"array"},editable:{add:{boolean:n,undefined:"undefined"},remove:{boolean:n,undefined:"undefined"},updateGroup:{boolean:n,undefined:"undefined"},updateTime:{boolean:n,undefined:"undefined"},overrideItems:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:s}},end:{number:o,date:r,string:i,moment:a},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s,function:"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s,function:"function"}},__type__:{object:s}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:n,undefined:"undefined"},remove:{boolean:n,undefined:"undefined"},order:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:s}},groupOrderSwap:{function:"function"},height:{string:i,number:o},hiddenDates:{start:{date:r,number:o,string:i,moment:a},end:{date:r,number:o,string:i,moment:a},repeat:{string:i},__type__:{object:s,array:"array"}},itemsAlwaysDraggable:{item:{boolean:n,undefined:"undefined"},range:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:s}},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},margin:{axis:{number:o},item:{horizontal:{number:o,undefined:"undefined"},vertical:{number:o,undefined:"undefined"},__type__:{object:s,number:o}},__type__:{object:s,number:o}},max:{date:r,number:o,string:i,moment:a},maxHeight:{number:o,string:i},maxMinorChars:{number:o},min:{date:r,number:o,string:i,moment:a},minHeight:{number:o,string:i},moveable:{boolean:n},multiselect:{boolean:n},multiselectPerGroup:{boolean:n},onAdd:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:s}},selectable:{boolean:n},showCurrentTime:{boolean:n},showMajorLabels:{boolean:n},showMinorLabels:{boolean:n},stack:{boolean:n},stackSubgroups:{boolean:n},snap:{function:"function",null:"null"},start:{date:r,number:o,string:i,moment:a},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:i,function:"function"},showTooltips:{boolean:n},tooltip:{followMouse:{boolean:n},overflowMethod:{string:["cap","flip"]},__type__:{object:s}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:n,object:s}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:s}},type:{string:i},width:{string:i,number:o},zoomable:{boolean:n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},__type__:{object:s}};e.allOptions=l,e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(90)),s=a(i(62)),o=a(i(135)),r=a(i(136));function a(t){return t&&t.__esModule?t:{default:t}}var v=i(1),l=i(148).default,u=((0,r.default)(h,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,s.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,n=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(n=this.allowCreation=!1,"function"==typeof e?n=(n=e(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==e&&-1===e.indexOf(o)||(n=!0),!1!==n&&(this.allowCreation=!0,0<i&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),i++);if(!0===this.options.showButton){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerHTML="generate options",r.onclick=function(){t._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0!==this.allowCreation)return 0;var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return n.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e,i){var n=2<arguments.length&&void 0!==i&&i,o=document.createElement("div");return o.className="vis-configuration vis-config-label vis-config-s"+e.length,o.innerHTML=!0===n?"<i><b>"+t+":</b></i>":t+":",o}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerHTML=t[r],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(t){}a.step=s;var l="",u=0;void 0!==e?(e<0&&1.2*e<o?(a.min=Math.ceil(1.2*e),u=a.min,l="range increased"):e/1.2<o&&(a.min=Math.ceil(e/1.2),u=a.min,l="range increased"),r<1.2*e&&1!==r&&(a.max=Math.ceil(1.2*e),u=a.max,l="range increased"),a.value=e):a.value=n;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=a.value;var c=this;a.onchange=function(){h.value=this.value,c._update(Number(this.value),i)},a.oninput=function(){h.value=this.value};var d=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,d,a,h);""!==l&&this.popupHistory[p]!==u&&(this.popupHistory[p]=u,this._setupPopup(l,p))}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e)!==t&&("object"===(void 0===t?"undefined":(0,s.default)(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e}));var o=this;n.onchange=function(){o._update(this.checked,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",(n.value=e)!==t&&this.changedOptions.push({path:i,value:e});var o=this;n.onchange=function(){o._update(this.value,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,o=t[1],r=document.createElement("div");"none"!==(e=void 0===e?o:e)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?o:e,r.onclick=function(){n._showColorPicker(e,r,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_showColorPicker",value:function(t,i,n){var o=this;i.onclick=function(){},this.colorPicker.insertTo(i),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var e="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";i.style.backgroundColor=e,o._update(e,n)}),this.colorPicker.setCloseCallback(function(){i.onclick=function(){o._showColorPicker(t,i,n)}})}},{key:"_handleObject",value:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:[],o=2<arguments.length&&void 0!==i&&i,r=!1,s=this.options.filter,a=!1;for(var l in t)if(t.hasOwnProperty(l)){r=!0;var u=t[l],h=v.copyAndExtendArray(n,l);if("function"==typeof s&&!1===(r=s(l,n))&&!(u instanceof Array)&&"string"!=typeof u&&"boolean"!=typeof u&&u instanceof Object&&(this.allowCreation=!1,r=this._handleObject(u,h,!0),this.allowCreation=!1===o),!1!==r){a=!0;var c=this._getValue(h);if(u instanceof Array)this._handleArray(u,c,h);else if("string"==typeof u)this._makeTextInput(u,c,h);else if("boolean"==typeof u)this._makeCheckbox(u,c,h);else if(u instanceof Object){var d=!0;if(-1!==n.indexOf("physics")&&this.moduleOptions.physics.solver!==l&&(d=!1),!0===d)if(void 0!==u.enabled){var p=v.copyAndExtendArray(h,"enabled"),f=this._getValue(p);if(!0===f){var g=this._makeLabel(l,h,!0);this._makeItem(h,g),a=this._handleObject(u,h)||a}else this._makeCheckbox(u,f,h)}else{var m=this._makeLabel(l,h,!0);this._makeItem(h,m),a=this._handleObject(u,h)||a}}else console.error("dont know how to handle",u,l,h)}}return a}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:{},o=n;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===o[e[r]]&&(o[e[r]]={}),r!==e.length-1?o=o[e[r]]:o[e[r]]=t);return n}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,n.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),h);function h(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;(0,o.default)(this,h),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},v.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new l(n),this.wrapper=void 0}e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var u=r(i(90)),n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(113),a=i(120),m=i(1),l=((0,o.default)(h,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e;if("none"!==t){var n=void 0,o=this._isColorString(t);if(void 0!==o&&(t=o),!0===m.isString(t)){if(!0===m.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===m.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===m.isValidHex(t)){var a=m.hexToRGB(t);n={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var l=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:l}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,u.default)(t));this._setColor(n,i)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(t){var e=this;!0===(!(0<arguments.length&&void 0!==t)||t)&&(this.previousColor=m.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t,e){!0===(!(1<arguments.length&&void 0!==e)||e)&&(this.initialColor=m.extend({},t)),this.color=t;var i=m.RGBToHSV(t.r,t.g,t.b),n=2*Math.PI,o=this.r*i.s,r=this.centerCoordinates.x+o*Math.sin(n*i.h),s=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=m.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=m.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(t){var e=0<arguments.length&&void 0!==t?t:this.color,i=m.RGBToHSV(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,o,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-i.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*i.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new s(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),a.onTouch(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var n=void 0,o=void 0,r=void 0,s=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var a=2*Math.PI/360,l=1/this.r,u=void 0;for(r=0;r<360;r++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(a*r),o=this.centerCoordinates.y+s*Math.cos(a*r),u=m.HSVToRGB(r*(1/360),s*l,1),t.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=n-o,l=Math.atan2(s,a),u=.98*Math.min(Math.sqrt(s*s+a*a),r),h=Math.cos(l)*u+o,c=Math.sin(l)*u+r;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=c-.5*this.colorPickerSelector.clientWidth+"px";var d=l/(2*Math.PI);d=d<0?d+1:d;var p=u/this.r,f=m.RGBToHSV(this.color.r,this.color.g,this.color.b);f.h=d,f.s=p;var g=m.HSVToRGB(f.h,f.s,f.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),h);function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;(0,n.default)(this,h),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}e.default=l},function(t,e,i){i(99),i(113);var s=i(82),d=i(1),a=i(89),l=i(93),u=i(119),n=i(123),h=i(140),c=i(144),p=i(142),f=i(150),o=i(145).printStyle,r=i(158).allOptions,g=i(158).configureOptions,m=i(147).default,v=i(145).default;function y(t,e,i,n){if(!(Array.isArray(i)||i instanceof a||i instanceof l)&&i instanceof Object){var o=n;n=i,i=o}n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var r=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:s,width:null,height:null,maxHeight:null,minHeight:null},this.options=d.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new u(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body),this.components.push(this.timeAxis),this.currentTime=new c(this.body),this.components.push(this.currentTime),this.linegraph=new f(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){r.emit("click",r.getEventProperties(t))}),this.on("doubletap",function(t){r.emit("doubleClick",r.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},n&&this.setOptions(n),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(y.prototype=new n).setOptions=function(t){!0===v.validate(t,r)&&console.log("%cErrors have been found in the supplied options object.",o),n.prototype.setOptions.call(this,t)},y.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof a||t instanceof l?t:new a(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(null!=this.options.start||null!=this.options.end){var n=null!=this.options.start?this.options.start:null,o=null!=this.options.end?this.options.end:null;this.setWindow(n,o,{animation:!1})}else this.fit({animation:!1})},y.prototype.setGroups=function(t){var e;e=t?t instanceof a||t instanceof l?t:new a(t):null,this.groupsData=e,this.linegraph.setGroups(e)},y.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},y.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},y.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var o=this.linegraph.groups[i].itemsData[n],r=d.convert(o.x,"Date").valueOf();t=null==t?r:r<t?r:t,e=null==e?r:e<r?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=e-d.getAbsoluteLeft(this.dom.centerContainer),o=i-d.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(n),s=p.customTimeFromTarget(t),a=d.getTarget(t),l=null;d.hasParent(a,this.timeAxis.dom.foreground)?l="axis":this.timeAxis2&&d.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":d.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?l="data-axis":d.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":d.hasParent(a,this.linegraph.legendLeft.dom.frame)?l="legend":d.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":null!=s?l="custom-time":d.hasParent(a,this.currentTime.bar)?l="current-time":d.hasParent(a,this.dom.center)&&(l="background");var u=[],h=this.linegraph.yAxisLeft,c=this.linegraph.yAxisRight;return!h.hidden&&0<this.itemsData.length&&u.push(h.screenToValue(o)),!c.hidden&&0<this.itemsData.length&&u.push(c.screenToValue(o)),{event:t,what:l,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:o,time:r,value:u}},y.prototype._createConfigurator=function(){return new m(this,this.dom.container,g)},t.exports=y},function(t,e,i){var n,o=i(62),r=(n=o)&&n.__esModule?n:{default:n};var m=i(1),c=i(88),s=i(89),a=i(93),l=i(121),u=i(151),h=i(153),d=i(157),p=i(154),f=i(156),g=i(155),v="__ungrouped__";function y(t,e){this.id=m.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=m.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e){i._onAdd(e.items)},update:function(t,e){i._onUpdate(e.items)},remove:function(t,e){i._onRemove(e.items)}},this.groupListeners={add:function(t,e){i._onAddGroups(e.items)},update:function(t,e){i._onUpdateGroups(e.items)},remove:function(t,e){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=m.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(y.prototype=new l)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new d(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new d(this.body,this.options.legend,"right",this.options.groups),this.show()},y.prototype.setOptions=function(t){if(t){void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),m.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),m.mergeOptions(this.options,t,"interpolation"),m.mergeOptions(this.options,t,"drawPoints"),m.mergeOptions(this.options,t,"shaded"),m.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,r.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(v)&&this.groups[v].setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},y.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},y.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},y.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof s||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(m.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;m.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e)}},y.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){m.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<e.length;n++)this._removeGroup(e[n])}if(t){if(!(t instanceof s||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;m.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},y.prototype._onUpdate=function(t){this._updateAllGroupData(t)},y.prototype._onAdd=function(t){this._onUpdate(t)},y.prototype._onRemove=function(t){this._onUpdate(t)},y.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},y.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},y.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},y.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},y.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new h(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},y.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={},n=this.itemsData.get(),o=this.itemsData._fieldId,r={};t&&t.map(function(t){r[t]=t});for(var s={},a=0;a<n.length;a++){null==(u=(d=n[a]).group)&&(u=v),s.hasOwnProperty(u)?s[u]++:s[u]=1}var l={};if(!e&&t)for(var u in this.groups)if(this.groups.hasOwnProperty(u)){var h=(g=this.groups[u]).getItems();i[u]=h.filter(function(t){return l[t[o]]=t[o],t[o]!==r[t[o]]});var c=s[u];s[u]-=i[u].length,i[u].length<c&&(i[u][c-1]={})}for(a=0;a<n.length;a++){var d;if(null==(u=(d=n[a]).group)&&(u=v),e||!t||d[o]===r[d[o]]||!l.hasOwnProperty(d[o])){i.hasOwnProperty(u)||(i[u]=new Array(s[u]));var p=m.bridgeObject(d);p.x=m.convert(d.x,"Date"),p.end=m.convert(d.end,"Date"),p.orginalY=d.y,p.y=Number(d.y),p[o]=d[o];var f=i[u].length-s[u]--;i[u][f]=p}}for(var u in this.groups)this.groups.hasOwnProperty(u)&&(i.hasOwnProperty(u)||(i[u]=new Array(0)));for(var u in i)if(i.hasOwnProperty(u))if(0==i[u].length)this.groups.hasOwnProperty(u)&&this._removeGroup(u);else{var g=void 0;null!=this.groupsData&&(g=this.groupsData.get(u)),null==g&&(g={id:u,content:this.options.defaultGroup+u}),this._updateGroup(g,u),this.groups[u].setItems(i[u])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},y.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=m.option.asSize(3*this.props.width),this.svg.style.left=m.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var n=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var r=n*(this.props.width/o);this.svg.style.left=-this.props.width-r+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},y.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}m.insertSort(t,function(t,e){var i=t.zIndex,n=e.zIndex;return void 0===i&&(i=0),void 0===n&&(n=0),i==n?0:i<n?-1:1});for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=t[o].id;return n},y.prototype._updateGraph=function(){if(c.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},n=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),r=this._getSortedGroupIds();if(0<r.length){var s={};for(this._getRelevantData(r,s,n,o),this._applySampling(r,s),e=0;e<r.length;e++)this._convertXcoordinates(s[r[e]]);if(this._getYRanges(r,s,i),1==this._updateYAxis(r,i))return c.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0;this.abortedGraphUpdate=!1;var a=void 0;for(e=0;e<r.length;e++)t=this.groups[r[e]],!0===this.options.stack&&"line"===this.options.style&&(null!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(null!=a&&(this._stack(s[t.id],s[a.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==a.options.shaded.orientation?(a.options.shaded.orientation="group",a.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=a.id))),a=t)),this._convertYcoordinates(s[r[e]],t);var l={};for(e=0;e<r.length;e++)if("line"===(t=this.groups[r[e]]).options.style&&1==t.options.shaded.enabled){var u=s[r[e]];if(null==u||0==u.length)continue;if(l.hasOwnProperty(r[e])||(l[r[e]]=f.calcPath(u,t)),"group"===t.options.shaded.orientation){var h=t.options.shaded.groupId;if(-1===r.indexOf(h)){console.log(t.id+": Unknown shading group target given:"+h);continue}l.hasOwnProperty(h)||(l[h]=f.calcPath(s[h],this.groups[h])),f.drawShading(l[r[e]],t,l[h],this.framework)}else f.drawShading(l[r[e]],t,void 0,this.framework)}for(p.draw(r,s,this.framework),e=0;e<r.length;e++)if(t=this.groups[r[e]],0<s[r[e]].length)switch(t.options.style){case"line":l.hasOwnProperty(r[e])||(l[r[e]]=f.calcPath(s[r[e]],t)),f.draw(l[r[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||g.draw(s[r[e]],t,this.framework)}}}return c.cleanupElements(this.svgElements),!1},y.prototype._stack=function(t,e){for(var i,n,o,r,s,a=i=0;a<t.length;a++){s=r=void 0;for(var l=i;l<e.length;l++){if(e[l].x===t[a].x){r=e[l],s=e[l],i=l;break}if(e[l].x>t[a].x){s=e[l],r=0==l?s:e[l-1],i=l;break}}void 0===s&&(r=e[e.length-1],s=e[e.length-1]),n=s.x-r.x,o=s.y-r.y,t[a].y=0==n?t[a].orginalY+s.y:t[a].orginalY+o/n*(t[a].x-r.x)+r.y}},y.prototype._getRelevantData=function(t,e,i,n){var o,r,s,a;if(0<t.length)for(r=0;r<t.length;r++){var l=(o=this.groups[t[r]]).getItems();if(1==o.options.sort){var u=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},h=Math.max(0,m.binarySearchValue(l,i,"x","before",u)),c=Math.min(l.length,m.binarySearchValue(l,n,"x","after",u)+1);c<=0&&(c=l.length);var d=new Array(c-h);for(s=h;s<c;s++)a=o.itemsData[s],d[s-h]=a;e[t[r]]=d}else e[t[r]]=o.itemsData}},y.prototype._applySampling=function(t,e){if(0<t.length)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var n=e[t[i]];if(0<n.length){var o,r=n.length,s=r/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x));o=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(s)));for(var a=new Array(r),l=0;l<r;l+=o){a[Math.round(l/o)]=n[l]}e[t[i]]=a.splice(0,Math.round(r/o))}}},y.prototype._getYRanges=function(t,e,i){var n,o,r,s,a=[],l=[];if(0<t.length){for(r=0;r<t.length;r++)n=e[t[r]],s=this.groups[t[r]].options,0<n.length&&(o=this.groups[t[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(n):l=l.concat(n):i[t[r]]=o.getYRange(n,t[r]));p.getStackedYRange(a,i,t,"__barStackLeft","left"),p.getStackedYRange(l,i,t,"__barStackRight","right")}},y.prototype._updateYAxis=function(t,e){var i,n,o=!1,r=!1,s=!1,a=1e9,l=1e9,u=-1e9,h=-1e9;if(0<t.length){for(var c=0;c<t.length;c++){var d=this.groups[t[c]];d&&"right"!=d.options.yAxisOrientation?(r=!0,u=-(a=1e9)):d&&d.options.yAxisOrientation&&(s=!0,h=-(l=1e9))}for(c=0;c<t.length;c++)e.hasOwnProperty(t[c])&&!0!==e[t[c]].ignore&&(i=e[t[c]].min,n=e[t[c]].max,"right"!=e[t[c]].yAxisOrientation?(r=!0,a=i<a?i:a,u=u<n?n:u):(s=!0,l=i<l?i:l,h=h<n?n:h));1==r&&this.yAxisLeft.setRange(a,u),1==s&&this.yAxisRight.setRange(l,h)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,o=(0==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o),this.yAxisRight.redraw()||o);var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(c=0;c<p.length;c++)-1!=t.indexOf(p[c])&&t.splice(t.indexOf(p[c]),1);return o},y.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},y.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,null!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0},y.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(i.convertValue(t[o].y));e.setZeroPosition(Math.min(n,i.convertValue(0)))},t.exports=y},function(t,e,i){var n,o=i(58),s=(n=o)&&n.__esModule?n:{default:n};var r=i(1),a=i(88),l=i(121),u=i(152);function h(t,e,i,n){this.id=r.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=r.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}(h.prototype=new l).addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},h.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},h.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},h.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);r.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},h.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},h.prototype._redrawGroupIcons=function(){var t;a.prepareElements(this.svgElements);var e=this.options.iconWidth,i=11.5;t="left"===this.options.orientation?4:this.width-e-4;var n=(0,s.default)(this.groups);n.sort(function(t,e){return t<e?-1:1});for(var o=0;o<n.length;o++){var r=n[o];!0!==this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&!0!==this.linegraphOptions.visibility[r]||(this.groups[r].getLegend(e,15,this.framework,t,i),i+=19)}a.cleanupElements(this.svgElements),this.iconsRemoved=!1},h.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(a.prepareElements(this.svgElements),a.cleanupElements(this.svgElements),this.iconsRemoved=!0)},h.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},h.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},h.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},h.prototype.redraw=function(){var t=!1,e=0;for(var i in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var n=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var r=this.options.orientation,s=this.options.showMinorLabels,a=this.options.showMajorLabels;n.minorLabelHeight=s?n.minorCharHeight:0,n.majorLabelHeight=a?n.majorCharHeight:0,n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===r?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(r)}return t},h.prototype._redrawLabels=function(){var n=this;a.prepareElements(this.DOMelements.lines),a.prepareElements(this.DOMelements.labels);var o=this.options.orientation,t=null!=this.options[o].range?this.options[o].range:{},e=!0;null!=t.max&&(this.range.end=t.max,e=!1);var i=!0;null!=t.min&&(this.range.start=t.min,i=!1),this.scale=new u(this.range.start,this.range.end,i,e,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[o].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(t){var e=t.y,i=t.major;n.options.showMinorLabels&&!1===i&&n._redrawLabel(e-2,t.val,o,"vis-y-axis vis-minor",n.props.minorCharHeight),i&&0<=e&&n._redrawLabel(e-2,t.val,o,"vis-y-axis vis-major",n.props.majorCharHeight),!0===n.master&&(i?n._redrawLine(e,o,"vis-grid vis-horizontal vis-major",n.options.majorLinesOffset,n.props.majorLineWidth):n._redrawLine(e,o,"vis-grid vis-horizontal vis-minor",n.options.minorLinesOffset,n.props.minorLineWidth))});var r=0;void 0!==this.options[o].title&&void 0!==this.options[o].title.text&&(r=this.props.titleCharHeight);var s=!0===this.options.icons?Math.max(this.options.iconWidth,r)+this.options.labelOffsetX+15:r+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-s&&!0===this.options.visible?(this.width=this.maxLabelSize+s,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),!0):this.maxLabelSize<this.width-s&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+s),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),!0):(a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),!1)},h.prototype.convertValue=function(t){return this.scale.convertValue(t)},h.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},h.prototype._redrawLabel=function(t,e,i,n,o){var r=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=n,r.innerHTML=e,"left"===i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var s=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*s&&(this.maxLabelSize=e.length*s)},h.prototype._redrawLine=function(t,e,i,n,o){if(!0===this.master){var r=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===e?r.style.left=this.width-n+"px":r.style.right=this.width-n+"px",r.style.width=o+"px",r.style.top=t+"px"}},h.prototype._redrawTitle=function(t){if(a.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&r.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)},h.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",n.appendChild(i),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(o),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}},t.exports=h},function(t,e){function i(t,e,i,n,o,r){var s=6<arguments.length&&void 0!==arguments[6]&&arguments[6],a=7<arguments.length&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=a,i||n){var l=this,u=function(t){var e=t-t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);return t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>l.magnitudefactor*l.minorSteps[l.minorStepIdx]*.5?e+l.magnitudefactor*l.minorSteps[l.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=0<t?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var n=0;i<0&&(n=i);for(var o=!1,r=n;Math.abs(r)<=Math.abs(i);r++){this.magnitudefactor=Math.pow(10,r);for(var s=0;s<this.minorSteps.length;s++){if(e<=this.magnitudefactor*this.minorSteps[s]){o=!0,this.minorStepIdx=s;break}}if(!0===o)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,n=this._start+i;1e-5<this._end-n;n+=e)n!=this._start&&t.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return t},i.prototype.followScale=function(t){function e(){s.magnitudefactor*=2}function i(){s.magnitudefactor/=2}var n=this.minorStepIdx,o=this._start,r=this._end,s=this;t.minorStepIdx<=1&&this.minorStepIdx<=1||1<t.minorStepIdx&&1<this.minorStepIdx||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==n||e(),e()):(this.minorStepIdx=2,1==n||i(),i()));t.getLines();for(var a=t.convertValue(0),l=t.getStep()*t.scale,u=!1,h=0;!u&&h++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=o,this._end=this._start+c;var d=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var g=a-d;this._end+=g/this.scale,this._start=this._end-c}else this.autoScaleStart?this._start-=f/this.scale:this._start+=p-f/this.scale,this._end=this._start+c;if(!this.autoScaleEnd&&this._end>r+1e-5)i(),u=!1;else{if(!this.autoScaleStart&&this._start<o-1e-5){if(!(this.zeroAlign&&0<=o)){i(),u=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}u=!(this.autoScaleStart&&this.autoScaleEnd&&c<r-o)||(e(),!1)}}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,e,i){var n,o=i(62),r=(n=o)&&n.__esModule?n:{default:n};var s=i(1),a=(i(88),i(154)),l=i(156),u=i(155);function h(t,e,i,n){this.id=e;this.options=s.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}h.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},h.prototype.getItems=function(){return this.itemsData},h.prototype.setZeroPosition=function(t){this.zeroPosition=t},h.prototype.setOptions=function(t){if(void 0!==t){s.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,r.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},h.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},h.prototype.getLegend=function(t,e,i,n,o){null!=i&&null!=i||(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]});switch(null!=n&&null!=n||(n=0),null!=o&&null!=o||(o=.5*e),this.options.style){case"line":l.drawIcon(this,n,o,t,e,i);break;case"points":case"point":u.drawIcon(this,n,o,t,e,i);break;case"bar":a.drawIcon(this,n,o,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},h.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=h},function(t,e,i){var y=i(88),_=i(155);function b(t,e){}b.drawIcon=function(t,e,i,n,o,r){var s=.5*o,a=y.getSVGElement("rect",r.svgElements,r.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",i-s),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*s),a.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*n),u=t.options.barChart.width/l,h=Math.round(.4*o),c=Math.round(.75*o),d=Math.round((n-2*l)/3);if(y.drawBar(e+.5*l+d,i+s-h-1,l,h,t.className+" vis-bar",r.svgElements,r.svg,t.style),y.drawBar(e+1.5*l+d+2,i+s-c-1,l,c,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled){var p={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/u,className:t.className};y.drawPoint(e+.5*l+d,i+s-h-1,p,r.svgElements,r.svg),y.drawPoint(e+1.5*l+d+2,i+s-c-1,p,r.svgElements,r.svg)}},b.draw=function(t,e,i){var n,o,r,s,a,l,u=[],h={},c=0;for(a=0;a<t.length;a++)if("bar"===(s=i.groups[t[a]]).options.style&&!0===s.visible&&(void 0===i.options.groups.visibility[t[a]]||!0===i.options.groups.visibility[t[a]]))for(l=0;l<e[t[a]].length;l++)u.push({screen_x:e[t[a]][l].screen_x,screen_end:e[t[a]][l].screen_end,screen_y:e[t[a]][l].screen_y,x:e[t[a]][l].x,end:e[t[a]][l].end,y:e[t[a]][l].y,groupId:t[a],label:e[t[a]][l].label}),c+=1;if(0!==c)for(u.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),b._getDataIntersections(h,u),a=0;a<u.length;a++){var d=null!=(s=i.groups[u[a].groupId]).options.barChart.minWidth?s.options.barChart.minWidth:.1*s.options.barChart.width,p=0;if(void 0===h[o=u[a].screen_x])a+1<u.length&&(n=Math.abs(u[a+1].screen_x-o)),r=b._getSafeDrawData(n,s,d);else{var f=a+(h[o].amount-h[o].resolved);h[o].resolved;f<u.length&&(n=Math.abs(u[f].screen_x-o)),r=b._getSafeDrawData(n,s,d),h[o].resolved+=1,!0===s.options.stack&&!0!==s.options.excludeFromStacking?u[a].screen_y<s.zeroPosition?(p=h[o].accumulatedNegative,h[o].accumulatedNegative+=s.zeroPosition-u[a].screen_y):(p=h[o].accumulatedPositive,h[o].accumulatedPositive+=s.zeroPosition-u[a].screen_y):!0===s.options.barChart.sideBySide&&(r.width=r.width/h[o].amount,r.offset+=h[o].resolved*r.width-.5*r.width*(h[o].amount+1))}var g=r.width,m=u[a].screen_x;if(null!=u[a].screen_end?m+=.5*(g=u[a].screen_end-u[a].screen_x):m+=r.offset,y.drawBar(m,u[a].screen_y-p,g,s.zeroPosition-u[a].screen_y,s.className+" vis-bar",i.svgElements,i.svg,s.style),!0===s.options.drawPoints.enabled){var v={screen_x:u[a].screen_x,screen_y:u[a].screen_y-p,x:u[a].x,y:u[a].y,groupId:u[a].groupId,label:u[a].label};_.draw([v],s,i,r.offset)}}},b._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].screen_x-e[n].screen_x)),0<n&&(i=Math.min(i,Math.abs(e[n-1].screen_x-e[n].screen_x))),0===i&&(void 0===t[e[n].screen_x]&&(t[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].screen_x].amount+=1)},b._getSafeDrawData=function(t,e,i){var n,o;return t<e.options.barChart.width&&0<t?(n=t<i?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(n=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:n,offset:o}},b.getStackedYRange=function(t,e,i,n,o){if(0<t.length){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var r={};b._getDataIntersections(r,t),e[n]=b._getStackedYRange(r,t),e[n].yAxisOrientation=o,i.push(n)}},b._getStackedYRange=function(t,e){for(var i,n=e[0].screen_y,o=e[0].screen_y,r=0;r<e.length;r++)void 0===t[i=e[r].screen_x]?(n=n>e[r].screen_y?e[r].screen_y:n,o=o<e[r].screen_y?e[r].screen_y:o):e[r].screen_y<0?t[i].accumulatedNegative+=e[r].screen_y:t[i].accumulatedPositive+=e[r].screen_y;for(var s in t)t.hasOwnProperty(s)&&(n=(n=n>t[s].accumulatedNegative?t[s].accumulatedNegative:n)>t[s].accumulatedPositive?t[s].accumulatedPositive:n,o=(o=o<t[s].accumulatedNegative?t[s].accumulatedNegative:o)<t[s].accumulatedPositive?t[s].accumulatedPositive:o);return{min:n,max:o}},t.exports=b},function(t,e,i){var n,o=i(62),a=(n=o)&&n.__esModule?n:{default:n};var l=i(88);function r(t,e){}function u(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}r.draw=function(t,e,i,n){n=n||0;for(var o=function(t,e){var i=void 0;t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender);e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender);return i}(i,e),r=0;r<t.length;r++)if(o){var s=o(t[r],e);!0!==s&&"object"!==(void 0===s?"undefined":(0,a.default)(s))||l.drawPoint(t[r].screen_x+n,t[r].screen_y,u(e,s),i.svgElements,i.svg,t[r].label)}else l.drawPoint(t[r].screen_x+n,t[r].screen_y,u(e),i.svgElements,i.svg,t[r].label)},r.drawIcon=function(t,e,i,n,o,r){var s=.5*o,a=l.getSVGElement("rect",r.svgElements,r.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",i-s),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*s),a.setAttributeNS(null,"class","vis-outline"),l.drawPoint(e+.5*n,i,u(t),r.svgElements,r.svg)},t.exports=r},function(t,e,i){var c=i(88);function n(t,e){}n.calcPath=function(t,e){if(null!=t&&0<t.length){return 1==e.options.interpolation.enabled?n._catmullRom(t,e):n._linear(t)}},n.drawIcon=function(t,e,i,n,o,r){var s,a,l=.5*o,u=c.getSVGElement("rect",r.svgElements,r.svg);if(u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",i-l),u.setAttributeNS(null,"width",n),u.setAttributeNS(null,"height",2*l),u.setAttributeNS(null,"class","vis-outline"),(s=c.getSVGElement("path",r.svgElements,r.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&s.setAttributeNS(null,"style",t.style),s.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+n)+","+i),1==t.options.shaded.enabled&&(a=c.getSVGElement("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?a.setAttributeNS(null,"d","M"+e+", "+(i-l)+"L"+e+","+i+" L"+(e+n)+","+i+" L"+(e+n)+","+(i-l)):a.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+l)+" L"+(e+n)+","+(i+l)+"L"+(e+n)+","+i),a.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&a.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var h={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};c.drawPoint(e+.5*n,i,h,r.svgElements,r.svg)}},n.drawShading=function(t,e,i,n){if(1==e.options.shaded.enabled){var o,r=Number(n.svg.style.height.replace("px","")),s=c.getSVGElement("path",n.svgElements,n.svg),a="L";1==e.options.interpolation.enabled&&(a="C");var l=0;l="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?r:Math.min(Math.max(0,e.zeroPosition),r),o="group"==e.options.shaded.orientation&&null!=i&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+l+" H"+t[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",o)}},n.draw=function(t,e,i){if(null!=t&&null!=t){var n=c.getSVGElement("path",i.svgElements,i.svg);n.setAttributeNS(null,"class",e.className),void 0!==e.style&&n.setAttributeNS(null,"style",e.style);var o="L";1==e.options.interpolation.enabled&&(o="C"),n.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1))}},n.serializePath=function(t,e,i){if(t.length<2)return"";var n=e;if(i)for(var o=t.length-2;0<o;o--)n+=t[o][0]+","+t[o][1]+" ";else for(o=1;o<t.length;o++)n+=t[o][0]+","+t[o][1]+" ";return n},n._catmullRomUniform=function(t){var e,i,n,o,r,s,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var l=t.length,u=0;u<l-1;u++)e=0==u?t[0]:t[u-1],i=t[u],n=t[u+1],o=u+2<l?t[u+2]:n,r={screen_x:(-e.screen_x+6*i.screen_x+n.screen_x)*(1/6),screen_y:(-e.screen_y+6*i.screen_y+n.screen_y)*(1/6)},s={screen_x:(i.screen_x+6*n.screen_x-o.screen_x)*(1/6),screen_y:(i.screen_y+6*n.screen_y-o.screen_y)*(1/6)},a.push([r.screen_x,r.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([n.screen_x,n.screen_y]);return a},n._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var n,o,r,s,a,l,u,h,c,d,p,f,g,m,v,y,_,b,w,C=[];C.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var S=t.length,x=0;x<S-1;x++)n=0==x?t[0]:t[x-1],o=t[x],r=t[x+1],s=x+2<S?t[x+2]:r,u=Math.sqrt(Math.pow(n.screen_x-o.screen_x,2)+Math.pow(n.screen_y-o.screen_y,2)),h=Math.sqrt(Math.pow(o.screen_x-r.screen_x,2)+Math.pow(o.screen_y-r.screen_y,2)),c=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),m=Math.pow(c,i),y=Math.pow(c,2*i),v=Math.pow(h,i),_=Math.pow(h,2*i),w=Math.pow(u,i),d=2*(b=Math.pow(u,2*i))+3*w*v+_,p=2*y+3*m*v+_,0<(f=3*w*(w+v))&&(f=1/f),0<(g=3*m*(m+v))&&(g=1/g),a={screen_x:(-_*n.screen_x+d*o.screen_x+b*r.screen_x)*f,screen_y:(-_*n.screen_y+d*o.screen_y+b*r.screen_y)*f},l={screen_x:(y*o.screen_x+p*r.screen_x-_*s.screen_x)*g,screen_y:(y*o.screen_y+p*r.screen_y-_*s.screen_y)*g},0==a.screen_x&&0==a.screen_y&&(a=o),0==l.screen_x&&0==l.screen_y&&(l=r),C.push([a.screen_x,a.screen_y]),C.push([l.screen_x,l.screen_y]),C.push([r.screen_x,r.screen_y]);return C},n._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=n},function(t,e,i){var n,o=i(58),u=(n=o)&&n.__esModule?n:{default:n};var r=i(1),h=i(88),s=i(121);function a(t,e,i,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=r.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}(a.prototype=new s).clear=function(){this.groups={},this.amountOfGroups=0},a.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},a.prototype.updateGroup=function(t,e){this.groups[t]=e},a.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},a.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},a.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},a.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},a.prototype.setOptions=function(t){r.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},a.prototype.redraw=function(){var t=0,e=(0,u.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var r="";for(i=0;i<e.length;i++){n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />")}this.dom.textArea.innerHTML=r,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},a.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,u.default)(this.groups);t.sort(function(t,e){return t<e?-1:1}),h.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),n=i,o=this.options.iconSize,r=.75*this.options.iconSize,s=i+.5*r+3;this.svg.style.width=o+5+i+"px";for(var a=0;a<t.length;a++){var l=t[a];1!=this.groups[l].visible||void 0!==this.linegraphOptions.visibility[l]&&1!=this.linegraphOptions.visibility[l]||(this.groups[l].getLegend(o,r,this.framework,n,s),s+=r+this.options.iconSpacing)}}},t.exports=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",n="boolean",o="number",r="date",s="object",a="moment",l={configure:{enabled:{boolean:n},filter:{boolean:n,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:n,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:n},sampling:{boolean:n},stack:{boolean:n},graphHeight:{string:i,number:o},shaded:{enabled:{boolean:n},orientation:{string:["bottom","top","zero","group"]},groupId:{object:s},__type__:{boolean:n,object:s}},style:{string:["line","bar","points"]},barChart:{width:{number:o},minWidth:{number:o},sideBySide:{boolean:n},align:{string:["left","center","right"]},__type__:{object:s}},interpolation:{enabled:{boolean:n},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:o},__type__:{object:s,boolean:n}},drawPoints:{enabled:{boolean:n},onRender:{function:"function"},size:{number:o},style:{string:["square","circle"]},__type__:{object:s,boolean:n,function:"function"}},dataAxis:{showMinorLabels:{boolean:n},showMajorLabels:{boolean:n},icons:{boolean:n},width:{string:i,number:o},visible:{boolean:n},alignZeros:{boolean:n},left:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:i,number:o,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},right:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:i,number:o,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},__type__:{object:s}},legend:{enabled:{boolean:n},icons:{boolean:n},left:{visible:{boolean:n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},right:{visible:{boolean:n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},__type__:{object:s,boolean:n}},groups:{visibility:{any:"any"},__type__:{object:s}},autoResize:{boolean:n},throttleRedraw:{number:o},clickToUse:{boolean:n},end:{number:o,date:r,string:i,moment:a},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},height:{string:i,number:o},hiddenDates:{start:{date:r,number:o,string:i,moment:a},end:{date:r,number:o,string:i,moment:a},repeat:{string:i},__type__:{object:s,array:"array"}},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},max:{date:r,number:o,string:i,moment:a},maxHeight:{number:o,string:i},maxMinorChars:{number:o},min:{date:r,number:o,string:i,moment:a},minHeight:{number:o,string:i},moveable:{boolean:n},multiselect:{boolean:n},orientation:{string:i},showCurrentTime:{boolean:n},showMajorLabels:{boolean:n},showMinorLabels:{boolean:n},start:{date:r,number:o,string:i,moment:a},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:s}},width:{string:i,number:o},zoomable:{boolean:n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},zIndex:{number:o},__type__:{object:s}};e.allOptions=l,e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,i,e){i.util=e(1),i.DOMutil=e(88),i.DataSet=e(89),i.DataView=e(93),i.Queue=e(92),i.Network=e(160),i.network={Images:e(165),dotparser:e(162),gephiParser:e(163),allOptions:e(230)},i.network.convertDot=function(t){return i.network.dotparser.DOTToGraph(t)},i.network.convertGephi=function(t,e){return i.network.gephiParser.parseGephi(t,e)},i.moment=e(82),i.Hammer=e(113),i.keycharm=e(116)},function(t,e,i){i(161);var n=i(99),o=i(1),r=(i(89),i(93),i(162)),s=i(163),a=i(141),l=i(164),u=i(165).default,h=i(167).default,c=i(168).default,d=i(201).default,p=i(212).default,f=i(221).default,g=i(223).default,m=i(224).default,v=i(225).default,y=i(226).default,_=i(228).default,b=i(210).default,w=i(229).default,C=i(147).default,S=i(145).default,x=i(145).printStyle,k=i(230),O=k.allOptions,E=k.configureOptions,L=i(231).default;function D(t,e,i){var n=this;if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:l,clickToUse:!1},o.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new u(function(){return n.body.emitter.emit("_requestRedraw")}),this.groups=new h,this.canvas=new m(this.body),this.selectionHandler=new _(this.body,this.canvas),this.interactionHandler=new y(this.body,this.canvas,this.selectionHandler),this.view=new v(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new p(this.body),this.layoutEngine=new b(this.body),this.clustering=new f(this.body),this.manipulation=new w(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new c(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new d(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new L(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}n(D.prototype),D.prototype.setOptions=function(t){var e=this;if(void 0!==t){!0===S.validate(t,O)&&console.log("%cErrors have been found in the supplied options object.",x);if(o.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new C(this,this.body.container,E,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};o.deepExtend(i.nodes,this.nodesHandler.options),o.deepExtend(i.edges,this.edgesHandler.options),o.deepExtend(i.layout,this.layoutEngine.options),o.deepExtend(i.interaction,this.selectionHandler.options),o.deepExtend(i.interaction,this.renderer.options),o.deepExtend(i.interaction,this.interactionHandler.options),o.deepExtend(i.manipulation,this.manipulation.options),o.deepExtend(i.physics,this.physics.options),o.deepExtend(i.global,this.canvas.options),o.deepExtend(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new a(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},D.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&!1===t[i].options.hidden&&this.body.nodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!1===e[n].options.hidden&&this.body.edgeIndices.push(e[n].id)},D.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t._updateVisibleIndices(),t.body.emitter.emit("_requestRedraw"),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},D.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=r.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=s.parseGephi(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},D.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)delete this.body.nodes[t];for(var e in this.body.edges)delete this.body.edges[e];o.recursiveDOMDelete(this.body.container)},D.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),n=void 0===n?r:Math.max(r,n),o+=r)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,o)},D.prototype.isActive=function(){return!this.activator||this.activator.active},D.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},D.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},D.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},D.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},D.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},D.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},D.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},D.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},D.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},D.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},D.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},D.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},D.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},D.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},D.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},D.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},D.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},D.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},D.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},D.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},D.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},D.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},D.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},D.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},D.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},D.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},D.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},D.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},D.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},D.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},D.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},D.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},D.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},D.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},D.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},D.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},D.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},D.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},D.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},D.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},D.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},D.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},D.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},D.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=D},function(t,e){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),e+=.275*(i*=1.15);var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(t,e-(s-r)),this.lineTo(t+o,e+r),this.lineTo(t-o,e+r),this.lineTo(t,e-(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),e-=.275*(i*=1.15);var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(t,e+(s-r)),this.lineTo(t+o,e-r),this.lineTo(t-o,e-r),this.lineTo(t,e+(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),e+=.1*(i*=.82);for(var n=0;n<10;n++){var o=n%2==0?1.3*i:.5*i;this.lineTo(t+o*Math.sin(2*n*Math.PI/10),e-o*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,n,o){var r=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,270*r,360*r,!1),this.lineTo(t+i,e+n-o),this.arc(t+i-o,e+n-o,o,0,90*r,!1),this.lineTo(t+o,e+n),this.arc(t+o,e+n-o,o,90*r,180*r,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*r,270*r,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,n){var o=i/2*.5522848,r=n/2*.5522848,s=t+i,a=e+n,l=t+i/2,u=e+n/2;this.beginPath(),this.moveTo(t,u),this.bezierCurveTo(t,u-r,l-o,e,l,e),this.bezierCurveTo(l+o,e,s,u-r,s,u),this.bezierCurveTo(s,u+r,l+o,a,l,a),this.bezierCurveTo(l-o,a,t,u+r,t,u),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,n){var o=n*(1/3),r=i/2*.5522848,s=o/2*.5522848,a=t+i,l=e+o,u=t+i/2,h=e+o/2,c=e+(n-o/2),d=e+n;this.beginPath(),this.moveTo(a,h),this.bezierCurveTo(a,h+s,u+r,l,u,l),this.bezierCurveTo(u-r,l,t,h+s,t,h),this.bezierCurveTo(t,h-s,u-r,e,u,e),this.bezierCurveTo(u+r,e,a,h-s,a,h),this.lineTo(a,c),this.bezierCurveTo(a,c+s,u+r,d,u,d),this.bezierCurveTo(u-r,d,t,c+s,t,c),this.lineTo(t,h)},CanvasRenderingContext2D.prototype.arrowEndpoint=function(t,e,i,n){var o=t-n*Math.cos(i),r=e-n*Math.sin(i),s=t-.9*n*Math.cos(i),a=e-.9*n*Math.sin(i),l=o+n/3*Math.cos(i+.5*Math.PI),u=r+n/3*Math.sin(i+.5*Math.PI),h=o+n/3*Math.cos(i-.5*Math.PI),c=r+n/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(t,e),this.lineTo(l,u),this.lineTo(s,a),this.lineTo(h,c),this.closePath()},CanvasRenderingContext2D.prototype.circleEndpoint=function(t,e,i,n){var o=.4*n,r=t-o*Math.cos(i),s=e-o*Math.sin(i);this.circle(r,s,o)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,n,o){this.beginPath(),this.moveTo(t,e);for(var r=o.length,s=i-t,a=n-e,l=a/s,u=Math.sqrt(s*s+a*a),h=0,c=!0,d=0,p=o[0];.1<=u;)u<(p=o[h++%r])&&(p=u),d=Math.sqrt(p*p/(1+l*l)),t+=d=s<0?-d:d,e+=l*d,!0===c?this.lineTo(t,e):this.moveTo(t,e),u-=p,c=!c})},function(t,e,i){var n,o=i(55),r=(n=o)&&n.__esModule?n:{default:n};function a(t){return c=t,function(){var t={};d=0,p=c.charAt(0),k(),"strict"===f&&(t.strict=!0,k());"graph"!==f&&"digraph"!==f||(t.type=f,k());g===s.IDENTIFIER&&(t.id=f,k());if("{"!=f)throw N("Angle bracket { expected");if(k(),O(t),"}"!=f)throw N("Angle bracket } expected");if(k(),""===f)return k(),delete t.node,delete t.edge,delete t.graph,t;throw N("End of file expected")}()}var l={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},u=(0,r.default)(l);u.color="color.color";var s={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},h={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},c="",d=0,p="",f="",g=s.NULL;function m(){d++,p=c.charAt(d)}function v(){return c.charAt(d+1)}var y=/[a-zA-Z_0-9.:#]/;function _(t){return y.test(t)}function b(t,e){if(t=t||{},e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function w(t,e,i){for(var n=e.split("."),o=t;n.length;){var r=n.shift();n.length?(o[r]||(o[r]={}),o=o[r]):o[r]=i}}function C(t,e){for(var i,n,o=null,r=[t],s=t;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(e.id===s.nodes[i].id){o=s.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=b(o.attr,t.node))),i=r.length-1;0<=i;i--){var a=r[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(o)&&a.nodes.push(o)}e.attr&&(o.attr=b(o.attr,e.attr))}function S(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=b({},t.edge);e.attr=b(i,e.attr)}}function x(t,e,i,n,o){var r={from:e,to:i,type:n};return t.edge&&(r.attr=b({},t.edge)),r.attr=b(r.attr||{},o),r}function k(){for(g=s.NULL,f="";" "===p||"\t"===p||"\n"===p||"\r"===p;)m();do{var t=!1;if("#"===p){for(var e=d-1;" "===c.charAt(e)||"\t"===c.charAt(e);)e--;if("\n"===c.charAt(e)||""===c.charAt(e)){for(;""!=p&&"\n"!=p;)m();t=!0}}if("/"===p&&"/"===v()){for(;""!=p&&"\n"!=p;)m();t=!0}if("/"===p&&"*"===v()){for(;""!=p;){if("*"===p&&"/"===v()){m(),m();break}m()}t=!0}for(;" "===p||"\t"===p||"\n"===p||"\r"===p;)m()}while(t);if(""!==p){var i=p+v();if(h[i])return g=s.DELIMITER,f=i,m(),void m();if(h[p])return g=s.DELIMITER,f=p,void m();if(_(p)||"-"===p){for(f+=p,m();_(p);)f+=p,m();return"false"===f?f=!1:"true"===f?f=!0:isNaN(Number(f))||(f=Number(f)),void(g=s.IDENTIFIER)}if('"'===p){for(m();""!=p&&('"'!=p||'"'===p&&'"'===v());)'"'===p?(f+=p,m()):"\\"===p&&"n"===v()?(f+="\n",m()):f+=p,m();if('"'!=p)throw N('End of string " expected');return m(),void(g=s.IDENTIFIER)}for(g=s.UNKNOWN;""!=p;)f+=p,m();throw new SyntaxError('Syntax error in part "'+T(f,30)+'"')}g=s.DELIMITER}function O(t){for(;""!==f&&"}"!=f;)E(t),";"===f&&k()}function E(t){var e=L(t);if(e)D(t,e);else if(!function(t){{if("node"===f)return k(),t.node=I(),"node";if("edge"===f)return k(),t.edge=I(),"edge";if("graph"===f)return k(),t.graph=I(),"graph"}return null}(t)){if(g!=s.IDENTIFIER)throw N("Identifier expected");var i=f;if(k(),"="===f){if(k(),g!=s.IDENTIFIER)throw N("Identifier expected");t[i]=f,k()}else!function(t,e){var i={id:e},n=I();n&&(i.attr=n);C(t,i),D(t,e)}(t,i)}}function L(t){var e=null;if("subgraph"===f&&(e={type:"subgraph"},k(),g===s.IDENTIFIER&&(e.id=f,k())),"{"===f){if(k(),(e=e||{}).parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,O(e),"}"!=f)throw N("Angle bracket } expected");k(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function D(t,e){for(;"->"===f||"--"===f;){var i,n=f;k();var o=L(t);if(o)i=o;else{if(g!=s.IDENTIFIER)throw N("Identifier or subgraph expected");C(t,{id:i=f}),k()}S(t,x(t,e,i,n,I())),e=i}}function I(){for(var t=null;"["===f;){for(k(),t={};""!==f&&"]"!=f;){if(g!=s.IDENTIFIER)throw N("Attribute name expected");var e=f;if(k(),"="!=f)throw N("Equal sign = expected");if(k(),g!=s.IDENTIFIER)throw N("Attribute value expected");w(t,e,f),k(),","==f&&k()}if("]"!=f)throw N("Bracket ] expected");k()}return t}function N(t){return new SyntaxError(t+', got "'+T(f,30)+'" (char '+d+")")}function T(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function M(t,e,i){for(var n=e.split("."),o=n.pop(),r=t,s=0;s<n.length;s++){var a=n[s];a in r||(r[a]={}),r=r[a]}return r[o]=i,t}function A(e,t){var i={};for(var n in e)if(e.hasOwnProperty(n)){var o=t[n];Array.isArray(o)?o.forEach(function(t){M(i,t,e[n])}):M(i,"string"==typeof o?o:n,e[n])}return i}e.parseDOT=a,e.DOTToGraph=function(t){var e=a(t),r={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};b(e,A(t.attr,l)),e.image&&(e.shape="image"),r.nodes.push(e)}),e.edges){var s=function(t){var e={from:t.from,to:t.to};return b(e,A(t.attr,u)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(o){var t,e;t=o.from instanceof Object?o.from.nodes:{id:o.from},e=o.to instanceof Object?o.to.nodes:{id:o.to},o.from instanceof Object&&o.from.edges&&o.from.edges.forEach(function(t){var e=s(t);r.edges.push(e)}),function(e,t,i){Array.isArray(e)?e.forEach(function(e){Array.isArray(t)?t.forEach(function(t){i(e,t)}):i(e,t)}):Array.isArray(t)?t.forEach(function(t){i(e,t)}):i(e,t)}(t,e,function(t,e){var i=x(r,t.id,e.id,o.type,o.attr),n=s(i);r.edges.push(n)}),o.to instanceof Object&&o.to.edges&&o.to.edges.forEach(function(t){var e=s(t);r.edges.push(e)})})}return e.attr&&(r.options=e.attr),r}},function(t,e){e.parseGephi=function(t,e){var i=[],n=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(o.nodes.fixed=e.fixed),void 0!==e.parseColor&&(o.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(o.edges.inheritColor=e.inheritColor));for(var r=t.edges,s=t.nodes,a=0;a<r.length;a++){var l={},u=r[a];l.id=u.id,l.from=u.source,l.to=u.target,l.attributes=u.attributes,l.label=u.label,l.title=void 0!==u.attributes?u.attributes.title:void 0,"Directed"===u.type&&(l.arrows="to"),u.color&&!1===o.inheritColor&&(l.color=u.color),i.push(l)}for(a=0;a<s.length;a++){var h={},c=s[a];h.id=c.id,h.attributes=c.attributes,h.x=c.x,h.y=c.y,h.label=c.label,h.title=void 0!==c.attributes?c.attributes.title:c.title,!0===o.nodes.parseColor?h.color=c.color:h.color=void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,h.size=c.size,h.fixed=o.nodes.fixed&&void 0!==c.x&&void 0!==c.y,n.push(h)}return{nodes:n,edges:i}}},function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},e.ru_RU=e.ru},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(135)),o=s(i(136)),r=s(i(166));function s(t){return t&&t.__esModule?t:{default:t}}var a=((0,o.default)(l,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var o=new r.default;return(this.images[t]=o).image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,o)},o.image.src=t,o}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),l);function l(t){(0,n.default)(this,l),this.images={},this.imageBroken={},this.callback=t}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e,this.canvas.width=3*t/4,this.canvas.height=e/2,this.coordinates=[[0,0,t/2,e/2],[t/2,0,t/4,e/4],[t/2,e/4,t/8,e/8],[5*t/8,e/4,t/16,e/16]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],o=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,o,r){if(2<e&&this.initialized()){e*=.5;for(var s=0;2<e&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,o,r)}else this._isImageOk()&&t.drawImage(this.image,i,n,o,r)}},{key:"_isImageOk",value:function(t){return!!(t=this.image).complete&&(void 0===t.naturalWidth||0!==t.naturalWidth)}}]),s);function s(t){(0,n.default)(this,s),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(1),a=((0,o.default)(l,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(t.hasOwnProperty(i)&&-1===e.indexOf(i)){var n=t[i];this.add(i,n)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=this.groups[t];if(void 0===e)if(!1===this.options.useDefaultGroups&&0<this.groupsArray.length){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,(e={}).color=this.groups[this.groupsArray[i]],this.groups[t]=e}else{var n=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(e={}).color=this.defaultGroups[n],this.groups[t]=e}return e}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),l);function l(){(0,n.default)(this,l),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(135)),n=o(i(136));function o(t){return t&&t.__esModule?t:{default:t}}var s=i(1),a=i(89),l=i(93),u=i(169).default,h=i(170).default,c=((0,n.default)(d,[{key:"bindEventListeners",value:function(){var i=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(i.nodesListeners,function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==(this.nodeOptions=t)){if(u.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in h.parseOptions(this.options.font,t),this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t,e){var i=1<arguments.length&&void 0!==e&&e,n=this.body.data.nodes;if(t instanceof a||t instanceof l)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new a,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new a}if(n&&s.forEach(this.nodesListeners,function(t,e){n.off(e,t)}),this.body.nodes={},this.body.data.nodes){var o=this;s.forEach(this.nodesListeners,function(t,e){o.body.data.nodes.on(e,t)});var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t,e){for(var i=1<arguments.length&&void 0!==e&&e,n=void 0,o=[],r=0;r<t.length;r++){n=t[r];var s=this.body.data.nodes.get(n),a=this.create(s);o.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(o),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e){for(var i=this.body.nodes,n=!1,o=0;o<t.length;o++){var r=t[o],s=i[r],a=e[o];void 0!==s?n=s.setOptions(a):(n=!0,s=this.create(a),i[r]=s)}!0===n?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t,e){return new(1<arguments.length&&void 0!==e?e:u)(t,this.body,this.images,this.groups,this.options,this.defaultOptions,this.nodeOptions)}},{key:"refresh",value:function(t){var e=0<arguments.length&&void 0!==t&&t,i=this.body.nodes;for(var n in i){var o=void 0;i.hasOwnProperty(n)&&(o=i[n]);var r=this.body.data.nodes.get(n);void 0!==o&&void 0!==r&&(!0===e&&o.setOptions({x:null,y:null}),o.setOptions({fixed:!1}),o.setOptions(r))}}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];e[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];e[this.body.nodeIndices[r]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var n=this.body.nodes[i];e._data[i].x==Math.round(n.x)&&e._data[i].y==Math.round(n.y)||t.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],o={},r=0;r<n.edges.length;r++){var s=n.edges[r];"to"!==e&&s.toId==n.id?void 0===o[s.fromId]&&(i.push(s.fromId),o[s.fromId]=!0):"from"!==e&&s.fromId==n.id&&void 0===o[s.toId]&&(i.push(s.toId),o[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){n.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),d);function d(t,e,i,n){var o=this;if((0,r.default)(this,d),this.body=t,this.images=e,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items,e.data)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";s.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(62)),a=r(i(135)),n=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var l=i(1),u=i(170).default,s=i(175).default,h=i(186).default,c=i(188).default,d=i(189).default,p=i(190).default,f=i(192).default,g=i(193).default,m=i(194).default,v=i(195).default,y=i(196).default,_=i(197).default,b=i(198).default,w=i(199).default,C=i(200).default,S=(i(145).default,i(145).printStyle),x=((0,n.default)(k,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(t){var e=this.options.shape;if(t){if(void 0!==t.id&&(this.id=t.id),void 0===this.id)throw"Node must have an id";if(k.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),"number"==typeof t.group||"string"==typeof t.group&&""!=t.group){var i=this.grouplist.get(t.group);l.deepExtend(this.options,i),this.options.color=l.parseColor(this.options.color)}return k.parseOptions(this.options,t,!0,this.globalOptions),this.choosify(t),this._load_images(),this.updateLabelModule(t),this.updateShape(e),this.labelModule.propagateFonts(this.nodeOptions,t,this.defaultOptions),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw"Option image must be defined for node type '"+this.options.shape+"'";if(void 0===this.imagelist)throw"Internal Error: No images provided";if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw"No unselected image provided";this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"choosify",value:function(t){this.chooser=!0;var e=[t,this.options,this.defaultOptions],i=l.topMost(e,"chosen");if("boolean"==typeof i)this.chooser=i;else if("object"===(void 0===i?"undefined":(0,o.default)(i))){var n=l.topMost(e,["chosen","node"]);"boolean"!=typeof n&&"function"!=typeof n||(this.chooser=n)}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize),this.labelModule.constrain(this.nodeOptions,t,this.defaultOptions),this.labelModule.choosify(this.nodeOptions,t,this.defaultOptions)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new s(this.options,this.body,this.labelModule);break;case"circle":this.shape=new h(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new c(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new d(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new p(this.options,this.body,this.labelModule);break;case"dot":this.shape=new f(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new g(this.options,this.body,this.labelModule);break;case"icon":this.shape=new m(this.options,this.body,this.labelModule);break;case"image":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new y(this.options,this.body,this.labelModule);break;case"star":this.shape=new _(this.options,this.body,this.labelModule);break;case"text":this.shape=new b(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new w(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new C(this.options,this.body,this.labelModule);break;default:this.shape=new g(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"parseOptions",value:function(t,e,i,n){var o=2<arguments.length&&void 0!==i&&i,r=3<arguments.length&&void 0!==n?n:{};if(l.selectiveNotDeepExtend(["color","font","fixed","shadow"],t,e,o),k.checkMass(e),l.mergeOptions(t,e,"shadow",o,r),void 0!==e.color&&null!==e.color){var s=l.parseColor(e.color);l.fillIfDefined(t.color,s)}else!0===o&&null===e.color&&(t.color=l.bridgeObject(r.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),void 0!==e.font&&null!==e.font?u.parseOptions(t.font,e):!0===o&&null===e.font&&(t.font=l.bridgeObject(r.font)),void 0!==e.scaling&&l.mergeOptions(t.scaling,e.scaling,"label",o,r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",S),t.mass=1}}}]),k);function k(t,e,i,n,o,r,s){(0,a.default)(this,k),this.options=l.bridgeObject(o),this.globalOptions=o,this.defaultOptions=r,this.nodeOptions=s,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new u(this.body,this.options,!1),this.setOptions(t)}e.default=x},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var b=r(i(171)),f=r(i(2)),h=r(i(62)),n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var c=i(1),s=((0,o.default)(g,[{key:"setOptions",value:function(t,e){var i=1<arguments.length&&void 0!==e&&e;this.elementOptions=t,this.fontOptions=c.deepExtend({},t.font,!0),void 0!==t.label&&(this.labelDirty=!0),void 0!==t.font&&(g.parseOptions(this.fontOptions,t,i),"string"==typeof t.font?this.baseSize=this.fontOptions.size:"object"===(0,h.default)(t.font)&&void 0!==t.font.size&&(this.baseSize=t.font.size))}},{key:"constrain",value:function(t,e,i){this.fontOptions.constrainWidth=!1,this.fontOptions.maxWdt=-1,this.fontOptions.minWdt=-1;var n=[e,t,i],o=c.topMost(n,"widthConstraint");if("number"==typeof o)this.fontOptions.maxWdt=Number(o),this.fontOptions.minWdt=Number(o);else if("object"===(void 0===o?"undefined":(0,h.default)(o))){var r=c.topMost(n,["widthConstraint","maximum"]);"number"==typeof r&&(this.fontOptions.maxWdt=Number(r));var s=c.topMost(n,["widthConstraint","minimum"]);"number"==typeof s&&(this.fontOptions.minWdt=Number(s))}this.fontOptions.constrainHeight=!1,this.fontOptions.minHgt=-1,this.fontOptions.valign="middle";var a=c.topMost(n,"heightConstraint");if("number"==typeof a)this.fontOptions.minHgt=Number(a);else if("object"===(void 0===a?"undefined":(0,h.default)(a))){var l=c.topMost(n,["heightConstraint","minimum"]);"number"==typeof l&&(this.fontOptions.minHgt=Number(l));var u=c.topMost(n,["heightConstraint","valign"]);"string"==typeof u&&("top"!==u&&"bottom"!==u||(this.fontOptions.valign=u))}}},{key:"choosify",value:function(t,e,i){this.fontOptions.chooser=!0;var n=[e,t,i],o=c.topMost(n,"chosen");if("boolean"==typeof o)this.fontOptions.chooser=o;else if("object"===(void 0===o?"undefined":(0,h.default)(o))){var r=c.topMost(n,["chosen","label"]);"boolean"!=typeof r&&"function"!=typeof r||(this.fontOptions.chooser=r)}}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"propagateFonts",value:function(t,e,i){if(this.fontOptions.multi){var o=function(t,e){if(!t||!t.font)return null;var i=t.font;if(e){if(!i[e])return null;i=i[e]}return i},n=function(t,e,i){var n=o(t,e);return n&&n.hasOwnProperty(i)?n[i]:null},r=!0,s=!1,a=void 0;try{for(var l,u=(0,f.default)(["bold","ital","boldital","mono"]);!(r=(l=u.next()).done);r=!0){var h=l.value,c=this.fontOptions[h],d=i.font[h];if(g.parseFontString(c,o(t,h)))c.vadjust=this.fontOptions.vadjust,c.mod=d.mod;else{c.face=n(t,h,"face")||n(e,h,"face")||("mono"===h?d.face:null)||n(e,null,"face")||this.fontOptions.face,c.color=n(t,h,"color")||n(e,h,"color")||n(e,null,"color")||this.fontOptions.color,c.mod=n(t,h,"mod")||n(e,h,"mod")||n(e,null,"mod")||d.mod;var p=void 0;c.face===d.face&&this.fontOptions.face===i.font.face&&(p=this.fontOptions.size/Number(i.font.size)),c.size=n(t,h,"size")||n(e,h,"size")||(p?d.size*p:null)||n(e,null,"size")||this.fontOptions.size,c.vadjust=n(t,h,"vadjust")||n(e,h,"vadjust")||(p?d.vadjust*Math.round(p):null)||this.fontOptions.vadjust}c.size=Number(c.size),c.vadjust=Number(c.vadjust)}}catch(t){s=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(s)throw a}}}}},{key:"draw",value:function(t,e,i,n,o,r){var s=5<arguments.length&&void 0!==r?r:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(t,n,o,e,i,s),this._drawBackground(t),this._drawText(t,n,o,e,i,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background)if(t.fillStyle=this.fontOptions.background,this.isEdgeLabel)switch(this.fontOptions.align){case"middle":t.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":t.fillRect(.5*-this.size.width,-(this.size.height+2),this.size.width,this.size.height);break;case"bottom":t.fillRect(.5*-this.size.width,2,this.size.width,this.size.height);break;default:t.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}else t.fillRect(this.size.left,this.size.top-1,this.size.width,this.size.height)}},{key:"_drawText",value:function(t,e,i,n,o,r){var s=5<arguments.length&&void 0!==r?r:"middle",a=this.fontOptions.size,l=a*this.body.view.scale;l>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale);var u=this.size.yLine,h=this._setAlignment(t,n,u,s),c=(0,b.default)(h,2);n=c[0],u=c[1],t.textAlign="left",n-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(u-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(u+=(this.size.height-this.size.labelHeight)/2));for(var d=0;d<this.lineCount;d++)if(this.lines[d]&&this.lines[d].blocks){var p=0;this.isEdgeLabel||"center"===this.fontOptions.align?p+=(this.size.width-this.lines[d].width)/2:"right"===this.fontOptions.align&&(p+=this.size.width-this.lines[d].width);for(var f=0;f<this.lines[d].blocks.length;f++){var g=this.lines[d].blocks[f];t.font=g.font;var m=this._getColor(g.color,l,g.strokeColor),v=(0,b.default)(m,2),y=v[0],_=v[1];0<g.strokeWidth&&(t.lineWidth=g.strokeWidth,t.strokeStyle=_,t.lineJoin="round"),t.fillStyle=y,0<g.strokeWidth&&t.strokeText(g.text,n+p,u+g.vadjust),t.fillText(g.text,n+p,u+g.vadjust),p+=g.width}u+=this.lines[d].height}}},{key:"_setAlignment",value:function(t,e,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(i=e=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=n,[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",o=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=c.overrideOpacity(n,r),o=c.overrideOpacity(o,r)}return[n,o]}},{key:"getTextSize",value:function(t,e,i){var n=1<arguments.length&&void 0!==e&&e,o=2<arguments.length&&void 0!==i&&i;return this._processLabel(t,n,o),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"calculateLabelSize",value:function(t,e,i,n,o,r){var s=3<arguments.length&&void 0!==n?n:0,a=4<arguments.length&&void 0!==o?o:0,l=5<arguments.length&&void 0!==r?r:"middle";!0===this.labelDirty&&this._processLabel(t,e,i),this.size.left=s-.5*this.size.width,this.size.top=a-.5*this.size.height,this.size.yLine=a+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===l&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"splitMarkdownBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var n=t.charAt(i.position);/[ \t]/.test(n)?(i.mono?i.add(n):i.spacing=!0,i.beginable=!0):/\\/.test(n)?i.position<t.length+1&&(i.position++,n=t.charAt(i.position),/ \t/.test(n)?i.spacing=!0:(i.add(n),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(n)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(n)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(n)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(n)?i.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(n):!i.mono&&"ital"===i.mod()&&/\_/.test(n)?i.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(n):i.mono&&"mono"===i.mod()&&/`/.test(n)?i.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(n):(i.add(n),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var n=t.charAt(i.position);/[ \t]/.test(n)?i.mono?i.add(n):i.spacing=!0:/</.test(n)?i.mono||i.bold||!/<b>/.test(t.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(t.substr(i.position,3))?!i.mono&&/<code>/.test(t.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(t.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(t.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(t.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(n):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(n)?/&lt;/.test(t.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(t.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(n),i.position++}return i.emitBlock(),e}},{key:"getFormattingValues",value:function(t,e,i,n){function o(t,e,i){return"normal"===e?"mod"===i?"":t[i]:t[e][i]?t[e][i]:t[i]}var r={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};return(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,i)),t.font=(r.mod+" "+r.size+"px "+r.face).replace(/"/g,""),r.font=t.font,r.height=r.size,r}},{key:"differentState",value:function(t,e){return t!==this.fontOptions.selectedState&&e!==this.fontOptions.hoverState}},{key:"_processLabel",value:function(t,e,i){var n=0,o=0,r=[],s=0;if(r.add=function(t,e,i,n,o,r,s,a,l,u){this.length==t&&(this[t]={width:0,height:0,blocks:[]}),this[t].blocks.push({text:e,font:i,color:n,width:o,height:r,vadjust:s,mod:a,strokeWidth:l,strokeColor:u})},r.accumulate=function(t,e,i){this[t].width+=e,this[t].height=i>this[t].height?i:this[t].height},r.addAndAccumulate=function(t,e,i,n,o,r,s,a,l,u){this.add(t,e,i,n,o,r,s,a,l,u),this.accumulate(t,o,r)},void 0!==this.elementOptions.label){var a=String(this.elementOptions.label).split("\n"),l=a.length;if(this.elementOptions.font.multi)for(var u=0;u<l;u++){var h=this.splitBlocks(a[u],this.elementOptions.font.multi),c=0,d=0;if(h){if(0==h.length){var p=this.getFormattingValues(t,e,i,"normal");r.addAndAccumulate(s,"",p.font,p.color,0,p.size,p.vadjust,"normal",p.strokeWidth,p.strokeColor),o+=r[s].height,s++;continue}for(var f=0;f<h.length;f++)if(0<this.fontOptions.maxWdt)for(var g=this.getFormattingValues(t,e,i,h[f].mod),m=h[f].text.split(" "),v=!0,y="",_={width:0},b=void 0,w=0;w<m.length;){var C=v?"":" ";b=_,c+(_=t.measureText(y+C+m[w])).width>this.fontOptions.maxWdt&&0!=b.width?(d=g.height>d?g.height:d,r.add(s,y,g.font,g.color,b.width,g.height,g.vadjust,h[f].mod,g.strokeWidth,g.strokeColor),r.accumulate(s,b.width,d),v=!(y=""),c=0,n=r[s].width>n?r[s].width:n,o+=r[s].height,s++):(y=y+C+m[w],w===m.length-1&&(d=g.height>d?g.height:d,c+=_.width,r.add(s,y,g.font,g.color,_.width,g.height,g.vadjust,h[f].mod,g.strokeWidth,g.strokeColor),r.accumulate(s,_.width,d),f===h.length-1&&(n=r[s].width>n?r[s].width:n,o+=r[s].height,s++)),w++,v=!1)}else{var S=this.getFormattingValues(t,e,i,h[f].mod),x=t.measureText(h[f].text);r.addAndAccumulate(s,h[f].text,S.font,S.color,x.width,S.height,S.vadjust,h[f].mod,S.strokeWidth,S.strokeColor),n=r[s].width>n?r[s].width:n,h.length-1===f&&(o+=r[s].height,s++)}}}else for(var k=0;k<l;k++){var O=this.getFormattingValues(t,e,i,"normal");if(0<this.fontOptions.maxWdt)for(var E=a[k].split(" "),L="",D={width:0},I=void 0,N=0;N<E.length;){var T=""===L?"":" ";I=D,(D=t.measureText(L+T+E[N])).width>this.fontOptions.maxWdt&&0!=I.width?(r.addAndAccumulate(s,L,O.font,O.color,I.width,O.size,O.vadjust,"normal",O.strokeWidth,O.strokeColor),n=r[s].width>n?r[s].width:n,o+=r[s].height,L="",s++):(L=L+T+E[N],N===E.length-1&&(r.addAndAccumulate(s,L,O.font,O.color,D.width,O.size,O.vadjust,"normal",O.strokeWidth,O.strokeColor),n=r[s].width>n?r[s].width:n,o+=r[s].height,s++),N++)}else{var M=a[k],A=t.measureText(M);r.addAndAccumulate(s,M,O.font,O.color,A.width,O.size,O.vadjust,"normal",O.strokeWidth,O.strokeColor),n=r[s].width>n?r[s].width:n,o+=r[s].height,s++}}}0<this.fontOptions.minWdt&&n<this.fontOptions.minWdt&&(n=this.fontOptions.minWdt),this.size.labelHeight=o,0<this.fontOptions.minHgt&&o<this.fontOptions.minHgt&&(o=this.fontOptions.minHgt),this.lines=r,this.lineCount=r.length,this.size.width=n,this.size.height=o,this.selectedState=e,this.hoverState=i}}],[{key:"parseOptions",value:function(t,e,i){var n=2<arguments.length&&void 0!==i&&i;g.parseFontString(t,e.font)?t.vadjust=0:"object"===(0,h.default)(e.font)&&c.fillIfDefined(t,e.font,n),t.size=Number(t.size),t.vadjust=Number(t.vadjust)}},{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),g);function g(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];(0,n.default)(this,g),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}e.default=s},function(t,e,i){e.__esModule=!0;var n=o(i(172)),l=o(i(2));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=(0,l.default)(t);!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,i){t.exports={default:i(173),__esModule:!0}},function(t,e,i){i(4),i(50),t.exports=i(174)},function(t,e,i){var n=i(54),o=i(47)("iterator"),r=i(8);t.exports=i(17).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(n(e))}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=u(i(176)),r=u(i(135)),n=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(185));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,n.default)(d,[{key:"resize",value:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:this.selected,o=2<arguments.length&&void 0!==i?i:this.hover;this.needsRefresh(n,o)&&(this.textSize=this.labelModule.getTextSize(t,n,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=this.width/2)}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),t.roundRect(this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"updateBoundingBox",value:function(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o);var r=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(r)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),d);function d(t,e,i){(0,r.default)(this,d);var n=(0,s.default)(this,(d.__proto__||(0,o.default)(d)).call(this,t,e,i));return n._setMargins(i),n}e.default=c},function(t,e,i){t.exports={default:i(177),__esModule:!0}},function(t,e,i){i(178),t.exports=i(17).Object.getPrototypeOf},function(t,e,i){var n=i(49),o=i(48);i(61)("getPrototypeOf",function(){return function(t){return o(n(t))}})},function(t,e,i){e.__esModule=!0;var n,o=i(62),r=(n=o)&&n.__esModule?n:{default:n};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){e.__esModule=!0;var n=s(i(181)),o=s(i(55)),r=s(i(62));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,r.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}},function(t,e,i){t.exports={default:i(182),__esModule:!0}},function(t,e,i){i(183),t.exports=i(17).Object.setPrototypeOf},function(t,e,i){var n=i(15);n(n.S,"Object",{setPrototypeOf:i(184).set})},function(t,e,o){function r(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var i=o(23),n=o(22);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=o(18)(Function.call,o(78).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return r(t,e),i?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:r}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(62)),o=r(i(135));function r(t){return t&&t.__esModule?t:{default:t}}var s=((0,r(i(136)).default)(a,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,n.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?!(this.refreshNeeded=!1):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),0<i&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,o){void 0!==i&&this.resize(i,n,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o)}}]),a);function a(t,e,i){(0,o.default)(this,a),this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=u(i(176)),r=u(i(135)),n=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(187));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,n.default)(d,[{key:"resize",value:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:this.selected,o=2<arguments.length&&void 0!==i?i:this.hover;if(this.needsRefresh(n,o)){this.textSize=this.labelModule.getTextSize(t,n,o);var r=Math.max(this.textSize.width+this.margin.right+this.margin.left,this.textSize.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return this.resize(t),.5*this.width}}]),d);function d(t,e,i){(0,r.default)(this,d);var n=(0,s.default)(this,(d.__proto__||(0,o.default)(d)).call(this,t,e,i));return n._setMargins(i),n}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=u(i(176)),r=u(i(135)),n=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(185));u(i(166));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,n.default)(d,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),t.circle(e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,i,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,o){var r,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(t,n,o);1<=a.lineCount&&(s+=a.height/2)}r=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,r,n,o,"hanging")}}]),d);function d(t,e,i){(0,r.default)(this,d);var n=(0,s.default)(this,(d.__proto__||(0,o.default)(d)).call(this,t,e,i));return n.labelOffset=0,n.selected=!1,n}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=u(i(176)),a=u(i(135)),n=u(i(136)),l=u(i(179)),o=u(i(180)),r=u(i(187));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=r.default,(0,o.default)(d,h),(0,n.default)(d,[{key:"resize",value:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:this.selected,o=2<arguments.length&&void 0!==i?i:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var r=2*this.options.size;return this.width=r,this.height=r,void(this.radius=.5*this.width)}this.needsRefresh(n,o)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o,r){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,e,i,n,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return this.resize(t),.5*this.width}}]),d);function d(t,e,i,n,o){(0,a.default)(this,d);var r=(0,l.default)(this,(d.__proto__||(0,s.default)(d)).call(this,t,e,i));return r.setImages(n,o),r}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=u(i(176)),r=u(i(135)),n=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(185));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,n.default)(d,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i){(0,r.default)(this,d);var n=(0,s.default)(this,(d.__proto__||(0,o.default)(d)).call(this,t,e,i));return n._setMargins(i),n}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(191));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"diamond",4,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(185));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"resize",value:function(t,e,i,n){var o=1<arguments.length&&void 0!==e?e:this.selected,r=2<arguments.length&&void 0!==i?i:this.hover,s=3<arguments.length&&void 0!==n?n:{size:this.options.size};if(this.needsRefresh(o,r)){this.labelModule.getTextSize(t,o,r);var a=2*s.size;this.width=a,this.height=a,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,o,r,s,a){if(this.resize(t,r,s,a),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,a),t[e](n,o,a.size),this.performFill(t,a),void 0!==this.options.label){this.labelModule.calculateLabelSize(t,r,s,n,o,"hanging");var l=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,n,l,r,s,"hanging")}this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(191));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"circle",2,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t){return this.resize(t),this.options.size}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(185));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"resize",value:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:this.selected,o=2<arguments.length&&void 0!==i?i:this.hover;if(this.needsRefresh(n,o)){var r=this.labelModule.getTextSize(t,n,o);this.height=2*r.height,this.width=r.width+this.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,r),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,n=.5*this.height,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=u(i(176)),r=u(i(135)),n=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(185));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,n.default)(d,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,o,r),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,n,o,r){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(n?"bold ":"")+s+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i){(0,r.default)(this,d);var n=(0,s.default)(this,(d.__proto__||(0,o.default)(d)).call(this,t,e,i));return n._setMargins(i),n}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=u(i(176)),a=u(i(135)),n=u(i(136)),l=u(i(179)),o=u(i(180)),r=u(i(187));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=r.default,(0,o.default)(d,h),(0,n.default)(d,[{key:"resize",value:function(t,e,i){var n=1<arguments.length&&void 0!==e?e:this.selected,o=2<arguments.length&&void 0!==i?i:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var r=2*this.options.size;return this.width=r,void(this.height=r)}this.needsRefresh(n,o)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o,r){if(this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var s=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,l=(n?a:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,l),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,r),t.closePath()}this._drawImageAtPosition(t,r),this._drawImageLabel(t,e,i,n,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i,n,o){(0,a.default)(this,d);var r=(0,l.default)(this,(d.__proto__||(0,s.default)(d)).call(this,t,e,i));return r.setImages(n,o),r}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(191));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"square",2,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(191));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"star",4,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=u(i(176)),r=u(i(135)),n=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(185));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,n.default)(d,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(t,r),this.updateBoundingBox(e,i,t,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i){(0,r.default)(this,d);var n=(0,s.default)(this,(d.__proto__||(0,o.default)(d)).call(this,t,e,i));return n._setMargins(i),n}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(191));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"triangle",3,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(191));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"triangleDown",3,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(135)),n=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(1),a=i(89),l=i(93),u=i(202).default,h=i(170).default,c=(i(210).default,(0,n.default)(d,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var i=!1;for(var n in a.body.edges)if(a.body.edges.hasOwnProperty(n)){var o=a.body.edges[n],r=a.body.data.edges._data[n];if(void 0!==r){var s=r.smooth;void 0!==s&&!0===s.enabled&&"dynamic"===s.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),i=!0)}}!0===e&&!0===i&&a.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){a.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(a.edgesListeners,function(t,e){a.body.data.edges&&a.body.data.edges.off(e,t)}),delete a.body.functions.createEdge,delete a.edgesListeners.add,delete a.edgesListeners.update,delete a.edgesListeners.remove,delete a.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==(this.edgeOptions=t)){u.parseOptions(this.options,t);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in h.parseOptions(this.options.font,t),this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t,e){var i=this,n=1<arguments.length&&void 0!==e&&e,o=this.body.data.edges;if(t instanceof a||t instanceof l)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new a,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new a}if(o&&s.forEach(this.edgesListeners,function(t,e){o.off(e,t)}),this.body.edges={},this.body.data.edges){s.forEach(this.edgesListeners,function(t,e){i.body.data.edges.on(e,t)});var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t,e){for(var i=1<arguments.length&&void 0!==e&&e,n=this.body.edges,o=this.body.data.edges,r=0;r<t.length;r++){var s=t[r],a=n[s];a&&a.disconnect();var l=o.get(s,{showInternalIds:!0});n[s]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,o=0;o<t.length;o++){var r=t[o],s=i.get(r),a=e[r];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[r]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.edges,i=0;i<t.length;i++){var n=t[i],o=e[n];void 0!==o&&(o.cleanup(),o.disconnect(),delete e[n])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var t=this.body.edges;for(var e in t){var i=void 0;t.hasOwnProperty(e)&&(i=t[e]);var n=this.body.data.edges._data[e];void 0!==i&&void 0!==n&&i.setOptions(n)}}},{key:"create",value:function(t){return new u(t,this.body,this.options,this.defaultOptions,this.edgeOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}}]),d);function d(t,e,i){var n=this;(0,o.default)(this,d),this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){n.add(e.items)},update:function(t,e){n.update(e.items)},remove:function(t,e){n.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var l=o(i(90)),u=o(i(55)),h=o(i(62)),r=o(i(135)),n=o(i(136));function o(t){return t&&t.__esModule?t:{default:t}}var c=i(1),d=i(170).default,s=i(203).default,a=i(207).default,p=i(208).default,f=i(209).default,g=((0,n.default)(m,[{key:"setOptions",value:function(t){if(t){m.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value)),this.choosify(t),this.updateLabelModule(t),this.labelModule.propagateFonts(this.edgeOptions,t,this.defaultOptions);var e=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===t.hidden&&void 0===t.physics||(e=!0),e}}},{key:"choosify",value:function(t){this.chooser=!0;var e=[t,this.options,this.edgeOptions,this.defaultOptions],i=c.topMost(e,"chosen");if("boolean"==typeof i)this.chooser=i;else if("object"===(void 0===i?"undefined":(0,h.default)(i))){var n=c.topMost(e,["chosen","edge"]);"boolean"!=typeof n&&"function"!=typeof n||(this.chooser=n)}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var r=this.options.selectionWidth;"function"==typeof r?o.width=r(o.width):"number"==typeof r&&(o.width+=r),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?o.width=s(o.width):"number"==typeof s&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(t){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize),this.labelModule.constrain(this.edgeOptions,t,this.defaultOptions),this.labelModule.choosify(this.edgeOptions,t,this.defaultOptions)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof a&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof s&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof p&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof f&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new a(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new s(this.options,this.body,this.labelModule):this.edgeType=new p(this.options,this.body,this.labelModule):this.edgeType=new f(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,n,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,e);t.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(t,this.selected,this.hover,o.x,o.y),t.translate(o.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(t)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{var r,s;this.labelModule.pointToSelf=!0;var a=this.options.selfReferenceSize;s=i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,i.y-a):(r=i.x+a,i.y-.5*i.shape.height),o=this._pointOnCircle(r,s,a,.125),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,i=this.from.y,n=this.to.x,o=this.to.y,r=t.left,s=t.top;return this.edgeType.getDistanceToEdge(e,i,n,o,r,s)<10}return!1}},{key:"_rotateForLabelAlignment",value:function(t){var e=this.from.y-this.to.y,i=this.from.x-this.to.x,n=Math.atan2(e,i);(n<-1&&i<0||0<n&&i<0)&&(n+=Math.PI),t.rotate(n)}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(t,e,i,n){var o=2<arguments.length&&void 0!==i&&i,r=3<arguments.length&&void 0!==n?n:{};if(c.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"],t,e,o),c.mergeOptions(t,e,"smooth",o,r),c.mergeOptions(t,e,"shadow",o,r),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===o&&null===e.dashes&&(t.dashes=(0,u.default)(r.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),c.mergeOptions(t.scaling,e.scaling,"label",o,r.scaling)):!0===o&&null===e.scaling&&(t.scaling=(0,u.default)(r.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var s=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=s.indexOf("to"),t.arrows.middle.enabled=-1!=s.indexOf("middle"),t.arrows.from.enabled=-1!=s.indexOf("from")}else{if("object"!==(0,h.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,l.default)(e.arrows));c.mergeOptions(t.arrows,e.arrows,"to",o,r.arrows),c.mergeOptions(t.arrows,e.arrows,"middle",o,r.arrows),c.mergeOptions(t.arrows,e.arrows,"from",o,r.arrows)}else!0===o&&null===e.arrows&&(t.arrows=(0,u.default)(r.arrows));if(void 0!==e.color&&null!==e.color)if(t.color=c.deepExtend({},t.color,!0),c.isString(e.color))t.color.color=e.color,t.color.highlight=e.color,t.color.hover=e.color,t.color.inherit=!1;else{var a=!1;void 0!==e.color.color&&(t.color.color=e.color.color,a=!0),void 0!==e.color.highlight&&(t.color.highlight=e.color.highlight,a=!0),void 0!==e.color.hover&&(t.color.hover=e.color.hover,a=!0),void 0!==e.color.inherit&&(t.color.inherit=e.color.inherit),void 0!==e.color.opacity&&(t.color.opacity=Math.min(1,Math.max(0,e.color.opacity))),void 0===e.color.inherit&&!0===a&&(t.color.inherit=!1)}else!0===o&&null===e.color&&(t.color=c.bridgeObject(r.color));void 0!==e.font&&null!==e.font?d.parseOptions(t.font,e):!0===o&&null===e.font&&(t.font=c.bridgeObject(r.font))}}]),m);function m(t,e,i,n,o){if((0,r.default)(this,m),void 0===e)throw"No body provided";this.options=c.bridgeObject(i),this.globalOptions=i,this.defaultOptions=n,this.edgeOptions=o,this.body=e,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new d(this.body,this.options,!0),this.setOptions(t)}e.default=g},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var c=u(i(171)),n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(204));function u(t){return t&&t.__esModule?t:{default:t}}var h,d=(h=l.default,(0,a.default)(p,h),(0,r.default)(p,[{key:"_line",value:function(t,e,i){var n=i[0],o=i[1];this._bezierCurve(t,e,n,o)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,n=void 0,o=void 0,r=void 0,s=this.options.smooth.roundness;return o=(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,r=this.to.y,i=this.from.x-s*t,this.to.x+s*t):(n=this.from.y-s*e,r=this.to.y+s*e,i=this.from.x,this.to.x),[{x:i,y:n},{x:o,y:r}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r,s){var a=6<arguments.length&&void 0!==s?s:this._getViaCoordinates(),l=(0,c.default)(a,2),u=l[0],h=l[1];return this._getDistanceToBezierEdge(t,e,i,n,o,r,u,h)}},{key:"getPoint",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:this._getViaCoordinates(),n=(0,c.default)(i,2),o=n[0],r=n[1],s=t,a=[];return a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3),{x:a[0]*this.fromPoint.x+a[1]*o.x+a[2]*r.x+a[3]*this.toPoint.x,y:a[0]*this.fromPoint.y+a[1]*o.y+a[2]*r.y+a[3]*this.toPoint.y}}}]),p);function p(t,e,i){return(0,o.default)(this,p),(0,s.default)(this,(p.__proto__||(0,n.default)(p)).call(this,t,e,i))}e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(205));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,r,s,a){var l=1e9,u=void 0,h=void 0,c=void 0,d=void 0,p=void 0,f=t,g=e,m=[0,0,0,0];for(h=1;h<10;h++)c=.1*h,m[0]=Math.pow(1-c,3),m[1]=3*c*Math.pow(1-c,2),m[2]=3*Math.pow(c,2)*(1-c),m[3]=Math.pow(c,3),d=m[0]*t+m[1]*s.x+m[2]*a.x+m[3]*i,p=m[0]*e+m[1]*s.y+m[2]*a.y+m[3]*n,0<h&&(l=(u=this._getDistanceToLine(f,g,d,p,o,r))<l?u:l),f=d,g=p;return l}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(206));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"_findBorderPositionBezier",value:function(t,e,i){var n,o,r,s=2<arguments.length&&void 0!==i?i:this._getViaCoordinates(),a=0,l=0,u=1,h=this.to,c=!1;for(t.id===this.from.id&&(h=this.from,c=!0);l<=u&&a<10;){var d=.5*(l+u);if(n=this.getPoint(d,s),o=Math.atan2(h.y-n.y,h.x-n.x),r=h.distanceToBorder(e,o)-Math.sqrt(Math.pow(n.x-h.x,2)+Math.pow(n.y-h.y,2)),Math.abs(r)<.2)break;r<0?!1===c?l=d:u=d:!1===c?u=d:l=d,a++}return n.t=d,n}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,r,s){var a=1e9,l=void 0,u=void 0,h=void 0,c=void 0,d=void 0,p=t,f=e;for(u=1;u<10;u++)h=.1*u,c=Math.pow(1-h,2)*t+2*h*(1-h)*s.x+Math.pow(h,2)*i,d=Math.pow(1-h,2)*e+2*h*(1-h)*s.y+Math.pow(h,2)*n,0<u&&(a=(l=this._getDistanceToLine(p,f,c,d,o,r))<a?l:a),p=c,f=d;return a}},{key:"_bezierCurve",value:function(t,e,i,n){var o=void 0!==i&&void 0!==i.x,r=void 0!==n&&void 0!==n.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),o&&r?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):o?t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var w=r(i(171)),n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(1),a=((0,o.default)(l,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n,o){t.strokeStyle=this.getColor(t,e,i,n),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}},{key:"_drawLine",value:function(t,e,i,n,o){if(this.from!=this.to)this._line(t,e,i,n,o);else{var r=this._getCircleData(t),s=(0,w.default)(r,3),a=s[0],l=s[1],u=s[2];this._circle(t,e,a,l,u)}}},{key:"_drawDashedLine",value:function(t,e,i){t.lineCap="round";var n=[5,5];if(!0===Array.isArray(e.dashes)&&(n=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(n),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var o=this._getCircleData(t),r=(0,w.default)(o,3),s=r[0],a=r[1],l=r[2];this._circle(t,e,s,a,l)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,n);else{var u=this._getCircleData(t),h=(0,w.default)(u,3),c=h[0],d=h[1],p=h[2];this._circle(t,e,c,d,p)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var n=this._getCircleData(t),o=(0,w.default)(n,3),r=o[0],s=o[1];o[2],e=this._findBorderPositionCircle(this.from,t,{x:r,y:s,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:r,y:s,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,n=this.from,o=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),i=n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,n.y-o):(e=n.x+o,n.y-.5*n.shape.height),[e,i,o]}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var n=i.x,o=i.y,r=i.low,s=i.high,a=i.direction,l=0,u=this.options.selfReferenceSize,h=void 0,c=void 0,d=void 0,p=.5*(r+s);r<=s&&l<10&&(p=.5*(r+s),h=this._pointOnCircle(n,o,u,p),c=Math.atan2(t.y-h.y,t.x-h.x),d=t.distanceToBorder(e,c)-Math.sqrt(Math.pow(h.x-t.x,2)+Math.pow(h.y-t.y,2)),!(Math.abs(d)<.05));)0<d?0<a?r=p:s=p:0<a?s=p:r=p,l++;return h.t=p,h}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e){if(!1===e.inheritsColor)return s.overrideOpacity(e.color,e.opacity);if("both"!==e.inheritsColor||this.from.id===this.to.id)return"to"===e.inheritsColor?s.overrideOpacity(this.to.options.color.border,e.opacity):s.overrideOpacity(this.from.options.color.border,e.opacity);var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=void 0,o=void 0;return n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(n=s.overrideOpacity(this.from.options.color.border,e.opacity),o=s.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?o=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,o),i}},{key:"_circle",value:function(t,e,i,n,o){this.enableShadow(t,e),t.beginPath(),t.arc(i,n,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,o,r,s){var a=0;if(this.from!=this.to)a=this._getDistanceToEdge(t,e,i,n,o,r,s);else{var l=this._getCircleData(void 0),u=(0,w.default)(l,3),h=u[0],c=u[1],d=u[2],p=h-o,f=c-r;a=Math.abs(Math.sqrt(p*p+f*f)-d)}return this.labelModule.size.left<o&&this.labelModule.size.left+this.labelModule.size.width>o&&this.labelModule.size.top<r&&this.labelModule.size.top+this.labelModule.size.height>r?0:a}},{key:"_getDistanceToLine",value:function(t,e,i,n,o,r){var s=i-t,a=n-e,l=((o-t)*s+(r-e)*a)/(s*s+a*a);1<l?l=1:l<0&&(l=0);var u=t+l*s-o,h=e+l*a-r;return Math.sqrt(u*u+h*h)}},{key:"getArrowData",value:function(t,e,i,n,o,r){var s=void 0,a=void 0,l=void 0,u=void 0,h=void 0,c=void 0,d=void 0,p=r.width;if(d="from"===e?(l=this.from,u=this.to,h=.1,c=r.fromArrowScale,r.fromArrowType):"to"===e?(l=this.to,u=this.from,h=-.1,c=r.toArrowScale,r.toArrowType):(l=this.to,u=this.from,c=r.middleArrowScale,r.middleArrowType),l!=u)if("middle"!==e)if(!0===this.options.smooth.enabled){a=this.findBorderPosition(l,t,{via:i});var f=this.getPoint(Math.max(0,Math.min(1,a.t+h)),i);s=Math.atan2(a.y-f.y,a.x-f.x)}else s=Math.atan2(l.y-u.y,l.x-u.x),a=this.findBorderPosition(l,t);else s=Math.atan2(l.y-u.y,l.x-u.x),a=this.getPoint(.5,i);else{var g=this._getCircleData(t),m=(0,w.default)(g,3),v=m[0],y=m[1],_=m[2];s="from"===e?-2*(a=this.findBorderPosition(this.from,t,{x:v,y:y,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?-2*(a=this.findBorderPosition(this.from,t,{x:v,y:y,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(a=this._pointOnCircle(v,y,_,.175),3.9269908169872414)}var b=15*c+3*p;return{point:a,core:{x:a.x-.9*b*Math.cos(s),y:a.y-.9*b*Math.sin(s)},angle:s,length:b,type:d}}},{key:"drawArrowHead",value:function(t,e,i,n,o){t.strokeStyle=this.getColor(t,e,i,n),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,o.type&&"circle"===o.type.toLowerCase()?t.circleEndpoint(o.point.x,o.point.y,o.angle,o.length):t.arrowEndpoint(o.point.x,o.point.y,o.angle,o.length),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),l);function l(t,e,i){(0,n.default)(this,l),this.body=e,this.labelModule=i,this.options={},this.setOptions(t),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var d=u(i(171)),o=u(i(176)),r=u(i(135)),n=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(205));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(p,h),(0,n.default)(p,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],!(this.via=void 0))}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:this.via,n=t,o=void 0,r=void 0;if(this.from===this.to){var s=this._getCircleData(this.from),a=(0,d.default)(s,3),l=a[0],u=a[1],h=a[2],c=2*Math.PI*(1-n);o=l+h*Math.sin(c),r=u+h-h*(1-Math.cos(c))}else o=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*i.x+Math.pow(n,2)*this.toPoint.x,r=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*i.y+Math.pow(n,2)*this.toPoint.y;return{x:o,y:r}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){return this._getDistanceToBezierEdge(t,e,i,n,o,r,this.via)}}]),p);function p(t,e,i){(0,r.default)(this,p);var n=(0,s.default)(this,(p.__proto__||(0,o.default)(p)).call(this,t,e,i));return n._boundFunction=function(){n.positionBezierNode()},n.body.emitter.on("_repositionBezierNodes",n._boundFunction),n}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(205));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,n=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var s=void 0,a=void 0;s=a=o<=r?i*r:i*o,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a),t=this.from.x+s,e=this.from.y+a,"discrete"===n&&(o<=r?t=o<i*r?this.from.x:t:e=r<i*o?this.from.y:e)}else if("straightCross"===n){var l=(1-i)*o,u=(1-i)*r;o<=r?(l=0,this.from.y<this.to.y&&(u=-u)):(this.from.x<this.to.x&&(l=-l),u=0),t=this.to.x+l,e=this.to.y+u}else if("horizontal"===n){var h=(1-i)*o;this.from.x<this.to.x&&(h=-h),t=this.to.x+h,e=this.from.y}else if("vertical"===n){var c=(1-i)*r;this.from.y<this.to.y&&(c=-c),t=this.from.x,e=this.to.y+c}else if("curvedCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var d=Math.sqrt(o*o+r*r),p=Math.PI,f=(Math.atan2(r,o)+(.5*i+.5)*p)%(2*p);t=this.from.x+(.5*i+.5)*d*Math.sin(f),e=this.from.y+(.5*i+.5)*d*Math.cos(f)}else if("curvedCCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var g=Math.sqrt(o*o+r*r),m=Math.PI,v=(Math.atan2(r,o)+(.5*-i+.5)*m)%(2*m);t=this.from.x+(.5*i+.5)*g*Math.sin(v),e=this.from.y+(.5*i+.5)*g*Math.cos(v)}else{var y=void 0,_=void 0;y=_=o<=r?i*r:i*o,this.from.x>this.to.x&&(y=-y),this.from.y>=this.to.y&&(_=-_),t=this.from.x+y,e=this.from.y+_,o<=r?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:{};return this._findBorderPositionBezier(t,e,n.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r,s){var a=6<arguments.length&&void 0!==s?s:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,o,r,a)}},{key:"getPoint",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:this._getViaCoordinates(),n=t;return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*i.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*i.y+Math.pow(n,2)*this.toPoint.y}}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(206));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var o=Math.atan2(i.y-n.y,i.x-n.x),r=i.x-n.x,s=i.y-n.y,a=Math.sqrt(r*r+s*s),l=(a-t.distanceToBorder(e,o))/a,u={};return u.x=(1-l)*n.x+l*i.x,u.y=(1-l)*n.y+l*i.y,u}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){return this._getDistanceToLine(t,e,i,n,o,r)}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var u=s(i(58)),L=s(i(171)),o=s(i(62)),n=s(i(135)),r=s(i(136));function s(t){return t&&t.__esModule?t:{default:t}}var a=i(1),l=i(211).default,h=((0,r.default)(c,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(1<this.parentReference[t].length)return void(this.isTree=!1);this.isTree=!0}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var r=this,s={};return function t(e){if(void 0!==s[e])return s[e];var i=r.levels[e];if(r.childrenReference[e]){var n=r.childrenReference[e];if(0<n.length)for(var o=0;o<n.length;o++)i=Math.max(i,t(n[o]))}return s[e]=i}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,o=1e9,r=-1e9;for(var s in this.trees)if(this.trees.hasOwnProperty(s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),n=Math.max(a.x,n),o=Math.min(a.y,o),r=Math.max(a.y,r)}return{min_x:i,max_x:n,min_y:o,max_y:r}}}]),c);function c(){(0,n.default)(this,c),this.childrenReference={},this.parentReference={},this.levels={},this.trees={},this.isTree=!1}var d=((0,r.default)(p,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var t=e.getStaticType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(a.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),a.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?0<i.levelSeparation&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),a.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,o.default)(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.getStaticType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],o=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=e*Math.cos(o)),void 0===n.y&&(n.y=e*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var n=0,o={clusterEdgeProperties:{smooth:{enabled:!1}}};if(150<t.length){for(var r=t.length;150<t.length&&n<=10;){n+=1;var s=t.length;if(n%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),s==t.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}10<n&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var a=0;a<t.length;a++){var l=this.body.nodes[t[a]];!1===l.predefinedPosition&&(l.x+=70*(.5-this.seededRandom()),l.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=l.getRangeCore(this.body.nodes,this.body.nodeIndices),e=l.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var t=void 0,e=void 0,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new h,this.treeIndex=-1,this.distributionOrdering={},this.distributionIndex={},this.distributionOrderingPresence={},this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0===(t=this.body.nodes[e]).options.x&&t.options.y,void 0!==t.options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.hierarchical.ensureLevel(r);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){function S(t,e){if(!e[t.id]&&(e[t.id]=!0,k.hierarchical.childrenReference[t.id])){var i=k.hierarchical.childrenReference[t.id];if(0<i.length)for(var n=0;n<i.length;n++)S(k.body.nodes[i[n]],e)}}function x(t,e){var i=1<arguments.length&&void 0!==e?e:1e9,n=1e9,o=1e9,r=1e9,s=-1e9;for(var a in t)if(t.hasOwnProperty(a)){var l=k.body.nodes[a],u=k.hierarchical.levels[l.id],h=k._getPositionForHierarchy(l),c=k._getSpaceAroundNode(l,t),d=(0,L.default)(c,2),p=d[0],f=d[1];n=Math.min(p,n),o=Math.min(f,o),u<=i&&(r=Math.min(h,r),s=Math.max(h,s))}return[r,s,n,o]}function a(t,e){var i=k.hierarchical.parentReference[t.id],n=k.hierarchical.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var o=0;o<i.length;o++)for(var r=0;r<n.length;r++)if(i[o]==n[r])return!0;return!1}function n(t,e,i){for(var n=0;n<e.length;n++){var o=e[n],r=k.distributionOrdering[o];if(1<r.length)for(var s=0;s<r.length-1;s++)!0===a(r[s],r[s+1])&&k.hierarchical.trees[r[s].id]===k.hierarchical.trees[r[s+1].id]&&t(r[s],r[s+1],i)}}function o(t,e,i){var n=2<arguments.length&&void 0!==i&&i,o=k._getPositionForHierarchy(t),r=k._getPositionForHierarchy(e),s=Math.abs(r-o),a=k.options.hierarchical.nodeSpacing;if(a<s){var l={},u={};S(t,l),S(e,u);var h=function(t,e){var i=k.hierarchical.getMaxLevel(t.id),n=k.hierarchical.getMaxLevel(e.id);return Math.min(i,n)}(t,e),c=x(l,h),d=(0,L.default)(c,4),p=(d[0],d[1]),f=(d[2],d[3],x(u,h)),g=(0,L.default)(f,4),m=g[0],v=(g[1],g[2]);if(g[3],a<Math.abs(p-m)){var y=p-m+a;y<-v+a&&(y=-v+a),y<0&&(k._shiftBlock(e.id,y),(O=!0)===n&&k._centerParent(e))}}}function l(t,u){for(var e=u.id,i=u.edges,n=k.hierarchical.levels[u.id],r=k.options.hierarchical.levelSeparation*k.options.hierarchical.levelSeparation,s={},o=[],a=0;a<i.length;a++){var l=i[a];if(l.toId!=l.fromId){var h=l.toId==e?l.from:l.to;s[i[a].id]=h,k.hierarchical.levels[h.id]<n&&o.push(l)}}function c(t,e){for(var i=0,n=0;n<e.length;n++)if(void 0!==s[e[n].id]){var o=k._getPositionForHierarchy(s[e[n].id])-t;i+=o/Math.sqrt(o*o+r)}return i}function d(t,e){for(var i=0,n=0;n<e.length;n++)if(void 0!==s[e[n].id]){var o=k._getPositionForHierarchy(s[e[n].id])-t;i-=r*Math.pow(o*o+r,-1.5)}return i}function p(t,e){for(var i=k._getPositionForHierarchy(u),n={},o=0;o<t;o++){var r=c(i,e),s=d(i,e);if(void 0!==n[i-=Math.max(-40,Math.min(40,Math.round(r/s)))])break;n[i]=o}return i}var f,g,m,v,y,_,b,w,C=p(t,o);!function(t){var e=k._getPositionForHierarchy(u);if(void 0===E[u.id]){var i={};S(u,i),E[u.id]=i}var n=x(E[u.id]),o=(0,L.default)(n,4),r=(o[0],o[1],o[2]),s=o[3],a=t-e,l=0;0<a?l=Math.min(a,s-k.options.hierarchical.nodeSpacing):a<0&&(l=-Math.min(-a,r-k.options.hierarchical.nodeSpacing)),0!=l&&(k._shiftBlock(u.id,l),O=!0)}(C),C=p(t,i),f=C,g=k._getPositionForHierarchy(u),m=k._getSpaceAroundNode(u),v=(0,L.default)(m,2),y=v[0],_=v[1],0<(b=f-(w=g))?w=Math.min(g+(_-k.options.hierarchical.nodeSpacing),f):b<0&&(w=Math.max(g-(y-k.options.hierarchical.nodeSpacing),f)),w!==g&&(k._setPositionForHierarchy(u,w,void 0,!0),O=!0)}var k=this,O=!1,E={},r=function(t,e){for(var i in k.hierarchical.trees)if(k.hierarchical.trees.hasOwnProperty(i)&&k.hierarchical.trees[i]===t){var n=k.body.nodes[i],o=k._getPositionForHierarchy(n);k._setPositionForHierarchy(n,o+e,void 0,!0)}},s=function(){for(var t,e,i=[],n=0;n<=k.treeIndex;n++)i.push((t=n,e=k.hierarchical.getTreeSize(k.body.nodes,t),k._isVertical()?{min:e.min_x,max:e.max_x}:{min:e.min_y,max:e.max_y}));return i};!0===this.options.hierarchical.blockShifting&&(function(t){var e=(0,u.default)(k.distributionOrdering);e=e.reverse();for(var i=0;i<t&&(n(o,e,!(O=!1)),!0===O);i++);}(5),function(){for(var t in k.body.nodes)k.body.nodes.hasOwnProperty(t)&&k._centerParent(k.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(t){var e=(0,u.default)(k.distributionOrdering);e=e.reverse();for(var i=0;i<t;i++){O=!1;for(var n=0;n<e.length;n++)for(var o=e[n],r=k.distributionOrdering[o],s=0;s<r.length;s++)l(1e3,r[s]);if(!0!==O)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var t=(0,u.default)(k.distributionOrdering);t=t.reverse();for(var e=0;e<t.length;e++)for(var i=t[e],n=k.distributionOrdering[i],o=0;o<n.length;o++)k._centerParent(n[o])}(),function(){for(var t=s(),e=0,i=0;i<t.length-1;i++)e+=t[i].max-t[i+1].min+k.options.hierarchical.treeSpacing,r(i+1,e)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0===n)return[0,0];var o=this.distributionIndex[t.id],r=this._getPositionForHierarchy(t),s=this.distributionOrdering[n],a=1e9,l=1e9;if(0!==o){var u=s[o-1];(!0===i&&void 0===e[u.id]||!1===i)&&(a=r-this._getPositionForHierarchy(u))}if(o!=s.length-1){var h=s[o+1];if(!0===i&&void 0===e[h.id]||!1===i){var c=this._getPositionForHierarchy(h);l=Math.min(l,c-r)}}return[a,l]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],o=this.body.nodes[n],r=this.hierarchical.childrenReference[n];if(void 0!==r){var s=this._getCenterPosition(r),a=this._getPositionForHierarchy(o),l=this._getSpaceAroundNode(o),u=(0,L.default)(l,2),h=u[0],c=u[1],d=a-s;(d<0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing||0<d&&Math.abs(d)<h-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(o,s,void 0,!0)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=(0,u.default)(t[e]);i=this._indexArrayToNodes(i),this._sortNodeArray(i);for(var n=0,o=0;o<i.length;o++){var r=i[o];if(void 0===this.positionedNodes[r.id]){var s=this.options.hierarchical.nodeSpacing,a=s*n;0<n&&(a=this._getPositionForHierarchy(i[o-1])+s),this._setPositionForHierarchy(r,a,e),this._validatePositionAndContinue(r,e,a),n++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var n=[],o=0;o<i.length;o++)n.push(this.body.nodes[i[o]]);this._sortNodeArray(n);for(var r=0;r<n.length;r++){var s=n[r],a=this.hierarchical.levels[s.id];if(!(e<a&&void 0===this.positionedNodes[s.id]))return;var l=this.options.hierarchical.nodeSpacing,u=void 0;u=0===r?this._getPositionForHierarchy(this.body.nodes[t]):this._getPositionForHierarchy(n[r-1])+l,this._setPositionForHierarchy(s,u,a),this._validatePositionAndContinue(s,a,u)}var h=this._getCenterPosition(n);this._setPositionForHierarchy(this.body.nodes[t],h,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var o=n+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this._isVertical()?(i.y=this.options.hierarchical.levelSeparation*n,i.options.fixed.y=!0):(i.x=this.options.hierarchical.levelSeparation*n,i.options.fixed.x=!0),void 0===t[n]&&(t[n]={}),t[n][e]=i}return t}},{key:"_getActiveEdges",value:function(t){var e=[];for(var i in t.edges){var n=t.edges[i];-1!==this.body.edgeIndices.indexOf(n.id)&&e.push(n)}return e}},{key:"_getHubSizes",value:function(){var t={},e=this.body.nodeIndices;for(var i in e){var n=e[i],o=this.body.nodes[n];t[this._getActiveEdges(o).length]=!0}var r=[];for(var s in t)r.push(Number(s));return r.sort(function(t,e){return e-t}),r}},{key:"_determineLevelsByHubsize",value:function(){for(var i=this,t=function(t,e){i.hierarchical.levelDownstream(t,e)},e=this._getHubSizes(),n=0;n<e.length;++n){var o=e[n];if(0===o)break;var r=this.body.nodeIndices;for(var s in r){var a=r[s],l=this.body.nodes[a];o===this._getActiveEdges(l).length&&this._crawlNetwork(t,a)}}}},{key:"_determineLevelsCustomCallback",value:function(){var r=this;this._crawlNetwork(function(t,e,i){var n=r.hierarchical.levels[t.id];void 0===n&&(n=r.hierarchical.levels[t.id]=1e5);var o=(l.cloneOptions(t,"node"),l.cloneOptions(e,"node"),void l.cloneOptions(i,"edge"));r.hierarchical.levels[e.id]=n+o}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var o=this;this._crawlNetwork(function(t,e,i){var n=o.hierarchical.levels[t.id];void 0===n&&(n=o.hierarchical.levels[t.id]=1e4),i.toId==e.id?o.hierarchical.levels[e.id]=n+1:o.hierarchical.levels[e.id]=n-1}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var i=this;this._crawlNetwork(function(t,e){i.hierarchical.levels[e.id]>i.hierarchical.levels[t.id]&&i.hierarchical.addRelation(t.id,e.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(t,e){function s(t,e){if(void 0===u[t.id]){void 0===a.hierarchical.trees[t.id]&&(a.hierarchical.trees[t.id]=e,a.treeIndex=Math.max(e,a.treeIndex)),u[t.id]=!0;for(var i=void 0,n=a._getActiveEdges(t),o=0;o<n.length;o++){var r=n[o];!0===r.connected&&(i=r.toId==t.id?r.from:r.to,t.id!=i.id&&(l(t,i,r),s(i,e)))}}}var a=this,l=0<arguments.length&&void 0!==t?t:function(){},i=e,u={},n=0;if(void 0===i)for(var o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodes[this.body.nodeIndices[o]];void 0===u[r.id]&&(s(r,n),n+=1)}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);s(h)}}},{key:"_shiftBlock",value:function(t,o){var r=this,s={};!function t(e){if(!s[e]){s[e]=!0,r._isVertical()?r.body.nodes[e].x+=o:r.body.nodes[e].y+=o;var i=r.hierarchical.childrenReference[e];if(void 0!==i)for(var n=0;n<i.length;n++)t(i[n])}}(t)}},{key:"_findCommonParent",value:function(t,e){var a=this,i={};return function t(e,i){var n=a.hierarchical.parentReference[i];if(void 0!==n)for(var o=0;o<n.length;o++){var r=n[o];e[r]=!0,t(e,r)}}(i,t),function t(e,i){var n=a.hierarchical.parentReference[i];if(void 0!==n)for(var o=0;o<n.length;o++){var r=n[o];if(void 0!==e[r])return{foundParent:r,withChild:i};var s=t(e,r);if(null!==s.foundParent)return s}return{foundParent:null,withChild:i}}(i,e)}},{key:"_setPositionForHierarchy",value:function(t,e,i,n){!0!==(3<arguments.length&&void 0!==n&&n)&&(void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[],this.distributionOrderingPresence[i]={}),void 0===this.distributionOrderingPresence[i][t.id]&&(this.distributionOrdering[i].push(t),this.distributionIndex[t.id]=this.distributionOrdering[i].length-1),this.distributionOrderingPresence[i][t.id]=!0),this._isVertical()?t.x=e:t.y=e}},{key:"_isVertical",value:function(){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction}},{key:"_getPositionForHierarchy",value:function(t){return this._isVertical()?t.x:t.y}},{key:"_sortNodeArray",value:function(t){1<t.length&&(this._isVertical()?t.sort(function(t,e){return t.x-e.x}):t.sort(function(t,e){return t.y-e.y}))}},{key:"getStaticType",value:function(){var t="horizontal";return this._isVertical()||(t="vertical"),t}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var o=void 0;if(void 0!==t[n].id)o=t[n];else{var r=t[n];o=this.body.nodes[r]}var s=this._getPositionForHierarchy(o);e=Math.min(e,s),i=Math.max(i,s)}return.5*(e+i)}}]),p);function p(t){(0,n.default)(this,p),this.body=t,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(1),a=((0,o.default)(l,null,[{key:"getRange",value:function(t,e){var i,n=1<arguments.length&&void 0!==e?e:[],o=1e9,r=-1e9,s=1e9,a=-1e9;if(0<n.length)for(var l=0;l<n.length;l++)s>(i=t[n[l]]).shape.boundingBox.left&&(s=i.shape.boundingBox.left),a<i.shape.boundingBox.right&&(a=i.shape.boundingBox.right),o>i.shape.boundingBox.top&&(o=i.shape.boundingBox.top),r<i.shape.boundingBox.bottom&&(r=i.shape.boundingBox.bottom);return 1e9===s&&-1e9===a&&1e9===o&&-1e9===r&&(a=s=r=o=0),{minX:s,maxX:a,minY:o,maxY:r}}},{key:"getRangeCore",value:function(t,e){var i,n=1<arguments.length&&void 0!==e?e:[],o=1e9,r=-1e9,s=1e9,a=-1e9;if(0<n.length)for(var l=0;l<n.length;l++)s>(i=t[n[l]]).x&&(s=i.x),a<i.x&&(a=i.x),o>i.y&&(o=i.y),r<i.y&&(r=i.y);return 1e9===s&&-1e9===a&&1e9===o&&-1e9===r&&(a=s=r=o=0),{minX:s,maxX:a,minY:o,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s.deepExtend(i,t.options,!0),i}}]),l);function l(){(0,n.default)(this,l)}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var r=s(i(58)),n=s(i(135)),o=s(i(136));function s(t){return t&&t.__esModule?t:{default:t}}var a=i(213).default,l=i(214).default,u=i(215).default,h=i(216).default,c=i(217).default,d=i(218).default,p=i(219).default,f=i(220).default,g=i(1),m=((0,o.default)(v,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,g.selectiveNotDeepExtend(["stabilization"],this.options,t),g.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new p(this.body,this.physicsBody,t),this.edgesSolver=new h(this.body,this.physicsBody,t),this.gravitySolver=new f(this.body,this.physicsBody,t)):("repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new l(this.body,this.physicsBody,t),this.edgesSolver=new h(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new u(this.body,this.physicsBody,t),this.edgesSolver=new c(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new a(this.body,this.physicsBody,t),this.edgesSolver=new h(this.body,this.physicsBody,t)),this.gravitySolver=new d(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;(this.stabilized=!0)===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),!(this.viewFunction=void 0)===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(t){var e=this,i=0<arguments.length&&void 0!==t?t:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout(function(){e.body.emitter.emit("stabilized",{iterations:i}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),!1===this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var r=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=(0,r.default)(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<t.length;n++){var o=t[n];void 0!==e[o]?!0===e[o].options.physics&&(this.referenceState[o]={positions:{x:e[o].x,y:e[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,i=this.body.nodes,n=this.referenceState;for(var o in this.referenceState)if(this.referenceState.hasOwnProperty(o)&&void 0!==i[o]&&(t=i[o].x-n[o].positions.x,e=i[o].y-n[o].positions.y,.3<Math.sqrt(Math.pow(t,2)+Math.pow(e,2))))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=this.options.maxVelocity?this.options.maxVelocity:1e9,i=0,n=0,o=0;o<t.length;o++){var r=t[o],s=this._performStep(r,e);i=Math.max(i,s),n+=s}this.adaptiveTimestepEnabled=n/t.length<5,this.stabilized=i<this.options.minVelocity}},{key:"_performStep",value:function(t,e){var i=this.body.nodes[t],n=this.timestep,o=this.physicsBody.forces,r=this.physicsBody.velocities;if(!(this.previousStates[t]={x:i.x,y:i.y,vx:r[t].x,vy:r[t].y})===i.options.fixed.x){var s=this.modelOptions.damping*r[t].x,a=(o[t].x-s)/i.options.mass;r[t].x+=a*n,r[t].x=Math.abs(r[t].x)>e?0<r[t].x?e:-e:r[t].x,i.x+=r[t].x*n}else o[t].x=0,r[t].x=0;if(!1===i.options.fixed.y){var l=this.modelOptions.damping*r[t].y,u=(o[t].y-l)/i.options.mass;r[t].y+=u*n,r[t].y=Math.abs(r[t].y)>e?0<r[t].y?e:-e:r[t].y,i.y+=r[t].y*n}else o[t].y=0,r[t].y=0;return Math.sqrt(Math.pow(r[t].x,2)+Math.pow(r[t].y,2))}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&t[e].x&&t[e].y&&(this.freezeCache[e]={x:t[e].options.fixed.x,y:t[e].options.fixed.y},t[e].options.fixed.x=!0,t[e].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(t){var e=this,i=0<arguments.length&&void 0!==t?t:this.options.stabilization.iterations;"number"!=typeof i&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),i=this.options.stabilization.iterations),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=i,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_stabilizationBatch",value:function(){function t(){return!1===i.stabilized&&i.stabilizationIterations<i.targetIterations}function e(){i.body.emitter.emit("stabilizationProgress",{iterations:i.stabilizationIterations,total:i.targetIterations})}var i=this;!1===this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,e());for(var n=0;t()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;e(),t()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.body.nodes[this.physicsBody.physicsNodeIndices[e]],n=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[e]],o=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.x,2)),r=Math.min(Math.max(5,o),15),s=3*r,a=g.HSVToHex((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1);t.lineWidth=r,t.strokeStyle=a,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(i.x+20*n.x,i.y+20*n.y),t.stroke();var l=Math.atan2(n.y,n.x);t.fillStyle=a,t.arrowEndpoint(i.x+20*n.x+Math.cos(l)*s,i.y+20*n.y+Math.sin(l)*s,l,s),t.fill()}}}]),v);function v(t){(0,n.default)(this,v),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},g.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}e.default=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(var r=0;r<n;r++)0<(t=e[i[r]]).options.mass&&(this._getForceContribution(o.root.children.NW,t),this._getForceContribution(o.root.children.NE,t),this._getForceContribution(o.root.children.SW,t),this._getForceContribution(o.root.children.SE,t))}}},{key:"_getForceContribution",value:function(t,e){var i,n,o;0<t.childrenCount&&(i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,(o=Math.sqrt(i*i+n*n))*t.calcSize>this.thetaInversed?this._calculateForces(o,i,n,e,t):4===t.childrenCount?(this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)):t.children.data.id!=e.id&&this._calculateForces(o,i,n,e,t))}},{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var r=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(t,3),s=e*r,a=i*r;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,n=e.length,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,l=1;l<n;l++){var u=t[e[l]].x,h=t[e[l]].y;0<t[e[l]].options.mass&&(u<o&&(o=u),s<u&&(s=u),h<r&&(r=h),a<h&&(a=h))}var c=Math.abs(s-o)-Math.abs(a-r);0<c?(r-=.5*c,a+=.5*c):(o+=.5*c,s-=.5*c);var d=Math.max(1e-5,Math.abs(s-o)),p=.5*d,f=.5*(o+s),g=.5*(r+a),m={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-p,maxX:f+p,minY:g-p,maxY:g+p},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(m.root);for(var v=0;v<n;v++)0<(i=t[e[v]]).options.mass&&this._placeInTree(m.root,i);return m}},{key:"_updateBranchMass",value:function(t,e){var i=t.mass+e.options.mass,n=1/i;t.centerOfMass.x=t.centerOfMass.x*t.mass+e.x*e.options.mass,t.centerOfMass.x*=n,t.centerOfMass.y=t.centerOfMass.y*t.mass+e.y*e.options.mass,t.centerOfMass.y*=n,t.mass=i;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e),t.children.NW.range.maxX>e.x?t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NW"):this._placeInRegion(t,e,"SW"):t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NE"):this._placeInRegion(t,e,"SE")}},{key:"_placeInRegion",value:function(t,e,i){switch(t.children[i].childrenCount){case 0:t.children[i].children.data=e,t.children[i].childrenCount=1,this._updateBranchMass(t.children[i],e);break;case 1:t.children[i].children.data.x===e.x&&t.children[i].children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(t.children[i]),this._placeInTree(t.children[i],e));break;case 4:this._placeInTree(t.children[i],e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,n=void 0,o=void 0,r=void 0,s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY+s,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),s);function s(t,e,i){(0,n.default)(this,s),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this.randomSeed=5}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,r,s,a,l=this.body.nodes,u=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,c=this.options.nodeDistance,d=-2/3/c,p=0;p<u.length-1;p++){s=l[u[p]];for(var f=p+1;f<u.length;f++)t=(a=l[u[f]]).x-s.x,e=a.y-s.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*Math.random()),i<2*c&&(r=i<.5*c?1:d*i+4/3,n=t*(r/=i),o=e*r,h[s.id].x-=n,h[s.id].y-=o,h[a.id].x+=n,h[a.id].y+=o)}}}]),s);function s(t,e,i){(0,n.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,n,o,r,s,a,l,u,h=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,p=this.options.nodeDistance;for(l=0;l<c.length-1;l++)for(s=h[c[l]],u=l+1;u<c.length;u++)a=h[c[u]],s.level===a.level&&(t=a.x-s.x,e=a.y-s.y,r=(i=Math.sqrt(t*t+e*e))<p?-Math.pow(.05*i,2)+Math.pow(.05*p,2):0,0===i?i=.01:r/=i,n=t*r,o=e*r,d[s.id].x-=n,d[s.id].y-=o,d[a.id].x+=n,d[a.id].y+=o)}}]),s);function s(t,e,i){(0,n.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,n=this.body.edges,o=void 0,r=void 0,s=void 0,a=0;a<i.length;a++)!0===(e=n[i[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,r=e.edgeType.via,s=e.from,this._calculateSpringForce(o,r,.5*t),this._calculateSpringForce(r,s,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,o=t.y-e.y,r=Math.max(Math.sqrt(n*n+o*o),.01),s=this.options.springConstant*(i-r)/r,a=n*s,l=o*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),s);function s(t,e,i){(0,n.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,r,s,a=this.body.edges,l=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,c=0;c<u.length;c++){var d=u[c];h[d].springFx=0,h[d].springFy=0}for(var p=0;p<l.length;p++)!0===(e=a[l[p]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,s=0===(s=Math.sqrt(i*i+n*n))?.01:s,o=i*(m=this.options.springConstant*(t-s)/s),r=n*m,e.to.level!=e.from.level?(void 0!==h[e.toId]&&(h[e.toId].springFx-=o,h[e.toId].springFy-=r),void 0!==h[e.fromId]&&(h[e.fromId].springFx+=o,h[e.fromId].springFy+=r)):(void 0!==h[e.toId]&&(h[e.toId].x-=.5*o,h[e.toId].y-=.5*r),void 0!==h[e.fromId]&&(h[e.fromId].x+=.5*o,h[e.fromId].y+=.5*r)));for(var f,g,m=1,v=0;v<u.length;v++){var y=u[v];f=Math.min(m,Math.max(-m,h[y].springFx)),g=Math.min(m,Math.max(-m,h[y].springFy)),h[y].x+=f,h[y].y+=g}for(var _=0,b=0,w=0;w<u.length;w++){var C=u[w];_+=h[C].x,b+=h[C].y}for(var S=_/u.length,x=b/u.length,k=0;k<u.length;k++){var O=u[k];h[O].x-=S,h[O].y-=x}}}]),s);function s(t,e,i){(0,n.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,n=void 0,o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++)t=-(n=o[r[a]]).x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}},{key:"_calculateForces",value:function(t,e,i,n,o){var r=0===t?0:this.options.centralGravity/t;n[o.id].x=e*r,n[o.id].y=i*r}}]),s);function s(t,e,i){(0,n.default)(this,s),this.body=t,this.physicsBody=e,this.setOptions(i)}e.default=r},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(213));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var r=n.edges.length+1,s=this.options.gravitationalConstant*o.mass*n.options.mass*r/Math.pow(t,2),a=e*s,l=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(176)),o=u(i(135)),r=u(i(136)),s=u(i(179)),a=u(i(180)),l=u(i(218));function u(t){return t&&t.__esModule?t:{default:t}}var h,c=(h=l.default,(0,a.default)(d,h),(0,r.default)(d,[{key:"_calculateForces",value:function(t,e,i,n,o){if(0<t){var r=o.edges.length+1,s=this.options.centralGravity*r*o.options.mass;n[o.id].x=e*s,n[o.id].y=i*s}}}]),d);function d(t,e,i){return(0,o.default)(this,d),(0,s.default)(this,(d.__proto__||(0,n.default)(d)).call(this,t,e,i))}e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var b=r(i(58)),s=r(i(62)),n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var T=i(1),M=i(211).default,_=i(222).default,a=((0,o.default)(l,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,s.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=t&&i.push(o.id)}for(var r=0;r<i.length;r++)this.clusterByConnection(i[r],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:{},n=!(1<arguments.length&&void 0!==e)||e;if(void 0===i.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");i=this._checkOptions(i);for(var o={},r={},s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s],l=this.body.nodes[a],u=M.cloneOptions(l);if(!0===i.joinCondition(u)){o[a]=this.body.nodes[a];for(var h=0;h<l.edges.length;h++){var c=l.edges[h];void 0===this.clusteredEdges[c.id]&&(r[c.id]=c)}}}this._cluster(o,r,i,n)}},{key:"clusterByEdgeCount",value:function(t,e,i){var n=!(2<arguments.length&&void 0!==i)||i;e=this._checkOptions(e);for(var o=[],r={},s=void 0,a=void 0,l=void 0,u=void 0,h=void 0,c=0;c<this.body.nodeIndices.length;c++){var d={},p={};if(void 0===r[u=this.body.nodeIndices[c]]){h=0,l=this.body.nodes[u],a=[];for(var f=0;f<l.edges.length;f++)s=l.edges[f],void 0===this.clusteredEdges[s.id]&&(s.toId!==s.fromId&&h++,a.push(s));if(h===t){for(var g=!0,m=0;m<a.length;m++){s=a[m];var v=this._getConnectedId(s,u);if(void 0===e.joinCondition)p[s.id]=s,d[u]=this.body.nodes[u],d[v]=this.body.nodes[v],r[u]=!0;else{var y=M.cloneOptions(this.body.nodes[u]);if(!0!==e.joinCondition(y)){g=!1;break}p[s.id]=s,d[u]=this.body.nodes[u],r[u]=!0}}0<(0,b.default)(d).length&&0<(0,b.default)(p).length&&!0===g&&o.push({nodes:d,edges:p})}}}for(var _=0;_<o.length;_++)this._cluster(o[_].nodes,o[_].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e;this.clusterByEdgeCount(1,t,i)}},{key:"clusterBridges",value:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e;this.clusterByEdgeCount(2,t,i)}},{key:"clusterByConnection",value:function(t,e,i){var n=!(2<arguments.length&&void 0!==i)||i;if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];void 0===(e=this._checkOptions(e,o)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);var r={},s={},a=o.id,l=M.cloneOptions(o);r[a]=o;for(var u=0;u<o.edges.length;u++){var h=o.edges[u];if(void 0===this.clusteredEdges[h.id]){var c=this._getConnectedId(h,a);if(void 0===this.clusteredNodes[c])if(c!==a)if(void 0===e.joinCondition)s[h.id]=h,r[c]=this.body.nodes[c];else{var d=M.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(l,d)&&(s[h.id]=h,r[c]=this.body.nodes[c])}else s[h.id]=h}}var p=(0,b.default)(r).map(function(t){return r[t].id});for(f in r)for(var f=r[f],g=0;g<f.edges.length;g++){var m=f.edges[g];-1<p.indexOf(this._getConnectedId(m,f.id))&&(s[m.id]=m)}this._cluster(r,s,e,n)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var o=void 0,r=void 0,s=void 0,a=void 0,l=void 0,u=void 0,h=(0,b.default)(t),c=[],d=0;d<h.length;d++){s=t[r=h[d]];for(var p=0;p<s.edges.length;p++)o=s.edges[p],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?e[o.id]=o:u=o.toId==r?(a=i.id,l=o.fromId):(a=o.toId,l=i.id,a),void 0===t[u]&&c.push({edge:o,fromId:l,toId:a}))}for(var f=0;f<c.length;f++){var g=c[f].edge,m=M.cloneOptions(g,"edge");T.deepExtend(m,n),m.from=c[f].fromId,m.to=c[f].toId,m.id="clusterEdge:"+T.randomUUID();var v=this.body.functions.createEdge(m);v.clusteringEdgeReplacingId=g.id,this.body.edges[g.id].edgeReplacedById=v.id,(this.body.edges[v.id]=v).connect(),this._backupEdgeOptions(g),g.setOptions({physics:!1,hidden:!0})}}},{key:"_checkOptions",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(t,e,i,n){var o=!(3<arguments.length&&void 0!==n)||n;if(0!=(0,b.default)(t).length&&(1!=(0,b.default)(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){for(var r in t)if(t.hasOwnProperty(r)&&void 0!==this.clusteredNodes[r])return;var s=T.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var a=[];for(var l in t)if(t.hasOwnProperty(l)){var u=M.cloneOptions(t[l]);a.push(u)}var h=[];for(var c in e)if(e.hasOwnProperty(c)&&"clusterEdge:"!==c.substr(0,12)){var d=M.cloneOptions(e[c],"edge");h.push(d)}if(!(s=i.processProperties(s,a,h)))throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+T.randomUUID());var p=s.id;void 0===s.label&&(s.label="cluster");var f=void 0;void 0===s.x&&(f=this._getClusterPosition(t),s.x=f.x),void 0===s.y&&(void 0===f&&(f=this._getClusterPosition(t)),s.y=f.y),s.id=p;var g=this.body.functions.createNode(s,_);for(var m in g.isCluster=!0,g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=g,this._createClusterEdges(t,e,s,i.clusterEdgeProperties),e)if(e.hasOwnProperty(m)&&void 0!==this.body.edges[m]){var v=this.body.edges[m];this._backupEdgeOptions(v),v.setOptions({physics:!1,hidden:!0})}for(var y in t)t.hasOwnProperty(y)&&(this.clusteredNodes[y]={clusterId:s.id,node:this.body.nodes[y]},this.body.nodes[y].setOptions({hidden:!0,physics:!1}));!(s.id=void 0)===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics,hidden:t.options.hidden})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics,hidden:e.hidden}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,b.default)(t),i=t[e[0]].x,n=t[e[0]].x,o=t[e[0]].y,r=t[e[0]].y,s=void 0,a=1;a<e.length;a++)i=(s=t[e[a]]).x<i?s.x:i,n=s.x>n?s.x:n,o=s.y<o?s.y:o,r=s.y>r?s.y:r;return{x:.5*(i+n),y:.5*(o+r)}}},{key:"openCluster",value:function(t,e,i){var n=!(2<arguments.length&&void 0!==i)||i;if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[t])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0!==this.body.nodes[t].containedNodes){var o=this.body.nodes[t],r=o.containedNodes,s=o.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var a={},l={x:o.x,y:o.y};for(var u in r)if(r.hasOwnProperty(u)){var h=this.body.nodes[u];a[u]={x:h.x,y:h.y}}var c=e.releaseFunction(l,a);for(var d in r)if(r.hasOwnProperty(d)){var p=this.body.nodes[d];void 0!==c[d]&&(p.x=void 0===c[d].x?o.x:c[d].x,p.y=void 0===c[d].y?o.y:c[d].y)}}else for(var f in r)if(r.hasOwnProperty(f)){var g=this.body.nodes[f];!1===(g=r[f]).options.fixed.x&&(g.x=o.x),!1===g.options.fixed.y&&(g.y=o.y)}for(var m in r)if(r.hasOwnProperty(m)){var v=this.body.nodes[m];v.vx=o.vx,v.vy=o.vy,v.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[m]}for(var y=[],_=0;_<o.edges.length;_++)y.push(o.edges[_]);for(var b=0;b<y.length;b++){var w=y[b],C=this._getConnectedId(w,t);if(void 0!==this.clusteredNodes[C]){var S=this.body.nodes[this.clusteredNodes[C].clusterId],x=this.body.edges[w.clusteringEdgeReplacingId];if(void 0!==x){delete s[(S.containedEdges[x.id]=x).id];var k=x.fromId,O=x.toId;x.toId==C?O=this.clusteredNodes[C].clusterId:k=this.clusteredNodes[C].clusterId;var E=M.cloneOptions(x,"edge");T.deepExtend(E,S.clusterEdgeProperties);var L="clusterEdge:"+T.randomUUID();T.deepExtend(E,{from:k,to:O,hidden:!1,physics:!0,id:L});var D=this.body.functions.createEdge(E);D.clusteringEdgeReplacingId=x.id,this.body.edges[L]=D,this.body.edges[L].connect()}}else{var I=this.body.edges[w.clusteringEdgeReplacingId];void 0!==I&&this._restoreEdge(I)}w.cleanup(),w.disconnect(),delete this.body.edges[w.id]}for(var N in s)s.hasOwnProperty(N)&&this._restoreEdge(s[N]);delete this.body.nodes[t],!0===n&&this.body.emitter.emit("_dataChanged")}else console.log("The node:"+t+" is not a cluster.")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0,n=void 0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(n=this.body.nodes[t]))return[];e.push(n.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(n=this.body.nodes[t])?[]:(e.push(n.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){for(var e=t,i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)i++,void 0!==(t=this.body.edges[t].clusteringEdgeReplacingId)&&(e=t);return e}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodes[this.body.nodeIndices[o]];r.edges.length>n&&(n=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),i+=1}t/=i;var s=(e/=i)-Math.pow(t,2),a=Math.sqrt(s),l=Math.floor(t+2*a);return n<l&&(l=n),l}}]),l);function l(t){var e=this;(0,n.default)(this,l),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},T.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var s=r(i(176)),a=r(i(135)),l=r(i(179)),n=r(i(180)),o=r(i(169));function r(t){return t&&t.__esModule?t:{default:t}}var u,h=(u=o.default,(0,n.default)(c,u),c);function c(t,e,i,n,o){(0,a.default)(this,c);var r=(0,l.default)(this,(c.__proto__||(0,s.default)(c)).call(this,t,e,i,n,o));return r.isCluster=!0,r.containedNodes={},r.containedEdges={},r}e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var s=i(1),a=((0,o.default)(l,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=0<t.renderRequests,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,!(t.renderingActive=!1)===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&s.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(!0===this.requiresTimeout?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(!(this.renderTimer=void 0)===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&((this.redrawRequested=!0)===this.requiresTimeout?window.setTimeout(function(){t._redraw(!1)},0):window.requestAnimationFrame(function(){t._redraw(!1)}))}},{key:"_redraw",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,o),0===this.canvas.frame.clientWidth)return;i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(i),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(i,e),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===e&&i.clearRect(0,0,n,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var n in e)e.hasOwnProperty(n)&&((i=e[n]).resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t,e){for(var i=1<arguments.length&&void 0!==e&&e,n=this.body.nodes,o=this.body.nodeIndices,r=void 0,s=[],a=this.canvas.DOMtoCanvas({x:-20,y:-20}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),u={top:a.y,left:a.x,bottom:l.y,right:l.x},h=0;h<o.length;h++)(r=n[o[h]]).isSelected()?s.push(o[h]):!0===i?r.draw(t):!0===r.isBoundingBoxOverlappingWith(u)?r.draw(t):r.updateBoundingBox(t,r.selected);for(var c=0;c<s.length;c++)(r=n[s[c]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=void 0,o=0;o<i.length;o++)!0===(n=e[i[o]]).connected&&n.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),l);function l(t,e){(0,n.default)(this,l),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(113),a=i(120),l=i(1),u=((0,o.default)(h,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&l.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),l.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),l.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(t){var e=0<arguments.length&&void 0!==t?t:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o=n.x-this.cameraState.position.x,r=n.y-this.cameraState.position.y;this.body.view.translation.x+=o*this.body.view.scale,this.body.view.translation.y+=r*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),a.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new s(this.frame),a.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:this.options.width,n=1<arguments.length&&void 0!==e?e:this.options.height;i=this._prepareValue(i),n=this._prepareValue(n);var o=!1,r=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),i!=this.options.width||n!=this.options.height||this.frame.style.width!=i||this.frame.style.height!=n)this._getCameraState(a),this.frame.style.width=i,this.frame.style.height=n,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=i,this.options.height=n,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},o=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===l&&this.frame.canvas.height===u||this._getCameraState(a),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,o=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,o=!0)}return!0===o&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,o}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw"Could not get canvax context";return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw"Could not get canvax context";t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),h);function h(t){(0,n.default)(this,h),this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(1),p=i(211).default,a=((0,o.default)(l,[{key:"setOptions",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.options=e}},{key:"fit",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:{nodes:[]},n=1<arguments.length&&void 0!==e&&e,o=void 0,r=void 0;if(void 0!==i.nodes&&0!==i.nodes.length||(i.nodes=this.body.nodeIndices),!0===n){var s=0;for(var a in this.body.nodes)this.body.nodes.hasOwnProperty(a)&&!0===this.body.nodes[a].predefinedPosition&&(s+=1);if(s>.5*this.body.nodeIndices.length)return void this.fit(i,!1);o=p.getRange(this.body.nodes,i.nodes),r=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,r*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),o=p.getRange(this.body.nodes,i.nodes);var l=1.1*Math.abs(o.maxX-o.minX),u=1.1*Math.abs(o.maxY-o.minY),h=this.canvas.frame.canvas.clientWidth/l,c=this.canvas.frame.canvas.clientHeight/u;r=h<=c?h:c}1<r?r=1:0===r&&(r=1);var d={position:p.findCenter(o),scale:r,animation:i.animation};this.moveTo(d)}},{key:"focus",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:{};if(void 0!==this.body.nodes[t]){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};i.position=n,i.lockedOnNode=t,this.moveTo(i)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=e.x-t.position.x,n=e.y-t.position.y;this.targetTranslation={x:this.sourceTranslation.x+i*this.targetScale+t.offset.x,y:this.sourceTranslation.y+n*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=i.x-t,o=i.y-e,r=this.body.view.translation,s={x:r.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(t){var e=0<arguments.length&&void 0!==t&&t;this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var i=s.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i},1<=this.easingTime&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),l);function l(t,e){var i=this;(0,n.default)(this,l),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){i.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(1),a=i(227).default,v=i(134).default,l=((0,o.default)(u,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(s.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),s.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(s.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=s.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-s.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-s.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if(10<(new Date).valueOf()-this.touchTime){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e,i){var n=2<arguments.length&&void 0!==i&&i,o=this.selectionHandler.getSelection(),r=!1;r=!0===n?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var s=this.selectionHandler.getSelection(),a=this._determineDifference(o,s),l=this._determineDifference(s,o);0<a.edges.length&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,o),r=!0),0<a.nodes.length&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,o),r=!0),0<l.nodes.length&&(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0),0<l.edges.length&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){function i(t,e){for(var i=[],n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&i.push(o)}return i}return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=s.extend({},this.body.view.translation),(this.drag.nodeId=void 0)!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n],r={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var i=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var e=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,e);var o=e.x-this.drag.pointer.x,r=e.y-this.drag.pointer.y;n.forEach(function(t){var e=t.node;!1===t.xFixed&&(e.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(e.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(t.y)+r))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=e.x-this.drag.pointer.x,a=e.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),10<t&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,r=t/i,s=(1-r)*e.x+o.x*r,a=(1-r)*e.y+o.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,n=e/10;e<0&&(n/=1-n),i*=1+n;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,o)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;if(void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover){var o=this.selectionHandler.getNodeAt(i);void 0===o&&(o=this.selectionHandler.getEdgeAt(i)),this.selectionHandler.hoverObject(o)}}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,l=this.body.nodes,u=void 0,h=[],c=0;c<a.length;c++)!0===(u=l[a[c]]).isOverlappingWith(n)&&void 0!==u.getTitle()&&h.push(a[c]);0<h.length&&(this.popupObj=l[h[h.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var d=this.body.edgeIndices,p=this.body.edges,f=void 0,g=[],m=0;m<d.length;m++)!0===(f=p[d[m]]).isOverlappingWith(n)&&!0===f.connected&&void 0!==f.getTitle()&&g.push(d[m]);0<g.length&&(this.popupObj=p[g[g.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new v(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),u);function u(t,e,i){(0,n.default)(this,u),this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new a(t,e),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}i(1);var s=i(113),a=i(120),l=i(116),u=((0,o.default)(h,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var o=new s(this.navigationDOM[e[n]]);"_fit"===i[n]?a.onTouch(o,this._fit.bind(this)):a.onTouch(o,this.bindToRedraw.bind(this,i[n])),this.navigationHammers.push(o)}var r=new s(this.canvas.frame);a.onRelease(r,function(){t._stopMovement()}),this.navigationHammers.push(r),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=l({container:window,preventDefault:!0}):this.keycharm=l({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),h);function h(t,e){var i=this;(0,n.default)(this,h),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(135)),o=r(i(136));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(169).default,a=i(202).default,l=i(1),u=((0,o.default)(h,[{key:"setOptions",value:function(t){void 0!==t&&l.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&((e=!0)===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_generateClickEvent",value:function(t,e,i,n,o){var r=void 0;(r=!0===(4<arguments.length&&void 0!==o&&o)?{nodes:[],edges:[]}:this.getSelection()).pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},r.event=e,void 0!==n&&(r.previousSelection=n),this.body.emitter.emit(t,r)}},{key:"selectObject",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof s&&!0===i&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e,n=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(n);return 0<o.length?!0===i?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t,e){for(var i=!(1<arguments.length&&void 0!==e)||e,n=this.canvas.DOMtoCanvas(t),o=10,r=null,s=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var l=this.body.edgeIndices[a],u=s[l];if(u.connected){var h=u.from.x,c=u.from.y,d=u.to.x,p=u.to.y,f=u.edgeType.getDistanceToEdge(h,c,d,p,n.x,n.y);f<o&&(r=l,o=f)}}return null!==r?!0===i?this.body.edges[r]:r:void 0}},{key:"_addToSelection",value:function(t){t instanceof s?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof s?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof s?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&1<this.selectionObj.nodes[t].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"blurObject",value:function(t){!0===t.hover&&(t.hover=!1,t instanceof s?this.body.emitter.emit("blurNode",{node:t.id}):this.body.emitter.emit("blurEdge",{edge:t.id}))}},{key:"hoverObject",value:function(t){var e=!1;for(var i in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(i)&&(void 0===t||t instanceof s&&t.id!=i||t instanceof a)&&(this.blurObject(this.hoverObj.nodes[i]),delete this.hoverObj.nodes[i],e=!0);for(var n in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(n)&&(!0===e?(this.hoverObj.edges[n].hover=!1,delete this.hoverObj.edges[n]):(void 0===t||t instanceof a&&t.id!=n||t instanceof s&&!t.hover)&&(this.blurObject(this.hoverObj.edges[n]),delete this.hoverObj.edges[n],e=!0));void 0!==t&&(!1===t.hover&&(t.hover=!0,this._addToHover(t),e=!0,t instanceof s?this.body.emitter.emit("hoverNode",{node:t.id}):this.body.emitter.emit("hoverEdge",{edge:t.id})),t instanceof s&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(t)),!0===e&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:{},n=void 0,o=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if(!i.unselectAll&&void 0!==i.unselectAll||this.unselectAll(),t.nodes)for(n=0;n<t.nodes.length;n++){o=t.nodes[n];var r=this.body.nodes[o];if(!r)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(r,i.highlightEdges)}if(t.edges)for(n=0;n<t.edges.length;n++){o=t.edges[n];var s=this.body.edges[o];if(!s)throw new RangeError('Edge with id "'+o+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e;if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:i})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}}]),h);function h(t,e){var i=this;(0,n.default)(this,h),this.body=t,this.canvas=e,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(58)),o=l(i(90)),r=l(i(62)),s=l(i(135)),a=l(i(136));function l(t){return t&&t.__esModule?t:{default:t}}var u=i(1),h=i(113),c=i(120),d=((0,a.default)(p,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,u.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,n=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(n)),1===t&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(n)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(n)),0!==i&&(0<t&&!1!==this.options.deleteNode?(!0===o&&this._createSeperator(4),this._createDeleteButton(n)):0===t&&!1!==this.options.deleteEdge&&(!0===o&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var i=u.deepExtend({},t.options,!1);if(i.x=t.x,i.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(t){null!=t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,r.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var i=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(i.from.x,i.from.y),o=this._getNewTargetNode(i.to.x,i.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(o.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var e=i.edgeType.findBorderPositions(t);!1===n.selected&&(n.x=e.from.x,n.y=e.from.y),!1===o.selected&&(o.x=e.to.x,o.y=e.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from,e.to)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(0<t.length){for(var o=0;o<t.length;o++)if(!0===this.body.nodes[t[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else 0<i.length&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var r={nodes:t,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(r,function(t){null!=t&&"delete"===e.inMode&&(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes)),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=u.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+u.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},u.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){!(this.inMode=!1)===this.guiEnabled&&(u.recursiveDOMDelete(this.editModeDiv),u.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),u.recursiveDOMDelete(this.manipulationDiv),u.recursiveDOMDelete(this.editModeDiv),u.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(t){var e=0<arguments.length&&void 0!==t?t:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){if(this.options.rtl)var e="vis-button vis-delete-rtl";else e="vis-button vis-delete";var i=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i,n){var o=3<arguments.length&&void 0!==n?n:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,o.default)((0,n.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new h(t,{});c.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=u.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=i.isOverlappingWith(e),s=n.isOverlappingWith(e);!0===r?(this.selectedControlNode=i,o.edgeType.from=i):!0===s&&(this.selectedControlNode=n,o.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var n=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;0<=s;s--)if(o[s]!==this.selectedControlNode.id){r=this.body.nodes[o[s]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(!0===r.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(r.id,n.to.id):this._performEditEdge(n.from.id,r.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if(100<(new Date).valueOf()-this.touchTime){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=u.extend({},this.body.view.translation);var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+u.randomUUID(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var n=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;0<=s;s--)if(-1===this.temporaryIds.nodes.indexOf(o[s])){r=this.body.nodes[o[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(n,r.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(t){var e=this,i={id:u.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!=t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},o=this.options.editEdge;if("object"===(void 0===o?"undefined":(0,r.default)(o))&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(n,function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw")):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll()),i.showManipulatorToolbar()})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),p);function p(t,e,i){var n=this;(0,s.default)(this,p),this.body=t,this.canvas=e,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},u.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){n._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}e.default=d},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",n="boolean",o="number",r="array",s="object",a={configure:{enabled:{boolean:n},filter:{boolean:n,string:i,array:r,function:"function"},container:{dom:"dom"},showButton:{boolean:n},__type__:{object:s,boolean:n,string:i,array:r,function:"function"}},edges:{arrows:{to:{enabled:{boolean:n},scaleFactor:{number:o},type:{string:["arrow","circle"]},__type__:{object:s,boolean:n}},middle:{enabled:{boolean:n},scaleFactor:{number:o},type:{string:["arrow","circle"]},__type__:{object:s,boolean:n}},from:{enabled:{boolean:n},scaleFactor:{number:o},type:{string:["arrow","circle"]},__type__:{object:s,boolean:n}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:n},chosen:{label:{boolean:n,function:"function"},edge:{boolean:n,function:"function"},__type__:{object:s,boolean:n}},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:n},opacity:{number:o},__type__:{object:s,string:i}},dashes:{boolean:n,array:r},font:{color:{string:i},size:{number:o},face:{string:i},background:{string:i},strokeWidth:{number:o},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:o},multi:{boolean:n,string:i},bold:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},boldital:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},ital:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},mono:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},__type__:{object:s,string:i}},hidden:{boolean:n},hoverWidth:{function:"function",number:o},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:n},length:{number:o,undefined:"undefined"},physics:{boolean:n},scaling:{min:{number:o},max:{number:o},label:{enabled:{boolean:n},min:{number:o},max:{number:o},maxVisible:{number:o},drawThreshold:{number:o},__type__:{object:s,boolean:n}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:o},selfReferenceSize:{number:o},shadow:{enabled:{boolean:n},color:{string:i},size:{number:o},x:{number:o},y:{number:o},__type__:{object:s,boolean:n}},smooth:{enabled:{boolean:n},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:o},forceDirection:{string:["horizontal","vertical","none"],boolean:n},__type__:{object:s,boolean:n}},title:{string:i,undefined:"undefined"},width:{number:o},widthConstraint:{maximum:{number:o},__type__:{object:s,boolean:n,number:o}},value:{number:o,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:n},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:n},dragView:{boolean:n},hideEdgesOnDrag:{boolean:n},hideNodesOnDrag:{boolean:n},hover:{boolean:n},keyboard:{enabled:{boolean:n},speed:{x:{number:o},y:{number:o},zoom:{number:o},__type__:{object:s}},bindToWindow:{boolean:n},__type__:{object:s,boolean:n}},multiselect:{boolean:n},navigationButtons:{boolean:n},selectable:{boolean:n},selectConnectedEdges:{boolean:n},hoverConnectedEdges:{boolean:n},tooltipDelay:{number:o},zoomView:{boolean:n},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:o},improvedLayout:{boolean:n},hierarchical:{enabled:{boolean:n},levelSeparation:{number:o},nodeSpacing:{number:o},treeSpacing:{number:o},blockShifting:{boolean:n},edgeMinimization:{boolean:n},parentCentralization:{boolean:n},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:n}},__type__:{object:s}},manipulation:{enabled:{boolean:n},initiallyActive:{boolean:n},addNode:{boolean:n,function:"function"},addEdge:{boolean:n,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:n,function:"function"}},deleteNode:{boolean:n,function:"function"},deleteEdge:{boolean:n,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:n}},nodes:{borderWidth:{number:o},borderWidthSelected:{number:o,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},chosen:{label:{boolean:n,function:"function"},node:{boolean:n,function:"function"},__type__:{object:s,boolean:n}},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},__type__:{object:s,string:i}},fixed:{x:{boolean:n},y:{boolean:n},__type__:{object:s,boolean:n}},font:{align:{string:i},color:{string:i},size:{number:o},face:{string:i},background:{string:i},strokeWidth:{number:o},strokeColor:{string:i},vadjust:{number:o},multi:{boolean:n,string:i},bold:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},boldital:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},ital:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},mono:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},__type__:{object:s,string:i}},group:{string:i,number:o,undefined:"undefined"},heightConstraint:{minimum:{number:o},valign:{string:i},__type__:{object:s,boolean:n,number:o}},hidden:{boolean:n},icon:{face:{string:i},code:{string:i},size:{number:o},color:{string:i},__type__:{object:s}},id:{string:i,number:o},image:{selected:{string:i,undefined:"undefined"},unselected:{string:i,undefined:"undefined"},__type__:{object:s,string:i}},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:n},level:{number:o,undefined:"undefined"},margin:{top:{number:o},right:{number:o},bottom:{number:o},left:{number:o},__type__:{object:s,number:o}},mass:{number:o},physics:{boolean:n},scaling:{min:{number:o},max:{number:o},label:{enabled:{boolean:n},min:{number:o},max:{number:o},maxVisible:{number:o},drawThreshold:{number:o},__type__:{object:s,boolean:n}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:n},color:{string:i},size:{number:o},x:{number:o},y:{number:o},__type__:{object:s,boolean:n}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{boolean:n,array:r},borderRadius:{number:o},interpolation:{boolean:n},useImageSize:{boolean:n},useBorderWithImage:{boolean:n},__type__:{object:s}},size:{number:o},title:{string:i,undefined:"undefined"},value:{number:o,undefined:"undefined"},widthConstraint:{minimum:{number:o},maximum:{number:o},__type__:{object:s,boolean:n,number:o}},x:{number:o},y:{number:o},__type__:{object:s}},physics:{enabled:{boolean:n},barnesHut:{gravitationalConstant:{number:o},centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},damping:{number:o},avoidOverlap:{number:o},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:o},centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},damping:{number:o},avoidOverlap:{number:o},__type__:{object:s}},repulsion:{centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},nodeDistance:{number:o},damping:{number:o},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},nodeDistance:{number:o},damping:{number:o},__type__:{object:s}},maxVelocity:{number:o},minVelocity:{number:o},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:n},iterations:{number:o},updateInterval:{number:o},onlyDynamicEdges:{boolean:n},fit:{boolean:n},__type__:{object:s,boolean:n}},timestep:{number:o},adaptiveTimestep:{boolean:n},__type__:{object:s,boolean:n}},autoResize:{boolean:n},clickToUse:{boolean:n},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},height:{string:i},width:{string:i},__type__:{object:s}};a.groups.__any__=a.nodes,a.manipulation.controlNodeStyle=a.nodes;e.allOptions=a,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var v=s(i(171)),n=s(i(135)),o=s(i(136)),r=s(i(232));function s(t){return t&&t.__esModule?t:{default:t}}var a=((0,o.default)(l,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e,i){var n=2<arguments.length&&void 0!==i&&i,o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var r=0,s=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,l=0,u=0,h=0,c=0,d=0;.01<a&&r<s;){r+=1;var p=this._getHighestEnergyNode(n),f=(0,v.default)(p,4);for(l=f[0],a=f[1],u=f[2],h=f[3],c=a,d=0;1<c&&d<5;){d+=1,this._moveNode(l,u,h);var g=this._getEnergy(l),m=(0,v.default)(g,3);c=m[0],u=m[1],h=m[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=0,o=e[0],r=0,s=0,a=0;a<e.length;a++){var l=e[a];if(!1===i[l].predefinedPosition||!0===i[l].isCluster&&!0===t||!0===i[l].options.fixed.x||!0===i[l].options.fixed.y){var u=this._getEnergy(l),h=(0,v.default)(u,3),c=h[0],d=h[1],p=h[2];n<c&&(n=c,o=l,r=d,s=p)}}return[o,n,r,s]}},{key:"_getEnergy",value:function(t){var e=(0,v.default)(this.E_sums[t],2),i=e[0],n=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,o=this.body.nodes,r=0,s=0,a=0,l=o[t].x,u=o[t].y,h=this.K_matrix[t],c=this.L_matrix[t],d=0;d<n.length;d++){var p=n[d];if(p!==t){var f=o[p].x,g=o[p].y,m=h[p],v=c[p],y=1/Math.pow(Math.pow(l-f,2)+Math.pow(u-g,2),1.5);r+=m*(1-v*Math.pow(u-g,2)*y),s+=m*(v*(l-f)*(u-g)*y),a+=m*(1-v*Math.pow(l-f,2)*y)}}var _=(e/r+i/s)/(s/r-a/s),b=-(s*_+e)/r;o[t].x+=b,o[t].y+=_,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var o=0;o<e.length;o++)this.L_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var o=0;o<e.length;o++)this.K_matrix[e[n]][e[o]]=i*Math.pow(t[e[n]][e[o]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var o=t[n],r=e[o].x,s=e[o].y,a=0,l=0,u=n;u<t.length;u++){var h=t[u];if(h!==o){var c=e[h].x,d=e[h].y,p=1/Math.sqrt(Math.pow(r-c,2)+Math.pow(s-d,2));this.E_matrix[o][u]=[this.K_matrix[o][h]*(r-c-this.L_matrix[o][h]*(r-c)*p),this.K_matrix[o][h]*(s-d-this.L_matrix[o][h]*(s-d)*p)],this.E_matrix[h][n]=this.E_matrix[o][u],a+=this.E_matrix[o][u][0],l+=this.E_matrix[o][u][1]}}this.E_sums[o]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],o=this.K_matrix[t],r=this.L_matrix[t],s=i[t].x,a=i[t].y,l=0,u=0,h=0;h<e.length;h++){var c=e[h];if(c!==t){var d=n[h],p=d[0],f=d[1],g=i[c].x,m=i[c].y,v=1/Math.sqrt(Math.pow(s-g,2)+Math.pow(a-m,2)),y=o[c]*(s-g-r[c]*(s-g)*v),_=o[c]*(a-m-r[c]*(a-m)*v);n[h]=[y,_],l+=y,u+=_;var b=this.E_sums[c];b[0]+=y-p,b[1]+=_-f}}this.E_sums[t]=[l,u]}}]),l);function l(t,e,i){(0,n.default)(this,l),this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new r.default}e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(135));function o(t){return t&&t.__esModule?t:{default:t}}var r=((0,o(i(136)).default)(s,[{key:"getDistances",value:function(t,e,i){for(var n={},o=t.edges,r=0;r<e.length;r++){var s={};n[e[r]]=s;for(var a=0;a<e.length;a++)s[e[a]]=r==a?0:1e9}for(var l=0;l<i.length;l++){var u=o[i[l]];!0===u.connected&&void 0!==n[u.fromId]&&void 0!==n[u.toId]&&(n[u.fromId][u.toId]=1,n[u.toId][u.fromId]=1)}for(var h=e.length,c=0;c<h;c++)for(var d=e[c],p=n[d],f=0;f<h-1;f++)for(var g=e[f],m=n[g],v=f+1;v<h;v++){var y=e[v],_=n[y],b=Math.min(m[y],m[d]+p[y]);m[y]=b,_[g]=b}return n}}]),s);function s(){(0,n.default)(this,s)}e.default=r}],i.c=o,i.p="",i(0);function i(t){if(o[t])return o[t].exports;var e=o[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var n,o},t.exports=n()},function(t,e,i){"use strict";var h=i(102),c=i(58),d=i(43),n=i(177).Promise,o=i(78),p=i(135),r=i(210);function s(t,e,i){this.hub=t,this.container=e,this.eventHub=t.createEventHub(),this.compilerService=t.compilerService,this.domRoot=e.getElement(),this.domRoot.html(d("#conformance").html()),this.editorId=i.editorid,this.maxCompilations=h.cvCompilerCountMax||6,this.langId=i.langId||c.keys(h.languages)[0],this.source=i.source||"",this.sourceNeedsExpanding=!0,this.expandedSource=null,this.status={allowCompile:!1,allowAdd:!0},this.stateByLang={},this.initButtons(),this.initLibraries(i),this.initCallbacks(),this.initFromState(i),this.handleToolbarUI(),o.proxy("send",{hitType:"event",eventCategory:"OpenViewPane",eventAction:"Conformance"}),d(document).on("keyup.editable",c.bind(function(t){27===t.which&&this.libsButton.popover("hide")},this)),d(document).on("click",c.bind(function(t){var e=this.libsButton,i=d(t.target);i.is(e)||0!==e.has(i).length||0!==i.closest(".popover").length||e.popover("hide")},this))}i(124),s.prototype.onLibsChanged=function(){this.saveState(),this.compileAll()},s.prototype.initLibraries=function(t){this.libsWidget=new r.Widget(this.langId,null,this.libsButton,t,c.bind(this.onLibsChanged,this))},s.prototype.initButtons=function(){this.selectorList=this.domRoot.find(".compiler-list"),this.addCompilerButton=this.domRoot.find(".add-compiler"),this.selectorTemplate=d("#compiler-selector").find(".form-row"),this.topBar=this.domRoot.find(".top-bar"),this.libsButton=this.topBar.find(".show-libs"),this.hideable=this.domRoot.find(".hideable")},s.prototype.initCallbacks=function(){this.container.on("destroy",function(){this.eventHub.unsubscribe(),this.eventHub.emit("conformanceViewClose",this.editorId)},this),this.container.on("destroy",this.close,this),this.container.on("open",function(){this.eventHub.emit("conformanceViewOpen",this.editorId)},this),this.container.on("resize",this.resize,this),this.container.on("shown",this.resize,this),this.eventHub.on("resize",this.resize,this),this.eventHub.on("editorChange",this.onEditorChange,this),this.eventHub.on("editorClose",this.onEditorClose,this),this.eventHub.on("languageChange",this.onLanguageChange,this),this.addCompilerButton.on("click",c.bind(function(){this.addCompilerSelector(),this.saveState()},this))},s.prototype.setTitle=function(t){this.container.setTitle("Conformance viewer (Editor #"+this.editorId+") "+(0!==t?t+"/"+this.maxCompilations:""))},s.prototype.addCompilerSelector=function(t){t=t||{compilerId:"",options:h.compileOptions[this.langId]};var e=this.selectorTemplate.clone(),i=c.debounce(c.bind(function(){this.saveState(),this.compileChild(e)},this),800),n=e.find(".options").val(t.options).on("change",i).on("keyup",i);e.find(".close").not(".extract-compiler").on("click",c.bind(function(){this.removeCompilerSelector(e)},this)),this.selectorList.append(e);var o=e.find(".status-icon"),r=e.find(".prepend-options"),s=e.find(".extract-compiler"),a=c.bind(function(t){s.toggleClass("d-none",!t),this.handleStatusIcon(o,{code:0});var e=this.compilerService.findCompiler(this.langId,t);e&&this.setCompilationOptionsPopover(r,e.options),this.updateLibraries()},this),l=e.find(".compiler-picker").selectize({sortField:this.compilerService.getSelectizerOrder(),valueField:"id",labelField:"name",searchField:["name"],optgroupField:"group",optgroups:this.compilerService.getGroupsInUse(this.langId),lockOptgroupOrder:!0,options:c.map(this.getCurrentLangCompilers(),c.identity),items:t.compilerId?[t.compilerId]:[],dropdownParent:"body",closeAfterSelect:!0}).on("change",c.bind(function(t){a(d(t.target).val()),this.compileChild(e)},this));a(t.compilerId);var u=c.bind(function(){return p.getCompilerWith(this.editorId,void 0,n.val(),l.val(),this.langId,this.lastState.libs)},this);this.container.layoutManager.createDragSource(s,u),s.click(c.bind(function(){(this.hub.findParentRowOrColumn(this.container)||this.container.layoutManager.root.contentItems[0]).addChild(u)},this)),this.handleToolbarUI(),this.saveState()},s.prototype.getCurrentLangCompilers=function(){return this.compilerService.getCompilersForLang(this.langId)},s.prototype.setCompilationOptionsPopover=function(t,e){t.popover("dispose"),t.popover({content:e||"No options in use",template:'<div class="popover'+(e?" compiler-options-popover":"")+'" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'})},s.prototype.removeCompilerSelector=function(t){t&&t.remove(),this.updateLibraries(),this.handleToolbarUI(),this.saveState()},s.prototype.expandSource=function(){return this.sourceNeedsExpanding||!this.expandedSource?this.compilerService.expand(this.source).then(c.bind(function(t){return this.expandedSource=t,this.sourceNeedsExpanding=!1,t},this)):n.resolve(this.expandedSource)},s.prototype.onEditorChange=function(t,e,i){t===this.editorId&&(this.langId=i,this.source=e,this.sourceNeedsExpanding=!0,this.compileAll())},s.prototype.onEditorClose=function(t){t===this.editorId&&(this.close(),c.defer(function(t){t.container.close()},this))},s.prototype.onCompileResponse=function(t,e){var i=c.pluck((e.stdout||[]).concat(e.stderr||[]),"text").join("\n"),n=0!==e.code,o=!n&&!!i;this.setCompilationOptionsPopover(t.find(".prepend-options"),e.compilationOptions?e.compilationOptions.join(" "):""),t.find(".compiler-out").prop("title",i.replace(/\x1b\[[0-9;]*m(.\[K)?/g,"")).toggleClass("d-none",!i),this.handleStatusIcon(t.find(".status-icon"),{code:n?3:o?2:1,compilerOut:e.code}),this.saveState()},s.prototype.compileChild=function(i){var n=i.find(".compiler-picker");n&&n.val()&&(this.handleStatusIcon(i.find(".status-icon"),{code:4}),this.expandSource().then(c.bind(function(t){var e={source:t,compiler:n.val(),options:{userArguments:i.find(".options").val()||"",filters:{},compilerOptions:{produceAst:!1,produceOptInfo:!1},libraries:[]}};c.each(this.libsWidget.getLibsInUse(),function(t){e.options.libraries.push({id:t.libId,version:t.versionId})}),this.compilerService.submit(e).then(c.bind(function(t){this.onCompileResponse(i,t.result)},this)).catch(c.bind(function(t){this.onCompileResponse(i,{asm:"",code:-1,stdout:"",stderr:t.error})},this))},this)))},s.prototype.compileAll=function(){c.each(this.selectorList.children(),c.bind(function(t){this.compileChild(d(t))},this))},s.prototype.handleToolbarUI=function(){var t=this.selectorList.children().length;this.addCompilerButton.prop("disabled",t>=this.maxCompilations),this.setTitle(t)},s.prototype.handleStatusIcon=function(t,e){t&&t.removeClass().addClass("status-icon fas").css("color",4===e.code?"black":0===e.compilerOut?3===e.code?"#FF6645":2===e.code?"#FF6500":"#12BB12":3===e.code?"#FF1212":2===e.code?"#BB8700":"#FF6645").toggle(0!==e.code).prop("aria-label",4===e.code?"Compiling":0===e.compilerOut?3===e.code?"Compilation succeeded with errors":2===e.code?"Compilation succeeded with warnings":"Compilation succeeded":3===e.code?"Compilation failed with errors":2===e.code?"Compilation failed with warnings":"Compilation failed").prop("data-status",e.code).toggleClass("fa-spinner",4===e.code).toggleClass("fa-times-circle",3===e.code).toggleClass("fa-check-circle",1===e.code||2===e.code)},s.prototype.currentState=function(){var t=c.map(this.selectorList.children(),function(t){return{compilerId:(t=d(t)).find(".compiler-picker").val()||"",options:t.find(".options").val()||""}});return{editorid:this.editorId,langId:this.langId,compilers:t,libs:this.libsWidget.get()}},s.prototype.saveState=function(){this.lastState=this.currentState(),this.container.setState(this.lastState)},s.prototype.resize=function(){this.updateHideables(),this.selectorList.css("height",this.domRoot.height()-this.topBar.outerHeight(!0))},s.prototype.updateHideables=function(){this.hideable.toggle(this.domRoot.width()>this.addCompilerButton.width())},s.prototype.getOverlappingLibraries=function(t){var e=c.map(t,c.bind(function(t){return this.compilerService.findCompiler(this.langId,t)},this)),r={},i=!0;return c.forEach(e,function(n){if(n)if(i)r=c.extend({},n.libs),i=!1;else{var o=c.intersection(c.keys(r),c.keys(n.libs));c.forEach(r,function(t,e){if(o.includes(e)){var i=c.intersection(c.keys(t.versions),c.keys(n.libs[e].versions));r[e].versions=c.pick(t.versions,function(t,e){return i.includes(e)})}else r[e]=!1}),r=c.omit(r,function(t){return!t||c.isEmpty(t.versions)})}}),r},s.prototype.updateLibraries=function(){var t=c.uniq(c.filter(c.map(this.selectorList.children(),function(t){return d(t).find(".compiler-picker").val()}),function(t){return""!==t})),e=this.getOverlappingLibraries(t);this.libsWidget.setNewLangId(this.langId,t.join("|"),e)},s.prototype.onLanguageChange=function(t,e){if(t===this.editorId&&this.langId!==e){var i=this.langId;this.stateByLang[i]=this.currentState(),this.langId=e,this.selectorList.children().remove();var n=this.stateByLang[e];this.initFromState(n),this.updateLibraries(),this.handleToolbarUI(),this.saveState()}},s.prototype.close=function(){this.eventHub.unsubscribe(),this.eventHub.emit("conformanceViewClose",this.editorId)},s.prototype.initFromState=function(t){t&&t.compilers?(this.lastState=t,c.each(t.compilers,c.bind(this.addCompilerSelector,this))):this.lastState=this.currentState()},t.exports={Conformance:s}},function(t,e,i){"use strict";var a=i(165),s=i(43),l=i(58),n=i(241),u=i(102),h=i(177).Promise;function o(t){this.base=window.httpRoot,this.allowStoreCodeDebug=!0,this.base.endsWith("/")||(this.base+="/"),this.cache=new n({max:204800,length:function(t){return JSON.stringify(t).length}}),this.compilersByLang={},l.each(u.compilers,function(t){this.compilersByLang[t.lang]||(this.compilersByLang[t.lang]={}),this.compilersByLang[t.lang][t.id]=t},this),t.on("settingsChange",function(t){this.allowStoreCodeDebug=t.allowStoreCodeDebug},this)}function c(t,e,i,n,o){var r=o;if(!r)switch(n){case"timeout":r="Request timed out";break;case"abort":r="Request was aborted";break;case"error":switch(i.status){case 500:r="Request failed: internal server error";break;case 504:r="Request failed: gateway timeout";break;default:r="Request failed: HTTP error code "+i.status}break;default:r="Error sending request"}e({request:t,error:r})}o.prototype.getDefaultCompilerForLang=function(t){return u.defaultCompiler[t]},o.prototype.processFromLangAndCompiler=function(t,i){var e=t,n=null;try{if(e){if(i=i||this.getDefaultCompilerForLang(e),!(n=this.findCompiler(e,i))){var o=this.getCompilersForLang(e);n=o[l.first(l.keys(o))]}}else{if(i){var r=l.map(u.languages,function(t){var e=this.findCompiler(t.id,i);return e?{langId:t.id,compiler:e}:null},this);return l.find(r,function(t){return null!==t})}var s=l.first(l.values(u.languages));if(s)return this.processFromLangAndCompiler(s.id,i)}}catch(t){a.captureException(t)}return{langId:e,compiler:n}},o.prototype.getGroupsInUse=function(t){return l.chain(this.getCompilersForLang(t)).map().uniq(!1,function(t){return t.group}).map(function(t){return{value:t.group,label:t.groupName||t.group}}).sortBy("label").value()},o.prototype.getCompilersForLang=function(t){return this.compilersByLang[t]||{}},o.prototype.findCompilerInList=function(t,e){return t&&t[e]?t[e]:l.find(t,function(t){return t.alias.includes(e)})},o.prototype.findCompiler=function(t,e){if(!e)return null;var i=this.getCompilersForLang(t);return this.findCompilerInList(i,e)},o.prototype.submit=function(o){o.allowStoreCodeDebug=this.allowStoreCodeDebug;var r=JSON.stringify(o);if(u.doCache){var t=this.cache.get(r);if(t)return h.resolve({request:o,result:t,localCacheHit:!0})}return new h(l.bind(function(e,t){var i=l.partial(c,o,t),n=encodeURIComponent(o.compiler);s.ajax({type:"POST",url:window.location.origin+this.base+"api/compiler/"+n+"/compile",dataType:"json",contentType:"application/json",data:r,success:l.bind(function(t){t&&t.okToCache&&u.doCache&&this.cache.set(r,t),e({request:o,result:t,localCacheHit:!1})},this),error:i})},this))},o.prototype.requestPopularArguments=function(n,o){return new h(l.bind(function(e,t){var i=l.partial(c,n,t);s.ajax({type:"POST",url:window.location.origin+this.base+"api/popularArguments/"+n,dataType:"json",data:JSON.stringify({usedOptions:o,presplit:!1}),success:l.bind(function(t){e({request:n,result:t,localCacheHit:!1})},this),error:i})},this))},o.prototype.expand=function(t){var e=/^\s*#\s*include\s*["<](https?:\/\/[^>"]+)[>"]/,o=t.split("\n"),r=[];return l.each(o,function(t,i){var n=t.match(e);n&&r.push(new h(function(e){s.get(n[1],function(t){t='#line 1 "'+n[1]+'"\n'+t+"\n\n#line "+(i+1)+' "<stdin>"\n',o[i]=t,e()}).fail(function(){e()})}))}),h.all(r).then(function(){return o.join("\n")})},o.prototype.getSelectizerOrder=function(){return[{field:"$order"},{field:"$score"},{field:"name"}]},t.exports=o},function(t,e,i){"use strict";var g=i(43),m=i(58),v=i(176),y=i(243).themes,_=i(102);function b(t,e,i,n){this.elem=t,this.name=e,this.control=new i(t,n)}function w(){}function C(e,t){e.empty(),m.each(t,function(t){e.append(g('<option value="'+t.label+'">'+t.desc+"</option>"))})}function S(t,e){t.slider(e)}function x(){}b.prototype.getUi=function(){return this.control.getUi(this.elem)},b.prototype.putUi=function(t){this.control.putUi(this.elem,t)},w.prototype.getUi=function(t){return!!t.prop("checked")},w.prototype.putUi=function(t,e){t.prop("checked",!!e)},C.prototype.getUi=function(t){return t.val()},C.prototype.putUi=function(t,e){t.val(e)},S.prototype.getUi=function(t){return t.slider("getValue")},S.prototype.putUi=function(t,e){t.slider("setValue",e)},x.prototype.getUi=function(t){return t.val()},x.prototype.putUi=function(t,e){t.val(e)},t.exports=function(t,r,i,e){(r=r||{}).defaultLanguage=null===r.defaultLanguage?void 0:r.defaultLanguage;var s=[];function a(){var e={};m.each(s,function(t){e[t.name]=t.getUi()}),i(e)}function n(t,e,i,n,o){void 0===r[e]&&(r[e]=i),s.push(new b(t,e,n,o)),t.change(a)}n(t.find(".colourise"),"colouriseAsm",!0,w),n(t.find(".autoCloseBrackets"),"autoCloseBrackets",!0,w);var o=t.find(".colourScheme");n(o,"colourScheme",v.schemes[0].name,C,m.map(v.schemes,function(t){return{label:t.name,desc:t.desc}})),0===r.delayAfterChange&&(r.delayAfterChange=750,r.compileOnChange=!1),n(t.find(".compileOnChange"),"compileOnChange",!0,w),n(t.find(".delay"),"delayAfterChange",750,S,{max:3e3,step:250,min:250,formatter:function(t){return(t/1e3).toFixed(2)+"s"}}),n(t.find(".enableCommunityAds"),"enableCommunityAds",!0,w),n(t.find(".hoverShowSource"),"hoverShowSource",!0,w),n(t.find(".hoverShowAsmDoc"),"hoverShowAsmDoc",!0,w);var l=t.find(".theme"),u=y.default.id;function h(){var e=l.val();g.data(l,"theme-"+g.data(l,"last-theme"),o.val());var i=g.data(l,"theme-"+e),n=!1;o.empty(),m.each(v.schemes,function(t){t.themes&&0!==t.themes.length&&-1===t.themes.indexOf(e)&&-1===t.themes.indexOf("all")||(o.append(g('<option value="'+t.name+'">'+t.desc+"</option>")),i===t.name&&(n=!0))}),1<=o.children().length?o.val(n?i:o.first().val()):(o.append(g('<option value="'+v.schemes[0].name+'">'+v.schemes[0].desc+"</option>")),o.val(o.first().val())),o.trigger("change")}window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(u=y.dark.id),n(l,"theme",u,C,m.map(y,function(t){return{label:t.id,desc:t.name}})),n(t.find(".showQuickSuggestions"),"showQuickSuggestions",!1,w),n(t.find(".useCustomContextMenu"),"useCustomContextMenu",!0,w),n(t.find(".showMinimap"),"showMinimap",!0,w);var c=_.languages,d=t.find(".defaultLanguage");n(d,"defaultLanguage",r.defaultLanguage||m.keys(c)[0]||"c++",C,m.map(c,function(t){return{label:t.id,desc:t.name}})),e&&d.prop("disabled",!0).prop("title","Default language inherited from subdomain").css("cursor","not-allowed"),n(t.find(".newEditorLastLang"),"newEditorLastLang",!0,w);var p=["Google","LLVM","Mozilla","Chromium","WebKit"];function f(t){!function(e){m.each(s,function(t){t.putUi(e[t.name])})}(t),i(t)}return n(t.find(".formatBase"),"formatBase",p[0],C,m.map(p,function(t){return{label:t,desc:t}})),n(t.find(".wordWrap"),"wordWrap",!1,w),n(t.find(".tabWidth"),"tabWidth",4,C,m.map([2,4,8],function(t){return{label:t,desc:t}})),n(t.find(".enableCtrlS"),"enableCtrlS",!0,w),n(t.find(".editorsFFont"),"editorsFFont",'Consolas, "Liberation Mono", Courier, monospace',x),n(t.find(".allowStoreCodeDebug"),"allowStoreCodeDebug",!0,w),n(t.find(".useVim"),"useVim",!1,w),f(r),h(),l.change(function(){h(),g.data(l,"last-theme",l.val())}),g.data(l,"last-theme",l.val()),f}},function(t,e,i){var n={"./dark-theme.css":379,"./default-theme.css":381};function o(t){var e=r(t);return i(e)}function r(t){if(i.o(n,t))return n[t];var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(n)},o.resolve=r,(t.exports=o).id=378},function(t,e,i){(e=t.exports=i(178)(!1)).i(i(380),""),e.push([t.i,"/*\n * replace low res golden-layout icons with svg recreations to improve high DPI displays\n * not all icons in golden-layout are used, so we don't replace all of them\n */\n.lm_header .lm_tab .lm_close_tab {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath fill='%23fff' d='M.45713 8.5429l-.44426-.44438 3.5955-3.5956L.00697.90152l.8944-.89463 3.6016 3.6015 3.6014-3.6015.88867.88867-3.6014 3.6015 3.6014 3.6015-.89449.89449-3.6015-3.6014-3.5957 3.5956z'/%3E%3C/svg%3E\") !important;\n    background-size: 9px !important;\n}\n\n.lm_controls .lm_maximise {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath fill='%23fff' d='M0 4.5V0h9v9H0zM8 5V2H1v6h7z'/%3E%3C/svg%3E\") !important;\n    background-size: 9px !important;\n}\n\n.lm_controls .lm_close {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath fill='%23fff' d='M.45713 8.5429l-.44426-.44438 3.5955-3.5956L.00697.90152l.8944-.89463 3.6016 3.6015 3.6014-3.6015.88867.88867-3.6014 3.6015 3.6014 3.6015-.89449.89449-3.6015-3.6014-3.5957 3.5956z'/%3E%3C/svg%3E\") !important;\n    background-size: 9px !important;\n}\n\n.lm_maximised .lm_controls .lm_maximise {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath fill='%23fff' d='M1.0096 8.0019v-.99809h6.9807v1.9962H1.0096z'/%3E%3C/svg%3E\") !important;\n    background-size: 9px !important;\n}\n\nbody {\n    background-color: #333 !important;\n}\n\n.navbar-light {\n    background-color: #333 !important;\n}\n\n.navbar-light .navbar-nav li a {\n    color: #fff !important;\n}\n\n.navbar-light .navbar-nav li a:hover {\n    color: #fff !important;\n    background-color: #23272b !important;\n}\n\n.navbar-light ul.nav li:hover {\n    color: #fff !important;\n    background-color: #23272b !important;\n}\n\n.navbar-light a.nav-link {\n    border: rgb(140, 140, 140) 1px solid;\n}\n\na.navbar-brand img.logo.inverse {\n    display: block !important;\n}\n\na.navbar-brand img.logo.normal {\n    display: none !important;\n}\n\n.lm_header {\n    background-color: #121212 !important;\n}\n\n.nav.nav-tabs li a {\n    color: #eee !important;\n    background-color: #666 !important;\n}\n\n.nav.nav-tabs li:not(.active) a {\n    border-bottom: 1px solid #fff !important;\n}\n\n.nav.nav-tabs li.active a {\n    background-color: #666 !important;\n}\n\n.float-link {\n    color: #eee !important;\n    background-color: rgba(128, 128, 128, 0.5) !important;\n}\n\n.float-link:hover {\n    background-color: rgba(128, 128, 160, 0.5) !important;\n}\n\n.modal-header {\n    color: #eee !important;\n    background-color: #333 !important;\n}\n\n.modal-body {\n    background-color: #333 !important;\n    color: #eee !important;\n}\n\n.modal-content .well {\n    background-color: #222 !important;\n    color: #eee !important;\n}\n\n.modal-footer {\n    background-color: #333 !important;\n}\n\n.linked-code-decoration-line {\n    background: rgb(40, 80, 116) !important;\n}\n\n.linked-code-decoration-inline {\n    background: #121212 !important;\n}\n\n.linked-code-decoration-margin {\n    background: #433b4b !important;\n}\n\n.linked-code-decoration {\n    background: #555657 !important;\n}\n\n.rainbow-decoration {\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-image: -webkit-gradient(linear, left top, right bottom,\n    color-stop(0.00, red),\n    color-stop(16%, orange),\n    color-stop(32%, yellow),\n    color-stop(48%, green),\n    color-stop(60%, blue),\n    color-stop(76%, indigo),\n    color-stop(1.00, violet));\n}\n\n.selectize-control.single .selectize-input {\n    color: #f2f2f2 !important;\n    background: #666 linear-gradient(to bottom, #555, #222) !important;\n    text-shadow: none !important;\n}\n\n.selectize-dropdown {\n    color: #f2f2f2 !important;\n    background-color: #666 !important;\n}\n\n.selectize-control.single .selectize-input.disabled {\n    color: #f2f2f2 !important;\n    background-color: #383838 !important;\n}\n\n.dropdown-menu {\n    color: #f2f2f2 !important;\n    background-color: #303030 !important;\n}\n\n.dropdown-menu li a {\n    color: #f2f2f2 !important;\n}\n\n.dropdown-menu li a:hover {\n    background-color: #333 !important;\n    color: #fff !important;\n}\n\n.font-option {\n    color: #eee !important;\n    background: #303030 !important;\n}\n\n.font-option:hover {\n    color: #fff !important;\n    background: #887788 !important;\n}\n\n.font-option-active {\n    background: #474747 !important;\n}\n\n.font-option-active:hover {\n    background: #998899 !important;\n}\n\n.notification {\n    background-color: gray !important;\n}\n\n.notification-info {\n    background-color: #f2f2f2 !important;\n}\n\n.notification-error {\n    background-color: #aa3333 !important;\n    color: #000;\n}\n\n.notification-on {\n    background-color: #33aa33 !important;\n    color: black;\n}\n\n.notification-off {\n    background-color: #222 !important;\n    color: #fff;\n}\n\npre {\n    color: #f2f2f2 !important;\n}\n\npre.content {\n    background-color: #1e1e1e !important;\n}\n\npre.content.compiling {\n    background-color: #101010 !important;\n}\n\n.bottom-bar {\n    color: #aaa !important;\n    background-color: #333 !important;\n}\n\nselect {\n    color: #000 !important;\n}\n\ninput {\n    color: #eee !important;\n    background-color: #474747 !important;\n    border: 0 !important;\n}\n\n.bg-light {\n    background-color: #333 !important;\n}\n\n.btn-light {\n    color: #e2e2e2 !important;\n    background-color: #474747 !important;\n    border-color: #272727 !important;\n}\n\n.btn-light:hover {\n    background-color: #383838 !important;\n}\n\n.btn-light.active {\n    color: #f2f2f2 !important;\n}\n\n.btn-light:disabled {\n    color: #aaa !important;\n}\n\n.btn-light:disabled:hover {\n    background-color: #474747 !important;\n}\n\n.top-bar.btn-toolbar.bg-light {\n    border-bottom: 1px solid #202122;\n}\n\n.bottom-bar.bg-light {\n    border-top: 1px solid #202122;\n}\n\n.card {\n    background-color: #1e1e1e !important;\n    color: #f2f2f2 !important;\n}\n\n.analysis,\n.mixed {\n    background: #fdfd96 !important;\n}\n\n.passed {\n    background: #77dd77 !important;\n}\n\n.missed {\n    background: #ff6961 !important;\n}\n\n.conformance-wrapper {\n    background-color: #1e1e1e !important;\n}\n\n.graph-placeholder {\n    background-color: #1e1e1e !important;\n}\n\n.text-count {\n    color: green !important;\n}\n\n.err-count {\n    color: orange !important;\n}\n\n.optgroup-header {\n    background-color: #555 !important;\n    color: #EEE !important;\n    text-shadow: none !important;\n}\n\n.commit-entry:nth-child(odd) {\n    background-color: #222222 !important;\n}\n\n.commit-entry:nth-child(even) {\n    background-color: #424242 !important;\n}\n\n.popover {\n    border-color: #464545 !important;\n}\n\n.popover, .popover-content, .libs-container, .lib-list, .popover-body, .popover-header {\n    background-color: #151515 !important;\n    color: #f2f2f2 !important;\n}\n\n.lib-item {\n    background-color: #333 !important;\n}\n\n#socialshare .share-twitter, .share-twitter {\n    background-color: #1da1f2;\n    color: white;\n}\n\n#socialshare .share-reddit, .share-reddit {\n    background-color: #ff4500;\n    color: white;\n}\n\n.share-disabled {\n    color: #333 !important;\n}\n\n.community-advert {\n    color: white;\n    background: #474747 !important;\n    border-color: #006400;\n}\n\n.community-advert button {\n    opacity: 1;\n    color: #006400;\n    text-shadow: none;\n}\n\n.input-group-text {\n    background-color: #a1a1a1 !important;\n    border-color: #818181 !important;\n}\n\n.custom-select {\n    background-color: #818181 !important;\n}\n\nkbd {\n    border-color: #818181 !important;\n    background-color: #979797 !important;\n}\n\n.prepend-options {\n    border-color: #444 !important;\n    background-color: #141414 !important;\n}\n\n.modal-content .card-body {\n    background-color: #141414 !important;\n}\n\n#simplecook {\n    background-color: #474747 !important;\n}\n\n.consent-cookie-yes {\n    background-color: #c1e2b3 !important;\n    color: black !important;\n}\n\n.consent-cookie-no {\n    background-color: #f44336 !important;\n    color: #ffffff !important;\n}\n\n.new-cookie-msg {\n    color: white;\n}\n\ndiv.argmenuitem {\n    max-width: 250px;\n}\n\ndiv.argmenuitem span.argtitle {\n    font-weight: bold;\n    display: block;\n    overflow-x: hidden;\n    overflow-anchor: visible;\n    text-overflow: ellipsis;\n}\n\ndiv.argmenuitem span.argdescription {\n    max-height: 150px;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    font-style: italic;\n    font-size: smaller;\n    display: block;\n    white-space: normal;\n    text-overflow: ellipsis;\n    overflow-anchor: visible;\n    overflow-y: hidden;\n}\n\n.open-in-cppinsights * {\n    vertical-align: middle;\n}\n\n.execution-stdout {\n    color: white !important;\n}\n\n.logo-pri {\n    fill: #67c52a !important;\n}\n\n.logo-sec {\n    fill: #999999 !important;\n}\n",""])},function(t,e,i){(t.exports=i(178)(!1)).push([t.i,".lm_goldenlayout{background:#000000}.lm_content{background:#222222}.lm_dragProxy .lm_content{box-shadow:2px 2px 4px rgba(0,0,0,0.9)}.lm_dropTargetIndicator{box-shadow:inset 0 0 30px #000000;outline:1px dashed #cccccc;transition:all 200ms ease}.lm_dropTargetIndicator .lm_inner{background:#000000;opacity:.2}.lm_splitter{background:#000000;opacity:.001;transition:opacity 200ms ease}.lm_splitter:hover,.lm_splitter.lm_dragging{background:#444444;opacity:1}.lm_header{height:20px;user-select:none}.lm_header.lm_selectable{cursor:pointer}.lm_header .lm_tab{font-family:Arial,sans-serif;font-size:12px;color:#999999;background:#111111;box-shadow:2px -2px 2px rgba(0,0,0,0.3);margin-right:2px;padding-bottom:2px;padding-top:2px}.lm_header .lm_tab .lm_close_tab{width:11px;height:11px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAATElEQVR4nG3OwQ0DMQwDwZGRBtR/j1YJzMc5+IDoR+yCVO29g+pu981MFgqZmRdAfU7+CYWcbF11LwALjpBL0N0qybNx/RPU+gOeiS/+XCRwDlTgkQAAAABJRU5ErkJggg==);background-position:center center;background-repeat:no-repeat;top:4px;right:6px;opacity:.4}.lm_header .lm_tab .lm_close_tab:hover{opacity:1}.lm_header .lm_tab.lm_active{border-bottom:none;box-shadow:0 -2px 2px #000000;padding-bottom:3px}.lm_header .lm_tab.lm_active .lm_close_tab{opacity:1}.lm_dragProxy.lm_bottom .lm_header .lm_tab,.lm_stack.lm_bottom .lm_header .lm_tab{box-shadow:2px 2px 2px rgba(0,0,0,0.3)}.lm_dragProxy.lm_bottom .lm_header .lm_tab.lm_active,.lm_stack.lm_bottom .lm_header .lm_tab.lm_active{box-shadow:0 2px 2px #000000}.lm_selected .lm_header{background-color:#452500}.lm_tab:hover,.lm_tab.lm_active{background:#222222;color:#dddddd}.lm_header .lm_controls .lm_tabdropdown:before{color:#ffffff}.lm_controls>li{position:relative;background-position:center center;background-repeat:no-repeat;opacity:.4;transition:opacity 300ms ease}.lm_controls>li:hover{opacity:1}.lm_controls .lm_popout{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAPklEQVR4nI2Q0QoAIAwCNfr/X7aXCpGN8snBdgejJOzckpkxs9jR6K6T5JpU0nWl5pSXTk7qwh8SnNT+CAAWCgkKFpuSWsUAAAAASUVORK5CYII=)}.lm_controls .lm_maximise{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKElEQVR4nGP8////fwYCgImQAgYGBgYWKM2IR81/okwajIpgvsMbVgAwgQYRVakEKQAAAABJRU5ErkJggg==)}.lm_controls .lm_close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAQUlEQVR4nHXOQQ4AMAgCQeT/f6aXpsGK3jSTuCVJAAr7iBdoAwCKd0nwfaAdHbYERw5b44+E8JoBjEYGMBq5gAYP3usUDu2IvoUAAAAASUVORK5CYII=)}.lm_maximised .lm_header{background-color:#000000}.lm_maximised .lm_controls .lm_maximise{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJ0lEQVR4nGP8//8/AzGAiShVI1YhCwMDA8OsWbPwBmZaWhoj0SYCAN1lBxMAX4n0AAAAAElFTkSuQmCC)}.lm_transition_indicator{background-color:#000000;border:1px dashed #555555}.lm_popin{cursor:pointer}.lm_popin .lm_bg{background:#ffffff;opacity:.3}.lm_popin .lm_icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC);background-position:center center;background-repeat:no-repeat;border-left:1px solid #eeeeee;border-top:1px solid #eeeeee;opacity:.7}.lm_popin:hover .lm_icon{opacity:1}",""])},function(t,e,i){(e=t.exports=i(178)(!1)).i(i(382),""),e.push([t.i,"/*\n * replace low res golden-layout icons with svg recreations to improve high DPI displays\n * not all icons in golden-layout are used, so we don't replace all of them\n */\n.lm_header .lm_tab .lm_close_tab {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath fill='%23000' d='M.45713 8.5429l-.44426-.44438 3.5955-3.5956L.00697.90152l.8944-.89463 3.6016 3.6015 3.6014-3.6015.88867.88867-3.6014 3.6015 3.6014 3.6015-.89449.89449-3.6015-3.6014-3.5957 3.5956z'/%3E%3C/svg%3E\") !important;\n    background-size: 9px !important;\n}\n\n.lm_controls .lm_maximise {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath fill='%23000' d='M0 4.5V0h9v9H0zM8 5V2H1v6h7z'/%3E%3C/svg%3E\") !important;\n    background-size: 9px !important;\n}\n\n.lm_controls .lm_close {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath fill='%23000' d='M.45713 8.5429l-.44426-.44438 3.5955-3.5956L.00697.90152l.8944-.89463 3.6016 3.6015 3.6014-3.6015.88867.88867-3.6014 3.6015 3.6014 3.6015-.89449.89449-3.6015-3.6014-3.5957 3.5956z'/%3E%3C/svg%3E\") !important;\n    background-size: 9px !important;\n}\n\n.lm_maximised .lm_controls .lm_maximise {\n    background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath fill='%23000' d='M1.0096 8.0019v-.99809h6.9807v1.9962H1.0096z'/%3E%3C/svg%3E\") !important;\n    background-size: 9px !important;\n}\n\nbody {\n    background-color: #FFFFFF;\n}\n\n.navbar-default {\n    background-color: #FFFFFF;\n}\n\n.navbar-default .navbar-nav li a {\n    color: #337ab7;\n}\n\n.navbar-default .navbar-nav li a:hover {\n    color: #23527c;\n}\n\n.navbar-default ul.nav li:hover {\n    background-color: #eee;\n}\n\n.navbar-nav a.nav-link {\n    border: rgb(140, 140, 140) 1px solid;\n}\n\n.float-link {\n    background-color: rgba(128, 128, 128, 0.5);\n}\n\n.float-link:hover {\n    background-color: rgba(128, 128, 160, 0.5);\n}\n\n.lm_header {\n    background-color: #f2f2f2;\n}\n\npre.content {\n    background-color: #f5f5f5;\n}\n\npre.content.compiling {\n    background-color: #f0f0f0;\n}\n\na.navbar-brand img.logo.inverse {\n    display: none !important;\n}\n\na.navbar-brand img.logo.normal {\n    display: block !important;\n}\n\n.button-checkbox button:disabled {\n    background-color: #dae5e0 !important;\n    border-color: #aae3e0 !important;\n}\n\n.top-bar.btn-toolbar.bg-light {\n    border-bottom: 1px solid #d2d3d4;\n}\n\n.bottom-bar.bg-light {\n    border-top: 1px solid #d2d3d4;\n}\n\n.linked-code-decoration {\n    background: lightblue;\n}\n\n.linked-code-decoration-inline {\n    background: lightblue;\n}\n\n.linked-code-decoration-line {\n    background: lightblue !important;\n}\n\n.rainbow-decoration {\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-image: -webkit-gradient(linear, left top, right bottom,\n    color-stop(0.00, red),\n    color-stop(16%, orange),\n    color-stop(32%, yellow),\n    color-stop(48%, green),\n    color-stop(60%, blue),\n    color-stop(76%, indigo),\n    color-stop(1.00, violet));\n}\n\n.font-option {\n    background: white;\n}\n\n.font-option:hover {\n    background: lightblue;\n}\n\n.font-option-active {\n    background: #226699;\n}\n\n.font-option-active:hover {\n    background: #4477AA;\n}\n\n.linked-code-decoration-margin {\n    background: lightblue;\n}\n\n.modal-content .well {\n    border-color: #474747;\n}\n\n.notification {\n    background-color: cornflowerblue;\n}\n\n.notification-info {\n    background-color: #f2f2f2;\n}\n\n.notification-error {\n    background-color: indianred;\n    color: white;\n}\n\n.notification-on {\n    background-color: green;\n    color: black;\n}\n\n.notification-off {\n    background-color: gray;\n    color: black;\n}\n\n.analysis,\n.mixed {\n    background: #fdfd96;\n}\n\n.passed {\n    background: #77dd77;\n}\n\n.missed {\n    background: #ff6961;\n}\n\n.conformance-wrapper {\n    background-color: #f5f5f5;\n}\n\n.graph-placeholder {\n    background-color: #FFFFFF;\n}\n\n.text-count {\n    color: green;\n}\n\n.err-count {\n    color: red;\n}\n\n.commit-entry:nth-child(odd) {\n    background-color: #ffffff;\n}\n\n.commit-entry:nth-child(even) {\n    background-color: #f2f2f2;\n}\n\n.popover, .popover-content, .libs-container, .lib-list {\n    background-color: #fefefe;\n}\n\n.lib-in-use {\n    background-color: green;\n}\n\n.consent-cookie-yes {\n    background-color: #c1e2b3;\n}\n\n.consent-cookie-no {\n    background-color: #f44336;\n    color: #ffffff;\n}\n\n#socialshare .share-twitter, .share-twitter {\n    background-color: #1da1f2;\n    color: white;\n}\n\n#socialshare .share-reddit, .share-reddit {\n    background-color: #ff4500;\n    color: white;\n}\n\n.share-disabled {\n    color: gray;\n}\n\n.community-advert {\n    background: #f0f0f0;\n    border-color: #67c52a;\n}\n\n.navbar-nav a.nav-link:hover {\n    background-color: #d8d9da;\n}\n\nkbd {\n    color: black;\n    border-color: #ccc;\n    background-color: #f7f7f7;\n}\n\n.prepend-options {\n    background-color: #e9ecef;\n}\n\n#simplecook {\n    background-color: #f4f4f4;\n}\n\n.new-cookie-msg {\n    color: black;\n}\n\ndiv.argmenuitem {\n    max-width: 250px;\n}\n\ndiv.argmenuitem span.argtitle {\n    font-weight: bold;\n    display: block;\n    overflow-x: hidden;\n    overflow-anchor: visible;\n    text-overflow: ellipsis;\n}\n\ndiv.argmenuitem span.argdescription {\n    max-height: 150px;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n    font-style: italic;\n    font-size: smaller;\n    display: block;\n    white-space: normal;\n    text-overflow: ellipsis;\n    overflow-anchor: visible;\n    overflow-y: hidden;\n}\n\n.open-in-cppinsights * {\n    vertical-align: middle;\n}\n\n\n.execution-stdout {\n    color: black;\n}\n\n.linked-compiler-output-line {\n    color: #007bfd;\n}\n\n.logo-pri {\n    fill: #67c52a;\n}\n\n.logo-sec {\n    fill: #3c3c3f;\n}\n",""])},function(t,e,i){(t.exports=i(178)(!1)).push([t.i,".lm_goldenlayout{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAGFBMVEX29vb19fXw8PDy8vL09PTz8/Pv7+/x8fGKuegbAAAAyUlEQVR42pXRQQ7CMBRDwST9pfe/MahEmgURbt7WmpVb6+vG0dd9REnn66xRy/qXiCgmEIIJhGACIZhACCYQgvlDCDFIEAwSBIMEwSBBMEgQDBIEgwTBIEEwCJEMQiSDENFMQmQzCZEbNyGemd6KeGZ6u4hnXe2qbdLHFjhf1XqNLXHev4wdMd9nspiEiWISJgqECQJhgkCYIBAmCIQJAmGCQJggECYJhAkCEUMEwhCBMEQgDJEIQ2RSg0iEIRJhiB/S+rrjqvXQ3paIJUgPBXxiAAAAAElFTkSuQmCC)}.lm_content{background:#e1e1e1;border:1px solid #cccccc}.lm_dragProxy .lm_content{box-shadow:2px 2px 4px rgba(0,0,0,0.2);box-sizing:border-box}.lm_dropTargetIndicator{box-shadow:inset 0 0 30px rgba(0,0,0,0.4);outline:1px dashed #cccccc;margin:1px;transition:all 200ms ease}.lm_dropTargetIndicator .lm_inner{background:#000000;opacity:.1}.lm_splitter{background:#999999;opacity:.001;transition:opacity 200ms ease}.lm_splitter:hover,.lm_splitter.lm_dragging{background:#bbbbbb;opacity:1}.lm_header{height:20px}.lm_header.lm_selectable{cursor:pointer}.lm_header .lm_tab{font-family:Arial,sans-serif;font-size:12px;color:#888888;background:#fafafa;margin-right:2px;padding-bottom:4px;border:1px solid #cccccc;border-bottom:none}.lm_header .lm_tab .lm_title{padding-top:1px}.lm_header .lm_tab .lm_close_tab{width:11px;height:11px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAIklEQVR4nGNgYGD4z4Ad/Mdg4ODDBXCZRFgCp5EEHQMXBwAQAgz0SVCcggAAAABJRU5ErkJggg==);background-position:center center;background-repeat:no-repeat;right:6px;top:4px;opacity:.4}.lm_header .lm_tab .lm_close_tab:hover{opacity:1}.lm_header .lm_tab.lm_active{border-bottom:none;box-shadow:2px -2px 2px -2px rgba(0,0,0,0.2);padding-bottom:5px}.lm_header .lm_tab.lm_active .lm_close_tab{opacity:1}.lm_dragProxy.lm_bottom .lm_header .lm_tab.lm_active,.lm_stack.lm_bottom .lm_header .lm_tab.lm_active{box-shadow:2px 2px 2px -2px rgba(0,0,0,0.2)}.lm_selected .lm_header{background-color:#452500}.lm_tab:hover,.lm_tab.lm_active{background:#e1e1e1;color:#777777}.lm_header .lm_controls .lm_tabdropdown:before{color:#000000}.lm_controls>li{position:relative;background-position:center center;background-repeat:no-repeat;opacity:.4;transition:opacity 300ms ease}.lm_controls>li:hover{opacity:1}.lm_controls .lm_popout{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAANUlEQVR4nI2QMQoAMAwCz5L/f9mOzZIaN0E9UDyZhaaQz6atgBHgambEJ5wBKoS0WaIvfT+6K2MIECN19MAAAAAASUVORK5CYII=)}.lm_controls .lm_maximise{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAIklEQVR4nGNkYGD4z0AAMBFSAAOETPpPlEmDUREjAxHhBABPvAQLFv3qngAAAABJRU5ErkJggg==)}.lm_controls .lm_close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKUlEQVR4nGNgYGD4z4Af/Mdg4FKASwCnDf8JKSBoAtEmEXQTQd8RDCcA6+4Q8OvIgasAAAAASUVORK5CYII=)}.lm_maximised .lm_header{background-color:#ffffff}.lm_maximised .lm_controls .lm_maximise{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAJklEQVR4nGP8//8/AyHARFDFUFbEwsDAwMDIyIgzHP7//89IlEkApSkHEScJTKoAAAAASUVORK5CYII=)}.lm_transition_indicator{background-color:#000000;border:1px dashed #555555}.lm_popin{cursor:pointer}.lm_popin .lm_bg{background:#000000;opacity:.7}.lm_popin .lm_icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC);background-position:center center;background-repeat:no-repeat;opacity:.7}.lm_popin:hover .lm_icon{opacity:1}",""])},function(t,e,i){"use strict";var a=i(43),l=i(165),u=i(58),h=i(78);t.exports={initialise:function(n,e,i,o,r,s){n&&a.getJSON(n).then(function(t){r(t),function(t,e,i,n,o){if(t.motd)e.find(".content").html(t.motd),e.removeClass("d-none"),e.find(".close").on("click",function(){e.addClass("d-none")}).prop("title","Hide message");else if(n){var r=u.filter(t.ads,function(t){return!i||!t.filter||0===t.filter.length||0<=t.filter.indexOf(i)}),s=r[u.random(r.length-1)];s&&(e.find(".content").html(s.html),e.find(".close").on("click",function(){h.proxy("send",{hitType:"event",eventCategory:"Ads",eventLabel:"Visibility",eventAction:"Hide"}),e.addClass("d-none"),o()}),e.find("a").on("click",function(){h.proxy("send",{hitType:"event",eventCategory:"Ads",eventAction:"Click",eventLabel:this.href})}),e.removeClass("d-none"))}}(t,e,i,o,s)}).catch(function(t,e,i){l.captureMessage("MOTD error for "+n+" - "+e+" - "+i,"warning")})}}},function(n,o,r){var s,a;!function(t){if(void 0===(a="function"==typeof(s=t)?s.call(o,r,o,n):s)||(n.exports=a),!0,n.exports=t(),!!0){var e=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=e,i}}}(function(){function a(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function u(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(l){function s(){}function i(t,e,i){if("undefined"!=typeof document){"number"==typeof(i=a({path:"/"},s.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var n=JSON.stringify(e);/^[\{\[]/.test(n)&&(e=n)}catch(t){}e=l.write?l.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var r in i)i[r]&&(o+="; "+r,!0!==i[r]&&(o+="="+i[r].split(";")[0]));return document.cookie=t+"="+e+o}}function e(t,e){if("undefined"!=typeof document){for(var i={},n=document.cookie?document.cookie.split("; "):[],o=0;o<n.length;o++){var r=n[o].split("="),s=r.slice(1).join("=");e||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var a=u(r[0]);if(s=(l.read||l)(s,a)||u(s),e)try{s=JSON.parse(s)}catch(t){}if(i[a]=s,t===a)break}catch(t){}}return t?i[t]:i}}return s.set=i,s.get=function(t){return e(t,!1)},s.getJSON=function(t){return e(t,!0)},s.remove=function(t,e){i(t,"",a(e,{expires:-1}))},s.defaults={},s.withConverter=t,s}(function(){})})},function(t,e,i){"use strict";var n=i(43);function o(){this.elem=n("#simplecook"),this.elem.hide(),this.onDoConsent=function(){},this.onDontConsent=function(){},this.onHide=function(){},this.elem.find(".cookies").on("click",function(){n("#cookies").trigger("click")}),this.elem.find(".cook-do-consent").on("click",this.callDoConsent.bind(this)),this.elem.find(".cook-dont-consent").on("click",this.callDontConsent.bind(this))}o.prototype.show=function(){this.elem.show()},o.prototype.hide=function(){this.elem.hide(),this.onHide()},o.prototype.callDoConsent=function(){this.hide(),this.onDoConsent()},o.prototype.callDontConsent=function(){this.hide(),this.onDontConsent()},t.exports=o},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e){t.exports='<!doctype html> <html lang=en> <body> <time id=changed-date>Last changed on: Sun Aug 4 09:36:58 2019 -0500</time> <h2>Compiler Explorer Privacy Policy</h2> <p> Thanks for your interest in what Compiler Explorer does with your data. Data protection is really important to the Compiler Explorer team, and we want to be very clear about what we do with your data. </p> <h3>Who we are</h3> <p> Compiler Explorer was created by and is primarily administrated by <a href=mailto:matt@godbolt.org>Matt Godbolt</a>, along with a number of volunteers (including, but not limited to those listed in our "<a href=https://github.com/mattgodbolt/compiler-explorer/blob/master/AUTHORS.md target=_blank rel="noreferrer noopener">Authors</a>" documentation). It is run on a best-effort basis, and is not a commercial product. We do our best to keep your data safe, but welcome help from the community: See our <a href=https://github.com/mattgodbolt/compiler-explorer target=_blank rel="noreferrer noopener">GitHub project page</a> if you wish to help. </p> <h3>Your data</h3> <p> In order to process compilation and execution requests, your browser sends the source code you typed in the editor window along with your chosen compiler and options to the Compiler Explorer servers. There, the source code is written to disk and your chosen compiler is invoked on it. If your request was to have your code executed, the resulting executable is run. The outputs from compilation and execution are processed and sent back to your web browser, where they\'re shown. Shortly after this process completes, your source code is deleted from disk. If, in processing your query, an issue with Compiler Explorer is found, your code may be kept for up to a week in order to help debug and diagnose the problem. Only the Compiler Explorer team will have access to your code, and only for the purposes of debugging the site: we will never share your code with anyone. </p> <p> If you choose a Microsoft compiler, then your code may be sent to and compiled on a machine administrated by Microsoft. Such code is covered by the <a href=https://privacy.microsoft.com/en-US/ target=_blank>Microsoft Privacy Policy.</a> </p> <p> The source code and options are also subject to a one-way hash, which is used to cache the results to speed up subsequent compilations of the same code. The cache is in-memory and on-disk. It\'s impossible to reconstruct the source code from the hash; but the resulting assembly code or binary output (the compilation result) is stored as plain text. There\'s no way to enumerate the in-memory cache contents. In exceptional cases, administrator members of the Compiler Explorer team may be able to enumerate the disk caches and retrieve the compilation output, but with no way to trace it back to the source code. </p> <p> In short: your source code is stored in plaintext for the minimum time feasible to be able to process your request. After that, it is discarded and is inaccessible. In very rare cases your code may be kept for a little longer (at most a week) to help debug issues in Compiler Explorer. </p> <h4>Short links</h4> <p> If you choose to share your code using the "Share" dropdown, then the user interface state including the source code is stored. For a "Full" link, this information is encoded into the URL as a URL hash (e.g. <code>https://godbolt.org/#ui_state_and_code</code>). For short URLs, the interface state is stored on Compiler Explorer\'s servers, and a shortened name uniquely referring to this data is returned. The shortened name comes from a secure hash of the state, and without knowing the name it is infeasible to access the data. Only Compiler Explorer administrators can access this data directly . Obfuscated IP addresses and creation time are stored alongside this data, to enable spam detection. Links of this form look like <code>https://godbolt.org/z/SHORTNAME</code>. </p> <p> Prior to storing data itself, Compiler Explorer used an external URL shortening service (<a href=https://goo.gl/ target=_blank>goo.gl</a>) and the resulting short URL was rewritten as <code>https://godbolt.org/g/SHORTURLPART</code>. The storage for the user experience state in this case remains with the short URL provider, not Compiler Explorer. </p> <h4>Web logs</h4> <p> Compiler Explorer keeps web logs, which contain semi-anonymised IP addresses, but no other personally identifying information. When a long URL is clicked, the hash part of the URL is not sent to the server, so the user state (including the source code) is NOT exposed in the web log. If a user clicks a short URL, then the short form IS exposed in the web log (as <code>https://godbolt.org/g/SHORTURLPART</code>) and from this the source code can be retrieved. As such, if you create a short URL of your code, your source code and other user state can in principle be retrieved from the web log of Compiler Explorer. </p> <p> In order to debug and diagnose Compiler Explorer, to help track down and block Denial of Service attacks, and to gather statistics about Compiler Explorer\'s performance and usage, the web logs are archived. These logs are kept for one month, after which they are permanently deleted. </p> <h4>Executing your code</h4> <p> For certain configurations, we may support executing the results of your compilation on the Compiler Explorer servers. Execution occurs in a heavily locked-down, isolated environment. We have made reasonable efforts to protect both the Compiler Explorer site and other concurrently-processed requests from information leakage due to rogue executions. </p> <h4>Cookies</h4> <p> Separately, Compiler Explorer uses small pieces of information stored on your computer: Cookies and Browser Local Storage. Cookies are only used with the user\'s permission, and are used with external analytics services (e.g. Google Analytics) to gather statistics on Compiler Explorer usage. This information is used to help the Compiler Explorer team plan for future updates and hardware upgrades in order to ensure the site remains stable and responsive. Local storage is used to remember user\'s settings, source code and user interface configuration, so that it\'s available when the user visits the Compiler Explorer site again. This information is not transmitted to Compiler Explorer, except as described above in order to fulfil the user\'s requests. There is a <a href=#cookies rel="noreferrer noopener">separate document</a> covering more on this. Statistics tracking information is kept for 14 months, after which it is removed. </p> <h3>Your choices</h3> <p> Compiler Explorer is an open source project. If you are concerned about any of the data protection measures outlined above, or about what happens to your source code, you are encouraged to run your own local instance of Compiler Explorer. Instructions on how to do this are on the <a href=https://github.com/mattgodbolt/compiler-explorer target=_blank rel="noreferrer noopener">GitHub project page</a>. </p> <h3>Compiler Explorer and the GDPR</h3> <p> The Compiler Explorer team believes the Compiler Explorer site is compliant with the EU\'s General Data Protection Regulation (GDPR). Specifically, we store no personally identifying information, we anonymise the little data that we do have and we do not permanently store any user data. </p> <h4>Name and Address of the controller</h4> <p> The Controller for the purposes of the General Data Protection Regulation (GDPR), other data protection laws applicable in Member states of the European Union and other provisions related to data protection is: </p> <div> Matt Godbolt<br> 2626 Orrington Ave<br> Evanston IL 60201 USA<br> +1 312 792-7931<br> <a href=mailto:matt@godbolt.org>matt@godbolt.org</a> </div> </body> </html> '},function(t,e){t.exports='<!doctype html> <html lang=en> <body> <time id=changed-date>Last changed on: Sat Mar 23 16:42:43 2019 +0100</time> <h2>Compiler Explorer Cookie Policy</h2> <p> Browsers support the storing and sending back of small text files called "Cookies". These cookie files can be used (amongst other things) to help track the usage of a website. See <a href=https://developer.mozilla.org/docs/Web/HTTP/Cookies target=_blank rel="noreferrer noopener">the Mozilla description of cookies</a> for more details. </p> <p> Compiler Explorer uses Google Analytics, which in turn uses cookies. Google Analytics allows us to see how many individual users of Compiler Explorer there are, how often users visit us, the average amount of time spent on the site, the frequency and distribution of compilers selected, and so on. It is invaluable in helping us make decisions in prioritising work on the site. It\'s important to note that these cookies are anonymous: we don\'t know who each individual user is. Our Google Analytics settings prevent data being retained for more than 14 months. The cookie stored is a first party cookie: you will find it in your browser under "godbolt.org" cookies. </p> <p> Your privacy is important to us and you may opt out of this tracking at any time using the buttons on this dialog, with no loss of access or functionality of Compiler Explorer. </p> <h2><span style=color:#2f4f4f>Necessary</span> Local Storage</h2> <p> To store your preferred options between sessions, such as your input code and user interface layout, we make use of your browser\'s local storage, where we place: </p> <ul> <li>The current page state, such as: <ul> <li>Your current code</li> <li>Selected compilers and their options</li> <li>Pane layout</li> <li>Font sizes</li> </ul> </li> <li>Your settings as shown in the settings popup (which can be found at: More > Settings), such as: <ul> <li>Your theme selection</li> <li>The default language</li> <li>Compile-as-you-type settings</li> </ul> </li> </ul> <p> Note that the usage of local storage is necessary for the proper functioning of the site, and it won\'t be disabled if you choose to not grant cookie usage consent. This information is not used to track any user identifying information. The data stored locally is only that required by the site to function. </p> <h3>How to control the cookies</h3> <p> You can change your cookie consent decision on Compiler Explorer by pressing one of the following buttons: </p> </body> </html> '},function(t,e){t.exports='<!doctype html> <html lang=en> <style>.thanks-container{padding:2px 2px 10px 2px;margin:0;list-style:none;display:flex;align-items:center;flex-flow:row wrap;justify-content:space-around;overflow-y:auto;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.thanks-container>li{border:2px solid #1b330e;box-shadow:5px 5px 5px #040;border-radius:5px;background:#55a625;background:-moz-linear-gradient(-45deg,#55a625 0,#52bf00 100%);background:-webkit-linear-gradient(-45deg,#55a625 0,#52bf00 100%);background:linear-gradient(135deg,#55a625 0,#52bf00 100%);padding:4px;min-width:100px;margin-top:10px;margin-right:10px;text-align:center;font-size:1.5em}.thanks-container>li:hover{border:2px solid #3b6f1e;background:#02c500;background:-moz-linear-gradient(-45deg,#02c500 0,#52bf00 100%);background:-webkit-linear-gradient(-45deg,#02c500 0,#52bf00 100%);background:linear-gradient(135deg,#02c500 0,#52bf00 100%)}.thanks-container.legend{font-size:2em;line-height:1;font-weight:700}.thanks-container.legend>li{height:70px;padding:8px}</style> <body> <h3>Legendary <a href=https://www.patreon.com/mattgodbolt target=_blank rel="noreferrer noopener">Patreon</a> Supporters</h3> <p>These amazing people have pledged at the highest level of support. Huge thanks to these fine folks:</p> <ul class="thanks-container legend"> <li><a href=https://twitter.com/olafurw target=_blank rel="noreferrer noopener">Ólafur Waage</a></li> <li><a href=https://aras-p.info/ target=_blank rel="noreferrer noopener">Aras Pranckevičius</a></li> <li><a href=https://stefan-hagen.website/ target=_blank rel="noreferrer noopener">Stefan Hagen</a></li> <li><a href=https://www.youtube.com/channel/UCxwGBrWeIIWO9V_uLwRWCdA/videos target=_blank rel="noreferrer noopener">Robert Douglas</a></li> <li><a href=javascript:;>Dylan Houlihan</a></li> <li>Igor Zarzycki</li> <li>TocarIP</li> <li><a href=https://rustbeginners.github.io/awesome-rust-mentors/ target=_blank rel="noreferrer noopener">Jane Lusby</a></li> <li><a href=javascript:;>Corey Kosak</a></li> </ul> <h3><a href=https://www.patreon.com/mattgodbolt target=_blank rel="noreferrer noopener">Patreon</a> Supporters</h3> <p>These amazing people have pledged their support to help the development of Compiler Explorer. Thanks to each and every one of you!</p> <ul class=thanks-container> <li>Karl</li> <li>Matthew Butler</li> <li>Gareth Lloyd</li> <li>Arne Mertz</li> <li>Peter Bindels</li> <li>Slobodan Milnovic</li> <li>Martin</li> <li>Sylvain Joubert</li> <li>Nathan Bronson</li> <li>Kaz Tros</li> <li>Björn Fahller</li> <li>Michael Pearce</li> <li>Solid Sands</li> <li>William Woodall</li> <li>Stefan Petersen</li> <li>Jason Lovett</li> <li>Tomas Dittmann</li> <li>Cory Benfield</li> <li>Tyler Hou</li> <li>Austin Morton</li> <li>William Andersen</li> <li>Joseph Malle</li> <li>Chris Marchetti</li> <li>Ian Cullinan</li> <li>Devon Richard</li> <li>Greg Miller</li> <li>Heinz N. Gies</li> <li>Alison Chaiken</li> <li>David Capello</li> <li>Amos Wenger</li> <li>Kacper Kolodziej</li> <li>Tony Magro</li> <li>Morten Brenna</li> <li>Jake Arkinstall</li> <li>ghochee</li> <li>Shane Clifford</li> <li>Eduardo Costa</li> <li>Ryan Sims</li> <li>Dmytro Lytovchenko</li> <li>Wraithan McCarroll</li> <li>Jean-Simon Lapointe</li> <li>David C Black</li> <li>Venkatesh Srinivas</li> <li>Ruslan Abdikeev</li> <li>Benjamin Demick</li> <li>Reiner Eiteljoerge</li> <li>Johnathan Roatch</li> <li>John Biesnecker</li> <li>Paul Williams</li> <li>CB Bailey</li> <li>Joe Doyle</li> <li>Jason Rice</li> <li>Rui Ueyama</li> <li>Narut Sereewattanawoot</li> <li>Travis Geiselbrecht</li> <li>Chris Kennelly</li> <li>Tom Hulton-Harrop</li> <li>Adenilson Cavalcanti</li> <li>Wojciech Bartnik</li> <li>Richard Powell</li> <li>Hayk Karapetyan</li> <li>Colden Cullen</li> <li>Josh Seba</li> <li>Matt Pharr</li> <li>Ajay Agrawal</li> <li>Dog Junko</li> <li>Robert Bigelow</li> <li>Lewis Cowles</li> <li>Yuri Kunde Schlesner</li> <li>Glen Fernandes</li> <li>Richard Smith</li> <li>Keith Bennett</li> <li>Herman Polloni</li> <li>Simon Parker</li> <li>Andrew McKinlay</li> <li>Adam Badura</li> <li>Max Langhof</li> <li>Ben Gras</li> <li>Alexandre Baiao</li> <li>Daniel Nissenbaum</li> <li>Gynvael</li> <li>Mikhail Smirnov</li> <li>Mike Cowan</li> <li>paercebal</li> <li>ThePhD</li> <li>Michał Bartoszkiewicz</li> <li>James Clarke</li> <li>Kalyankumar Ramaseshan</li> <li>Pierre-Marie Charavel</li> <li>Brian L. Troutwine</li> <li>-Y-</li> <li>Graham Carl Evans</li> <li>Frank Leon Rose</li> <li>Nathan Burles</li> <li>Tianyu Ge</li> <li>Kale Blankenship</li> <li>Erik Lundin</li> <li>Matt Weber</li> <li>Marcin</li> <li>Laurențiu Nicola</li> <li>Joe Ranweiler</li> <li>modocache</li> <li>Shao Voon</li> <li>Paul Groke</li> <li>Travis Wehrman</li> <li>Shivanker Goel</li> <li>Hana Dusíková</li> <li>Chris Warner</li> <li>Evan Rowley</li> <li>Glenn</li> <li>Alexander Guettler</li> <li>Alejandro Lucena</li> <li>xyx</li> <li>Chris Luke</li> <li>Casey Carter</li> <li>Adam Greig</li> <li>Eric Perko</li> <li>Christopher Di Bella</li> <li>William Killian</li> <li>Matt Hargett</li> <li>Jeff Trull</li> <li>John McFarlane</li> <li>Jaewon Jung</li> <li>Garret Kelly</li> <li>Dan Luu</li> <li>Tim Cool</li> <li>Jerry Ryle</li> <li>ileonte</li> <li>Matt Weber</li> <li>Simon Haegler</li> <li>Jon Kalb</li> <li>Reuben Scratton</li> <li>Ga&euml;tan Barel</li> <li>Zhihao Yuan</li> <li>David Jones</li> <li>relgukxilef</li> <li>Markus Lanner</li> <li>Igor Ivanov</li> <li>Thomas Trummer</li> <li>Andy Bond</li> <li>Michael Spencer</li> <li>Dmitry Kozhevnikov</li> <li>David Starr</li> <li>Nejc Vivod</li> <li>Thomas Goyne</li> <li>Federico Lebron</li> <li>Fran&ccedil;ois Andrieux</li> <li>Mark Atkinson</li> <li>Thomas Pape</li> <li>Robin Jubber</li> <li>Laurynas Biveinis</li> <li>Robert Snell</li> <li>Michał Dominiak</li> <li>Chris Newland</li> <li>Miguel Escudero</li> <li>Ian Carroll</li> <li>Jonathan Anderson</li> <li>Vimarsh Raina</li> <li>Gabriel Garcia</li> <li>Malcolm Rowe</li> <li>Jon Raymond</li> <li>Bene</li> <li>Billy</li> </ul> </body> </html> '},function(t,e){t.exports='<div class=commits-list> <div class="row commit-entry"> <div class=col-sm-12>Add Eigen 3.3.5 &amp; 3.3.7 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/1ce145c9 rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Add Rust 1.37 &amp; 1.38 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/ddecebde rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Add GOLang 1.13 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/39765677 rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Update doctest library to version 2.3.5 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/58e0c35d rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Add ispc 1.12.0 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/13c53f3c rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Updated glm library to version 0.9.9.6 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/e7014b6d rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Add Boost 1.71.0 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/43a0cc97 rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Updated doctest library to version 2.3.4 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/0f499a34 rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Add GCC 9.2 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/24fb8d0b rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> <div class="row commit-entry"> <div class=col-sm-12>Updated Catch2 library to version 2.9.2 <a href=https://github.com/mattgodbolt/compiler-explorer/commit/8c3119d5 rel="noreferrer noopener" target=_blank> <sup><small class="glyphicon glyphicon-new-window opens-new-window" title="Opens in a new window"></small></sup> </a> </div> </div> </div> '},function(t,e,i){"use strict";i.r(e);var s=i(35),a=i(14),l=i(17);var n=(u.all=function(t){return new u(s.a.join(t).then(null,function(t){for(var e in t)if(t.hasOwnProperty(e))return t[e]}))},u.race=function(t){return new u(s.a.any(t).then(function(t){return t.value},function(t){return t.value}))},u.resolve=function(t){return new u(s.a.wrap(t))},u.reject=function(t){return new u(s.a.wrapError(t))},u.prototype.then=function(o,r){var t=!0,e=new u(this._winjsPromise.then(o&&function(n){return t?new s.a(function(e,i){a.h(function(){var t;try{t=o(n)}catch(t){return void i(t)}e(t)})}):o(n)},r&&function(n){return t?new s.a(function(e,i){a.h(function(){var t;try{t=r(n)}catch(t){return void i(t)}e(t)})}):r(n)}));return t=!1,e},u.prototype.catch=function(t){return this.then(null,t)},u);function u(t){!function(t){return Object(l.i)(t)&&"function"==typeof t.done}(t)?this._winjsPromise=new s.a(function(e,i){var n=!0;t(function(t){n?a.h(function(){return e(t)}):e(t)},function(t){n?a.h(function(){return i(t)}):i(t)}),n=!1}):this._winjsPromise=t}var o,r,h,c,d,p,f,g,m,v,y,_,b,w,C,S,x,k,O,E,L,D,I,N,T,M,A,P,R,F,j,B,H,W,V,z,U,q,K,G,Y,$,Z,X,J,Q,tt,et,it,nt,ot,rt,st,at,lt=i(33),ut=i(29),ht=i(5),ct=i(38),dt=i(30),pt=i(9),ft=i(2),gt=i(20),mt=i(87);(r=o=o||{})[r.Unnecessary=1]="Unnecessary",(c=h=h||{})[c.Hint=1]="Hint",c[c.Info=2]="Info",c[c.Warning=4]="Warning",c[c.Error=8]="Error",(p=d=d||{})[p.Unknown=0]="Unknown",p[p.Backspace=1]="Backspace",p[p.Tab=2]="Tab",p[p.Enter=3]="Enter",p[p.Shift=4]="Shift",p[p.Ctrl=5]="Ctrl",p[p.Alt=6]="Alt",p[p.PauseBreak=7]="PauseBreak",p[p.CapsLock=8]="CapsLock",p[p.Escape=9]="Escape",p[p.Space=10]="Space",p[p.PageUp=11]="PageUp",p[p.PageDown=12]="PageDown",p[p.End=13]="End",p[p.Home=14]="Home",p[p.LeftArrow=15]="LeftArrow",p[p.UpArrow=16]="UpArrow",p[p.RightArrow=17]="RightArrow",p[p.DownArrow=18]="DownArrow",p[p.Insert=19]="Insert",p[p.Delete=20]="Delete",p[p.KEY_0=21]="KEY_0",p[p.KEY_1=22]="KEY_1",p[p.KEY_2=23]="KEY_2",p[p.KEY_3=24]="KEY_3",p[p.KEY_4=25]="KEY_4",p[p.KEY_5=26]="KEY_5",p[p.KEY_6=27]="KEY_6",p[p.KEY_7=28]="KEY_7",p[p.KEY_8=29]="KEY_8",p[p.KEY_9=30]="KEY_9",p[p.KEY_A=31]="KEY_A",p[p.KEY_B=32]="KEY_B",p[p.KEY_C=33]="KEY_C",p[p.KEY_D=34]="KEY_D",p[p.KEY_E=35]="KEY_E",p[p.KEY_F=36]="KEY_F",p[p.KEY_G=37]="KEY_G",p[p.KEY_H=38]="KEY_H",p[p.KEY_I=39]="KEY_I",p[p.KEY_J=40]="KEY_J",p[p.KEY_K=41]="KEY_K",p[p.KEY_L=42]="KEY_L",p[p.KEY_M=43]="KEY_M",p[p.KEY_N=44]="KEY_N",p[p.KEY_O=45]="KEY_O",p[p.KEY_P=46]="KEY_P",p[p.KEY_Q=47]="KEY_Q",p[p.KEY_R=48]="KEY_R",p[p.KEY_S=49]="KEY_S",p[p.KEY_T=50]="KEY_T",p[p.KEY_U=51]="KEY_U",p[p.KEY_V=52]="KEY_V",p[p.KEY_W=53]="KEY_W",p[p.KEY_X=54]="KEY_X",p[p.KEY_Y=55]="KEY_Y",p[p.KEY_Z=56]="KEY_Z",p[p.Meta=57]="Meta",p[p.ContextMenu=58]="ContextMenu",p[p.F1=59]="F1",p[p.F2=60]="F2",p[p.F3=61]="F3",p[p.F4=62]="F4",p[p.F5=63]="F5",p[p.F6=64]="F6",p[p.F7=65]="F7",p[p.F8=66]="F8",p[p.F9=67]="F9",p[p.F10=68]="F10",p[p.F11=69]="F11",p[p.F12=70]="F12",p[p.F13=71]="F13",p[p.F14=72]="F14",p[p.F15=73]="F15",p[p.F16=74]="F16",p[p.F17=75]="F17",p[p.F18=76]="F18",p[p.F19=77]="F19",p[p.NumLock=78]="NumLock",p[p.ScrollLock=79]="ScrollLock",p[p.US_SEMICOLON=80]="US_SEMICOLON",p[p.US_EQUAL=81]="US_EQUAL",p[p.US_COMMA=82]="US_COMMA",p[p.US_MINUS=83]="US_MINUS",p[p.US_DOT=84]="US_DOT",p[p.US_SLASH=85]="US_SLASH",p[p.US_BACKTICK=86]="US_BACKTICK",p[p.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",p[p.US_BACKSLASH=88]="US_BACKSLASH",p[p.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",p[p.US_QUOTE=90]="US_QUOTE",p[p.OEM_8=91]="OEM_8",p[p.OEM_102=92]="OEM_102",p[p.NUMPAD_0=93]="NUMPAD_0",p[p.NUMPAD_1=94]="NUMPAD_1",p[p.NUMPAD_2=95]="NUMPAD_2",p[p.NUMPAD_3=96]="NUMPAD_3",p[p.NUMPAD_4=97]="NUMPAD_4",p[p.NUMPAD_5=98]="NUMPAD_5",p[p.NUMPAD_6=99]="NUMPAD_6",p[p.NUMPAD_7=100]="NUMPAD_7",p[p.NUMPAD_8=101]="NUMPAD_8",p[p.NUMPAD_9=102]="NUMPAD_9",p[p.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",p[p.NUMPAD_ADD=104]="NUMPAD_ADD",p[p.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",p[p.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",p[p.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",p[p.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",p[p.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",p[p.ABNT_C1=110]="ABNT_C1",p[p.ABNT_C2=111]="ABNT_C2",p[p.MAX_VALUE=112]="MAX_VALUE",(g=f=f||{})[g.LTR=0]="LTR",g[g.RTL=1]="RTL",(v=m=m||{})[v.Auto=1]="Auto",v[v.Hidden=2]="Hidden",v[v.Visible=3]="Visible",(_=y=y||{})[_.Left=1]="Left",_[_.Center=2]="Center",_[_.Right=4]="Right",_[_.Full=7]="Full",(w=b=b||{})[w.TextDefined=0]="TextDefined",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF",(S=C=C||{})[S.LF=1]="LF",S[S.CRLF=2]="CRLF",(k=x=x||{})[k.LF=0]="LF",k[k.CRLF=1]="CRLF",(E=O=O||{})[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",(D=L=L||{})[D.Smooth=0]="Smooth",D[D.Immediate=1]="Immediate",(N=I=I||{})[N.NotSet=0]="NotSet",N[N.ContentFlush=1]="ContentFlush",N[N.RecoverFromMarkers=2]="RecoverFromMarkers",N[N.Explicit=3]="Explicit",N[N.Paste=4]="Paste",N[N.Undo=5]="Undo",N[N.Redo=6]="Redo",(M=T=T||{})[M.None=0]="None",M[M.Small=1]="Small",M[M.Large=2]="Large",M[M.SmallBlocks=3]="SmallBlocks",M[M.LargeBlocks=4]="LargeBlocks",(P=A=A||{})[P.None=0]="None",P[P.Same=1]="Same",P[P.Indent=2]="Indent",P[P.DeepIndent=3]="DeepIndent",(F=R=R||{})[F.Hidden=0]="Hidden",F[F.Blink=1]="Blink",F[F.Smooth=2]="Smooth",F[F.Phase=3]="Phase",F[F.Expand=4]="Expand",F[F.Solid=5]="Solid",(B=j=j||{})[B.Line=1]="Line",B[B.Block=2]="Block",B[B.Underline=3]="Underline",B[B.LineThin=4]="LineThin",B[B.BlockOutline=5]="BlockOutline",B[B.UnderlineThin=6]="UnderlineThin",(W=H=H||{})[W.Off=0]="Off",W[W.On=1]="On",W[W.Relative=2]="Relative",W[W.Interval=3]="Interval",W[W.Custom=4]="Custom",(z=V=V||{})[z.EXACT=0]="EXACT",z[z.ABOVE=1]="ABOVE",z[z.BELOW=2]="BELOW",(q=U=U||{})[q.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",q[q.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",q[q.TOP_CENTER=2]="TOP_CENTER",(G=K=K||{})[G.UNKNOWN=0]="UNKNOWN",G[G.TEXTAREA=1]="TEXTAREA",G[G.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",G[G.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",G[G.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",G[G.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",G[G.CONTENT_TEXT=6]="CONTENT_TEXT",G[G.CONTENT_EMPTY=7]="CONTENT_EMPTY",G[G.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",G[G.CONTENT_WIDGET=9]="CONTENT_WIDGET",G[G.OVERVIEW_RULER=10]="OVERVIEW_RULER",G[G.SCROLLBAR=11]="SCROLLBAR",G[G.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",G[G.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",($=Y=Y||{})[$.None=0]="None",$[$.Indent=1]="Indent",$[$.IndentOutdent=2]="IndentOutdent",$[$.Outdent=3]="Outdent",(X=Z=Z||{})[X.Method=0]="Method",X[X.Function=1]="Function",X[X.Constructor=2]="Constructor",X[X.Field=3]="Field",X[X.Variable=4]="Variable",X[X.Class=5]="Class",X[X.Struct=6]="Struct",X[X.Interface=7]="Interface",X[X.Module=8]="Module",X[X.Property=9]="Property",X[X.Event=10]="Event",X[X.Operator=11]="Operator",X[X.Unit=12]="Unit",X[X.Value=13]="Value",X[X.Constant=14]="Constant",X[X.Enum=15]="Enum",X[X.EnumMember=16]="EnumMember",X[X.Keyword=17]="Keyword",X[X.Text=18]="Text",X[X.Color=19]="Color",X[X.File=20]="File",X[X.Reference=21]="Reference",X[X.Customcolor=22]="Customcolor",X[X.Folder=23]="Folder",X[X.TypeParameter=24]="TypeParameter",X[X.Snippet=25]="Snippet",(Q=J=J||{})[Q.KeepWhitespace=1]="KeepWhitespace",Q[Q.InsertAsSnippet=4]="InsertAsSnippet",(et=tt=tt||{})[et.Invoke=0]="Invoke",et[et.TriggerCharacter=1]="TriggerCharacter",et[et.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(nt=it=it||{})[nt.Invoke=1]="Invoke",nt[nt.TriggerCharacter=2]="TriggerCharacter",nt[nt.ContentChange=3]="ContentChange",(rt=ot=ot||{})[rt.Text=0]="Text",rt[rt.Read=1]="Read",rt[rt.Write=2]="Write",(at=st=st||{})[at.File=0]="File",at[at.Module=1]="Module",at[at.Namespace=2]="Namespace",at[at.Package=3]="Package",at[at.Class=4]="Class",at[at.Method=5]="Method",at[at.Property=6]="Property",at[at.Field=7]="Field",at[at.Constructor=8]="Constructor",at[at.Enum=9]="Enum",at[at.Interface=10]="Interface",at[at.Function=11]="Function",at[at.Variable=12]="Variable",at[at.Constant=13]="Constant",at[at.String=14]="String",at[at.Number=15]="Number",at[at.Boolean=16]="Boolean",at[at.Array=17]="Array",at[at.Object=18]="Object",at[at.Key=19]="Key",at[at.Null=20]="Null",at[at.EnumMember=21]="EnumMember",at[at.Struct=22]="Struct",at[at.Event=23]="Event",at[at.Operator=24]="Operator",at[at.TypeParameter=25]="TypeParameter";var vt=(yt.chord=function(t,e){return Object(ct.a)(t,e)},yt.CtrlCmd=2048,yt.Shift=1024,yt.Alt=512,yt.WinCtrl=256,yt);function yt(){}function _t(){return{editor:void 0,languages:void 0,CancellationTokenSource:ut.b,Emitter:ht.a,KeyCode:d,KeyMod:vt,Position:pt.a,Range:ft.a,Selection:gt.a,SelectionDirection:f,MarkerSeverity:h,MarkerTag:o,Promise:s.b,Uri:dt.a,Token:mt.a}}i(327);var bt=i(34),wt=i(1);function Ct(t){var e=JSON.parse(t);return e=function t(e,i){if(!e||200<i)return e;if("object"==typeof e){switch(e.$mid){case 1:return dt.a.revive(e);case 2:return new RegExp(e.source,e.flags)}for(var n in e)Object.hasOwnProperty.call(e,n)&&(e[n]=t(e[n],i+1))}return e}(e,0)}var St=i(49),xt=i(93),kt=i(37),Ot=i(18),Et=i(97),Lt=(Dt.prototype.publicLog=function(t,e){return s.b.wrap(void 0)},Dt.prototype.getTelemetryInfo=function(){return s.b.wrap({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId"})},new Dt);function Dt(){}var It=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Nt=function(i,n){return function(t,e){n(t,e,i)}},Tt=(Mt.prototype.open=function(t,e){var i;this._telemetryService&&this._telemetryService.publicLog("openerService",{scheme:t.scheme});var n=t.scheme,o=t.path,r=t.query,s=t.fragment,a=void 0;if(n===St.a.http||n===St.a.https||n===St.a.mailto)wt.R(t.toString(!0));else if("command"===n&&kt.a.getCommand(o)){var l=[];try{l=Ct(r),Array.isArray(l)||(l=[l])}catch(t){}a=(i=this._commandService).executeCommand.apply(i,[o].concat(l))}else{var u=void 0,h=/^L?(\d+)(?:,(\d+))?/.exec(s);if(h&&(u={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},t=t.with({fragment:""})),!t.scheme)return Promise.resolve(void 0);t.scheme===St.a.file&&(t=xt.f(t)),a=this._editorService.openCodeEditor({resource:t,options:{selection:u}},this._editorService.getFocusedCodeEditor(),e&&e.openToSide)}return Promise.resolve(a)},Mt=It([Nt(0,bt.a),Nt(1,kt.b),Nt(2,Object(Ot.d)(Et.a))],Mt));function Mt(t,e,i){void 0===i&&(i=Lt),this._editorService=t,this._commandService=e,this._telemetryService=i}var At,Pt=i(229),Rt=i(129),Ft=i(36),jt=i(47),Bt=i(11),Ht=i(62),Wt=i(81),Vt=i(117),zt=i(4),Ut=i(13),qt=(At=function(t,e){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}At(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Kt=self;void 0===Kt.Promise&&(Kt.Promise=n);var Gt="$initialize",Yt=!1;function $t(t){a.f&&(Yt||(Yt=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(t.message))}var Zt=(Xt.prototype.setWorkerId=function(t){this._workerId=t},Xt.prototype.sendMessage=function(i,n){var o=this,r=String(++this._lastSentReq);return new Promise(function(t,e){o._pendingReplies[r]={resolve:t,reject:e},o._send({vsWorker:o._workerId,req:r,method:i,args:n})})},Xt.prototype.handleMessage=function(t){var e;try{e=JSON.parse(t)}catch(t){return}e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))},Xt.prototype._handleMessage=function(t){var e=this;if(t.seq){var i=t;if(!this._pendingReplies[i.seq])return void console.warn("Got reply to unknown seq");var n=this._pendingReplies[i.seq];if(delete this._pendingReplies[i.seq],i.err){var o=i.err;return i.err.$isError&&((o=new Error).name=i.err.name,o.message=i.err.message,o.stack=i.err.stack),void n.reject(o)}n.resolve(i.res)}else{var r=t,s=r.req;this._handler.handleMessage(r.method,r.args).then(function(t){e._send({vsWorker:e._workerId,seq:s,res:t,err:void 0})},function(t){t.detail instanceof Error&&(t.detail=Object(Ut.g)(t.detail)),e._send({vsWorker:e._workerId,seq:s,res:void 0,err:Object(Ut.g)(t)})})}},Xt.prototype._send=function(t){var e=JSON.stringify(t);this._handler.sendMessage(e)},Xt);function Xt(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null)}var Jt,Qt=(Jt=zt.a,qt(te,Jt),te.prototype.getProxyObject=function(){return this._lazyProxy},te.prototype._request=function(i,n){var o=this;return new Promise(function(t,e){o._onModuleLoaded.then(function(){o._protocol.sendMessage(i,n).then(t,e)},e)})},te.prototype._onError=function(t,e){console.error(t),console.info(e)},te);function te(t,i){var o=Jt.call(this)||this,r=null;o._worker=o._register(t.create("vs/base/common/worker/simpleWorker",function(t){o._protocol.handleMessage(t)},function(t){r&&r(t)})),o._protocol=new Zt({sendMessage:function(t){o._worker.postMessage(t)},handleMessage:function(t,e){return Promise.resolve(null)}}),o._protocol.setWorkerId(o._worker.getId());var e=null;void 0!==self.require&&"function"==typeof self.require.getConfig?e=self.require.getConfig():void 0!==self.requirejs&&(e=self.requirejs.s.contexts._.config),o._onModuleLoaded=o._protocol.sendMessage(Gt,[o._worker.getId(),i,e]),o._lazyProxy=new Promise(function(n,e){r=e,o._onModuleLoaded.then(function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=a(t[i],s);n(e)},function(t){e(t),o._onError("Worker failed to load "+i,t)})});var s=function(t,e){return o._request(t,e)},a=function(e,i){return function(){var t=Array.prototype.slice.call(arguments,0);return i(e,t)}};return o}ee.prototype.onmessage=function(t){this._protocol.handleMessage(t)},ee.prototype._handleMessage=function(t,e){if(t===Gt)return this.initialize(e[0],e[1],e[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[t])return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._requestHandler[t].apply(this._requestHandler,e))}catch(t){return Promise.reject(t)}},ee.prototype.initialize=function(t,e,i){var a=this;if(this._protocol.setWorkerId(t),this._requestHandler){var n=[];for(var o in this._requestHandler)"function"==typeof this._requestHandler[o]&&n.push(o);return Promise.resolve(n)}return i&&(void 0!==i.baseUrl&&delete i.baseUrl,void 0!==i.paths&&void 0!==i.paths.vs&&delete i.paths.vs,i.catchError=!0,self.require.config(i)),new Promise(function(r,s){self.require([e],function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0];if(a._requestHandler=i.create(),a._requestHandler){var n=[];for(var o in a._requestHandler)"function"==typeof a._requestHandler[o]&&n.push(o);r(n)}else s(new Error("No RequestHandler!"))},s)})};function ee(e,t){var i=this;this._requestHandler=t,this._protocol=new Zt({sendMessage:function(t){e(t)},handleMessage:function(t,e){return i._handleMessage(t,e)}})}var ie=(ne.prototype.getId=function(){return this.id},ne.prototype.postMessage=function(t){this.worker&&this.worker.postMessage(t)},ne.prototype.dispose=function(){this.worker&&this.worker.terminate(),this.worker=null},ne);function ne(t,e,i,n,o){this.id=e,this.worker=function(t,e){if(a.b.MonacoEnvironment){if("function"==typeof a.b.MonacoEnvironment.getWorker)return a.b.MonacoEnvironment.getWorker(t,e);if("function"==typeof a.b.MonacoEnvironment.getWorkerUrl)return new Worker(a.b.MonacoEnvironment.getWorkerUrl(t,e))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",i),this.postMessage(t),this.worker.onmessage=function(t){n(t.data)},"function"==typeof this.worker.addEventListener&&this.worker.addEventListener("error",o)}var oe=(re.prototype.create=function(t,e,i){var n=this,o=++re.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ie(t,o,this._label||"anonymous"+o,e,function(t){$t(t),n._webWorkerFailedBeforeError=t,i(t)})},re.LAST_WORKER_ID=0,re);function re(t){this._label=t,this._webWorkerFailedBeforeError=!1}var se=i(32),ae=i(21),le=i(156),ue=i(83),he=i(8);function ce(t,e,i,n){return new le.a(t,e,i).ComputeDiff(n)}var de=(pe.prototype.getLength=function(){return this._lines.length},pe.prototype.getElementAtIndex=function(t){return this._lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1)},pe.prototype.getStartLineNumber=function(t){return t+1},pe.prototype.getEndLineNumber=function(t){return t+1},pe._getFirstNonBlankColumn=function(t,e){var i=he.o(t);return-1===i?e:i+1},pe._getLastNonBlankColumn=function(t,e){var i=he.y(t);return-1===i?e:i+2},pe.prototype.getCharSequence=function(t,e,i){for(var n=[],o=[],r=[],s=0,a=e;a<=i;a++)for(var l=this._lines[a],u=t?this._startColumns[a]:1,h=t?this._endColumns[a]:l.length+1,c=u;c<h;c++)n[s]=l.charCodeAt(c-1),o[s]=a+1,r[s]=c,s++;return new fe(n,o,r)},pe);function pe(t){for(var e=[],i=[],n=0,o=t.length;n<o;n++)e[n]=pe._getFirstNonBlankColumn(t[n],1),i[n]=pe._getLastNonBlankColumn(t[n],1);this._lines=t,this._startColumns=e,this._endColumns=i}var fe=(ge.prototype.getLength=function(){return this._charCodes.length},ge.prototype.getElementAtIndex=function(t){return this._charCodes[t]},ge.prototype.getStartLineNumber=function(t){return this._lineNumbers[t]},ge.prototype.getStartColumn=function(t){return this._columns[t]},ge.prototype.getEndLineNumber=function(t){return this._lineNumbers[t]},ge.prototype.getEndColumn=function(t){return this._columns[t]+1},ge);function ge(t,e,i){this._charCodes=t,this._lineNumbers=e,this._columns=i}var me=(ve.createFromDiffChange=function(t,e,i){var n,o,r,s,a,l,u,h;return s=0===t.originalLength?r=o=n=0:(n=e.getStartLineNumber(t.originalStart),o=e.getStartColumn(t.originalStart),r=e.getEndLineNumber(t.originalStart+t.originalLength-1),e.getEndColumn(t.originalStart+t.originalLength-1)),h=0===t.modifiedLength?u=l=a=0:(a=i.getStartLineNumber(t.modifiedStart),l=i.getStartColumn(t.modifiedStart),u=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),i.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new ve(n,o,r,s,a,l,u,h)},ve);function ve(t,e,i,n,o,r,s,a){this.originalStartLineNumber=t,this.originalStartColumn=e,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}var ye=(_e.createFromDiffResult=function(t,e,i,n,o,r,s){var a,l,u,h,c=void 0;if(l=0===e.originalLength?(a=i.getStartLineNumber(e.originalStart)-1,0):(a=i.getStartLineNumber(e.originalStart),i.getEndLineNumber(e.originalStart+e.originalLength-1)),h=0===e.modifiedLength?(u=n.getStartLineNumber(e.modifiedStart)-1,0):(u=n.getStartLineNumber(e.modifiedStart),n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1)),r&&0!==e.originalLength&&0!==e.modifiedLength&&o()){var d=i.getCharSequence(t,e.originalStart,e.originalStart+e.originalLength-1),p=n.getCharSequence(t,e.modifiedStart,e.modifiedStart+e.modifiedLength-1),f=ce(d,p,o,!0);s&&(f=function(t){if(t.length<=1)return t;for(var e=[t[0]],i=e[0],n=1,o=t.length;n<o;n++){var r=t[n],s=r.originalStart-(i.originalStart+i.originalLength),a=r.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(s,a)<3?(i.originalLength=r.originalStart+r.originalLength-i.originalStart,i.modifiedLength=r.modifiedStart+r.modifiedLength-i.modifiedStart):(e.push(r),i=r)}return e}(f)),c=[];for(var g=0,m=f.length;g<m;g++)c.push(me.createFromDiffChange(f[g],d,p))}return new _e(a,l,u,h,c)},_e);function _e(t,e,i,n,o){this.originalStartLineNumber=t,this.originalEndLineNumber=e,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}var be=(we.prototype.computeDiff=function(){if(1===this.original.getLength()&&0===this.original.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(1===this.modified.getLength()&&0===this.modified.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=(new Date).getTime();var t=ce(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){for(var e=[],i=0,n=t.length;i<n;i++)e.push(ye.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[i],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return e}for(var o=[],r=0,s=0,a=(i=-1,t.length);i<a;i++){for(var l=i+1<a?t[i+1]:null,u=l?l.originalStart:this.originalLines.length,h=l?l.modifiedStart:this.modifiedLines.length;r<u&&s<h;){var c=this.originalLines[r],d=this.modifiedLines[s];if(c!==d){for(var p=de._getFirstNonBlankColumn(c,1),f=de._getFirstNonBlankColumn(d,1);1<p&&1<f&&c.charCodeAt(p-2)===d.charCodeAt(f-2);)p--,f--;(1<p||1<f)&&this._pushTrimWhitespaceCharChange(o,r+1,1,p,s+1,1,f);for(var g=de._getLastNonBlankColumn(c,1),m=de._getLastNonBlankColumn(d,1),v=c.length+1,y=d.length+1;g<v&&m<y&&c.charCodeAt(g-1)===c.charCodeAt(m-1);)g++,m++;(g<v||m<y)&&this._pushTrimWhitespaceCharChange(o,r+1,g,v,s+1,m,y)}r++,s++}l&&(o.push(ye.createFromDiffResult(this.shouldIgnoreTrimWhitespace,l,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),r+=l.originalLength,s+=l.modifiedLength)}return o},we.prototype._pushTrimWhitespaceCharChange=function(t,e,i,n,o,r,s){if(!this._mergeTrimWhitespaceCharChange(t,e,i,n,o,r,s)){var a=void 0;this.shouldComputeCharChanges&&(a=[new me(e,i,e,n,o,r,o,s)]),t.push(new ye(e,e,o,o,a))}},we.prototype._mergeTrimWhitespaceCharChange=function(t,e,i,n,o,r,s){var a=t.length;if(0===a)return!1;var l=t[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&l.originalEndLineNumber+1===e&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=e,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges.push(new me(e,i,e,n,o,r,o,s)),!0)},we.prototype._continueProcessingPredicate=function(){return 0===this.maximumRunTimeMs||(new Date).getTime()-this.computationStartTime<this.maximumRunTimeMs},we);function we(t,e,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.maximumRunTimeMs=5e3,this.originalLines=t,this.modifiedLines=e,this.original=new de(t),this.modified=new de(e)}var Ce=i(152),Se=(xe.prototype.dispose=function(){this._lines.length=0},xe.prototype.getText=function(){return this._lines.join(this._eol)},xe.prototype.onEvents=function(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);for(var e=t.changes,i=0,n=e.length;i<n;i++){var o=e[i];this._acceptDeleteRange(o.range),this._acceptInsertText(new pt.a(o.range.startLineNumber,o.range.startColumn),o.text)}this._versionId=t.versionId},xe.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var t=this._eol.length,e=this._lines.length,i=new Uint32Array(e),n=0;n<e;n++)i[n]=this._lines[n].length+t;this._lineStarts=new Ce.a(i)}},xe.prototype._setLineText=function(t,e){this._lines[t]=e,this._lineStarts&&this._lineStarts.changeValue(t,this._lines[t].length+this._eol.length)},xe.prototype._acceptDeleteRange=function(t){if(t.startLineNumber!==t.endLineNumber)this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber);else{if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1))}},xe.prototype._acceptInsertText=function(t,e){if(0!==e.length){var i=e.split(/\r\n|\r|\n/);if(1!==i.length){i[i.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+i[0]);for(var n=new Uint32Array(i.length-1),o=1;o<i.length;o++)this._lines.splice(t.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,n)}else this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+i[0]+this._lines[t.lineNumber-1].substring(t.column-1))}},xe);function xe(t,e,i,n){this._uri=t,this._lines=e,this._eol=i,this._versionId=n,this._lineStarts=null}var ke=i(106),Oe=i(98),Ee=i(94),Le=(De.prototype.nextState=function(t,e){return e<0||e>=this._maxCharCode?0:this._states.get(t,e)},De);function De(t){for(var e=0,i=0,n=0,o=t.length;n<o;n++){var r=t[n],s=r[0];e<(u=r[1])&&(e=u),i<s&&(i=s),i<(h=r[2])&&(i=h)}e++,i++;var a=new Ee.a(i,e,0);for(n=0,o=t.length;n<o;n++){var l=t[n],u=(s=l[0],l[1]),h=l[2];a.set(s,u,h)}this._states=a,this._maxCharCode=e}var Ie=null;var Ne=null;var Te=(Me._createLink=function(t,e,i,n,o){var r=o-1;do{var s=e.charCodeAt(r);if(2!==t.get(s))break;r--}while(n<r);if(0<n){var a=e.charCodeAt(n-1),l=e.charCodeAt(r);(40===a&&41===l||91===a&&93===l||123===a&&125===l)&&r--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:r+2},url:e.substring(n,r+1)}},Me.computeLinks=function(t){for(var e=(null===Ie&&(Ie=new Le([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Ie),i=function(){if(null===Ne){Ne=new Oe.a(0);for(var t=" \t<>'\"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…",e=0;e<t.length;e++)Ne.set(t.charCodeAt(e),1);for(e=0;e<".,;".length;e++)Ne.set(".,;".charCodeAt(e),2)}return Ne}(),n=[],o=1,r=t.getLineCount();o<=r;o++){for(var s=t.getLineContent(o),a=s.length,l=0,u=0,h=0,c=1,d=!1,p=!1,f=!1;l<a;){var g=!1,m=s.charCodeAt(l);if(13===c){var v=void 0;switch(m){case 40:d=!0,v=0;break;case 41:v=d?0:1;break;case 91:p=!0,v=0;break;case 93:v=p?0:1;break;case 123:f=!0,v=0;break;case 125:v=f?0:1;break;case 39:v=34===h||96===h?0:1;break;case 34:v=39===h||96===h?0:1;break;case 96:v=39===h||34===h?0:1;break;default:v=i.get(m)}1===v&&(n.push(Me._createLink(i,s,o,u,l)),g=!0)}else 12===c?1===(v=i.get(m))?g=!0:c=13:0===(c=e.nextState(c,m))&&(g=!0);g&&(f=p=d=!(c=1),u=l+1,h=m),l++}13===c&&n.push(Me._createLink(i,s,o,u,a))}return n},Me);function Me(){}var Ae=(Pe.prototype.navigateValueSet=function(t,e,i,n,o){var r;return t&&e&&(r=this.doNavigateValueSet(e,o))?{range:t,value:r}:i&&n&&(r=this.doNavigateValueSet(n,o))?{range:i,value:r}:null},Pe.prototype.doNavigateValueSet=function(t,e){var i=this.numberReplace(t,e);return null!==i?i:this.textReplace(t,e)},Pe.prototype.numberReplace=function(t,e){var i=Math.pow(10,t.length-(t.lastIndexOf(".")+1)),n=Number(t),o=parseFloat(t);return isNaN(n)||isNaN(o)||n!==o?null:0!==n||e?(n=Math.floor(n*i),n+=e?i:-i,String(n/i)):null},Pe.prototype.textReplace=function(t,e){return this.valueSetsReplace(this._defaultValueSet,t,e)},Pe.prototype.valueSetsReplace=function(t,e,i){for(var n=null,o=0,r=t.length;null===n&&o<r;o++)n=this.valueSetReplace(t[o],e,i);return n},Pe.prototype.valueSetReplace=function(t,e,i){var n=t.indexOf(e);return 0<=n?((n+=i?1:-1)<0?n=t.length-1:n%=t.length,t[n]):null},Pe.INSTANCE=new Pe,Pe);function Pe(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}var Re,Fe,je=(Re=function(t,e){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Re(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Be=(je(He,Fe=Se),Object.defineProperty(He.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(He.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(He.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),He.prototype.getValue=function(){return this.getText()},He.prototype.getLinesContent=function(){return this._lines.slice(0)},He.prototype.getLineCount=function(){return this._lines.length},He.prototype.getLineContent=function(t){return this._lines[t-1]},He.prototype.getWordAtPosition=function(t,e){var i=Object(ke.d)(t.column,Object(ke.c)(e),this._lines[t.lineNumber-1],0);return i?new ft.a(t.lineNumber,i.startColumn,t.lineNumber,i.endColumn):null},He.prototype.getWordUntilPosition=function(t,e){var i=this.getWordAtPosition(t,e);return i?{word:this._lines[t.lineNumber-1].substring(i.startColumn-1,t.column-1),startColumn:i.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}},He.prototype.createWordIterator=function(e){var i,n,o=this,r=0,s=0,a=[],l=function(){if(s<a.length){var t=n.substring(a[s].start,a[s].end);return s+=1,i?i.value=t:i={done:!1,value:t},i}return r>=o._lines.length?ue.c:(n=o._lines[r],a=o._wordenize(n,e),s=0,r+=1,l())};return{next:l}},He.prototype.getLineWords=function(t,e){for(var i=this._lines[t-1],n=[],o=0,r=this._wordenize(i,e);o<r.length;o++){var s=r[o];n.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1})}return n},He.prototype._wordenize=function(t,e){var i,n=[];for(e.lastIndex=0;(i=e.exec(t))&&0!==i[0].length;)n.push({start:i.index,end:i.index+i[0].length});return n},He.prototype.getValueInRange=function(t){if((t=this._validateRange(t)).startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);var e=this._eol,i=t.startLineNumber-1,n=t.endLineNumber-1,o=[];o.push(this._lines[i].substring(t.startColumn-1));for(var r=1+i;r<n;r++)o.push(this._lines[r]);return o.push(this._lines[n].substring(0,t.endColumn-1)),o.join(e)},He.prototype.offsetAt=function(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+(t.column-1)},He.prototype.positionAt=function(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();var e=this._lineStarts.getIndexOf(t),i=this._lines[e.index].length;return{lineNumber:1+e.index,column:1+Math.min(e.remainder,i)}},He.prototype._validateRange=function(t){var e=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),i=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return e.lineNumber!==t.startLineNumber||e.column!==t.startColumn||i.lineNumber!==t.endLineNumber||i.column!==t.endColumn?{startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:i.lineNumber,endColumn:i.column}:t},He.prototype._validatePosition=function(t){if(!pt.a.isIPosition(t))throw new Error("bad position");var e=t.lineNumber,i=t.column,n=!1;if(e<1)i=e=1,n=!0;else if(e>this._lines.length)e=this._lines.length,i=this._lines[e-1].length+1,n=!0;else{var o=this._lines[e-1].length+1;i<1?(i=1,n=!0):o<i&&(i=o,n=!0)}return n?{lineNumber:e,column:i}:t},He);function He(){return null!==Fe&&Fe.apply(this,arguments)||this}var We=(Ve.prototype.computeDiff=function(t,e,i){var n=this._getModel(t),o=this._getModel(e);if(!n||!o)return Promise.resolve(null);var r=n.getLinesContent(),s=o.getLinesContent(),a=new be(r,s,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0}).computeDiff(),l=!(0<a.length)&&this._modelsAreIdentical(n,o);return Promise.resolve({identical:l,changes:a})},Ve.prototype._modelsAreIdentical=function(t,e){var i=t.getLineCount();if(i!==e.getLineCount())return!1;for(var n=1;n<=i;n++)if(t.getLineContent(n)!==e.getLineContent(n))return!1;return!0},Ve.prototype.computeMoreMinimalEdits=function(t,e){var i=this._getModel(t);if(!i)return Promise.resolve(e);for(var n=[],o=void 0,r=0,s=e=Object(ae.l)(e,function(t,e){return t.range&&e.range?ft.a.compareRangesUsingStarts(t.range,e.range):(t.range?0:1)-(e.range?0:1)});r<s.length;r++){var a=s[r],l=a.range,u=a.text,h=a.eol;if("number"==typeof h&&(o=h),l){var c=i.getValueInRange(l);if(c!==(u=u.replace(/\r\n|\n|\r/g,i.eol)))if(Math.max(u.length,c.length)>Ve._diffLimit)n.push({range:l,text:u});else for(var d=Object(le.b)(c,u,!1),p=i.offsetAt(ft.a.lift(l).getStartPosition()),f=0,g=d;f<g.length;f++){var m=g[f],v=i.positionAt(p+m.originalStart),y=i.positionAt(p+m.originalStart+m.originalLength),_={text:u.substr(m.modifiedStart,m.modifiedLength),range:{startLineNumber:v.lineNumber,startColumn:v.column,endLineNumber:y.lineNumber,endColumn:y.column}};i.getValueInRange(_.range)!==_.text&&n.push(_)}}}return"number"==typeof o&&n.push({eol:o,text:void 0,range:void 0}),Promise.resolve(n)},Ve.prototype.computeLinks=function(t){var e=this._getModel(t);return e?Promise.resolve(function(t){return t&&"function"==typeof t.getLineCount&&"function"==typeof t.getLineContent?Te.computeLinks(t):[]}(e)):Promise.resolve(null)},Ve.prototype.textualSuggest=function(t,e,i,n){var o=this._getModel(t);if(!o)return Promise.resolve(null);var r=[],s=new RegExp(i,n),a=o.getWordUntilPosition(e,s),l=Object.create(null);l[a.word]=!0;for(var u=o.createWordIterator(s),h=u.next();!h.done&&r.length<=Ve._suggestionsLimit;h=u.next()){var c=h.value;l[c]||(l[c]=!0,isNaN(Number(c))&&r.push({kind:18,label:c,insertText:c,range:{startLineNumber:e.lineNumber,startColumn:a.startColumn,endLineNumber:e.lineNumber,endColumn:a.endColumn}}))}return Promise.resolve({suggestions:r})},Ve.prototype.computeWordRanges=function(t,e,i,n){var o=this._getModel(t);if(!o)return Promise.resolve(Object.create(null));for(var r=new RegExp(i,n),s=Object.create(null),a=e.startLineNumber;a<e.endLineNumber;a++)for(var l=0,u=o.getLineWords(a,r);l<u.length;l++){var h=u[l];if(isNaN(Number(h.word))){var c=s[h.word];c||(c=[],s[h.word]=c),c.push({startLineNumber:a,startColumn:h.startColumn,endLineNumber:a,endColumn:h.endColumn})}}return Promise.resolve(s)},Ve.prototype.navigateValueSet=function(t,e,i,n,o){var r=this._getModel(t);if(!r)return Promise.resolve(null);var s=new RegExp(n,o);e.startColumn===e.endColumn&&(e={startLineNumber:e.startLineNumber,startColumn:e.startColumn,endLineNumber:e.endLineNumber,endColumn:e.endColumn+1});var a=r.getValueInRange(e),l=r.getWordAtPosition({lineNumber:e.startLineNumber,column:e.startColumn},s);if(!l)return Promise.resolve(null);var u=r.getValueInRange(l),h=Ae.INSTANCE.navigateValueSet(e,a,l,u,i);return Promise.resolve(h)},Ve.prototype.loadForeignModule=function(t,e){var i=this,n={getMirrorModels:function(){return i._getModels()}};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(n,e);var o=[];for(var r in this._foreignModule)"function"==typeof this._foreignModule[r]&&o.push(r);return Promise.resolve(o)}return Promise.reject(new Error("Unexpected usage"))},Ve.prototype.fmr=function(t,e){if(!this._foreignModule||"function"!=typeof this._foreignModule[t])return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,e))}catch(t){return Promise.reject(t)}},Ve._diffLimit=1e4,Ve._suggestionsLimit=1e4,Ve);function Ve(t){this._foreignModuleFactory=t,this._foreignModule=null}var ze,Ue=(je(qe,ze=We),qe.prototype.dispose=function(){this._models=Object.create(null)},qe.prototype._getModel=function(t){return this._models[t]},qe.prototype._getModels=function(){var e=this,i=[];return Object.keys(this._models).forEach(function(t){return i.push(e._models[t])}),i},qe.prototype.acceptNewModel=function(t){this._models[t.url]=new Be(dt.a.parse(t.url),t.lines,t.EOL,t.versionId)},qe.prototype.acceptModelChanged=function(t,e){this._models[t]&&this._models[t].onEvents(e)},qe.prototype.acceptRemovedModel=function(t){this._models[t]&&delete this._models[t]},qe);function qe(t){var e=ze.call(this,t)||this;return e._models=Object.create(null),e}"function"==typeof importScripts&&(a.b.monaco=_t());var Ke,Ge=i(56),Ye=Object(Ot.c)("textResourceConfigurationService"),$e=Object(Ot.c)("textResourcePropertiesService"),Ze=(Ke=function(t,e){return(Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Xe=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Je=function(i,n){return function(t,e){n(t,e,i)}};function Qe(t,e){var i=t.getModel(e);return!!i&&!i.isTooLargeForSyncing()}var ti,ei=(ti=zt.a,Ze(ii,ti),ii.prototype.dispose=function(){ti.prototype.dispose.call(this)},ii.prototype.canComputeDiff=function(t,e){return Qe(this._modelService,t)&&Qe(this._modelService,e)},ii.prototype.computeDiff=function(e,i,n){return this._workerManager.withWorker().then(function(t){return t.computeDiff(e,i,n)})},ii.prototype.computeMoreMinimalEdits=function(e,i){return Array.isArray(i)&&0!==i.length&&Qe(this._modelService,e)?this._workerManager.withWorker().then(function(t){return t.computeMoreMinimalEdits(e,i)}):Promise.resolve(i)},ii.prototype.canNavigateValueSet=function(t){return Qe(this._modelService,t)},ii.prototype.navigateValueSet=function(e,i,n){return this._workerManager.withWorker().then(function(t){return t.navigateValueSet(e,i,n)})},ii.prototype.canComputeWordRanges=function(t){return Qe(this._modelService,t)},ii.prototype.computeWordRanges=function(e,i){return this._workerManager.withWorker().then(function(t){return t.computeWordRanges(e,i)})},ii=Xe([Je(0,Ge.a),Je(1,Ye)],ii));function ii(t,e){var i=ti.call(this)||this;return i._modelService=t,i._workerManager=i._register(new si(i._modelService)),i._register(Bt.p.register("*",{provideLinks:function(e,t){return Qe(i._modelService,e.uri)?i._workerManager.withWorker().then(function(t){return t.computeLinks(e.uri)}):Promise.resolve([])}})),i._register(Bt.d.register("*",new ni(i._workerManager,e,i._modelService))),i}var ni=(oi.prototype.provideCompletionItems=function(e,i){if(this._configurationService.getValue(e.uri,i,"editor").wordBasedSuggestions&&Qe(this._modelService,e.uri))return this._workerManager.withWorker().then(function(t){return t.textualSuggest(e.uri,i)})},oi);function oi(t,e,i){this._workerManager=t,this._configurationService=e,this._modelService=i}var ri,si=(ri=zt.a,Ze(ai,ri),ai.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),ri.prototype.dispose.call(this)},ai.prototype._checkStopEmptyWorker=function(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},ai.prototype._checkStopIdleWorker=function(){this._editorWorkerClient&&3e5<(new Date).getTime()-this._lastWorkerUsedTime&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},ai.prototype.withWorker=function(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new gi(this._modelService,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)},ai);function ai(t){var e=ri.call(this)||this;return e._modelService=t,e._editorWorkerClient=null,e._register(new l.c).cancelAndSet(function(){return e._checkStopIdleWorker()},Math.round(15e4)),e._register(e._modelService.onModelRemoved(function(t){return e._checkStopEmptyWorker()})),e}var li,ui=(li=zt.a,Ze(hi,li),hi.prototype.dispose=function(){for(var t in this._syncedModels)Object(zt.d)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),li.prototype.dispose.call(this)},hi.prototype.esureSyncedResources=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.toString();this._syncedModels[n]||this._beginModelSync(i),this._syncedModels[n]&&(this._syncedModelsLastUsedTime[n]=(new Date).getTime())}},hi.prototype._checkStopModelSync=function(){var t=(new Date).getTime(),e=[];for(var i in this._syncedModelsLastUsedTime)6e4<t-this._syncedModelsLastUsedTime[i]&&e.push(i);for(var n=0;n<e.length;n++)this._stopModelSync(e[n])},hi.prototype._beginModelSync=function(t){var e=this,i=this._modelService.getModel(t);if(i&&!i.isTooLargeForSyncing()){var n=t.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});var o=[];o.push(i.onDidChangeContent(function(t){e._proxy.acceptModelChanged(n.toString(),t)})),o.push(i.onWillDispose(function(){e._stopModelSync(n)})),o.push(Object(zt.f)(function(){e._proxy.acceptRemovedModel(n)})),this._syncedModels[n]=o}},hi.prototype._stopModelSync=function(t){var e=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],Object(zt.d)(e)},hi);function hi(t,e,i){var n=li.call(this)||this;if(n._syncedModels=Object.create(null),n._syncedModelsLastUsedTime=Object.create(null),n._proxy=t,n._modelService=e,!i){var o=new l.c;o.cancelAndSet(function(){return n._checkStopModelSync()},Math.round(3e4)),n._register(o)}return n}var ci=(di.prototype.dispose=function(){this._instance.dispose()},di.prototype.getProxyObject=function(){return this._proxyObj},di);function di(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}var pi,fi,gi=(pi=zt.a,Ze(mi,pi),mi.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new Qt(this._workerFactory,"vs/editor/common/services/editorSimpleWorker"))}catch(t){$t(t),this._worker=new ci(new Ue(null))}return this._worker},mi.prototype._getProxy=function(){var e=this;return this._getOrCreateWorker().getProxyObject().then(null,function(t){return $t(t),e._worker=new ci(new Ue(null)),e._getOrCreateWorker().getProxyObject()})},mi.prototype._getOrCreateModelManager=function(t){return this._modelManager||(this._modelManager=this._register(new ui(t,this._modelService,!1))),this._modelManager},mi.prototype._withSyncedResources=function(e){var i=this;return this._getProxy().then(function(t){return i._getOrCreateModelManager(t).esureSyncedResources(e),t})},mi.prototype.computeDiff=function(e,i,n){return this._withSyncedResources([e,i]).then(function(t){return t.computeDiff(e.toString(),i.toString(),n)})},mi.prototype.computeMoreMinimalEdits=function(e,i){return this._withSyncedResources([e]).then(function(t){return t.computeMoreMinimalEdits(e.toString(),i)})},mi.prototype.computeLinks=function(e){return this._withSyncedResources([e]).then(function(t){return t.computeLinks(e.toString())})},mi.prototype.textualSuggest=function(r,s){var a=this;return this._withSyncedResources([r]).then(function(t){var e=a._modelService.getModel(r);if(!e)return null;var i=se.a.getWordDefinition(e.getLanguageIdentifier().id),n=i.source,o=(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"");return t.textualSuggest(r.toString(),s,n,o)})},mi.prototype.computeWordRanges=function(r,s){var a=this;return this._withSyncedResources([r]).then(function(t){var e=a._modelService.getModel(r);if(!e)return Promise.resolve(null);var i=se.a.getWordDefinition(e.getLanguageIdentifier().id),n=i.source,o=(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"");return t.computeWordRanges(r.toString(),s,n,o)})},mi.prototype.navigateValueSet=function(r,s,a){var l=this;return this._withSyncedResources([r]).then(function(t){var e=l._modelService.getModel(r);if(!e)return null;var i=se.a.getWordDefinition(e.getLanguageIdentifier().id),n=i.source,o=(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"");return t.navigateValueSet(r.toString(),s,a,n,o)})},mi);function mi(t,e){var i=pi.call(this)||this;return i._modelService=t,i._workerFactory=new oe(e),i._worker=null,i._modelManager=null,i}var vi,yi=((fi=function(t,e){return(fi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}fi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(_i,vi=gi),_i.prototype._getForeignProxy=function(){var s=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then(function(r){return r.loadForeignModule(s._foreignModuleId,s._foreignModuleCreateData).then(function(t){s._foreignModuleCreateData=null;for(var e=function(t,e){return r.fmr(t,e)},i=function(e,i){return function(){var t=Array.prototype.slice.call(arguments,0);return i(e,t)}},n={},o=0;o<t.length;o++)n[t[o]]=i(t[o],e);return n})})),this._foreignProxy},_i.prototype.getProxy=function(){return this._getForeignProxy()},_i.prototype.withSyncedResources=function(t){var e=this;return this._withSyncedResources(t).then(function(t){return e.getProxy()})},_i);function _i(t,e){var i=vi.call(this,t,e.label)||this;return i._foreignModuleId=e.moduleId,i._foreignModuleCreateData=e.createData||null,i._foreignProxy=null,i}var bi=i(86),wi=i(68),Ci=i(54),Si=(xi.colorizeElement=function(t,e,i,n){var o=(n=n||{}).theme||"vs",r=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();t.setTheme(o);var s=i.firstChild?i.firstChild.nodeValue:"";return i.className+=" "+o,this.colorize(e,s||"",r,n).then(function(t){i.innerHTML=t},function(t){return console.error(t)})},xi.colorize=function(t,e,i,n){var r=4;n&&"number"==typeof n.tabSize&&(r=n.tabSize),he.H(e)&&(e=e.substr(1));var s=e.split(/\r\n|\r|\n/),a=t.getModeId(i);if(!a)return Promise.resolve(Oi(s,r));t.triggerMode(a);var o=Bt.w.get(a);return o?Promise.resolve(ki(s,r,o)):new Promise(function(e,t){function i(){n&&(n.dispose(),n=null),o&&(o.dispose(),o=null);var t=Bt.w.get(a);return e(t?ki(s,r,t):Oi(s,r))}var n=null,o=null;(o=new l.e).cancelAndSet(i,500),n=Bt.w.onDidChange(function(t){0<=t.changedLanguages.indexOf(a)&&i()})})},xi.colorizeLine=function(t,e,i,n,o){void 0===o&&(o=4);var r=Ci.d.isBasicASCII(t,e),s=Ci.d.containsRTL(t,r,i);return Object(wi.d)(new wi.b(!1,!0,t,!1,r,s,0,n,[],o,0,-1,"none",!1,!1)).html},xi.colorizeModelLine=function(t,e,i){void 0===i&&(i=4);var n=t.getLineContent(e);t.forceTokenization(e);var o=t.getLineTokens(e).inflate();return this.colorizeLine(n,t.mightContainNonBasicASCII(),t.mightContainRTL(),o,i)},xi);function xi(){}function ki(t,e,i){return function(t,e,i){for(var n=[],o=i.getInitialState(),r=0,s=t.length;r<s;r++){var a=t[r],l=i.tokenize2(a,o,0);bi.a.convertToEndOffset(l.tokens,a.length);var u=new bi.a(l.tokens,a),h=Ci.d.isBasicASCII(a,!0),c=Ci.d.containsRTL(a,h,!0),d=Object(wi.d)(new wi.b(!1,!0,a,!1,h,c,0,u.inflate(),[],e,0,-1,"none",!1,!1));(n=n.concat(d.html)).push("<br/>"),o=l.endState}return n.join("")}(t,e,i)}function Oi(t,e){var i=[],n=new Uint32Array(2);n[0]=0,n[1]=16793600;for(var o=0,r=t.length;o<r;o++){var s=t[o];n[0]=s.length;var a=new bi.a(n,s),l=Ci.d.isBasicASCII(s,!0),u=Ci.d.containsRTL(s,l,!0),h=Object(wi.d)(new wi.b(!1,!0,s,!1,l,u,0,a,[],e,0,-1,"none",!1,!1));(i=i.concat(h.html)).push("<br/>")}return i.join("")}var Ei=i(0),Li=i(51),Di=i(100),Ii=i(139),Ni=i(128),Ti=i(53),Mi=i(10),Ai=i(31),Pi=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Ri=function(i,n){return function(t,e){n(t,e,i)}},Fi=(ji.prototype.dispose=function(){this._disposables=Object(zt.d)(this._disposables),this._onDidChange.dispose()},ji.prototype.getActions=function(t){for(var e=[],i=0,n=this._menuGroups;i<n.length;i++){for(var o=n[i],r=o[0],s=[],a=0,l=o[1];a<l.length;a++){var u=l[a];if(this._contextKeyService.contextMatchesRules(u.when||null)){var h=Object(Ai.f)(u)?new Ai.c(u.command,u.alt,t,this._contextKeyService,this._commandService):new Ai.e(u);s.push(h)}}0<s.length&&e.push([r,s])}return e},ji._fillInKbExprKeys=function(t,e){if(t)for(var i=0,n=t.keys();i<n.length;i++){var o=n[i];e.add(o)}},ji._compareMenuItems=function(t,e){var i=t.group,n=e.group;if(i!==n){if(!i)return 1;if(!n)return-1;if("navigation"===i)return-1;if("navigation"===n)return 1;var o=i.localeCompare(n);if(0!==o)return o}var r=t.order||0,s=e.order||0;if(r<s)return-1;if(s<r)return 1;var a="string"==typeof t.command.title?t.command.title:t.command.title.value,l="string"==typeof e.command.title?e.command.title:e.command.title.value;return a.localeCompare(l)},ji=Pi([Ri(2,kt.b),Ri(3,Mi.e)],ji));function ji(l,t,e,i){var u=this;this._commandService=e,this._contextKeyService=i,this._menuGroups=[],this._disposables=[],this._onDidChange=new ht.a,t.then(function(t){var e,i=Ai.d.getMenuItems(l),n=new Set;i.sort(ji._compareMenuItems);for(var o=0,r=i;o<r.length;o++){var s=r[o],a=s.group;e&&e[0]===a||(e=[a||"",[]],u._menuGroups.push(e)),e[1].push(s),ji._fillInKbExprKeys(s.when,n),Object(Ai.f)(s)&&s.command.precondition&&ji._fillInKbExprKeys(s.command.precondition,n),Object(Ai.f)(s)&&s.command.toggled&&ji._fillInKbExprKeys(s.command.toggled,n)}u._disposables.push(u._contextKeyService.onDidChangeContext(function(t){t.affectsSome(n)&&u._onDidChange.fire()})),u._onDidChange.fire(u)})}var Bi,Hi=i(48),Wi=i(72),Vi=i(23),zi=i(27),Ui=i(110),qi=(Bi=function(t,e){return(Bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Bi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Ki=(Object.defineProperty(Gi.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:!0,configurable:!0}),Object.defineProperty(Gi.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:!0,configurable:!0}),Object.defineProperty(Gi.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:!0,configurable:!0}),Gi.prototype.getValue=function(t){return t?Object(Hi.d)(this.contents,t):this.contents},Gi.prototype.override=function(t){var e=this.getContentsForOverrideIdentifer(t);if(!e||"object"!=typeof e||!Object.keys(e).length)return this;for(var i={},n=0,o=ae.d(Object.keys(this.contents).concat(Object.keys(e)));n<o.length;n++){var r=o[n],s=this.contents[r],a=e[r];a&&("object"==typeof s&&"object"==typeof a?(s=zi.c(s),this.mergeContents(s,a)):s=a),i[r]=s}return new Gi(i)},Gi.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=zi.c(this.contents),n=zi.c(this.overrides),o=this.keys.slice(),r=0,s=t;r<s.length;r++){var a=s[r];this.mergeContents(i,a.contents);for(var l=function(e){var t=n.filter(function(t){return ae.e(t.identifiers,e.identifiers)})[0];t?u.mergeContents(t.contents,e.contents):n.push(zi.c(e))},u=this,h=0,c=a.overrides;h<c.length;h++)l(c[h]);for(var d=0,p=a.keys;d<p.length;d++){var f=p[d];-1===o.indexOf(f)&&o.push(f)}}return new Gi(i,o,n)},Gi.prototype.freeze=function(){return this.isFrozen=!0,this},Gi.prototype.mergeContents=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var o=n[i];o in t&&Vi.g(t[o])&&Vi.g(e[o])?this.mergeContents(t[o],e[o]):t[o]=zi.c(e[o])}},Gi.prototype.checkAndFreeze=function(t){return this.isFrozen&&!Object.isFrozen(t)?zi.d(t):t},Gi.prototype.getContentsForOverrideIdentifer=function(t){for(var e=0,i=this.overrides;e<i.length;e++){var n=i[e];if(-1!==n.identifiers.indexOf(t))return n.contents}return null},Gi.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}},Gi.prototype.setValue=function(t,e){this.addKey(t),Object(Hi.b)(this.contents,t,e,function(t){throw new Error(t)})},Gi.prototype.removeValue=function(t){this.removeKey(t)&&Object(Hi.g)(this.contents,t)},Gi.prototype.addKey=function(t){for(var e=this.keys.length,i=0;i<e;i++)0===t.indexOf(this.keys[i])&&(e=i);this.keys.splice(e,1,t)},Gi.prototype.removeKey=function(t){var e=this.keys.indexOf(t);return-1!==e&&(this.keys.splice(e,1),!0)},Gi);function Gi(t,e,i){void 0===t&&(t={}),void 0===e&&(e=[]),void 0===i&&(i=[]),this._contents=t,this._keys=e,this._overrides=i,this.isFrozen=!1}var Yi,$i=(qi(Zi,Yi=Ki),Zi);function Zi(){for(var t=Object(Hi.e)(),e=Object(Hi.c)(),i=[],n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Ui.b.test(r)&&i.push({identifiers:[Object(Hi.f)(r).trim()],contents:Object(Hi.h)(t[r],function(t){return console.error("Conflict in default settings file: "+t)})})}return Yi.call(this,t,e,i)||this}var Xi=(Ji.prototype.getValue=function(t,e,i){return this.getConsolidateConfigurationModel(e,i).getValue(t)},Ji.prototype.updateValue=function(t,e,i){var n;void 0===i&&(i={}),i.resource?(n=this._memoryConfigurationByResource.get(i.resource))||(n=new Ki,this._memoryConfigurationByResource.set(i.resource,n)):n=this._memoryConfiguration,void 0===e?n.removeValue(t):n.setValue(t,e),i.resource||(this._workspaceConsolidatedConfiguration=null)},Ji.prototype.getConsolidateConfigurationModel=function(t,e){var i=this.getConsolidatedConfigurationModelForResource(t,e);return t.overrideIdentifier?i.override(t.overrideIdentifier):i},Ji.prototype.getConsolidatedConfigurationModelForResource=function(t,e){var i=t.resource,n=this.getWorkspaceConsolidatedConfiguration();if(e&&i){var o=e.getFolder(i);o&&(n=this.getFolderConsolidatedConfiguration(o.uri)||n);var r=this._memoryConfigurationByResource.get(i);r&&(n=n.merge(r))}return n},Ji.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this._userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration},Ji.prototype.getFolderConsolidatedConfiguration=function(t){var e=this._foldersConsolidatedConfigurations.get(t);if(!e){var i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(t);n?(e=i.merge(n),this._freeze&&(e=e.freeze()),this._foldersConsolidatedConfigurations.set(t,e)):e=i}return e},Ji);function Ji(t,e,i,n,o,r,s){void 0===i&&(i=new Ki),void 0===n&&(n=new Wi.b),void 0===o&&(o=new Ki),void 0===r&&(r=new Wi.b),void 0===s&&(s=!0),this._defaultConfiguration=t,this._userConfiguration=e,this._workspaceConfiguration=i,this._folderConfigurations=n,this._memoryConfiguration=o,this._memoryConfigurationByResource=r,this._freeze=s,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Wi.b}var Qi,tn,en=(Qi=function(t,e){return(Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Qi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),nn=(tn=zt.a,en(on,tn),on.prototype.dispose=function(){tn.prototype.dispose.call(this)},Object.defineProperty(on.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:ht.b.None},enumerable:!0,configurable:!0}),on.prototype.lookupKeybinding=function(t){var e=this._getResolver().lookupPrimaryKeybinding(t);return e?e.resolvedKeybinding:null},on.prototype._enterChordMode=function(t,e){var i=this;this._currentChord={keypress:t,label:e},this._statusService&&(this._currentChordStatusMessage=this._statusService.setStatusMessage(Ei.a("first.chord","({0}) was pressed. Waiting for second key of chord...",e)));var n=Date.now();this._currentChordChecker.cancelAndSet(function(){i._documentHasFocus()?5e3<Date.now()-n&&i._leaveChordMode():i._leaveChordMode()},500)},on.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null},on.prototype._dispatch=function(t,e){var i=this,n=!1,o=this.resolveKeyboardEvent(t);if(o.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;var r=o.getDispatchParts()[0];if(null===r)return n;var s=this._contextKeyService.getContext(e),a=this._currentChord?this._currentChord.keypress:null,l=o.getLabel(),u=this._getResolver().resolve(s,a,r);return u&&u.enterChord?(n=!0,this._enterChordMode(r,l)):(this._statusService&&this._currentChord&&(u&&u.commandId||(this._statusService.setStatusMessage(Ei.a("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),1e4),n=!0)),this._leaveChordMode(),u&&u.commandId&&(u.bubble||(n=!0),void 0===u.commandArgs?this._commandService.executeCommand(u.commandId).then(void 0,function(t){return i._notificationService.warn(t)}):this._commandService.executeCommand(u.commandId,u.commandArgs).then(void 0,function(t){return i._notificationService.warn(t)}),this._telemetryService.publicLog("workbenchActionExecuted",{id:u.commandId,from:"keybinding"}))),n},on);function on(t,e,i,n,o){var r=tn.call(this)||this;return r._contextKeyService=t,r._commandService=e,r._telemetryService=i,r._statusService=o,r._notificationService=n,r._currentChord=null,r._currentChordChecker=new l.c,r._currentChordStatusMessage=null,r._onDidUpdateKeybindings=r._register(new ht.a),r}var rn=(sn._isTargetedForRemoval=function(t,e,i,n,o){if(t.command!==n)return!1;if(e&&t.keypressFirstPart!==e)return!1;if(i&&t.keypressChordPart!==i)return!1;if(o){if(!t.when)return!1;if(!o.equals(t.when))return!1}return!0},sn.combine=function(t,e){t=t.slice(0);for(var i=[],n=0,o=e.length;n<o;n++){var r=e[n];if(r.command&&0!==r.command.length&&"-"===r.command.charAt(0))for(var s=r.command.substr(1),a=r.keypressFirstPart,l=r.keypressChordPart,u=r.when,h=t.length-1;0<=h;h--)this._isTargetedForRemoval(t[h],a,l,s,u)&&t.splice(h,1);else i.push(r)}return t.concat(i)},sn.prototype._addKeyPress=function(t,e){var i=this._map.get(t);if(void 0===i)return this._map.set(t,[e]),void this._addToLookupMap(e);for(var n=i.length-1;0<=n;n--){var o=i[n];if(o.command!==e.command){var r=null!==o.keypressChordPart,s=null!==e.keypressChordPart;r&&s&&o.keypressChordPart!==e.keypressChordPart||sn.whenIsEntirelyIncluded(o.when,e.when)&&this._removeFromLookupMap(o)}}i.push(e),this._addToLookupMap(e)},sn.prototype._addToLookupMap=function(t){if(t.command){var e=this._lookupMap.get(t.command);void 0===e?(e=[t],this._lookupMap.set(t.command,e)):e.push(t)}},sn.prototype._removeFromLookupMap=function(t){if(t.command){var e=this._lookupMap.get(t.command);if(void 0!==e)for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return void e.splice(i,1)}},sn.whenIsEntirelyIncluded=function(t,e){if(!e)return!0;if(!t)return!1;for(var i=t instanceof Mi.a?t.expr:[t],n=e instanceof Mi.a?e.expr:[e],o=0,r=0;r<n.length;r++){for(var s=n[r],a=!1;!a&&o<i.length;)i[o].equals(s)&&(a=!0),o++;if(!a)return!1}return!0},sn.prototype.lookupPrimaryKeybinding=function(t){var e=this._lookupMap.get(t);return void 0===e||0===e.length?null:e[e.length-1]},sn.prototype.resolve=function(t,e,i){var n=null;if(null!==e){if(void 0===(a=this._map.get(e)))return null;n=[];for(var o=0,r=a.length;o<r;o++){var s=a[o];s.keypressChordPart===i&&n.push(s)}}else{var a;if(void 0===(a=this._map.get(i)))return null;n=a}var l=this._findCommand(t,n);return l?null===e&&null!==l.keypressChordPart?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:l.command,commandArgs:l.commandArgs,bubble:l.bubble}:null},sn.prototype._findCommand=function(t,e){for(var i=e.length-1;0<=i;i--){var n=e[i];if(sn.contextMatchesRules(t,n.when))return n}return null},sn.contextMatchesRules=function(t,e){return!e||e.evaluate(t)},sn);function sn(t,e){this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(var i=0,n=t.length;i<n;i++){var o=t[i].command;o&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=sn.combine(t,e);for(i=0,n=this._keybindings.length;i<n;i++){var r=this._keybindings[i];null!==r.keypressFirstPart&&this._addKeyPress(r.keypressFirstPart,r)}}var an,ln,un=i(85),hn=function(t,e,i,n,o){if(this.resolvedKeybinding=t){var r=t.getDispatchParts(),s=r[0],a=r[1];this.keypressFirstPart=s,this.keypressChordPart=a}else this.keypressFirstPart=null,this.keypressChordPart=null;this.bubble=!!e&&94===e.charCodeAt(0),this.command=this.bubble?e.substr(1):e,this.commandArgs=i,this.when=n,this.isDefault=o},cn=i(173),dn=(an=function(t,e){return(an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}an(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),pn=(ln=ct.c,dn(fn,ln),fn.prototype._keyCodeToUILabel=function(t){if(2===this._os)switch(t){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return ct.b.toString(t)},fn.prototype._getUILabelForKeybinding=function(t){return t?t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode):null},fn.prototype.getLabel=function(){var t=this._getUILabelForKeybinding(this._firstPart),e=this._getUILabelForKeybinding(this._chordPart);return cn.b.toLabel(this._firstPart,t,this._chordPart,e,this._os)},fn.prototype._getAriaLabelForKeybinding=function(t){return t?t.isDuplicateModifierCase()?"":ct.b.toString(t.keyCode):null},fn.prototype.getAriaLabel=function(){var t=this._getAriaLabelForKeybinding(this._firstPart),e=this._getAriaLabelForKeybinding(this._chordPart);return cn.a.toLabel(this._firstPart,t,this._chordPart,e,this._os)},fn.prototype.isChord=function(){return!!this._chordPart},fn.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._chordPart?this._toResolvedKeybindingPart(this._chordPart):null]},fn.prototype._toResolvedKeybindingPart=function(t){return new ct.d(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getUILabelForKeybinding(t),this._getAriaLabelForKeybinding(t))},fn.prototype.getDispatchParts=function(){return[this._firstPart?fn.getDispatchStr(this._firstPart):null,this._chordPart?fn.getDispatchStr(this._chordPart):null]},fn.getDispatchStr=function(t){if(t.isModifierKey())return null;var e="";return t.ctrlKey&&(e+="ctrl+"),t.shiftKey&&(e+="shift+"),t.altKey&&(e+="alt+"),t.metaKey&&(e+="meta+"),e+=ct.b.toString(t.keyCode)},fn);function fn(t,e){var i=ln.call(this)||this;if(i._os=e,!t)throw new Error("Invalid USLayoutResolvedKeybinding");return 2===t.type?(i._firstPart=t.firstPart,i._chordPart=t.chordPart):(i._firstPart=t,i._chordPart=null),i}var gn=i(44),mn=Object(Ot.c)("contextService");Object.defineProperty(vn.prototype,"folders",{get:function(){return this._folders},set:function(t){this._folders=t,this.updateFoldersMap()},enumerable:!0,configurable:!0}),Object.defineProperty(vn.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(vn.prototype,"configuration",{get:function(){return this._configuration},set:function(t){this._configuration=t},enumerable:!0,configurable:!0}),vn.prototype.getFolder=function(t){return t?this._foldersMap.findSubstr(t.toString()):null},vn.prototype.updateFoldersMap=function(){this._foldersMap=Wi.c.forPaths();for(var t=0,e=this.folders;t<e.length;t++){var i=e[t];this._foldersMap.set(i.uri.toString(),i)}},vn.prototype.toJSON=function(){return{id:this.id,folders:this.folders,configuration:this.configuration}};function vn(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=null),this._id=t,this._configuration=i,this._foldersMap=Wi.c.forPaths(),this.folders=e}var yn=(_n.prototype.toResource=function(t){return xt.e(this.uri,t)},_n.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}},_n);function _n(t,e){this.raw=e,this.uri=t.uri,this.index=t.index,this.name=t.name}var bn,wn=(bn=function(t,e){return(bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}bn(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Cn=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Sn=function(i,n){return function(t,e){n(t,e,i)}},xn=(Object.defineProperty(kn.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),kn.prototype.dispose=function(){this._onDispose.fire()},kn);function kn(t){this.model=t,this._onDispose=new ht.a}var On=(En.prototype.setEditor=function(t){this.editor=t},En.prototype.createModelReference=function(e){var t,i=this;return(t=function(t,e,i){return Object(Ii.a)(t)?e(t):i(t)}(this.editor,function(t){return i.findModel(t,e)},function(t){return i.findModel(t.getOriginalEditor(),e)||i.findModel(t.getModifiedEditor(),e)}))?s.b.as(new zt.b(new xn(t))):s.b.as(new zt.b(null))},En.prototype.findModel=function(t,e){var i=t.getModel();return i&&i.uri.toString()!==e.toString()?null:i},En);function En(){}var Ln=(Dn.prototype.showWhile=function(t,e){return null},Dn);function Dn(){}var In=function(){},Nn=(Tn.prototype.info=function(t){return this.notify({severity:Di.a.Info,message:t})},Tn.prototype.warn=function(t){return this.notify({severity:Di.a.Warning,message:t})},Tn.prototype.error=function(t){return this.notify({severity:Di.a.Error,message:t})},Tn.prototype.notify=function(t){switch(t.severity){case Di.a.Error:console.error(t.message);break;case Di.a.Warning:console.warn(t.message);break;default:console.log(t.message)}return Tn.NO_OP},Tn.NO_OP=new gn.b,Tn);function Tn(){}var Mn=(An.prototype.addCommand=function(t){var e=this,i=t.id;return this._dynamicCommands[i]=t,Object(zt.f)(function(){delete e._dynamicCommands[i]})},An.prototype.executeCommand=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=kt.a.getCommand(t)||this._dynamicCommands[t];if(!n)return Promise.reject(new Error("command '"+t+"' not found"));try{this._onWillExecuteCommand.fire({commandId:t});var o=this._instantiationService.invokeFunction.apply(this._instantiationService,[n.handler].concat(e));return Promise.resolve(o)}catch(t){return Promise.reject(t)}},An);function An(t){this._onWillExecuteCommand=new ht.a,this._instantiationService=t,this._dynamicCommands=Object.create(null)}var Pn,Rn=(wn(Fn,Pn=nn),Fn.prototype.addDynamicKeybinding=function(e,t,i,n){var o=this,r=[];this._dynamicKeybindings.push({keybinding:Object(ct.f)(t,a.a),command:e,when:n,weight1:1e3,weight2:0}),r.push(Object(zt.f)(function(){for(var t=0;t<o._dynamicKeybindings.length;t++)if(o._dynamicKeybindings[t].command===e)return o._dynamicKeybindings.splice(t,1),void o.updateResolver({source:1})}));var s=this._commandService;if(!(s instanceof Mn))throw new Error("Unknown command service!");return r.push(s.addCommand({id:e,handler:i})),this.updateResolver({source:1}),Object(zt.c)(r)},Fn.prototype.updateResolver=function(t){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(t)},Fn.prototype._getResolver=function(){if(!this._cachedResolver){var t=this._toNormalizedKeybindingItems(un.a.getDefaultKeybindings(),!0),e=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new rn(t,e)}return this._cachedResolver},Fn.prototype._documentHasFocus=function(){return document.hasFocus()},Fn.prototype._toNormalizedKeybindingItems=function(t,e){for(var i=[],n=0,o=0,r=t.length;o<r;o++){var s=t[o],a=s.when?s.when.normalize():null,l=s.keybinding;if(l)for(var u=this.resolveKeybinding(l),h=0;h<u.length;h++)i[n++]=new hn(u[h],s.command,s.commandArgs,a,e);else i[n++]=new hn(null,s.command,s.commandArgs,a,e)}return i},Fn.prototype.resolveKeybinding=function(t){return[new pn(t,a.a)]},Fn.prototype.resolveKeyboardEvent=function(t){var e=new ct.e(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode);return new pn(e,a.a)},Fn);function Fn(t,e,i,n,o){var r=Pn.call(this,t,e,i,n)||this;return r._cachedResolver=null,r._dynamicKeybindings=[],r._register(wt.h(o,wt.d.KEY_DOWN,function(t){var e=new Li.a(t);r._dispatch(e,e.target)&&e.preventDefault()})),r}function jn(t){return t&&"object"==typeof t&&(!t.overrideIdentifier||"string"==typeof t.overrideIdentifier)&&(!t.resource||t.resource instanceof dt.a)}var Bn=(Hn.prototype.configuration=function(){return this._configuration},Hn.prototype.getValue=function(t,e){var i="string"==typeof t?t:void 0,n=jn(t)?t:jn(e)?e:{};return this.configuration().getValue(i,n,null)},Hn.prototype.updateValue=function(t,e,i,n){return this.configuration().updateValue(t,e),Promise.resolve()},Hn);function Hn(){this._onDidChangeConfiguration=new ht.a,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Xi(new $i,new Ki)}var Wn=(Vn.prototype.getValue=function(t,e,i){var n=pt.a.isIPosition(e)&&e?"string"==typeof i?i:void 0:"string"==typeof e?e:void 0;return this.configurationService.getValue(n)},Vn);function Vn(t){var e=this;this.configurationService=t,this._onDidChangeConfigurationEmitter=new ht.a,this.configurationService.onDidChangeConfiguration(function(t){e._onDidChangeConfigurationEmitter.fire(t)})}var zn=(Un.prototype.getEOL=function(t){var e=this.configurationService.getValue("files");return e&&e.eol&&"auto"!==e.eol?e.eol:a.c||a.d?"\n":"\r\n"},Un=Cn([Sn(0,Hi.a)],Un));function Un(t){this.configurationService=t}var qn=(Kn.prototype.createMenu=function(t,e){return new Fi(t,s.b.as(!0),this._commandService,e)},Kn);function Kn(t){this._commandService=t}var Gn=(Yn.prototype.publicLog=function(t,e){return s.b.wrap(null)},Yn);function Yn(){}var $n=(Zn.prototype.getWorkspace=function(){return this.workspace},Zn.prototype.getWorkspaceFolder=function(t){return t&&t.scheme===Zn.SCHEME?this.workspace.folders[0]:void 0},Zn.SCHEME="inmemory",Zn);function Zn(){var t=dt.a.from({scheme:Zn.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new yn({uri:t,name:"",index:0})]}}function Xn(e,i,n){i&&e instanceof Bn&&Object.keys(i).forEach(function(t){Object(Ni.d)(t)&&e.updateValue("editor."+t,i[t]),n&&Object(Ni.c)(t)&&e.updateValue("diffEditor."+t,i[t])})}var Jn=(Qn.prototype.apply=function(t,e){for(var i=new Map,n=0,o=t.edits;n<o.length;n++){var r=o[n];if(!Object(Bt.A)(r))return Promise.reject(new Error("bad edit - only text edits are supported"));var s=this._modelService.getModel(r.resource);if(!s)return Promise.reject(new Error("bad edit - model not found"));var a=i.get(s);a=a||[],i.set(s,a.concat(r.edits))}var l=0,u=0;return i.forEach(function(t,e){e.applyEdits(t.map(function(t){return Ti.a.replaceMove(ft.a.lift(t.range),t.text)})),u+=1,l+=t.length}),Promise.resolve({selection:void 0,ariaSummary:Object(Ei.a)("summary","Made {0} edits in {1} files",l,u)})},Qn);function Qn(t){this._modelService=t}var to=(eo.prototype.getUriLabel=function(t,e){return"file"===t.scheme?t.fsPath:t.path},eo);function eo(){}var io,no=i(22),oo=i(50),ro=i(137),so=i(230),ao=i(182),lo=i(105),uo=i(74),ho=i(64),co=i(16),po=(io=function(t,e){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}io(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),fo=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},go=function(i,n){return function(t,e){n(t,e,i)}},mo=0,vo=!1;var yo,_o=(yo=ro.a,po(bo,yo),bo.prototype.addCommand=function(t,e,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var n="DYNAMIC_"+ ++mo,o=Mi.d.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,t,e,o),n},bo.prototype.createContextKey=function(t,e){return this._contextKeyService.createKey(t,e)},bo.prototype.addAction=function(t){var e=this;if("string"!=typeof t.id||"string"!=typeof t.label||"function"!=typeof t.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),zt.a.None;function i(){return Promise.resolve(t.run(e))}var n=t.id,o=t.label,r=Mi.d.and(Mi.d.equals("editorId",this.getId()),Mi.d.deserialize(t.precondition)),s=t.keybindings,a=Mi.d.and(r,Mi.d.deserialize(t.keybindingContext)),l=t.contextMenuGroupId||null,u=t.contextMenuOrder||0,h=[],c=this.getId()+":"+n;if(h.push(kt.a.registerCommand(c,i)),l){var d={command:{id:c,title:o},when:r,group:l,order:u};h.push(Ai.d.appendMenuItem(Ai.b.EditorContext,d))}Array.isArray(s)&&(h=h.concat(s.map(function(t){return e._standaloneKeybindingService.addDynamicKeybinding(c,t,i,a)})));var p=new ao.a(c,o,o,r,i,this._contextKeyService);return this._actions[n]=p,h.push(Object(zt.f)(function(){delete e._actions[n]})),Object(zt.c)(h)},bo=fo([go(2,Ot.a),go(3,bt.a),go(4,kt.b),go(5,Mi.e),go(6,ho.a),go(7,co.c),go(8,gn.a)],bo));function bo(t,e,i,n,o,r,s,a,l){var u=this;return(e=e||{}).ariaLabel=e.ariaLabel||Ei.a("editorViewAccessibleLabel","Editor content"),e.ariaLabel=e.ariaLabel+";"+(no.k?Ei.a("accessibilityHelpMessageIE","Press Ctrl+F1 for Accessibility Options."):Ei.a("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")),u=yo.call(this,t,e,{},i,n,o,r,a,l)||this,s instanceof Rn&&(u._standaloneKeybindingService=s),vo||(vo=!0,oo.b(document.body)),u}var wo,Co=(po(So,wo=_o),So.prototype.dispose=function(){wo.prototype.dispose.call(this)},So.prototype.updateOptions=function(t){Xn(this._configurationService,t,!1),wo.prototype.updateOptions.call(this,t)},So.prototype._attachModel=function(t){wo.prototype._attachModel.call(this,t),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)},So.prototype._postDetachModelCleanup=function(t){wo.prototype._postDetachModelCleanup.call(this,t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)},So=fo([go(3,Ot.a),go(4,bt.a),go(5,kt.b),go(6,Mi.e),go(7,ho.a),go(8,uo.b),go(9,lo.a),go(10,gn.a),go(11,Hi.a)],So));function So(t,e,i,n,o,r,s,a,l,u,h,c){var d=this;Xn(c,e,!1),"string"==typeof(e=e||{}).theme&&u.setTheme(e.theme);var p,f=e.model;if(delete e.model,(d=wo.call(this,t,e,n,o,r,s,a,u,h)||this)._contextViewService=l,d._configurationService=c,d._register(i),void 0===f?(p=self.monaco.editor.createModel(e.value||"",e.language||"text/plain"),d._ownsModel=!0):(p=f,d._ownsModel=!1),d._attachModel(p),p){var g={oldModelUrl:null,newModelUrl:p.uri};d._onDidChangeModel.fire(g)}return d}var xo,ko=(xo=so.a,po(Oo,xo),Oo.prototype.dispose=function(){xo.prototype.dispose.call(this)},Oo.prototype.updateOptions=function(t){Xn(this._configurationService,t,!0),xo.prototype.updateOptions.call(this,t)},Oo.prototype._createInnerEditor=function(t,e,i){return t.createInstance(_o,e,i)},Oo.prototype.getOriginalEditor=function(){return xo.prototype.getOriginalEditor.call(this)},Oo.prototype.getModifiedEditor=function(){return xo.prototype.getModifiedEditor.call(this)},Oo.prototype.addCommand=function(t,e,i){return this.getModifiedEditor().addCommand(t,e,i)},Oo.prototype.createContextKey=function(t,e){return this.getModifiedEditor().createContextKey(t,e)},Oo.prototype.addAction=function(t){return this.getModifiedEditor().addAction(t)},Oo=fo([go(3,Ot.a),go(4,Mi.e),go(5,ho.a),go(6,uo.b),go(7,Wt.a),go(8,bt.a),go(9,lo.a),go(10,gn.a),go(11,Hi.a)],Oo));function Oo(t,e,i,n,o,r,s,a,l,u,h,c){var d=this;return Xn(c,e,!0),"string"==typeof(e=e||{}).theme&&(e.theme=u.setTheme(e.theme)),(d=xo.call(this,t,e,a,o,n,l,u,h)||this)._contextViewService=s,d._configurationService=c,d._register(i),d._contextViewService.setContainer(d._containerDomElement),d}var Eo=i(149),Lo=i(82),Do=(Io.prototype.getId=function(){return this._languageIdentifier.language},Io);function Io(t){this._languageIdentifier=t}var No=i(41),To=i(180),Mo="text/plain",Ao="application/unknown",Po=[],Ro=[],Fo=[];function jo(t,e){void 0===e&&(e=!1);var i=function(t){return{id:t.id,mime:t.mime,filename:t.filename,extension:t.extension,filepattern:t.filepattern,firstline:t.firstline,userConfigured:t.userConfigured,filenameLowercase:t.filename?t.filename.toLowerCase():void 0,extensionLowercase:t.extension?t.extension.toLowerCase():void 0,filepatternLowercase:t.filepattern?t.filepattern.toLowerCase():void 0,filepatternOnPath:!!t.filepattern&&0<=t.filepattern.indexOf(No.h)}}(t);Po.push(i),i.userConfigured?Fo.push(i):Ro.push(i),e&&!i.userConfigured&&Po.forEach(function(t){t.mime===i.mime||t.userConfigured||(i.extension&&t.extension===i.extension&&console.warn("Overwriting extension <<"+i.extension+">> to now point to mime <<"+i.mime+">>"),i.filename&&t.filename===i.filename&&console.warn("Overwriting filename <<"+i.filename+">> to now point to mime <<"+i.mime+">>"),i.filepattern&&t.filepattern===i.filepattern&&console.warn("Overwriting filepattern <<"+i.filepattern+">> to now point to mime <<"+i.mime+">>"),i.firstline&&t.firstline===i.firstline&&console.warn("Overwriting firstline <<"+i.firstline+">> to now point to mime <<"+i.mime+">>"))})}function Bo(t,e){if(!t)return[Ao];t=t.toLowerCase();var i=No.a(t),n=Ho(t,i,Fo);if(n)return[n,Mo];var o=Ho(t,i,Ro);if(o)return[o,Mo];if(e){var r=function(t){he.H(t)&&(t=t.substr(1));if(0<t.length)for(var e=0;e<Po.length;++e){var i=Po[e];if(i.firstline){var n=t.match(i.firstline);if(n&&0<n.length)return i.mime}}return null}(e);if(r)return[r,Mo]}return[Ao]}function Ho(t,e,i){for(var n=null,o=null,r=null,s=i.length-1;0<=s;s--){var a=i[s];if(e===a.filenameLowercase){n=a;break}if(a.filepattern&&(!o||a.filepattern.length>o.filepattern.length)){var l=a.filepatternOnPath?t:e;Object(To.a)(a.filepatternLowercase,l)&&(o=a)}a.extension&&(!r||a.extension.length>r.extension.length)&&he.k(e,a.extensionLowercase)&&(r=a)}return n?n.mime:o?o.mime:r?r.mime:null}var Wo,Vo,zo=i(112),Uo=i(57),qo=(Wo=function(t,e){return(Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Wo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Ko=Object.prototype.hasOwnProperty,Go=(Vo=zt.a,qo(Yo,Vo),Yo.prototype._registerLanguages=function(t){var i=this;if(0!==t.length){for(var e=0;e<t.length;e++)this._registerLanguage(t[e]);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(t){var e=i._languages[t];e.name&&(i._nameMap[e.name]=e.identifier),e.aliases.forEach(function(t){i._lowercaseNameMap[t.toLowerCase()]=e.identifier}),e.mimetypes.forEach(function(t){i._mimeTypesMap[t]=e.identifier})}),Uo.a.as(Ui.a.Configuration).registerOverrideIdentifiers(zo.a.getLanguages().map(function(t){return t.id})),this._onDidChange.fire()}},Yo.prototype._registerLanguage=function(t){var e,i=t.id;if(Ko.call(this._languages,i))e=this._languages[i];else{var n=this._nextLanguageId++;e={identifier:new Bt.o(i,n),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languageIds[n]=i,this._languages[i]=e}this._mergeLanguage(e,t)},Yo.prototype._mergeLanguage=function(t,e){var i,n=e.id,o=null;if(Array.isArray(e.mimetypes)&&0<e.mimetypes.length&&((i=t.mimetypes).push.apply(i,e.mimetypes),o=e.mimetypes[0]),o||(o="text/x-"+n,t.mimetypes.push(o)),Array.isArray(e.extensions))for(var r=0,s=e.extensions;r<s.length;r++){var a=s[r];jo({id:n,mime:o,extension:a},this._warnOnOverwrite),t.extensions.push(a)}if(Array.isArray(e.filenames))for(var l=0,u=e.filenames;l<u.length;l++){var h=u[l];jo({id:n,mime:o,filename:h},this._warnOnOverwrite),t.filenames.push(h)}if(Array.isArray(e.filenamePatterns))for(var c=0,d=e.filenamePatterns;c<d.length;c++)jo({id:n,mime:o,filepattern:d[c]},this._warnOnOverwrite);if("string"==typeof e.firstLine&&0<e.firstLine.length){var p=e.firstLine;"^"!==p.charAt(0)&&(p="^"+p);try{var f=new RegExp(p);he.B(f)||jo({id:n,mime:o,firstline:f},this._warnOnOverwrite)}catch(t){Object(Ut.e)(t)}}t.aliases.push(n);var g=null;if(void 0!==e.aliases&&Array.isArray(e.aliases)&&(g=0===e.aliases.length?[null]:e.aliases),null!==g)for(var m=0;m<g.length;m++){var v=g[m];v&&0!==v.length&&t.aliases.push(v)}var y=null!==g&&0<g.length;if(y&&null===g[0]);else{var _=(y?g[0]:null)||n;!y&&t.name||(t.name=_)}e.configuration&&t.configurationFiles.push(e.configuration)},Yo.prototype.isRegisteredMode=function(t){return!!Ko.call(this._mimeTypesMap,t)||Ko.call(this._languages,t)},Yo.prototype.getModeIdForLanguageNameLowercase=function(t){return Ko.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t].language:null},Yo.prototype.extractModeIds=function(t){var e=this;return t?t.split(",").map(function(t){return t.trim()}).map(function(t){return Ko.call(e._mimeTypesMap,t)?e._mimeTypesMap[t].language:t}).filter(function(t){return Ko.call(e._languages,t)}):[]},Yo.prototype.getLanguageIdentifier=function(t){if(t===Ht.b||0===t)return Ht.a;var e;if("string"==typeof t)e=t;else if(!(e=this._languageIds[t]))return null;return Ko.call(this._languages,e)?this._languages[e].identifier:null},Yo.prototype.getModeIdsFromFilepathOrFirstLine=function(t,e){if(!t&&!e)return[];var i=Bo(t,e);return this.extractModeIds(i.join(","))},Yo);function Yo(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);var i=Vo.call(this)||this;return i._onDidChange=i._register(new ht.a),i.onDidChange=i._onDidChange.event,i._nextLanguageId=1,i._languages={},i._mimeTypesMap={},i._nameMap={},i._lowercaseNameMap={},i._languageIds=[],i._warnOnOverwrite=e,t&&(i._registerLanguages(zo.a.getLanguages()),i._register(zo.a.onDidAddLanguages(function(t){return i._registerLanguages(t)}))),i}var $o,Zo,Xo=($o=function(t,e){return($o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}$o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Jo=(Zo=zt.a,Xo(Qo,Zo),Qo.prototype._evaluate=function(){var t=this._selector();t.id!==this.languageIdentifier.id&&(this.languageIdentifier=t,this._onDidChange.fire(this.languageIdentifier))},Qo);function Qo(t,e){var i=Zo.call(this)||this;return i._onDidChange=i._register(new ht.a),i.onDidChange=i._onDidChange.event,i._selector=e,i.languageIdentifier=i._selector(),i._register(t(function(){return i._evaluate()})),i}var tr=(er.prototype.isRegisteredMode=function(t){return this._registry.isRegisteredMode(t)},er.prototype.getModeIdForLanguageName=function(t){return this._registry.getModeIdForLanguageNameLowercase(t)},er.prototype.getModeIdByFilepathOrFirstLine=function(t,e){var i=this._registry.getModeIdsFromFilepathOrFirstLine(t,e);return 0<i.length?i[0]:null},er.prototype.getModeId=function(t){var e=this._registry.extractModeIds(t);return 0<e.length?e[0]:null},er.prototype.getLanguageIdentifier=function(t){return this._registry.getLanguageIdentifier(t)},er.prototype.create=function(e){var i=this;return new Jo(this.onLanguagesMaybeChanged,function(){var t=i.getModeId(e);return i._createModeAndGetLanguageIdentifier(t)})},er.prototype.createByFilepathOrFirstLine=function(e,i){var n=this;return new Jo(this.onLanguagesMaybeChanged,function(){var t=n.getModeIdByFilepathOrFirstLine(e,i);return n._createModeAndGetLanguageIdentifier(t)})},er.prototype._createModeAndGetLanguageIdentifier=function(t){var e=this.getLanguageIdentifier(t||"plaintext")||Ht.a;return this._getOrCreateMode(e.language),e},er.prototype.triggerMode=function(t){var e=this.getModeId(t);this._getOrCreateMode(e||"plaintext")},er.prototype._getOrCreateMode=function(t){if(!this._instantiatedModes.hasOwnProperty(t)){var e=this.getLanguageIdentifier(t)||Ht.a;this._instantiatedModes[t]=new Do(e),this._onDidCreateMode.fire(this._instantiatedModes[t])}return this._instantiatedModes[t]},er);function er(t){void 0===t&&(t=!1);var e=this;this._onDidCreateMode=new ht.a,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new ht.a,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new Go(!0,t),this._registry.onDidChange(function(){return e._onLanguagesMaybeChanged.fire()})}var ir,nr=i(69),or=i(24),rr=i(28),sr=i(52),ar=(ir=function(t,e){return(ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ir(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),lr=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},ur=function(i,n){return function(t,e){n(t,e,i)}};function hr(t){return t.toString()}var cr=(dr.prototype._disposeLanguageSelection=function(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)},dr.prototype.dispose=function(){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,[]),this._modelEventListeners=Object(zt.d)(this._modelEventListeners),this._disposeLanguageSelection()},dr.prototype.acceptMarkerDecorations=function(t){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,t)},dr.prototype.setLanguage=function(t){var e=this;this._disposeLanguageSelection(),this._languageSelection=t,this._languageSelectionListener=this._languageSelection.onDidChange(function(){return e.model.setMode(t.languageIdentifier)}),this.model.setMode(t.languageIdentifier)},dr);function dr(e,t,i){this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._markerDecorations=[],this._modelEventListeners=[],this._modelEventListeners.push(e.onWillDispose(function(){return t(e)})),this._modelEventListeners.push(e.onDidChangeLanguage(function(t){return i(e,t)}))}var pr=(fr.setMarkers=function(e,t){var i=t.read({resource:e.model.uri,take:500}).map(function(t){return{range:fr._createDecorationRange(e.model,t),options:fr._createDecorationOption(t)}});e.acceptMarkerDecorations(i)},fr._createDecorationRange=function(t,e){var i=ft.a.lift(e);if(e.severity===sr.b.Hint&&(e.tags&&-1!==e.tags.indexOf(1)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2))),(i=t.validateRange(i)).isEmpty()){var n=t.getWordAtPosition(i.getStartPosition());if(n)i=new ft.a(i.startLineNumber,n.startColumn,i.endLineNumber,n.endColumn);else{var o=t.getLineLastNonWhitespaceColumn(i.startLineNumber)||t.getLineMaxColumn(i.startLineNumber);1===o||(i=i.endColumn>=o?new ft.a(i.startLineNumber,o-1,i.endLineNumber,o):new ft.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(e.endColumn===Number.MAX_VALUE&&1===e.startColumn&&i.startLineNumber===i.endLineNumber){var r=t.getLineFirstNonWhitespaceColumn(e.startLineNumber);r<i.endColumn&&(i=new ft.a(i.startLineNumber,r,i.endLineNumber,i.endColumn),e.startColumn=r)}return i},fr._createDecorationOption=function(t){var e,i,n=void 0,o=void 0;switch(t.severity){case sr.b.Hint:e=t.tags&&0<=t.tags.indexOf(1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case sr.b.Warning:e="squiggly-warning",n=Object(co.f)(rr.z),i=20;break;case sr.b.Info:e="squiggly-info",n=Object(co.f)(rr.y),i=10;break;case sr.b.Error:default:e="squiggly-error",n=Object(co.f)(rr.x),i=30}t.tags&&-1!==t.tags.indexOf(1)&&(o="squiggly-inline-unnecessary");var r=null,s=t.message,a=t.source,l=t.relatedInformation,u=t.code;if("string"==typeof s&&(s=s.trim(),a&&(s=/\n/g.test(s)?u?Ei.a("diagAndSourceAndCodeMultiline","[{0}]\n{1} [{2}]",a,s,u):Ei.a("diagAndSourceMultiline","[{0}]\n{1}",a,s):u?Ei.a("diagAndSourceAndCode","[{0}] {1} [{2}]",a,s,u):Ei.a("diagAndSource","[{0}] {1}",a,s)),r=(new nr.a).appendCodeblock("_",s),!Object(ae.k)(l))){r.appendMarkdown("\n");for(var h=0,c=l;h<c.length;h++){var d=c[h],p=d.message,f=d.resource,g=d.startLineNumber,m=d.startColumn;r.appendMarkdown("* ["+Object(No.a)(f.path)+"("+g+", "+m+")]("+f.toString(!1)+"#"+g+","+m+"): "),r.appendText(""+p),r.appendMarkdown("\n")}r.appendMarkdown("\n")}return{stickiness:1,className:e,hoverMessage:r,showIfCollapsed:!0,overviewRuler:{color:n,position:jt.c.Right},zIndex:i,inlineClassName:o}},fr);function fr(){}var gr,mr=a.c||a.d?1:2,vr=(gr=zt.a,ar(yr,gr),yr._readModelOptions=function(t,e){var i=lt.c.tabSize;if(t.editor&&void 0!==t.editor.tabSize){var n=parseInt(t.editor.tabSize,10);isNaN(n)||(i=n),i<1&&(i=1)}var o=lt.c.insertSpaces;t.editor&&void 0!==t.editor.insertSpaces&&(o="false"!==t.editor.insertSpaces&&Boolean(t.editor.insertSpaces));var r=mr,s=t.eol;"\r\n"===s?r=2:"\n"===s&&(r=1);var a=lt.c.trimAutoWhitespace;t.editor&&void 0!==t.editor.trimAutoWhitespace&&(a="false"!==t.editor.trimAutoWhitespace&&Boolean(t.editor.trimAutoWhitespace));var l=lt.c.detectIndentation;t.editor&&void 0!==t.editor.detectIndentation&&(l="false"!==t.editor.detectIndentation&&Boolean(t.editor.detectIndentation));var u=lt.c.largeFileOptimizations;return t.editor&&void 0!==t.editor.largeFileOptimizations&&(u="false"!==t.editor.largeFileOptimizations&&Boolean(t.editor.largeFileOptimizations)),{isForSimpleWidget:e,tabSize:i,insertSpaces:o,detectIndentation:l,defaultEOL:r,trimAutoWhitespace:a,largeFileOptimizations:u}},yr.prototype.getCreationOptions=function(t,e,i){var n=this._modelCreationOptionsByLanguageAndResource[t+e];if(!n){var o=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:e}),r=this._resourcePropertiesService.getEOL(e,t);n=yr._readModelOptions({editor:o,eol:r},i),this._modelCreationOptionsByLanguageAndResource[t+e]=n}return n},yr.prototype._updateModelOptions=function(){var t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var e=Object.keys(this._models),i=0,n=e.length;i<n;i++){var o=e[i],r=this._models[o],s=r.model.getLanguageIdentifier().language,a=r.model.uri,l=t[s+a],u=this.getCreationOptions(s,a,r.model.isForSimpleWidget);yr._setModelOptionsForModel(r.model,u,l)}},yr._setModelOptionsForModel=function(t,e,i){i&&i.detectIndentation===e.detectIndentation&&i.insertSpaces===e.insertSpaces&&i.tabSize===e.tabSize&&i.trimAutoWhitespace===e.trimAutoWhitespace||(e.detectIndentation?(t.detectIndentation(e.insertSpaces,e.tabSize),t.updateOptions({trimAutoWhitespace:e.trimAutoWhitespace})):t.updateOptions({insertSpaces:e.insertSpaces,tabSize:e.tabSize,trimAutoWhitespace:e.trimAutoWhitespace}))},yr.prototype.dispose=function(){this._markerServiceSubscription&&this._markerServiceSubscription.dispose(),this._configurationServiceSubscription.dispose(),gr.prototype.dispose.call(this)},yr.prototype._handleMarkerChange=function(t){var n=this;t.forEach(function(t){var e=hr(t),i=n._models[e];i&&pr.setMarkers(i,n._markerService)})},yr.prototype._cleanUp=function(e){var i=this;e.uri.scheme!==St.a.inMemory&&e.uri.scheme!==St.a.internal&&e.uri.scheme!==St.a.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(function(t){return t.owner}).forEach(function(t){return i._markerService.remove(t,[e.uri])}),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageIdentifier().language+e.uri]},yr.prototype._createModelData=function(t,e,i,n){var o=this,r=this.getCreationOptions(e.language,i,n),s=new or.b(t,r,e,i),a=hr(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");var l=new cr(s,function(t){return o._onWillDispose(t)},function(t,e){return o._onDidChangeLanguage(t,e)});return this._models[a]=l},yr.prototype.createModel=function(t,e,i,n){var o;return void 0===n&&(n=!1),e?(o=this._createModelData(t,e.languageIdentifier,i,n),this.setMode(o.model,e)):o=this._createModelData(t,zo.b,i,n),this._markerService&&pr.setMarkers(o,this._markerService),this._onModelAdded.fire(o.model),o.model},yr.prototype.setMode=function(t,e){if(e){var i=this._models[hr(t.uri)];i&&i.setLanguage(e)}},yr.prototype.getModels=function(){for(var t=[],e=Object.keys(this._models),i=0,n=e.length;i<n;i++){var o=e[i];t.push(this._models[o].model)}return t},yr.prototype.getModel=function(t){var e=hr(t),i=this._models[e];return i?i.model:null},yr.prototype._onWillDispose=function(t){var e=hr(t.uri),i=this._models[e];delete this._models[e],i.dispose(),this._cleanUp(t),this._onModelRemoved.fire(t)},yr.prototype._onDidChangeLanguage=function(t,e){var i=e.oldLanguage,n=t.getLanguageIdentifier().language,o=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),r=this.getCreationOptions(n,t.uri,t.isForSimpleWidget);yr._setModelOptionsForModel(t,r,o),this._onModelModeChanged.fire({model:t,oldModeId:i})},yr=lr([ur(0,sr.a),ur(1,Hi.a),ur(2,$e)],yr));function yr(t,e,i){var n=gr.call(this)||this;return n._onModelAdded=n._register(new ht.a),n.onModelAdded=n._onModelAdded.event,n._onModelRemoved=n._register(new ht.a),n.onModelRemoved=n._onModelRemoved.event,n._onModelModeChanged=n._register(new ht.a),n.onModelModeChanged=n._onModelModeChanged.event,n._markerService=t,n._configurationService=e,n._resourcePropertiesService=i,n._models={},n._modelCreationOptionsByLanguageAndResource=Object.create(null),n._markerService&&(n._markerServiceSubscription=n._markerService.onMarkerChanged(n._handleMarkerChange,n)),n._configurationServiceSubscription=n._configurationService.onDidChangeConfiguration(function(t){return n._updateModelOptions()}),n._updateModelOptions(),n}var _r,br,wr=(_r=function(t,e){return(_r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}_r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Cr=(br=zt.a,wr(Sr,br),Sr.prototype.addCodeEditor=function(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)},Sr.prototype.removeCodeEditor=function(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)},Sr.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map(function(t){return e._codeEditors[t]})},Sr.prototype.addDiffEditor=function(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)},Sr.prototype.removeDiffEditor=function(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)},Sr.prototype.listDiffEditors=function(){var e=this;return Object.keys(this._diffEditors).map(function(t){return e._diffEditors[t]})},Sr.prototype.getFocusedCodeEditor=function(){for(var t=null,e=this.listCodeEditors(),i=0;i<e.length;i++){var n=e[i];if(n.hasTextFocus())return n;n.hasWidgetFocus()&&(t=n)}return t},Sr);function Sr(){var t=br.call(this)||this;return t._onCodeEditorAdd=t._register(new ht.a),t.onCodeEditorAdd=t._onCodeEditorAdd.event,t._onCodeEditorRemove=t._register(new ht.a),t._onDiffEditorAdd=t._register(new ht.a),t._onDiffEditorRemove=t._register(new ht.a),t._codeEditors=Object.create(null),t._diffEditors=Object.create(null),t}var xr,kr,Or=(xr=function(t,e){return(xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}xr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Er=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Lr=function(i,n){return function(t,e){n(t,e,i)}},Dr=(Or(Ir,kr=Cr),Ir.prototype.registerDecorationType=function(t,e,i){var n=this._decorationOptionProviders[t];if(!n){var o={styleSheet:this._styleSheet,key:t,parentTypeKey:i,options:e||Object.create(null)};n=i?new Nr(this._themeService,o):new Mr(this._themeService,o),this._decorationOptionProviders[t]=n}n.refCount++},Ir.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders[e];t&&(t.refCount--,t.refCount<=0&&(delete this._decorationOptionProviders[e],t.dispose(),this.listCodeEditors().forEach(function(t){return t.removeDecorations(e)})))},Ir.prototype.resolveDecorationOptions=function(t,e){var i=this._decorationOptionProviders[t];if(!i)throw new Error("Unknown decoration type key: "+t);return i.getOptions(this,e)},Ir=Er([Lr(0,co.c)],Ir));function Ir(t,e){void 0===e&&(e=wt.p());var i=kr.call(this)||this;return i._styleSheet=e,i._decorationOptionProviders=Object.create(null),i._themeService=t,i}var Nr=(Tr.prototype.getOptions=function(t,e){var i=t.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i},Tr.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null)},Tr);function Tr(t,e){this._parentTypeKey=e.parentTypeKey,this.refCount=0,this._beforeContentRules=new Rr(3,e,t),this._afterContentRules=new Rr(4,e,t)}var Mr=(Ar.prototype.getOptions=function(t,e){return e?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},Ar.prototype.dispose=function(){this._disposables=Object(zt.d)(this._disposables)},Ar);function Ar(i,n){var o=this;this.refCount=0,this._disposables=[];function t(t){var e=new Rr(t,n,i);if(e.hasContent)return o._disposables.push(e),e.className}this.className=t(0);var e,r=(e=new Rr(1,n,i)).hasContent?(o._disposables.push(e),{className:e.className,hasLetterSpacing:e.hasLetterSpacing}):null;r&&(this.inlineClassName=r.className,this.inlineClassNameAffectsLetterSpacing=r.hasLetterSpacing),this.beforeContentClassName=t(3),this.afterContentClassName=t(4),this.glyphMarginClassName=t(2);var s=n.options;this.isWholeLine=Boolean(s.isWholeLine),this.stickiness=s.rangeBehavior;var a=s.light&&s.light.overviewRulerColor||s.overviewRulerColor,l=s.dark&&s.dark.overviewRulerColor||s.overviewRulerColor;void 0===a&&void 0===l||(this.overviewRuler={color:a||l,darkColor:l||a,position:s.overviewRulerLane||jt.c.Center})}var Pr={color:"color:{0} !important;",opacity:"opacity:{0}; will-change: opacity;",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:url('{0}') center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:url('{0}');",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},Rr=(Fr.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(Fr.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(Fr.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(Fr.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Fr.prototype._buildCSS=function(){var t,e,i,n=this._providerArgs.options;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(n),e=this.getCSSTextForModelDecorationClassName(n.light),i=this.getCSSTextForModelDecorationClassName(n.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(n),e=this.getCSSTextForModelDecorationInlineClassName(n.light),i=this.getCSSTextForModelDecorationInlineClassName(n.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(n),e=this.getCSSTextForModelDecorationGlyphMarginClassName(n.light),i=this.getCSSTextForModelDecorationGlyphMarginClassName(n.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(n.before),e=this.getCSSTextForModelDecorationContentClassName(n.light&&n.light.before),i=this.getCSSTextForModelDecorationContentClassName(n.dark&&n.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(n.after),e=this.getCSSTextForModelDecorationContentClassName(n.light&&n.light.after),i=this.getCSSTextForModelDecorationContentClassName(n.dark&&n.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var o=this._providerArgs.styleSheet.sheet,r=!1;0<t.length&&(o.insertRule(this._unThemedSelector+" {"+t+"}",0),r=!0),0<e.length&&(o.insertRule(".vs"+this._unThemedSelector+" {"+e+"}",0),r=!0),0<i.length&&(o.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+i+"}",0),r=!0),this._hasContent=r},Fr.prototype._removeCSS=function(){wt.F(this._unThemedSelector,this._providerArgs.styleSheet)},Fr.prototype.getCSSTextForModelDecorationClassName=function(t){if(!t)return"";var e=[];return this.collectCSSText(t,["backgroundColor"],e),this.collectCSSText(t,["outline","outlineColor","outlineStyle","outlineWidth"],e),this.collectBorderSettingsCSSText(t,e),e.join("")},Fr.prototype.getCSSTextForModelDecorationInlineClassName=function(t){if(!t)return"";var e=[];return this.collectCSSText(t,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],e),t.letterSpacing&&(this._hasLetterSpacing=!0),e.join("")},Fr.prototype.getCSSTextForModelDecorationContentClassName=function(t){if(!t)return"";var e=[];if(void 0!==t){if(this.collectBorderSettingsCSSText(t,e),void 0!==t.contentIconPath&&("string"==typeof t.contentIconPath?e.push(he.p(Pr.contentIconPath,dt.a.file(t.contentIconPath).toString().replace(/'/g,"%27"))):e.push(he.p(Pr.contentIconPath,dt.a.revive(t.contentIconPath).toString(!0).replace(/'/g,"%27")))),"string"==typeof t.contentText){var i=t.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");e.push(he.p(Pr.contentText,i))}this.collectCSSText(t,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],e),this.collectCSSText(t,["width","height"],e)&&e.push("display:inline-block;")}return e.join("")},Fr.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(t){if(!t)return"";var e=[];return void 0!==t.gutterIconPath&&("string"==typeof t.gutterIconPath?e.push(he.p(Pr.gutterIconPath,dt.a.file(t.gutterIconPath).toString())):e.push(he.p(Pr.gutterIconPath,dt.a.revive(t.gutterIconPath).toString(!0).replace(/'/g,"%27"))),void 0!==t.gutterIconSize&&e.push(he.p(Pr.gutterIconSize,t.gutterIconSize))),e.join("")},Fr.prototype.collectBorderSettingsCSSText=function(t,e){return!!this.collectCSSText(t,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],e)&&(e.push(he.p("box-sizing: border-box;")),!0)},Fr.prototype.collectCSSText=function(t,e,i){for(var n=i.length,o=0,r=e;o<r.length;o++){var s=r[o],a=this.resolveValue(t[s]);"string"==typeof a&&i.push(he.p(Pr[s],a))}return i.length!==n},Fr.prototype.resolveValue=function(t){if(Object(Ft.c)(t)){this._usesThemeColors=!0;var e=this._theme.getColor(t.id);return e?e.toString():"transparent"}return t},Fr);function Fr(t,e,i){var n=this;this._theme=i.getTheme(),this._ruleType=t,this._providerArgs=e,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var o=jr.getClassName(this._providerArgs.key,t);this._providerArgs.parentTypeKey&&(o=o+" "+jr.getClassName(this._providerArgs.parentTypeKey,t)),this._className=o,this._unThemedSelector=jr.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,t),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onThemeChange(function(t){n._theme=i.getTheme(),n._removeCSS(),n._buildCSS()}):this._themeListener=null}var jr=(Br.getClassName=function(t,e){return"ced-"+t+"-"+e},Br.getSelector=function(t,e,i){var n=".monaco-editor ."+this.getClassName(t,i);return e&&(n=n+"."+this.getClassName(e,i)),3===i?n+="::before":4===i&&(n+="::after"),n},Br);function Br(){}var Hr,Wr,Vr=((Hr=function(t,e){return(Hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Hr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(zr,Wr=Dr),zr.prototype.getActiveCodeEditor=function(){return null},zr.prototype.openCodeEditor=function(t,e,i){return e?Promise.resolve(this.doOpenEditor(e,t)):Promise.resolve(null)},zr.prototype.doOpenEditor=function(t,e){if(!this.findModel(t,e.resource)){if(e.resource){var i=e.resource.scheme;if(i===St.a.http||i===St.a.https)return Object(wt.R)(e.resource.toString()),t}return null}var n=e.options?e.options.selection:null;if(n)if("number"==typeof n.endLineNumber&&"number"==typeof n.endColumn)t.setSelection(n),t.revealRangeInCenter(n,1);else{var o={lineNumber:n.startLineNumber,column:n.startColumn};t.setPosition(o),t.revealPositionInCenter(o,1)}return t},zr.prototype.findModel=function(t,e){var i=t.getModel();return i&&i.uri.toString()!==e.toString()?null:i},zr);function zr(){return null!==Wr&&Wr.apply(this,arguments)||this}var Ur=i(12),qr=function(t,e,i,n,o){this.token=t,this.index=e,this.fontStyle=i,this.foreground=n,this.background=o};function Kr(t,e){t.sort(function(t,e){var i=function(t,e){if(t<e)return-1;if(e<t)return 1;return 0}(t.token,e.token);return 0!==i?i:t.index-e.index});for(var i=0,n="000000",o="ffffff";1<=t.length&&""===t[0].token;){var r=t.shift();-1!==r.fontStyle&&(i=r.fontStyle),null!==r.foreground&&(n=r.foreground),null!==r.background&&(o=r.background)}for(var s=new Yr,a=0,l=e;a<l.length;a++){var u=l[a];s.getId(u)}for(var h=s.getId(n),c=s.getId(o),d=new Qr(i,h,c),p=new es(d),f=0,g=t.length;f<g;f++){var m=t[f];p.insert(m.token,m.fontStyle,s.getId(m.foreground),s.getId(m.background))}return new Zr(s,p)}var Gr=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,Yr=($r.prototype.getId=function(t){if(null===t)return 0;var e=t.match(Gr);if(!e)throw new Error("Illegal value for token color: "+t);t=e[1].toUpperCase();var i=this._color2id.get(t);return i||(i=++this._lastColorId,this._color2id.set(t,i),this._id2color[i]=Ur.a.fromHex("#"+t),i)},$r.prototype.getColorMap=function(){return this._id2color.slice(0)},$r);function $r(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}var Zr=(Xr.createFromRawTokenTheme=function(t,e){return this.createFromParsedTokenTheme(function(t){if(!t||!Array.isArray(t))return[];for(var e=[],i=0,n=0,o=t.length;n<o;n++){var r=t[n],s=-1;if("string"==typeof r.fontStyle){s=0;for(var a=r.fontStyle.split(" "),l=0,u=a.length;l<u;l++)switch(a[l]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4}}var h=null;"string"==typeof r.foreground&&(h=r.foreground);var c=null;"string"==typeof r.background&&(c=r.background),e[i++]=new qr(r.token||"",n,s,h,c)}return e}(t),e)},Xr.createFromParsedTokenTheme=function(t,e){return Kr(t,e)},Xr.prototype.getColorMap=function(){return this._colorMap.getColorMap()},Xr.prototype._match=function(t){return this._root.match(t)},Xr.prototype.match=function(t,e){var i=this._cache.get(e);if(void 0===i){var n=this._match(e),o=function(t){var e=t.match(Jr);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 4}throw new Error("Unexpected match for standard token type!")}(e);i=(n.metadata|o<<8)>>>0,this._cache.set(e,i)}return(i|t<<0)>>>0},Xr);function Xr(t,e){this._colorMap=t,this._root=e,this._cache=new Map}var Jr=/\b(comment|string|regex)\b/;var Qr=(ts.prototype.clone=function(){return new ts(this._fontStyle,this._foreground,this._background)},ts.prototype.acceptOverwrite=function(t,e,i){-1!==t&&(this._fontStyle=t),0!==e&&(this._foreground=e),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},ts);function ts(t,e,i){this._fontStyle=t,this._foreground=e,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}var es=(is.prototype.match=function(t){if(""===t)return this._mainRule;var e,i,n=t.indexOf(".");i=-1===n?(e=t,""):(e=t.substring(0,n),t.substring(n+1));var o=this._children.get(e);return void 0!==o?o.match(i):this._mainRule},is.prototype.insert=function(t,e,i,n){if(""!==t){var o,r,s=t.indexOf(".");r=-1===s?(o=t,""):(o=t.substring(0,s),t.substring(s+1));var a=this._children.get(o);void 0===a&&(a=new is(this._mainRule.clone()),this._children.set(o,a)),a.insert(r,e,i,n)}else this._mainRule.acceptOverwrite(e,i,n)},is);function is(t){this._mainRule=t,this._children=new Map}var ns,os,rs,ss=i(7),as={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"09885A"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"09885A"},{token:"attribute.value.unit",foreground:"09885A"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(ns={},ns[ss.n]="#FFFFFE",ns[ss.u]="#000000",ns[ss.y]="#E5EBF1",ns[rr.l]="#D3D3D3",ns[rr.a]="#939393",ns[ss.B]="#ADD6FF4D",ns)},ls={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(os={},os[ss.n]="#1E1E1E",os[ss.u]="#D4D4D4",os[ss.y]="#3A3D41",os[rr.l]="#404040",os[rr.a]="#707070",os[ss.B]="#ADD6FF26",os)},us={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(rs={},rs[ss.n]="#000000",rs[ss.u]="#FFFFFF",rs[rr.l]="#FFFFFF",rs[rr.a]="#FFFFFF",rs)},hs="vs",cs="vs-dark",ds="hc-black",ps=Uo.a.as(ss.a.ColorContribution),fs=Uo.a.as(co.a.ThemingContribution),gs=(Object.defineProperty(ms.prototype,"base",{get:function(){return this.themeData.base},enumerable:!0,configurable:!0}),ms.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)},ms.prototype.getColors=function(){if(!this.colors){var t=Object.create(null);for(var e in this.themeData.colors)t[e]=Ur.a.fromHex(this.themeData.colors[e]);if(this.themeData.inherit){var i=ys(this.themeData.base);for(var e in i.colors)t[e]||(t[e]=Ur.a.fromHex(i.colors[e]))}this.colors=t}return this.colors},ms.prototype.getColor=function(t,e){var i=this.getColors()[t];return i||(!1!==e?this.getDefault(t):null)},ms.prototype.getDefault=function(t){var e=this.defaultColors[t];return e||(e=ps.resolveDefaultColor(t,this),this.defaultColors[t]=e)},ms.prototype.defines=function(t){return Object.prototype.hasOwnProperty.call(this.getColors(),t)},Object.defineProperty(ms.prototype,"type",{get:function(){switch(this.base){case hs:return"light";case ds:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),Object.defineProperty(ms.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var t=[],e=[];if(this.themeData.inherit){var i=ys(this.themeData.base);t=i.rules,i.encodedTokensColors&&(e=i.encodedTokensColors)}t=t.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(e=this.themeData.encodedTokensColors),this._tokenTheme=Zr.createFromRawTokenTheme(t,e)}return this._tokenTheme},enumerable:!0,configurable:!0}),ms);function ms(t,e){var i=(this.themeData=e).base;0<t.length?(this.id=i+" "+t,this.themeName=t):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}function vs(t){return t===hs||t===cs||t===ds}function ys(t){switch(t){case hs:return as;case cs:return ls;case ds:return us}}function _s(t){var e=ys(t);return new gs(t,e)}var bs=(Object.defineProperty(ws.prototype,"onThemeChange",{get:function(){return this._onThemeChange.event},enumerable:!0,configurable:!0}),ws.prototype.defineTheme=function(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!vs(t.base)&&!vs(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new gs(e,t)),vs(e)&&this._knownThemes.forEach(function(t){t.base===e&&t.notifyBaseUpdated()}),this._theme&&this._theme.themeName===e&&this.setTheme(e)},ws.prototype.getTheme=function(){return this._theme},ws.prototype.setTheme=function(t){var e,i=this;if(e=this._knownThemes.has(t)?this._knownThemes.get(t):this._knownThemes.get(hs),this._theme===e)return e.id;this._theme=e;var n=[],o={},r={addRule:function(t){o[t]||(n.push(t),o[t]=!0)}};fs.getThemingParticipants().forEach(function(t){return t(e,r,i.environment)});var s=e.tokenTheme.getColorMap();return r.addRule(function(t){for(var e=[],i=1,n=t.length;i<n;i++){var o=t[i];e[i]=".mtk"+i+" { color: "+o+"; }"}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.join("\n")}(s)),this._styleElement.innerHTML=n.join("\n"),Bt.w.setColorMap(s),this._onThemeChange.fire(e),e.id},ws.prototype.getIconTheme=function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}},ws);function ws(){this.environment=Object.create(null),this._onThemeChange=new ht.a,this._onIconThemeChange=new ht.a,this._knownThemes=new Map,this._knownThemes.set(hs,_s(hs)),this._knownThemes.set(cs,_s(cs)),this._knownThemes.set(ds,_s(ds)),this._styleElement=wt.p(),this._styleElement.className="monaco-colors",this.setTheme(hs)}var Cs,Ss=(Cs=function(t,e){return(Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Cs(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),xs=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},ks=function(i,n){return function(t,e){n(t,e,i)}},Os="data-keybinding-context",Es=(Ls.prototype.setValue=function(t,e){return this._value[t]!==e&&(this._value[t]=e,!0)},Ls.prototype.removeValue=function(t){return t in this._value&&(delete this._value[t],!0)},Ls.prototype.getValue=function(t){var e=this._value[t];return void 0===e&&this._parent?this._parent.getValue(t):e},Ls);function Ls(t,e){this._id=t,this._parent=e,this._value=Object.create(null),this._value._contextId=t}var Ds,Is=(Ss(Ns,Ds=Es),Ns.prototype.setValue=function(t,e){return!1},Ns.prototype.removeValue=function(t){return!1},Ns.prototype.getValue=function(t){},Ns.INSTANCE=new Ns,Ns);function Ns(){return Ds.call(this,-1,null)||this}var Ts,Ms=(Ss(As,Ts=Es),As.prototype.dispose=function(){this._listener.dispose()},As.prototype.getValue=function(t){if(0!==t.indexOf(As._keyPrefix))return Ts.prototype.getValue.call(this,t);if(this._values.has(t))return this._values.get(t);var e=t.substr(As._keyPrefix.length),i=this._configurationService.getValue(e),n=void 0;switch(typeof i){case"number":case"boolean":case"string":n=i}return this._values.set(t,n),n},As.prototype.setValue=function(t,e){return Ts.prototype.setValue.call(this,t,e)},As.prototype.removeValue=function(t){return Ts.prototype.removeValue.call(this,t)},As._keyPrefix="config.",As);function As(t,e,s){var a=Ts.call(this,t,null)||this;return a._configurationService=e,a._values=new Map,a._listener=a._configurationService.onDidChangeConfiguration(function(t){if(4===t.source){var e=Object(Wi.d)(a._values);a._values.clear(),s.fire(e)}else{for(var i=[],n=0,o=t.affectedKeys;n<o.length;n++){var r="config."+o[n];a._values.has(r)&&(a._values.delete(r),i.push(r))}s.fire(i)}}),a}var Ps=(Rs.prototype.set=function(t){this._parent.setContext(this._key,t)},Rs.prototype.reset=function(){void 0===this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},Rs.prototype.get=function(){return this._parent.getContextKeyValue(this._key)},Rs);function Rs(t,e,i){this._parent=t,this._key=e,this._defaultValue=i,this.reset()}var Fs=(js.prototype.collect=function(t){this._keys=this._keys.concat(t)},js.prototype.affectsSome=function(t){for(var e=0,i=this._keys;e<i.length;e++){var n=i[e];if(t.has(n))return!0}return!1},js);function js(){this._keys=[]}var Bs=(Hs.prototype.createKey=function(t,e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ps(this,t,e)},Object.defineProperty(Hs.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext||(this._onDidChangeContext=Object(ht.h)(this._onDidChangeContextKey.event,function(t,e){return(t=t||new Fs).collect(e),t},25)),this._onDidChangeContext},enumerable:!0,configurable:!0}),Hs.prototype.createScoped=function(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new qs(this,this._onDidChangeContextKey,t)},Hs.prototype.contextMatchesRules=function(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var e=this.getContextValuesContainer(this._myContextId);return rn.contextMatchesRules(e,t)},Hs.prototype.getContextKeyValue=function(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)},Hs.prototype.setContext=function(t,e){if(!this._isDisposed){var i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(t,e)&&this._onDidChangeContextKey.fire(t)}},Hs.prototype.removeContext=function(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContextKey.fire(t)},Hs.prototype.getContext=function(t){return this._isDisposed?Is.INSTANCE:this.getContextValuesContainer(function(t){for(;t;){if(t.hasAttribute(Os)){var e=t.getAttribute(Os);return e?parseInt(e,10):NaN}t=t.parentElement}return 0}(t))},Hs);function Hs(t){this._isDisposed=!1,this._myContextId=t,this._onDidChangeContextKey=new ht.a}var Ws,Vs=(Ss(zs,Ws=Bs),zs.prototype.dispose=function(){this._isDisposed=!0,this._toDispose=Object(zt.d)(this._toDispose)},zs.prototype.getContextValuesContainer=function(t){return this._isDisposed?Is.INSTANCE:this._contexts[String(t)]},zs.prototype.createChildContext=function(t){if(void 0===t&&(t=this._myContextId),this._isDisposed)throw new Error("ContextKeyService has been disposed");var e=++this._lastContextId;return this._contexts[String(e)]=new Es(e,this.getContextValuesContainer(t)),e},zs.prototype.disposeContext=function(t){this._isDisposed||delete this._contexts[String(t)]},zs=xs([ks(0,Hi.a)],zs));function zs(t){var e=Ws.call(this,0)||this;e._toDispose=[],e._lastContextId=0,e._contexts=Object.create(null);var i=new Ms(e._myContextId,t,e._onDidChangeContextKey);return e._contexts[String(e._myContextId)]=i,e._toDispose.push(i),e}var Us,qs=(Ss(Ks,Us=Bs),Ks.prototype.dispose=function(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(Os),this._domNode=void 0)},Object.defineProperty(Ks.prototype,"onDidChangeContext",{get:function(){return this._parent.onDidChangeContext},enumerable:!0,configurable:!0}),Ks.prototype.getContextValuesContainer=function(t){return this._isDisposed?Is.INSTANCE:this._parent.getContextValuesContainer(t)},Ks.prototype.createChildContext=function(t){if(void 0===t&&(t=this._myContextId),this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)},Ks.prototype.disposeContext=function(t){this._isDisposed||this._parent.disposeContext(t)},Ks);function Ks(t,e,i){var n=Us.call(this,t.createChildContext())||this;return n._parent=t,n._onDidChangeContextKey=e,i&&(n._domNode=i,n._domNode.setAttribute(Os,String(n._myContextId))),n}kt.a.registerCommand(Mi.g,function(t,e,i){t.get(Mi.e).createKey(String(e),i)});i(330);var Gs,Ys,$s=i(39),Zs=i(77),Xs=(i(331),i(75)),Js=(Gs=function(t,e){return(Gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Gs(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Qs=/\(&{1,2}(.)\)|&{1,2}(.)/,ta=/(?:&amp;){1,2}(.)/,ea=(Ys=Zs.a,Js(ia,Ys),ia);function ia(t,e,i){var n=Ys.call(this,i||"submenu",t,"",!0)||this;return n.entries=e,n}var na,oa=(na=Xs.a,Js(ra,na),ra.prototype.style=function(e){var t=this.getContainer(),i=e.foregroundColor?""+e.foregroundColor:null,n=e.backgroundColor?""+e.backgroundColor:null,o=e.borderColor?"2px solid "+e.borderColor:null,r=e.shadowColor?"0 2px 4px "+e.shadowColor:null;t.style.border=o,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=r,this.items&&this.items.forEach(function(t){(t instanceof aa||t instanceof pa)&&t.style(e)})},ra.prototype.focusItemByElement=function(t){var e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()},ra.prototype.setFocusedItem=function(t){for(var e=0;e<this.actionsList.children.length;e++)if(t===this.actionsList.children[e]){this.focusedItem=e;break}},ra.prototype.doGetActionItem=function(t,e,i){if(t instanceof Xs.d)return new pa(e.context,t,{icon:!0});if(t instanceof ea){var n=new ha(t,t.entries,i,e);if(e.enableMnemonics&&(r=n.getMnemonic())&&n.isEnabled()){var o=[];this.mnemonics.has(r)&&(o=this.mnemonics.get(r)),o.push(n),this.mnemonics.set(r,o)}return n}var r,s={enableMnemonics:e.enableMnemonics};if(e.getKeyBinding){var a=e.getKeyBinding(t);a&&(s.keybinding=a.getLabel())}return n=new aa(e.context,t,s),e.enableMnemonics&&(r=n.getMnemonic())&&n.isEnabled()&&(o=[],this.mnemonics.has(r)&&(o=this.mnemonics.get(r)),o.push(n),this.mnemonics.set(r,o)),n},ra.prototype.focus=function(t){void 0===t&&(t=!0),na.prototype.focus.call(this,t)},ra);function ra(t,e,i){void 0===i&&(i={});var o=this;Object(wt.f)(t,"monaco-menu-container"),t.setAttribute("role","presentation");var n=document.createElement("div");Object(wt.f)(n,"monaco-menu"),n.setAttribute("role","presentation"),t.appendChild(n),(o=na.call(this,n,{orientation:2,actionItemProvider:function(t){return o.doGetActionItem(t,i,r)},context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,triggerKeys:{keys:[3],keyDown:!0}})||this).actionsList.setAttribute("role","menu"),o.actionsList.tabIndex=0,o.menuDisposables=[],i.enableMnemonics&&o.menuDisposables.push(Object(wt.h)(n,wt.d.KEY_DOWN,function(t){var e=ct.b.fromString(t.key);if(o.mnemonics.has(e)){wt.c.stop(t,!0);var i=o.mnemonics.get(e);if(1===i.length&&(i[0]instanceof ha&&o.focusItemByElement(i[0].container),i[0].onClick(event)),1<i.length){var n=i.shift();o.focusItemByElement(n.container),i.push(n),o.mnemonics.set(e,i)}}})),o._register(Object(wt.h)(o.domNode,wt.d.MOUSE_OUT,function(t){var e=t.relatedTarget;Object(wt.C)(e,o.domNode)||(o.focusedItem=void 0,o.updateFocus(),t.stopPropagation())})),o._register(Object(wt.h)(o.actionsList,wt.d.MOUSE_OVER,function(t){var e=t.target;if(e&&Object(wt.C)(e,o.actionsList)&&e!==o.actionsList){for(;e.parentElement!==o.actionsList;)e=e.parentElement;if(Object(wt.A)(e,"action-item")){var i=o.focusedItem;o.setFocusedItem(e),i!==o.focusedItem&&o.updateFocus()}}}));var r={parent:o};return o.mnemonics=new Map,o.push(e,{icon:!0,label:!0,isMenu:!0}),o}var sa,aa=(sa=Xs.c,Js(la,sa),la.prototype.render=function(t){var e=this;sa.prototype.render.call(this,t),this.container=t,this.item=Object(wt.l)(this.element,Object(wt.a)("a.action-menu-item")),this._action.id===Xs.d.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=Object(wt.l)(this.item,Object(wt.a)("span.menu-item-check")),this.check.setAttribute("role","none"),this.label=Object(wt.l)(this.item,Object(wt.a)("span.action-label")),this.options.label&&this.options.keybinding&&(Object(wt.l)(this.item,Object(wt.a)("span.keybinding")).textContent=this.options.keybinding),this._register(Object(wt.h)(this.element,wt.d.MOUSE_UP,function(t){wt.c.stop(t,!0),e.onClick(t)})),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},la.prototype.blur=function(){sa.prototype.blur.call(this),this.applyStyle()},la.prototype.focus=function(){sa.prototype.focus.call(this),this.item.focus(),this.applyStyle()},la.prototype.updateLabel=function(){if(this.options.label){var t=this.getAction().label;if(t){var e=function(t){var e=Qs,i=e.exec(t);if(!i)return t;var n="&"===i[0].charAt(0);return t.replace(e,n?"$2":"").trim()}(t);this.options.enableMnemonics||(t=e),this.label.setAttribute("aria-label",e);var i=Qs.exec(t);i&&(t=he.m(t).replace(ta,'<u aria-hidden="true">$1</u>'),this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[2]).toLocaleLowerCase()))}this.label.innerHTML=t.trim()}},la.prototype.updateTooltip=function(){var t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=Ei.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&(this.item.title=t)},la.prototype.updateClass=function(){this.cssClass&&Object(wt.H)(this.item,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,Object(wt.f)(this.label,"icon"),this.cssClass&&Object(wt.g)(this.label,this.cssClass),this.updateEnabled()):Object(wt.G)(this.label,"icon")},la.prototype.updateEnabled=function(){this.getAction().enabled?(Object(wt.G)(this.element,"disabled"),Object(wt.G)(this.item,"disabled"),this.item.tabIndex=0):(Object(wt.f)(this.element,"disabled"),Object(wt.f)(this.item,"disabled"),Object(wt.J)(this.item))},la.prototype.updateChecked=function(){this.getAction().checked?(Object(wt.f)(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(Object(wt.G)(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false"))},la.prototype.getMnemonic=function(){return this.mnemonic},la.prototype.applyStyle=function(){var t=Object(wt.A)(this.element,"focused"),e=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:this.menuStyle.backgroundColor,n=t&&this.menuStyle.selectionBorderColor?"1px solid "+this.menuStyle.selectionBorderColor:null;this.item.style.color=e?""+e:null,this.check.style.backgroundColor=e?""+e:null,this.item.style.backgroundColor=i?""+i:null,this.container.style.border=n},la.prototype.style=function(t){this.menuStyle=t,this.applyStyle()},la);function la(t,e,i){void 0===i&&(i={});var n=this;if(i.isMenu=!0,(n=sa.call(this,e,e,i)||this).options=i,n.options.icon=void 0!==i.icon&&i.icon,n.options.label=void 0===i.label||i.label,n.cssClass="",n.options.label&&i.enableMnemonics){var o=n.getAction().label;if(o){var r=Qs.exec(o);r&&(n.mnemonic=ct.b.fromString((r[1]?r[1]:r[2]).toLocaleLowerCase()))}}return n}var ua,ha=(Js(ca,ua=aa),ca.prototype.render=function(t){var i=this;ua.prototype.render.call(this,t),Object(wt.f)(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.submenuIndicator=Object(wt.l)(this.item,Object(wt.a)("span.submenu-indicator")),this.submenuIndicator.setAttribute("aria-hidden","true"),this._register(Object(wt.h)(this.element,wt.d.KEY_UP,function(t){var e=new Li.a(t);(e.equals(17)||e.equals(3))&&(wt.c.stop(t,!0),i.createSubmenu(!0))})),this._register(Object(wt.h)(this.element,wt.d.KEY_DOWN,function(t){var e=new Li.a(t);(e.equals(17)||e.equals(3))&&wt.c.stop(t,!0)})),this._register(Object(wt.h)(this.element,wt.d.MOUSE_OVER,function(t){i.mouseOver||(i.mouseOver=!0,i.showScheduler.schedule())})),this._register(Object(wt.h)(this.element,wt.d.MOUSE_LEAVE,function(t){i.mouseOver=!1})),this._register(Object(wt.h)(this.element,wt.d.FOCUS_OUT,function(t){Object(wt.C)(document.activeElement,i.element)||i.hideScheduler.schedule()}))},ca.prototype.onClick=function(t){wt.c.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!1)},ca.prototype.cleanupExistingSubmenu=function(t){this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)&&(this.parentData.submenu.dispose(),this.parentData.submenu=null,this.submenuContainer&&(this.submenuDisposables=Object(zt.d)(this.submenuDisposables),this.submenuContainer=null))},ca.prototype.createSubmenu=function(t){var e=this;void 0===t&&(t=!0),this.parentData.submenu?this.parentData.submenu.focus(!1):(this.submenuContainer=Object(wt.l)(this.element,Object(wt.a)("div.monaco-submenu")),Object(wt.g)(this.submenuContainer,"menubar-menu-items-holder","context-view"),this.submenuContainer.style.left=Object(wt.r)(this.element).width+"px",this.submenuDisposables.push(Object(wt.h)(this.submenuContainer,wt.d.KEY_UP,function(t){new Li.a(t).equals(15)&&(wt.c.stop(t,!0),e.parentData.parent.focus(),e.parentData.submenu.dispose(),e.parentData.submenu=null,e.submenuDisposables=Object(zt.d)(e.submenuDisposables),e.submenuContainer=null)})),this.submenuDisposables.push(Object(wt.h)(this.submenuContainer,wt.d.KEY_DOWN,function(t){new Li.a(t).equals(15)&&wt.c.stop(t,!0)})),this.parentData.submenu=new oa(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle),this.submenuDisposables.push(this.parentData.submenu.onDidCancel(function(){e.parentData.parent.focus(),e.parentData.submenu.dispose(),e.parentData.submenu=null,e.submenuDisposables=Object(zt.d)(e.submenuDisposables),e.submenuContainer=null})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu)},ca.prototype.applyStyle=function(){ua.prototype.applyStyle.call(this);var t=Object(wt.A)(this.element,"focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator.style.backgroundColor=t?""+t:null,this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)},ca.prototype.dispose=function(){ua.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuDisposables=Object(zt.d)(this.submenuDisposables),this.submenuContainer=null)},ca);function ca(t,e,i,n){var o=ua.call(this,t,t,n)||this;return o.submenuActions=e,o.parentData=i,o.submenuOptions=n,o.submenuDisposables=[],o.showScheduler=new l.d(function(){o.mouseOver&&(o.cleanupExistingSubmenu(!1),o.createSubmenu(!1))},250),o.hideScheduler=new l.d(function(){Object(wt.C)(document.activeElement,o.element)||o.parentData.submenu!==o.mysubmenu||(o.parentData.parent.focus(!1),o.cleanupExistingSubmenu(!0))},750),o}var da,pa=(da=Xs.b,Js(fa,da),fa.prototype.style=function(t){this.label.style.borderBottomColor=t.separatorColor?""+t.separatorColor:null},fa);function fa(){return null!==da&&da.apply(this,arguments)||this}var ga=i(104),ma=i(45),va=(ya.prototype.setContainer=function(t){var e=this;this.element&&(this.elementDisposable=Object(zt.d)(this.elementDisposable),this.element=null),t&&(this.element=t,this.elementDisposable=Object(wt.h)(this.element,wt.d.MOUSE_DOWN,function(t){return e.onMouseDown(t)}))},ya.prototype.showContextMenu=function(s){var a=this;s.getActions().then(function(o){var r;o.length&&(a.focusToReturn=document.activeElement,a.contextViewService.showContextView({getAnchor:function(){return s.getAnchor()},canRelayout:!1,render:function(t){a.menuContainerElement=t;var e=s.getMenuClassName?s.getMenuClassName():"";e&&(t.className+=" "+e);var i=[],n=s.actionRunner||new Zs.b;return n.onDidBeforeRun(a.onActionRun,a,i),n.onDidRun(a.onDidActionRun,a,i),r=new oa(t,o,{actionItemProvider:s.getActionItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:n,getKeyBinding:s.getKeyBinding?s.getKeyBinding:function(t){return a.keybindingService.lookupKeybinding(t.id)}}),i.push(Object(ga.c)(r,a.themeService)),r.onDidCancel(function(){return a.contextViewService.hideContextView(!0)},null,i),r.onDidBlur(function(){return a.contextViewService.hideContextView(!0)},null,i),Object(ma.a)(window,wt.d.BLUR)(function(){a.contextViewService.hideContextView(!0)},null,i),Object(zt.c)(i.concat([r]))},focus:function(){r.focus(!!s.autoSelectFirstItem)},onHide:function(t){s.onHide&&s.onHide(t),a.menuContainerElement=null}}))})},ya.prototype.onActionRun=function(t){this.telemetryService&&this.telemetryService.publicLog("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()},ya.prototype.onDidActionRun=function(t){t.error&&this.notificationService&&this.notificationService.error(t.error)},ya.prototype.onMouseDown=function(t){if(this.menuContainerElement){for(var e=new $s.b(t).target;e;){if(e===this.menuContainerElement)return;e=e.parentElement}this.contextViewService.hideContextView()}},ya.prototype.dispose=function(){this.setContainer(null)},ya);function ya(t,e,i,n,o,r){this.contextViewService=e,this.telemetryService=i,this.notificationService=n,this.keybindingService=o,this.themeService=r,this.setContainer(t)}var _a,ba,wa=(_a=function(t,e){return(_a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}_a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Ca=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},Sa=function(i,n){return function(t,e){n(t,e,i)}},xa=(ba=zt.a,wa(ka,ba),ka.prototype.dispose=function(){this.contextMenuHandler.dispose()},ka.prototype.showContextMenu=function(t){this.contextMenuHandler.showContextMenu(t),this._onDidContextMenu.fire()},ka=Ca([Sa(1,Et.a),Sa(2,gn.a),Sa(3,uo.b),Sa(4,ho.a),Sa(5,co.c)],ka));function ka(t,e,i,n,o,r){var s=ba.call(this)||this;return s._onDidContextMenu=s._register(new ht.a),s.contextMenuHandler=s._register(new va(t,n,e,i,o,r)),s}i(332);var Oa,Ea=i(96),La=(Oa=function(t,e){return(Oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Oa(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function Da(t,e,i){var n=i.offset+i.size;return 0===i.position?e<=t-n?n:e<=i.offset?i.offset-e:Math.max(t-e,0):e<=i.offset?i.offset-e:e<=t-n?n:0}var Ia,Na=(Ia=zt.a,La(Ta,Ia),Ta.prototype.setContainer=function(t){var e=this;if(this.container&&(this.toDisposeOnSetContainer=Object(zt.d)(this.toDisposeOnSetContainer),this.container.removeChild(this.view),this.container=null),t){this.container=t,this.container.appendChild(this.view);var i=[];Ta.BUBBLE_UP_EVENTS.forEach(function(t){i.push(wt.k(e.container,t,function(t){e.onDOMEvent(t,document.activeElement,!1)}))}),Ta.BUBBLE_DOWN_EVENTS.forEach(function(t){i.push(wt.k(e.container,t,function(t){e.onDOMEvent(t,document.activeElement,!0)},!0))}),this.toDisposeOnSetContainer=Object(zt.c)(i)}},Ta.prototype.show=function(t){this.isVisible()&&this.hide(),wt.m(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",wt.O(this.view),this.toDisposeOnClean=t.render(this.view),this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()},Ta.prototype.layout=function(){this.isVisible()&&(!1!==this.delegate.canRelayout?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())},Ta.prototype.doLayout=function(){if(this.isVisible()){var t,e=this.delegate.getAnchor();if(wt.D(e)){var i=wt.v(e);t={top:i.top,left:i.left,width:i.width,height:i.height}}else{var n=e;t={top:n.y,left:n.x,width:n.width||1,height:n.height||2}}var o,r=wt.z(this.view),s=wt.y(this.view),a=this.delegate.anchorPosition||0,l=this.delegate.anchorAlignment||0,u={offset:t.top-window.pageYOffset,size:t.height,position:0===a?0:1};o=0===l?{offset:t.left,size:0,position:0}:{offset:t.left+t.width,size:0,position:1};var h=Da(window.innerHeight,s,u)+window.pageYOffset;Ea.a.intersects({start:h,end:h+s},{start:u.offset,end:u.offset+u.size})&&(o.size=t.width);var c=Da(window.innerWidth,r,o);wt.H(this.view,"top","bottom","left","right"),wt.f(this.view,0===a?"bottom":"top"),wt.f(this.view,0===l?"left":"right");var d=wt.v(this.container);this.view.style.top=h-d.top+"px",this.view.style.left=c-d.left+"px",this.view.style.width="initial"}},Ta.prototype.hide=function(t){this.delegate&&this.delegate.onHide&&this.delegate.onHide(t),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),wt.B(this.view)},Ta.prototype.isVisible=function(){return!!this.delegate},Ta.prototype.onDOMEvent=function(t,e,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):i&&!wt.C(t.target,this.container)&&this.hide())},Ta.prototype.dispose=function(){this.hide(),Ia.prototype.dispose.call(this)},Ta.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Ta.BUBBLE_DOWN_EVENTS=["click"],Ta);function Ta(t){var e=Ia.call(this)||this;return e.view=wt.a(".context-view"),wt.B(e.view),e.setContainer(t),e._register(Object(zt.f)(function(){return e.setContainer(null)})),e}var Ma,Aa,Pa=i(132),Ra=(Ma=function(t,e){return(Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ma(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Fa=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,i,s):o(e,i))||s);return 3<r&&s&&Object.defineProperty(e,i,s),s},ja=function(i,n){return function(t,e){n(t,e,i)}},Ba=(Aa=zt.a,Ra(Ha,Aa),Ha.prototype.setContainer=function(t){this.logService.trace("ContextViewService#setContainer"),this.contextView.setContainer(t)},Ha.prototype.showContextView=function(t){this.logService.trace("ContextViewService#showContextView"),this.contextView.show(t)},Ha.prototype.layout=function(){this.contextView.layout()},Ha.prototype.hideContextView=function(t){this.logService.trace("ContextViewService#hideContextView"),this.contextView.hide(t)},Ha=Fa([ja(1,Et.a),ja(2,Pa.a)],Ha));function Ha(t,e,i){var n=Aa.call(this)||this;return n.logService=i,n.contextView=n._register(new Na(t)),n}var Wa=Object(Ot.c)("dialogService"),Va=Object.prototype.hasOwnProperty;function za(e,i){function t(t){if(Va.call(e,t)&&!1===i({key:t,value:e[t]},function(){delete e[t]}))return{value:void 0}}for(var n in e){var o=t(n);if("object"==typeof o)return o.value}}var Ua=(qa.prototype.roots=function(){var e=[];return za(this._nodes,function(t){Object(Vi.d)(t.value.outgoing)&&e.push(t.value)}),e},qa.prototype.insertEdge=function(t,e){var i=this.lookupOrInsertNode(t),n=this.lookupOrInsertNode(e);(i.outgoing[this._hashFn(e)]=n).incoming[this._hashFn(t)]=i},qa.prototype.removeNode=function(t){var e=this._hashFn(t);delete this._nodes[e],za(this._nodes,function(t){delete t.value.outgoing[e],delete t.value.incoming[e]})},qa.prototype.lookupOrInsertNode=function(t){var e=this._hashFn(t),i=this._nodes[e];return i||(i=function(t){return{data:t,incoming:Object.create(null),outgoing:Object.create(null)}}(t),this._nodes[e]=i),i},qa.prototype.isEmpty=function(){for(var t in this._nodes)return!1;return!0},qa.prototype.toString=function(){var e=[];return za(this._nodes,function(t){e.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")}),e.join("\n")},qa);function qa(t){this._hashFn=t,this._nodes=Object.create(null)}function Ka(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=!1),this.ctor=t,this.staticArguments=e,this.supportsDelayedInstantiation=i}var Ga,Ya=i(118),$a=(Ga=function(t,e){return(Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ga(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Za=(Xa.prototype.createChild=function(t){return new Xa(t,this._strict,this)},Xa.prototype.invokeFunction=function(t){for(var n=this,e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=Qa.traceInvocation(t),r=!1;try{var s={get:function(t,e){if(r)throw Object(Ut.c)("service accessor is only valid during the invocation of its target method");var i=n._getOrCreateServiceInstance(t,o);if(!i&&e!==Ot.d)throw new Error("[invokeFunction] unknown service '"+t+"'");return i}};return t.apply(void 0,[s].concat(e))}finally{r=!0,o.stop()}},Xa.prototype.createInstance=function(t){for(var e,i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return i=t instanceof Ka?(e=Qa.traceCreation(t.ctor),this._createInstance(t.ctor,t.staticArguments.concat(n),e)):(e=Qa.traceCreation(t),this._createInstance(t,n,e)),e.stop(),i},Xa.prototype._createInstance=function(t,e,i){void 0===e&&(e=[]);for(var n=Ot.b.getServiceDependencies(t).sort(function(t,e){return t.index-e.index}),o=[],r=0,s=n;r<s.length;r++){var a=s[r],l=this._getOrCreateServiceInstance(a.id,i);if(!l&&this._strict&&!a.optional)throw new Error("[createInstance] "+t.name+" depends on UNKNOWN service "+a.id+".");o.push(l)}var u=0<n.length?n[0].index:e.length;if(e.length!==u){console.warn("[createInstance] First service dependency of "+t.name+" at position "+(u+1)+" conflicts with "+e.length+" static arguments");var h=u-e.length;e=0<h?e.concat(new Array(h)):e.slice(0,u)}return Vi.a.apply(null,[t].concat(e,o))},Xa.prototype._setServiceInstance=function(t,e){if(this._services.get(t)instanceof Ka)this._services.set(t,e);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(t,e)}},Xa.prototype._getServiceInstanceOrDescriptor=function(t){var e=this._services.get(t);return!e&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):e},Xa.prototype._getOrCreateServiceInstance=function(t,e){var i=this._getServiceInstanceOrDescriptor(t);return i instanceof Ka?this._createAndCacheServiceInstance(t,i,e.branch(t,!0)):(e.branch(t,!1),i)},Xa.prototype._createAndCacheServiceInstance=function(t,e,i){var n=new Ua(function(t){return t.id.toString()});function o(){var t=new Error("[createInstance] cyclic dependency between services");throw t.message=n.toString(),t}for(var r=0,s=[{id:t,desc:e,_trace:i}];s.length;){var a=s.pop();n.lookupOrInsertNode(a),100<r++&&o();for(var l=0,u=Ot.b.getServiceDependencies(a.desc.ctor);l<u.length;l++){var h=u[l],c=this._getServiceInstanceOrDescriptor(h.id);if(c||h.optional||console.warn("[createInstance] "+t+" depends on "+h.id+" which is NOT registered."),c instanceof Ka){var d={id:h.id,desc:c,_trace:a._trace.branch(h.id,!0)};n.insertEdge(a,d),s.push(d)}}}for(;;){var p=n.roots();if(0===p.length){n.isEmpty()||o();break}for(var f=0,g=p;f<g.length;f++){var m=g[f].data,v=this._createServiceInstanceWithOwner(m.id,m.desc.ctor,m.desc.staticArguments,!1,m._trace);this._setServiceInstance(m.id,v),n.removeNode(m)}}return this._getServiceInstanceOrDescriptor(t)},Xa.prototype._createServiceInstanceWithOwner=function(t,e,i,n,o){if(void 0===i&&(i=[]),this._services.get(t)instanceof Ka)return this._createServiceInstance(e,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,e,i,n,o);throw new Error("illegalState - creating UNKNOWN service instance")},Xa.prototype._createServiceInstance=function(t,e,i,n){return void 0===e&&(e=[]),this._createInstance(t,e,n)},Xa);function Xa(t,e,i){void 0===t&&(t=new Ya.a),void 0===e&&(e=!1),this._services=t,this._strict=e,this._parent=i,this._services.set(Ot.a,this)}var Ja,Qa=(tl.traceInvocation=function(t){return tl._None},tl.traceCreation=function(t){return tl._None},tl.prototype.branch=function(t,e){var i=new tl(2,t.toString());return this._dep.push([t,e,i]),i},tl.prototype.stop=function(){var t=Date.now()-this._start;tl._totals+=t;var d=!1,e=[(0===this.type?"CREATE":"CALL")+" "+this.name,""+function t(e,i){for(var n=[],o=new Array(e+1).join("\t"),r=0,s=i._dep;r<s.length;r++){var a=s[r],l=a[0],u=a[1],h=a[2];if(u&&h){d=!0,n.push(o+"CREATES -> "+l);var c=t(e+1,h);c&&n.push(c)}else n.push(o+"uses -> "+l)}return n.join("\n")}(1,this),"DONE, took "+t.toFixed(2)+"ms (grand total "+tl._totals.toFixed(2)+"ms)"];(2<t||d)&&console.log(e.join("\n"))},tl._None=($a(el,Ja=tl),el.prototype.stop=function(){},el.prototype.branch=function(){return this},new el),tl._totals=0,tl);function tl(t,e){this.type=t,this.name=e,this._start=Date.now(),this._dep=[]}function el(){return Ja.call(this,-1,null)||this}var il,nl,ol=i(159),rl=i(131);(nl=il=il||{}).get=function(t,e,i){if(t[e])return t[e][i]},nl.set=function(t,e,i,n){t[e]||(t[e]=Object.create(null)),t[e][i]=n},nl.remove=function(t,e,i){return!(!t[e]||!t[e][i]||(delete t[e][i],Object(Vi.d)(t[e])&&delete t[e],0))};var sl=(al.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},al.prototype._update=function(t){if(this._data)for(var e=0,i=t;e<i.length;e++){var n=i[e],o=n.toString(),r=this._data[o];r&&this._substract(r);var s=this._resourceStats(n);this._add(s),this._data[o]=s}},al.prototype._resourceStats=function(t){var e={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===St.a.inMemory||t.scheme===St.a.walkThrough||t.scheme===St.a.walkThroughSnippet)return e;for(var i=0,n=this._service.read({resource:t});i<n.length;i++){var o=n[i].severity;o===sr.b.Error?e.errors+=1:o===sr.b.Warning?e.warnings+=1:o===sr.b.Info?e.infos+=1:e.unknowns+=1}return e},al.prototype._substract=function(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns},al.prototype._add=function(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns},al);function al(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}var ll=(ul.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(ul.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),ul.prototype.remove=function(t,e){if(!Object(ae.k)(e))for(var i=0,n=e;i<n.length;i++){var o=n[i];this.changeOne(t,o,[])}},ul.prototype.changeOne=function(t,e,i){if(Object(ae.k)(i)){var n=il.remove(this._byResource,e.toString(),t),o=il.remove(this._byOwner,t,e.toString());if(n!==o)throw new Error("invalid marker service state");n&&o&&this._onMarkerChanged.fire([e])}else{for(var r=[],s=0,a=i;s<a.length;s++){var l=a[s],u=ul._toMarker(t,e,l);u&&r.push(u)}il.set(this._byResource,e.toString(),t,r),il.set(this._byOwner,t,e.toString(),r),this._onMarkerChanged.fire([e])}},ul._toMarker=function(t,e,i){var n=i.code,o=i.severity,r=i.message,s=i.source,a=i.startLineNumber,l=i.startColumn,u=i.endLineNumber,h=i.endColumn,c=i.relatedInformation,d=i.tags;if(r)return{resource:e,owner:t,code:n||void 0,severity:o,message:r,source:s,startLineNumber:a=0<a?a:1,startColumn:l=0<l?l:1,endLineNumber:u=a<=u?u:a,endColumn:h=0<h?h:l,relatedInformation:c,tags:d}},ul.prototype.read=function(t){void 0===t&&(t=Object.create(null));var e=t.owner,i=t.resource,n=t.severities,o=t.take;if((!o||o<0)&&(o=-1),e&&i){if(y=il.get(this._byResource,i.toString(),e)){for(var r=[],s=0,a=y;s<a.length;s++){var l=a[s];if(ul._accept(l,n)){var u=r.push(l);if(0<o&&u===o)break}}return r}return[]}if(e||i){var h=e?this._byOwner[e]:i?this._byResource[i.toString()]:void 0;if(!h)return[];for(var c in r=[],h)for(var d=0,p=h[c];d<p.length;d++)if(y=p[d],ul._accept(y,n)&&(u=r.push(y),0<o&&u===o))return r;return r}var r=[];for(var f in this._byResource)for(var g in this._byResource[f])for(var m=0,v=this._byResource[f][g];m<v.length;m++){var y=v[m];if(ul._accept(y,n)){var u=r.push(y);if(0<o&&u===o)return r}}return r},ul._accept=function(t,e){return void 0===e||(e&t.severity)===t.severity},ul._debouncer=function(t,e){t||(ul._dedupeMap=Object.create(null),t=[]);for(var i=0,n=e;i<n.length;i++){var o=n[i];void 0===ul._dedupeMap[o.toString()]&&(ul._dedupeMap[o.toString()]=!0,t.push(o))}return t},ul);function ul(){this._onMarkerChanged=new ht.a,this._onMarkerChangedEvent=Object(ht.h)(this._onMarkerChanged.event,ul._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new sl(this)}var hl,cl,dl=i(125),pl=i(92),fl=(hl=function(t,e){return(hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}hl(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});!function(e){var i=new Ya.a,n=(Object.defineProperty(t.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),t.prototype.get=function(t){if(!this._value){if(t&&(this._value=t[this._serviceId.toString()]),this._value||(this._value=this._factory(t)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");i.set(this._serviceId,this._value)}return this._value},t);function t(t,e){this._serviceId=t,this._factory=e,this._value=null}e.LazyStaticService=n;var o=[];function r(t,e){var i=new n(t,e);return o.push(i),i}e.init=function(e){var i=new Ya.a;for(var t in e)e.hasOwnProperty(t)&&i.set(Object(Ot.c)(t),e[t]);o.forEach(function(t){return i.set(t.id,t.get(e))});var n=new Za(i,!0);return i.set(Ot.a,n),[i,n]},e.instantiationService=r(Ot.a,function(){return new Za(i,!0)});var s=new Bn;e.configurationService=r(Hi.a,function(){return s}),e.resourceConfigurationService=r(Ye,function(){return new Wn(s)}),e.resourcePropertiesService=r($e,function(){return new zn(s)}),e.contextService=r(mn,function(){return new $n}),e.labelService=r(ol.a,function(){return new to}),e.telemetryService=r(Et.a,function(){return new Gn}),e.dialogService=r(Wa,function(){return new In}),e.notificationService=r(gn.a,function(){return new Nn}),e.markerService=r(sr.a,function(){return new ll}),e.modeService=r(Lo.a,function(t){return new tr}),e.modelService=r(Ge.a,function(t){return new vr(e.markerService.get(t),e.configurationService.get(t),e.resourcePropertiesService.get(t))}),e.editorWorkerService=r(Wt.a,function(t){return new ei(e.modelService.get(t),e.resourceConfigurationService.get(t))}),e.standaloneThemeService=r(lo.a,function(){return new bs}),e.codeEditorService=r(bt.a,function(t){return new Vr(e.standaloneThemeService.get(t))}),e.progressService=r(dl.a,function(){return new Ln}),e.storageService=r(pl.a,function(){return pl.b}),e.logService=r(Pa.a,function(){return new Pa.b})}(cl=cl||{});var gl,ml=(gl=zt.a,fl(vl,gl),vl.prototype.get=function(t){var e=this._serviceCollection.get(t);if(!e)throw new Error("Missing service "+t);return e},vl.prototype.set=function(t,e){this._serviceCollection.set(t,e)},vl.prototype.has=function(t){return this._serviceCollection.has(t)},vl);function vl(t,n){var o=gl.call(this)||this,e=cl.init(n),i=e[0],r=e[1];o._serviceCollection=i,o._instantiationService=r;function s(t,e){var i=null;return n&&(i=n[t.toString()]),i=i||e(),o._serviceCollection.set(t,i),i}var a=o.get(Hi.a),l=o.get(gn.a),u=o.get(Et.a),h=o.get(co.c),c=s(Mi.e,function(){return o._register(new Vs(a))});s(rl.a,function(){return new rl.b(c)});var d=s(kt.b,function(){return new Mn(o._instantiationService)}),p=s(ho.a,function(){return o._register(new Rn(c,d,u,l,t))}),f=s(uo.b,function(){return o._register(new Ba(t,u,new Pa.b))});return s(uo.a,function(){return o._register(new xa(t,u,l,f,p,h))}),s(Ai.a,function(){return new qn(d)}),s(Eo.a,function(){return new Jn(cl.modelService.get(Ge.a))}),o}var yl=i(80);function _l(t,e,i){var n=new ml(t,e),o=null;n.has(Vt.a)||(o=new On,n.set(Vt.a,o)),n.has(yl.a)||n.set(yl.a,new Tt(n.get(bt.a),n.get(kt.b)));var r=i(n);return o&&o.setEditor(r),r}function bl(e,i,t){return _l(e,t||{},function(t){return new Co(e,i,t,t.get(Ot.a),t.get(bt.a),t.get(kt.b),t.get(Mi.e),t.get(ho.a),t.get(uo.b),t.get(lo.a),t.get(gn.a),t.get(Hi.a))})}function wl(e){return cl.codeEditorService.get().onCodeEditorAdd(function(t){e(t)})}function Cl(e,i,t){return _l(e,t,function(t){return new ko(e,i,t,t.get(Ot.a),t.get(Mi.e),t.get(ho.a),t.get(uo.b),t.get(Wt.a),t.get(bt.a),t.get(lo.a),t.get(gn.a),t.get(Hi.a))})}function Sl(t,e){return new Pt.a(t,e)}function xl(t,e,i){return cl.modelService.get().createModel(t,e,i)}function kl(t,e,i){if(t=t||"",e)return xl(t,cl.modeService.get().create(e),i);var n=i?i.path:null,o=t.indexOf("\n"),r=t;return-1!==o&&(r=t.substring(0,o)),xl(t,cl.modeService.get().createByFilepathOrFirstLine(n,r),i)}function Ol(t,e){cl.modelService.get().setMode(t,cl.modeService.get().create(e))}function El(t,e,i){t&&cl.markerService.get().changeOne(e,t.uri,i)}function Ll(t){return cl.markerService.get().read(t)}function Dl(t){return cl.modelService.get().getModel(t)}function Il(){return cl.modelService.get().getModels()}function Nl(t){return cl.modelService.get().onModelAdded(t)}function Tl(t){return cl.modelService.get().onModelRemoved(t)}function Ml(e){return cl.modelService.get().onModelModeChanged(function(t){e({model:t.model,oldLanguage:t.oldModeId})})}function Al(t){return function(t,e){return new yi(t,e)}(cl.modelService.get(),t)}function Pl(t,e){return Si.colorizeElement(cl.standaloneThemeService.get(),cl.modeService.get(),t,e)}function Rl(t,e,i){return Si.colorize(cl.modeService.get(),t,e,i)}function Fl(t,e,i){return void 0===i&&(i=4),Si.colorizeModelLine(t,e,i)}function jl(t,e){cl.modeService.get().triggerMode(e);for(var i=function(n){var t=Bt.w.get(n);return t||{getInitialState:function(){return Ht.c},tokenize:function(t,e,i){return Object(Ht.d)(n,t,e,i)},tokenize2:void 0}}(e),n=t.split(/\r\n|\r|\n/),o=[],r=i.getInitialState(),s=0,a=n.length;s<a;s++){var l=n[s],u=i.tokenize(l,r,0);o[s]=u.tokens,r=u.endState}return o}function Bl(t,e){cl.standaloneThemeService.get().defineTheme(t,e)}function Hl(t){cl.standaloneThemeService.get().setTheme(t)}function Wl(t){return!function(t){return Array.isArray(t)}(t)}function Vl(t){return"string"==typeof t}function zl(t){return!Vl(t)}function Ul(t){return!t}function ql(t,e){return t.ignoreCase&&e?e.toLowerCase():e}function Kl(t){return t.replace(/[&<>'"_]/g,"-")}function Gl(t,e){return new Error(t.languageId+": "+e)}function Yl(u,t,h,c,d){var p=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(t,e,i,n,o,r,s,a,l){return Ul(i)?Ul(n)?!Ul(o)&&o<c.length?ql(u,c[o]):!Ul(s)&&u&&"string"==typeof u[s]?u[s]:(null===p&&(p=d.split(".")).unshift(d),!Ul(r)&&r<p.length?ql(u,p[r]):""):ql(u,h):"$"})}function $l(t,e){for(var i=e;i&&0<i.length;){var n=t.tokenizer[i];if(n)return n;var o=i.lastIndexOf(".");i=o<0?null:i.substr(0,o)}return null}function Zl(t,e){return"boolean"==typeof t?t:e}function Xl(t,e){return"string"==typeof t?t:e}function Jl(n,o){for(var t=0;0<=o.indexOf("@")&&t<5;)t++,o=o.replace(/@(\w+)/g,function(t,e){var i="";if("string"==typeof n[e])i=n[e];else{if(!(n[e]&&n[e]instanceof RegExp))throw void 0===n[e]?Gl(n,"language definition does not contain attribute '"+e+"', used at: "+o):Gl(n,"attribute reference '"+e+"' must be a string, used at: "+o);i=n[e].source}return Ul(i)?"":"(?:"+i+")"});return new RegExp(o,n.ignoreCase?"i":"")}function Ql(s,t,e,i){var r=-1,n=e,o=e.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(r=parseInt(o[3]),o[2]&&(r+=100)),n=o[4]);var a,l="~",u=n;if(n&&0!==n.length?/^\w*$/.test(u)?l="==":(o=n.match(/^(@|!@|~|!~|==|!=)(.*)$/))&&(l=o[1],u=o[2]):(l="!=",u=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(u))if("@"===l||"!@"===l){var h=s[u];if(!h)throw Gl(s,"the @ match target '"+u+"' is not defined, in rule: "+t);if(!function(t,e){if(!e)return!1;if(!Array.isArray(e))return!1;for(var i in e)if(e.hasOwnProperty(i)&&!t(e[i]))return!1;return!0}(function(t){return"string"==typeof t},h))throw Gl(s,"the @ match target '"+u+"' must be an array of strings, in rule: "+t);var c=zi.b(h,s.ignoreCase);a=function(t){return"@"===l?c(t):!c(t)}}else if("~"===l||"!~"===l)if(u.indexOf("$")<0){var d=Jl(s,"^"+u+"$");a=function(t){return"~"===l?d.test(t):!d.test(t)}}else a=function(t,e,i,n){return Jl(s,"^"+Yl(s,u,e,i,n)+"$").test(t)};else if(u.indexOf("$")<0){var p=ql(s,u);a=function(t){return"=="===l?t===p:t!==p}}else{var f=ql(s,u);a=function(t,e,i,n,o){var r=Yl(s,f,e,i,n);return"=="===l?t===r:t!==r}}else{var g=zi.b(u.split("|"),s.ignoreCase);a=function(t){return"~"===l?g(t):!g(t)}}return-1===r?{name:e,value:i,test:function(t,e,i,n){return a(t,t,e,i,n)}}:{name:e,value:i,test:function(t,e,i,n){var o=function(t,e,i,n){if(n<0)return t;if(n<e.length)return e[n];if(100<=n){n-=100;var o=i.split(".");if(o.unshift(i),n<o.length)return o[n]}return null}(t,e,i,r);return a(o||"",t,e,i,n)}}}function tu(t,e,i){if(i){if("string"==typeof i)return i;if(i.token||""===i.token){if("string"!=typeof i.token)throw Gl(t,"a 'token' attribute must be of type string, in rule: "+e);var n={token:i.token};if(0<=i.token.indexOf("$")&&(n.tokenSubst=!0),"string"==typeof i.bracket)if("@open"===i.bracket)n.bracket=1;else{if("@close"!==i.bracket)throw Gl(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);n.bracket=-1}if(i.next){if("string"!=typeof i.next)throw Gl(t,"the next state must be a string value in rule: "+e);var o=i.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(t,e){for(var i=e;i&&0<i.length;){if(t.stateNames[i])return!0;var n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return!1}(t,Yl(t,o,"",[],""))))throw Gl(t,"the next state '"+i.next+"' is not defined in rule: "+e);n.next=o}return"number"==typeof i.goBack&&(n.goBack=i.goBack),"string"==typeof i.switchTo&&(n.switchTo=i.switchTo),"string"==typeof i.log&&(n.log=i.log),"string"==typeof i.nextEmbedded&&(n.nextEmbedded=i.nextEmbedded,t.usesEmbedded=!0),n}if(Array.isArray(i)){var r=[];for(var s in i)i.hasOwnProperty(s)&&(r[s]=tu(t,e,i[s]));return{group:r}}if(i.cases){var a=[];for(var l in i.cases)if(i.cases.hasOwnProperty(l)){var u=tu(t,e,i.cases[l]);"@default"===l||"@"===l||""===l?a.push({test:void 0,value:u,name:l}):"@eos"===l?a.push({test:function(t,e,i,n){return n},value:u,name:l}):a.push(Ql(t,e,l,u))}var h=t.defaultToken;return{test:function(t,e,i,n){for(var o in a)if(a.hasOwnProperty(o)){var r=a[o];if(!r.test||r.test(t,e,i,n))return r.value}return h}}}throw Gl(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}return{token:""}}var eu=(iu.prototype.setRegex=function(t,e){var i;if("string"==typeof e)i=e;else{if(!(e instanceof RegExp))throw Gl(t,"rules must start with a match string or regular expression: "+this.name);i=e.source}this.matchOnlyAtLineStart=0<i.length&&"^"===i[0],this.name=this.name+": "+i,this.regex=Jl(t,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")},iu.prototype.setAction=function(t,e){this.action=tu(t,this.name,e)},iu);function iu(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}var nu=(ou.create=function(t,e){return this._INSTANCE.create(t,e)},ou.prototype.create=function(t,e){if(null!==t&&t.depth>=this._maxCacheDepth)return new ru(t,e);var i=ru.getStackElementId(t);0<i.length&&(i+="|"),i+=e;var n=this._entries[i];return n||(n=new ru(t,e),this._entries[i]=n)},ou._INSTANCE=new ou(5),ou);function ou(t){this._maxCacheDepth=t,this._entries=Object.create(null)}var ru=(su.getStackElementId=function(t){for(var e="";null!==t;)0<e.length&&(e+="|"),e+=t.state,t=t.parent;return e},su._equals=function(t,e){for(;null!==t&&null!==e;){if(t===e)return!0;if(t.state!==e.state)return!1;t=t.parent,e=e.parent}return null===t&&null===e},su.prototype.equals=function(t){return su._equals(this,t)},su.prototype.push=function(t){return nu.create(this,t)},su.prototype.pop=function(){return this.parent},su.prototype.popall=function(){for(var t=this;t.parent;)t=t.parent;return t},su.prototype.switchTo=function(t){return nu.create(this.parent,t)},su);function su(t,e){this.parent=t,this.state=e,this.depth=(this.parent?this.parent.depth:0)+1}var au=(lu.prototype.equals=function(t){return this.modeId===t.modeId&&this.state.equals(t.state)},lu.prototype.clone=function(){return this.state.clone()===this.state?this:new lu(this.modeId,this.state)},lu);function lu(t,e){this.modeId=t,this.state=e}var uu=(hu.create=function(t,e){return this._INSTANCE.create(t,e)},hu.prototype.create=function(t,e){if(null!==e)return new cu(t,e);if(null!==t&&t.depth>=this._maxCacheDepth)return new cu(t,e);var i=ru.getStackElementId(t),n=this._entries[i];return n||(n=new cu(t,null),this._entries[i]=n)},hu._INSTANCE=new hu(5),hu);function hu(t){this._maxCacheDepth=t,this._entries=Object.create(null)}var cu=(du.prototype.clone=function(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:uu.create(this.stack,this.embeddedModeData)},du.prototype.equals=function(t){return t instanceof du&&!!this.stack.equals(t.stack)&&(null===this.embeddedModeData&&null===t.embeddedModeData||null!==this.embeddedModeData&&null!==t.embeddedModeData&&this.embeddedModeData.equals(t.embeddedModeData))},du);function du(t,e){this.stack=t,this.embeddedModeData=e}var pu=Object.hasOwnProperty,fu=(gu.prototype.enterMode=function(t,e){this._language=e},gu.prototype.emit=function(t,e){this._lastTokenType===e&&this._lastTokenLanguage===this._language||(this._lastTokenType=e,this._lastTokenLanguage=this._language,this._tokens.push(new mt.a(t,e,this._language)))},gu.prototype.nestedModeTokenize=function(t,e,i){var n=e.modeId,o=e.state,r=Bt.w.get(n);if(!r)return this.enterMode(i,n),this.emit(i,""),o;var s=r.tokenize(t,o,i);return this._tokens=this._tokens.concat(s.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,s.endState},gu.prototype.finalize=function(t){return new mt.b(this._tokens,t)},gu);function gu(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}var mu=(vu.prototype.enterMode=function(t,e){this._currentLanguageId=this._modeService.getLanguageIdentifier(e).id},vu.prototype.emit=function(t,e){var i=this._theme.match(this._currentLanguageId,e);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(t),this._tokens.push(i))},vu._merge=function(t,e,i){var n=null!==t?t.length:0,o=e.length,r=null!==i?i.length:0;if(0===n&&0===o&&0===r)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===r)return t;var s=new Uint32Array(n+o+r);null!==t&&s.set(t);for(var a=0;a<o;a++)s[n+a]=e[a];return null!==i&&s.set(i,n+o),s},vu.prototype.nestedModeTokenize=function(t,e,i){var n=e.modeId,o=e.state,r=Bt.w.get(n);if(!r)return this.enterMode(i,n),this.emit(i,""),o;var s=r.tokenize2(t,o,i);return this._prependTokens=vu._merge(this._prependTokens,this._tokens,s.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,s.endState},vu.prototype.finalize=function(t){return new mt.c(vu._merge(this._prependTokens,this._tokens,null),t)},vu);function vu(t,e){this._modeService=t,this._theme=e,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}var yu=(_u.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},_u.prototype.getInitialState=function(){var t=nu.create(null,this._lexer.start);return uu.create(t,null)},_u.prototype.tokenize=function(t,e,i){var n=new fu,o=this._tokenize(t,e,i,n);return n.finalize(o)},_u.prototype.tokenize2=function(t,e,i){var n=new mu(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),o=this._tokenize(t,e,i,n);return n.finalize(o)},_u.prototype._tokenize=function(t,e,i,n){return e.embeddedModeData?this._nestedTokenize(t,e,i,n):this._myTokenize(t,e,i,n)},_u.prototype._findLeavingNestedModeOffset=function(t,e){var i=this._lexer.tokenizer[e.stack.state];if(!i&&!(i=$l(this._lexer,e.stack.state)))throw Gl(this._lexer,"tokenizer state is not defined: "+e.stack.state);var n=-1,o=!1;for(var r in i)if(pu.call(i,r)){var s=i[r];if(zl(s.action)&&"@pop"===s.action.nextEmbedded){o=!0;var a=s.regex,l=s.regex.source;"^(?:"===l.substr(0,4)&&")"===l.substr(l.length-1,1)&&(a=new RegExp(l.substr(4,l.length-5),a.ignoreCase?"i":""));var u=t.search(a);-1!==u&&(-1===n||u<n)&&(n=u)}}if(!o)throw Gl(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+e.stack.state);return n},_u.prototype._nestedTokenize=function(t,e,i,n){var o=this._findLeavingNestedModeOffset(t,e);if(-1===o){var r=n.nestedModeTokenize(t,e.embeddedModeData,i);return uu.create(e.stack,new au(e.embeddedModeData.modeId,r))}var s=t.substring(0,o);0<s.length&&n.nestedModeTokenize(s,e.embeddedModeData,i);var a=t.substring(o);return this._myTokenize(a,e,i+o,n)},_u.prototype._myTokenize=function(t,e,i,n){n.enterMode(i,this._modeId);for(var o,r,s=t.length,a=e.embeddedModeData,l=e.stack,u=0,h=null;u<s;){var c=u,d=l.depth,p=h?h.groups.length:0,f=l.state,g=null,m=null,v=null,y=null,_=null;if(h){g=h.matches;var b=h.groups.shift();m=b.matched,v=b.action,y=h.rule,0===h.groups.length&&(h=null)}else{if(s<=u)break;var w=this._lexer.tokenizer[f];if(!w&&!(w=$l(this._lexer,f)))throw Gl(this._lexer,"tokenizer state is not defined: "+f);var C=t.substr(u);for(var S in w)if(pu.call(w,S)){var x=w[S];if((0===u||!x.matchOnlyAtLineStart)&&(g=C.match(x.regex))){m=g[0],v=x.action;break}}}for(g||(g=[""],m=""),v||(u<s&&(m=(g=[t.charAt(u)])[0]),v=this._lexer.defaultToken),u+=m.length;Wl(v)&&zl(v)&&v.test;)v=v.test(m,g,f,u===s);var k=null;if("string"==typeof v||Array.isArray(v))k=v;else if(v.group)k=v.group;else if(null!==v.token&&void 0!==v.token){if(k=v.tokenSubst?Yl(this._lexer,v.token,m,g,f):v.token,v.nextEmbedded)if("@pop"===v.nextEmbedded){if(!a)throw Gl(this._lexer,"cannot pop embedded mode if not inside one");a=null}else{if(a)throw Gl(this._lexer,"cannot enter embedded mode from within an embedded mode");_=Yl(this._lexer,v.nextEmbedded,m,g,f)}if(v.goBack&&(u=Math.max(0,u-v.goBack)),v.switchTo&&"string"==typeof v.switchTo){if("@"===(O=Yl(this._lexer,v.switchTo,m,g,f))[0]&&(O=O.substr(1)),!$l(this._lexer,O))throw Gl(this._lexer,"trying to switch to a state '"+O+"' that is undefined in rule: "+y.name);l=l.switchTo(O)}else{if(v.transform&&"function"==typeof v.transform)throw Gl(this._lexer,"action.transform not supported");if(v.next)if("@push"===v.next){if(l.depth>=this._lexer.maxStack)throw Gl(this._lexer,"maximum tokenizer stack size reached: ["+l.state+","+l.parent.state+",...]");l=l.push(f)}else if("@pop"===v.next){if(l.depth<=1)throw Gl(this._lexer,"trying to pop an empty stack in rule: "+y.name);l=l.pop()}else if("@popall"===v.next)l=l.popall();else{var O;if("@"===(O=Yl(this._lexer,v.next,m,g,f))[0]&&(O=O.substr(1)),!$l(this._lexer,O))throw Gl(this._lexer,"trying to set a next state '"+O+"' that is undefined in rule: "+y.name);l=l.push(O)}}v.log&&"string"==typeof v.log&&(o=this._lexer,r=this._lexer.languageId+": "+Yl(this._lexer,v.log,m,g,f),console.log(o.languageId+": "+r))}if(null===k)throw Gl(this._lexer,"lexer rule has no well-defined action in rule: "+y.name);if(Array.isArray(k)){if(h&&0<h.groups.length)throw Gl(this._lexer,"groups cannot be nested: "+y.name);if(g.length!==k.length+1)throw Gl(this._lexer,"matched number of groups does not match the number of actions in rule: "+y.name);for(var E=0,L=1;L<g.length;L++)E+=g[L].length;if(E!==m.length)throw Gl(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+y.name);for(h={rule:y,matches:g,groups:[]},L=0;L<k.length;L++)h.groups[L]={action:k[L],matched:g[L+1]};u-=m.length}else{if("@rematch"===k&&(u-=m.length,g=null,k=m=""),0===m.length){if(d!==l.depth||f!==l.state||(h?h.groups.length:0)!==p)continue;throw Gl(this._lexer,"no progress in tokenizer in rule: "+y.name)}var D=null;if(Vl(k)&&0===k.indexOf("@brackets")){var I=k.substr("@brackets".length),N=bu(this._lexer,m);if(!N)throw Gl(this._lexer,"@brackets token returned but no bracket defined as: "+m);D=Kl(N.token+I)}else D=Kl(""===k?"":k+this._lexer.tokenPostfix);if(n.emit(c+i,D),null!==_){var T=this._modeService.getModeIdForLanguageName(_);T&&(_=T);var M=this._getNestedEmbeddedModeData(_);return u<s?(C=t.substr(u),this._nestedTokenize(C,uu.create(l,M),i+u,n)):uu.create(l,M)}}}return uu.create(l,a)},_u.prototype._getNestedEmbeddedModeData=function(t){var e=this._locateMode(t);if(e){var i=Bt.w.get(e);if(i)return new au(e,i.getInitialState())}return new au(e||Ht.b,Ht.c)},_u.prototype._locateMode=function(t){if(!t||!this._modeService.isRegisteredMode(t))return null;var e=this._modeService.getModeId(t);return e&&(this._modeService.triggerMode(e),this._embeddedModes[e]=!0),e},_u);function _u(t,e,i,n){var r=this;this._modeService=t,this._standaloneThemeService=e,this._modeId=i,this._lexer=n,this._embeddedModes=Object.create(null);var s=!1;this._tokenizationRegistryListener=Bt.w.onDidChange(function(t){if(!s){for(var e=!1,i=0,n=t.changedLanguages.length;i<n;i++){var o=t.changedLanguages[i];if(r._embeddedModes[o]){e=!0;break}}e&&(s=!0,Bt.w.fire([r._modeId]),s=!1)}})}function bu(t,e){if(!e)return null;e=ql(t,e);for(var i=t.brackets,n=0;n<i.length;n++){var o=i[n];if(o.open===e)return{token:o.token,bracketType:1};if(o.close===e)return{token:o.token,bracketType:-1}}return null}function wu(t){zo.a.registerLanguage(t)}function Cu(){var t=[];return t=t.concat(zo.a.getLanguages())}function Su(t){var e=cl.modeService.get().getLanguageIdentifier(t);return e?e.id:0}function xu(e,i){var n=cl.modeService.get().onDidCreateMode(function(t){t.getId()===e&&(n.dispose(),i())});return n}function ku(t,e){var i=cl.modeService.get().getLanguageIdentifier(t);if(!i)throw new Error("Cannot set configuration for unknown language "+t);return se.a.register(i,e)}var Ou=(Eu.prototype.getInitialState=function(){return this._actual.getInitialState()},Eu.prototype.tokenize=function(t,e,i){throw new Error("Not supported!")},Eu.prototype.tokenize2=function(t,e){var i=this._actual.tokenizeEncoded(t,e);return new mt.c(i.tokens,i.endState)},Eu);function Eu(t){this._actual=t}var Lu=(Du.prototype.getInitialState=function(){return this._actual.getInitialState()},Du.prototype._toClassicTokens=function(t,e,i){for(var n=[],o=0,r=0,s=t.length;r<s;r++){var a=t[r],l=a.startIndex;0===r?l=0:l<o&&(l=o),n[r]=new mt.a(l+i,a.scopes,e),o=l}return n},Du.prototype.tokenize=function(t,e,i){var n,o=this._actual.tokenize(t,e),r=this._toClassicTokens(o.tokens,this._languageIdentifier.language,i);return n=o.endState.equals(e)?e:o.endState,new mt.b(r,n)},Du.prototype._toBinaryTokens=function(t,e){for(var i=this._languageIdentifier.id,n=this._standaloneThemeService.getTheme().tokenTheme,o=[],r=0,s=0,a=0,l=t.length;a<l;a++){var u=t[a],h=n.match(i,u.scopes);if(!(0<r&&o[r-1]===h)){var c=u.startIndex;0===a?c=0:c<s&&(c=s),o[r++]=c+e,o[r++]=h,s=c}}var d=new Uint32Array(r);for(a=0;a<r;a++)d[a]=o[a];return d},Du.prototype.tokenize2=function(t,e,i){var n,o=this._actual.tokenize(t,e),r=this._toBinaryTokens(o.tokens,i);return n=o.endState.equals(e)?e:o.endState,new mt.c(r,n)},Du);function Du(t,e,i){this._standaloneThemeService=t,this._languageIdentifier=e,this._actual=i}function Iu(t,e){var i,n=cl.modeService.get().getLanguageIdentifier(t);if(!n)throw new Error("Cannot set tokens provider for unknown language "+t);return i=function(t){return t.tokenizeEncoded}(e)?new Ou(e):new Lu(cl.standaloneThemeService.get(),n,e),Bt.w.register(t,i)}function Nu(t,e){var i=function(t,l){if(!l||"object"!=typeof l)throw new Error("Monarch: expecting a language definition object");var u={};u.languageId=t,u.noThrow=!1,u.maxStack=100,u.start="string"==typeof l.start?l.start:null,u.ignoreCase=Zl(l.ignoreCase,!1),u.tokenPostfix=Xl(l.tokenPostfix,"."+u.languageId),u.defaultToken=Xl(l.defaultToken,"source"),u.usesEmbedded=!1;var h=l;function c(t,e,i){for(var n in i)if(i.hasOwnProperty(n)){var o=i[n],r=o.include;if(r){if("string"!=typeof r)throw Gl(u,"an 'include' attribute must be a string at: "+t);if("@"===r[0]&&(r=r.substr(1)),!l.tokenizer[r])throw Gl(u,"include target '"+r+"' is not defined at: "+t);c(t+"."+r,e,l.tokenizer[r])}else{var s=new eu(t);if(Array.isArray(o)&&1<=o.length&&o.length<=3)if(s.setRegex(h,o[0]),3<=o.length)if("string"==typeof o[1])s.setAction(h,{token:o[1],next:o[2]});else{if("object"!=typeof o[1])throw Gl(u,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+t);var a=o[1];a.next=o[2],s.setAction(h,a)}else s.setAction(h,o[1]);else{if(!o.regex)throw Gl(u,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+t);o.name&&"string"==typeof o.name&&(s.name=o.name),o.matchOnlyAtStart&&(s.matchOnlyAtLineStart=Zl(o.matchOnlyAtLineStart,!1)),s.setRegex(h,o.regex),s.setAction(h,o.action)}e.push(s)}}}if(h.languageId=t,h.ignoreCase=u.ignoreCase,h.noThrow=u.noThrow,h.usesEmbedded=u.usesEmbedded,h.stateNames=l.tokenizer,h.defaultToken=u.defaultToken,!l.tokenizer||"object"!=typeof l.tokenizer)throw Gl(u,"a language definition must define the 'tokenizer' attribute as an object");for(var e in u.tokenizer=[],l.tokenizer)if(l.tokenizer.hasOwnProperty(e)){u.start||(u.start=e);var i=l.tokenizer[e];u.tokenizer[e]=new Array,c("tokenizer."+e,u.tokenizer[e],i)}if(u.usesEmbedded=h.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw Gl(u,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var n=[];for(var o in l.brackets)if(l.brackets.hasOwnProperty(o)){var r=l.brackets[o];if(r&&Array.isArray(r)&&3===r.length&&(r={token:r[2],open:r[0],close:r[1]}),r.open===r.close)throw Gl(u,"open and close brackets in a 'brackets' attribute must be different: "+r.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof r.open||"string"!=typeof r.token||"string"!=typeof r.close)throw Gl(u,"every element in the 'brackets' array must be a '{open,close,token}' object or array");n.push({token:r.token+u.tokenPostfix,open:ql(u,r.open),close:ql(u,r.close)})}return u.brackets=n,u.noThrow=!0,u}(t,e),n=function(t,e,i,n){return new yu(t,e,i,n)}(cl.modeService.get(),cl.standaloneThemeService.get(),t,i);return Bt.w.register(t,n)}function Tu(t,e){return Bt.r.register(t,e)}function Mu(t,e){return Bt.s.register(t,e)}function Au(t,e){return Bt.t.register(t,e)}function Pu(t,o){return Bt.m.register(t,{provideHover:function(t,e,i){var n=t.getWordAtPosition(e);return Promise.resolve(o.provideHover(t,e,i)).then(function(t){if(t)return!t.range&&n&&(t.range=new ft.a(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn)),t.range||(t.range=new ft.a(e.lineNumber,e.column,e.lineNumber,e.column)),t})}})}function Ru(t,e){return Bt.j.register(t,e)}function Fu(t,e){return Bt.h.register(t,e)}function ju(t,e){return Bt.e.register(t,e)}function Bu(t,e){return Bt.n.register(t,e)}function Hu(t,e){return Bt.x.register(t,e)}function Wu(t,e){return Bt.b.register(t,e)}function Vu(t,r){return Bt.a.register(t,{provideCodeActions:function(t,e,i,n){var o=cl.markerService.get().read({resource:t.uri}).filter(function(t){return ft.a.areIntersectingOrTouching(t,e)});return r.provideCodeActions(t,e,{markers:o,only:i.only},n)}})}function zu(t,e){return Bt.f.register(t,e)}function Uu(t,e){return Bt.i.register(t,e)}function qu(t,e){return Bt.q.register(t,e)}function Ku(t,e){return Bt.p.register(t,e)}function Gu(t,e){return Bt.d.register(t,e)}function Yu(t,e){return Bt.c.register(t,e)}function $u(t,e){return Bt.l.register(t,e)}i.d(e,"CancellationTokenSource",function(){return Ju}),i.d(e,"Emitter",function(){return Qu}),i.d(e,"KeyCode",function(){return th}),i.d(e,"KeyMod",function(){return eh}),i.d(e,"Position",function(){return ih}),i.d(e,"Range",function(){return nh}),i.d(e,"Selection",function(){return oh}),i.d(e,"SelectionDirection",function(){return rh}),i.d(e,"MarkerSeverity",function(){return sh}),i.d(e,"MarkerTag",function(){return ah}),i.d(e,"Promise",function(){return lh}),i.d(e,"Uri",function(){return uh}),i.d(e,"Token",function(){return hh}),i.d(e,"editor",function(){return ch}),i.d(e,"languages",function(){return dh});var Zu=self;void 0===Zu.Promise&&(Zu.Promise=n),lt.a.wrappingIndent=0,lt.a.viewInfo.glyphMargin=!1,lt.a.autoIndent=!1;var Xu=_t();Xu.editor={create:bl,onDidCreateEditor:wl,createDiffEditor:Cl,createDiffNavigator:Sl,createModel:kl,setModelLanguage:Ol,setModelMarkers:El,getModelMarkers:Ll,getModels:Il,getModel:Dl,onDidCreateModel:Nl,onWillDisposeModel:Tl,onDidChangeModelLanguage:Ml,createWebWorker:Al,colorizeElement:Pl,colorize:Rl,colorizeModelLine:Fl,tokenize:jl,defineTheme:Bl,setTheme:Hl,ScrollbarVisibility:m,WrappingIndent:A,OverviewRulerLane:y,EndOfLinePreference:b,DefaultEndOfLine:C,EndOfLineSequence:x,TrackedRangeStickiness:O,CursorChangeReason:I,MouseTargetType:K,TextEditorCursorStyle:j,TextEditorCursorBlinkingStyle:R,ContentWidgetPositionPreference:V,OverlayWidgetPositionPreference:U,RenderMinimap:T,ScrollType:L,RenderLineNumbersType:H,InternalEditorOptions:lt.e,BareFontInfo:Rt.a,FontInfo:Rt.b,TextModelResolvedOptions:jt.d,FindMatch:jt.b,EditorType:Ft.a},Xu.languages={register:wu,getLanguages:Cu,onLanguage:xu,getEncodedLanguageId:Su,setLanguageConfiguration:ku,setTokensProvider:Iu,setMonarchTokensProvider:Nu,registerReferenceProvider:Tu,registerRenameProvider:Mu,registerCompletionItemProvider:Gu,registerSignatureHelpProvider:Au,registerHoverProvider:Pu,registerDocumentSymbolProvider:Ru,registerDocumentHighlightProvider:Fu,registerDefinitionProvider:ju,registerImplementationProvider:Bu,registerTypeDefinitionProvider:Hu,registerCodeLensProvider:Wu,registerCodeActionProvider:Vu,registerDocumentFormattingEditProvider:zu,registerDocumentRangeFormattingEditProvider:Uu,registerOnTypeFormattingEditProvider:qu,registerLinkProvider:Ku,registerColorProvider:Yu,registerFoldingRangeProvider:$u,DocumentHighlightKind:ot,CompletionItemKind:Z,CompletionItemInsertTextRule:J,SymbolKind:st,IndentAction:Y,CompletionTriggerKind:tt,SignatureHelpTriggerReason:it,FoldingRangeKind:Bt.k};var Ju=Xu.CancellationTokenSource,Qu=Xu.Emitter,th=Xu.KeyCode,eh=Xu.KeyMod,ih=Xu.Position,nh=Xu.Range,oh=Xu.Selection,rh=Xu.SelectionDirection,sh=Xu.MarkerSeverity,ah=Xu.MarkerTag,lh=Xu.Promise,uh=Xu.Uri,hh=Xu.Token,ch=Xu.editor,dh=Xu.languages;Zu.monaco=Xu,void 0!==Zu.require&&"function"==typeof Zu.require.config&&Zu.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},function(t,e,i){"use strict";i(136);var n=i(19),o="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return o.Promise.wrap(i.e(4).then(i.bind(null,407)))}});var r="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return r.Promise.wrap(i.e(6).then(i.bind(null,408)))}});i(206);var s="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return s.Promise.wrap(i.e(7).then(i.bind(null,409)))}});var a="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return a.Promise.wrap(i.e(8).then(i.bind(null,410)))}});var l="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return l.Promise.wrap(i.e(9).then(i.bind(null,411)))}});var u="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return u.Promise.wrap(i.e(10).then(i.bind(null,412)))}});var h="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return h.Promise.wrap(i.e(11).then(i.bind(null,413)))}});i(207);var c="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return c.Promise.wrap(i.e(13).then(i.bind(null,414)))}});var d="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return d.Promise.wrap(i.e(14).then(i.bind(null,415)))}});var p="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return p.Promise.wrap(i.e(15).then(i.bind(null,416)))}});var f="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return f.Promise.wrap(i.e(16).then(i.bind(null,417)))}});var g="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return g.Promise.wrap(i.e(1).then(i.bind(null,418)))}});var m="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return m.Promise.wrap(i.e(17).then(i.bind(null,419)))}});var v="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return v.Promise.wrap(i.e(18).then(i.bind(null,420)))}});var y="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return y.Promise.wrap(i.e(19).then(i.bind(null,421)))}});var _="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return _.Promise.wrap(i.e(20).then(i.bind(null,422)))}});var b="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return b.Promise.wrap(i.e(21).then(i.bind(null,423)))}});var w="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return w.Promise.wrap(i.e(22).then(i.bind(null,424)))}});var C="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return C.Promise.wrap(i.e(24).then(i.bind(null,425)))}});var S="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return S.Promise.wrap(i.e(25).then(i.bind(null,426)))}});var x="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return x.Promise.wrap(i.e(26).then(i.bind(null,427)))}});var k="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return k.Promise.wrap(i.e(27).then(i.bind(null,428)))}});var O="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return O.Promise.wrap(i.e(28).then(i.bind(null,429)))}});var E="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return E.Promise.wrap(i.e(29).then(i.bind(null,430)))}});var L="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return L.Promise.wrap(i.e(30).then(i.bind(null,431)))}});var D="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"r",extensions:[".r",".rhistory",".rprofile",".rt"],aliases:["R","r"],loader:function(){return D.Promise.wrap(i.e(31).then(i.bind(null,432)))}});var I="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return I.Promise.wrap(i.e(32).then(i.bind(null,433)))}});var N="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return N.Promise.wrap(i.e(33).then(i.bind(null,434)))}});var T="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return T.Promise.wrap(i.e(34).then(i.bind(null,435)))}});var M="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile"],aliases:["Ruby","rb"],loader:function(){return M.Promise.wrap(i.e(35).then(i.bind(null,436)))}});i(208);var A="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return A.Promise.wrap(i.e(37).then(i.bind(null,437)))}});var P="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return P.Promise.wrap(i.e(39).then(i.bind(null,438)))}});var R="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return R.Promise.wrap(i.e(41).then(i.bind(null,439)))}});var F="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return F.Promise.wrap(i.e(42).then(i.bind(null,440)))}});var j="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return j.Promise.wrap(i.e(43).then(i.bind(null,441)))}});i(209);var B="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return B.Promise.wrap(i.e(45).then(i.bind(null,406)))}});var H="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return H.Promise.wrap(i.e(46).then(i.bind(null,442)))}});var W="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return W.Promise.wrap(i.e(47).then(i.bind(null,443)))}});var V="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return V.Promise.wrap(i.e(48).then(i.bind(null,444)))}});var z="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return z.Promise.wrap(i.e(38).then(i.bind(null,445)))}});var U="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"clojure",extensions:[".clj",".clojure"],aliases:["clojure","Clojure"],loader:function(){return U.Promise.wrap(i.e(5).then(i.bind(null,446)))}});var q="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return q.Promise.wrap(i.e(40).then(i.bind(null,447)))}});var K="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return K.Promise.wrap(i.e(23).then(i.bind(null,448)))}});var G="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return G.Promise.wrap(i.e(3).then(i.bind(null,449)))}});var Y="undefined"==typeof monaco?self.monaco:monaco;Object(n.a)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return Y.Promise.wrap(i.e(2).then(i.bind(null,450)))}})},,,,,,,,function(t,f,g){"use strict";(function(n){g.d(f,"a",function(){return s}),g.d(f,"b",function(){return e}),g.d(f,"c",function(){return h});var c=g(25),d=g(66),i=g(232),o=g(187),r=3,s=(t.prototype._invokeClient=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.getStackTop();o&&o.client&&o.client[t]&&(e=o.client)[t].apply(e,c.d(i,[o.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t},t.prototype.pushScope=function(){var t=this.getStack(),e=0<t.length?t[t.length-1].scope:void 0,i=o.a.clone(e);return this.getStack().push({client:this.getClient(),scope:i}),i},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var i=this._lastEventId=Object(d.k)(),n=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}n={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,c.a({},n,{event_id:i})),i},t.prototype.captureMessage=function(t,e,i){var n=this._lastEventId=Object(d.k)(),o=i;if(!i){var r=void 0;try{throw new Error(t)}catch(t){r=t}o={originalException:t,syntheticException:r}}return this._invokeClient("captureMessage",t,e,c.a({},o,{event_id:n})),n},t.prototype.captureEvent=function(t,e){var i=this._lastEventId=Object(d.k)();return this._invokeClient("captureEvent",t,c.a({},e,{event_id:i})),i},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var i=this.getStackTop();if(i.scope&&i.client){var n=i.client.getOptions&&i.client.getOptions()||{},o=n.beforeBreadcrumb,r=void 0===o?null:o,s=n.maxBreadcrumbs,a=void 0===s?30:s;if(!(a<=0)){var l=(new Date).getTime()/1e3,u=c.a({timestamp:l},t),h=r?Object(d.c)(function(){return r(u,e)}):u;null!==h&&i.scope.addBreadcrumb(h,Math.min(a,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var i=this.getStackTop();i.scope&&i.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var i=this.getStackTop();i.scope&&i.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var i=this.getStackTop();i.scope&&i.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=l(this);try{t(this)}finally{l(e)}},t.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return i.a.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.traceHeaders=function(){var t=this.getStackTop();if(t.scope&&t.client){var e=t.scope.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}},t);function t(t,e,i){void 0===e&&(e=new o.a),void 0===i&&(i=r),this._version=i,this._stack=[],this._stack.push({client:t,scope:e})}function a(){var t=Object(d.f)();return t.__SENTRY__=t.__SENTRY__||{hub:void 0},t}function l(t){var e=a(),i=h(e);return p(e,t),i}function e(){var t=a();return u(t)&&!h(t).isOlderThan(r)||p(t,new s),Object(d.i)()?function(e){try{var t=Object(d.d)(n,"domain").active;if(!t)return h(e);if(!u(t)||h(t).isOlderThan(r)){var i=h(e).getStackTop();p(t,new s(i.client,o.a.clone(i.scope)))}return h(t)}catch(t){return h(e)}}(t):h(t)}function u(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function h(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new s),t.__SENTRY__.hub}function p(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}}).call(this,g(249)(t))}]);
//# sourceMappingURL=main.dce107a3cad995fa15a8.js.map